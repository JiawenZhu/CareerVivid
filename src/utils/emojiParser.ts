
// Map of WeChat/common IM style text codes to Unicode Emojis
const EMOJI_MAP: Record<string, string> = {
    '[Party]': 'ðŸŽ‰',
    '[Smile]': 'ðŸ™‚',
    '[Grimace]': 'ðŸ˜¬',
    '[Drool]': 'ðŸ¤¤',
    '[Scowl]': 'ðŸ˜ ',
    '[CoolGuy]': 'ðŸ˜Ž',
    '[Sob]': 'ðŸ˜­',
    '[Shy]': 'ðŸ˜³',
    '[Silent]': 'ðŸ˜¶',
    '[Sleep]': 'ðŸ˜´',
    '[Cry]': 'ðŸ˜¢',
    '[Awkward]': 'ðŸ˜…',
    '[Angry]': 'ðŸ˜¡',
    '[Tongue]': 'nP',
    '[Grin]': 'ðŸ˜',
    '[Surprise]': 'ðŸ˜®',
    '[Frown]': 'â˜¹ï¸',
    '[Ruthless]': 'ðŸ˜ˆ',
    '[Blush]': 'ðŸ˜Š',
    '[Scream]': 'ðŸ˜±',
    '[Puke]': 'ðŸ¤®',
    '[Chuckle]': 'ðŸ¤­',
    '[Joyful]': 'ðŸ˜‚',
    '[Slight]': 'ðŸ™‚',
    '[Smug]': 'ðŸ˜',
    '[Hungry]': 'ðŸ˜‹',
    '[Drowsy]': 'ðŸ˜ª',
    '[Panic]': 'ðŸ˜°',
    '[Sweat]': 'ðŸ˜“',
    '[Laugh]': 'ðŸ˜†',
    '[Commando]': 'ðŸ«¡',
    '[Determined]': 'ðŸ˜¤',
    '[Scold]': 'ðŸ¤¬',
    '[Shocked]': 'ðŸ˜²',
    '[Shhh]': 'ðŸ¤«',
    '[Dizzy]': 'ðŸ˜µ',
    '[Tormented]': 'ðŸ˜£',
    '[Toasted]': 'ðŸ¥µ',
    '[Skull]': 'ðŸ’€',
    '[Hammer]': 'ðŸ”¨',
    '[Wave]': 'ðŸ‘‹',
    '[Speechless]': 'ðŸ˜¶',
    '[NosePick]': 'ðŸ¤¥',
    '[Clap]': 'ðŸ‘',
    '[Shame]': 'ðŸ˜“',
    '[Trick]': 'ðŸ˜œ',
    '[Bahï¼L]': 'ðŸ‘Ž',
    '[Bahï¼R]': 'ðŸ‘Ž',
    '[Yawn]': 'ðŸ¥±',
    '[Pooh-pooh]': 'ðŸ’©',
    '[Shrunken]': 'ðŸ˜£',
    '[TearingUp]': 'ðŸ¥¹',
    '[Sly]': 'ðŸ˜¼',
    '[Kiss]': 'Mw',
    '[Wrath]': 'ðŸ’¢',
    '[Whimper]': 'ðŸ¥º',
    '[Cleaver]': 'ðŸ”ª',
    '[Watermelon]': 'ðŸ‰',
    '[Beer]': 'ðŸº',
    '[Basketball]': 'ðŸ€',
    '[PingPong]': 'ðŸ“',
    '[Coffee]': 'â˜•',
    '[Rice]': 'ðŸš',
    '[Pig]': 'ðŸ·',
    '[Rose]': 'ðŸŒ¹',
    '[Wilt]': 'ðŸ¥€',
    '[Lips]': 'ðŸ‘„',
    '[Heart]': 'â¤ï¸',
    '[BrokenHeart]': 'ðŸ’”',
    '[Cake]': 'ðŸŽ‚',
    '[Lightning]': 'âš¡',
    '[Bomb]': 'ðŸ’£',
    '[Dagger]': 'ðŸ—¡ï¸',
    '[Football]': 'âš½',
    '[Ladybug]': 'ðŸž',
    '[Poop]': 'ðŸ’©',
    '[Moon]': 'ðŸŒ™',
    '[Sun]': 'â˜€ï¸',
    '[Gift]': 'ðŸŽ',
    '[Hug]': 'ðŸ¤—',
    '[Strong]': 'ðŸ’ª',
    '[Weak]': 'ðŸ¥€',
    '[Shake]': 'ðŸ¤',
    '[Victory]': 'âœŒï¸',
    '[Admire]': 'ðŸ˜',
    '[Seduce]': 'ðŸ˜˜',
    '[Handshake]': 'ðŸ¤',
    '[Hamster]': 'ðŸ¹',
    '[RightHum]': 'å“¼',
    '[LeftHum]': 'å“¼',
    '[Ok]': 'ðŸ‘Œ',
    '[No]': 'ðŸ™…',
    '[Jump]': 'ðŸ’ƒ',
    '[Tremble]': 'ðŸ¥¶',
    '[Love]': 'ðŸ«¶',
    '[HighFive]': 'ðŸ™Œ',
    '[Circle]': 'â­•',
    '[Kotow]': 'ðŸ™‡',
    '[Turn]': 'å›žå¤´',
    '[Skip]': 'è·³ç»³',
    '[Facepalm]': 'ðŸ¤¦',
    '[Hey]': 'ðŸ™‹',
    '[Smart]': 'ðŸ¤“',
    '[Spec]': 'ðŸ•¶ï¸'
};

/**
 * Parses a string and replaces known [Code] blocks with Unicode Emojis.
 * Useful for displaying text from systems (like WeChat) that use bracket codes.
 */
export const parseTextWithEmojis = (text: string): string => {
    if (!text) return '';

    // Create a regular expression based on the keys
    // We escape the brackets for the regex
    return text.replace(/\[[^\]]+\]/g, (match) => {
        return EMOJI_MAP[match] || match;
    });
};
