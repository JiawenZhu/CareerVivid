const __vite__mapDeps=(i,m=__vite__mapDeps,d=(m.f||(m.f=["assets/Dashboard-DsAUy1wt.js","assets/useResumes-B7mK0cuD.js","assets/useJobHistory-EOzqIq_m.js","assets/KanbanBoard-C_B16urf.js","assets/types-C3IBSKjb.js","assets/geminiService-BYmLfnZm.js","assets/ConfirmationModal-B6wF7Rbq.js","assets/index-DcFGchuU.js","assets/x-BVB0Dpji.js","assets/alert-triangle-MW47iQO1.js","assets/useAICreditCheck-BMgBfCvH.js","assets/zap-BQ5sSLdF.js","assets/check-B3yF-HgQ.js","assets/useTranslation-B90S8UVY.js","assets/volume-2-CWjJsluY.js","assets/square-C379bsky.js","assets/trash-2-DdUTv7KT.js","assets/wand-2-DAhyBf_Z.js","assets/arrow-right-6YPb1yqF.js","assets/check-circle-D957SXgC.js","assets/x-circle-CxMxRQAw.js","assets/chevron-down-Ca9bpypi.js","assets/play-DVOSIuGe.js","assets/useJobTracker-Dx1sdM-d.js","assets/ThemeToggle-BBy-4iWl.js","assets/sun-g71IOdRO.js","assets/index-JvRjm1I4.js","assets/InlineEdit-DZd6Scr2.js","assets/pen-BDBs_6MJ.js","assets/lock-U6skUTSX.js","assets/external-link-neXkVJuu.js","assets/mail-TURoK-Rd.js","assets/globe-cx_xjewK.js","assets/download-D6SFpw_f.js","assets/map-pin-DPpu8ZWV.js","assets/users-DagC7-ml.js","assets/eye-Ks_VpovG.js","assets/trending-up-D0rHZCji.js","assets/music-CD4LfeBt.js","assets/share-2-5k-1k_RB.js","assets/terminal-gy7eb2-N.js","assets/code-ClBPHmQt.js","assets/cardTemplates-B0OrrjBc.js","assets/stockPhotos-DkxhX0el.js","assets/smartphone-Bs9I7iS9.js","assets/layout-grid-PVPD0WxJ.js","assets/youtube-DPssPfR1.js","assets/twitter-BrsgoJMC.js","assets/linkedin-DJ3yEV_I.js","assets/award-BNfQ991F.js","assets/activity-K-54Ez0K.js","assets/calendar-CutJ-oMs.js","assets/graduation-cap-e9Lh-ZpC.js","assets/alert-circle-C27T-kzG.js","assets/undo-kci31eRs.js","assets/arrow-left-TCHtPuDE.js","assets/bar-chart-3-C3Jx8ryh.js","assets/bar-chart-Cxzz4oii.js","assets/bot-DSb0l_Gf.js","assets/building-2-CIHjYkPv.js","assets/check-circle-2-34LvQiKB.js","assets/chevron-left-BjtlRDE1.js","assets/chevron-up-CiErZQw3.js","assets/clock-D1CHQ9zP.js","assets/code-2-Dkc7GTNQ.js","assets/copy-Ctg5viPO.js","assets/credit-card-NEFea8JW.js","assets/confetti.module-DVGOVhuI.js","assets/dollar-sign-DzNdP9uA.js","assets/eye-off-BT8a98df.js","assets/file-code-uG6uZ0_e.js","assets/file-question-CnSMxmzP.js","assets/gift-DBAgIoc1.js","assets/help-circle-BUBwBwEx.js","assets/image-D5NNOkEx.js","assets/info-DhHZJmFp.js","assets/key-round-Bi0Etawh.js","assets/layout-dashboard-ByEmL4ZA.js","assets/layout-template-Cb8aid89.js","assets/link-BhQT70ww.js","assets/log-out-N5sficnl.js","assets/mail-check-Ca-XmVtE.js","assets/volume-x-DOVC_tw9.js","assets/menu-DdXwCEL7.js","assets/message-square-B3pLJ_-8.js","assets/monitor-BNQ-AdM8.js","assets/more-vertical-5K-OMTGr.js","assets/store-KdD1zq5_.js","assets/palette-CgeLfhC3.js","assets/pen-tool-CJ0S_gCC.js","assets/percent-B43c6ypi.js","assets/plus-circle-BID7K_rJ.js","assets/refresh-cw-DY32XjOM.js","assets/rocket-Dq-QQe-O.js","assets/save-CJeSVVE0.js","assets/search-81kCQAS9.js","assets/send-B-WXdUxM.js","assets/thumbs-up-DIZO9jd_.js","assets/shield-alert-CR3cD6gc.js","assets/shield-check-XdvqUlmA.js","assets/shield-D8jVxe4m.js","assets/productService-BhTKM8RX.js","assets/sparkles-DKtVAHMK.js","assets/star-DKH07wdV.js","assets/stop-circle-D01e3zZi.js","assets/target-DF6wfNVB.js","assets/unlink-F8-J2xYy.js","assets/upload-cloud-FT8IZRv8.js","assets/upload-B4M7IYxU.js","assets/video-DvvOWLCy.js","assets/stripeService-ByGudE7C.js","assets/index-DZXmDlCI.js","assets/AlertModal-CxmE_u7v.js","assets/index-Chjiymov.js","assets/ShareResumeModal-B2Hplybl.js","assets/sortable.esm-oIT0bQ0I.js","assets/LanguageSelect-Cj0_3R1W.js","assets/ResumePreview-DDWIOQcJ.js","assets/Editor-DCgl5DS6.js","assets/CommentsPanel-DHI6JJrh.js","assets/FeedbackModal-BwqKd_an.js","assets/storageService-aG5r1rUc.js","assets/AIImprovementPanel-O6Hg3bnK.js","assets/AIImageEditModal-DWNIAdtd.js","assets/MonthYearPicker-CwqWivvT.js","assets/ResumeImport-DoWfhXPQ.js","assets/index-C5AMH0Ns.js","assets/pdf.worker.min-BQwZFW_Z.js","assets/index-uJmIn182.js","assets/proxy-C8H8TSmu.js","assets/GenerationHub-DDGKM-Bl.js","assets/careers-BCiR7pDl.js","assets/InterviewStudio-Bx1kTYhQ.js","assets/index-DUexRrDI.js","assets/ProfilePage-DXGC35bE.js","assets/ChatBot-CE136C3v.js","assets/AuthPage-CWf66DXu.js","assets/SignInPage-O32W7OR-.js","assets/SignUpPage-xFvFcViT.js","assets/LandingPage-BUTZaESM.js","assets/PublicHeader-BgARq-LT.js","assets/Footer-Bop7DoXC.js","assets/systemSettingsService-DKcpvguS.js","assets/TechLandingPage-B-HN44WE.js","assets/PricingPage-HympQHTD.js","assets/AdminLoginPage-DXCUezxh.js","assets/AdminPage-_iMv9NEH.js","assets/StrategyDashboard-CwVfOZrB.js","assets/AcademicPartnerDashboard-CmNP6T5e.js","assets/VerifyEmailPage-CUIcwGl5.js","assets/JobTrackerPage-DQlr-q3H.js","assets/DemoPage-Dp_s5mdY.js","assets/PdfPreviewPage-ChoqWqJR.js","assets/ContactPage-HvhbGHMw.js","assets/FAQSection-Dwc7-W0f.js","assets/BlogListPage-CgmNq5VI.js","assets/BlogPostPage-DFSAnBMH.js","assets/PublicResumePage-CHGhDjj8.js","assets/SubscriptionPage-CbnJbk-V.js","assets/PortfolioHub-CHFP2omx.js","assets/PortfolioEditor-LvmIhjKJ.js","assets/IntroOverlay-njhw10VY.js","assets/CommerceDashboard-CS00upNV.js","assets/PortfolioBuilderPage-DRT27Vdo.js","assets/PublicPortfolioPage-8J5g9k2W.js","assets/PartnerLandingPage-Dzy0XWnM.js","assets/CheckoutSummary-VLNpWwk5.js","assets/stitchService-DJrk582I.js","assets/UpcomingDropsFeed-BHnAKj_j.js","assets/BusinessCardPage-C-G7vmf9.js","assets/OrderNfcCardPage-BEzAW9zW.js","assets/AcademicPartnerPage-47wXGWx3.js","assets/BusinessPartnerPage-DyWAWT_P.js","assets/StudentAmbassadorPage-BaCqKgp9.js","assets/PartnerApplicationPage-BNDbfzH8.js","assets/PolicyPage-yopBtaCY.js","assets/TermsOfServicePage-DOwloeTD.js","assets/PrivacyPolicyPage-B4NrCsGv.js","assets/HRPartnerPage-DQIJpiyn.js","assets/BusinessPartnerDashboard-Cf0cPLZS.js","assets/jobService-QTO-nFWC.js","assets/applicationService-D_MP_CVC.js","assets/JobPostingEditor-C8nWzu0z.js","assets/index-CI7WtUHC.js","assets/IntegrationsPage-Dw_sJXTl.js","assets/NotFoundPage-BEllnwxe.js","assets/PermissionDeniedPage-DsR4RR6K.js","assets/ReferralLandingPage-CvsPNdqH.js","assets/ReferralPage-_r5Od8_L.js","assets/BioLinksPage-BGYYFne5.js","assets/ProductPage-DYCpssLW.js","assets/GetMoreReview01-BDMOou3W.js","assets/ServicePortfolioPage-BO09rZhj.js"])))=>i.map(i=>d[i]);
function uT(n,e){for(var t=0;t<e.length;t++){const r=e[t];if(typeof r!="string"&&!Array.isArray(r)){for(const s in r)if(s!=="default"&&!(s in n)){const a=Object.getOwnPropertyDescriptor(r,s);a&&Object.defineProperty(n,s,a.get?a:{enumerable:!0,get:()=>r[s]})}}}return Object.freeze(Object.defineProperty(n,Symbol.toStringTag,{value:"Module"}))}(function(){const e=document.createElement("link").relList;if(e&&e.supports&&e.supports("modulepreload"))return;for(const s of document.querySelectorAll('link[rel="modulepreload"]'))r(s);new MutationObserver(s=>{for(const a of s)if(a.type==="childList")for(const u of a.addedNodes)u.tagName==="LINK"&&u.rel==="modulepreload"&&r(u)}).observe(document,{childList:!0,subtree:!0});function t(s){const a={};return s.integrity&&(a.integrity=s.integrity),s.referrerPolicy&&(a.referrerPolicy=s.referrerPolicy),s.crossOrigin==="use-credentials"?a.credentials="include":s.crossOrigin==="anonymous"?a.credentials="omit":a.credentials="same-origin",a}function r(s){if(s.ep)return;s.ep=!0;const a=t(s);fetch(s.href,a)}})();var Wl=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};function Ia(n){return n&&n.__esModule&&Object.prototype.hasOwnProperty.call(n,"default")?n.default:n}function DU(n){if(Object.prototype.hasOwnProperty.call(n,"__esModule"))return n;var e=n.default;if(typeof e=="function"){var t=function r(){var s=!1;try{s=this instanceof r}catch{}return s?Reflect.construct(e,arguments,this.constructor):e.apply(this,arguments)};t.prototype=e.prototype}else t={};return Object.defineProperty(t,"__esModule",{value:!0}),Object.keys(n).forEach(function(r){var s=Object.getOwnPropertyDescriptor(n,r);Object.defineProperty(t,r,s.get?s:{enumerable:!0,get:function(){return n[r]}})}),t}var np={exports:{}},Cl={},rp={exports:{}},Le={};var av;function vR(){if(av)return Le;av=1;var n=Symbol.for("react.element"),e=Symbol.for("react.portal"),t=Symbol.for("react.fragment"),r=Symbol.for("react.strict_mode"),s=Symbol.for("react.profiler"),a=Symbol.for("react.provider"),u=Symbol.for("react.context"),d=Symbol.for("react.forward_ref"),f=Symbol.for("react.suspense"),m=Symbol.for("react.memo"),g=Symbol.for("react.lazy"),E=Symbol.iterator;function w(V){return V===null||typeof V!="object"?null:(V=E&&V[E]||V["@@iterator"],typeof V=="function"?V:null)}var R={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},M=Object.assign,$={};function B(V,J,Ie){this.props=V,this.context=J,this.refs=$,this.updater=Ie||R}B.prototype.isReactComponent={},B.prototype.setState=function(V,J){if(typeof V!="object"&&typeof V!="function"&&V!=null)throw Error("setState(...): takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,V,J,"setState")},B.prototype.forceUpdate=function(V){this.updater.enqueueForceUpdate(this,V,"forceUpdate")};function te(){}te.prototype=B.prototype;function le(V,J,Ie){this.props=V,this.context=J,this.refs=$,this.updater=Ie||R}var ve=le.prototype=new te;ve.constructor=le,M(ve,B.prototype),ve.isPureReactComponent=!0;var oe=Array.isArray,Te=Object.prototype.hasOwnProperty,pe={current:null},C={key:!0,ref:!0,__self:!0,__source:!0};function S(V,J,Ie){var ke,Ve={},Me=null,Ge=null;if(J!=null)for(ke in J.ref!==void 0&&(Ge=J.ref),J.key!==void 0&&(Me=""+J.key),J)Te.call(J,ke)&&!C.hasOwnProperty(ke)&&(Ve[ke]=J[ke]);var $e=arguments.length-2;if($e===1)Ve.children=Ie;else if(1<$e){for(var Ye=Array($e),en=0;en<$e;en++)Ye[en]=arguments[en+2];Ve.children=Ye}if(V&&V.defaultProps)for(ke in $e=V.defaultProps,$e)Ve[ke]===void 0&&(Ve[ke]=$e[ke]);return{$$typeof:n,type:V,key:Me,ref:Ge,props:Ve,_owner:pe.current}}function k(V,J){return{$$typeof:n,type:V.type,key:J,ref:V.ref,props:V.props,_owner:V._owner}}function D(V){return typeof V=="object"&&V!==null&&V.$$typeof===n}function N(V){var J={"=":"=0",":":"=2"};return"$"+V.replace(/[=:]/g,function(Ie){return J[Ie]})}var O=/\/+/g;function P(V,J){return typeof V=="object"&&V!==null&&V.key!=null?N(""+V.key):J.toString(36)}function Oe(V,J,Ie,ke,Ve){var Me=typeof V;(Me==="undefined"||Me==="boolean")&&(V=null);var Ge=!1;if(V===null)Ge=!0;else switch(Me){case"string":case"number":Ge=!0;break;case"object":switch(V.$$typeof){case n:case e:Ge=!0}}if(Ge)return Ge=V,Ve=Ve(Ge),V=ke===""?"."+P(Ge,0):ke,oe(Ve)?(Ie="",V!=null&&(Ie=V.replace(O,"$&/")+"/"),Oe(Ve,J,Ie,"",function(en){return en})):Ve!=null&&(D(Ve)&&(Ve=k(Ve,Ie+(!Ve.key||Ge&&Ge.key===Ve.key?"":(""+Ve.key).replace(O,"$&/")+"/")+V)),J.push(Ve)),1;if(Ge=0,ke=ke===""?".":ke+":",oe(V))for(var $e=0;$e<V.length;$e++){Me=V[$e];var Ye=ke+P(Me,$e);Ge+=Oe(Me,J,Ie,Ye,Ve)}else if(Ye=w(V),typeof Ye=="function")for(V=Ye.call(V),$e=0;!(Me=V.next()).done;)Me=Me.value,Ye=ke+P(Me,$e++),Ge+=Oe(Me,J,Ie,Ye,Ve);else if(Me==="object")throw J=String(V),Error("Objects are not valid as a React child (found: "+(J==="[object Object]"?"object with keys {"+Object.keys(V).join(", ")+"}":J)+"). If you meant to render a collection of children, use an array instead.");return Ge}function j(V,J,Ie){if(V==null)return V;var ke=[],Ve=0;return Oe(V,ke,"","",function(Me){return J.call(Ie,Me,Ve++)}),ke}function Q(V){if(V._status===-1){var J=V._result;J=J(),J.then(function(Ie){(V._status===0||V._status===-1)&&(V._status=1,V._result=Ie)},function(Ie){(V._status===0||V._status===-1)&&(V._status=2,V._result=Ie)}),V._status===-1&&(V._status=0,V._result=J)}if(V._status===1)return V._result.default;throw V._result}var he={current:null},W={transition:null},ie={ReactCurrentDispatcher:he,ReactCurrentBatchConfig:W,ReactCurrentOwner:pe};function Y(){throw Error("act(...) is not supported in production builds of React.")}return Le.Children={map:j,forEach:function(V,J,Ie){j(V,function(){J.apply(this,arguments)},Ie)},count:function(V){var J=0;return j(V,function(){J++}),J},toArray:function(V){return j(V,function(J){return J})||[]},only:function(V){if(!D(V))throw Error("React.Children.only expected to receive a single React element child.");return V}},Le.Component=B,Le.Fragment=t,Le.Profiler=s,Le.PureComponent=le,Le.StrictMode=r,Le.Suspense=f,Le.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=ie,Le.act=Y,Le.cloneElement=function(V,J,Ie){if(V==null)throw Error("React.cloneElement(...): The argument must be a React element, but you passed "+V+".");var ke=M({},V.props),Ve=V.key,Me=V.ref,Ge=V._owner;if(J!=null){if(J.ref!==void 0&&(Me=J.ref,Ge=pe.current),J.key!==void 0&&(Ve=""+J.key),V.type&&V.type.defaultProps)var $e=V.type.defaultProps;for(Ye in J)Te.call(J,Ye)&&!C.hasOwnProperty(Ye)&&(ke[Ye]=J[Ye]===void 0&&$e!==void 0?$e[Ye]:J[Ye])}var Ye=arguments.length-2;if(Ye===1)ke.children=Ie;else if(1<Ye){$e=Array(Ye);for(var en=0;en<Ye;en++)$e[en]=arguments[en+2];ke.children=$e}return{$$typeof:n,type:V.type,key:Ve,ref:Me,props:ke,_owner:Ge}},Le.createContext=function(V){return V={$$typeof:u,_currentValue:V,_currentValue2:V,_threadCount:0,Provider:null,Consumer:null,_defaultValue:null,_globalName:null},V.Provider={$$typeof:a,_context:V},V.Consumer=V},Le.createElement=S,Le.createFactory=function(V){var J=S.bind(null,V);return J.type=V,J},Le.createRef=function(){return{current:null}},Le.forwardRef=function(V){return{$$typeof:d,render:V}},Le.isValidElement=D,Le.lazy=function(V){return{$$typeof:g,_payload:{_status:-1,_result:V},_init:Q}},Le.memo=function(V,J){return{$$typeof:m,type:V,compare:J===void 0?null:J}},Le.startTransition=function(V){var J=W.transition;W.transition={};try{V()}finally{W.transition=J}},Le.unstable_act=Y,Le.useCallback=function(V,J){return he.current.useCallback(V,J)},Le.useContext=function(V){return he.current.useContext(V)},Le.useDebugValue=function(){},Le.useDeferredValue=function(V){return he.current.useDeferredValue(V)},Le.useEffect=function(V,J){return he.current.useEffect(V,J)},Le.useId=function(){return he.current.useId()},Le.useImperativeHandle=function(V,J,Ie){return he.current.useImperativeHandle(V,J,Ie)},Le.useInsertionEffect=function(V,J){return he.current.useInsertionEffect(V,J)},Le.useLayoutEffect=function(V,J){return he.current.useLayoutEffect(V,J)},Le.useMemo=function(V,J){return he.current.useMemo(V,J)},Le.useReducer=function(V,J,Ie){return he.current.useReducer(V,J,Ie)},Le.useRef=function(V){return he.current.useRef(V)},Le.useState=function(V){return he.current.useState(V)},Le.useSyncExternalStore=function(V,J,Ie){return he.current.useSyncExternalStore(V,J,Ie)},Le.useTransition=function(){return he.current.useTransition()},Le.version="18.3.1",Le}var lv;function Am(){return lv||(lv=1,rp.exports=vR()),rp.exports}var uv;function wR(){if(uv)return Cl;uv=1;var n=Am(),e=Symbol.for("react.element"),t=Symbol.for("react.fragment"),r=Object.prototype.hasOwnProperty,s=n.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED.ReactCurrentOwner,a={key:!0,ref:!0,__self:!0,__source:!0};function u(d,f,m){var g,E={},w=null,R=null;m!==void 0&&(w=""+m),f.key!==void 0&&(w=""+f.key),f.ref!==void 0&&(R=f.ref);for(g in f)r.call(f,g)&&!a.hasOwnProperty(g)&&(E[g]=f[g]);if(d&&d.defaultProps)for(g in f=d.defaultProps,f)E[g]===void 0&&(E[g]=f[g]);return{$$typeof:e,type:d,key:w,ref:R,props:E,_owner:s.current}}return Cl.Fragment=t,Cl.jsx=u,Cl.jsxs=u,Cl}var cv;function ER(){return cv||(cv=1,np.exports=wR()),np.exports}var L=ER(),Ee=Am();const ce=Ia(Ee),LU=uT({__proto__:null,default:ce},[Ee]);var Xc={},ip={exports:{}},pn={},sp={exports:{}},op={};var hv;function TR(){return hv||(hv=1,(function(n){function e(W,ie){var Y=W.length;W.push(ie);e:for(;0<Y;){var V=Y-1>>>1,J=W[V];if(0<s(J,ie))W[V]=ie,W[Y]=J,Y=V;else break e}}function t(W){return W.length===0?null:W[0]}function r(W){if(W.length===0)return null;var ie=W[0],Y=W.pop();if(Y!==ie){W[0]=Y;e:for(var V=0,J=W.length,Ie=J>>>1;V<Ie;){var ke=2*(V+1)-1,Ve=W[ke],Me=ke+1,Ge=W[Me];if(0>s(Ve,Y))Me<J&&0>s(Ge,Ve)?(W[V]=Ge,W[Me]=Y,V=Me):(W[V]=Ve,W[ke]=Y,V=ke);else if(Me<J&&0>s(Ge,Y))W[V]=Ge,W[Me]=Y,V=Me;else break e}}return ie}function s(W,ie){var Y=W.sortIndex-ie.sortIndex;return Y!==0?Y:W.id-ie.id}if(typeof performance=="object"&&typeof performance.now=="function"){var a=performance;n.unstable_now=function(){return a.now()}}else{var u=Date,d=u.now();n.unstable_now=function(){return u.now()-d}}var f=[],m=[],g=1,E=null,w=3,R=!1,M=!1,$=!1,B=typeof setTimeout=="function"?setTimeout:null,te=typeof clearTimeout=="function"?clearTimeout:null,le=typeof setImmediate<"u"?setImmediate:null;typeof navigator<"u"&&navigator.scheduling!==void 0&&navigator.scheduling.isInputPending!==void 0&&navigator.scheduling.isInputPending.bind(navigator.scheduling);function ve(W){for(var ie=t(m);ie!==null;){if(ie.callback===null)r(m);else if(ie.startTime<=W)r(m),ie.sortIndex=ie.expirationTime,e(f,ie);else break;ie=t(m)}}function oe(W){if($=!1,ve(W),!M)if(t(f)!==null)M=!0,Q(Te);else{var ie=t(m);ie!==null&&he(oe,ie.startTime-W)}}function Te(W,ie){M=!1,$&&($=!1,te(S),S=-1),R=!0;var Y=w;try{for(ve(ie),E=t(f);E!==null&&(!(E.expirationTime>ie)||W&&!N());){var V=E.callback;if(typeof V=="function"){E.callback=null,w=E.priorityLevel;var J=V(E.expirationTime<=ie);ie=n.unstable_now(),typeof J=="function"?E.callback=J:E===t(f)&&r(f),ve(ie)}else r(f);E=t(f)}if(E!==null)var Ie=!0;else{var ke=t(m);ke!==null&&he(oe,ke.startTime-ie),Ie=!1}return Ie}finally{E=null,w=Y,R=!1}}var pe=!1,C=null,S=-1,k=5,D=-1;function N(){return!(n.unstable_now()-D<k)}function O(){if(C!==null){var W=n.unstable_now();D=W;var ie=!0;try{ie=C(!0,W)}finally{ie?P():(pe=!1,C=null)}}else pe=!1}var P;if(typeof le=="function")P=function(){le(O)};else if(typeof MessageChannel<"u"){var Oe=new MessageChannel,j=Oe.port2;Oe.port1.onmessage=O,P=function(){j.postMessage(null)}}else P=function(){B(O,0)};function Q(W){C=W,pe||(pe=!0,P())}function he(W,ie){S=B(function(){W(n.unstable_now())},ie)}n.unstable_IdlePriority=5,n.unstable_ImmediatePriority=1,n.unstable_LowPriority=4,n.unstable_NormalPriority=3,n.unstable_Profiling=null,n.unstable_UserBlockingPriority=2,n.unstable_cancelCallback=function(W){W.callback=null},n.unstable_continueExecution=function(){M||R||(M=!0,Q(Te))},n.unstable_forceFrameRate=function(W){0>W||125<W?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):k=0<W?Math.floor(1e3/W):5},n.unstable_getCurrentPriorityLevel=function(){return w},n.unstable_getFirstCallbackNode=function(){return t(f)},n.unstable_next=function(W){switch(w){case 1:case 2:case 3:var ie=3;break;default:ie=w}var Y=w;w=ie;try{return W()}finally{w=Y}},n.unstable_pauseExecution=function(){},n.unstable_requestPaint=function(){},n.unstable_runWithPriority=function(W,ie){switch(W){case 1:case 2:case 3:case 4:case 5:break;default:W=3}var Y=w;w=W;try{return ie()}finally{w=Y}},n.unstable_scheduleCallback=function(W,ie,Y){var V=n.unstable_now();switch(typeof Y=="object"&&Y!==null?(Y=Y.delay,Y=typeof Y=="number"&&0<Y?V+Y:V):Y=V,W){case 1:var J=-1;break;case 2:J=250;break;case 5:J=1073741823;break;case 4:J=1e4;break;default:J=5e3}return J=Y+J,W={id:g++,callback:ie,priorityLevel:W,startTime:Y,expirationTime:J,sortIndex:-1},Y>V?(W.sortIndex=Y,e(m,W),t(f)===null&&W===t(m)&&($?(te(S),S=-1):$=!0,he(oe,Y-V))):(W.sortIndex=J,e(f,W),M||R||(M=!0,Q(Te))),W},n.unstable_shouldYield=N,n.unstable_wrapCallback=function(W){var ie=w;return function(){var Y=w;w=ie;try{return W.apply(this,arguments)}finally{w=Y}}}})(op)),op}var dv;function IR(){return dv||(dv=1,sp.exports=TR()),sp.exports}var fv;function SR(){if(fv)return pn;fv=1;var n=Am(),e=IR();function t(i){for(var o="https://reactjs.org/docs/error-decoder.html?invariant="+i,l=1;l<arguments.length;l++)o+="&args[]="+encodeURIComponent(arguments[l]);return"Minified React error #"+i+"; visit "+o+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}var r=new Set,s={};function a(i,o){u(i,o),u(i+"Capture",o)}function u(i,o){for(s[i]=o,i=0;i<o.length;i++)r.add(o[i])}var d=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),f=Object.prototype.hasOwnProperty,m=/^[:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD][:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD\-.0-9\u00B7\u0300-\u036F\u203F-\u2040]*$/,g={},E={};function w(i){return f.call(E,i)?!0:f.call(g,i)?!1:m.test(i)?E[i]=!0:(g[i]=!0,!1)}function R(i,o,l,h){if(l!==null&&l.type===0)return!1;switch(typeof o){case"function":case"symbol":return!0;case"boolean":return h?!1:l!==null?!l.acceptsBooleans:(i=i.toLowerCase().slice(0,5),i!=="data-"&&i!=="aria-");default:return!1}}function M(i,o,l,h){if(o===null||typeof o>"u"||R(i,o,l,h))return!0;if(h)return!1;if(l!==null)switch(l.type){case 3:return!o;case 4:return o===!1;case 5:return isNaN(o);case 6:return isNaN(o)||1>o}return!1}function $(i,o,l,h,p,y,T){this.acceptsBooleans=o===2||o===3||o===4,this.attributeName=h,this.attributeNamespace=p,this.mustUseProperty=l,this.propertyName=i,this.type=o,this.sanitizeURL=y,this.removeEmptyString=T}var B={};"children dangerouslySetInnerHTML defaultValue defaultChecked innerHTML suppressContentEditableWarning suppressHydrationWarning style".split(" ").forEach(function(i){B[i]=new $(i,0,!1,i,null,!1,!1)}),[["acceptCharset","accept-charset"],["className","class"],["htmlFor","for"],["httpEquiv","http-equiv"]].forEach(function(i){var o=i[0];B[o]=new $(o,1,!1,i[1],null,!1,!1)}),["contentEditable","draggable","spellCheck","value"].forEach(function(i){B[i]=new $(i,2,!1,i.toLowerCase(),null,!1,!1)}),["autoReverse","externalResourcesRequired","focusable","preserveAlpha"].forEach(function(i){B[i]=new $(i,2,!1,i,null,!1,!1)}),"allowFullScreen async autoFocus autoPlay controls default defer disabled disablePictureInPicture disableRemotePlayback formNoValidate hidden loop noModule noValidate open playsInline readOnly required reversed scoped seamless itemScope".split(" ").forEach(function(i){B[i]=new $(i,3,!1,i.toLowerCase(),null,!1,!1)}),["checked","multiple","muted","selected"].forEach(function(i){B[i]=new $(i,3,!0,i,null,!1,!1)}),["capture","download"].forEach(function(i){B[i]=new $(i,4,!1,i,null,!1,!1)}),["cols","rows","size","span"].forEach(function(i){B[i]=new $(i,6,!1,i,null,!1,!1)}),["rowSpan","start"].forEach(function(i){B[i]=new $(i,5,!1,i.toLowerCase(),null,!1,!1)});var te=/[\-:]([a-z])/g;function le(i){return i[1].toUpperCase()}"accent-height alignment-baseline arabic-form baseline-shift cap-height clip-path clip-rule color-interpolation color-interpolation-filters color-profile color-rendering dominant-baseline enable-background fill-opacity fill-rule flood-color flood-opacity font-family font-size font-size-adjust font-stretch font-style font-variant font-weight glyph-name glyph-orientation-horizontal glyph-orientation-vertical horiz-adv-x horiz-origin-x image-rendering letter-spacing lighting-color marker-end marker-mid marker-start overline-position overline-thickness paint-order panose-1 pointer-events rendering-intent shape-rendering stop-color stop-opacity strikethrough-position strikethrough-thickness stroke-dasharray stroke-dashoffset stroke-linecap stroke-linejoin stroke-miterlimit stroke-opacity stroke-width text-anchor text-decoration text-rendering underline-position underline-thickness unicode-bidi unicode-range units-per-em v-alphabetic v-hanging v-ideographic v-mathematical vector-effect vert-adv-y vert-origin-x vert-origin-y word-spacing writing-mode xmlns:xlink x-height".split(" ").forEach(function(i){var o=i.replace(te,le);B[o]=new $(o,1,!1,i,null,!1,!1)}),"xlink:actuate xlink:arcrole xlink:role xlink:show xlink:title xlink:type".split(" ").forEach(function(i){var o=i.replace(te,le);B[o]=new $(o,1,!1,i,"http://www.w3.org/1999/xlink",!1,!1)}),["xml:base","xml:lang","xml:space"].forEach(function(i){var o=i.replace(te,le);B[o]=new $(o,1,!1,i,"http://www.w3.org/XML/1998/namespace",!1,!1)}),["tabIndex","crossOrigin"].forEach(function(i){B[i]=new $(i,1,!1,i.toLowerCase(),null,!1,!1)}),B.xlinkHref=new $("xlinkHref",1,!1,"xlink:href","http://www.w3.org/1999/xlink",!0,!1),["src","href","action","formAction"].forEach(function(i){B[i]=new $(i,1,!1,i.toLowerCase(),null,!0,!0)});function ve(i,o,l,h){var p=B.hasOwnProperty(o)?B[o]:null;(p!==null?p.type!==0:h||!(2<o.length)||o[0]!=="o"&&o[0]!=="O"||o[1]!=="n"&&o[1]!=="N")&&(M(o,l,p,h)&&(l=null),h||p===null?w(o)&&(l===null?i.removeAttribute(o):i.setAttribute(o,""+l)):p.mustUseProperty?i[p.propertyName]=l===null?p.type===3?!1:"":l:(o=p.attributeName,h=p.attributeNamespace,l===null?i.removeAttribute(o):(p=p.type,l=p===3||p===4&&l===!0?"":""+l,h?i.setAttributeNS(h,o,l):i.setAttribute(o,l))))}var oe=n.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED,Te=Symbol.for("react.element"),pe=Symbol.for("react.portal"),C=Symbol.for("react.fragment"),S=Symbol.for("react.strict_mode"),k=Symbol.for("react.profiler"),D=Symbol.for("react.provider"),N=Symbol.for("react.context"),O=Symbol.for("react.forward_ref"),P=Symbol.for("react.suspense"),Oe=Symbol.for("react.suspense_list"),j=Symbol.for("react.memo"),Q=Symbol.for("react.lazy"),he=Symbol.for("react.offscreen"),W=Symbol.iterator;function ie(i){return i===null||typeof i!="object"?null:(i=W&&i[W]||i["@@iterator"],typeof i=="function"?i:null)}var Y=Object.assign,V;function J(i){if(V===void 0)try{throw Error()}catch(l){var o=l.stack.trim().match(/\n( *(at )?)/);V=o&&o[1]||""}return`
`+V+i}var Ie=!1;function ke(i,o){if(!i||Ie)return"";Ie=!0;var l=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{if(o)if(o=function(){throw Error()},Object.defineProperty(o.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(o,[])}catch(H){var h=H}Reflect.construct(i,[],o)}else{try{o.call()}catch(H){h=H}i.call(o.prototype)}else{try{throw Error()}catch(H){h=H}i()}}catch(H){if(H&&h&&typeof H.stack=="string"){for(var p=H.stack.split(`
`),y=h.stack.split(`
`),T=p.length-1,A=y.length-1;1<=T&&0<=A&&p[T]!==y[A];)A--;for(;1<=T&&0<=A;T--,A--)if(p[T]!==y[A]){if(T!==1||A!==1)do if(T--,A--,0>A||p[T]!==y[A]){var b=`
`+p[T].replace(" at new "," at ");return i.displayName&&b.includes("<anonymous>")&&(b=b.replace("<anonymous>",i.displayName)),b}while(1<=T&&0<=A);break}}}finally{Ie=!1,Error.prepareStackTrace=l}return(i=i?i.displayName||i.name:"")?J(i):""}function Ve(i){switch(i.tag){case 5:return J(i.type);case 16:return J("Lazy");case 13:return J("Suspense");case 19:return J("SuspenseList");case 0:case 2:case 15:return i=ke(i.type,!1),i;case 11:return i=ke(i.type.render,!1),i;case 1:return i=ke(i.type,!0),i;default:return""}}function Me(i){if(i==null)return null;if(typeof i=="function")return i.displayName||i.name||null;if(typeof i=="string")return i;switch(i){case C:return"Fragment";case pe:return"Portal";case k:return"Profiler";case S:return"StrictMode";case P:return"Suspense";case Oe:return"SuspenseList"}if(typeof i=="object")switch(i.$$typeof){case N:return(i.displayName||"Context")+".Consumer";case D:return(i._context.displayName||"Context")+".Provider";case O:var o=i.render;return i=i.displayName,i||(i=o.displayName||o.name||"",i=i!==""?"ForwardRef("+i+")":"ForwardRef"),i;case j:return o=i.displayName||null,o!==null?o:Me(i.type)||"Memo";case Q:o=i._payload,i=i._init;try{return Me(i(o))}catch{}}return null}function Ge(i){var o=i.type;switch(i.tag){case 24:return"Cache";case 9:return(o.displayName||"Context")+".Consumer";case 10:return(o._context.displayName||"Context")+".Provider";case 18:return"DehydratedFragment";case 11:return i=o.render,i=i.displayName||i.name||"",o.displayName||(i!==""?"ForwardRef("+i+")":"ForwardRef");case 7:return"Fragment";case 5:return o;case 4:return"Portal";case 3:return"Root";case 6:return"Text";case 16:return Me(o);case 8:return o===S?"StrictMode":"Mode";case 22:return"Offscreen";case 12:return"Profiler";case 21:return"Scope";case 13:return"Suspense";case 19:return"SuspenseList";case 25:return"TracingMarker";case 1:case 0:case 17:case 2:case 14:case 15:if(typeof o=="function")return o.displayName||o.name||null;if(typeof o=="string")return o}return null}function $e(i){switch(typeof i){case"boolean":case"number":case"string":case"undefined":return i;case"object":return i;default:return""}}function Ye(i){var o=i.type;return(i=i.nodeName)&&i.toLowerCase()==="input"&&(o==="checkbox"||o==="radio")}function en(i){var o=Ye(i)?"checked":"value",l=Object.getOwnPropertyDescriptor(i.constructor.prototype,o),h=""+i[o];if(!i.hasOwnProperty(o)&&typeof l<"u"&&typeof l.get=="function"&&typeof l.set=="function"){var p=l.get,y=l.set;return Object.defineProperty(i,o,{configurable:!0,get:function(){return p.call(this)},set:function(T){h=""+T,y.call(this,T)}}),Object.defineProperty(i,o,{enumerable:l.enumerable}),{getValue:function(){return h},setValue:function(T){h=""+T},stopTracking:function(){i._valueTracker=null,delete i[o]}}}}function lo(i){i._valueTracker||(i._valueTracker=en(i))}function La(i){if(!i)return!1;var o=i._valueTracker;if(!o)return!0;var l=o.getValue(),h="";return i&&(h=Ye(i)?i.checked?"true":"false":i.value),i=h,i!==l?(o.setValue(i),!0):!1}function yi(i){if(i=i||(typeof document<"u"?document:void 0),typeof i>"u")return null;try{return i.activeElement||i.body}catch{return i.body}}function uo(i,o){var l=o.checked;return Y({},o,{defaultChecked:void 0,defaultValue:void 0,value:void 0,checked:l??i._wrapperState.initialChecked})}function Mu(i,o){var l=o.defaultValue==null?"":o.defaultValue,h=o.checked!=null?o.checked:o.defaultChecked;l=$e(o.value!=null?o.value:l),i._wrapperState={initialChecked:h,initialValue:l,controlled:o.type==="checkbox"||o.type==="radio"?o.checked!=null:o.value!=null}}function co(i,o){o=o.checked,o!=null&&ve(i,"checked",o,!1)}function ps(i,o){co(i,o);var l=$e(o.value),h=o.type;if(l!=null)h==="number"?(l===0&&i.value===""||i.value!=l)&&(i.value=""+l):i.value!==""+l&&(i.value=""+l);else if(h==="submit"||h==="reset"){i.removeAttribute("value");return}o.hasOwnProperty("value")?Tt(i,o.type,l):o.hasOwnProperty("defaultValue")&&Tt(i,o.type,$e(o.defaultValue)),o.checked==null&&o.defaultChecked!=null&&(i.defaultChecked=!!o.defaultChecked)}function Va(i,o,l){if(o.hasOwnProperty("value")||o.hasOwnProperty("defaultValue")){var h=o.type;if(!(h!=="submit"&&h!=="reset"||o.value!==void 0&&o.value!==null))return;o=""+i._wrapperState.initialValue,l||o===i.value||(i.value=o),i.defaultValue=o}l=i.name,l!==""&&(i.name=""),i.defaultChecked=!!i._wrapperState.initialChecked,l!==""&&(i.name=l)}function Tt(i,o,l){(o!=="number"||yi(i.ownerDocument)!==i)&&(l==null?i.defaultValue=""+i._wrapperState.initialValue:i.defaultValue!==""+l&&(i.defaultValue=""+l))}var _t=Array.isArray;function Wn(i,o,l,h){if(i=i.options,o){o={};for(var p=0;p<l.length;p++)o["$"+l[p]]=!0;for(l=0;l<i.length;l++)p=o.hasOwnProperty("$"+i[l].value),i[l].selected!==p&&(i[l].selected=p),p&&h&&(i[l].defaultSelected=!0)}else{for(l=""+$e(l),o=null,p=0;p<i.length;p++){if(i[p].value===l){i[p].selected=!0,h&&(i[p].defaultSelected=!0);return}o!==null||i[p].disabled||(o=i[p])}o!==null&&(o.selected=!0)}}function Ma(i,o){if(o.dangerouslySetInnerHTML!=null)throw Error(t(91));return Y({},o,{value:void 0,defaultValue:void 0,children:""+i._wrapperState.initialValue})}function Ua(i,o){var l=o.value;if(l==null){if(l=o.children,o=o.defaultValue,l!=null){if(o!=null)throw Error(t(92));if(_t(l)){if(1<l.length)throw Error(t(93));l=l[0]}o=l}o==null&&(o=""),l=o}i._wrapperState={initialValue:$e(l)}}function Uu(i,o){var l=$e(o.value),h=$e(o.defaultValue);l!=null&&(l=""+l,l!==i.value&&(i.value=l),o.defaultValue==null&&i.defaultValue!==l&&(i.defaultValue=l)),h!=null&&(i.defaultValue=""+h)}function _i(i){var o=i.textContent;o===i._wrapperState.initialValue&&o!==""&&o!==null&&(i.value=o)}function Fa(i){switch(i){case"svg":return"http://www.w3.org/2000/svg";case"math":return"http://www.w3.org/1998/Math/MathML";default:return"http://www.w3.org/1999/xhtml"}}function ho(i,o){return i==null||i==="http://www.w3.org/1999/xhtml"?Fa(o):i==="http://www.w3.org/2000/svg"&&o==="foreignObject"?"http://www.w3.org/1999/xhtml":i}var vi,Fu=(function(i){return typeof MSApp<"u"&&MSApp.execUnsafeLocalFunction?function(o,l,h,p){MSApp.execUnsafeLocalFunction(function(){return i(o,l,h,p)})}:i})(function(i,o){if(i.namespaceURI!=="http://www.w3.org/2000/svg"||"innerHTML"in i)i.innerHTML=o;else{for(vi=vi||document.createElement("div"),vi.innerHTML="<svg>"+o.valueOf().toString()+"</svg>",o=vi.firstChild;i.firstChild;)i.removeChild(i.firstChild);for(;o.firstChild;)i.appendChild(o.firstChild)}});function ms(i,o){if(o){var l=i.firstChild;if(l&&l===i.lastChild&&l.nodeType===3){l.nodeValue=o;return}}i.textContent=o}var wi={animationIterationCount:!0,aspectRatio:!0,borderImageOutset:!0,borderImageSlice:!0,borderImageWidth:!0,boxFlex:!0,boxFlexGroup:!0,boxOrdinalGroup:!0,columnCount:!0,columns:!0,flex:!0,flexGrow:!0,flexPositive:!0,flexShrink:!0,flexNegative:!0,flexOrder:!0,gridArea:!0,gridRow:!0,gridRowEnd:!0,gridRowSpan:!0,gridRowStart:!0,gridColumn:!0,gridColumnEnd:!0,gridColumnSpan:!0,gridColumnStart:!0,fontWeight:!0,lineClamp:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,tabSize:!0,widows:!0,zIndex:!0,zoom:!0,fillOpacity:!0,floodOpacity:!0,stopOpacity:!0,strokeDasharray:!0,strokeDashoffset:!0,strokeMiterlimit:!0,strokeOpacity:!0,strokeWidth:!0},ju=["Webkit","ms","Moz","O"];Object.keys(wi).forEach(function(i){ju.forEach(function(o){o=o+i.charAt(0).toUpperCase()+i.substring(1),wi[o]=wi[i]})});function Ei(i,o,l){return o==null||typeof o=="boolean"||o===""?"":l||typeof o!="number"||o===0||wi.hasOwnProperty(i)&&wi[i]?(""+o).trim():o+"px"}function fo(i,o){i=i.style;for(var l in o)if(o.hasOwnProperty(l)){var h=l.indexOf("--")===0,p=Ei(l,o[l],h);l==="float"&&(l="cssFloat"),h?i.setProperty(l,p):i[l]=p}}var ja=Y({menuitem:!0},{area:!0,base:!0,br:!0,col:!0,embed:!0,hr:!0,img:!0,input:!0,keygen:!0,link:!0,meta:!0,param:!0,source:!0,track:!0,wbr:!0});function Gn(i,o){if(o){if(ja[i]&&(o.children!=null||o.dangerouslySetInnerHTML!=null))throw Error(t(137,i));if(o.dangerouslySetInnerHTML!=null){if(o.children!=null)throw Error(t(60));if(typeof o.dangerouslySetInnerHTML!="object"||!("__html"in o.dangerouslySetInnerHTML))throw Error(t(61))}if(o.style!=null&&typeof o.style!="object")throw Error(t(62))}}function po(i,o){if(i.indexOf("-")===-1)return typeof o.is=="string";switch(i){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var Ti=null;function mo(i){return i=i.target||i.srcElement||window,i.correspondingUseElement&&(i=i.correspondingUseElement),i.nodeType===3?i.parentNode:i}var Vr=null,Mr=null,ht=null;function za(i){if(i=pl(i)){if(typeof Vr!="function")throw Error(t(280));var o=i.stateNode;o&&(o=fc(o),Vr(i.stateNode,i.type,o))}}function Ii(i){Mr?ht?ht.push(i):ht=[i]:Mr=i}function Si(){if(Mr){var i=Mr,o=ht;if(ht=Mr=null,za(i),o)for(i=0;i<o.length;i++)za(o[i])}}function zu(i,o){return i(o)}function Bu(){}var ar=!1;function $u(i,o,l){if(ar)return i(o,l);ar=!0;try{return zu(i,o,l)}finally{ar=!1,(Mr!==null||ht!==null)&&(Bu(),Si())}}function gs(i,o){var l=i.stateNode;if(l===null)return null;var h=fc(l);if(h===null)return null;l=h[o];e:switch(o){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(h=!h.disabled)||(i=i.type,h=!(i==="button"||i==="input"||i==="select"||i==="textarea")),i=!h;break e;default:i=!1}if(i)return null;if(l&&typeof l!="function")throw Error(t(231,o,typeof l));return l}var Ai=!1;if(d)try{var Ri={};Object.defineProperty(Ri,"passive",{get:function(){Ai=!0}}),window.addEventListener("test",Ri,Ri),window.removeEventListener("test",Ri,Ri)}catch{Ai=!1}function Hu(i,o,l,h,p,y,T,A,b){var H=Array.prototype.slice.call(arguments,3);try{o.apply(l,H)}catch(Z){this.onError(Z)}}var Ur=!1,lr=null,go=!1,Dn=null,qu={onError:function(i){Ur=!0,lr=i}};function Wu(i,o,l,h,p,y,T,A,b){Ur=!1,lr=null,Hu.apply(qu,arguments)}function Ba(i,o,l,h,p,y,T,A,b){if(Wu.apply(this,arguments),Ur){if(Ur){var H=lr;Ur=!1,lr=null}else throw Error(t(198));go||(go=!0,Dn=H)}}function Kn(i){var o=i,l=i;if(i.alternate)for(;o.return;)o=o.return;else{i=o;do o=i,(o.flags&4098)!==0&&(l=o.return),i=o.return;while(i)}return o.tag===3?l:null}function $a(i){if(i.tag===13){var o=i.memoizedState;if(o===null&&(i=i.alternate,i!==null&&(o=i.memoizedState)),o!==null)return o.dehydrated}return null}function Gu(i){if(Kn(i)!==i)throw Error(t(188))}function Ku(i){var o=i.alternate;if(!o){if(o=Kn(i),o===null)throw Error(t(188));return o!==i?null:i}for(var l=i,h=o;;){var p=l.return;if(p===null)break;var y=p.alternate;if(y===null){if(h=p.return,h!==null){l=h;continue}break}if(p.child===y.child){for(y=p.child;y;){if(y===l)return Gu(p),i;if(y===h)return Gu(p),o;y=y.sibling}throw Error(t(188))}if(l.return!==h.return)l=p,h=y;else{for(var T=!1,A=p.child;A;){if(A===l){T=!0,l=p,h=y;break}if(A===h){T=!0,h=p,l=y;break}A=A.sibling}if(!T){for(A=y.child;A;){if(A===l){T=!0,l=y,h=p;break}if(A===h){T=!0,h=y,l=p;break}A=A.sibling}if(!T)throw Error(t(189))}}if(l.alternate!==h)throw Error(t(190))}if(l.tag!==3)throw Error(t(188));return l.stateNode.current===l?i:o}function Qu(i){return i=Ku(i),i!==null?ys(i):null}function ys(i){if(i.tag===5||i.tag===6)return i;for(i=i.child;i!==null;){var o=ys(i);if(o!==null)return o;i=i.sibling}return null}var Ha=e.unstable_scheduleCallback,yo=e.unstable_cancelCallback,_s=e.unstable_shouldYield,Fr=e.unstable_requestPaint,et=e.unstable_now,Od=e.unstable_getCurrentPriorityLevel,_o=e.unstable_ImmediatePriority,qa=e.unstable_UserBlockingPriority,vs=e.unstable_NormalPriority,Wa=e.unstable_LowPriority,vo=e.unstable_IdlePriority,ws=null,wn=null;function Yu(i){if(wn&&typeof wn.onCommitFiberRoot=="function")try{wn.onCommitFiberRoot(ws,i,void 0,(i.current.flags&128)===128)}catch{}}var En=Math.clz32?Math.clz32:Es,ur=Math.log,Ln=Math.LN2;function Es(i){return i>>>=0,i===0?32:31-(ur(i)/Ln|0)|0}var cr=64,Pi=4194304;function We(i){switch(i&-i){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return i&4194240;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return i&130023424;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 1073741824;default:return i}}function jr(i,o){var l=i.pendingLanes;if(l===0)return 0;var h=0,p=i.suspendedLanes,y=i.pingedLanes,T=l&268435455;if(T!==0){var A=T&~p;A!==0?h=We(A):(y&=T,y!==0&&(h=We(y)))}else T=l&~p,T!==0?h=We(T):y!==0&&(h=We(y));if(h===0)return 0;if(o!==0&&o!==h&&(o&p)===0&&(p=h&-h,y=o&-o,p>=y||p===16&&(y&4194240)!==0))return o;if((h&4)!==0&&(h|=l&16),o=i.entangledLanes,o!==0)for(i=i.entanglements,o&=h;0<o;)l=31-En(o),p=1<<l,h|=i[l],o&=~p;return h}function Ts(i,o){switch(i){case 1:case 2:case 4:return o+250;case 8:case 16:case 32:case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return o+5e3;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return-1;case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function Is(i,o){for(var l=i.suspendedLanes,h=i.pingedLanes,p=i.expirationTimes,y=i.pendingLanes;0<y;){var T=31-En(y),A=1<<T,b=p[T];b===-1?((A&l)===0||(A&h)!==0)&&(p[T]=Ts(A,o)):b<=o&&(i.expiredLanes|=A),y&=~A}}function Ga(i){return i=i.pendingLanes&-1073741825,i!==0?i:i&1073741824?1073741824:0}function Ka(){var i=cr;return cr<<=1,(cr&4194240)===0&&(cr=64),i}function Qa(i){for(var o=[],l=0;31>l;l++)o.push(i);return o}function Ss(i,o,l){i.pendingLanes|=o,o!==536870912&&(i.suspendedLanes=0,i.pingedLanes=0),i=i.eventTimes,o=31-En(o),i[o]=l}function xd(i,o){var l=i.pendingLanes&~o;i.pendingLanes=o,i.suspendedLanes=0,i.pingedLanes=0,i.expiredLanes&=o,i.mutableReadLanes&=o,i.entangledLanes&=o,o=i.entanglements;var h=i.eventTimes;for(i=i.expirationTimes;0<l;){var p=31-En(l),y=1<<p;o[p]=0,h[p]=-1,i[p]=-1,l&=~y}}function Ya(i,o){var l=i.entangledLanes|=o;for(i=i.entanglements;l;){var h=31-En(l),p=1<<h;p&o|i[h]&o&&(i[h]|=o),l&=~p}}var ze=0;function hr(i){return i&=-i,1<i?4<i?(i&268435455)!==0?16:536870912:4:1}var Ja,wo,Xa,Za,el,dr=!1,Eo=[],fr=null,pr=null,Mt=null,As=new Map,zr=new Map,Tn=[],Ju="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset submit".split(" ");function ki(i,o){switch(i){case"focusin":case"focusout":fr=null;break;case"dragenter":case"dragleave":pr=null;break;case"mouseover":case"mouseout":Mt=null;break;case"pointerover":case"pointerout":As.delete(o.pointerId);break;case"gotpointercapture":case"lostpointercapture":zr.delete(o.pointerId)}}function Qn(i,o,l,h,p,y){return i===null||i.nativeEvent!==y?(i={blockedOn:o,domEventName:l,eventSystemFlags:h,nativeEvent:y,targetContainers:[p]},o!==null&&(o=pl(o),o!==null&&wo(o)),i):(i.eventSystemFlags|=h,o=i.targetContainers,p!==null&&o.indexOf(p)===-1&&o.push(p),i)}function Xu(i,o,l,h,p){switch(o){case"focusin":return fr=Qn(fr,i,o,l,h,p),!0;case"dragenter":return pr=Qn(pr,i,o,l,h,p),!0;case"mouseover":return Mt=Qn(Mt,i,o,l,h,p),!0;case"pointerover":var y=p.pointerId;return As.set(y,Qn(As.get(y)||null,i,o,l,h,p)),!0;case"gotpointercapture":return y=p.pointerId,zr.set(y,Qn(zr.get(y)||null,i,o,l,h,p)),!0}return!1}function To(i){var o=Cs(i.target);if(o!==null){var l=Kn(o);if(l!==null){if(o=l.tag,o===13){if(o=$a(l),o!==null){i.blockedOn=o,el(i.priority,function(){Xa(l)});return}}else if(o===3&&l.stateNode.current.memoizedState.isDehydrated){i.blockedOn=l.tag===3?l.stateNode.containerInfo:null;return}}}i.blockedOn=null}function Je(i){if(i.blockedOn!==null)return!1;for(var o=i.targetContainers;0<o.length;){var l=Io(i.domEventName,i.eventSystemFlags,o[0],i.nativeEvent);if(l===null){l=i.nativeEvent;var h=new l.constructor(l.type,l);Ti=h,l.target.dispatchEvent(h),Ti=null}else return o=pl(l),o!==null&&wo(o),i.blockedOn=l,!1;o.shift()}return!0}function Zu(i,o,l){Je(i)&&l.delete(o)}function Dd(){dr=!1,fr!==null&&Je(fr)&&(fr=null),pr!==null&&Je(pr)&&(pr=null),Mt!==null&&Je(Mt)&&(Mt=null),As.forEach(Zu),zr.forEach(Zu)}function Ci(i,o){i.blockedOn===o&&(i.blockedOn=null,dr||(dr=!0,e.unstable_scheduleCallback(e.unstable_NormalPriority,Dd)))}function bi(i){function o(p){return Ci(p,i)}if(0<Eo.length){Ci(Eo[0],i);for(var l=1;l<Eo.length;l++){var h=Eo[l];h.blockedOn===i&&(h.blockedOn=null)}}for(fr!==null&&Ci(fr,i),pr!==null&&Ci(pr,i),Mt!==null&&Ci(Mt,i),As.forEach(o),zr.forEach(o),l=0;l<Tn.length;l++)h=Tn[l],h.blockedOn===i&&(h.blockedOn=null);for(;0<Tn.length&&(l=Tn[0],l.blockedOn===null);)To(l),l.blockedOn===null&&Tn.shift()}var Br=oe.ReactCurrentBatchConfig,$r=!0;function mr(i,o,l,h){var p=ze,y=Br.transition;Br.transition=null;try{ze=1,tl(i,o,l,h)}finally{ze=p,Br.transition=y}}function ec(i,o,l,h){var p=ze,y=Br.transition;Br.transition=null;try{ze=4,tl(i,o,l,h)}finally{ze=p,Br.transition=y}}function tl(i,o,l,h){if($r){var p=Io(i,o,l,h);if(p===null)qd(i,o,h,gr,l),ki(i,h);else if(Xu(p,i,o,l,h))h.stopPropagation();else if(ki(i,h),o&4&&-1<Ju.indexOf(i)){for(;p!==null;){var y=pl(p);if(y!==null&&Ja(y),y=Io(i,o,l,h),y===null&&qd(i,o,h,gr,l),y===p)break;p=y}p!==null&&h.stopPropagation()}else qd(i,o,h,null,l)}}var gr=null;function Io(i,o,l,h){if(gr=null,i=mo(h),i=Cs(i),i!==null)if(o=Kn(i),o===null)i=null;else if(l=o.tag,l===13){if(i=$a(o),i!==null)return i;i=null}else if(l===3){if(o.stateNode.current.memoizedState.isDehydrated)return o.tag===3?o.stateNode.containerInfo:null;i=null}else o!==i&&(i=null);return gr=i,null}function So(i){switch(i){case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 1;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"toggle":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 4;case"message":switch(Od()){case _o:return 1;case qa:return 4;case vs:case Wa:return 16;case vo:return 536870912;default:return 16}default:return 16}}var In=null,Ao=null,Hr=null;function tc(){if(Hr)return Hr;var i,o=Ao,l=o.length,h,p="value"in In?In.value:In.textContent,y=p.length;for(i=0;i<l&&o[i]===p[i];i++);var T=l-i;for(h=1;h<=T&&o[l-h]===p[y-h];h++);return Hr=p.slice(i,1<h?1-h:void 0)}function Rs(i){var o=i.keyCode;return"charCode"in i?(i=i.charCode,i===0&&o===13&&(i=13)):i=o,i===10&&(i=13),32<=i||i===13?i:0}function yr(){return!0}function nl(){return!1}function Ht(i){function o(l,h,p,y,T){this._reactName=l,this._targetInst=p,this.type=h,this.nativeEvent=y,this.target=T,this.currentTarget=null;for(var A in i)i.hasOwnProperty(A)&&(l=i[A],this[A]=l?l(y):y[A]);return this.isDefaultPrevented=(y.defaultPrevented!=null?y.defaultPrevented:y.returnValue===!1)?yr:nl,this.isPropagationStopped=nl,this}return Y(o.prototype,{preventDefault:function(){this.defaultPrevented=!0;var l=this.nativeEvent;l&&(l.preventDefault?l.preventDefault():typeof l.returnValue!="unknown"&&(l.returnValue=!1),this.isDefaultPrevented=yr)},stopPropagation:function(){var l=this.nativeEvent;l&&(l.stopPropagation?l.stopPropagation():typeof l.cancelBubble!="unknown"&&(l.cancelBubble=!0),this.isPropagationStopped=yr)},persist:function(){},isPersistent:yr}),o}var _r={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(i){return i.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},Ps=Ht(_r),Ni=Y({},_r,{view:0,detail:0}),Ro=Ht(Ni),Po,ko,Sn,ks=Y({},Ni,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:xe,button:0,buttons:0,relatedTarget:function(i){return i.relatedTarget===void 0?i.fromElement===i.srcElement?i.toElement:i.fromElement:i.relatedTarget},movementX:function(i){return"movementX"in i?i.movementX:(i!==Sn&&(Sn&&i.type==="mousemove"?(Po=i.screenX-Sn.screenX,ko=i.screenY-Sn.screenY):ko=Po=0,Sn=i),Po)},movementY:function(i){return"movementY"in i?i.movementY:ko}}),rl=Ht(ks),nc=Y({},ks,{dataTransfer:0}),rc=Ht(nc),Co=Y({},Ni,{relatedTarget:0}),Ut=Ht(Co),ic=Y({},_r,{animationName:0,elapsedTime:0,pseudoElement:0}),sc=Ht(ic),Oi=Y({},_r,{clipboardData:function(i){return"clipboardData"in i?i.clipboardData:window.clipboardData}}),c=Ht(Oi),_=Y({},_r,{data:0}),v=Ht(_),I={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},F={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},q={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function se(i){var o=this.nativeEvent;return o.getModifierState?o.getModifierState(i):(i=q[i])?!!o[i]:!1}function xe(){return se}var vt=Y({},Ni,{key:function(i){if(i.key){var o=I[i.key]||i.key;if(o!=="Unidentified")return o}return i.type==="keypress"?(i=Rs(i),i===13?"Enter":String.fromCharCode(i)):i.type==="keydown"||i.type==="keyup"?F[i.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:xe,charCode:function(i){return i.type==="keypress"?Rs(i):0},keyCode:function(i){return i.type==="keydown"||i.type==="keyup"?i.keyCode:0},which:function(i){return i.type==="keypress"?Rs(i):i.type==="keydown"||i.type==="keyup"?i.keyCode:0}}),Qe=Ht(vt),It=Y({},ks,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),An=Ht(It),qr=Y({},Ni,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:xe}),vr=Ht(qr),wr=Y({},_r,{propertyName:0,elapsedTime:0,pseudoElement:0}),bo=Ht(wr),il=Y({},ks,{deltaX:function(i){return"deltaX"in i?i.deltaX:"wheelDeltaX"in i?-i.wheelDeltaX:0},deltaY:function(i){return"deltaY"in i?i.deltaY:"wheelDeltaY"in i?-i.wheelDeltaY:"wheelDelta"in i?-i.wheelDelta:0},deltaZ:0,deltaMode:0}),fA=Ht(il),pA=[9,13,27,32],Ld=d&&"CompositionEvent"in window,sl=null;d&&"documentMode"in document&&(sl=document.documentMode);var mA=d&&"TextEvent"in window&&!sl,Zg=d&&(!Ld||sl&&8<sl&&11>=sl),ey=" ",ty=!1;function ny(i,o){switch(i){case"keyup":return pA.indexOf(o.keyCode)!==-1;case"keydown":return o.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function ry(i){return i=i.detail,typeof i=="object"&&"data"in i?i.data:null}var No=!1;function gA(i,o){switch(i){case"compositionend":return ry(o);case"keypress":return o.which!==32?null:(ty=!0,ey);case"textInput":return i=o.data,i===ey&&ty?null:i;default:return null}}function yA(i,o){if(No)return i==="compositionend"||!Ld&&ny(i,o)?(i=tc(),Hr=Ao=In=null,No=!1,i):null;switch(i){case"paste":return null;case"keypress":if(!(o.ctrlKey||o.altKey||o.metaKey)||o.ctrlKey&&o.altKey){if(o.char&&1<o.char.length)return o.char;if(o.which)return String.fromCharCode(o.which)}return null;case"compositionend":return Zg&&o.locale!=="ko"?null:o.data;default:return null}}var _A={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function iy(i){var o=i&&i.nodeName&&i.nodeName.toLowerCase();return o==="input"?!!_A[i.type]:o==="textarea"}function sy(i,o,l,h){Ii(h),o=cc(o,"onChange"),0<o.length&&(l=new Ps("onChange","change",null,l,h),i.push({event:l,listeners:o}))}var ol=null,al=null;function vA(i){Iy(i,0)}function oc(i){var o=Vo(i);if(La(o))return i}function wA(i,o){if(i==="change")return o}var oy=!1;if(d){var Vd;if(d){var Md="oninput"in document;if(!Md){var ay=document.createElement("div");ay.setAttribute("oninput","return;"),Md=typeof ay.oninput=="function"}Vd=Md}else Vd=!1;oy=Vd&&(!document.documentMode||9<document.documentMode)}function ly(){ol&&(ol.detachEvent("onpropertychange",uy),al=ol=null)}function uy(i){if(i.propertyName==="value"&&oc(al)){var o=[];sy(o,al,i,mo(i)),$u(vA,o)}}function EA(i,o,l){i==="focusin"?(ly(),ol=o,al=l,ol.attachEvent("onpropertychange",uy)):i==="focusout"&&ly()}function TA(i){if(i==="selectionchange"||i==="keyup"||i==="keydown")return oc(al)}function IA(i,o){if(i==="click")return oc(o)}function SA(i,o){if(i==="input"||i==="change")return oc(o)}function AA(i,o){return i===o&&(i!==0||1/i===1/o)||i!==i&&o!==o}var Yn=typeof Object.is=="function"?Object.is:AA;function ll(i,o){if(Yn(i,o))return!0;if(typeof i!="object"||i===null||typeof o!="object"||o===null)return!1;var l=Object.keys(i),h=Object.keys(o);if(l.length!==h.length)return!1;for(h=0;h<l.length;h++){var p=l[h];if(!f.call(o,p)||!Yn(i[p],o[p]))return!1}return!0}function cy(i){for(;i&&i.firstChild;)i=i.firstChild;return i}function hy(i,o){var l=cy(i);i=0;for(var h;l;){if(l.nodeType===3){if(h=i+l.textContent.length,i<=o&&h>=o)return{node:l,offset:o-i};i=h}e:{for(;l;){if(l.nextSibling){l=l.nextSibling;break e}l=l.parentNode}l=void 0}l=cy(l)}}function dy(i,o){return i&&o?i===o?!0:i&&i.nodeType===3?!1:o&&o.nodeType===3?dy(i,o.parentNode):"contains"in i?i.contains(o):i.compareDocumentPosition?!!(i.compareDocumentPosition(o)&16):!1:!1}function fy(){for(var i=window,o=yi();o instanceof i.HTMLIFrameElement;){try{var l=typeof o.contentWindow.location.href=="string"}catch{l=!1}if(l)i=o.contentWindow;else break;o=yi(i.document)}return o}function Ud(i){var o=i&&i.nodeName&&i.nodeName.toLowerCase();return o&&(o==="input"&&(i.type==="text"||i.type==="search"||i.type==="tel"||i.type==="url"||i.type==="password")||o==="textarea"||i.contentEditable==="true")}function RA(i){var o=fy(),l=i.focusedElem,h=i.selectionRange;if(o!==l&&l&&l.ownerDocument&&dy(l.ownerDocument.documentElement,l)){if(h!==null&&Ud(l)){if(o=h.start,i=h.end,i===void 0&&(i=o),"selectionStart"in l)l.selectionStart=o,l.selectionEnd=Math.min(i,l.value.length);else if(i=(o=l.ownerDocument||document)&&o.defaultView||window,i.getSelection){i=i.getSelection();var p=l.textContent.length,y=Math.min(h.start,p);h=h.end===void 0?y:Math.min(h.end,p),!i.extend&&y>h&&(p=h,h=y,y=p),p=hy(l,y);var T=hy(l,h);p&&T&&(i.rangeCount!==1||i.anchorNode!==p.node||i.anchorOffset!==p.offset||i.focusNode!==T.node||i.focusOffset!==T.offset)&&(o=o.createRange(),o.setStart(p.node,p.offset),i.removeAllRanges(),y>h?(i.addRange(o),i.extend(T.node,T.offset)):(o.setEnd(T.node,T.offset),i.addRange(o)))}}for(o=[],i=l;i=i.parentNode;)i.nodeType===1&&o.push({element:i,left:i.scrollLeft,top:i.scrollTop});for(typeof l.focus=="function"&&l.focus(),l=0;l<o.length;l++)i=o[l],i.element.scrollLeft=i.left,i.element.scrollTop=i.top}}var PA=d&&"documentMode"in document&&11>=document.documentMode,Oo=null,Fd=null,ul=null,jd=!1;function py(i,o,l){var h=l.window===l?l.document:l.nodeType===9?l:l.ownerDocument;jd||Oo==null||Oo!==yi(h)||(h=Oo,"selectionStart"in h&&Ud(h)?h={start:h.selectionStart,end:h.selectionEnd}:(h=(h.ownerDocument&&h.ownerDocument.defaultView||window).getSelection(),h={anchorNode:h.anchorNode,anchorOffset:h.anchorOffset,focusNode:h.focusNode,focusOffset:h.focusOffset}),ul&&ll(ul,h)||(ul=h,h=cc(Fd,"onSelect"),0<h.length&&(o=new Ps("onSelect","select",null,o,l),i.push({event:o,listeners:h}),o.target=Oo)))}function ac(i,o){var l={};return l[i.toLowerCase()]=o.toLowerCase(),l["Webkit"+i]="webkit"+o,l["Moz"+i]="moz"+o,l}var xo={animationend:ac("Animation","AnimationEnd"),animationiteration:ac("Animation","AnimationIteration"),animationstart:ac("Animation","AnimationStart"),transitionend:ac("Transition","TransitionEnd")},zd={},my={};d&&(my=document.createElement("div").style,"AnimationEvent"in window||(delete xo.animationend.animation,delete xo.animationiteration.animation,delete xo.animationstart.animation),"TransitionEvent"in window||delete xo.transitionend.transition);function lc(i){if(zd[i])return zd[i];if(!xo[i])return i;var o=xo[i],l;for(l in o)if(o.hasOwnProperty(l)&&l in my)return zd[i]=o[l];return i}var gy=lc("animationend"),yy=lc("animationiteration"),_y=lc("animationstart"),vy=lc("transitionend"),wy=new Map,Ey="abort auxClick cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");function xi(i,o){wy.set(i,o),a(o,[i])}for(var Bd=0;Bd<Ey.length;Bd++){var $d=Ey[Bd],kA=$d.toLowerCase(),CA=$d[0].toUpperCase()+$d.slice(1);xi(kA,"on"+CA)}xi(gy,"onAnimationEnd"),xi(yy,"onAnimationIteration"),xi(_y,"onAnimationStart"),xi("dblclick","onDoubleClick"),xi("focusin","onFocus"),xi("focusout","onBlur"),xi(vy,"onTransitionEnd"),u("onMouseEnter",["mouseout","mouseover"]),u("onMouseLeave",["mouseout","mouseover"]),u("onPointerEnter",["pointerout","pointerover"]),u("onPointerLeave",["pointerout","pointerover"]),a("onChange","change click focusin focusout input keydown keyup selectionchange".split(" ")),a("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" ")),a("onBeforeInput",["compositionend","keypress","textInput","paste"]),a("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" ")),a("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" ")),a("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var cl="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),bA=new Set("cancel close invalid load scroll toggle".split(" ").concat(cl));function Ty(i,o,l){var h=i.type||"unknown-event";i.currentTarget=l,Ba(h,o,void 0,i),i.currentTarget=null}function Iy(i,o){o=(o&4)!==0;for(var l=0;l<i.length;l++){var h=i[l],p=h.event;h=h.listeners;e:{var y=void 0;if(o)for(var T=h.length-1;0<=T;T--){var A=h[T],b=A.instance,H=A.currentTarget;if(A=A.listener,b!==y&&p.isPropagationStopped())break e;Ty(p,A,H),y=b}else for(T=0;T<h.length;T++){if(A=h[T],b=A.instance,H=A.currentTarget,A=A.listener,b!==y&&p.isPropagationStopped())break e;Ty(p,A,H),y=b}}}if(go)throw i=Dn,go=!1,Dn=null,i}function tt(i,o){var l=o[Jd];l===void 0&&(l=o[Jd]=new Set);var h=i+"__bubble";l.has(h)||(Sy(o,i,2,!1),l.add(h))}function Hd(i,o,l){var h=0;o&&(h|=4),Sy(l,i,h,o)}var uc="_reactListening"+Math.random().toString(36).slice(2);function hl(i){if(!i[uc]){i[uc]=!0,r.forEach(function(l){l!=="selectionchange"&&(bA.has(l)||Hd(l,!1,i),Hd(l,!0,i))});var o=i.nodeType===9?i:i.ownerDocument;o===null||o[uc]||(o[uc]=!0,Hd("selectionchange",!1,o))}}function Sy(i,o,l,h){switch(So(o)){case 1:var p=mr;break;case 4:p=ec;break;default:p=tl}l=p.bind(null,o,l,i),p=void 0,!Ai||o!=="touchstart"&&o!=="touchmove"&&o!=="wheel"||(p=!0),h?p!==void 0?i.addEventListener(o,l,{capture:!0,passive:p}):i.addEventListener(o,l,!0):p!==void 0?i.addEventListener(o,l,{passive:p}):i.addEventListener(o,l,!1)}function qd(i,o,l,h,p){var y=h;if((o&1)===0&&(o&2)===0&&h!==null)e:for(;;){if(h===null)return;var T=h.tag;if(T===3||T===4){var A=h.stateNode.containerInfo;if(A===p||A.nodeType===8&&A.parentNode===p)break;if(T===4)for(T=h.return;T!==null;){var b=T.tag;if((b===3||b===4)&&(b=T.stateNode.containerInfo,b===p||b.nodeType===8&&b.parentNode===p))return;T=T.return}for(;A!==null;){if(T=Cs(A),T===null)return;if(b=T.tag,b===5||b===6){h=y=T;continue e}A=A.parentNode}}h=h.return}$u(function(){var H=y,Z=mo(l),ee=[];e:{var X=wy.get(i);if(X!==void 0){var ue=Ps,me=i;switch(i){case"keypress":if(Rs(l)===0)break e;case"keydown":case"keyup":ue=Qe;break;case"focusin":me="focus",ue=Ut;break;case"focusout":me="blur",ue=Ut;break;case"beforeblur":case"afterblur":ue=Ut;break;case"click":if(l.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":ue=rl;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":ue=rc;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":ue=vr;break;case gy:case yy:case _y:ue=sc;break;case vy:ue=bo;break;case"scroll":ue=Ro;break;case"wheel":ue=fA;break;case"copy":case"cut":case"paste":ue=c;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":ue=An}var ye=(o&4)!==0,wt=!ye&&i==="scroll",U=ye?X!==null?X+"Capture":null:X;ye=[];for(var x=H,z;x!==null;){z=x;var re=z.stateNode;if(z.tag===5&&re!==null&&(z=re,U!==null&&(re=gs(x,U),re!=null&&ye.push(dl(x,re,z)))),wt)break;x=x.return}0<ye.length&&(X=new ue(X,me,null,l,Z),ee.push({event:X,listeners:ye}))}}if((o&7)===0){e:{if(X=i==="mouseover"||i==="pointerover",ue=i==="mouseout"||i==="pointerout",X&&l!==Ti&&(me=l.relatedTarget||l.fromElement)&&(Cs(me)||me[Wr]))break e;if((ue||X)&&(X=Z.window===Z?Z:(X=Z.ownerDocument)?X.defaultView||X.parentWindow:window,ue?(me=l.relatedTarget||l.toElement,ue=H,me=me?Cs(me):null,me!==null&&(wt=Kn(me),me!==wt||me.tag!==5&&me.tag!==6)&&(me=null)):(ue=null,me=H),ue!==me)){if(ye=rl,re="onMouseLeave",U="onMouseEnter",x="mouse",(i==="pointerout"||i==="pointerover")&&(ye=An,re="onPointerLeave",U="onPointerEnter",x="pointer"),wt=ue==null?X:Vo(ue),z=me==null?X:Vo(me),X=new ye(re,x+"leave",ue,l,Z),X.target=wt,X.relatedTarget=z,re=null,Cs(Z)===H&&(ye=new ye(U,x+"enter",me,l,Z),ye.target=z,ye.relatedTarget=wt,re=ye),wt=re,ue&&me)t:{for(ye=ue,U=me,x=0,z=ye;z;z=Do(z))x++;for(z=0,re=U;re;re=Do(re))z++;for(;0<x-z;)ye=Do(ye),x--;for(;0<z-x;)U=Do(U),z--;for(;x--;){if(ye===U||U!==null&&ye===U.alternate)break t;ye=Do(ye),U=Do(U)}ye=null}else ye=null;ue!==null&&Ay(ee,X,ue,ye,!1),me!==null&&wt!==null&&Ay(ee,wt,me,ye,!0)}}e:{if(X=H?Vo(H):window,ue=X.nodeName&&X.nodeName.toLowerCase(),ue==="select"||ue==="input"&&X.type==="file")var we=wA;else if(iy(X))if(oy)we=SA;else{we=TA;var Ae=EA}else(ue=X.nodeName)&&ue.toLowerCase()==="input"&&(X.type==="checkbox"||X.type==="radio")&&(we=IA);if(we&&(we=we(i,H))){sy(ee,we,l,Z);break e}Ae&&Ae(i,X,H),i==="focusout"&&(Ae=X._wrapperState)&&Ae.controlled&&X.type==="number"&&Tt(X,"number",X.value)}switch(Ae=H?Vo(H):window,i){case"focusin":(iy(Ae)||Ae.contentEditable==="true")&&(Oo=Ae,Fd=H,ul=null);break;case"focusout":ul=Fd=Oo=null;break;case"mousedown":jd=!0;break;case"contextmenu":case"mouseup":case"dragend":jd=!1,py(ee,l,Z);break;case"selectionchange":if(PA)break;case"keydown":case"keyup":py(ee,l,Z)}var Re;if(Ld)e:{switch(i){case"compositionstart":var Ce="onCompositionStart";break e;case"compositionend":Ce="onCompositionEnd";break e;case"compositionupdate":Ce="onCompositionUpdate";break e}Ce=void 0}else No?ny(i,l)&&(Ce="onCompositionEnd"):i==="keydown"&&l.keyCode===229&&(Ce="onCompositionStart");Ce&&(Zg&&l.locale!=="ko"&&(No||Ce!=="onCompositionStart"?Ce==="onCompositionEnd"&&No&&(Re=tc()):(In=Z,Ao="value"in In?In.value:In.textContent,No=!0)),Ae=cc(H,Ce),0<Ae.length&&(Ce=new v(Ce,i,null,l,Z),ee.push({event:Ce,listeners:Ae}),Re?Ce.data=Re:(Re=ry(l),Re!==null&&(Ce.data=Re)))),(Re=mA?gA(i,l):yA(i,l))&&(H=cc(H,"onBeforeInput"),0<H.length&&(Z=new v("onBeforeInput","beforeinput",null,l,Z),ee.push({event:Z,listeners:H}),Z.data=Re))}Iy(ee,o)})}function dl(i,o,l){return{instance:i,listener:o,currentTarget:l}}function cc(i,o){for(var l=o+"Capture",h=[];i!==null;){var p=i,y=p.stateNode;p.tag===5&&y!==null&&(p=y,y=gs(i,l),y!=null&&h.unshift(dl(i,y,p)),y=gs(i,o),y!=null&&h.push(dl(i,y,p))),i=i.return}return h}function Do(i){if(i===null)return null;do i=i.return;while(i&&i.tag!==5);return i||null}function Ay(i,o,l,h,p){for(var y=o._reactName,T=[];l!==null&&l!==h;){var A=l,b=A.alternate,H=A.stateNode;if(b!==null&&b===h)break;A.tag===5&&H!==null&&(A=H,p?(b=gs(l,y),b!=null&&T.unshift(dl(l,b,A))):p||(b=gs(l,y),b!=null&&T.push(dl(l,b,A)))),l=l.return}T.length!==0&&i.push({event:o,listeners:T})}var NA=/\r\n?/g,OA=/\u0000|\uFFFD/g;function Ry(i){return(typeof i=="string"?i:""+i).replace(NA,`
`).replace(OA,"")}function hc(i,o,l){if(o=Ry(o),Ry(i)!==o&&l)throw Error(t(425))}function dc(){}var Wd=null,Gd=null;function Kd(i,o){return i==="textarea"||i==="noscript"||typeof o.children=="string"||typeof o.children=="number"||typeof o.dangerouslySetInnerHTML=="object"&&o.dangerouslySetInnerHTML!==null&&o.dangerouslySetInnerHTML.__html!=null}var Qd=typeof setTimeout=="function"?setTimeout:void 0,xA=typeof clearTimeout=="function"?clearTimeout:void 0,Py=typeof Promise=="function"?Promise:void 0,DA=typeof queueMicrotask=="function"?queueMicrotask:typeof Py<"u"?function(i){return Py.resolve(null).then(i).catch(LA)}:Qd;function LA(i){setTimeout(function(){throw i})}function Yd(i,o){var l=o,h=0;do{var p=l.nextSibling;if(i.removeChild(l),p&&p.nodeType===8)if(l=p.data,l==="/$"){if(h===0){i.removeChild(p),bi(o);return}h--}else l!=="$"&&l!=="$?"&&l!=="$!"||h++;l=p}while(l);bi(o)}function Di(i){for(;i!=null;i=i.nextSibling){var o=i.nodeType;if(o===1||o===3)break;if(o===8){if(o=i.data,o==="$"||o==="$!"||o==="$?")break;if(o==="/$")return null}}return i}function ky(i){i=i.previousSibling;for(var o=0;i;){if(i.nodeType===8){var l=i.data;if(l==="$"||l==="$!"||l==="$?"){if(o===0)return i;o--}else l==="/$"&&o++}i=i.previousSibling}return null}var Lo=Math.random().toString(36).slice(2),Er="__reactFiber$"+Lo,fl="__reactProps$"+Lo,Wr="__reactContainer$"+Lo,Jd="__reactEvents$"+Lo,VA="__reactListeners$"+Lo,MA="__reactHandles$"+Lo;function Cs(i){var o=i[Er];if(o)return o;for(var l=i.parentNode;l;){if(o=l[Wr]||l[Er]){if(l=o.alternate,o.child!==null||l!==null&&l.child!==null)for(i=ky(i);i!==null;){if(l=i[Er])return l;i=ky(i)}return o}i=l,l=i.parentNode}return null}function pl(i){return i=i[Er]||i[Wr],!i||i.tag!==5&&i.tag!==6&&i.tag!==13&&i.tag!==3?null:i}function Vo(i){if(i.tag===5||i.tag===6)return i.stateNode;throw Error(t(33))}function fc(i){return i[fl]||null}var Xd=[],Mo=-1;function Li(i){return{current:i}}function nt(i){0>Mo||(i.current=Xd[Mo],Xd[Mo]=null,Mo--)}function Xe(i,o){Mo++,Xd[Mo]=i.current,i.current=o}var Vi={},qt=Li(Vi),un=Li(!1),bs=Vi;function Uo(i,o){var l=i.type.contextTypes;if(!l)return Vi;var h=i.stateNode;if(h&&h.__reactInternalMemoizedUnmaskedChildContext===o)return h.__reactInternalMemoizedMaskedChildContext;var p={},y;for(y in l)p[y]=o[y];return h&&(i=i.stateNode,i.__reactInternalMemoizedUnmaskedChildContext=o,i.__reactInternalMemoizedMaskedChildContext=p),p}function cn(i){return i=i.childContextTypes,i!=null}function pc(){nt(un),nt(qt)}function Cy(i,o,l){if(qt.current!==Vi)throw Error(t(168));Xe(qt,o),Xe(un,l)}function by(i,o,l){var h=i.stateNode;if(o=o.childContextTypes,typeof h.getChildContext!="function")return l;h=h.getChildContext();for(var p in h)if(!(p in o))throw Error(t(108,Ge(i)||"Unknown",p));return Y({},l,h)}function mc(i){return i=(i=i.stateNode)&&i.__reactInternalMemoizedMergedChildContext||Vi,bs=qt.current,Xe(qt,i),Xe(un,un.current),!0}function Ny(i,o,l){var h=i.stateNode;if(!h)throw Error(t(169));l?(i=by(i,o,bs),h.__reactInternalMemoizedMergedChildContext=i,nt(un),nt(qt),Xe(qt,i)):nt(un),Xe(un,l)}var Gr=null,gc=!1,Zd=!1;function Oy(i){Gr===null?Gr=[i]:Gr.push(i)}function UA(i){gc=!0,Oy(i)}function Mi(){if(!Zd&&Gr!==null){Zd=!0;var i=0,o=ze;try{var l=Gr;for(ze=1;i<l.length;i++){var h=l[i];do h=h(!0);while(h!==null)}Gr=null,gc=!1}catch(p){throw Gr!==null&&(Gr=Gr.slice(i+1)),Ha(_o,Mi),p}finally{ze=o,Zd=!1}}return null}var Fo=[],jo=0,yc=null,_c=0,Vn=[],Mn=0,Ns=null,Kr=1,Qr="";function Os(i,o){Fo[jo++]=_c,Fo[jo++]=yc,yc=i,_c=o}function xy(i,o,l){Vn[Mn++]=Kr,Vn[Mn++]=Qr,Vn[Mn++]=Ns,Ns=i;var h=Kr;i=Qr;var p=32-En(h)-1;h&=~(1<<p),l+=1;var y=32-En(o)+p;if(30<y){var T=p-p%5;y=(h&(1<<T)-1).toString(32),h>>=T,p-=T,Kr=1<<32-En(o)+p|l<<p|h,Qr=y+i}else Kr=1<<y|l<<p|h,Qr=i}function ef(i){i.return!==null&&(Os(i,1),xy(i,1,0))}function tf(i){for(;i===yc;)yc=Fo[--jo],Fo[jo]=null,_c=Fo[--jo],Fo[jo]=null;for(;i===Ns;)Ns=Vn[--Mn],Vn[Mn]=null,Qr=Vn[--Mn],Vn[Mn]=null,Kr=Vn[--Mn],Vn[Mn]=null}var Rn=null,Pn=null,at=!1,Jn=null;function Dy(i,o){var l=zn(5,null,null,0);l.elementType="DELETED",l.stateNode=o,l.return=i,o=i.deletions,o===null?(i.deletions=[l],i.flags|=16):o.push(l)}function Ly(i,o){switch(i.tag){case 5:var l=i.type;return o=o.nodeType!==1||l.toLowerCase()!==o.nodeName.toLowerCase()?null:o,o!==null?(i.stateNode=o,Rn=i,Pn=Di(o.firstChild),!0):!1;case 6:return o=i.pendingProps===""||o.nodeType!==3?null:o,o!==null?(i.stateNode=o,Rn=i,Pn=null,!0):!1;case 13:return o=o.nodeType!==8?null:o,o!==null?(l=Ns!==null?{id:Kr,overflow:Qr}:null,i.memoizedState={dehydrated:o,treeContext:l,retryLane:1073741824},l=zn(18,null,null,0),l.stateNode=o,l.return=i,i.child=l,Rn=i,Pn=null,!0):!1;default:return!1}}function nf(i){return(i.mode&1)!==0&&(i.flags&128)===0}function rf(i){if(at){var o=Pn;if(o){var l=o;if(!Ly(i,o)){if(nf(i))throw Error(t(418));o=Di(l.nextSibling);var h=Rn;o&&Ly(i,o)?Dy(h,l):(i.flags=i.flags&-4097|2,at=!1,Rn=i)}}else{if(nf(i))throw Error(t(418));i.flags=i.flags&-4097|2,at=!1,Rn=i}}}function Vy(i){for(i=i.return;i!==null&&i.tag!==5&&i.tag!==3&&i.tag!==13;)i=i.return;Rn=i}function vc(i){if(i!==Rn)return!1;if(!at)return Vy(i),at=!0,!1;var o;if((o=i.tag!==3)&&!(o=i.tag!==5)&&(o=i.type,o=o!=="head"&&o!=="body"&&!Kd(i.type,i.memoizedProps)),o&&(o=Pn)){if(nf(i))throw My(),Error(t(418));for(;o;)Dy(i,o),o=Di(o.nextSibling)}if(Vy(i),i.tag===13){if(i=i.memoizedState,i=i!==null?i.dehydrated:null,!i)throw Error(t(317));e:{for(i=i.nextSibling,o=0;i;){if(i.nodeType===8){var l=i.data;if(l==="/$"){if(o===0){Pn=Di(i.nextSibling);break e}o--}else l!=="$"&&l!=="$!"&&l!=="$?"||o++}i=i.nextSibling}Pn=null}}else Pn=Rn?Di(i.stateNode.nextSibling):null;return!0}function My(){for(var i=Pn;i;)i=Di(i.nextSibling)}function zo(){Pn=Rn=null,at=!1}function sf(i){Jn===null?Jn=[i]:Jn.push(i)}var FA=oe.ReactCurrentBatchConfig;function ml(i,o,l){if(i=l.ref,i!==null&&typeof i!="function"&&typeof i!="object"){if(l._owner){if(l=l._owner,l){if(l.tag!==1)throw Error(t(309));var h=l.stateNode}if(!h)throw Error(t(147,i));var p=h,y=""+i;return o!==null&&o.ref!==null&&typeof o.ref=="function"&&o.ref._stringRef===y?o.ref:(o=function(T){var A=p.refs;T===null?delete A[y]:A[y]=T},o._stringRef=y,o)}if(typeof i!="string")throw Error(t(284));if(!l._owner)throw Error(t(290,i))}return i}function wc(i,o){throw i=Object.prototype.toString.call(o),Error(t(31,i==="[object Object]"?"object with keys {"+Object.keys(o).join(", ")+"}":i))}function Uy(i){var o=i._init;return o(i._payload)}function Fy(i){function o(U,x){if(i){var z=U.deletions;z===null?(U.deletions=[x],U.flags|=16):z.push(x)}}function l(U,x){if(!i)return null;for(;x!==null;)o(U,x),x=x.sibling;return null}function h(U,x){for(U=new Map;x!==null;)x.key!==null?U.set(x.key,x):U.set(x.index,x),x=x.sibling;return U}function p(U,x){return U=qi(U,x),U.index=0,U.sibling=null,U}function y(U,x,z){return U.index=z,i?(z=U.alternate,z!==null?(z=z.index,z<x?(U.flags|=2,x):z):(U.flags|=2,x)):(U.flags|=1048576,x)}function T(U){return i&&U.alternate===null&&(U.flags|=2),U}function A(U,x,z,re){return x===null||x.tag!==6?(x=Yf(z,U.mode,re),x.return=U,x):(x=p(x,z),x.return=U,x)}function b(U,x,z,re){var we=z.type;return we===C?Z(U,x,z.props.children,re,z.key):x!==null&&(x.elementType===we||typeof we=="object"&&we!==null&&we.$$typeof===Q&&Uy(we)===x.type)?(re=p(x,z.props),re.ref=ml(U,x,z),re.return=U,re):(re=Hc(z.type,z.key,z.props,null,U.mode,re),re.ref=ml(U,x,z),re.return=U,re)}function H(U,x,z,re){return x===null||x.tag!==4||x.stateNode.containerInfo!==z.containerInfo||x.stateNode.implementation!==z.implementation?(x=Jf(z,U.mode,re),x.return=U,x):(x=p(x,z.children||[]),x.return=U,x)}function Z(U,x,z,re,we){return x===null||x.tag!==7?(x=js(z,U.mode,re,we),x.return=U,x):(x=p(x,z),x.return=U,x)}function ee(U,x,z){if(typeof x=="string"&&x!==""||typeof x=="number")return x=Yf(""+x,U.mode,z),x.return=U,x;if(typeof x=="object"&&x!==null){switch(x.$$typeof){case Te:return z=Hc(x.type,x.key,x.props,null,U.mode,z),z.ref=ml(U,null,x),z.return=U,z;case pe:return x=Jf(x,U.mode,z),x.return=U,x;case Q:var re=x._init;return ee(U,re(x._payload),z)}if(_t(x)||ie(x))return x=js(x,U.mode,z,null),x.return=U,x;wc(U,x)}return null}function X(U,x,z,re){var we=x!==null?x.key:null;if(typeof z=="string"&&z!==""||typeof z=="number")return we!==null?null:A(U,x,""+z,re);if(typeof z=="object"&&z!==null){switch(z.$$typeof){case Te:return z.key===we?b(U,x,z,re):null;case pe:return z.key===we?H(U,x,z,re):null;case Q:return we=z._init,X(U,x,we(z._payload),re)}if(_t(z)||ie(z))return we!==null?null:Z(U,x,z,re,null);wc(U,z)}return null}function ue(U,x,z,re,we){if(typeof re=="string"&&re!==""||typeof re=="number")return U=U.get(z)||null,A(x,U,""+re,we);if(typeof re=="object"&&re!==null){switch(re.$$typeof){case Te:return U=U.get(re.key===null?z:re.key)||null,b(x,U,re,we);case pe:return U=U.get(re.key===null?z:re.key)||null,H(x,U,re,we);case Q:var Ae=re._init;return ue(U,x,z,Ae(re._payload),we)}if(_t(re)||ie(re))return U=U.get(z)||null,Z(x,U,re,we,null);wc(x,re)}return null}function me(U,x,z,re){for(var we=null,Ae=null,Re=x,Ce=x=0,Dt=null;Re!==null&&Ce<z.length;Ce++){Re.index>Ce?(Dt=Re,Re=null):Dt=Re.sibling;var qe=X(U,Re,z[Ce],re);if(qe===null){Re===null&&(Re=Dt);break}i&&Re&&qe.alternate===null&&o(U,Re),x=y(qe,x,Ce),Ae===null?we=qe:Ae.sibling=qe,Ae=qe,Re=Dt}if(Ce===z.length)return l(U,Re),at&&Os(U,Ce),we;if(Re===null){for(;Ce<z.length;Ce++)Re=ee(U,z[Ce],re),Re!==null&&(x=y(Re,x,Ce),Ae===null?we=Re:Ae.sibling=Re,Ae=Re);return at&&Os(U,Ce),we}for(Re=h(U,Re);Ce<z.length;Ce++)Dt=ue(Re,U,Ce,z[Ce],re),Dt!==null&&(i&&Dt.alternate!==null&&Re.delete(Dt.key===null?Ce:Dt.key),x=y(Dt,x,Ce),Ae===null?we=Dt:Ae.sibling=Dt,Ae=Dt);return i&&Re.forEach(function(Wi){return o(U,Wi)}),at&&Os(U,Ce),we}function ye(U,x,z,re){var we=ie(z);if(typeof we!="function")throw Error(t(150));if(z=we.call(z),z==null)throw Error(t(151));for(var Ae=we=null,Re=x,Ce=x=0,Dt=null,qe=z.next();Re!==null&&!qe.done;Ce++,qe=z.next()){Re.index>Ce?(Dt=Re,Re=null):Dt=Re.sibling;var Wi=X(U,Re,qe.value,re);if(Wi===null){Re===null&&(Re=Dt);break}i&&Re&&Wi.alternate===null&&o(U,Re),x=y(Wi,x,Ce),Ae===null?we=Wi:Ae.sibling=Wi,Ae=Wi,Re=Dt}if(qe.done)return l(U,Re),at&&Os(U,Ce),we;if(Re===null){for(;!qe.done;Ce++,qe=z.next())qe=ee(U,qe.value,re),qe!==null&&(x=y(qe,x,Ce),Ae===null?we=qe:Ae.sibling=qe,Ae=qe);return at&&Os(U,Ce),we}for(Re=h(U,Re);!qe.done;Ce++,qe=z.next())qe=ue(Re,U,Ce,qe.value,re),qe!==null&&(i&&qe.alternate!==null&&Re.delete(qe.key===null?Ce:qe.key),x=y(qe,x,Ce),Ae===null?we=qe:Ae.sibling=qe,Ae=qe);return i&&Re.forEach(function(_R){return o(U,_R)}),at&&Os(U,Ce),we}function wt(U,x,z,re){if(typeof z=="object"&&z!==null&&z.type===C&&z.key===null&&(z=z.props.children),typeof z=="object"&&z!==null){switch(z.$$typeof){case Te:e:{for(var we=z.key,Ae=x;Ae!==null;){if(Ae.key===we){if(we=z.type,we===C){if(Ae.tag===7){l(U,Ae.sibling),x=p(Ae,z.props.children),x.return=U,U=x;break e}}else if(Ae.elementType===we||typeof we=="object"&&we!==null&&we.$$typeof===Q&&Uy(we)===Ae.type){l(U,Ae.sibling),x=p(Ae,z.props),x.ref=ml(U,Ae,z),x.return=U,U=x;break e}l(U,Ae);break}else o(U,Ae);Ae=Ae.sibling}z.type===C?(x=js(z.props.children,U.mode,re,z.key),x.return=U,U=x):(re=Hc(z.type,z.key,z.props,null,U.mode,re),re.ref=ml(U,x,z),re.return=U,U=re)}return T(U);case pe:e:{for(Ae=z.key;x!==null;){if(x.key===Ae)if(x.tag===4&&x.stateNode.containerInfo===z.containerInfo&&x.stateNode.implementation===z.implementation){l(U,x.sibling),x=p(x,z.children||[]),x.return=U,U=x;break e}else{l(U,x);break}else o(U,x);x=x.sibling}x=Jf(z,U.mode,re),x.return=U,U=x}return T(U);case Q:return Ae=z._init,wt(U,x,Ae(z._payload),re)}if(_t(z))return me(U,x,z,re);if(ie(z))return ye(U,x,z,re);wc(U,z)}return typeof z=="string"&&z!==""||typeof z=="number"?(z=""+z,x!==null&&x.tag===6?(l(U,x.sibling),x=p(x,z),x.return=U,U=x):(l(U,x),x=Yf(z,U.mode,re),x.return=U,U=x),T(U)):l(U,x)}return wt}var Bo=Fy(!0),jy=Fy(!1),Ec=Li(null),Tc=null,$o=null,of=null;function af(){of=$o=Tc=null}function lf(i){var o=Ec.current;nt(Ec),i._currentValue=o}function uf(i,o,l){for(;i!==null;){var h=i.alternate;if((i.childLanes&o)!==o?(i.childLanes|=o,h!==null&&(h.childLanes|=o)):h!==null&&(h.childLanes&o)!==o&&(h.childLanes|=o),i===l)break;i=i.return}}function Ho(i,o){Tc=i,of=$o=null,i=i.dependencies,i!==null&&i.firstContext!==null&&((i.lanes&o)!==0&&(hn=!0),i.firstContext=null)}function Un(i){var o=i._currentValue;if(of!==i)if(i={context:i,memoizedValue:o,next:null},$o===null){if(Tc===null)throw Error(t(308));$o=i,Tc.dependencies={lanes:0,firstContext:i}}else $o=$o.next=i;return o}var xs=null;function cf(i){xs===null?xs=[i]:xs.push(i)}function zy(i,o,l,h){var p=o.interleaved;return p===null?(l.next=l,cf(o)):(l.next=p.next,p.next=l),o.interleaved=l,Yr(i,h)}function Yr(i,o){i.lanes|=o;var l=i.alternate;for(l!==null&&(l.lanes|=o),l=i,i=i.return;i!==null;)i.childLanes|=o,l=i.alternate,l!==null&&(l.childLanes|=o),l=i,i=i.return;return l.tag===3?l.stateNode:null}var Ui=!1;function hf(i){i.updateQueue={baseState:i.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,interleaved:null,lanes:0},effects:null}}function By(i,o){i=i.updateQueue,o.updateQueue===i&&(o.updateQueue={baseState:i.baseState,firstBaseUpdate:i.firstBaseUpdate,lastBaseUpdate:i.lastBaseUpdate,shared:i.shared,effects:i.effects})}function Jr(i,o){return{eventTime:i,lane:o,tag:0,payload:null,callback:null,next:null}}function Fi(i,o,l){var h=i.updateQueue;if(h===null)return null;if(h=h.shared,(He&2)!==0){var p=h.pending;return p===null?o.next=o:(o.next=p.next,p.next=o),h.pending=o,Yr(i,l)}return p=h.interleaved,p===null?(o.next=o,cf(h)):(o.next=p.next,p.next=o),h.interleaved=o,Yr(i,l)}function Ic(i,o,l){if(o=o.updateQueue,o!==null&&(o=o.shared,(l&4194240)!==0)){var h=o.lanes;h&=i.pendingLanes,l|=h,o.lanes=l,Ya(i,l)}}function $y(i,o){var l=i.updateQueue,h=i.alternate;if(h!==null&&(h=h.updateQueue,l===h)){var p=null,y=null;if(l=l.firstBaseUpdate,l!==null){do{var T={eventTime:l.eventTime,lane:l.lane,tag:l.tag,payload:l.payload,callback:l.callback,next:null};y===null?p=y=T:y=y.next=T,l=l.next}while(l!==null);y===null?p=y=o:y=y.next=o}else p=y=o;l={baseState:h.baseState,firstBaseUpdate:p,lastBaseUpdate:y,shared:h.shared,effects:h.effects},i.updateQueue=l;return}i=l.lastBaseUpdate,i===null?l.firstBaseUpdate=o:i.next=o,l.lastBaseUpdate=o}function Sc(i,o,l,h){var p=i.updateQueue;Ui=!1;var y=p.firstBaseUpdate,T=p.lastBaseUpdate,A=p.shared.pending;if(A!==null){p.shared.pending=null;var b=A,H=b.next;b.next=null,T===null?y=H:T.next=H,T=b;var Z=i.alternate;Z!==null&&(Z=Z.updateQueue,A=Z.lastBaseUpdate,A!==T&&(A===null?Z.firstBaseUpdate=H:A.next=H,Z.lastBaseUpdate=b))}if(y!==null){var ee=p.baseState;T=0,Z=H=b=null,A=y;do{var X=A.lane,ue=A.eventTime;if((h&X)===X){Z!==null&&(Z=Z.next={eventTime:ue,lane:0,tag:A.tag,payload:A.payload,callback:A.callback,next:null});e:{var me=i,ye=A;switch(X=o,ue=l,ye.tag){case 1:if(me=ye.payload,typeof me=="function"){ee=me.call(ue,ee,X);break e}ee=me;break e;case 3:me.flags=me.flags&-65537|128;case 0:if(me=ye.payload,X=typeof me=="function"?me.call(ue,ee,X):me,X==null)break e;ee=Y({},ee,X);break e;case 2:Ui=!0}}A.callback!==null&&A.lane!==0&&(i.flags|=64,X=p.effects,X===null?p.effects=[A]:X.push(A))}else ue={eventTime:ue,lane:X,tag:A.tag,payload:A.payload,callback:A.callback,next:null},Z===null?(H=Z=ue,b=ee):Z=Z.next=ue,T|=X;if(A=A.next,A===null){if(A=p.shared.pending,A===null)break;X=A,A=X.next,X.next=null,p.lastBaseUpdate=X,p.shared.pending=null}}while(!0);if(Z===null&&(b=ee),p.baseState=b,p.firstBaseUpdate=H,p.lastBaseUpdate=Z,o=p.shared.interleaved,o!==null){p=o;do T|=p.lane,p=p.next;while(p!==o)}else y===null&&(p.shared.lanes=0);Vs|=T,i.lanes=T,i.memoizedState=ee}}function Hy(i,o,l){if(i=o.effects,o.effects=null,i!==null)for(o=0;o<i.length;o++){var h=i[o],p=h.callback;if(p!==null){if(h.callback=null,h=l,typeof p!="function")throw Error(t(191,p));p.call(h)}}}var gl={},Tr=Li(gl),yl=Li(gl),_l=Li(gl);function Ds(i){if(i===gl)throw Error(t(174));return i}function df(i,o){switch(Xe(_l,o),Xe(yl,i),Xe(Tr,gl),i=o.nodeType,i){case 9:case 11:o=(o=o.documentElement)?o.namespaceURI:ho(null,"");break;default:i=i===8?o.parentNode:o,o=i.namespaceURI||null,i=i.tagName,o=ho(o,i)}nt(Tr),Xe(Tr,o)}function qo(){nt(Tr),nt(yl),nt(_l)}function qy(i){Ds(_l.current);var o=Ds(Tr.current),l=ho(o,i.type);o!==l&&(Xe(yl,i),Xe(Tr,l))}function ff(i){yl.current===i&&(nt(Tr),nt(yl))}var lt=Li(0);function Ac(i){for(var o=i;o!==null;){if(o.tag===13){var l=o.memoizedState;if(l!==null&&(l=l.dehydrated,l===null||l.data==="$?"||l.data==="$!"))return o}else if(o.tag===19&&o.memoizedProps.revealOrder!==void 0){if((o.flags&128)!==0)return o}else if(o.child!==null){o.child.return=o,o=o.child;continue}if(o===i)break;for(;o.sibling===null;){if(o.return===null||o.return===i)return null;o=o.return}o.sibling.return=o.return,o=o.sibling}return null}var pf=[];function mf(){for(var i=0;i<pf.length;i++)pf[i]._workInProgressVersionPrimary=null;pf.length=0}var Rc=oe.ReactCurrentDispatcher,gf=oe.ReactCurrentBatchConfig,Ls=0,ut=null,Ct=null,Ot=null,Pc=!1,vl=!1,wl=0,jA=0;function Wt(){throw Error(t(321))}function yf(i,o){if(o===null)return!1;for(var l=0;l<o.length&&l<i.length;l++)if(!Yn(i[l],o[l]))return!1;return!0}function _f(i,o,l,h,p,y){if(Ls=y,ut=o,o.memoizedState=null,o.updateQueue=null,o.lanes=0,Rc.current=i===null||i.memoizedState===null?HA:qA,i=l(h,p),vl){y=0;do{if(vl=!1,wl=0,25<=y)throw Error(t(301));y+=1,Ot=Ct=null,o.updateQueue=null,Rc.current=WA,i=l(h,p)}while(vl)}if(Rc.current=bc,o=Ct!==null&&Ct.next!==null,Ls=0,Ot=Ct=ut=null,Pc=!1,o)throw Error(t(300));return i}function vf(){var i=wl!==0;return wl=0,i}function Ir(){var i={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return Ot===null?ut.memoizedState=Ot=i:Ot=Ot.next=i,Ot}function Fn(){if(Ct===null){var i=ut.alternate;i=i!==null?i.memoizedState:null}else i=Ct.next;var o=Ot===null?ut.memoizedState:Ot.next;if(o!==null)Ot=o,Ct=i;else{if(i===null)throw Error(t(310));Ct=i,i={memoizedState:Ct.memoizedState,baseState:Ct.baseState,baseQueue:Ct.baseQueue,queue:Ct.queue,next:null},Ot===null?ut.memoizedState=Ot=i:Ot=Ot.next=i}return Ot}function El(i,o){return typeof o=="function"?o(i):o}function wf(i){var o=Fn(),l=o.queue;if(l===null)throw Error(t(311));l.lastRenderedReducer=i;var h=Ct,p=h.baseQueue,y=l.pending;if(y!==null){if(p!==null){var T=p.next;p.next=y.next,y.next=T}h.baseQueue=p=y,l.pending=null}if(p!==null){y=p.next,h=h.baseState;var A=T=null,b=null,H=y;do{var Z=H.lane;if((Ls&Z)===Z)b!==null&&(b=b.next={lane:0,action:H.action,hasEagerState:H.hasEagerState,eagerState:H.eagerState,next:null}),h=H.hasEagerState?H.eagerState:i(h,H.action);else{var ee={lane:Z,action:H.action,hasEagerState:H.hasEagerState,eagerState:H.eagerState,next:null};b===null?(A=b=ee,T=h):b=b.next=ee,ut.lanes|=Z,Vs|=Z}H=H.next}while(H!==null&&H!==y);b===null?T=h:b.next=A,Yn(h,o.memoizedState)||(hn=!0),o.memoizedState=h,o.baseState=T,o.baseQueue=b,l.lastRenderedState=h}if(i=l.interleaved,i!==null){p=i;do y=p.lane,ut.lanes|=y,Vs|=y,p=p.next;while(p!==i)}else p===null&&(l.lanes=0);return[o.memoizedState,l.dispatch]}function Ef(i){var o=Fn(),l=o.queue;if(l===null)throw Error(t(311));l.lastRenderedReducer=i;var h=l.dispatch,p=l.pending,y=o.memoizedState;if(p!==null){l.pending=null;var T=p=p.next;do y=i(y,T.action),T=T.next;while(T!==p);Yn(y,o.memoizedState)||(hn=!0),o.memoizedState=y,o.baseQueue===null&&(o.baseState=y),l.lastRenderedState=y}return[y,h]}function Wy(){}function Gy(i,o){var l=ut,h=Fn(),p=o(),y=!Yn(h.memoizedState,p);if(y&&(h.memoizedState=p,hn=!0),h=h.queue,Tf(Yy.bind(null,l,h,i),[i]),h.getSnapshot!==o||y||Ot!==null&&Ot.memoizedState.tag&1){if(l.flags|=2048,Tl(9,Qy.bind(null,l,h,p,o),void 0,null),xt===null)throw Error(t(349));(Ls&30)!==0||Ky(l,o,p)}return p}function Ky(i,o,l){i.flags|=16384,i={getSnapshot:o,value:l},o=ut.updateQueue,o===null?(o={lastEffect:null,stores:null},ut.updateQueue=o,o.stores=[i]):(l=o.stores,l===null?o.stores=[i]:l.push(i))}function Qy(i,o,l,h){o.value=l,o.getSnapshot=h,Jy(o)&&Xy(i)}function Yy(i,o,l){return l(function(){Jy(o)&&Xy(i)})}function Jy(i){var o=i.getSnapshot;i=i.value;try{var l=o();return!Yn(i,l)}catch{return!0}}function Xy(i){var o=Yr(i,1);o!==null&&tr(o,i,1,-1)}function Zy(i){var o=Ir();return typeof i=="function"&&(i=i()),o.memoizedState=o.baseState=i,i={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:El,lastRenderedState:i},o.queue=i,i=i.dispatch=$A.bind(null,ut,i),[o.memoizedState,i]}function Tl(i,o,l,h){return i={tag:i,create:o,destroy:l,deps:h,next:null},o=ut.updateQueue,o===null?(o={lastEffect:null,stores:null},ut.updateQueue=o,o.lastEffect=i.next=i):(l=o.lastEffect,l===null?o.lastEffect=i.next=i:(h=l.next,l.next=i,i.next=h,o.lastEffect=i)),i}function e_(){return Fn().memoizedState}function kc(i,o,l,h){var p=Ir();ut.flags|=i,p.memoizedState=Tl(1|o,l,void 0,h===void 0?null:h)}function Cc(i,o,l,h){var p=Fn();h=h===void 0?null:h;var y=void 0;if(Ct!==null){var T=Ct.memoizedState;if(y=T.destroy,h!==null&&yf(h,T.deps)){p.memoizedState=Tl(o,l,y,h);return}}ut.flags|=i,p.memoizedState=Tl(1|o,l,y,h)}function t_(i,o){return kc(8390656,8,i,o)}function Tf(i,o){return Cc(2048,8,i,o)}function n_(i,o){return Cc(4,2,i,o)}function r_(i,o){return Cc(4,4,i,o)}function i_(i,o){if(typeof o=="function")return i=i(),o(i),function(){o(null)};if(o!=null)return i=i(),o.current=i,function(){o.current=null}}function s_(i,o,l){return l=l!=null?l.concat([i]):null,Cc(4,4,i_.bind(null,o,i),l)}function If(){}function o_(i,o){var l=Fn();o=o===void 0?null:o;var h=l.memoizedState;return h!==null&&o!==null&&yf(o,h[1])?h[0]:(l.memoizedState=[i,o],i)}function a_(i,o){var l=Fn();o=o===void 0?null:o;var h=l.memoizedState;return h!==null&&o!==null&&yf(o,h[1])?h[0]:(i=i(),l.memoizedState=[i,o],i)}function l_(i,o,l){return(Ls&21)===0?(i.baseState&&(i.baseState=!1,hn=!0),i.memoizedState=l):(Yn(l,o)||(l=Ka(),ut.lanes|=l,Vs|=l,i.baseState=!0),o)}function zA(i,o){var l=ze;ze=l!==0&&4>l?l:4,i(!0);var h=gf.transition;gf.transition={};try{i(!1),o()}finally{ze=l,gf.transition=h}}function u_(){return Fn().memoizedState}function BA(i,o,l){var h=$i(i);if(l={lane:h,action:l,hasEagerState:!1,eagerState:null,next:null},c_(i))h_(o,l);else if(l=zy(i,o,l,h),l!==null){var p=nn();tr(l,i,h,p),d_(l,o,h)}}function $A(i,o,l){var h=$i(i),p={lane:h,action:l,hasEagerState:!1,eagerState:null,next:null};if(c_(i))h_(o,p);else{var y=i.alternate;if(i.lanes===0&&(y===null||y.lanes===0)&&(y=o.lastRenderedReducer,y!==null))try{var T=o.lastRenderedState,A=y(T,l);if(p.hasEagerState=!0,p.eagerState=A,Yn(A,T)){var b=o.interleaved;b===null?(p.next=p,cf(o)):(p.next=b.next,b.next=p),o.interleaved=p;return}}catch{}l=zy(i,o,p,h),l!==null&&(p=nn(),tr(l,i,h,p),d_(l,o,h))}}function c_(i){var o=i.alternate;return i===ut||o!==null&&o===ut}function h_(i,o){vl=Pc=!0;var l=i.pending;l===null?o.next=o:(o.next=l.next,l.next=o),i.pending=o}function d_(i,o,l){if((l&4194240)!==0){var h=o.lanes;h&=i.pendingLanes,l|=h,o.lanes=l,Ya(i,l)}}var bc={readContext:Un,useCallback:Wt,useContext:Wt,useEffect:Wt,useImperativeHandle:Wt,useInsertionEffect:Wt,useLayoutEffect:Wt,useMemo:Wt,useReducer:Wt,useRef:Wt,useState:Wt,useDebugValue:Wt,useDeferredValue:Wt,useTransition:Wt,useMutableSource:Wt,useSyncExternalStore:Wt,useId:Wt,unstable_isNewReconciler:!1},HA={readContext:Un,useCallback:function(i,o){return Ir().memoizedState=[i,o===void 0?null:o],i},useContext:Un,useEffect:t_,useImperativeHandle:function(i,o,l){return l=l!=null?l.concat([i]):null,kc(4194308,4,i_.bind(null,o,i),l)},useLayoutEffect:function(i,o){return kc(4194308,4,i,o)},useInsertionEffect:function(i,o){return kc(4,2,i,o)},useMemo:function(i,o){var l=Ir();return o=o===void 0?null:o,i=i(),l.memoizedState=[i,o],i},useReducer:function(i,o,l){var h=Ir();return o=l!==void 0?l(o):o,h.memoizedState=h.baseState=o,i={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:i,lastRenderedState:o},h.queue=i,i=i.dispatch=BA.bind(null,ut,i),[h.memoizedState,i]},useRef:function(i){var o=Ir();return i={current:i},o.memoizedState=i},useState:Zy,useDebugValue:If,useDeferredValue:function(i){return Ir().memoizedState=i},useTransition:function(){var i=Zy(!1),o=i[0];return i=zA.bind(null,i[1]),Ir().memoizedState=i,[o,i]},useMutableSource:function(){},useSyncExternalStore:function(i,o,l){var h=ut,p=Ir();if(at){if(l===void 0)throw Error(t(407));l=l()}else{if(l=o(),xt===null)throw Error(t(349));(Ls&30)!==0||Ky(h,o,l)}p.memoizedState=l;var y={value:l,getSnapshot:o};return p.queue=y,t_(Yy.bind(null,h,y,i),[i]),h.flags|=2048,Tl(9,Qy.bind(null,h,y,l,o),void 0,null),l},useId:function(){var i=Ir(),o=xt.identifierPrefix;if(at){var l=Qr,h=Kr;l=(h&~(1<<32-En(h)-1)).toString(32)+l,o=":"+o+"R"+l,l=wl++,0<l&&(o+="H"+l.toString(32)),o+=":"}else l=jA++,o=":"+o+"r"+l.toString(32)+":";return i.memoizedState=o},unstable_isNewReconciler:!1},qA={readContext:Un,useCallback:o_,useContext:Un,useEffect:Tf,useImperativeHandle:s_,useInsertionEffect:n_,useLayoutEffect:r_,useMemo:a_,useReducer:wf,useRef:e_,useState:function(){return wf(El)},useDebugValue:If,useDeferredValue:function(i){var o=Fn();return l_(o,Ct.memoizedState,i)},useTransition:function(){var i=wf(El)[0],o=Fn().memoizedState;return[i,o]},useMutableSource:Wy,useSyncExternalStore:Gy,useId:u_,unstable_isNewReconciler:!1},WA={readContext:Un,useCallback:o_,useContext:Un,useEffect:Tf,useImperativeHandle:s_,useInsertionEffect:n_,useLayoutEffect:r_,useMemo:a_,useReducer:Ef,useRef:e_,useState:function(){return Ef(El)},useDebugValue:If,useDeferredValue:function(i){var o=Fn();return Ct===null?o.memoizedState=i:l_(o,Ct.memoizedState,i)},useTransition:function(){var i=Ef(El)[0],o=Fn().memoizedState;return[i,o]},useMutableSource:Wy,useSyncExternalStore:Gy,useId:u_,unstable_isNewReconciler:!1};function Xn(i,o){if(i&&i.defaultProps){o=Y({},o),i=i.defaultProps;for(var l in i)o[l]===void 0&&(o[l]=i[l]);return o}return o}function Sf(i,o,l,h){o=i.memoizedState,l=l(h,o),l=l==null?o:Y({},o,l),i.memoizedState=l,i.lanes===0&&(i.updateQueue.baseState=l)}var Nc={isMounted:function(i){return(i=i._reactInternals)?Kn(i)===i:!1},enqueueSetState:function(i,o,l){i=i._reactInternals;var h=nn(),p=$i(i),y=Jr(h,p);y.payload=o,l!=null&&(y.callback=l),o=Fi(i,y,p),o!==null&&(tr(o,i,p,h),Ic(o,i,p))},enqueueReplaceState:function(i,o,l){i=i._reactInternals;var h=nn(),p=$i(i),y=Jr(h,p);y.tag=1,y.payload=o,l!=null&&(y.callback=l),o=Fi(i,y,p),o!==null&&(tr(o,i,p,h),Ic(o,i,p))},enqueueForceUpdate:function(i,o){i=i._reactInternals;var l=nn(),h=$i(i),p=Jr(l,h);p.tag=2,o!=null&&(p.callback=o),o=Fi(i,p,h),o!==null&&(tr(o,i,h,l),Ic(o,i,h))}};function f_(i,o,l,h,p,y,T){return i=i.stateNode,typeof i.shouldComponentUpdate=="function"?i.shouldComponentUpdate(h,y,T):o.prototype&&o.prototype.isPureReactComponent?!ll(l,h)||!ll(p,y):!0}function p_(i,o,l){var h=!1,p=Vi,y=o.contextType;return typeof y=="object"&&y!==null?y=Un(y):(p=cn(o)?bs:qt.current,h=o.contextTypes,y=(h=h!=null)?Uo(i,p):Vi),o=new o(l,y),i.memoizedState=o.state!==null&&o.state!==void 0?o.state:null,o.updater=Nc,i.stateNode=o,o._reactInternals=i,h&&(i=i.stateNode,i.__reactInternalMemoizedUnmaskedChildContext=p,i.__reactInternalMemoizedMaskedChildContext=y),o}function m_(i,o,l,h){i=o.state,typeof o.componentWillReceiveProps=="function"&&o.componentWillReceiveProps(l,h),typeof o.UNSAFE_componentWillReceiveProps=="function"&&o.UNSAFE_componentWillReceiveProps(l,h),o.state!==i&&Nc.enqueueReplaceState(o,o.state,null)}function Af(i,o,l,h){var p=i.stateNode;p.props=l,p.state=i.memoizedState,p.refs={},hf(i);var y=o.contextType;typeof y=="object"&&y!==null?p.context=Un(y):(y=cn(o)?bs:qt.current,p.context=Uo(i,y)),p.state=i.memoizedState,y=o.getDerivedStateFromProps,typeof y=="function"&&(Sf(i,o,y,l),p.state=i.memoizedState),typeof o.getDerivedStateFromProps=="function"||typeof p.getSnapshotBeforeUpdate=="function"||typeof p.UNSAFE_componentWillMount!="function"&&typeof p.componentWillMount!="function"||(o=p.state,typeof p.componentWillMount=="function"&&p.componentWillMount(),typeof p.UNSAFE_componentWillMount=="function"&&p.UNSAFE_componentWillMount(),o!==p.state&&Nc.enqueueReplaceState(p,p.state,null),Sc(i,l,p,h),p.state=i.memoizedState),typeof p.componentDidMount=="function"&&(i.flags|=4194308)}function Wo(i,o){try{var l="",h=o;do l+=Ve(h),h=h.return;while(h);var p=l}catch(y){p=`
Error generating stack: `+y.message+`
`+y.stack}return{value:i,source:o,stack:p,digest:null}}function Rf(i,o,l){return{value:i,source:null,stack:l??null,digest:o??null}}function Pf(i,o){try{console.error(o.value)}catch(l){setTimeout(function(){throw l})}}var GA=typeof WeakMap=="function"?WeakMap:Map;function g_(i,o,l){l=Jr(-1,l),l.tag=3,l.payload={element:null};var h=o.value;return l.callback=function(){Uc||(Uc=!0,Bf=h),Pf(i,o)},l}function y_(i,o,l){l=Jr(-1,l),l.tag=3;var h=i.type.getDerivedStateFromError;if(typeof h=="function"){var p=o.value;l.payload=function(){return h(p)},l.callback=function(){Pf(i,o)}}var y=i.stateNode;return y!==null&&typeof y.componentDidCatch=="function"&&(l.callback=function(){Pf(i,o),typeof h!="function"&&(zi===null?zi=new Set([this]):zi.add(this));var T=o.stack;this.componentDidCatch(o.value,{componentStack:T!==null?T:""})}),l}function __(i,o,l){var h=i.pingCache;if(h===null){h=i.pingCache=new GA;var p=new Set;h.set(o,p)}else p=h.get(o),p===void 0&&(p=new Set,h.set(o,p));p.has(l)||(p.add(l),i=aR.bind(null,i,o,l),o.then(i,i))}function v_(i){do{var o;if((o=i.tag===13)&&(o=i.memoizedState,o=o!==null?o.dehydrated!==null:!0),o)return i;i=i.return}while(i!==null);return null}function w_(i,o,l,h,p){return(i.mode&1)===0?(i===o?i.flags|=65536:(i.flags|=128,l.flags|=131072,l.flags&=-52805,l.tag===1&&(l.alternate===null?l.tag=17:(o=Jr(-1,1),o.tag=2,Fi(l,o,1))),l.lanes|=1),i):(i.flags|=65536,i.lanes=p,i)}var KA=oe.ReactCurrentOwner,hn=!1;function tn(i,o,l,h){o.child=i===null?jy(o,null,l,h):Bo(o,i.child,l,h)}function E_(i,o,l,h,p){l=l.render;var y=o.ref;return Ho(o,p),h=_f(i,o,l,h,y,p),l=vf(),i!==null&&!hn?(o.updateQueue=i.updateQueue,o.flags&=-2053,i.lanes&=~p,Xr(i,o,p)):(at&&l&&ef(o),o.flags|=1,tn(i,o,h,p),o.child)}function T_(i,o,l,h,p){if(i===null){var y=l.type;return typeof y=="function"&&!Qf(y)&&y.defaultProps===void 0&&l.compare===null&&l.defaultProps===void 0?(o.tag=15,o.type=y,I_(i,o,y,h,p)):(i=Hc(l.type,null,h,o,o.mode,p),i.ref=o.ref,i.return=o,o.child=i)}if(y=i.child,(i.lanes&p)===0){var T=y.memoizedProps;if(l=l.compare,l=l!==null?l:ll,l(T,h)&&i.ref===o.ref)return Xr(i,o,p)}return o.flags|=1,i=qi(y,h),i.ref=o.ref,i.return=o,o.child=i}function I_(i,o,l,h,p){if(i!==null){var y=i.memoizedProps;if(ll(y,h)&&i.ref===o.ref)if(hn=!1,o.pendingProps=h=y,(i.lanes&p)!==0)(i.flags&131072)!==0&&(hn=!0);else return o.lanes=i.lanes,Xr(i,o,p)}return kf(i,o,l,h,p)}function S_(i,o,l){var h=o.pendingProps,p=h.children,y=i!==null?i.memoizedState:null;if(h.mode==="hidden")if((o.mode&1)===0)o.memoizedState={baseLanes:0,cachePool:null,transitions:null},Xe(Ko,kn),kn|=l;else{if((l&1073741824)===0)return i=y!==null?y.baseLanes|l:l,o.lanes=o.childLanes=1073741824,o.memoizedState={baseLanes:i,cachePool:null,transitions:null},o.updateQueue=null,Xe(Ko,kn),kn|=i,null;o.memoizedState={baseLanes:0,cachePool:null,transitions:null},h=y!==null?y.baseLanes:l,Xe(Ko,kn),kn|=h}else y!==null?(h=y.baseLanes|l,o.memoizedState=null):h=l,Xe(Ko,kn),kn|=h;return tn(i,o,p,l),o.child}function A_(i,o){var l=o.ref;(i===null&&l!==null||i!==null&&i.ref!==l)&&(o.flags|=512,o.flags|=2097152)}function kf(i,o,l,h,p){var y=cn(l)?bs:qt.current;return y=Uo(o,y),Ho(o,p),l=_f(i,o,l,h,y,p),h=vf(),i!==null&&!hn?(o.updateQueue=i.updateQueue,o.flags&=-2053,i.lanes&=~p,Xr(i,o,p)):(at&&h&&ef(o),o.flags|=1,tn(i,o,l,p),o.child)}function R_(i,o,l,h,p){if(cn(l)){var y=!0;mc(o)}else y=!1;if(Ho(o,p),o.stateNode===null)xc(i,o),p_(o,l,h),Af(o,l,h,p),h=!0;else if(i===null){var T=o.stateNode,A=o.memoizedProps;T.props=A;var b=T.context,H=l.contextType;typeof H=="object"&&H!==null?H=Un(H):(H=cn(l)?bs:qt.current,H=Uo(o,H));var Z=l.getDerivedStateFromProps,ee=typeof Z=="function"||typeof T.getSnapshotBeforeUpdate=="function";ee||typeof T.UNSAFE_componentWillReceiveProps!="function"&&typeof T.componentWillReceiveProps!="function"||(A!==h||b!==H)&&m_(o,T,h,H),Ui=!1;var X=o.memoizedState;T.state=X,Sc(o,h,T,p),b=o.memoizedState,A!==h||X!==b||un.current||Ui?(typeof Z=="function"&&(Sf(o,l,Z,h),b=o.memoizedState),(A=Ui||f_(o,l,A,h,X,b,H))?(ee||typeof T.UNSAFE_componentWillMount!="function"&&typeof T.componentWillMount!="function"||(typeof T.componentWillMount=="function"&&T.componentWillMount(),typeof T.UNSAFE_componentWillMount=="function"&&T.UNSAFE_componentWillMount()),typeof T.componentDidMount=="function"&&(o.flags|=4194308)):(typeof T.componentDidMount=="function"&&(o.flags|=4194308),o.memoizedProps=h,o.memoizedState=b),T.props=h,T.state=b,T.context=H,h=A):(typeof T.componentDidMount=="function"&&(o.flags|=4194308),h=!1)}else{T=o.stateNode,By(i,o),A=o.memoizedProps,H=o.type===o.elementType?A:Xn(o.type,A),T.props=H,ee=o.pendingProps,X=T.context,b=l.contextType,typeof b=="object"&&b!==null?b=Un(b):(b=cn(l)?bs:qt.current,b=Uo(o,b));var ue=l.getDerivedStateFromProps;(Z=typeof ue=="function"||typeof T.getSnapshotBeforeUpdate=="function")||typeof T.UNSAFE_componentWillReceiveProps!="function"&&typeof T.componentWillReceiveProps!="function"||(A!==ee||X!==b)&&m_(o,T,h,b),Ui=!1,X=o.memoizedState,T.state=X,Sc(o,h,T,p);var me=o.memoizedState;A!==ee||X!==me||un.current||Ui?(typeof ue=="function"&&(Sf(o,l,ue,h),me=o.memoizedState),(H=Ui||f_(o,l,H,h,X,me,b)||!1)?(Z||typeof T.UNSAFE_componentWillUpdate!="function"&&typeof T.componentWillUpdate!="function"||(typeof T.componentWillUpdate=="function"&&T.componentWillUpdate(h,me,b),typeof T.UNSAFE_componentWillUpdate=="function"&&T.UNSAFE_componentWillUpdate(h,me,b)),typeof T.componentDidUpdate=="function"&&(o.flags|=4),typeof T.getSnapshotBeforeUpdate=="function"&&(o.flags|=1024)):(typeof T.componentDidUpdate!="function"||A===i.memoizedProps&&X===i.memoizedState||(o.flags|=4),typeof T.getSnapshotBeforeUpdate!="function"||A===i.memoizedProps&&X===i.memoizedState||(o.flags|=1024),o.memoizedProps=h,o.memoizedState=me),T.props=h,T.state=me,T.context=b,h=H):(typeof T.componentDidUpdate!="function"||A===i.memoizedProps&&X===i.memoizedState||(o.flags|=4),typeof T.getSnapshotBeforeUpdate!="function"||A===i.memoizedProps&&X===i.memoizedState||(o.flags|=1024),h=!1)}return Cf(i,o,l,h,y,p)}function Cf(i,o,l,h,p,y){A_(i,o);var T=(o.flags&128)!==0;if(!h&&!T)return p&&Ny(o,l,!1),Xr(i,o,y);h=o.stateNode,KA.current=o;var A=T&&typeof l.getDerivedStateFromError!="function"?null:h.render();return o.flags|=1,i!==null&&T?(o.child=Bo(o,i.child,null,y),o.child=Bo(o,null,A,y)):tn(i,o,A,y),o.memoizedState=h.state,p&&Ny(o,l,!0),o.child}function P_(i){var o=i.stateNode;o.pendingContext?Cy(i,o.pendingContext,o.pendingContext!==o.context):o.context&&Cy(i,o.context,!1),df(i,o.containerInfo)}function k_(i,o,l,h,p){return zo(),sf(p),o.flags|=256,tn(i,o,l,h),o.child}var bf={dehydrated:null,treeContext:null,retryLane:0};function Nf(i){return{baseLanes:i,cachePool:null,transitions:null}}function C_(i,o,l){var h=o.pendingProps,p=lt.current,y=!1,T=(o.flags&128)!==0,A;if((A=T)||(A=i!==null&&i.memoizedState===null?!1:(p&2)!==0),A?(y=!0,o.flags&=-129):(i===null||i.memoizedState!==null)&&(p|=1),Xe(lt,p&1),i===null)return rf(o),i=o.memoizedState,i!==null&&(i=i.dehydrated,i!==null)?((o.mode&1)===0?o.lanes=1:i.data==="$!"?o.lanes=8:o.lanes=1073741824,null):(T=h.children,i=h.fallback,y?(h=o.mode,y=o.child,T={mode:"hidden",children:T},(h&1)===0&&y!==null?(y.childLanes=0,y.pendingProps=T):y=qc(T,h,0,null),i=js(i,h,l,null),y.return=o,i.return=o,y.sibling=i,o.child=y,o.child.memoizedState=Nf(l),o.memoizedState=bf,i):Of(o,T));if(p=i.memoizedState,p!==null&&(A=p.dehydrated,A!==null))return QA(i,o,T,h,A,p,l);if(y){y=h.fallback,T=o.mode,p=i.child,A=p.sibling;var b={mode:"hidden",children:h.children};return(T&1)===0&&o.child!==p?(h=o.child,h.childLanes=0,h.pendingProps=b,o.deletions=null):(h=qi(p,b),h.subtreeFlags=p.subtreeFlags&14680064),A!==null?y=qi(A,y):(y=js(y,T,l,null),y.flags|=2),y.return=o,h.return=o,h.sibling=y,o.child=h,h=y,y=o.child,T=i.child.memoizedState,T=T===null?Nf(l):{baseLanes:T.baseLanes|l,cachePool:null,transitions:T.transitions},y.memoizedState=T,y.childLanes=i.childLanes&~l,o.memoizedState=bf,h}return y=i.child,i=y.sibling,h=qi(y,{mode:"visible",children:h.children}),(o.mode&1)===0&&(h.lanes=l),h.return=o,h.sibling=null,i!==null&&(l=o.deletions,l===null?(o.deletions=[i],o.flags|=16):l.push(i)),o.child=h,o.memoizedState=null,h}function Of(i,o){return o=qc({mode:"visible",children:o},i.mode,0,null),o.return=i,i.child=o}function Oc(i,o,l,h){return h!==null&&sf(h),Bo(o,i.child,null,l),i=Of(o,o.pendingProps.children),i.flags|=2,o.memoizedState=null,i}function QA(i,o,l,h,p,y,T){if(l)return o.flags&256?(o.flags&=-257,h=Rf(Error(t(422))),Oc(i,o,T,h)):o.memoizedState!==null?(o.child=i.child,o.flags|=128,null):(y=h.fallback,p=o.mode,h=qc({mode:"visible",children:h.children},p,0,null),y=js(y,p,T,null),y.flags|=2,h.return=o,y.return=o,h.sibling=y,o.child=h,(o.mode&1)!==0&&Bo(o,i.child,null,T),o.child.memoizedState=Nf(T),o.memoizedState=bf,y);if((o.mode&1)===0)return Oc(i,o,T,null);if(p.data==="$!"){if(h=p.nextSibling&&p.nextSibling.dataset,h)var A=h.dgst;return h=A,y=Error(t(419)),h=Rf(y,h,void 0),Oc(i,o,T,h)}if(A=(T&i.childLanes)!==0,hn||A){if(h=xt,h!==null){switch(T&-T){case 4:p=2;break;case 16:p=8;break;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:p=32;break;case 536870912:p=268435456;break;default:p=0}p=(p&(h.suspendedLanes|T))!==0?0:p,p!==0&&p!==y.retryLane&&(y.retryLane=p,Yr(i,p),tr(h,i,p,-1))}return Kf(),h=Rf(Error(t(421))),Oc(i,o,T,h)}return p.data==="$?"?(o.flags|=128,o.child=i.child,o=lR.bind(null,i),p._reactRetry=o,null):(i=y.treeContext,Pn=Di(p.nextSibling),Rn=o,at=!0,Jn=null,i!==null&&(Vn[Mn++]=Kr,Vn[Mn++]=Qr,Vn[Mn++]=Ns,Kr=i.id,Qr=i.overflow,Ns=o),o=Of(o,h.children),o.flags|=4096,o)}function b_(i,o,l){i.lanes|=o;var h=i.alternate;h!==null&&(h.lanes|=o),uf(i.return,o,l)}function xf(i,o,l,h,p){var y=i.memoizedState;y===null?i.memoizedState={isBackwards:o,rendering:null,renderingStartTime:0,last:h,tail:l,tailMode:p}:(y.isBackwards=o,y.rendering=null,y.renderingStartTime=0,y.last=h,y.tail=l,y.tailMode=p)}function N_(i,o,l){var h=o.pendingProps,p=h.revealOrder,y=h.tail;if(tn(i,o,h.children,l),h=lt.current,(h&2)!==0)h=h&1|2,o.flags|=128;else{if(i!==null&&(i.flags&128)!==0)e:for(i=o.child;i!==null;){if(i.tag===13)i.memoizedState!==null&&b_(i,l,o);else if(i.tag===19)b_(i,l,o);else if(i.child!==null){i.child.return=i,i=i.child;continue}if(i===o)break e;for(;i.sibling===null;){if(i.return===null||i.return===o)break e;i=i.return}i.sibling.return=i.return,i=i.sibling}h&=1}if(Xe(lt,h),(o.mode&1)===0)o.memoizedState=null;else switch(p){case"forwards":for(l=o.child,p=null;l!==null;)i=l.alternate,i!==null&&Ac(i)===null&&(p=l),l=l.sibling;l=p,l===null?(p=o.child,o.child=null):(p=l.sibling,l.sibling=null),xf(o,!1,p,l,y);break;case"backwards":for(l=null,p=o.child,o.child=null;p!==null;){if(i=p.alternate,i!==null&&Ac(i)===null){o.child=p;break}i=p.sibling,p.sibling=l,l=p,p=i}xf(o,!0,l,null,y);break;case"together":xf(o,!1,null,null,void 0);break;default:o.memoizedState=null}return o.child}function xc(i,o){(o.mode&1)===0&&i!==null&&(i.alternate=null,o.alternate=null,o.flags|=2)}function Xr(i,o,l){if(i!==null&&(o.dependencies=i.dependencies),Vs|=o.lanes,(l&o.childLanes)===0)return null;if(i!==null&&o.child!==i.child)throw Error(t(153));if(o.child!==null){for(i=o.child,l=qi(i,i.pendingProps),o.child=l,l.return=o;i.sibling!==null;)i=i.sibling,l=l.sibling=qi(i,i.pendingProps),l.return=o;l.sibling=null}return o.child}function YA(i,o,l){switch(o.tag){case 3:P_(o),zo();break;case 5:qy(o);break;case 1:cn(o.type)&&mc(o);break;case 4:df(o,o.stateNode.containerInfo);break;case 10:var h=o.type._context,p=o.memoizedProps.value;Xe(Ec,h._currentValue),h._currentValue=p;break;case 13:if(h=o.memoizedState,h!==null)return h.dehydrated!==null?(Xe(lt,lt.current&1),o.flags|=128,null):(l&o.child.childLanes)!==0?C_(i,o,l):(Xe(lt,lt.current&1),i=Xr(i,o,l),i!==null?i.sibling:null);Xe(lt,lt.current&1);break;case 19:if(h=(l&o.childLanes)!==0,(i.flags&128)!==0){if(h)return N_(i,o,l);o.flags|=128}if(p=o.memoizedState,p!==null&&(p.rendering=null,p.tail=null,p.lastEffect=null),Xe(lt,lt.current),h)break;return null;case 22:case 23:return o.lanes=0,S_(i,o,l)}return Xr(i,o,l)}var O_,Df,x_,D_;O_=function(i,o){for(var l=o.child;l!==null;){if(l.tag===5||l.tag===6)i.appendChild(l.stateNode);else if(l.tag!==4&&l.child!==null){l.child.return=l,l=l.child;continue}if(l===o)break;for(;l.sibling===null;){if(l.return===null||l.return===o)return;l=l.return}l.sibling.return=l.return,l=l.sibling}},Df=function(){},x_=function(i,o,l,h){var p=i.memoizedProps;if(p!==h){i=o.stateNode,Ds(Tr.current);var y=null;switch(l){case"input":p=uo(i,p),h=uo(i,h),y=[];break;case"select":p=Y({},p,{value:void 0}),h=Y({},h,{value:void 0}),y=[];break;case"textarea":p=Ma(i,p),h=Ma(i,h),y=[];break;default:typeof p.onClick!="function"&&typeof h.onClick=="function"&&(i.onclick=dc)}Gn(l,h);var T;l=null;for(H in p)if(!h.hasOwnProperty(H)&&p.hasOwnProperty(H)&&p[H]!=null)if(H==="style"){var A=p[H];for(T in A)A.hasOwnProperty(T)&&(l||(l={}),l[T]="")}else H!=="dangerouslySetInnerHTML"&&H!=="children"&&H!=="suppressContentEditableWarning"&&H!=="suppressHydrationWarning"&&H!=="autoFocus"&&(s.hasOwnProperty(H)?y||(y=[]):(y=y||[]).push(H,null));for(H in h){var b=h[H];if(A=p?.[H],h.hasOwnProperty(H)&&b!==A&&(b!=null||A!=null))if(H==="style")if(A){for(T in A)!A.hasOwnProperty(T)||b&&b.hasOwnProperty(T)||(l||(l={}),l[T]="");for(T in b)b.hasOwnProperty(T)&&A[T]!==b[T]&&(l||(l={}),l[T]=b[T])}else l||(y||(y=[]),y.push(H,l)),l=b;else H==="dangerouslySetInnerHTML"?(b=b?b.__html:void 0,A=A?A.__html:void 0,b!=null&&A!==b&&(y=y||[]).push(H,b)):H==="children"?typeof b!="string"&&typeof b!="number"||(y=y||[]).push(H,""+b):H!=="suppressContentEditableWarning"&&H!=="suppressHydrationWarning"&&(s.hasOwnProperty(H)?(b!=null&&H==="onScroll"&&tt("scroll",i),y||A===b||(y=[])):(y=y||[]).push(H,b))}l&&(y=y||[]).push("style",l);var H=y;(o.updateQueue=H)&&(o.flags|=4)}},D_=function(i,o,l,h){l!==h&&(o.flags|=4)};function Il(i,o){if(!at)switch(i.tailMode){case"hidden":o=i.tail;for(var l=null;o!==null;)o.alternate!==null&&(l=o),o=o.sibling;l===null?i.tail=null:l.sibling=null;break;case"collapsed":l=i.tail;for(var h=null;l!==null;)l.alternate!==null&&(h=l),l=l.sibling;h===null?o||i.tail===null?i.tail=null:i.tail.sibling=null:h.sibling=null}}function Gt(i){var o=i.alternate!==null&&i.alternate.child===i.child,l=0,h=0;if(o)for(var p=i.child;p!==null;)l|=p.lanes|p.childLanes,h|=p.subtreeFlags&14680064,h|=p.flags&14680064,p.return=i,p=p.sibling;else for(p=i.child;p!==null;)l|=p.lanes|p.childLanes,h|=p.subtreeFlags,h|=p.flags,p.return=i,p=p.sibling;return i.subtreeFlags|=h,i.childLanes=l,o}function JA(i,o,l){var h=o.pendingProps;switch(tf(o),o.tag){case 2:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return Gt(o),null;case 1:return cn(o.type)&&pc(),Gt(o),null;case 3:return h=o.stateNode,qo(),nt(un),nt(qt),mf(),h.pendingContext&&(h.context=h.pendingContext,h.pendingContext=null),(i===null||i.child===null)&&(vc(o)?o.flags|=4:i===null||i.memoizedState.isDehydrated&&(o.flags&256)===0||(o.flags|=1024,Jn!==null&&(qf(Jn),Jn=null))),Df(i,o),Gt(o),null;case 5:ff(o);var p=Ds(_l.current);if(l=o.type,i!==null&&o.stateNode!=null)x_(i,o,l,h,p),i.ref!==o.ref&&(o.flags|=512,o.flags|=2097152);else{if(!h){if(o.stateNode===null)throw Error(t(166));return Gt(o),null}if(i=Ds(Tr.current),vc(o)){h=o.stateNode,l=o.type;var y=o.memoizedProps;switch(h[Er]=o,h[fl]=y,i=(o.mode&1)!==0,l){case"dialog":tt("cancel",h),tt("close",h);break;case"iframe":case"object":case"embed":tt("load",h);break;case"video":case"audio":for(p=0;p<cl.length;p++)tt(cl[p],h);break;case"source":tt("error",h);break;case"img":case"image":case"link":tt("error",h),tt("load",h);break;case"details":tt("toggle",h);break;case"input":Mu(h,y),tt("invalid",h);break;case"select":h._wrapperState={wasMultiple:!!y.multiple},tt("invalid",h);break;case"textarea":Ua(h,y),tt("invalid",h)}Gn(l,y),p=null;for(var T in y)if(y.hasOwnProperty(T)){var A=y[T];T==="children"?typeof A=="string"?h.textContent!==A&&(y.suppressHydrationWarning!==!0&&hc(h.textContent,A,i),p=["children",A]):typeof A=="number"&&h.textContent!==""+A&&(y.suppressHydrationWarning!==!0&&hc(h.textContent,A,i),p=["children",""+A]):s.hasOwnProperty(T)&&A!=null&&T==="onScroll"&&tt("scroll",h)}switch(l){case"input":lo(h),Va(h,y,!0);break;case"textarea":lo(h),_i(h);break;case"select":case"option":break;default:typeof y.onClick=="function"&&(h.onclick=dc)}h=p,o.updateQueue=h,h!==null&&(o.flags|=4)}else{T=p.nodeType===9?p:p.ownerDocument,i==="http://www.w3.org/1999/xhtml"&&(i=Fa(l)),i==="http://www.w3.org/1999/xhtml"?l==="script"?(i=T.createElement("div"),i.innerHTML="<script><\/script>",i=i.removeChild(i.firstChild)):typeof h.is=="string"?i=T.createElement(l,{is:h.is}):(i=T.createElement(l),l==="select"&&(T=i,h.multiple?T.multiple=!0:h.size&&(T.size=h.size))):i=T.createElementNS(i,l),i[Er]=o,i[fl]=h,O_(i,o,!1,!1),o.stateNode=i;e:{switch(T=po(l,h),l){case"dialog":tt("cancel",i),tt("close",i),p=h;break;case"iframe":case"object":case"embed":tt("load",i),p=h;break;case"video":case"audio":for(p=0;p<cl.length;p++)tt(cl[p],i);p=h;break;case"source":tt("error",i),p=h;break;case"img":case"image":case"link":tt("error",i),tt("load",i),p=h;break;case"details":tt("toggle",i),p=h;break;case"input":Mu(i,h),p=uo(i,h),tt("invalid",i);break;case"option":p=h;break;case"select":i._wrapperState={wasMultiple:!!h.multiple},p=Y({},h,{value:void 0}),tt("invalid",i);break;case"textarea":Ua(i,h),p=Ma(i,h),tt("invalid",i);break;default:p=h}Gn(l,p),A=p;for(y in A)if(A.hasOwnProperty(y)){var b=A[y];y==="style"?fo(i,b):y==="dangerouslySetInnerHTML"?(b=b?b.__html:void 0,b!=null&&Fu(i,b)):y==="children"?typeof b=="string"?(l!=="textarea"||b!=="")&&ms(i,b):typeof b=="number"&&ms(i,""+b):y!=="suppressContentEditableWarning"&&y!=="suppressHydrationWarning"&&y!=="autoFocus"&&(s.hasOwnProperty(y)?b!=null&&y==="onScroll"&&tt("scroll",i):b!=null&&ve(i,y,b,T))}switch(l){case"input":lo(i),Va(i,h,!1);break;case"textarea":lo(i),_i(i);break;case"option":h.value!=null&&i.setAttribute("value",""+$e(h.value));break;case"select":i.multiple=!!h.multiple,y=h.value,y!=null?Wn(i,!!h.multiple,y,!1):h.defaultValue!=null&&Wn(i,!!h.multiple,h.defaultValue,!0);break;default:typeof p.onClick=="function"&&(i.onclick=dc)}switch(l){case"button":case"input":case"select":case"textarea":h=!!h.autoFocus;break e;case"img":h=!0;break e;default:h=!1}}h&&(o.flags|=4)}o.ref!==null&&(o.flags|=512,o.flags|=2097152)}return Gt(o),null;case 6:if(i&&o.stateNode!=null)D_(i,o,i.memoizedProps,h);else{if(typeof h!="string"&&o.stateNode===null)throw Error(t(166));if(l=Ds(_l.current),Ds(Tr.current),vc(o)){if(h=o.stateNode,l=o.memoizedProps,h[Er]=o,(y=h.nodeValue!==l)&&(i=Rn,i!==null))switch(i.tag){case 3:hc(h.nodeValue,l,(i.mode&1)!==0);break;case 5:i.memoizedProps.suppressHydrationWarning!==!0&&hc(h.nodeValue,l,(i.mode&1)!==0)}y&&(o.flags|=4)}else h=(l.nodeType===9?l:l.ownerDocument).createTextNode(h),h[Er]=o,o.stateNode=h}return Gt(o),null;case 13:if(nt(lt),h=o.memoizedState,i===null||i.memoizedState!==null&&i.memoizedState.dehydrated!==null){if(at&&Pn!==null&&(o.mode&1)!==0&&(o.flags&128)===0)My(),zo(),o.flags|=98560,y=!1;else if(y=vc(o),h!==null&&h.dehydrated!==null){if(i===null){if(!y)throw Error(t(318));if(y=o.memoizedState,y=y!==null?y.dehydrated:null,!y)throw Error(t(317));y[Er]=o}else zo(),(o.flags&128)===0&&(o.memoizedState=null),o.flags|=4;Gt(o),y=!1}else Jn!==null&&(qf(Jn),Jn=null),y=!0;if(!y)return o.flags&65536?o:null}return(o.flags&128)!==0?(o.lanes=l,o):(h=h!==null,h!==(i!==null&&i.memoizedState!==null)&&h&&(o.child.flags|=8192,(o.mode&1)!==0&&(i===null||(lt.current&1)!==0?bt===0&&(bt=3):Kf())),o.updateQueue!==null&&(o.flags|=4),Gt(o),null);case 4:return qo(),Df(i,o),i===null&&hl(o.stateNode.containerInfo),Gt(o),null;case 10:return lf(o.type._context),Gt(o),null;case 17:return cn(o.type)&&pc(),Gt(o),null;case 19:if(nt(lt),y=o.memoizedState,y===null)return Gt(o),null;if(h=(o.flags&128)!==0,T=y.rendering,T===null)if(h)Il(y,!1);else{if(bt!==0||i!==null&&(i.flags&128)!==0)for(i=o.child;i!==null;){if(T=Ac(i),T!==null){for(o.flags|=128,Il(y,!1),h=T.updateQueue,h!==null&&(o.updateQueue=h,o.flags|=4),o.subtreeFlags=0,h=l,l=o.child;l!==null;)y=l,i=h,y.flags&=14680066,T=y.alternate,T===null?(y.childLanes=0,y.lanes=i,y.child=null,y.subtreeFlags=0,y.memoizedProps=null,y.memoizedState=null,y.updateQueue=null,y.dependencies=null,y.stateNode=null):(y.childLanes=T.childLanes,y.lanes=T.lanes,y.child=T.child,y.subtreeFlags=0,y.deletions=null,y.memoizedProps=T.memoizedProps,y.memoizedState=T.memoizedState,y.updateQueue=T.updateQueue,y.type=T.type,i=T.dependencies,y.dependencies=i===null?null:{lanes:i.lanes,firstContext:i.firstContext}),l=l.sibling;return Xe(lt,lt.current&1|2),o.child}i=i.sibling}y.tail!==null&&et()>Qo&&(o.flags|=128,h=!0,Il(y,!1),o.lanes=4194304)}else{if(!h)if(i=Ac(T),i!==null){if(o.flags|=128,h=!0,l=i.updateQueue,l!==null&&(o.updateQueue=l,o.flags|=4),Il(y,!0),y.tail===null&&y.tailMode==="hidden"&&!T.alternate&&!at)return Gt(o),null}else 2*et()-y.renderingStartTime>Qo&&l!==1073741824&&(o.flags|=128,h=!0,Il(y,!1),o.lanes=4194304);y.isBackwards?(T.sibling=o.child,o.child=T):(l=y.last,l!==null?l.sibling=T:o.child=T,y.last=T)}return y.tail!==null?(o=y.tail,y.rendering=o,y.tail=o.sibling,y.renderingStartTime=et(),o.sibling=null,l=lt.current,Xe(lt,h?l&1|2:l&1),o):(Gt(o),null);case 22:case 23:return Gf(),h=o.memoizedState!==null,i!==null&&i.memoizedState!==null!==h&&(o.flags|=8192),h&&(o.mode&1)!==0?(kn&1073741824)!==0&&(Gt(o),o.subtreeFlags&6&&(o.flags|=8192)):Gt(o),null;case 24:return null;case 25:return null}throw Error(t(156,o.tag))}function XA(i,o){switch(tf(o),o.tag){case 1:return cn(o.type)&&pc(),i=o.flags,i&65536?(o.flags=i&-65537|128,o):null;case 3:return qo(),nt(un),nt(qt),mf(),i=o.flags,(i&65536)!==0&&(i&128)===0?(o.flags=i&-65537|128,o):null;case 5:return ff(o),null;case 13:if(nt(lt),i=o.memoizedState,i!==null&&i.dehydrated!==null){if(o.alternate===null)throw Error(t(340));zo()}return i=o.flags,i&65536?(o.flags=i&-65537|128,o):null;case 19:return nt(lt),null;case 4:return qo(),null;case 10:return lf(o.type._context),null;case 22:case 23:return Gf(),null;case 24:return null;default:return null}}var Dc=!1,Kt=!1,ZA=typeof WeakSet=="function"?WeakSet:Set,fe=null;function Go(i,o){var l=i.ref;if(l!==null)if(typeof l=="function")try{l(null)}catch(h){dt(i,o,h)}else l.current=null}function Lf(i,o,l){try{l()}catch(h){dt(i,o,h)}}var L_=!1;function eR(i,o){if(Wd=$r,i=fy(),Ud(i)){if("selectionStart"in i)var l={start:i.selectionStart,end:i.selectionEnd};else e:{l=(l=i.ownerDocument)&&l.defaultView||window;var h=l.getSelection&&l.getSelection();if(h&&h.rangeCount!==0){l=h.anchorNode;var p=h.anchorOffset,y=h.focusNode;h=h.focusOffset;try{l.nodeType,y.nodeType}catch{l=null;break e}var T=0,A=-1,b=-1,H=0,Z=0,ee=i,X=null;t:for(;;){for(var ue;ee!==l||p!==0&&ee.nodeType!==3||(A=T+p),ee!==y||h!==0&&ee.nodeType!==3||(b=T+h),ee.nodeType===3&&(T+=ee.nodeValue.length),(ue=ee.firstChild)!==null;)X=ee,ee=ue;for(;;){if(ee===i)break t;if(X===l&&++H===p&&(A=T),X===y&&++Z===h&&(b=T),(ue=ee.nextSibling)!==null)break;ee=X,X=ee.parentNode}ee=ue}l=A===-1||b===-1?null:{start:A,end:b}}else l=null}l=l||{start:0,end:0}}else l=null;for(Gd={focusedElem:i,selectionRange:l},$r=!1,fe=o;fe!==null;)if(o=fe,i=o.child,(o.subtreeFlags&1028)!==0&&i!==null)i.return=o,fe=i;else for(;fe!==null;){o=fe;try{var me=o.alternate;if((o.flags&1024)!==0)switch(o.tag){case 0:case 11:case 15:break;case 1:if(me!==null){var ye=me.memoizedProps,wt=me.memoizedState,U=o.stateNode,x=U.getSnapshotBeforeUpdate(o.elementType===o.type?ye:Xn(o.type,ye),wt);U.__reactInternalSnapshotBeforeUpdate=x}break;case 3:var z=o.stateNode.containerInfo;z.nodeType===1?z.textContent="":z.nodeType===9&&z.documentElement&&z.removeChild(z.documentElement);break;case 5:case 6:case 4:case 17:break;default:throw Error(t(163))}}catch(re){dt(o,o.return,re)}if(i=o.sibling,i!==null){i.return=o.return,fe=i;break}fe=o.return}return me=L_,L_=!1,me}function Sl(i,o,l){var h=o.updateQueue;if(h=h!==null?h.lastEffect:null,h!==null){var p=h=h.next;do{if((p.tag&i)===i){var y=p.destroy;p.destroy=void 0,y!==void 0&&Lf(o,l,y)}p=p.next}while(p!==h)}}function Lc(i,o){if(o=o.updateQueue,o=o!==null?o.lastEffect:null,o!==null){var l=o=o.next;do{if((l.tag&i)===i){var h=l.create;l.destroy=h()}l=l.next}while(l!==o)}}function Vf(i){var o=i.ref;if(o!==null){var l=i.stateNode;i.tag,i=l,typeof o=="function"?o(i):o.current=i}}function V_(i){var o=i.alternate;o!==null&&(i.alternate=null,V_(o)),i.child=null,i.deletions=null,i.sibling=null,i.tag===5&&(o=i.stateNode,o!==null&&(delete o[Er],delete o[fl],delete o[Jd],delete o[VA],delete o[MA])),i.stateNode=null,i.return=null,i.dependencies=null,i.memoizedProps=null,i.memoizedState=null,i.pendingProps=null,i.stateNode=null,i.updateQueue=null}function M_(i){return i.tag===5||i.tag===3||i.tag===4}function U_(i){e:for(;;){for(;i.sibling===null;){if(i.return===null||M_(i.return))return null;i=i.return}for(i.sibling.return=i.return,i=i.sibling;i.tag!==5&&i.tag!==6&&i.tag!==18;){if(i.flags&2||i.child===null||i.tag===4)continue e;i.child.return=i,i=i.child}if(!(i.flags&2))return i.stateNode}}function Mf(i,o,l){var h=i.tag;if(h===5||h===6)i=i.stateNode,o?l.nodeType===8?l.parentNode.insertBefore(i,o):l.insertBefore(i,o):(l.nodeType===8?(o=l.parentNode,o.insertBefore(i,l)):(o=l,o.appendChild(i)),l=l._reactRootContainer,l!=null||o.onclick!==null||(o.onclick=dc));else if(h!==4&&(i=i.child,i!==null))for(Mf(i,o,l),i=i.sibling;i!==null;)Mf(i,o,l),i=i.sibling}function Uf(i,o,l){var h=i.tag;if(h===5||h===6)i=i.stateNode,o?l.insertBefore(i,o):l.appendChild(i);else if(h!==4&&(i=i.child,i!==null))for(Uf(i,o,l),i=i.sibling;i!==null;)Uf(i,o,l),i=i.sibling}var Ft=null,Zn=!1;function ji(i,o,l){for(l=l.child;l!==null;)F_(i,o,l),l=l.sibling}function F_(i,o,l){if(wn&&typeof wn.onCommitFiberUnmount=="function")try{wn.onCommitFiberUnmount(ws,l)}catch{}switch(l.tag){case 5:Kt||Go(l,o);case 6:var h=Ft,p=Zn;Ft=null,ji(i,o,l),Ft=h,Zn=p,Ft!==null&&(Zn?(i=Ft,l=l.stateNode,i.nodeType===8?i.parentNode.removeChild(l):i.removeChild(l)):Ft.removeChild(l.stateNode));break;case 18:Ft!==null&&(Zn?(i=Ft,l=l.stateNode,i.nodeType===8?Yd(i.parentNode,l):i.nodeType===1&&Yd(i,l),bi(i)):Yd(Ft,l.stateNode));break;case 4:h=Ft,p=Zn,Ft=l.stateNode.containerInfo,Zn=!0,ji(i,o,l),Ft=h,Zn=p;break;case 0:case 11:case 14:case 15:if(!Kt&&(h=l.updateQueue,h!==null&&(h=h.lastEffect,h!==null))){p=h=h.next;do{var y=p,T=y.destroy;y=y.tag,T!==void 0&&((y&2)!==0||(y&4)!==0)&&Lf(l,o,T),p=p.next}while(p!==h)}ji(i,o,l);break;case 1:if(!Kt&&(Go(l,o),h=l.stateNode,typeof h.componentWillUnmount=="function"))try{h.props=l.memoizedProps,h.state=l.memoizedState,h.componentWillUnmount()}catch(A){dt(l,o,A)}ji(i,o,l);break;case 21:ji(i,o,l);break;case 22:l.mode&1?(Kt=(h=Kt)||l.memoizedState!==null,ji(i,o,l),Kt=h):ji(i,o,l);break;default:ji(i,o,l)}}function j_(i){var o=i.updateQueue;if(o!==null){i.updateQueue=null;var l=i.stateNode;l===null&&(l=i.stateNode=new ZA),o.forEach(function(h){var p=uR.bind(null,i,h);l.has(h)||(l.add(h),h.then(p,p))})}}function er(i,o){var l=o.deletions;if(l!==null)for(var h=0;h<l.length;h++){var p=l[h];try{var y=i,T=o,A=T;e:for(;A!==null;){switch(A.tag){case 5:Ft=A.stateNode,Zn=!1;break e;case 3:Ft=A.stateNode.containerInfo,Zn=!0;break e;case 4:Ft=A.stateNode.containerInfo,Zn=!0;break e}A=A.return}if(Ft===null)throw Error(t(160));F_(y,T,p),Ft=null,Zn=!1;var b=p.alternate;b!==null&&(b.return=null),p.return=null}catch(H){dt(p,o,H)}}if(o.subtreeFlags&12854)for(o=o.child;o!==null;)z_(o,i),o=o.sibling}function z_(i,o){var l=i.alternate,h=i.flags;switch(i.tag){case 0:case 11:case 14:case 15:if(er(o,i),Sr(i),h&4){try{Sl(3,i,i.return),Lc(3,i)}catch(ye){dt(i,i.return,ye)}try{Sl(5,i,i.return)}catch(ye){dt(i,i.return,ye)}}break;case 1:er(o,i),Sr(i),h&512&&l!==null&&Go(l,l.return);break;case 5:if(er(o,i),Sr(i),h&512&&l!==null&&Go(l,l.return),i.flags&32){var p=i.stateNode;try{ms(p,"")}catch(ye){dt(i,i.return,ye)}}if(h&4&&(p=i.stateNode,p!=null)){var y=i.memoizedProps,T=l!==null?l.memoizedProps:y,A=i.type,b=i.updateQueue;if(i.updateQueue=null,b!==null)try{A==="input"&&y.type==="radio"&&y.name!=null&&co(p,y),po(A,T);var H=po(A,y);for(T=0;T<b.length;T+=2){var Z=b[T],ee=b[T+1];Z==="style"?fo(p,ee):Z==="dangerouslySetInnerHTML"?Fu(p,ee):Z==="children"?ms(p,ee):ve(p,Z,ee,H)}switch(A){case"input":ps(p,y);break;case"textarea":Uu(p,y);break;case"select":var X=p._wrapperState.wasMultiple;p._wrapperState.wasMultiple=!!y.multiple;var ue=y.value;ue!=null?Wn(p,!!y.multiple,ue,!1):X!==!!y.multiple&&(y.defaultValue!=null?Wn(p,!!y.multiple,y.defaultValue,!0):Wn(p,!!y.multiple,y.multiple?[]:"",!1))}p[fl]=y}catch(ye){dt(i,i.return,ye)}}break;case 6:if(er(o,i),Sr(i),h&4){if(i.stateNode===null)throw Error(t(162));p=i.stateNode,y=i.memoizedProps;try{p.nodeValue=y}catch(ye){dt(i,i.return,ye)}}break;case 3:if(er(o,i),Sr(i),h&4&&l!==null&&l.memoizedState.isDehydrated)try{bi(o.containerInfo)}catch(ye){dt(i,i.return,ye)}break;case 4:er(o,i),Sr(i);break;case 13:er(o,i),Sr(i),p=i.child,p.flags&8192&&(y=p.memoizedState!==null,p.stateNode.isHidden=y,!y||p.alternate!==null&&p.alternate.memoizedState!==null||(zf=et())),h&4&&j_(i);break;case 22:if(Z=l!==null&&l.memoizedState!==null,i.mode&1?(Kt=(H=Kt)||Z,er(o,i),Kt=H):er(o,i),Sr(i),h&8192){if(H=i.memoizedState!==null,(i.stateNode.isHidden=H)&&!Z&&(i.mode&1)!==0)for(fe=i,Z=i.child;Z!==null;){for(ee=fe=Z;fe!==null;){switch(X=fe,ue=X.child,X.tag){case 0:case 11:case 14:case 15:Sl(4,X,X.return);break;case 1:Go(X,X.return);var me=X.stateNode;if(typeof me.componentWillUnmount=="function"){h=X,l=X.return;try{o=h,me.props=o.memoizedProps,me.state=o.memoizedState,me.componentWillUnmount()}catch(ye){dt(h,l,ye)}}break;case 5:Go(X,X.return);break;case 22:if(X.memoizedState!==null){H_(ee);continue}}ue!==null?(ue.return=X,fe=ue):H_(ee)}Z=Z.sibling}e:for(Z=null,ee=i;;){if(ee.tag===5){if(Z===null){Z=ee;try{p=ee.stateNode,H?(y=p.style,typeof y.setProperty=="function"?y.setProperty("display","none","important"):y.display="none"):(A=ee.stateNode,b=ee.memoizedProps.style,T=b!=null&&b.hasOwnProperty("display")?b.display:null,A.style.display=Ei("display",T))}catch(ye){dt(i,i.return,ye)}}}else if(ee.tag===6){if(Z===null)try{ee.stateNode.nodeValue=H?"":ee.memoizedProps}catch(ye){dt(i,i.return,ye)}}else if((ee.tag!==22&&ee.tag!==23||ee.memoizedState===null||ee===i)&&ee.child!==null){ee.child.return=ee,ee=ee.child;continue}if(ee===i)break e;for(;ee.sibling===null;){if(ee.return===null||ee.return===i)break e;Z===ee&&(Z=null),ee=ee.return}Z===ee&&(Z=null),ee.sibling.return=ee.return,ee=ee.sibling}}break;case 19:er(o,i),Sr(i),h&4&&j_(i);break;case 21:break;default:er(o,i),Sr(i)}}function Sr(i){var o=i.flags;if(o&2){try{e:{for(var l=i.return;l!==null;){if(M_(l)){var h=l;break e}l=l.return}throw Error(t(160))}switch(h.tag){case 5:var p=h.stateNode;h.flags&32&&(ms(p,""),h.flags&=-33);var y=U_(i);Uf(i,y,p);break;case 3:case 4:var T=h.stateNode.containerInfo,A=U_(i);Mf(i,A,T);break;default:throw Error(t(161))}}catch(b){dt(i,i.return,b)}i.flags&=-3}o&4096&&(i.flags&=-4097)}function tR(i,o,l){fe=i,B_(i)}function B_(i,o,l){for(var h=(i.mode&1)!==0;fe!==null;){var p=fe,y=p.child;if(p.tag===22&&h){var T=p.memoizedState!==null||Dc;if(!T){var A=p.alternate,b=A!==null&&A.memoizedState!==null||Kt;A=Dc;var H=Kt;if(Dc=T,(Kt=b)&&!H)for(fe=p;fe!==null;)T=fe,b=T.child,T.tag===22&&T.memoizedState!==null?q_(p):b!==null?(b.return=T,fe=b):q_(p);for(;y!==null;)fe=y,B_(y),y=y.sibling;fe=p,Dc=A,Kt=H}$_(i)}else(p.subtreeFlags&8772)!==0&&y!==null?(y.return=p,fe=y):$_(i)}}function $_(i){for(;fe!==null;){var o=fe;if((o.flags&8772)!==0){var l=o.alternate;try{if((o.flags&8772)!==0)switch(o.tag){case 0:case 11:case 15:Kt||Lc(5,o);break;case 1:var h=o.stateNode;if(o.flags&4&&!Kt)if(l===null)h.componentDidMount();else{var p=o.elementType===o.type?l.memoizedProps:Xn(o.type,l.memoizedProps);h.componentDidUpdate(p,l.memoizedState,h.__reactInternalSnapshotBeforeUpdate)}var y=o.updateQueue;y!==null&&Hy(o,y,h);break;case 3:var T=o.updateQueue;if(T!==null){if(l=null,o.child!==null)switch(o.child.tag){case 5:l=o.child.stateNode;break;case 1:l=o.child.stateNode}Hy(o,T,l)}break;case 5:var A=o.stateNode;if(l===null&&o.flags&4){l=A;var b=o.memoizedProps;switch(o.type){case"button":case"input":case"select":case"textarea":b.autoFocus&&l.focus();break;case"img":b.src&&(l.src=b.src)}}break;case 6:break;case 4:break;case 12:break;case 13:if(o.memoizedState===null){var H=o.alternate;if(H!==null){var Z=H.memoizedState;if(Z!==null){var ee=Z.dehydrated;ee!==null&&bi(ee)}}}break;case 19:case 17:case 21:case 22:case 23:case 25:break;default:throw Error(t(163))}Kt||o.flags&512&&Vf(o)}catch(X){dt(o,o.return,X)}}if(o===i){fe=null;break}if(l=o.sibling,l!==null){l.return=o.return,fe=l;break}fe=o.return}}function H_(i){for(;fe!==null;){var o=fe;if(o===i){fe=null;break}var l=o.sibling;if(l!==null){l.return=o.return,fe=l;break}fe=o.return}}function q_(i){for(;fe!==null;){var o=fe;try{switch(o.tag){case 0:case 11:case 15:var l=o.return;try{Lc(4,o)}catch(b){dt(o,l,b)}break;case 1:var h=o.stateNode;if(typeof h.componentDidMount=="function"){var p=o.return;try{h.componentDidMount()}catch(b){dt(o,p,b)}}var y=o.return;try{Vf(o)}catch(b){dt(o,y,b)}break;case 5:var T=o.return;try{Vf(o)}catch(b){dt(o,T,b)}}}catch(b){dt(o,o.return,b)}if(o===i){fe=null;break}var A=o.sibling;if(A!==null){A.return=o.return,fe=A;break}fe=o.return}}var nR=Math.ceil,Vc=oe.ReactCurrentDispatcher,Ff=oe.ReactCurrentOwner,jn=oe.ReactCurrentBatchConfig,He=0,xt=null,St=null,jt=0,kn=0,Ko=Li(0),bt=0,Al=null,Vs=0,Mc=0,jf=0,Rl=null,dn=null,zf=0,Qo=1/0,Zr=null,Uc=!1,Bf=null,zi=null,Fc=!1,Bi=null,jc=0,Pl=0,$f=null,zc=-1,Bc=0;function nn(){return(He&6)!==0?et():zc!==-1?zc:zc=et()}function $i(i){return(i.mode&1)===0?1:(He&2)!==0&&jt!==0?jt&-jt:FA.transition!==null?(Bc===0&&(Bc=Ka()),Bc):(i=ze,i!==0||(i=window.event,i=i===void 0?16:So(i.type)),i)}function tr(i,o,l,h){if(50<Pl)throw Pl=0,$f=null,Error(t(185));Ss(i,l,h),((He&2)===0||i!==xt)&&(i===xt&&((He&2)===0&&(Mc|=l),bt===4&&Hi(i,jt)),fn(i,h),l===1&&He===0&&(o.mode&1)===0&&(Qo=et()+500,gc&&Mi()))}function fn(i,o){var l=i.callbackNode;Is(i,o);var h=jr(i,i===xt?jt:0);if(h===0)l!==null&&yo(l),i.callbackNode=null,i.callbackPriority=0;else if(o=h&-h,i.callbackPriority!==o){if(l!=null&&yo(l),o===1)i.tag===0?UA(G_.bind(null,i)):Oy(G_.bind(null,i)),DA(function(){(He&6)===0&&Mi()}),l=null;else{switch(hr(h)){case 1:l=_o;break;case 4:l=qa;break;case 16:l=vs;break;case 536870912:l=vo;break;default:l=vs}l=tv(l,W_.bind(null,i))}i.callbackPriority=o,i.callbackNode=l}}function W_(i,o){if(zc=-1,Bc=0,(He&6)!==0)throw Error(t(327));var l=i.callbackNode;if(Yo()&&i.callbackNode!==l)return null;var h=jr(i,i===xt?jt:0);if(h===0)return null;if((h&30)!==0||(h&i.expiredLanes)!==0||o)o=$c(i,h);else{o=h;var p=He;He|=2;var y=Q_();(xt!==i||jt!==o)&&(Zr=null,Qo=et()+500,Us(i,o));do try{sR();break}catch(A){K_(i,A)}while(!0);af(),Vc.current=y,He=p,St!==null?o=0:(xt=null,jt=0,o=bt)}if(o!==0){if(o===2&&(p=Ga(i),p!==0&&(h=p,o=Hf(i,p))),o===1)throw l=Al,Us(i,0),Hi(i,h),fn(i,et()),l;if(o===6)Hi(i,h);else{if(p=i.current.alternate,(h&30)===0&&!rR(p)&&(o=$c(i,h),o===2&&(y=Ga(i),y!==0&&(h=y,o=Hf(i,y))),o===1))throw l=Al,Us(i,0),Hi(i,h),fn(i,et()),l;switch(i.finishedWork=p,i.finishedLanes=h,o){case 0:case 1:throw Error(t(345));case 2:Fs(i,dn,Zr);break;case 3:if(Hi(i,h),(h&130023424)===h&&(o=zf+500-et(),10<o)){if(jr(i,0)!==0)break;if(p=i.suspendedLanes,(p&h)!==h){nn(),i.pingedLanes|=i.suspendedLanes&p;break}i.timeoutHandle=Qd(Fs.bind(null,i,dn,Zr),o);break}Fs(i,dn,Zr);break;case 4:if(Hi(i,h),(h&4194240)===h)break;for(o=i.eventTimes,p=-1;0<h;){var T=31-En(h);y=1<<T,T=o[T],T>p&&(p=T),h&=~y}if(h=p,h=et()-h,h=(120>h?120:480>h?480:1080>h?1080:1920>h?1920:3e3>h?3e3:4320>h?4320:1960*nR(h/1960))-h,10<h){i.timeoutHandle=Qd(Fs.bind(null,i,dn,Zr),h);break}Fs(i,dn,Zr);break;case 5:Fs(i,dn,Zr);break;default:throw Error(t(329))}}}return fn(i,et()),i.callbackNode===l?W_.bind(null,i):null}function Hf(i,o){var l=Rl;return i.current.memoizedState.isDehydrated&&(Us(i,o).flags|=256),i=$c(i,o),i!==2&&(o=dn,dn=l,o!==null&&qf(o)),i}function qf(i){dn===null?dn=i:dn.push.apply(dn,i)}function rR(i){for(var o=i;;){if(o.flags&16384){var l=o.updateQueue;if(l!==null&&(l=l.stores,l!==null))for(var h=0;h<l.length;h++){var p=l[h],y=p.getSnapshot;p=p.value;try{if(!Yn(y(),p))return!1}catch{return!1}}}if(l=o.child,o.subtreeFlags&16384&&l!==null)l.return=o,o=l;else{if(o===i)break;for(;o.sibling===null;){if(o.return===null||o.return===i)return!0;o=o.return}o.sibling.return=o.return,o=o.sibling}}return!0}function Hi(i,o){for(o&=~jf,o&=~Mc,i.suspendedLanes|=o,i.pingedLanes&=~o,i=i.expirationTimes;0<o;){var l=31-En(o),h=1<<l;i[l]=-1,o&=~h}}function G_(i){if((He&6)!==0)throw Error(t(327));Yo();var o=jr(i,0);if((o&1)===0)return fn(i,et()),null;var l=$c(i,o);if(i.tag!==0&&l===2){var h=Ga(i);h!==0&&(o=h,l=Hf(i,h))}if(l===1)throw l=Al,Us(i,0),Hi(i,o),fn(i,et()),l;if(l===6)throw Error(t(345));return i.finishedWork=i.current.alternate,i.finishedLanes=o,Fs(i,dn,Zr),fn(i,et()),null}function Wf(i,o){var l=He;He|=1;try{return i(o)}finally{He=l,He===0&&(Qo=et()+500,gc&&Mi())}}function Ms(i){Bi!==null&&Bi.tag===0&&(He&6)===0&&Yo();var o=He;He|=1;var l=jn.transition,h=ze;try{if(jn.transition=null,ze=1,i)return i()}finally{ze=h,jn.transition=l,He=o,(He&6)===0&&Mi()}}function Gf(){kn=Ko.current,nt(Ko)}function Us(i,o){i.finishedWork=null,i.finishedLanes=0;var l=i.timeoutHandle;if(l!==-1&&(i.timeoutHandle=-1,xA(l)),St!==null)for(l=St.return;l!==null;){var h=l;switch(tf(h),h.tag){case 1:h=h.type.childContextTypes,h!=null&&pc();break;case 3:qo(),nt(un),nt(qt),mf();break;case 5:ff(h);break;case 4:qo();break;case 13:nt(lt);break;case 19:nt(lt);break;case 10:lf(h.type._context);break;case 22:case 23:Gf()}l=l.return}if(xt=i,St=i=qi(i.current,null),jt=kn=o,bt=0,Al=null,jf=Mc=Vs=0,dn=Rl=null,xs!==null){for(o=0;o<xs.length;o++)if(l=xs[o],h=l.interleaved,h!==null){l.interleaved=null;var p=h.next,y=l.pending;if(y!==null){var T=y.next;y.next=p,h.next=T}l.pending=h}xs=null}return i}function K_(i,o){do{var l=St;try{if(af(),Rc.current=bc,Pc){for(var h=ut.memoizedState;h!==null;){var p=h.queue;p!==null&&(p.pending=null),h=h.next}Pc=!1}if(Ls=0,Ot=Ct=ut=null,vl=!1,wl=0,Ff.current=null,l===null||l.return===null){bt=1,Al=o,St=null;break}e:{var y=i,T=l.return,A=l,b=o;if(o=jt,A.flags|=32768,b!==null&&typeof b=="object"&&typeof b.then=="function"){var H=b,Z=A,ee=Z.tag;if((Z.mode&1)===0&&(ee===0||ee===11||ee===15)){var X=Z.alternate;X?(Z.updateQueue=X.updateQueue,Z.memoizedState=X.memoizedState,Z.lanes=X.lanes):(Z.updateQueue=null,Z.memoizedState=null)}var ue=v_(T);if(ue!==null){ue.flags&=-257,w_(ue,T,A,y,o),ue.mode&1&&__(y,H,o),o=ue,b=H;var me=o.updateQueue;if(me===null){var ye=new Set;ye.add(b),o.updateQueue=ye}else me.add(b);break e}else{if((o&1)===0){__(y,H,o),Kf();break e}b=Error(t(426))}}else if(at&&A.mode&1){var wt=v_(T);if(wt!==null){(wt.flags&65536)===0&&(wt.flags|=256),w_(wt,T,A,y,o),sf(Wo(b,A));break e}}y=b=Wo(b,A),bt!==4&&(bt=2),Rl===null?Rl=[y]:Rl.push(y),y=T;do{switch(y.tag){case 3:y.flags|=65536,o&=-o,y.lanes|=o;var U=g_(y,b,o);$y(y,U);break e;case 1:A=b;var x=y.type,z=y.stateNode;if((y.flags&128)===0&&(typeof x.getDerivedStateFromError=="function"||z!==null&&typeof z.componentDidCatch=="function"&&(zi===null||!zi.has(z)))){y.flags|=65536,o&=-o,y.lanes|=o;var re=y_(y,A,o);$y(y,re);break e}}y=y.return}while(y!==null)}J_(l)}catch(we){o=we,St===l&&l!==null&&(St=l=l.return);continue}break}while(!0)}function Q_(){var i=Vc.current;return Vc.current=bc,i===null?bc:i}function Kf(){(bt===0||bt===3||bt===2)&&(bt=4),xt===null||(Vs&268435455)===0&&(Mc&268435455)===0||Hi(xt,jt)}function $c(i,o){var l=He;He|=2;var h=Q_();(xt!==i||jt!==o)&&(Zr=null,Us(i,o));do try{iR();break}catch(p){K_(i,p)}while(!0);if(af(),He=l,Vc.current=h,St!==null)throw Error(t(261));return xt=null,jt=0,bt}function iR(){for(;St!==null;)Y_(St)}function sR(){for(;St!==null&&!_s();)Y_(St)}function Y_(i){var o=ev(i.alternate,i,kn);i.memoizedProps=i.pendingProps,o===null?J_(i):St=o,Ff.current=null}function J_(i){var o=i;do{var l=o.alternate;if(i=o.return,(o.flags&32768)===0){if(l=JA(l,o,kn),l!==null){St=l;return}}else{if(l=XA(l,o),l!==null){l.flags&=32767,St=l;return}if(i!==null)i.flags|=32768,i.subtreeFlags=0,i.deletions=null;else{bt=6,St=null;return}}if(o=o.sibling,o!==null){St=o;return}St=o=i}while(o!==null);bt===0&&(bt=5)}function Fs(i,o,l){var h=ze,p=jn.transition;try{jn.transition=null,ze=1,oR(i,o,l,h)}finally{jn.transition=p,ze=h}return null}function oR(i,o,l,h){do Yo();while(Bi!==null);if((He&6)!==0)throw Error(t(327));l=i.finishedWork;var p=i.finishedLanes;if(l===null)return null;if(i.finishedWork=null,i.finishedLanes=0,l===i.current)throw Error(t(177));i.callbackNode=null,i.callbackPriority=0;var y=l.lanes|l.childLanes;if(xd(i,y),i===xt&&(St=xt=null,jt=0),(l.subtreeFlags&2064)===0&&(l.flags&2064)===0||Fc||(Fc=!0,tv(vs,function(){return Yo(),null})),y=(l.flags&15990)!==0,(l.subtreeFlags&15990)!==0||y){y=jn.transition,jn.transition=null;var T=ze;ze=1;var A=He;He|=4,Ff.current=null,eR(i,l),z_(l,i),RA(Gd),$r=!!Wd,Gd=Wd=null,i.current=l,tR(l),Fr(),He=A,ze=T,jn.transition=y}else i.current=l;if(Fc&&(Fc=!1,Bi=i,jc=p),y=i.pendingLanes,y===0&&(zi=null),Yu(l.stateNode),fn(i,et()),o!==null)for(h=i.onRecoverableError,l=0;l<o.length;l++)p=o[l],h(p.value,{componentStack:p.stack,digest:p.digest});if(Uc)throw Uc=!1,i=Bf,Bf=null,i;return(jc&1)!==0&&i.tag!==0&&Yo(),y=i.pendingLanes,(y&1)!==0?i===$f?Pl++:(Pl=0,$f=i):Pl=0,Mi(),null}function Yo(){if(Bi!==null){var i=hr(jc),o=jn.transition,l=ze;try{if(jn.transition=null,ze=16>i?16:i,Bi===null)var h=!1;else{if(i=Bi,Bi=null,jc=0,(He&6)!==0)throw Error(t(331));var p=He;for(He|=4,fe=i.current;fe!==null;){var y=fe,T=y.child;if((fe.flags&16)!==0){var A=y.deletions;if(A!==null){for(var b=0;b<A.length;b++){var H=A[b];for(fe=H;fe!==null;){var Z=fe;switch(Z.tag){case 0:case 11:case 15:Sl(8,Z,y)}var ee=Z.child;if(ee!==null)ee.return=Z,fe=ee;else for(;fe!==null;){Z=fe;var X=Z.sibling,ue=Z.return;if(V_(Z),Z===H){fe=null;break}if(X!==null){X.return=ue,fe=X;break}fe=ue}}}var me=y.alternate;if(me!==null){var ye=me.child;if(ye!==null){me.child=null;do{var wt=ye.sibling;ye.sibling=null,ye=wt}while(ye!==null)}}fe=y}}if((y.subtreeFlags&2064)!==0&&T!==null)T.return=y,fe=T;else e:for(;fe!==null;){if(y=fe,(y.flags&2048)!==0)switch(y.tag){case 0:case 11:case 15:Sl(9,y,y.return)}var U=y.sibling;if(U!==null){U.return=y.return,fe=U;break e}fe=y.return}}var x=i.current;for(fe=x;fe!==null;){T=fe;var z=T.child;if((T.subtreeFlags&2064)!==0&&z!==null)z.return=T,fe=z;else e:for(T=x;fe!==null;){if(A=fe,(A.flags&2048)!==0)try{switch(A.tag){case 0:case 11:case 15:Lc(9,A)}}catch(we){dt(A,A.return,we)}if(A===T){fe=null;break e}var re=A.sibling;if(re!==null){re.return=A.return,fe=re;break e}fe=A.return}}if(He=p,Mi(),wn&&typeof wn.onPostCommitFiberRoot=="function")try{wn.onPostCommitFiberRoot(ws,i)}catch{}h=!0}return h}finally{ze=l,jn.transition=o}}return!1}function X_(i,o,l){o=Wo(l,o),o=g_(i,o,1),i=Fi(i,o,1),o=nn(),i!==null&&(Ss(i,1,o),fn(i,o))}function dt(i,o,l){if(i.tag===3)X_(i,i,l);else for(;o!==null;){if(o.tag===3){X_(o,i,l);break}else if(o.tag===1){var h=o.stateNode;if(typeof o.type.getDerivedStateFromError=="function"||typeof h.componentDidCatch=="function"&&(zi===null||!zi.has(h))){i=Wo(l,i),i=y_(o,i,1),o=Fi(o,i,1),i=nn(),o!==null&&(Ss(o,1,i),fn(o,i));break}}o=o.return}}function aR(i,o,l){var h=i.pingCache;h!==null&&h.delete(o),o=nn(),i.pingedLanes|=i.suspendedLanes&l,xt===i&&(jt&l)===l&&(bt===4||bt===3&&(jt&130023424)===jt&&500>et()-zf?Us(i,0):jf|=l),fn(i,o)}function Z_(i,o){o===0&&((i.mode&1)===0?o=1:(o=Pi,Pi<<=1,(Pi&130023424)===0&&(Pi=4194304)));var l=nn();i=Yr(i,o),i!==null&&(Ss(i,o,l),fn(i,l))}function lR(i){var o=i.memoizedState,l=0;o!==null&&(l=o.retryLane),Z_(i,l)}function uR(i,o){var l=0;switch(i.tag){case 13:var h=i.stateNode,p=i.memoizedState;p!==null&&(l=p.retryLane);break;case 19:h=i.stateNode;break;default:throw Error(t(314))}h!==null&&h.delete(o),Z_(i,l)}var ev;ev=function(i,o,l){if(i!==null)if(i.memoizedProps!==o.pendingProps||un.current)hn=!0;else{if((i.lanes&l)===0&&(o.flags&128)===0)return hn=!1,YA(i,o,l);hn=(i.flags&131072)!==0}else hn=!1,at&&(o.flags&1048576)!==0&&xy(o,_c,o.index);switch(o.lanes=0,o.tag){case 2:var h=o.type;xc(i,o),i=o.pendingProps;var p=Uo(o,qt.current);Ho(o,l),p=_f(null,o,h,i,p,l);var y=vf();return o.flags|=1,typeof p=="object"&&p!==null&&typeof p.render=="function"&&p.$$typeof===void 0?(o.tag=1,o.memoizedState=null,o.updateQueue=null,cn(h)?(y=!0,mc(o)):y=!1,o.memoizedState=p.state!==null&&p.state!==void 0?p.state:null,hf(o),p.updater=Nc,o.stateNode=p,p._reactInternals=o,Af(o,h,i,l),o=Cf(null,o,h,!0,y,l)):(o.tag=0,at&&y&&ef(o),tn(null,o,p,l),o=o.child),o;case 16:h=o.elementType;e:{switch(xc(i,o),i=o.pendingProps,p=h._init,h=p(h._payload),o.type=h,p=o.tag=hR(h),i=Xn(h,i),p){case 0:o=kf(null,o,h,i,l);break e;case 1:o=R_(null,o,h,i,l);break e;case 11:o=E_(null,o,h,i,l);break e;case 14:o=T_(null,o,h,Xn(h.type,i),l);break e}throw Error(t(306,h,""))}return o;case 0:return h=o.type,p=o.pendingProps,p=o.elementType===h?p:Xn(h,p),kf(i,o,h,p,l);case 1:return h=o.type,p=o.pendingProps,p=o.elementType===h?p:Xn(h,p),R_(i,o,h,p,l);case 3:e:{if(P_(o),i===null)throw Error(t(387));h=o.pendingProps,y=o.memoizedState,p=y.element,By(i,o),Sc(o,h,null,l);var T=o.memoizedState;if(h=T.element,y.isDehydrated)if(y={element:h,isDehydrated:!1,cache:T.cache,pendingSuspenseBoundaries:T.pendingSuspenseBoundaries,transitions:T.transitions},o.updateQueue.baseState=y,o.memoizedState=y,o.flags&256){p=Wo(Error(t(423)),o),o=k_(i,o,h,l,p);break e}else if(h!==p){p=Wo(Error(t(424)),o),o=k_(i,o,h,l,p);break e}else for(Pn=Di(o.stateNode.containerInfo.firstChild),Rn=o,at=!0,Jn=null,l=jy(o,null,h,l),o.child=l;l;)l.flags=l.flags&-3|4096,l=l.sibling;else{if(zo(),h===p){o=Xr(i,o,l);break e}tn(i,o,h,l)}o=o.child}return o;case 5:return qy(o),i===null&&rf(o),h=o.type,p=o.pendingProps,y=i!==null?i.memoizedProps:null,T=p.children,Kd(h,p)?T=null:y!==null&&Kd(h,y)&&(o.flags|=32),A_(i,o),tn(i,o,T,l),o.child;case 6:return i===null&&rf(o),null;case 13:return C_(i,o,l);case 4:return df(o,o.stateNode.containerInfo),h=o.pendingProps,i===null?o.child=Bo(o,null,h,l):tn(i,o,h,l),o.child;case 11:return h=o.type,p=o.pendingProps,p=o.elementType===h?p:Xn(h,p),E_(i,o,h,p,l);case 7:return tn(i,o,o.pendingProps,l),o.child;case 8:return tn(i,o,o.pendingProps.children,l),o.child;case 12:return tn(i,o,o.pendingProps.children,l),o.child;case 10:e:{if(h=o.type._context,p=o.pendingProps,y=o.memoizedProps,T=p.value,Xe(Ec,h._currentValue),h._currentValue=T,y!==null)if(Yn(y.value,T)){if(y.children===p.children&&!un.current){o=Xr(i,o,l);break e}}else for(y=o.child,y!==null&&(y.return=o);y!==null;){var A=y.dependencies;if(A!==null){T=y.child;for(var b=A.firstContext;b!==null;){if(b.context===h){if(y.tag===1){b=Jr(-1,l&-l),b.tag=2;var H=y.updateQueue;if(H!==null){H=H.shared;var Z=H.pending;Z===null?b.next=b:(b.next=Z.next,Z.next=b),H.pending=b}}y.lanes|=l,b=y.alternate,b!==null&&(b.lanes|=l),uf(y.return,l,o),A.lanes|=l;break}b=b.next}}else if(y.tag===10)T=y.type===o.type?null:y.child;else if(y.tag===18){if(T=y.return,T===null)throw Error(t(341));T.lanes|=l,A=T.alternate,A!==null&&(A.lanes|=l),uf(T,l,o),T=y.sibling}else T=y.child;if(T!==null)T.return=y;else for(T=y;T!==null;){if(T===o){T=null;break}if(y=T.sibling,y!==null){y.return=T.return,T=y;break}T=T.return}y=T}tn(i,o,p.children,l),o=o.child}return o;case 9:return p=o.type,h=o.pendingProps.children,Ho(o,l),p=Un(p),h=h(p),o.flags|=1,tn(i,o,h,l),o.child;case 14:return h=o.type,p=Xn(h,o.pendingProps),p=Xn(h.type,p),T_(i,o,h,p,l);case 15:return I_(i,o,o.type,o.pendingProps,l);case 17:return h=o.type,p=o.pendingProps,p=o.elementType===h?p:Xn(h,p),xc(i,o),o.tag=1,cn(h)?(i=!0,mc(o)):i=!1,Ho(o,l),p_(o,h,p),Af(o,h,p,l),Cf(null,o,h,!0,i,l);case 19:return N_(i,o,l);case 22:return S_(i,o,l)}throw Error(t(156,o.tag))};function tv(i,o){return Ha(i,o)}function cR(i,o,l,h){this.tag=i,this.key=l,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.ref=null,this.pendingProps=o,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=h,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function zn(i,o,l,h){return new cR(i,o,l,h)}function Qf(i){return i=i.prototype,!(!i||!i.isReactComponent)}function hR(i){if(typeof i=="function")return Qf(i)?1:0;if(i!=null){if(i=i.$$typeof,i===O)return 11;if(i===j)return 14}return 2}function qi(i,o){var l=i.alternate;return l===null?(l=zn(i.tag,o,i.key,i.mode),l.elementType=i.elementType,l.type=i.type,l.stateNode=i.stateNode,l.alternate=i,i.alternate=l):(l.pendingProps=o,l.type=i.type,l.flags=0,l.subtreeFlags=0,l.deletions=null),l.flags=i.flags&14680064,l.childLanes=i.childLanes,l.lanes=i.lanes,l.child=i.child,l.memoizedProps=i.memoizedProps,l.memoizedState=i.memoizedState,l.updateQueue=i.updateQueue,o=i.dependencies,l.dependencies=o===null?null:{lanes:o.lanes,firstContext:o.firstContext},l.sibling=i.sibling,l.index=i.index,l.ref=i.ref,l}function Hc(i,o,l,h,p,y){var T=2;if(h=i,typeof i=="function")Qf(i)&&(T=1);else if(typeof i=="string")T=5;else e:switch(i){case C:return js(l.children,p,y,o);case S:T=8,p|=8;break;case k:return i=zn(12,l,o,p|2),i.elementType=k,i.lanes=y,i;case P:return i=zn(13,l,o,p),i.elementType=P,i.lanes=y,i;case Oe:return i=zn(19,l,o,p),i.elementType=Oe,i.lanes=y,i;case he:return qc(l,p,y,o);default:if(typeof i=="object"&&i!==null)switch(i.$$typeof){case D:T=10;break e;case N:T=9;break e;case O:T=11;break e;case j:T=14;break e;case Q:T=16,h=null;break e}throw Error(t(130,i==null?i:typeof i,""))}return o=zn(T,l,o,p),o.elementType=i,o.type=h,o.lanes=y,o}function js(i,o,l,h){return i=zn(7,i,h,o),i.lanes=l,i}function qc(i,o,l,h){return i=zn(22,i,h,o),i.elementType=he,i.lanes=l,i.stateNode={isHidden:!1},i}function Yf(i,o,l){return i=zn(6,i,null,o),i.lanes=l,i}function Jf(i,o,l){return o=zn(4,i.children!==null?i.children:[],i.key,o),o.lanes=l,o.stateNode={containerInfo:i.containerInfo,pendingChildren:null,implementation:i.implementation},o}function dR(i,o,l,h,p){this.tag=o,this.containerInfo=i,this.finishedWork=this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.pendingContext=this.context=null,this.callbackPriority=0,this.eventTimes=Qa(0),this.expirationTimes=Qa(-1),this.entangledLanes=this.finishedLanes=this.mutableReadLanes=this.expiredLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=Qa(0),this.identifierPrefix=h,this.onRecoverableError=p,this.mutableSourceEagerHydrationData=null}function Xf(i,o,l,h,p,y,T,A,b){return i=new dR(i,o,l,A,b),o===1?(o=1,y===!0&&(o|=8)):o=0,y=zn(3,null,null,o),i.current=y,y.stateNode=i,y.memoizedState={element:h,isDehydrated:l,cache:null,transitions:null,pendingSuspenseBoundaries:null},hf(y),i}function fR(i,o,l){var h=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:pe,key:h==null?null:""+h,children:i,containerInfo:o,implementation:l}}function nv(i){if(!i)return Vi;i=i._reactInternals;e:{if(Kn(i)!==i||i.tag!==1)throw Error(t(170));var o=i;do{switch(o.tag){case 3:o=o.stateNode.context;break e;case 1:if(cn(o.type)){o=o.stateNode.__reactInternalMemoizedMergedChildContext;break e}}o=o.return}while(o!==null);throw Error(t(171))}if(i.tag===1){var l=i.type;if(cn(l))return by(i,l,o)}return o}function rv(i,o,l,h,p,y,T,A,b){return i=Xf(l,h,!0,i,p,y,T,A,b),i.context=nv(null),l=i.current,h=nn(),p=$i(l),y=Jr(h,p),y.callback=o??null,Fi(l,y,p),i.current.lanes=p,Ss(i,p,h),fn(i,h),i}function Wc(i,o,l,h){var p=o.current,y=nn(),T=$i(p);return l=nv(l),o.context===null?o.context=l:o.pendingContext=l,o=Jr(y,T),o.payload={element:i},h=h===void 0?null:h,h!==null&&(o.callback=h),i=Fi(p,o,T),i!==null&&(tr(i,p,T,y),Ic(i,p,T)),T}function Gc(i){return i=i.current,i.child?(i.child.tag===5,i.child.stateNode):null}function iv(i,o){if(i=i.memoizedState,i!==null&&i.dehydrated!==null){var l=i.retryLane;i.retryLane=l!==0&&l<o?l:o}}function Zf(i,o){iv(i,o),(i=i.alternate)&&iv(i,o)}function pR(){return null}var sv=typeof reportError=="function"?reportError:function(i){console.error(i)};function ep(i){this._internalRoot=i}Kc.prototype.render=ep.prototype.render=function(i){var o=this._internalRoot;if(o===null)throw Error(t(409));Wc(i,o,null,null)},Kc.prototype.unmount=ep.prototype.unmount=function(){var i=this._internalRoot;if(i!==null){this._internalRoot=null;var o=i.containerInfo;Ms(function(){Wc(null,i,null,null)}),o[Wr]=null}};function Kc(i){this._internalRoot=i}Kc.prototype.unstable_scheduleHydration=function(i){if(i){var o=Za();i={blockedOn:null,target:i,priority:o};for(var l=0;l<Tn.length&&o!==0&&o<Tn[l].priority;l++);Tn.splice(l,0,i),l===0&&To(i)}};function tp(i){return!(!i||i.nodeType!==1&&i.nodeType!==9&&i.nodeType!==11)}function Qc(i){return!(!i||i.nodeType!==1&&i.nodeType!==9&&i.nodeType!==11&&(i.nodeType!==8||i.nodeValue!==" react-mount-point-unstable "))}function ov(){}function mR(i,o,l,h,p){if(p){if(typeof h=="function"){var y=h;h=function(){var H=Gc(T);y.call(H)}}var T=rv(o,h,i,0,null,!1,!1,"",ov);return i._reactRootContainer=T,i[Wr]=T.current,hl(i.nodeType===8?i.parentNode:i),Ms(),T}for(;p=i.lastChild;)i.removeChild(p);if(typeof h=="function"){var A=h;h=function(){var H=Gc(b);A.call(H)}}var b=Xf(i,0,!1,null,null,!1,!1,"",ov);return i._reactRootContainer=b,i[Wr]=b.current,hl(i.nodeType===8?i.parentNode:i),Ms(function(){Wc(o,b,l,h)}),b}function Yc(i,o,l,h,p){var y=l._reactRootContainer;if(y){var T=y;if(typeof p=="function"){var A=p;p=function(){var b=Gc(T);A.call(b)}}Wc(o,T,i,p)}else T=mR(l,o,i,p,h);return Gc(T)}Ja=function(i){switch(i.tag){case 3:var o=i.stateNode;if(o.current.memoizedState.isDehydrated){var l=We(o.pendingLanes);l!==0&&(Ya(o,l|1),fn(o,et()),(He&6)===0&&(Qo=et()+500,Mi()))}break;case 13:Ms(function(){var h=Yr(i,1);if(h!==null){var p=nn();tr(h,i,1,p)}}),Zf(i,1)}},wo=function(i){if(i.tag===13){var o=Yr(i,134217728);if(o!==null){var l=nn();tr(o,i,134217728,l)}Zf(i,134217728)}},Xa=function(i){if(i.tag===13){var o=$i(i),l=Yr(i,o);if(l!==null){var h=nn();tr(l,i,o,h)}Zf(i,o)}},Za=function(){return ze},el=function(i,o){var l=ze;try{return ze=i,o()}finally{ze=l}},Vr=function(i,o,l){switch(o){case"input":if(ps(i,l),o=l.name,l.type==="radio"&&o!=null){for(l=i;l.parentNode;)l=l.parentNode;for(l=l.querySelectorAll("input[name="+JSON.stringify(""+o)+'][type="radio"]'),o=0;o<l.length;o++){var h=l[o];if(h!==i&&h.form===i.form){var p=fc(h);if(!p)throw Error(t(90));La(h),ps(h,p)}}}break;case"textarea":Uu(i,l);break;case"select":o=l.value,o!=null&&Wn(i,!!l.multiple,o,!1)}},zu=Wf,Bu=Ms;var gR={usingClientEntryPoint:!1,Events:[pl,Vo,fc,Ii,Si,Wf]},kl={findFiberByHostInstance:Cs,bundleType:0,version:"18.3.1",rendererPackageName:"react-dom"},yR={bundleType:kl.bundleType,version:kl.version,rendererPackageName:kl.rendererPackageName,rendererConfig:kl.rendererConfig,overrideHookState:null,overrideHookStateDeletePath:null,overrideHookStateRenamePath:null,overrideProps:null,overridePropsDeletePath:null,overridePropsRenamePath:null,setErrorHandler:null,setSuspenseHandler:null,scheduleUpdate:null,currentDispatcherRef:oe.ReactCurrentDispatcher,findHostInstanceByFiber:function(i){return i=Qu(i),i===null?null:i.stateNode},findFiberByHostInstance:kl.findFiberByHostInstance||pR,findHostInstancesForRefresh:null,scheduleRefresh:null,scheduleRoot:null,setRefreshHandler:null,getCurrentFiber:null,reconcilerVersion:"18.3.1-next-f1338f8080-20240426"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var Jc=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!Jc.isDisabled&&Jc.supportsFiber)try{ws=Jc.inject(yR),wn=Jc}catch{}}return pn.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=gR,pn.createPortal=function(i,o){var l=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!tp(o))throw Error(t(200));return fR(i,o,null,l)},pn.createRoot=function(i,o){if(!tp(i))throw Error(t(299));var l=!1,h="",p=sv;return o!=null&&(o.unstable_strictMode===!0&&(l=!0),o.identifierPrefix!==void 0&&(h=o.identifierPrefix),o.onRecoverableError!==void 0&&(p=o.onRecoverableError)),o=Xf(i,1,!1,null,null,l,!1,h,p),i[Wr]=o.current,hl(i.nodeType===8?i.parentNode:i),new ep(o)},pn.findDOMNode=function(i){if(i==null)return null;if(i.nodeType===1)return i;var o=i._reactInternals;if(o===void 0)throw typeof i.render=="function"?Error(t(188)):(i=Object.keys(i).join(","),Error(t(268,i)));return i=Qu(o),i=i===null?null:i.stateNode,i},pn.flushSync=function(i){return Ms(i)},pn.hydrate=function(i,o,l){if(!Qc(o))throw Error(t(200));return Yc(null,i,o,!0,l)},pn.hydrateRoot=function(i,o,l){if(!tp(i))throw Error(t(405));var h=l!=null&&l.hydratedSources||null,p=!1,y="",T=sv;if(l!=null&&(l.unstable_strictMode===!0&&(p=!0),l.identifierPrefix!==void 0&&(y=l.identifierPrefix),l.onRecoverableError!==void 0&&(T=l.onRecoverableError)),o=rv(o,null,i,1,l??null,p,!1,y,T),i[Wr]=o.current,hl(i),h)for(i=0;i<h.length;i++)l=h[i],p=l._getVersion,p=p(l._source),o.mutableSourceEagerHydrationData==null?o.mutableSourceEagerHydrationData=[l,p]:o.mutableSourceEagerHydrationData.push(l,p);return new Kc(o)},pn.render=function(i,o,l){if(!Qc(o))throw Error(t(200));return Yc(null,i,o,!1,l)},pn.unmountComponentAtNode=function(i){if(!Qc(i))throw Error(t(40));return i._reactRootContainer?(Ms(function(){Yc(null,null,i,!1,function(){i._reactRootContainer=null,i[Wr]=null})}),!0):!1},pn.unstable_batchedUpdates=Wf,pn.unstable_renderSubtreeIntoContainer=function(i,o,l,h){if(!Qc(l))throw Error(t(200));if(i==null||i._reactInternals===void 0)throw Error(t(38));return Yc(i,o,l,!1,h)},pn.version="18.3.1-next-f1338f8080-20240426",pn}var pv;function AR(){if(pv)return ip.exports;pv=1;function n(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(n)}catch(e){console.error(e)}}return n(),ip.exports=SR(),ip.exports}var mv;function RR(){if(mv)return Xc;mv=1;var n=AR();return Xc.createRoot=n.createRoot,Xc.hydrateRoot=n.hydrateRoot,Xc}var PR=RR();const kR=Ia(PR);var ap,gv;function CR(){if(gv)return ap;gv=1;var n=typeof Element<"u",e=typeof Map=="function",t=typeof Set=="function",r=typeof ArrayBuffer=="function"&&!!ArrayBuffer.isView;function s(a,u){if(a===u)return!0;if(a&&u&&typeof a=="object"&&typeof u=="object"){if(a.constructor!==u.constructor)return!1;var d,f,m;if(Array.isArray(a)){if(d=a.length,d!=u.length)return!1;for(f=d;f--!==0;)if(!s(a[f],u[f]))return!1;return!0}var g;if(e&&a instanceof Map&&u instanceof Map){if(a.size!==u.size)return!1;for(g=a.entries();!(f=g.next()).done;)if(!u.has(f.value[0]))return!1;for(g=a.entries();!(f=g.next()).done;)if(!s(f.value[1],u.get(f.value[0])))return!1;return!0}if(t&&a instanceof Set&&u instanceof Set){if(a.size!==u.size)return!1;for(g=a.entries();!(f=g.next()).done;)if(!u.has(f.value[0]))return!1;return!0}if(r&&ArrayBuffer.isView(a)&&ArrayBuffer.isView(u)){if(d=a.length,d!=u.length)return!1;for(f=d;f--!==0;)if(a[f]!==u[f])return!1;return!0}if(a.constructor===RegExp)return a.source===u.source&&a.flags===u.flags;if(a.valueOf!==Object.prototype.valueOf&&typeof a.valueOf=="function"&&typeof u.valueOf=="function")return a.valueOf()===u.valueOf();if(a.toString!==Object.prototype.toString&&typeof a.toString=="function"&&typeof u.toString=="function")return a.toString()===u.toString();if(m=Object.keys(a),d=m.length,d!==Object.keys(u).length)return!1;for(f=d;f--!==0;)if(!Object.prototype.hasOwnProperty.call(u,m[f]))return!1;if(n&&a instanceof Element)return!1;for(f=d;f--!==0;)if(!((m[f]==="_owner"||m[f]==="__v"||m[f]==="__o")&&a.$$typeof)&&!s(a[m[f]],u[m[f]]))return!1;return!0}return a!==a&&u!==u}return ap=function(u,d){try{return s(u,d)}catch(f){if((f.message||"").match(/stack|recursion/i))return console.warn("react-fast-compare cannot handle circular refs"),!1;throw f}},ap}var bR=CR();const NR=Ia(bR);var lp,yv;function OR(){if(yv)return lp;yv=1;var n=function(e,t,r,s,a,u,d,f){if(!e){var m;if(t===void 0)m=new Error("Minified exception occurred; use the non-minified dev environment for the full error message and additional helpful warnings.");else{var g=[r,s,a,u,d,f],E=0;m=new Error(t.replace(/%s/g,function(){return g[E++]})),m.name="Invariant Violation"}throw m.framesToPop=1,m}};return lp=n,lp}var xR=OR();const _v=Ia(xR);var up,vv;function DR(){return vv||(vv=1,up=function(e,t,r,s){var a=r?r.call(s,e,t):void 0;if(a!==void 0)return!!a;if(e===t)return!0;if(typeof e!="object"||!e||typeof t!="object"||!t)return!1;var u=Object.keys(e),d=Object.keys(t);if(u.length!==d.length)return!1;for(var f=Object.prototype.hasOwnProperty.bind(t),m=0;m<u.length;m++){var g=u[m];if(!f(g))return!1;var E=e[g],w=t[g];if(a=r?r.call(s,E,w,g):void 0,a===!1||a===void 0&&E!==w)return!1}return!0}),up}var LR=DR();const VR=Ia(LR);var cT=(n=>(n.BASE="base",n.BODY="body",n.HEAD="head",n.HTML="html",n.LINK="link",n.META="meta",n.NOSCRIPT="noscript",n.SCRIPT="script",n.STYLE="style",n.TITLE="title",n.FRAGMENT="Symbol(react.fragment)",n))(cT||{}),cp={link:{rel:["amphtml","canonical","alternate"]},script:{type:["application/ld+json"]},meta:{charset:"",name:["generator","robots","description"],property:["og:type","og:title","og:url","og:image","og:image:alt","og:description","twitter:url","twitter:title","twitter:description","twitter:image","twitter:image:alt","twitter:card","twitter:site"]}},wv=Object.values(cT),Rm={accesskey:"accessKey",charset:"charSet",class:"className",contenteditable:"contentEditable",contextmenu:"contextMenu","http-equiv":"httpEquiv",itemprop:"itemProp",tabindex:"tabIndex"},MR=Object.entries(Rm).reduce((n,[e,t])=>(n[t]=e,n),{}),rr="data-rh",sa={DEFAULT_TITLE:"defaultTitle",DEFER:"defer",ENCODE_SPECIAL_CHARACTERS:"encodeSpecialCharacters",ON_CHANGE_CLIENT_STATE:"onChangeClientState",TITLE_TEMPLATE:"titleTemplate",PRIORITIZE_SEO_TAGS:"prioritizeSeoTags"},oa=(n,e)=>{for(let t=n.length-1;t>=0;t-=1){const r=n[t];if(Object.prototype.hasOwnProperty.call(r,e))return r[e]}return null},UR=n=>{let e=oa(n,"title");const t=oa(n,sa.TITLE_TEMPLATE);if(Array.isArray(e)&&(e=e.join("")),t&&e)return t.replace(/%s/g,()=>e);const r=oa(n,sa.DEFAULT_TITLE);return e||r||void 0},FR=n=>oa(n,sa.ON_CHANGE_CLIENT_STATE)||(()=>{}),hp=(n,e)=>e.filter(t=>typeof t[n]<"u").map(t=>t[n]).reduce((t,r)=>({...t,...r}),{}),jR=(n,e)=>e.filter(t=>typeof t.base<"u").map(t=>t.base).reverse().reduce((t,r)=>{if(!t.length){const s=Object.keys(r);for(let a=0;a<s.length;a+=1){const d=s[a].toLowerCase();if(n.indexOf(d)!==-1&&r[d])return t.concat(r)}}return t},[]),zR=n=>console&&typeof console.warn=="function"&&console.warn(n),bl=(n,e,t)=>{const r={};return t.filter(s=>Array.isArray(s[n])?!0:(typeof s[n]<"u"&&zR(`Helmet: ${n} should be of type "Array". Instead found type "${typeof s[n]}"`),!1)).map(s=>s[n]).reverse().reduce((s,a)=>{const u={};a.filter(f=>{let m;const g=Object.keys(f);for(let w=0;w<g.length;w+=1){const R=g[w],M=R.toLowerCase();e.indexOf(M)!==-1&&!(m==="rel"&&f[m].toLowerCase()==="canonical")&&!(M==="rel"&&f[M].toLowerCase()==="stylesheet")&&(m=M),e.indexOf(R)!==-1&&(R==="innerHTML"||R==="cssText"||R==="itemprop")&&(m=R)}if(!m||!f[m])return!1;const E=f[m].toLowerCase();return r[m]||(r[m]={}),u[m]||(u[m]={}),r[m][E]?!1:(u[m][E]=!0,!0)}).reverse().forEach(f=>s.push(f));const d=Object.keys(u);for(let f=0;f<d.length;f+=1){const m=d[f],g={...r[m],...u[m]};r[m]=g}return s},[]).reverse()},BR=(n,e)=>{if(Array.isArray(n)&&n.length){for(let t=0;t<n.length;t+=1)if(n[t][e])return!0}return!1},$R=n=>({baseTag:jR(["href"],n),bodyAttributes:hp("bodyAttributes",n),defer:oa(n,sa.DEFER),encode:oa(n,sa.ENCODE_SPECIAL_CHARACTERS),htmlAttributes:hp("htmlAttributes",n),linkTags:bl("link",["rel","href"],n),metaTags:bl("meta",["name","charset","http-equiv","property","itemprop"],n),noscriptTags:bl("noscript",["innerHTML"],n),onChangeClientState:FR(n),scriptTags:bl("script",["src","innerHTML"],n),styleTags:bl("style",["cssText"],n),title:UR(n),titleAttributes:hp("titleAttributes",n),prioritizeSeoTags:BR(n,sa.PRIORITIZE_SEO_TAGS)}),hT=n=>Array.isArray(n)?n.join(""):n,HR=(n,e)=>{const t=Object.keys(n);for(let r=0;r<t.length;r+=1)if(e[t[r]]&&e[t[r]].includes(n[t[r]]))return!0;return!1},dp=(n,e)=>Array.isArray(n)?n.reduce((t,r)=>(HR(r,e)?t.priority.push(r):t.default.push(r),t),{priority:[],default:[]}):{default:n,priority:[]},Ev=(n,e)=>({...n,[e]:void 0}),qR=["noscript","script","style"],jp=(n,e=!0)=>e===!1?String(n):String(n).replace(/&/g,"&amp;").replace(/</g,"&lt;").replace(/>/g,"&gt;").replace(/"/g,"&quot;").replace(/'/g,"&#x27;"),dT=n=>Object.keys(n).reduce((e,t)=>{const r=typeof n[t]<"u"?`${t}="${n[t]}"`:`${t}`;return e?`${e} ${r}`:r},""),WR=(n,e,t,r)=>{const s=dT(t),a=hT(e);return s?`<${n} ${rr}="true" ${s}>${jp(a,r)}</${n}>`:`<${n} ${rr}="true">${jp(a,r)}</${n}>`},GR=(n,e,t=!0)=>e.reduce((r,s)=>{const a=s,u=Object.keys(a).filter(m=>!(m==="innerHTML"||m==="cssText")).reduce((m,g)=>{const E=typeof a[g]>"u"?g:`${g}="${jp(a[g],t)}"`;return m?`${m} ${E}`:E},""),d=a.innerHTML||a.cssText||"",f=qR.indexOf(n)===-1;return`${r}<${n} ${rr}="true" ${u}${f?"/>":`>${d}</${n}>`}`},""),fT=(n,e={})=>Object.keys(n).reduce((t,r)=>{const s=Rm[r];return t[s||r]=n[r],t},e),KR=(n,e,t)=>{const r={key:e,[rr]:!0},s=fT(t,r);return[ce.createElement("title",s,e)]},dh=(n,e)=>e.map((t,r)=>{const s={key:r,[rr]:!0};return Object.keys(t).forEach(a=>{const d=Rm[a]||a;if(d==="innerHTML"||d==="cssText"){const f=t.innerHTML||t.cssText;s.dangerouslySetInnerHTML={__html:f}}else s[d]=t[a]}),ce.createElement(n,s)}),Bn=(n,e,t=!0)=>{switch(n){case"title":return{toComponent:()=>KR(n,e.title,e.titleAttributes),toString:()=>WR(n,e.title,e.titleAttributes,t)};case"bodyAttributes":case"htmlAttributes":return{toComponent:()=>fT(e),toString:()=>dT(e)};default:return{toComponent:()=>dh(n,e),toString:()=>GR(n,e,t)}}},QR=({metaTags:n,linkTags:e,scriptTags:t,encode:r})=>{const s=dp(n,cp.meta),a=dp(e,cp.link),u=dp(t,cp.script);return{priorityMethods:{toComponent:()=>[...dh("meta",s.priority),...dh("link",a.priority),...dh("script",u.priority)],toString:()=>`${Bn("meta",s.priority,r)} ${Bn("link",a.priority,r)} ${Bn("script",u.priority,r)}`},metaTags:s.default,linkTags:a.default,scriptTags:u.default}},YR=n=>{const{baseTag:e,bodyAttributes:t,encode:r=!0,htmlAttributes:s,noscriptTags:a,styleTags:u,title:d="",titleAttributes:f,prioritizeSeoTags:m}=n;let{linkTags:g,metaTags:E,scriptTags:w}=n,R={toComponent:()=>{},toString:()=>""};return m&&({priorityMethods:R,linkTags:g,metaTags:E,scriptTags:w}=QR(n)),{priority:R,base:Bn("base",e,r),bodyAttributes:Bn("bodyAttributes",t,r),htmlAttributes:Bn("htmlAttributes",s,r),link:Bn("link",g,r),meta:Bn("meta",E,r),noscript:Bn("noscript",a,r),script:Bn("script",w,r),style:Bn("style",u,r),title:Bn("title",{title:d,titleAttributes:f},r)}},zp=YR,Zc=[],pT=!!(typeof window<"u"&&window.document&&window.document.createElement),Bp=class{instances=[];canUseDOM=pT;context;value={setHelmet:n=>{this.context.helmet=n},helmetInstances:{get:()=>this.canUseDOM?Zc:this.instances,add:n=>{(this.canUseDOM?Zc:this.instances).push(n)},remove:n=>{const e=(this.canUseDOM?Zc:this.instances).indexOf(n);(this.canUseDOM?Zc:this.instances).splice(e,1)}}};constructor(n,e){this.context=n,this.canUseDOM=e||!1,e||(n.helmet=zp({baseTag:[],bodyAttributes:{},htmlAttributes:{},linkTags:[],metaTags:[],noscriptTags:[],scriptTags:[],styleTags:[],title:"",titleAttributes:{}}))}},JR={},mT=ce.createContext(JR),gT=class yT extends Ee.Component{static canUseDOM=pT;helmetData;constructor(e){super(e),this.helmetData=new Bp(this.props.context||{},yT.canUseDOM)}render(){return ce.createElement(mT.Provider,{value:this.helmetData.value},this.props.children)}},Jo=(n,e)=>{const t=document.head||document.querySelector("head"),r=t.querySelectorAll(`${n}[${rr}]`),s=[].slice.call(r),a=[];let u;return e&&e.length&&e.forEach(d=>{const f=document.createElement(n);for(const m in d)if(Object.prototype.hasOwnProperty.call(d,m))if(m==="innerHTML")f.innerHTML=d.innerHTML;else if(m==="cssText")f.styleSheet?f.styleSheet.cssText=d.cssText:f.appendChild(document.createTextNode(d.cssText));else{const g=m,E=typeof d[g]>"u"?"":d[g];f.setAttribute(m,E)}f.setAttribute(rr,"true"),s.some((m,g)=>(u=g,f.isEqualNode(m)))?s.splice(u,1):a.push(f)}),s.forEach(d=>d.parentNode?.removeChild(d)),a.forEach(d=>t.appendChild(d)),{oldTags:s,newTags:a}},$p=(n,e)=>{const t=document.getElementsByTagName(n)[0];if(!t)return;const r=t.getAttribute(rr),s=r?r.split(","):[],a=[...s],u=Object.keys(e);for(const d of u){const f=e[d]||"";t.getAttribute(d)!==f&&t.setAttribute(d,f),s.indexOf(d)===-1&&s.push(d);const m=a.indexOf(d);m!==-1&&a.splice(m,1)}for(let d=a.length-1;d>=0;d-=1)t.removeAttribute(a[d]);s.length===a.length?t.removeAttribute(rr):t.getAttribute(rr)!==u.join(",")&&t.setAttribute(rr,u.join(","))},XR=(n,e)=>{typeof n<"u"&&document.title!==n&&(document.title=hT(n)),$p("title",e)},Tv=(n,e)=>{const{baseTag:t,bodyAttributes:r,htmlAttributes:s,linkTags:a,metaTags:u,noscriptTags:d,onChangeClientState:f,scriptTags:m,styleTags:g,title:E,titleAttributes:w}=n;$p("body",r),$p("html",s),XR(E,w);const R={baseTag:Jo("base",t),linkTags:Jo("link",a),metaTags:Jo("meta",u),noscriptTags:Jo("noscript",d),scriptTags:Jo("script",m),styleTags:Jo("style",g)},M={},$={};Object.keys(R).forEach(B=>{const{newTags:te,oldTags:le}=R[B];te.length&&(M[B]=te),le.length&&($[B]=R[B].oldTags)}),e&&e(),f(n,M,$)},Nl=null,ZR=n=>{Nl&&cancelAnimationFrame(Nl),n.defer?Nl=requestAnimationFrame(()=>{Tv(n,()=>{Nl=null})}):(Tv(n),Nl=null)},eP=ZR,Iv=class extends Ee.Component{rendered=!1;shouldComponentUpdate(n){return!VR(n,this.props)}componentDidUpdate(){this.emitChange()}componentWillUnmount(){const{helmetInstances:n}=this.props.context;n.remove(this),this.emitChange()}emitChange(){const{helmetInstances:n,setHelmet:e}=this.props.context;let t=null;const r=$R(n.get().map(s=>{const a={...s.props};return delete a.context,a}));gT.canUseDOM?eP(r):zp&&(t=zp(r)),e(t)}init(){if(this.rendered)return;this.rendered=!0;const{helmetInstances:n}=this.props.context;n.add(this),this.emitChange()}render(){return this.init(),null}},VU=class extends Ee.Component{static defaultProps={defer:!0,encodeSpecialCharacters:!0,prioritizeSeoTags:!1};shouldComponentUpdate(n){return!NR(Ev(this.props,"helmetData"),Ev(n,"helmetData"))}mapNestedChildrenToProps(n,e){if(!e)return null;switch(n.type){case"script":case"noscript":return{innerHTML:e};case"style":return{cssText:e};default:throw new Error(`<${n.type} /> elements are self-closing and can not contain children. Refer to our API for more information.`)}}flattenArrayTypeChildren(n,e,t,r){return{...e,[n.type]:[...e[n.type]||[],{...t,...this.mapNestedChildrenToProps(n,r)}]}}mapObjectTypeChildren(n,e,t,r){switch(n.type){case"title":return{...e,[n.type]:r,titleAttributes:{...t}};case"body":return{...e,bodyAttributes:{...t}};case"html":return{...e,htmlAttributes:{...t}};default:return{...e,[n.type]:{...t}}}}mapArrayTypeChildrenToProps(n,e){let t={...e};return Object.keys(n).forEach(r=>{t={...t,[r]:n[r]}}),t}warnOnInvalidChildren(n,e){return _v(wv.some(t=>n.type===t),typeof n.type=="function"?"You may be attempting to nest <Helmet> components within each other, which is not allowed. Refer to our API for more information.":`Only elements types ${wv.join(", ")} are allowed. Helmet does not support rendering <${n.type}> elements. Refer to our API for more information.`),_v(!e||typeof e=="string"||Array.isArray(e)&&!e.some(t=>typeof t!="string"),`Helmet expects a string as a child of <${n.type}>. Did you forget to wrap your children in braces? ( <${n.type}>{\`\`}</${n.type}> ) Refer to our API for more information.`),!0}mapChildrenToProps(n,e){let t={};return ce.Children.forEach(n,r=>{if(!r||!r.props)return;const{children:s,...a}=r.props,u=Object.keys(a).reduce((f,m)=>(f[MR[m]||m]=a[m],f),{});let{type:d}=r;switch(typeof d=="symbol"?d=d.toString():this.warnOnInvalidChildren(r,s),d){case"Symbol(react.fragment)":e=this.mapChildrenToProps(s,e);break;case"link":case"meta":case"noscript":case"script":case"style":t=this.flattenArrayTypeChildren(r,t,u,s);break;default:e=this.mapObjectTypeChildren(r,e,u,s);break}}),this.mapArrayTypeChildrenToProps(t,e)}render(){const{children:n,...e}=this.props;let t={...e},{helmetData:r}=e;if(n&&(t=this.mapChildrenToProps(n,t)),r&&!(r instanceof Bp)){const s=r;r=new Bp(s.context,!0),delete t.helmetData}return r?ce.createElement(Iv,{...t,context:r.value}):ce.createElement(mT.Consumer,null,s=>ce.createElement(Iv,{...t,context:s}))}};const tP="modulepreload",nP=function(n){return"/"+n},Sv={},_e=function(e,t,r){let s=Promise.resolve();if(t&&t.length>0){let f=function(m){return Promise.all(m.map(g=>Promise.resolve(g).then(E=>({status:"fulfilled",value:E}),E=>({status:"rejected",reason:E}))))};document.getElementsByTagName("link");const u=document.querySelector("meta[property=csp-nonce]"),d=u?.nonce||u?.getAttribute("nonce");s=f(t.map(m=>{if(m=nP(m),m in Sv)return;Sv[m]=!0;const g=m.endsWith(".css"),E=g?'[rel="stylesheet"]':"";if(document.querySelector(`link[href="${m}"]${E}`))return;const w=document.createElement("link");if(w.rel=g?"stylesheet":tP,g||(w.as="script"),w.crossOrigin="",w.href=m,d&&w.setAttribute("nonce",d),document.head.appendChild(w),g)return new Promise((R,M)=>{w.addEventListener("load",R),w.addEventListener("error",()=>M(new Error(`Unable to preload CSS for ${m}`)))})}))}function a(u){const d=new Event("vite:preloadError",{cancelable:!0});if(d.payload=u,window.dispatchEvent(d),!d.defaultPrevented)throw u}return s.then(u=>{for(const d of u||[])d.status==="rejected"&&a(d.reason);return e().catch(a)})},_T=Ee.createContext(void 0),Ar=({children:n})=>{const[e,t]=Ee.useState("light");Ee.useEffect(()=>{const s=localStorage.getItem("careervivid-theme"),a=window.matchMedia("(prefers-color-scheme: dark)").matches;t(s||(a?"dark":"light"))},[]),Ee.useEffect(()=>{e==="dark"?document.documentElement.classList.add("dark"):document.documentElement.classList.remove("dark"),localStorage.setItem("careervivid-theme",e)},[e]);const r=()=>{t(s=>s==="light"?"dark":"light")};return L.jsx(_T.Provider,{value:{theme:e,toggleTheme:r},children:n})},vT=()=>{const n=Ee.useContext(_T);if(n===void 0)throw new Error("useTheme must be used within a ThemeProvider");return n},rP=()=>{};var Av={};const wT=function(n){const e=[];let t=0;for(let r=0;r<n.length;r++){let s=n.charCodeAt(r);s<128?e[t++]=s:s<2048?(e[t++]=s>>6|192,e[t++]=s&63|128):(s&64512)===55296&&r+1<n.length&&(n.charCodeAt(r+1)&64512)===56320?(s=65536+((s&1023)<<10)+(n.charCodeAt(++r)&1023),e[t++]=s>>18|240,e[t++]=s>>12&63|128,e[t++]=s>>6&63|128,e[t++]=s&63|128):(e[t++]=s>>12|224,e[t++]=s>>6&63|128,e[t++]=s&63|128)}return e},iP=function(n){const e=[];let t=0,r=0;for(;t<n.length;){const s=n[t++];if(s<128)e[r++]=String.fromCharCode(s);else if(s>191&&s<224){const a=n[t++];e[r++]=String.fromCharCode((s&31)<<6|a&63)}else if(s>239&&s<365){const a=n[t++],u=n[t++],d=n[t++],f=((s&7)<<18|(a&63)<<12|(u&63)<<6|d&63)-65536;e[r++]=String.fromCharCode(55296+(f>>10)),e[r++]=String.fromCharCode(56320+(f&1023))}else{const a=n[t++],u=n[t++];e[r++]=String.fromCharCode((s&15)<<12|(a&63)<<6|u&63)}}return e.join("")},ET={byteToCharMap_:null,charToByteMap_:null,byteToCharMapWebSafe_:null,charToByteMapWebSafe_:null,ENCODED_VALS_BASE:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",get ENCODED_VALS(){return this.ENCODED_VALS_BASE+"+/="},get ENCODED_VALS_WEBSAFE(){return this.ENCODED_VALS_BASE+"-_."},HAS_NATIVE_SUPPORT:typeof atob=="function",encodeByteArray(n,e){if(!Array.isArray(n))throw Error("encodeByteArray takes an array as a parameter");this.init_();const t=e?this.byteToCharMapWebSafe_:this.byteToCharMap_,r=[];for(let s=0;s<n.length;s+=3){const a=n[s],u=s+1<n.length,d=u?n[s+1]:0,f=s+2<n.length,m=f?n[s+2]:0,g=a>>2,E=(a&3)<<4|d>>4;let w=(d&15)<<2|m>>6,R=m&63;f||(R=64,u||(w=64)),r.push(t[g],t[E],t[w],t[R])}return r.join("")},encodeString(n,e){return this.HAS_NATIVE_SUPPORT&&!e?btoa(n):this.encodeByteArray(wT(n),e)},decodeString(n,e){return this.HAS_NATIVE_SUPPORT&&!e?atob(n):iP(this.decodeStringToByteArray(n,e))},decodeStringToByteArray(n,e){this.init_();const t=e?this.charToByteMapWebSafe_:this.charToByteMap_,r=[];for(let s=0;s<n.length;){const a=t[n.charAt(s++)],d=s<n.length?t[n.charAt(s)]:0;++s;const m=s<n.length?t[n.charAt(s)]:64;++s;const E=s<n.length?t[n.charAt(s)]:64;if(++s,a==null||d==null||m==null||E==null)throw new sP;const w=a<<2|d>>4;if(r.push(w),m!==64){const R=d<<4&240|m>>2;if(r.push(R),E!==64){const M=m<<6&192|E;r.push(M)}}}return r},init_(){if(!this.byteToCharMap_){this.byteToCharMap_={},this.charToByteMap_={},this.byteToCharMapWebSafe_={},this.charToByteMapWebSafe_={};for(let n=0;n<this.ENCODED_VALS.length;n++)this.byteToCharMap_[n]=this.ENCODED_VALS.charAt(n),this.charToByteMap_[this.byteToCharMap_[n]]=n,this.byteToCharMapWebSafe_[n]=this.ENCODED_VALS_WEBSAFE.charAt(n),this.charToByteMapWebSafe_[this.byteToCharMapWebSafe_[n]]=n,n>=this.ENCODED_VALS_BASE.length&&(this.charToByteMap_[this.ENCODED_VALS_WEBSAFE.charAt(n)]=n,this.charToByteMapWebSafe_[this.ENCODED_VALS.charAt(n)]=n)}}};class sP extends Error{constructor(){super(...arguments),this.name="DecodeBase64StringError"}}const oP=function(n){const e=wT(n);return ET.encodeByteArray(e,!0)},Sh=function(n){return oP(n).replace(/\./g,"")},TT=function(n){try{return ET.decodeString(n,!0)}catch(e){console.error("base64Decode failed: ",e)}return null};function aP(){if(typeof self<"u")return self;if(typeof window<"u")return window;if(typeof global<"u")return global;throw new Error("Unable to locate global object.")}const lP=()=>aP().__FIREBASE_DEFAULTS__,uP=()=>{if(typeof process>"u"||typeof Av>"u")return;const n=Av.__FIREBASE_DEFAULTS__;if(n)return JSON.parse(n)},cP=()=>{if(typeof document>"u")return;let n;try{n=document.cookie.match(/__FIREBASE_DEFAULTS__=([^;]+)/)}catch{return}const e=n&&TT(n[1]);return e&&JSON.parse(e)},Xh=()=>{try{return rP()||lP()||uP()||cP()}catch(n){console.info(`Unable to get __FIREBASE_DEFAULTS__ due to: ${n}`);return}},IT=n=>Xh()?.emulatorHosts?.[n],Pm=n=>{const e=IT(n);if(!e)return;const t=e.lastIndexOf(":");if(t<=0||t+1===e.length)throw new Error(`Invalid host ${e} with no separate hostname and port!`);const r=parseInt(e.substring(t+1),10);return e[0]==="["?[e.substring(1,t-1),r]:[e.substring(0,t),r]},ST=()=>Xh()?.config,AT=n=>Xh()?.[`_${n}`];class hP{constructor(){this.reject=()=>{},this.resolve=()=>{},this.promise=new Promise((e,t)=>{this.resolve=e,this.reject=t})}wrapCallback(e){return(t,r)=>{t?this.reject(t):this.resolve(r),typeof e=="function"&&(this.promise.catch(()=>{}),e.length===1?e(t):e(t,r))}}}function Lr(n){try{return(n.startsWith("http://")||n.startsWith("https://")?new URL(n).hostname:n).endsWith(".cloudworkstations.dev")}catch{return!1}}async function Zh(n){return(await fetch(n,{credentials:"include"})).ok}function RT(n,e){if(n.uid)throw new Error('The "uid" field is no longer supported by mockUserToken. Please use "sub" instead for Firebase Auth User ID.');const t={alg:"none",type:"JWT"},r=e||"demo-project",s=n.iat||0,a=n.sub||n.user_id;if(!a)throw new Error("mockUserToken must contain 'sub' or 'user_id' field!");const u={iss:`https://securetoken.google.com/${r}`,aud:r,iat:s,exp:s+3600,auth_time:s,sub:a,user_id:a,firebase:{sign_in_provider:"custom",identities:{}},...n};return[Sh(JSON.stringify(t)),Sh(JSON.stringify(u)),""].join(".")}const Gl={};function dP(){const n={prod:[],emulator:[]};for(const e of Object.keys(Gl))Gl[e]?n.emulator.push(e):n.prod.push(e);return n}function fP(n){let e=document.getElementById(n),t=!1;return e||(e=document.createElement("div"),e.setAttribute("id",n),t=!0),{created:t,element:e}}let Rv=!1;function ed(n,e){if(typeof window>"u"||typeof document>"u"||!Lr(window.location.host)||Gl[n]===e||Gl[n]||Rv)return;Gl[n]=e;function t(w){return`__firebase__banner__${w}`}const r="__firebase__banner",a=dP().prod.length>0;function u(){const w=document.getElementById(r);w&&w.remove()}function d(w){w.style.display="flex",w.style.background="#7faaf0",w.style.position="fixed",w.style.bottom="5px",w.style.left="5px",w.style.padding=".5em",w.style.borderRadius="5px",w.style.alignItems="center"}function f(w,R){w.setAttribute("width","24"),w.setAttribute("id",R),w.setAttribute("height","24"),w.setAttribute("viewBox","0 0 24 24"),w.setAttribute("fill","none"),w.style.marginLeft="-6px"}function m(){const w=document.createElement("span");return w.style.cursor="pointer",w.style.marginLeft="16px",w.style.fontSize="24px",w.innerHTML=" &times;",w.onclick=()=>{Rv=!0,u()},w}function g(w,R){w.setAttribute("id",R),w.innerText="Learn more",w.href="https://firebase.google.com/docs/studio/preview-apps#preview-backend",w.setAttribute("target","__blank"),w.style.paddingLeft="5px",w.style.textDecoration="underline"}function E(){const w=fP(r),R=t("text"),M=document.getElementById(R)||document.createElement("span"),$=t("learnmore"),B=document.getElementById($)||document.createElement("a"),te=t("preprendIcon"),le=document.getElementById(te)||document.createElementNS("http://www.w3.org/2000/svg","svg");if(w.created){const ve=w.element;d(ve),g(B,$);const oe=m();f(le,te),ve.append(le,M,B,oe),document.body.appendChild(ve)}a?(M.innerText="Preview backend disconnected.",le.innerHTML=`<g clip-path="url(#clip0_6013_33858)">
<path d="M4.8 17.6L12 5.6L19.2 17.6H4.8ZM6.91667 16.4H17.0833L12 7.93333L6.91667 16.4ZM12 15.6C12.1667 15.6 12.3056 15.5444 12.4167 15.4333C12.5389 15.3111 12.6 15.1667 12.6 15C12.6 14.8333 12.5389 14.6944 12.4167 14.5833C12.3056 14.4611 12.1667 14.4 12 14.4C11.8333 14.4 11.6889 14.4611 11.5667 14.5833C11.4556 14.6944 11.4 14.8333 11.4 15C11.4 15.1667 11.4556 15.3111 11.5667 15.4333C11.6889 15.5444 11.8333 15.6 12 15.6ZM11.4 13.6H12.6V10.4H11.4V13.6Z" fill="#212121"/>
</g>
<defs>
<clipPath id="clip0_6013_33858">
<rect width="24" height="24" fill="white"/>
</clipPath>
</defs>`):(le.innerHTML=`<g clip-path="url(#clip0_6083_34804)">
<path d="M11.4 15.2H12.6V11.2H11.4V15.2ZM12 10C12.1667 10 12.3056 9.94444 12.4167 9.83333C12.5389 9.71111 12.6 9.56667 12.6 9.4C12.6 9.23333 12.5389 9.09444 12.4167 8.98333C12.3056 8.86111 12.1667 8.8 12 8.8C11.8333 8.8 11.6889 8.86111 11.5667 8.98333C11.4556 9.09444 11.4 9.23333 11.4 9.4C11.4 9.56667 11.4556 9.71111 11.5667 9.83333C11.6889 9.94444 11.8333 10 12 10ZM12 18.4C11.1222 18.4 10.2944 18.2333 9.51667 17.9C8.73889 17.5667 8.05556 17.1111 7.46667 16.5333C6.88889 15.9444 6.43333 15.2611 6.1 14.4833C5.76667 13.7056 5.6 12.8778 5.6 12C5.6 11.1111 5.76667 10.2833 6.1 9.51667C6.43333 8.73889 6.88889 8.06111 7.46667 7.48333C8.05556 6.89444 8.73889 6.43333 9.51667 6.1C10.2944 5.76667 11.1222 5.6 12 5.6C12.8889 5.6 13.7167 5.76667 14.4833 6.1C15.2611 6.43333 15.9389 6.89444 16.5167 7.48333C17.1056 8.06111 17.5667 8.73889 17.9 9.51667C18.2333 10.2833 18.4 11.1111 18.4 12C18.4 12.8778 18.2333 13.7056 17.9 14.4833C17.5667 15.2611 17.1056 15.9444 16.5167 16.5333C15.9389 17.1111 15.2611 17.5667 14.4833 17.9C13.7167 18.2333 12.8889 18.4 12 18.4ZM12 17.2C13.4444 17.2 14.6722 16.6944 15.6833 15.6833C16.6944 14.6722 17.2 13.4444 17.2 12C17.2 10.5556 16.6944 9.32778 15.6833 8.31667C14.6722 7.30555 13.4444 6.8 12 6.8C10.5556 6.8 9.32778 7.30555 8.31667 8.31667C7.30556 9.32778 6.8 10.5556 6.8 12C6.8 13.4444 7.30556 14.6722 8.31667 15.6833C9.32778 16.6944 10.5556 17.2 12 17.2Z" fill="#212121"/>
</g>
<defs>
<clipPath id="clip0_6083_34804">
<rect width="24" height="24" fill="white"/>
</clipPath>
</defs>`,M.innerText="Preview backend running in this workspace."),M.setAttribute("id",R)}document.readyState==="loading"?window.addEventListener("DOMContentLoaded",E):E()}function Zt(){return typeof navigator<"u"&&typeof navigator.userAgent=="string"?navigator.userAgent:""}function pP(){return typeof window<"u"&&!!(window.cordova||window.phonegap||window.PhoneGap)&&/ios|iphone|ipod|ipad|android|blackberry|iemobile/i.test(Zt())}function mP(){const n=Xh()?.forceEnvironment;if(n==="node")return!0;if(n==="browser")return!1;try{return Object.prototype.toString.call(global.process)==="[object process]"}catch{return!1}}function gP(){return typeof navigator<"u"&&navigator.userAgent==="Cloudflare-Workers"}function km(){const n=typeof chrome=="object"?chrome.runtime:typeof browser=="object"?browser.runtime:void 0;return typeof n=="object"&&n.id!==void 0}function yP(){return typeof navigator=="object"&&navigator.product==="ReactNative"}function _P(){const n=Zt();return n.indexOf("MSIE ")>=0||n.indexOf("Trident/")>=0}function vP(){return!mP()&&!!navigator.userAgent&&navigator.userAgent.includes("Safari")&&!navigator.userAgent.includes("Chrome")}function Cm(){try{return typeof indexedDB=="object"}catch{return!1}}function bm(){return new Promise((n,e)=>{try{let t=!0;const r="validate-browser-context-for-indexeddb-analytics-module",s=self.indexedDB.open(r);s.onsuccess=()=>{s.result.close(),t||self.indexedDB.deleteDatabase(r),n(!0)},s.onupgradeneeded=()=>{t=!1},s.onerror=()=>{e(s.error?.message||"")}}catch(t){e(t)}})}function PT(){return!(typeof navigator>"u"||!navigator.cookieEnabled)}const wP="FirebaseError";class xn extends Error{constructor(e,t,r){super(t),this.code=e,this.customData=r,this.name=wP,Object.setPrototypeOf(this,xn.prototype),Error.captureStackTrace&&Error.captureStackTrace(this,no.prototype.create)}}class no{constructor(e,t,r){this.service=e,this.serviceName=t,this.errors=r}create(e,...t){const r=t[0]||{},s=`${this.service}/${e}`,a=this.errors[e],u=a?EP(a,r):"Error",d=`${this.serviceName}: ${u} (${s}).`;return new xn(s,d,r)}}function EP(n,e){return n.replace(TP,(t,r)=>{const s=e[r];return s!=null?String(s):`<${r}?>`})}const TP=/\{\$([^}]+)}/g;function IP(n){for(const e in n)if(Object.prototype.hasOwnProperty.call(n,e))return!1;return!0}function oi(n,e){if(n===e)return!0;const t=Object.keys(n),r=Object.keys(e);for(const s of t){if(!r.includes(s))return!1;const a=n[s],u=e[s];if(Pv(a)&&Pv(u)){if(!oi(a,u))return!1}else if(a!==u)return!1}for(const s of r)if(!t.includes(s))return!1;return!0}function Pv(n){return n!==null&&typeof n=="object"}function Sa(n){const e=[];for(const[t,r]of Object.entries(n))Array.isArray(r)?r.forEach(s=>{e.push(encodeURIComponent(t)+"="+encodeURIComponent(s))}):e.push(encodeURIComponent(t)+"="+encodeURIComponent(r));return e.length?"&"+e.join("&"):""}function Ul(n){const e={};return n.replace(/^\?/,"").split("&").forEach(r=>{if(r){const[s,a]=r.split("=");e[decodeURIComponent(s)]=decodeURIComponent(a)}}),e}function Fl(n){const e=n.indexOf("?");if(!e)return"";const t=n.indexOf("#",e);return n.substring(e,t>0?t:void 0)}function SP(n,e){const t=new AP(n,e);return t.subscribe.bind(t)}class AP{constructor(e,t){this.observers=[],this.unsubscribes=[],this.observerCount=0,this.task=Promise.resolve(),this.finalized=!1,this.onNoObservers=t,this.task.then(()=>{e(this)}).catch(r=>{this.error(r)})}next(e){this.forEachObserver(t=>{t.next(e)})}error(e){this.forEachObserver(t=>{t.error(e)}),this.close(e)}complete(){this.forEachObserver(e=>{e.complete()}),this.close()}subscribe(e,t,r){let s;if(e===void 0&&t===void 0&&r===void 0)throw new Error("Missing Observer.");RP(e,["next","error","complete"])?s=e:s={next:e,error:t,complete:r},s.next===void 0&&(s.next=fp),s.error===void 0&&(s.error=fp),s.complete===void 0&&(s.complete=fp);const a=this.unsubscribeOne.bind(this,this.observers.length);return this.finalized&&this.task.then(()=>{try{this.finalError?s.error(this.finalError):s.complete()}catch{}}),this.observers.push(s),a}unsubscribeOne(e){this.observers===void 0||this.observers[e]===void 0||(delete this.observers[e],this.observerCount-=1,this.observerCount===0&&this.onNoObservers!==void 0&&this.onNoObservers(this))}forEachObserver(e){if(!this.finalized)for(let t=0;t<this.observers.length;t++)this.sendOne(t,e)}sendOne(e,t){this.task.then(()=>{if(this.observers!==void 0&&this.observers[e]!==void 0)try{t(this.observers[e])}catch(r){typeof console<"u"&&console.error&&console.error(r)}})}close(e){this.finalized||(this.finalized=!0,e!==void 0&&(this.finalError=e),this.task.then(()=>{this.observers=void 0,this.onNoObservers=void 0}))}}function RP(n,e){if(typeof n!="object"||n===null)return!1;for(const t of e)if(t in n&&typeof n[t]=="function")return!0;return!1}function fp(){}const PP=1e3,kP=2,CP=14400*1e3,bP=.5;function kv(n,e=PP,t=kP){const r=e*Math.pow(t,n),s=Math.round(bP*r*(Math.random()-.5)*2);return Math.min(CP,r+s)}function ge(n){return n&&n._delegate?n._delegate:n}class On{constructor(e,t,r){this.name=e,this.instanceFactory=t,this.type=r,this.multipleInstances=!1,this.serviceProps={},this.instantiationMode="LAZY",this.onInstanceCreated=null}setInstantiationMode(e){return this.instantiationMode=e,this}setMultipleInstances(e){return this.multipleInstances=e,this}setServiceProps(e){return this.serviceProps=e,this}setInstanceCreatedCallback(e){return this.onInstanceCreated=e,this}}const zs="[DEFAULT]";class NP{constructor(e,t){this.name=e,this.container=t,this.component=null,this.instances=new Map,this.instancesDeferred=new Map,this.instancesOptions=new Map,this.onInitCallbacks=new Map}get(e){const t=this.normalizeInstanceIdentifier(e);if(!this.instancesDeferred.has(t)){const r=new hP;if(this.instancesDeferred.set(t,r),this.isInitialized(t)||this.shouldAutoInitialize())try{const s=this.getOrInitializeService({instanceIdentifier:t});s&&r.resolve(s)}catch{}}return this.instancesDeferred.get(t).promise}getImmediate(e){const t=this.normalizeInstanceIdentifier(e?.identifier),r=e?.optional??!1;if(this.isInitialized(t)||this.shouldAutoInitialize())try{return this.getOrInitializeService({instanceIdentifier:t})}catch(s){if(r)return null;throw s}else{if(r)return null;throw Error(`Service ${this.name} is not available`)}}getComponent(){return this.component}setComponent(e){if(e.name!==this.name)throw Error(`Mismatching Component ${e.name} for Provider ${this.name}.`);if(this.component)throw Error(`Component for ${this.name} has already been provided`);if(this.component=e,!!this.shouldAutoInitialize()){if(xP(e))try{this.getOrInitializeService({instanceIdentifier:zs})}catch{}for(const[t,r]of this.instancesDeferred.entries()){const s=this.normalizeInstanceIdentifier(t);try{const a=this.getOrInitializeService({instanceIdentifier:s});r.resolve(a)}catch{}}}}clearInstance(e=zs){this.instancesDeferred.delete(e),this.instancesOptions.delete(e),this.instances.delete(e)}async delete(){const e=Array.from(this.instances.values());await Promise.all([...e.filter(t=>"INTERNAL"in t).map(t=>t.INTERNAL.delete()),...e.filter(t=>"_delete"in t).map(t=>t._delete())])}isComponentSet(){return this.component!=null}isInitialized(e=zs){return this.instances.has(e)}getOptions(e=zs){return this.instancesOptions.get(e)||{}}initialize(e={}){const{options:t={}}=e,r=this.normalizeInstanceIdentifier(e.instanceIdentifier);if(this.isInitialized(r))throw Error(`${this.name}(${r}) has already been initialized`);if(!this.isComponentSet())throw Error(`Component ${this.name} has not been registered yet`);const s=this.getOrInitializeService({instanceIdentifier:r,options:t});for(const[a,u]of this.instancesDeferred.entries()){const d=this.normalizeInstanceIdentifier(a);r===d&&u.resolve(s)}return s}onInit(e,t){const r=this.normalizeInstanceIdentifier(t),s=this.onInitCallbacks.get(r)??new Set;s.add(e),this.onInitCallbacks.set(r,s);const a=this.instances.get(r);return a&&e(a,r),()=>{s.delete(e)}}invokeOnInitCallbacks(e,t){const r=this.onInitCallbacks.get(t);if(r)for(const s of r)try{s(e,t)}catch{}}getOrInitializeService({instanceIdentifier:e,options:t={}}){let r=this.instances.get(e);if(!r&&this.component&&(r=this.component.instanceFactory(this.container,{instanceIdentifier:OP(e),options:t}),this.instances.set(e,r),this.instancesOptions.set(e,t),this.invokeOnInitCallbacks(r,e),this.component.onInstanceCreated))try{this.component.onInstanceCreated(this.container,e,r)}catch{}return r||null}normalizeInstanceIdentifier(e=zs){return this.component?this.component.multipleInstances?e:zs:e}shouldAutoInitialize(){return!!this.component&&this.component.instantiationMode!=="EXPLICIT"}}function OP(n){return n===zs?void 0:n}function xP(n){return n.instantiationMode==="EAGER"}class DP{constructor(e){this.name=e,this.providers=new Map}addComponent(e){const t=this.getProvider(e.name);if(t.isComponentSet())throw new Error(`Component ${e.name} has already been registered with ${this.name}`);t.setComponent(e)}addOrOverwriteComponent(e){this.getProvider(e.name).isComponentSet()&&this.providers.delete(e.name),this.addComponent(e)}getProvider(e){if(this.providers.has(e))return this.providers.get(e);const t=new NP(e,this);return this.providers.set(e,t),t}getProviders(){return Array.from(this.providers.values())}}var Ue;(function(n){n[n.DEBUG=0]="DEBUG",n[n.VERBOSE=1]="VERBOSE",n[n.INFO=2]="INFO",n[n.WARN=3]="WARN",n[n.ERROR=4]="ERROR",n[n.SILENT=5]="SILENT"})(Ue||(Ue={}));const LP={debug:Ue.DEBUG,verbose:Ue.VERBOSE,info:Ue.INFO,warn:Ue.WARN,error:Ue.ERROR,silent:Ue.SILENT},VP=Ue.INFO,MP={[Ue.DEBUG]:"log",[Ue.VERBOSE]:"log",[Ue.INFO]:"info",[Ue.WARN]:"warn",[Ue.ERROR]:"error"},UP=(n,e,...t)=>{if(e<n.logLevel)return;const r=new Date().toISOString(),s=MP[e];if(s)console[s](`[${r}]  ${n.name}:`,...t);else throw new Error(`Attempted to log a message with an invalid logType (value: ${e})`)};let td=class{constructor(e){this.name=e,this._logLevel=VP,this._logHandler=UP,this._userLogHandler=null}get logLevel(){return this._logLevel}set logLevel(e){if(!(e in Ue))throw new TypeError(`Invalid value "${e}" assigned to \`logLevel\``);this._logLevel=e}setLogLevel(e){this._logLevel=typeof e=="string"?LP[e]:e}get logHandler(){return this._logHandler}set logHandler(e){if(typeof e!="function")throw new TypeError("Value assigned to `logHandler` must be a function");this._logHandler=e}get userLogHandler(){return this._userLogHandler}set userLogHandler(e){this._userLogHandler=e}debug(...e){this._userLogHandler&&this._userLogHandler(this,Ue.DEBUG,...e),this._logHandler(this,Ue.DEBUG,...e)}log(...e){this._userLogHandler&&this._userLogHandler(this,Ue.VERBOSE,...e),this._logHandler(this,Ue.VERBOSE,...e)}info(...e){this._userLogHandler&&this._userLogHandler(this,Ue.INFO,...e),this._logHandler(this,Ue.INFO,...e)}warn(...e){this._userLogHandler&&this._userLogHandler(this,Ue.WARN,...e),this._logHandler(this,Ue.WARN,...e)}error(...e){this._userLogHandler&&this._userLogHandler(this,Ue.ERROR,...e),this._logHandler(this,Ue.ERROR,...e)}};const FP=(n,e)=>e.some(t=>n instanceof t);let Cv,bv;function jP(){return Cv||(Cv=[IDBDatabase,IDBObjectStore,IDBIndex,IDBCursor,IDBTransaction])}function zP(){return bv||(bv=[IDBCursor.prototype.advance,IDBCursor.prototype.continue,IDBCursor.prototype.continuePrimaryKey])}const kT=new WeakMap,Hp=new WeakMap,CT=new WeakMap,pp=new WeakMap,Nm=new WeakMap;function BP(n){const e=new Promise((t,r)=>{const s=()=>{n.removeEventListener("success",a),n.removeEventListener("error",u)},a=()=>{t(Zi(n.result)),s()},u=()=>{r(n.error),s()};n.addEventListener("success",a),n.addEventListener("error",u)});return e.then(t=>{t instanceof IDBCursor&&kT.set(t,n)}).catch(()=>{}),Nm.set(e,n),e}function $P(n){if(Hp.has(n))return;const e=new Promise((t,r)=>{const s=()=>{n.removeEventListener("complete",a),n.removeEventListener("error",u),n.removeEventListener("abort",u)},a=()=>{t(),s()},u=()=>{r(n.error||new DOMException("AbortError","AbortError")),s()};n.addEventListener("complete",a),n.addEventListener("error",u),n.addEventListener("abort",u)});Hp.set(n,e)}let qp={get(n,e,t){if(n instanceof IDBTransaction){if(e==="done")return Hp.get(n);if(e==="objectStoreNames")return n.objectStoreNames||CT.get(n);if(e==="store")return t.objectStoreNames[1]?void 0:t.objectStore(t.objectStoreNames[0])}return Zi(n[e])},set(n,e,t){return n[e]=t,!0},has(n,e){return n instanceof IDBTransaction&&(e==="done"||e==="store")?!0:e in n}};function HP(n){qp=n(qp)}function qP(n){return n===IDBDatabase.prototype.transaction&&!("objectStoreNames"in IDBTransaction.prototype)?function(e,...t){const r=n.call(mp(this),e,...t);return CT.set(r,e.sort?e.sort():[e]),Zi(r)}:zP().includes(n)?function(...e){return n.apply(mp(this),e),Zi(kT.get(this))}:function(...e){return Zi(n.apply(mp(this),e))}}function WP(n){return typeof n=="function"?qP(n):(n instanceof IDBTransaction&&$P(n),FP(n,jP())?new Proxy(n,qp):n)}function Zi(n){if(n instanceof IDBRequest)return BP(n);if(pp.has(n))return pp.get(n);const e=WP(n);return e!==n&&(pp.set(n,e),Nm.set(e,n)),e}const mp=n=>Nm.get(n);function bT(n,e,{blocked:t,upgrade:r,blocking:s,terminated:a}={}){const u=indexedDB.open(n,e),d=Zi(u);return r&&u.addEventListener("upgradeneeded",f=>{r(Zi(u.result),f.oldVersion,f.newVersion,Zi(u.transaction),f)}),t&&u.addEventListener("blocked",f=>t(f.oldVersion,f.newVersion,f)),d.then(f=>{a&&f.addEventListener("close",()=>a()),s&&f.addEventListener("versionchange",m=>s(m.oldVersion,m.newVersion,m))}).catch(()=>{}),d}const GP=["get","getKey","getAll","getAllKeys","count"],KP=["put","add","delete","clear"],gp=new Map;function Nv(n,e){if(!(n instanceof IDBDatabase&&!(e in n)&&typeof e=="string"))return;if(gp.get(e))return gp.get(e);const t=e.replace(/FromIndex$/,""),r=e!==t,s=KP.includes(t);if(!(t in(r?IDBIndex:IDBObjectStore).prototype)||!(s||GP.includes(t)))return;const a=async function(u,...d){const f=this.transaction(u,s?"readwrite":"readonly");let m=f.store;return r&&(m=m.index(d.shift())),(await Promise.all([m[t](...d),s&&f.done]))[0]};return gp.set(e,a),a}HP(n=>({...n,get:(e,t,r)=>Nv(e,t)||n.get(e,t,r),has:(e,t)=>!!Nv(e,t)||n.has(e,t)}));class QP{constructor(e){this.container=e}getPlatformInfoString(){return this.container.getProviders().map(t=>{if(YP(t)){const r=t.getImmediate();return`${r.library}/${r.version}`}else return null}).filter(t=>t).join(" ")}}function YP(n){return n.getComponent()?.type==="VERSION"}const Wp="@firebase/app",Ov="0.14.7";const ai=new td("@firebase/app"),JP="@firebase/app-compat",XP="@firebase/analytics-compat",ZP="@firebase/analytics",ek="@firebase/app-check-compat",tk="@firebase/app-check",nk="@firebase/auth",rk="@firebase/auth-compat",ik="@firebase/database",sk="@firebase/data-connect",ok="@firebase/database-compat",ak="@firebase/functions",lk="@firebase/functions-compat",uk="@firebase/installations",ck="@firebase/installations-compat",hk="@firebase/messaging",dk="@firebase/messaging-compat",fk="@firebase/performance",pk="@firebase/performance-compat",mk="@firebase/remote-config",gk="@firebase/remote-config-compat",yk="@firebase/storage",_k="@firebase/storage-compat",vk="@firebase/firestore",wk="@firebase/ai",Ek="@firebase/firestore-compat",Tk="firebase",Ik="12.8.0";const Gp="[DEFAULT]",Sk={[Wp]:"fire-core",[JP]:"fire-core-compat",[ZP]:"fire-analytics",[XP]:"fire-analytics-compat",[tk]:"fire-app-check",[ek]:"fire-app-check-compat",[nk]:"fire-auth",[rk]:"fire-auth-compat",[ik]:"fire-rtdb",[sk]:"fire-data-connect",[ok]:"fire-rtdb-compat",[ak]:"fire-fn",[lk]:"fire-fn-compat",[uk]:"fire-iid",[ck]:"fire-iid-compat",[hk]:"fire-fcm",[dk]:"fire-fcm-compat",[fk]:"fire-perf",[pk]:"fire-perf-compat",[mk]:"fire-rc",[gk]:"fire-rc-compat",[yk]:"fire-gcs",[_k]:"fire-gcs-compat",[vk]:"fire-fst",[Ek]:"fire-fst-compat",[wk]:"fire-vertex","fire-js":"fire-js",[Tk]:"fire-js-all"};const Ah=new Map,Ak=new Map,Kp=new Map;function xv(n,e){try{n.container.addComponent(e)}catch(t){ai.debug(`Component ${e.name} failed to register with FirebaseApp ${n.name}`,t)}}function Hn(n){const e=n.name;if(Kp.has(e))return ai.debug(`There were multiple attempts to register component ${e}.`),!1;Kp.set(e,n);for(const t of Ah.values())xv(t,n);for(const t of Ak.values())xv(t,n);return!0}function fi(n,e){const t=n.container.getProvider("heartbeat").getImmediate({optional:!0});return t&&t.triggerHeartbeat(),n.container.getProvider(e)}function it(n){return n==null?!1:n.settings!==void 0}const Rk={"no-app":"No Firebase App '{$appName}' has been created - call initializeApp() first","bad-app-name":"Illegal App name: '{$appName}'","duplicate-app":"Firebase App named '{$appName}' already exists with different options or config","app-deleted":"Firebase App named '{$appName}' already deleted","server-app-deleted":"Firebase Server App has been deleted","no-options":"Need to provide options, when not being deployed to hosting via source.","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance.","invalid-log-argument":"First argument to `onLog` must be null or a function.","idb-open":"Error thrown when opening IndexedDB. Original error: {$originalErrorMessage}.","idb-get":"Error thrown when reading from IndexedDB. Original error: {$originalErrorMessage}.","idb-set":"Error thrown when writing to IndexedDB. Original error: {$originalErrorMessage}.","idb-delete":"Error thrown when deleting from IndexedDB. Original error: {$originalErrorMessage}.","finalization-registry-not-supported":"FirebaseServerApp deleteOnDeref field defined but the JS runtime does not support FinalizationRegistry.","invalid-server-app-environment":"FirebaseServerApp is not for use in browser environments."},es=new no("app","Firebase",Rk);class Pk{constructor(e,t,r){this._isDeleted=!1,this._options={...e},this._config={...t},this._name=t.name,this._automaticDataCollectionEnabled=t.automaticDataCollectionEnabled,this._container=r,this.container.addComponent(new On("app",()=>this,"PUBLIC"))}get automaticDataCollectionEnabled(){return this.checkDestroyed(),this._automaticDataCollectionEnabled}set automaticDataCollectionEnabled(e){this.checkDestroyed(),this._automaticDataCollectionEnabled=e}get name(){return this.checkDestroyed(),this._name}get options(){return this.checkDestroyed(),this._options}get config(){return this.checkDestroyed(),this._config}get container(){return this._container}get isDeleted(){return this._isDeleted}set isDeleted(e){this._isDeleted=e}checkDestroyed(){if(this.isDeleted)throw es.create("app-deleted",{appName:this._name})}}const ro=Ik;function NT(n,e={}){let t=n;typeof e!="object"&&(e={name:e});const r={name:Gp,automaticDataCollectionEnabled:!0,...e},s=r.name;if(typeof s!="string"||!s)throw es.create("bad-app-name",{appName:String(s)});if(t||(t=ST()),!t)throw es.create("no-options");const a=Ah.get(s);if(a){if(oi(t,a.options)&&oi(r,a.config))return a;throw es.create("duplicate-app",{appName:s})}const u=new DP(s);for(const f of Kp.values())u.addComponent(f);const d=new Pk(t,r,u);return Ah.set(s,d),d}function wu(n=Gp){const e=Ah.get(n);if(!e&&n===Gp&&ST())return NT();if(!e)throw es.create("no-app",{appName:n});return e}function Xt(n,e,t){let r=Sk[n]??n;t&&(r+=`-${t}`);const s=r.match(/\s|\//),a=e.match(/\s|\//);if(s||a){const u=[`Unable to register library "${r}" with version "${e}":`];s&&u.push(`library name "${r}" contains illegal characters (whitespace or "/")`),s&&a&&u.push("and"),a&&u.push(`version name "${e}" contains illegal characters (whitespace or "/")`),ai.warn(u.join(" "));return}Hn(new On(`${r}-version`,()=>({library:r,version:e}),"VERSION"))}const kk="firebase-heartbeat-database",Ck=1,ru="firebase-heartbeat-store";let yp=null;function OT(){return yp||(yp=bT(kk,Ck,{upgrade:(n,e)=>{switch(e){case 0:try{n.createObjectStore(ru)}catch(t){console.warn(t)}}}}).catch(n=>{throw es.create("idb-open",{originalErrorMessage:n.message})})),yp}async function bk(n){try{const t=(await OT()).transaction(ru),r=await t.objectStore(ru).get(xT(n));return await t.done,r}catch(e){if(e instanceof xn)ai.warn(e.message);else{const t=es.create("idb-get",{originalErrorMessage:e?.message});ai.warn(t.message)}}}async function Dv(n,e){try{const r=(await OT()).transaction(ru,"readwrite");await r.objectStore(ru).put(e,xT(n)),await r.done}catch(t){if(t instanceof xn)ai.warn(t.message);else{const r=es.create("idb-set",{originalErrorMessage:t?.message});ai.warn(r.message)}}}function xT(n){return`${n.name}!${n.options.appId}`}const Nk=1024,Ok=30;class xk{constructor(e){this.container=e,this._heartbeatsCache=null;const t=this.container.getProvider("app").getImmediate();this._storage=new Lk(t),this._heartbeatsCachePromise=this._storage.read().then(r=>(this._heartbeatsCache=r,r))}async triggerHeartbeat(){try{const t=this.container.getProvider("platform-logger").getImmediate().getPlatformInfoString(),r=Lv();if(this._heartbeatsCache?.heartbeats==null&&(this._heartbeatsCache=await this._heartbeatsCachePromise,this._heartbeatsCache?.heartbeats==null)||this._heartbeatsCache.lastSentHeartbeatDate===r||this._heartbeatsCache.heartbeats.some(s=>s.date===r))return;if(this._heartbeatsCache.heartbeats.push({date:r,agent:t}),this._heartbeatsCache.heartbeats.length>Ok){const s=Vk(this._heartbeatsCache.heartbeats);this._heartbeatsCache.heartbeats.splice(s,1)}return this._storage.overwrite(this._heartbeatsCache)}catch(e){ai.warn(e)}}async getHeartbeatsHeader(){try{if(this._heartbeatsCache===null&&await this._heartbeatsCachePromise,this._heartbeatsCache?.heartbeats==null||this._heartbeatsCache.heartbeats.length===0)return"";const e=Lv(),{heartbeatsToSend:t,unsentEntries:r}=Dk(this._heartbeatsCache.heartbeats),s=Sh(JSON.stringify({version:2,heartbeats:t}));return this._heartbeatsCache.lastSentHeartbeatDate=e,r.length>0?(this._heartbeatsCache.heartbeats=r,await this._storage.overwrite(this._heartbeatsCache)):(this._heartbeatsCache.heartbeats=[],this._storage.overwrite(this._heartbeatsCache)),s}catch(e){return ai.warn(e),""}}}function Lv(){return new Date().toISOString().substring(0,10)}function Dk(n,e=Nk){const t=[];let r=n.slice();for(const s of n){const a=t.find(u=>u.agent===s.agent);if(a){if(a.dates.push(s.date),Vv(t)>e){a.dates.pop();break}}else if(t.push({agent:s.agent,dates:[s.date]}),Vv(t)>e){t.pop();break}r=r.slice(1)}return{heartbeatsToSend:t,unsentEntries:r}}class Lk{constructor(e){this.app=e,this._canUseIndexedDBPromise=this.runIndexedDBEnvironmentCheck()}async runIndexedDBEnvironmentCheck(){return Cm()?bm().then(()=>!0).catch(()=>!1):!1}async read(){if(await this._canUseIndexedDBPromise){const t=await bk(this.app);return t?.heartbeats?t:{heartbeats:[]}}else return{heartbeats:[]}}async overwrite(e){if(await this._canUseIndexedDBPromise){const r=await this.read();return Dv(this.app,{lastSentHeartbeatDate:e.lastSentHeartbeatDate??r.lastSentHeartbeatDate,heartbeats:e.heartbeats})}else return}async add(e){if(await this._canUseIndexedDBPromise){const r=await this.read();return Dv(this.app,{lastSentHeartbeatDate:e.lastSentHeartbeatDate??r.lastSentHeartbeatDate,heartbeats:[...r.heartbeats,...e.heartbeats]})}else return}}function Vv(n){return Sh(JSON.stringify({version:2,heartbeats:n})).length}function Vk(n){if(n.length===0)return-1;let e=0,t=n[0].date;for(let r=1;r<n.length;r++)n[r].date<t&&(t=n[r].date,e=r);return e}function Mk(n){Hn(new On("platform-logger",e=>new QP(e),"PRIVATE")),Hn(new On("heartbeat",e=>new xk(e),"PRIVATE")),Xt(Wp,Ov,n),Xt(Wp,Ov,"esm2020"),Xt("fire-js","")}Mk("");const UU={PHONE:"phone",TOTP:"totp"},FU={FACEBOOK:"facebook.com",GITHUB:"github.com",GOOGLE:"google.com",PASSWORD:"password",PHONE:"phone",TWITTER:"twitter.com"},jU={EMAIL_LINK:"emailLink",EMAIL_PASSWORD:"password",FACEBOOK:"facebook.com",GITHUB:"github.com",GOOGLE:"google.com",PHONE:"phone",TWITTER:"twitter.com"},zU={LINK:"link",REAUTHENTICATE:"reauthenticate",SIGN_IN:"signIn"},BU={EMAIL_SIGNIN:"EMAIL_SIGNIN",PASSWORD_RESET:"PASSWORD_RESET",RECOVER_EMAIL:"RECOVER_EMAIL",REVERT_SECOND_FACTOR_ADDITION:"REVERT_SECOND_FACTOR_ADDITION",VERIFY_AND_CHANGE_EMAIL:"VERIFY_AND_CHANGE_EMAIL",VERIFY_EMAIL:"VERIFY_EMAIL"};function Uk(){return{"admin-restricted-operation":"This operation is restricted to administrators only.","argument-error":"","app-not-authorized":"This app, identified by the domain where it's hosted, is not authorized to use Firebase Authentication with the provided API key. Review your key configuration in the Google API console.","app-not-installed":"The requested mobile application corresponding to the identifier (Android package name or iOS bundle ID) provided is not installed on this device.","captcha-check-failed":"The reCAPTCHA response token provided is either invalid, expired, already used or the domain associated with it does not match the list of whitelisted domains.","code-expired":"The SMS code has expired. Please re-send the verification code to try again.","cordova-not-ready":"Cordova framework is not ready.","cors-unsupported":"This browser is not supported.","credential-already-in-use":"This credential is already associated with a different user account.","custom-token-mismatch":"The custom token corresponds to a different audience.","requires-recent-login":"This operation is sensitive and requires recent authentication. Log in again before retrying this request.","dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK.","dynamic-link-not-activated":"Please activate Dynamic Links in the Firebase Console and agree to the terms and conditions.","email-change-needs-verification":"Multi-factor users must always have a verified email.","email-already-in-use":"The email address is already in use by another account.","emulator-config-failed":'Auth instance has already been used to make a network call. Auth can no longer be configured to use the emulator. Try calling "connectAuthEmulator()" sooner.',"expired-action-code":"The action code has expired.","cancelled-popup-request":"This operation has been cancelled due to another conflicting popup being opened.","internal-error":"An internal AuthError has occurred.","invalid-app-credential":"The phone verification request contains an invalid application verifier. The reCAPTCHA token response is either invalid or expired.","invalid-app-id":"The mobile app identifier is not registered for the current project.","invalid-user-token":"This user's credential isn't valid for this project. This can happen if the user's token has been tampered with, or if the user isn't for the project associated with this API key.","invalid-auth-event":"An internal AuthError has occurred.","invalid-verification-code":"The SMS verification code used to create the phone auth credential is invalid. Please resend the verification code sms and be sure to use the verification code provided by the user.","invalid-continue-uri":"The continue URL provided in the request is invalid.","invalid-cordova-configuration":"The following Cordova plugins must be installed to enable OAuth sign-in: cordova-plugin-buildinfo, cordova-universal-links-plugin, cordova-plugin-browsertab, cordova-plugin-inappbrowser and cordova-plugin-customurlscheme.","invalid-custom-token":"The custom token format is incorrect. Please check the documentation.","invalid-dynamic-link-domain":"The provided dynamic link domain is not configured or authorized for the current project.","invalid-email":"The email address is badly formatted.","invalid-emulator-scheme":"Emulator URL must start with a valid scheme (http:// or https://).","invalid-api-key":"Your API key is invalid, please check you have copied it correctly.","invalid-cert-hash":"The SHA-1 certificate hash provided is invalid.","invalid-credential":"The supplied auth credential is incorrect, malformed or has expired.","invalid-message-payload":"The email template corresponding to this action contains invalid characters in its message. Please fix by going to the Auth email templates section in the Firebase Console.","invalid-multi-factor-session":"The request does not contain a valid proof of first factor successful sign-in.","invalid-oauth-provider":"EmailAuthProvider is not supported for this operation. This operation only supports OAuth providers.","invalid-oauth-client-id":"The OAuth client ID provided is either invalid or does not match the specified API key.","unauthorized-domain":"This domain is not authorized for OAuth operations for your Firebase project. Edit the list of authorized domains from the Firebase console.","invalid-action-code":"The action code is invalid. This can happen if the code is malformed, expired, or has already been used.","wrong-password":"The password is invalid or the user does not have a password.","invalid-persistence-type":"The specified persistence type is invalid. It can only be local, session or none.","invalid-phone-number":"The format of the phone number provided is incorrect. Please enter the phone number in a format that can be parsed into E.164 format. E.164 phone numbers are written in the format [+][country code][subscriber number including area code].","invalid-provider-id":"The specified provider ID is invalid.","invalid-recipient-email":"The email corresponding to this action failed to send as the provided recipient email address is invalid.","invalid-sender":"The email template corresponding to this action contains an invalid sender email or name. Please fix by going to the Auth email templates section in the Firebase Console.","invalid-verification-id":"The verification ID used to create the phone auth credential is invalid.","invalid-tenant-id":"The Auth instance's tenant ID is invalid.","login-blocked":"Login blocked by user-provided method: {$originalMessage}","missing-android-pkg-name":"An Android Package Name must be provided if the Android App is required to be installed.","auth-domain-config-required":"Be sure to include authDomain when calling firebase.initializeApp(), by following the instructions in the Firebase console.","missing-app-credential":"The phone verification request is missing an application verifier assertion. A reCAPTCHA response token needs to be provided.","missing-verification-code":"The phone auth credential was created with an empty SMS verification code.","missing-continue-uri":"A continue URL must be provided in the request.","missing-iframe-start":"An internal AuthError has occurred.","missing-ios-bundle-id":"An iOS Bundle ID must be provided if an App Store ID is provided.","missing-or-invalid-nonce":"The request does not contain a valid nonce. This can occur if the SHA-256 hash of the provided raw nonce does not match the hashed nonce in the ID token payload.","missing-password":"A non-empty password must be provided","missing-multi-factor-info":"No second factor identifier is provided.","missing-multi-factor-session":"The request is missing proof of first factor successful sign-in.","missing-phone-number":"To send verification codes, provide a phone number for the recipient.","missing-verification-id":"The phone auth credential was created with an empty verification ID.","app-deleted":"This instance of FirebaseApp has been deleted.","multi-factor-info-not-found":"The user does not have a second factor matching the identifier provided.","multi-factor-auth-required":"Proof of ownership of a second factor is required to complete sign-in.","account-exists-with-different-credential":"An account already exists with the same email address but different sign-in credentials. Sign in using a provider associated with this email address.","network-request-failed":"A network AuthError (such as timeout, interrupted connection or unreachable host) has occurred.","no-auth-event":"An internal AuthError has occurred.","no-such-provider":"User was not linked to an account with the given provider.","null-user":"A null user object was provided as the argument for an operation which requires a non-null user object.","operation-not-allowed":"The given sign-in provider is disabled for this Firebase project. Enable it in the Firebase console, under the sign-in method tab of the Auth section.","operation-not-supported-in-this-environment":'This operation is not supported in the environment this application is running on. "location.protocol" must be http, https or chrome-extension and web storage must be enabled.',"popup-blocked":"Unable to establish a connection with the popup. It may have been blocked by the browser.","popup-closed-by-user":"The popup has been closed by the user before finalizing the operation.","provider-already-linked":"User can only be linked to one identity for the given provider.","quota-exceeded":"The project's quota for this operation has been exceeded.","redirect-cancelled-by-user":"The redirect operation has been cancelled by the user before finalizing.","redirect-operation-pending":"A redirect sign-in operation is already pending.","rejected-credential":"The request contains malformed or mismatching credentials.","second-factor-already-in-use":"The second factor is already enrolled on this account.","maximum-second-factor-count-exceeded":"The maximum allowed number of second factors on a user has been exceeded.","tenant-id-mismatch":"The provided tenant ID does not match the Auth instance's tenant ID",timeout:"The operation has timed out.","user-token-expired":"The user's credential is no longer valid. The user must sign in again.","too-many-requests":"We have blocked all requests from this device due to unusual activity. Try again later.","unauthorized-continue-uri":"The domain of the continue URL is not whitelisted.  Please whitelist the domain in the Firebase console.","unsupported-first-factor":"Enrolling a second factor or signing in with a multi-factor account requires sign-in with a supported first factor.","unsupported-persistence-type":"The current environment does not support the specified persistence type.","unsupported-tenant-operation":"This operation is not supported in a multi-tenant context.","unverified-email":"The operation requires a verified email.","user-cancelled":"The user did not grant your application the permissions it requested.","user-not-found":"There is no user record corresponding to this identifier. The user may have been deleted.","user-disabled":"The user account has been disabled by an administrator.","user-mismatch":"The supplied credentials do not correspond to the previously signed in user.","user-signed-out":"","weak-password":"The password must be 6 characters long or more.","web-storage-unsupported":"This browser is not supported or 3rd party cookies and data may be disabled.","already-initialized":"initializeAuth() has already been called with different options. To avoid this error, call initializeAuth() with the same options as when it was originally called, or call getAuth() to return the already initialized instance.","missing-recaptcha-token":"The reCAPTCHA token is missing when sending request to the backend.","invalid-recaptcha-token":"The reCAPTCHA token is invalid when sending request to the backend.","invalid-recaptcha-action":"The reCAPTCHA action is invalid when sending request to the backend.","recaptcha-not-enabled":"reCAPTCHA Enterprise integration is not enabled for this project.","missing-client-type":"The reCAPTCHA client type is missing when sending request to the backend.","missing-recaptcha-version":"The reCAPTCHA version is missing when sending request to the backend.","invalid-req-type":"Invalid request parameters.","invalid-recaptcha-version":"The reCAPTCHA version is invalid when sending request to the backend.","unsupported-password-policy-schema-version":"The password policy received from the backend uses a schema version that is not supported by this version of the Firebase SDK.","password-does-not-meet-requirements":"The password does not meet the requirements.","invalid-hosting-link-domain":"The provided Hosting link domain is not configured in Firebase Hosting or is not owned by the current project. This cannot be a default Hosting domain (`web.app` or `firebaseapp.com`)."}}function DT(){return{"dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK."}}const $U=Uk,Fk=DT,LT=new no("auth","Firebase",DT()),HU={ADMIN_ONLY_OPERATION:"auth/admin-restricted-operation",ARGUMENT_ERROR:"auth/argument-error",APP_NOT_AUTHORIZED:"auth/app-not-authorized",APP_NOT_INSTALLED:"auth/app-not-installed",CAPTCHA_CHECK_FAILED:"auth/captcha-check-failed",CODE_EXPIRED:"auth/code-expired",CORDOVA_NOT_READY:"auth/cordova-not-ready",CORS_UNSUPPORTED:"auth/cors-unsupported",CREDENTIAL_ALREADY_IN_USE:"auth/credential-already-in-use",CREDENTIAL_MISMATCH:"auth/custom-token-mismatch",CREDENTIAL_TOO_OLD_LOGIN_AGAIN:"auth/requires-recent-login",DEPENDENT_SDK_INIT_BEFORE_AUTH:"auth/dependent-sdk-initialized-before-auth",DYNAMIC_LINK_NOT_ACTIVATED:"auth/dynamic-link-not-activated",EMAIL_CHANGE_NEEDS_VERIFICATION:"auth/email-change-needs-verification",EMAIL_EXISTS:"auth/email-already-in-use",EMULATOR_CONFIG_FAILED:"auth/emulator-config-failed",EXPIRED_OOB_CODE:"auth/expired-action-code",EXPIRED_POPUP_REQUEST:"auth/cancelled-popup-request",INTERNAL_ERROR:"auth/internal-error",INVALID_API_KEY:"auth/invalid-api-key",INVALID_APP_CREDENTIAL:"auth/invalid-app-credential",INVALID_APP_ID:"auth/invalid-app-id",INVALID_AUTH:"auth/invalid-user-token",INVALID_AUTH_EVENT:"auth/invalid-auth-event",INVALID_CERT_HASH:"auth/invalid-cert-hash",INVALID_CODE:"auth/invalid-verification-code",INVALID_CONTINUE_URI:"auth/invalid-continue-uri",INVALID_CORDOVA_CONFIGURATION:"auth/invalid-cordova-configuration",INVALID_CUSTOM_TOKEN:"auth/invalid-custom-token",INVALID_DYNAMIC_LINK_DOMAIN:"auth/invalid-dynamic-link-domain",INVALID_EMAIL:"auth/invalid-email",INVALID_EMULATOR_SCHEME:"auth/invalid-emulator-scheme",INVALID_IDP_RESPONSE:"auth/invalid-credential",INVALID_LOGIN_CREDENTIALS:"auth/invalid-credential",INVALID_MESSAGE_PAYLOAD:"auth/invalid-message-payload",INVALID_MFA_SESSION:"auth/invalid-multi-factor-session",INVALID_OAUTH_CLIENT_ID:"auth/invalid-oauth-client-id",INVALID_OAUTH_PROVIDER:"auth/invalid-oauth-provider",INVALID_OOB_CODE:"auth/invalid-action-code",INVALID_ORIGIN:"auth/unauthorized-domain",INVALID_PASSWORD:"auth/wrong-password",INVALID_PERSISTENCE:"auth/invalid-persistence-type",INVALID_PHONE_NUMBER:"auth/invalid-phone-number",INVALID_PROVIDER_ID:"auth/invalid-provider-id",INVALID_RECIPIENT_EMAIL:"auth/invalid-recipient-email",INVALID_SENDER:"auth/invalid-sender",INVALID_SESSION_INFO:"auth/invalid-verification-id",INVALID_TENANT_ID:"auth/invalid-tenant-id",MFA_INFO_NOT_FOUND:"auth/multi-factor-info-not-found",MFA_REQUIRED:"auth/multi-factor-auth-required",MISSING_ANDROID_PACKAGE_NAME:"auth/missing-android-pkg-name",MISSING_APP_CREDENTIAL:"auth/missing-app-credential",MISSING_AUTH_DOMAIN:"auth/auth-domain-config-required",MISSING_CODE:"auth/missing-verification-code",MISSING_CONTINUE_URI:"auth/missing-continue-uri",MISSING_IFRAME_START:"auth/missing-iframe-start",MISSING_IOS_BUNDLE_ID:"auth/missing-ios-bundle-id",MISSING_OR_INVALID_NONCE:"auth/missing-or-invalid-nonce",MISSING_MFA_INFO:"auth/missing-multi-factor-info",MISSING_MFA_SESSION:"auth/missing-multi-factor-session",MISSING_PHONE_NUMBER:"auth/missing-phone-number",MISSING_PASSWORD:"auth/missing-password",MISSING_SESSION_INFO:"auth/missing-verification-id",MODULE_DESTROYED:"auth/app-deleted",NEED_CONFIRMATION:"auth/account-exists-with-different-credential",NETWORK_REQUEST_FAILED:"auth/network-request-failed",NULL_USER:"auth/null-user",NO_AUTH_EVENT:"auth/no-auth-event",NO_SUCH_PROVIDER:"auth/no-such-provider",OPERATION_NOT_ALLOWED:"auth/operation-not-allowed",OPERATION_NOT_SUPPORTED:"auth/operation-not-supported-in-this-environment",POPUP_BLOCKED:"auth/popup-blocked",POPUP_CLOSED_BY_USER:"auth/popup-closed-by-user",PROVIDER_ALREADY_LINKED:"auth/provider-already-linked",QUOTA_EXCEEDED:"auth/quota-exceeded",REDIRECT_CANCELLED_BY_USER:"auth/redirect-cancelled-by-user",REDIRECT_OPERATION_PENDING:"auth/redirect-operation-pending",REJECTED_CREDENTIAL:"auth/rejected-credential",SECOND_FACTOR_ALREADY_ENROLLED:"auth/second-factor-already-in-use",SECOND_FACTOR_LIMIT_EXCEEDED:"auth/maximum-second-factor-count-exceeded",TENANT_ID_MISMATCH:"auth/tenant-id-mismatch",TIMEOUT:"auth/timeout",TOKEN_EXPIRED:"auth/user-token-expired",TOO_MANY_ATTEMPTS_TRY_LATER:"auth/too-many-requests",UNAUTHORIZED_DOMAIN:"auth/unauthorized-continue-uri",UNSUPPORTED_FIRST_FACTOR:"auth/unsupported-first-factor",UNSUPPORTED_PERSISTENCE:"auth/unsupported-persistence-type",UNSUPPORTED_TENANT_OPERATION:"auth/unsupported-tenant-operation",UNVERIFIED_EMAIL:"auth/unverified-email",USER_CANCELLED:"auth/user-cancelled",USER_DELETED:"auth/user-not-found",USER_DISABLED:"auth/user-disabled",USER_MISMATCH:"auth/user-mismatch",USER_SIGNED_OUT:"auth/user-signed-out",WEAK_PASSWORD:"auth/weak-password",WEB_STORAGE_UNSUPPORTED:"auth/web-storage-unsupported",ALREADY_INITIALIZED:"auth/already-initialized",RECAPTCHA_NOT_ENABLED:"auth/recaptcha-not-enabled",MISSING_RECAPTCHA_TOKEN:"auth/missing-recaptcha-token",INVALID_RECAPTCHA_TOKEN:"auth/invalid-recaptcha-token",INVALID_RECAPTCHA_ACTION:"auth/invalid-recaptcha-action",MISSING_CLIENT_TYPE:"auth/missing-client-type",MISSING_RECAPTCHA_VERSION:"auth/missing-recaptcha-version",INVALID_RECAPTCHA_VERSION:"auth/invalid-recaptcha-version",INVALID_REQ_TYPE:"auth/invalid-req-type",INVALID_HOSTING_LINK_DOMAIN:"auth/invalid-hosting-link-domain"};const Rh=new td("@firebase/auth");function jk(n,...e){Rh.logLevel<=Ue.WARN&&Rh.warn(`Auth (${ro}): ${n}`,...e)}function fh(n,...e){Rh.logLevel<=Ue.ERROR&&Rh.error(`Auth (${ro}): ${n}`,...e)}function vn(n,...e){throw xm(n,...e)}function sn(n,...e){return xm(n,...e)}function Om(n,e,t){const r={...Fk(),[e]:t};return new no("auth","Firebase",r).create(e,{appName:n.name})}function Vt(n){return Om(n,"operation-not-supported-in-this-environment","Operations that alter the current user are not supported in conjunction with FirebaseServerApp")}function Aa(n,e,t){const r=t;if(!(e instanceof r))throw r.name!==e.constructor.name&&vn(n,"argument-error"),Om(n,"argument-error",`Type of ${e.constructor.name} does not match expected instance.Did you pass a reference from a different Auth SDK?`)}function xm(n,...e){if(typeof n!="string"){const t=e[0],r=[...e.slice(1)];return r[0]&&(r[0].appName=n.name),n._errorFactory.create(t,...r)}return LT.create(n,...e)}function ne(n,e,...t){if(!n)throw xm(e,...t)}function Pr(n){const e="INTERNAL ASSERTION FAILED: "+n;throw fh(e),new Error(e)}function li(n,e){n||Pr(e)}function iu(){return typeof self<"u"&&self.location?.href||""}function Dm(){return Mv()==="http:"||Mv()==="https:"}function Mv(){return typeof self<"u"&&self.location?.protocol||null}function zk(){return typeof navigator<"u"&&navigator&&"onLine"in navigator&&typeof navigator.onLine=="boolean"&&(Dm()||km()||"connection"in navigator)?navigator.onLine:!0}function Bk(){if(typeof navigator>"u")return null;const n=navigator;return n.languages&&n.languages[0]||n.language||null}class Eu{constructor(e,t){this.shortDelay=e,this.longDelay=t,li(t>e,"Short delay should be less than long delay!"),this.isMobile=pP()||yP()}get(){return zk()?this.isMobile?this.longDelay:this.shortDelay:Math.min(5e3,this.shortDelay)}}function Lm(n,e){li(n.emulator,"Emulator should always be set here");const{url:t}=n.emulator;return e?`${t}${e.startsWith("/")?e.slice(1):e}`:t}class VT{static initialize(e,t,r){this.fetchImpl=e,t&&(this.headersImpl=t),r&&(this.responseImpl=r)}static fetch(){if(this.fetchImpl)return this.fetchImpl;if(typeof self<"u"&&"fetch"in self)return self.fetch;if(typeof globalThis<"u"&&globalThis.fetch)return globalThis.fetch;if(typeof fetch<"u")return fetch;Pr("Could not find fetch implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static headers(){if(this.headersImpl)return this.headersImpl;if(typeof self<"u"&&"Headers"in self)return self.Headers;if(typeof globalThis<"u"&&globalThis.Headers)return globalThis.Headers;if(typeof Headers<"u")return Headers;Pr("Could not find Headers implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static response(){if(this.responseImpl)return this.responseImpl;if(typeof self<"u"&&"Response"in self)return self.Response;if(typeof globalThis<"u"&&globalThis.Response)return globalThis.Response;if(typeof Response<"u")return Response;Pr("Could not find Response implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}}const $k={CREDENTIAL_MISMATCH:"custom-token-mismatch",MISSING_CUSTOM_TOKEN:"internal-error",INVALID_IDENTIFIER:"invalid-email",MISSING_CONTINUE_URI:"internal-error",INVALID_PASSWORD:"wrong-password",MISSING_PASSWORD:"missing-password",INVALID_LOGIN_CREDENTIALS:"invalid-credential",EMAIL_EXISTS:"email-already-in-use",PASSWORD_LOGIN_DISABLED:"operation-not-allowed",INVALID_IDP_RESPONSE:"invalid-credential",INVALID_PENDING_TOKEN:"invalid-credential",FEDERATED_USER_ID_ALREADY_LINKED:"credential-already-in-use",MISSING_REQ_TYPE:"internal-error",EMAIL_NOT_FOUND:"user-not-found",RESET_PASSWORD_EXCEED_LIMIT:"too-many-requests",EXPIRED_OOB_CODE:"expired-action-code",INVALID_OOB_CODE:"invalid-action-code",MISSING_OOB_CODE:"internal-error",CREDENTIAL_TOO_OLD_LOGIN_AGAIN:"requires-recent-login",INVALID_ID_TOKEN:"invalid-user-token",TOKEN_EXPIRED:"user-token-expired",USER_NOT_FOUND:"user-token-expired",TOO_MANY_ATTEMPTS_TRY_LATER:"too-many-requests",PASSWORD_DOES_NOT_MEET_REQUIREMENTS:"password-does-not-meet-requirements",INVALID_CODE:"invalid-verification-code",INVALID_SESSION_INFO:"invalid-verification-id",INVALID_TEMPORARY_PROOF:"invalid-credential",MISSING_SESSION_INFO:"missing-verification-id",SESSION_EXPIRED:"code-expired",MISSING_ANDROID_PACKAGE_NAME:"missing-android-pkg-name",UNAUTHORIZED_DOMAIN:"unauthorized-continue-uri",INVALID_OAUTH_CLIENT_ID:"invalid-oauth-client-id",ADMIN_ONLY_OPERATION:"admin-restricted-operation",INVALID_MFA_PENDING_CREDENTIAL:"invalid-multi-factor-session",MFA_ENROLLMENT_NOT_FOUND:"multi-factor-info-not-found",MISSING_MFA_ENROLLMENT_ID:"missing-multi-factor-info",MISSING_MFA_PENDING_CREDENTIAL:"missing-multi-factor-session",SECOND_FACTOR_EXISTS:"second-factor-already-in-use",SECOND_FACTOR_LIMIT_EXCEEDED:"maximum-second-factor-count-exceeded",BLOCKING_FUNCTION_ERROR_RESPONSE:"internal-error",RECAPTCHA_NOT_ENABLED:"recaptcha-not-enabled",MISSING_RECAPTCHA_TOKEN:"missing-recaptcha-token",INVALID_RECAPTCHA_TOKEN:"invalid-recaptcha-token",INVALID_RECAPTCHA_ACTION:"invalid-recaptcha-action",MISSING_CLIENT_TYPE:"missing-client-type",MISSING_RECAPTCHA_VERSION:"missing-recaptcha-version",INVALID_RECAPTCHA_VERSION:"invalid-recaptcha-version",INVALID_REQ_TYPE:"invalid-req-type"};const Hk=["/v1/accounts:signInWithCustomToken","/v1/accounts:signInWithEmailLink","/v1/accounts:signInWithIdp","/v1/accounts:signInWithPassword","/v1/accounts:signInWithPhoneNumber","/v1/token"],qk=new Eu(3e4,6e4);function st(n,e){return n.tenantId&&!e.tenantId?{...e,tenantId:n.tenantId}:e}async function ot(n,e,t,r,s={}){return MT(n,s,async()=>{let a={},u={};r&&(e==="GET"?u=r:a={body:JSON.stringify(r)});const d=Sa({key:n.config.apiKey,...u}).slice(1),f=await n._getAdditionalHeaders();f["Content-Type"]="application/json",n.languageCode&&(f["X-Firebase-Locale"]=n.languageCode);const m={method:e,headers:f,...a};return gP()||(m.referrerPolicy="no-referrer"),n.emulatorConfig&&Lr(n.emulatorConfig.host)&&(m.credentials="include"),VT.fetch()(await UT(n,n.config.apiHost,t,d),m)})}async function MT(n,e,t){n._canInitEmulator=!1;const r={...$k,...e};try{const s=new Gk(n),a=await Promise.race([t(),s.promise]);s.clearNetworkTimeout();const u=await a.json();if("needConfirmation"in u)throw jl(n,"account-exists-with-different-credential",u);if(a.ok&&!("errorMessage"in u))return u;{const d=a.ok?u.errorMessage:u.error.message,[f,m]=d.split(" : ");if(f==="FEDERATED_USER_ID_ALREADY_LINKED")throw jl(n,"credential-already-in-use",u);if(f==="EMAIL_EXISTS")throw jl(n,"email-already-in-use",u);if(f==="USER_DISABLED")throw jl(n,"user-disabled",u);const g=r[f]||f.toLowerCase().replace(/[_\s]+/g,"-");if(m)throw Om(n,g,m);vn(n,g)}}catch(s){if(s instanceof xn)throw s;vn(n,"network-request-failed",{message:String(s)})}}async function pi(n,e,t,r,s={}){const a=await ot(n,e,t,r,s);return"mfaPendingCredential"in a&&vn(n,"multi-factor-auth-required",{_serverResponse:a}),a}async function UT(n,e,t,r){const s=`${e}${t}?${r}`,a=n,u=a.config.emulator?Lm(n.config,s):`${n.config.apiScheme}://${s}`;return Hk.includes(t)&&(await a._persistenceManagerAvailable,a._getPersistenceType()==="COOKIE")?a._getPersistence()._getFinalTarget(u).toString():u}function Wk(n){switch(n){case"ENFORCE":return"ENFORCE";case"AUDIT":return"AUDIT";case"OFF":return"OFF";default:return"ENFORCEMENT_STATE_UNSPECIFIED"}}class Gk{clearNetworkTimeout(){clearTimeout(this.timer)}constructor(e){this.auth=e,this.timer=null,this.promise=new Promise((t,r)=>{this.timer=setTimeout(()=>r(sn(this.auth,"network-request-failed")),qk.get())})}}function jl(n,e,t){const r={appName:n.name};t.email&&(r.email=t.email),t.phoneNumber&&(r.phoneNumber=t.phoneNumber);const s=sn(n,e,r);return s.customData._tokenResponse=t,s}function Uv(n){return n!==void 0&&n.getResponse!==void 0}function Fv(n){return n!==void 0&&n.enterprise!==void 0}class FT{constructor(e){if(this.siteKey="",this.recaptchaEnforcementState=[],e.recaptchaKey===void 0)throw new Error("recaptchaKey undefined");this.siteKey=e.recaptchaKey.split("/")[3],this.recaptchaEnforcementState=e.recaptchaEnforcementState}getProviderEnforcementState(e){if(!this.recaptchaEnforcementState||this.recaptchaEnforcementState.length===0)return null;for(const t of this.recaptchaEnforcementState)if(t.provider&&t.provider===e)return Wk(t.enforcementState);return null}isProviderEnabled(e){return this.getProviderEnforcementState(e)==="ENFORCE"||this.getProviderEnforcementState(e)==="AUDIT"}isAnyProviderEnabled(){return this.isProviderEnabled("EMAIL_PASSWORD_PROVIDER")||this.isProviderEnabled("PHONE_PROVIDER")}}async function Kk(n){return(await ot(n,"GET","/v1/recaptchaParams")).recaptchaSiteKey||""}async function jT(n,e){return ot(n,"GET","/v2/recaptchaConfig",st(n,e))}async function Qk(n,e){return ot(n,"POST","/v1/accounts:delete",e)}async function Yk(n,e){return ot(n,"POST","/v1/accounts:update",e)}async function Ph(n,e){return ot(n,"POST","/v1/accounts:lookup",e)}function Kl(n){if(n)try{const e=new Date(Number(n));if(!isNaN(e.getTime()))return e.toUTCString()}catch{}}function qU(n,e=!1){return ge(n).getIdToken(e)}async function Jk(n,e=!1){const t=ge(n),r=await t.getIdToken(e),s=nd(r);ne(s&&s.exp&&s.auth_time&&s.iat,t.auth,"internal-error");const a=typeof s.firebase=="object"?s.firebase:void 0,u=a?.sign_in_provider;return{claims:s,token:r,authTime:Kl(_p(s.auth_time)),issuedAtTime:Kl(_p(s.iat)),expirationTime:Kl(_p(s.exp)),signInProvider:u||null,signInSecondFactor:a?.sign_in_second_factor||null}}function _p(n){return Number(n)*1e3}function nd(n){const[e,t,r]=n.split(".");if(e===void 0||t===void 0||r===void 0)return fh("JWT malformed, contained fewer than 3 sections"),null;try{const s=TT(t);return s?JSON.parse(s):(fh("Failed to decode base64 JWT payload"),null)}catch(s){return fh("Caught error parsing JWT payload as JSON",s?.toString()),null}}function jv(n){const e=nd(n);return ne(e,"internal-error"),ne(typeof e.exp<"u","internal-error"),ne(typeof e.iat<"u","internal-error"),Number(e.exp)-Number(e.iat)}async function ui(n,e,t=!1){if(t)return e;try{return await e}catch(r){throw r instanceof xn&&Xk(r)&&n.auth.currentUser===n&&await n.auth.signOut(),r}}function Xk({code:n}){return n==="auth/user-disabled"||n==="auth/user-token-expired"}class Zk{constructor(e){this.user=e,this.isRunning=!1,this.timerId=null,this.errorBackoff=3e4}_start(){this.isRunning||(this.isRunning=!0,this.schedule())}_stop(){this.isRunning&&(this.isRunning=!1,this.timerId!==null&&clearTimeout(this.timerId))}getInterval(e){if(e){const t=this.errorBackoff;return this.errorBackoff=Math.min(this.errorBackoff*2,96e4),t}else{this.errorBackoff=3e4;const r=(this.user.stsTokenManager.expirationTime??0)-Date.now()-3e5;return Math.max(0,r)}}schedule(e=!1){if(!this.isRunning)return;const t=this.getInterval(e);this.timerId=setTimeout(async()=>{await this.iteration()},t)}async iteration(){try{await this.user.getIdToken(!0)}catch(e){e?.code==="auth/network-request-failed"&&this.schedule(!0);return}this.schedule()}}class Qp{constructor(e,t){this.createdAt=e,this.lastLoginAt=t,this._initializeTime()}_initializeTime(){this.lastSignInTime=Kl(this.lastLoginAt),this.creationTime=Kl(this.createdAt)}_copy(e){this.createdAt=e.createdAt,this.lastLoginAt=e.lastLoginAt,this._initializeTime()}toJSON(){return{createdAt:this.createdAt,lastLoginAt:this.lastLoginAt}}}async function su(n){const e=n.auth,t=await n.getIdToken(),r=await ui(n,Ph(e,{idToken:t}));ne(r?.users.length,e,"internal-error");const s=r.users[0];n._notifyReloadListener(s);const a=s.providerUserInfo?.length?zT(s.providerUserInfo):[],u=t1(n.providerData,a),d=n.isAnonymous,f=!(n.email&&s.passwordHash)&&!u?.length,m=d?f:!1,g={uid:s.localId,displayName:s.displayName||null,photoURL:s.photoUrl||null,email:s.email||null,emailVerified:s.emailVerified||!1,phoneNumber:s.phoneNumber||null,tenantId:s.tenantId||null,providerData:u,metadata:new Qp(s.createdAt,s.lastLoginAt),isAnonymous:m};Object.assign(n,g)}async function e1(n){const e=ge(n);await su(e),await e.auth._persistUserIfCurrent(e),e.auth._notifyListenersIfCurrent(e)}function t1(n,e){return[...n.filter(r=>!e.some(s=>s.providerId===r.providerId)),...e]}function zT(n){return n.map(({providerId:e,...t})=>({providerId:e,uid:t.rawId||"",displayName:t.displayName||null,email:t.email||null,phoneNumber:t.phoneNumber||null,photoURL:t.photoUrl||null}))}async function n1(n,e){const t=await MT(n,{},async()=>{const r=Sa({grant_type:"refresh_token",refresh_token:e}).slice(1),{tokenApiHost:s,apiKey:a}=n.config,u=await UT(n,s,"/v1/token",`key=${a}`),d=await n._getAdditionalHeaders();d["Content-Type"]="application/x-www-form-urlencoded";const f={method:"POST",headers:d,body:r};return n.emulatorConfig&&Lr(n.emulatorConfig.host)&&(f.credentials="include"),VT.fetch()(u,f)});return{accessToken:t.access_token,expiresIn:t.expires_in,refreshToken:t.refresh_token}}async function r1(n,e){return ot(n,"POST","/v2/accounts:revokeToken",st(n,e))}class aa{constructor(){this.refreshToken=null,this.accessToken=null,this.expirationTime=null}get isExpired(){return!this.expirationTime||Date.now()>this.expirationTime-3e4}updateFromServerResponse(e){ne(e.idToken,"internal-error"),ne(typeof e.idToken<"u","internal-error"),ne(typeof e.refreshToken<"u","internal-error");const t="expiresIn"in e&&typeof e.expiresIn<"u"?Number(e.expiresIn):jv(e.idToken);this.updateTokensAndExpiration(e.idToken,e.refreshToken,t)}updateFromIdToken(e){ne(e.length!==0,"internal-error");const t=jv(e);this.updateTokensAndExpiration(e,null,t)}async getToken(e,t=!1){return!t&&this.accessToken&&!this.isExpired?this.accessToken:(ne(this.refreshToken,e,"user-token-expired"),this.refreshToken?(await this.refresh(e,this.refreshToken),this.accessToken):null)}clearRefreshToken(){this.refreshToken=null}async refresh(e,t){const{accessToken:r,refreshToken:s,expiresIn:a}=await n1(e,t);this.updateTokensAndExpiration(r,s,Number(a))}updateTokensAndExpiration(e,t,r){this.refreshToken=t||null,this.accessToken=e||null,this.expirationTime=Date.now()+r*1e3}static fromJSON(e,t){const{refreshToken:r,accessToken:s,expirationTime:a}=t,u=new aa;return r&&(ne(typeof r=="string","internal-error",{appName:e}),u.refreshToken=r),s&&(ne(typeof s=="string","internal-error",{appName:e}),u.accessToken=s),a&&(ne(typeof a=="number","internal-error",{appName:e}),u.expirationTime=a),u}toJSON(){return{refreshToken:this.refreshToken,accessToken:this.accessToken,expirationTime:this.expirationTime}}_assign(e){this.accessToken=e.accessToken,this.refreshToken=e.refreshToken,this.expirationTime=e.expirationTime}_clone(){return Object.assign(new aa,this.toJSON())}_performRefresh(){return Pr("not implemented")}}function Gi(n,e){ne(typeof n=="string"||typeof n>"u","internal-error",{appName:e})}class ir{constructor({uid:e,auth:t,stsTokenManager:r,...s}){this.providerId="firebase",this.proactiveRefresh=new Zk(this),this.reloadUserInfo=null,this.reloadListener=null,this.uid=e,this.auth=t,this.stsTokenManager=r,this.accessToken=r.accessToken,this.displayName=s.displayName||null,this.email=s.email||null,this.emailVerified=s.emailVerified||!1,this.phoneNumber=s.phoneNumber||null,this.photoURL=s.photoURL||null,this.isAnonymous=s.isAnonymous||!1,this.tenantId=s.tenantId||null,this.providerData=s.providerData?[...s.providerData]:[],this.metadata=new Qp(s.createdAt||void 0,s.lastLoginAt||void 0)}async getIdToken(e){const t=await ui(this,this.stsTokenManager.getToken(this.auth,e));return ne(t,this.auth,"internal-error"),this.accessToken!==t&&(this.accessToken=t,await this.auth._persistUserIfCurrent(this),this.auth._notifyListenersIfCurrent(this)),t}getIdTokenResult(e){return Jk(this,e)}reload(){return e1(this)}_assign(e){this!==e&&(ne(this.uid===e.uid,this.auth,"internal-error"),this.displayName=e.displayName,this.photoURL=e.photoURL,this.email=e.email,this.emailVerified=e.emailVerified,this.phoneNumber=e.phoneNumber,this.isAnonymous=e.isAnonymous,this.tenantId=e.tenantId,this.providerData=e.providerData.map(t=>({...t})),this.metadata._copy(e.metadata),this.stsTokenManager._assign(e.stsTokenManager))}_clone(e){const t=new ir({...this,auth:e,stsTokenManager:this.stsTokenManager._clone()});return t.metadata._copy(this.metadata),t}_onReload(e){ne(!this.reloadListener,this.auth,"internal-error"),this.reloadListener=e,this.reloadUserInfo&&(this._notifyReloadListener(this.reloadUserInfo),this.reloadUserInfo=null)}_notifyReloadListener(e){this.reloadListener?this.reloadListener(e):this.reloadUserInfo=e}_startProactiveRefresh(){this.proactiveRefresh._start()}_stopProactiveRefresh(){this.proactiveRefresh._stop()}async _updateTokensIfNecessary(e,t=!1){let r=!1;e.idToken&&e.idToken!==this.stsTokenManager.accessToken&&(this.stsTokenManager.updateFromServerResponse(e),r=!0),t&&await su(this),await this.auth._persistUserIfCurrent(this),r&&this.auth._notifyListenersIfCurrent(this)}async delete(){if(it(this.auth.app))return Promise.reject(Vt(this.auth));const e=await this.getIdToken();return await ui(this,Qk(this.auth,{idToken:e})),this.stsTokenManager.clearRefreshToken(),this.auth.signOut()}toJSON(){return{uid:this.uid,email:this.email||void 0,emailVerified:this.emailVerified,displayName:this.displayName||void 0,isAnonymous:this.isAnonymous,photoURL:this.photoURL||void 0,phoneNumber:this.phoneNumber||void 0,tenantId:this.tenantId||void 0,providerData:this.providerData.map(e=>({...e})),stsTokenManager:this.stsTokenManager.toJSON(),_redirectEventId:this._redirectEventId,...this.metadata.toJSON(),apiKey:this.auth.config.apiKey,appName:this.auth.name}}get refreshToken(){return this.stsTokenManager.refreshToken||""}static _fromJSON(e,t){const r=t.displayName??void 0,s=t.email??void 0,a=t.phoneNumber??void 0,u=t.photoURL??void 0,d=t.tenantId??void 0,f=t._redirectEventId??void 0,m=t.createdAt??void 0,g=t.lastLoginAt??void 0,{uid:E,emailVerified:w,isAnonymous:R,providerData:M,stsTokenManager:$}=t;ne(E&&$,e,"internal-error");const B=aa.fromJSON(this.name,$);ne(typeof E=="string",e,"internal-error"),Gi(r,e.name),Gi(s,e.name),ne(typeof w=="boolean",e,"internal-error"),ne(typeof R=="boolean",e,"internal-error"),Gi(a,e.name),Gi(u,e.name),Gi(d,e.name),Gi(f,e.name),Gi(m,e.name),Gi(g,e.name);const te=new ir({uid:E,auth:e,email:s,emailVerified:w,displayName:r,isAnonymous:R,photoURL:u,phoneNumber:a,tenantId:d,stsTokenManager:B,createdAt:m,lastLoginAt:g});return M&&Array.isArray(M)&&(te.providerData=M.map(le=>({...le}))),f&&(te._redirectEventId=f),te}static async _fromIdTokenResponse(e,t,r=!1){const s=new aa;s.updateFromServerResponse(t);const a=new ir({uid:t.localId,auth:e,stsTokenManager:s,isAnonymous:r});return await su(a),a}static async _fromGetAccountInfoResponse(e,t,r){const s=t.users[0];ne(s.localId!==void 0,"internal-error");const a=s.providerUserInfo!==void 0?zT(s.providerUserInfo):[],u=!(s.email&&s.passwordHash)&&!a?.length,d=new aa;d.updateFromIdToken(r);const f=new ir({uid:s.localId,auth:e,stsTokenManager:d,isAnonymous:u}),m={uid:s.localId,displayName:s.displayName||null,photoURL:s.photoUrl||null,email:s.email||null,emailVerified:s.emailVerified||!1,phoneNumber:s.phoneNumber||null,tenantId:s.tenantId||null,providerData:a,metadata:new Qp(s.createdAt,s.lastLoginAt),isAnonymous:!(s.email&&s.passwordHash)&&!a?.length};return Object.assign(f,m),f}}const zv=new Map;function ti(n){li(n instanceof Function,"Expected a class definition");let e=zv.get(n);return e?(li(e instanceof n,"Instance stored in cache mismatched with class"),e):(e=new n,zv.set(n,e),e)}class BT{constructor(){this.type="NONE",this.storage={}}async _isAvailable(){return!0}async _set(e,t){this.storage[e]=t}async _get(e){const t=this.storage[e];return t===void 0?null:t}async _remove(e){delete this.storage[e]}_addListener(e,t){}_removeListener(e,t){}}BT.type="NONE";const Bv=BT;function ph(n,e,t){return`firebase:${n}:${e}:${t}`}class la{constructor(e,t,r){this.persistence=e,this.auth=t,this.userKey=r;const{config:s,name:a}=this.auth;this.fullUserKey=ph(this.userKey,s.apiKey,a),this.fullPersistenceKey=ph("persistence",s.apiKey,a),this.boundEventHandler=t._onStorageEvent.bind(t),this.persistence._addListener(this.fullUserKey,this.boundEventHandler)}setCurrentUser(e){return this.persistence._set(this.fullUserKey,e.toJSON())}async getCurrentUser(){const e=await this.persistence._get(this.fullUserKey);if(!e)return null;if(typeof e=="string"){const t=await Ph(this.auth,{idToken:e}).catch(()=>{});return t?ir._fromGetAccountInfoResponse(this.auth,t,e):null}return ir._fromJSON(this.auth,e)}removeCurrentUser(){return this.persistence._remove(this.fullUserKey)}savePersistenceForRedirect(){return this.persistence._set(this.fullPersistenceKey,this.persistence.type)}async setPersistence(e){if(this.persistence===e)return;const t=await this.getCurrentUser();if(await this.removeCurrentUser(),this.persistence=e,t)return this.setCurrentUser(t)}delete(){this.persistence._removeListener(this.fullUserKey,this.boundEventHandler)}static async create(e,t,r="authUser"){if(!t.length)return new la(ti(Bv),e,r);const s=(await Promise.all(t.map(async m=>{if(await m._isAvailable())return m}))).filter(m=>m);let a=s[0]||ti(Bv);const u=ph(r,e.config.apiKey,e.name);let d=null;for(const m of t)try{const g=await m._get(u);if(g){let E;if(typeof g=="string"){const w=await Ph(e,{idToken:g}).catch(()=>{});if(!w)break;E=await ir._fromGetAccountInfoResponse(e,w,g)}else E=ir._fromJSON(e,g);m!==a&&(d=E),a=m;break}}catch{}const f=s.filter(m=>m._shouldAllowMigration);return!a._shouldAllowMigration||!f.length?new la(a,e,r):(a=f[0],d&&await a._set(u,d.toJSON()),await Promise.all(t.map(async m=>{if(m!==a)try{await m._remove(u)}catch{}})),new la(a,e,r))}}function $v(n){const e=n.toLowerCase();if(e.includes("opera/")||e.includes("opr/")||e.includes("opios/"))return"Opera";if(WT(e))return"IEMobile";if(e.includes("msie")||e.includes("trident/"))return"IE";if(e.includes("edge/"))return"Edge";if($T(e))return"Firefox";if(e.includes("silk/"))return"Silk";if(KT(e))return"Blackberry";if(QT(e))return"Webos";if(HT(e))return"Safari";if((e.includes("chrome/")||qT(e))&&!e.includes("edge/"))return"Chrome";if(GT(e))return"Android";{const t=/([a-zA-Z\d\.]+)\/[a-zA-Z\d\.]*$/,r=n.match(t);if(r?.length===2)return r[1]}return"Other"}function $T(n=Zt()){return/firefox\//i.test(n)}function HT(n=Zt()){const e=n.toLowerCase();return e.includes("safari/")&&!e.includes("chrome/")&&!e.includes("crios/")&&!e.includes("android")}function qT(n=Zt()){return/crios\//i.test(n)}function WT(n=Zt()){return/iemobile/i.test(n)}function GT(n=Zt()){return/android/i.test(n)}function KT(n=Zt()){return/blackberry/i.test(n)}function QT(n=Zt()){return/webos/i.test(n)}function Vm(n=Zt()){return/iphone|ipad|ipod/i.test(n)||/macintosh/i.test(n)&&/mobile/i.test(n)}function i1(n=Zt()){return Vm(n)&&!!window.navigator?.standalone}function s1(){return _P()&&document.documentMode===10}function YT(n=Zt()){return Vm(n)||GT(n)||QT(n)||KT(n)||/windows phone/i.test(n)||WT(n)}function JT(n,e=[]){let t;switch(n){case"Browser":t=$v(Zt());break;case"Worker":t=`${$v(Zt())}-${n}`;break;default:t=n}const r=e.length?e.join(","):"FirebaseCore-web";return`${t}/JsCore/${ro}/${r}`}class o1{constructor(e){this.auth=e,this.queue=[]}pushCallback(e,t){const r=a=>new Promise((u,d)=>{try{const f=e(a);u(f)}catch(f){d(f)}});r.onAbort=t,this.queue.push(r);const s=this.queue.length-1;return()=>{this.queue[s]=()=>Promise.resolve()}}async runMiddleware(e){if(this.auth.currentUser===e)return;const t=[];try{for(const r of this.queue)await r(e),r.onAbort&&t.push(r.onAbort)}catch(r){t.reverse();for(const s of t)try{s()}catch{}throw this.auth._errorFactory.create("login-blocked",{originalMessage:r?.message})}}}async function a1(n,e={}){return ot(n,"GET","/v2/passwordPolicy",st(n,e))}const l1=6;class u1{constructor(e){const t=e.customStrengthOptions;this.customStrengthOptions={},this.customStrengthOptions.minPasswordLength=t.minPasswordLength??l1,t.maxPasswordLength&&(this.customStrengthOptions.maxPasswordLength=t.maxPasswordLength),t.containsLowercaseCharacter!==void 0&&(this.customStrengthOptions.containsLowercaseLetter=t.containsLowercaseCharacter),t.containsUppercaseCharacter!==void 0&&(this.customStrengthOptions.containsUppercaseLetter=t.containsUppercaseCharacter),t.containsNumericCharacter!==void 0&&(this.customStrengthOptions.containsNumericCharacter=t.containsNumericCharacter),t.containsNonAlphanumericCharacter!==void 0&&(this.customStrengthOptions.containsNonAlphanumericCharacter=t.containsNonAlphanumericCharacter),this.enforcementState=e.enforcementState,this.enforcementState==="ENFORCEMENT_STATE_UNSPECIFIED"&&(this.enforcementState="OFF"),this.allowedNonAlphanumericCharacters=e.allowedNonAlphanumericCharacters?.join("")??"",this.forceUpgradeOnSignin=e.forceUpgradeOnSignin??!1,this.schemaVersion=e.schemaVersion}validatePassword(e){const t={isValid:!0,passwordPolicy:this};return this.validatePasswordLengthOptions(e,t),this.validatePasswordCharacterOptions(e,t),t.isValid&&(t.isValid=t.meetsMinPasswordLength??!0),t.isValid&&(t.isValid=t.meetsMaxPasswordLength??!0),t.isValid&&(t.isValid=t.containsLowercaseLetter??!0),t.isValid&&(t.isValid=t.containsUppercaseLetter??!0),t.isValid&&(t.isValid=t.containsNumericCharacter??!0),t.isValid&&(t.isValid=t.containsNonAlphanumericCharacter??!0),t}validatePasswordLengthOptions(e,t){const r=this.customStrengthOptions.minPasswordLength,s=this.customStrengthOptions.maxPasswordLength;r&&(t.meetsMinPasswordLength=e.length>=r),s&&(t.meetsMaxPasswordLength=e.length<=s)}validatePasswordCharacterOptions(e,t){this.updatePasswordCharacterOptionsStatuses(t,!1,!1,!1,!1);let r;for(let s=0;s<e.length;s++)r=e.charAt(s),this.updatePasswordCharacterOptionsStatuses(t,r>="a"&&r<="z",r>="A"&&r<="Z",r>="0"&&r<="9",this.allowedNonAlphanumericCharacters.includes(r))}updatePasswordCharacterOptionsStatuses(e,t,r,s,a){this.customStrengthOptions.containsLowercaseLetter&&(e.containsLowercaseLetter||(e.containsLowercaseLetter=t)),this.customStrengthOptions.containsUppercaseLetter&&(e.containsUppercaseLetter||(e.containsUppercaseLetter=r)),this.customStrengthOptions.containsNumericCharacter&&(e.containsNumericCharacter||(e.containsNumericCharacter=s)),this.customStrengthOptions.containsNonAlphanumericCharacter&&(e.containsNonAlphanumericCharacter||(e.containsNonAlphanumericCharacter=a))}}class c1{constructor(e,t,r,s){this.app=e,this.heartbeatServiceProvider=t,this.appCheckServiceProvider=r,this.config=s,this.currentUser=null,this.emulatorConfig=null,this.operations=Promise.resolve(),this.authStateSubscription=new Hv(this),this.idTokenSubscription=new Hv(this),this.beforeStateQueue=new o1(this),this.redirectUser=null,this.isProactiveRefreshEnabled=!1,this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION=1,this._canInitEmulator=!0,this._isInitialized=!1,this._deleted=!1,this._initializationPromise=null,this._popupRedirectResolver=null,this._errorFactory=LT,this._agentRecaptchaConfig=null,this._tenantRecaptchaConfigs={},this._projectPasswordPolicy=null,this._tenantPasswordPolicies={},this._resolvePersistenceManagerAvailable=void 0,this.lastNotifiedUid=void 0,this.languageCode=null,this.tenantId=null,this.settings={appVerificationDisabledForTesting:!1},this.frameworks=[],this.name=e.name,this.clientVersion=s.sdkClientVersion,this._persistenceManagerAvailable=new Promise(a=>this._resolvePersistenceManagerAvailable=a)}_initializeWithPersistence(e,t){return t&&(this._popupRedirectResolver=ti(t)),this._initializationPromise=this.queue(async()=>{if(!this._deleted&&(this.persistenceManager=await la.create(this,e),this._resolvePersistenceManagerAvailable?.(),!this._deleted)){if(this._popupRedirectResolver?._shouldInitProactively)try{await this._popupRedirectResolver._initialize(this)}catch{}await this.initializeCurrentUser(t),this.lastNotifiedUid=this.currentUser?.uid||null,!this._deleted&&(this._isInitialized=!0)}}),this._initializationPromise}async _onStorageEvent(){if(this._deleted)return;const e=await this.assertedPersistence.getCurrentUser();if(!(!this.currentUser&&!e)){if(this.currentUser&&e&&this.currentUser.uid===e.uid){this._currentUser._assign(e),await this.currentUser.getIdToken();return}await this._updateCurrentUser(e,!0)}}async initializeCurrentUserFromIdToken(e){try{const t=await Ph(this,{idToken:e}),r=await ir._fromGetAccountInfoResponse(this,t,e);await this.directlySetCurrentUser(r)}catch(t){console.warn("FirebaseServerApp could not login user with provided authIdToken: ",t),await this.directlySetCurrentUser(null)}}async initializeCurrentUser(e){if(it(this.app)){const a=this.app.settings.authIdToken;return a?new Promise(u=>{setTimeout(()=>this.initializeCurrentUserFromIdToken(a).then(u,u))}):this.directlySetCurrentUser(null)}const t=await this.assertedPersistence.getCurrentUser();let r=t,s=!1;if(e&&this.config.authDomain){await this.getOrInitRedirectPersistenceManager();const a=this.redirectUser?._redirectEventId,u=r?._redirectEventId,d=await this.tryRedirectSignIn(e);(!a||a===u)&&d?.user&&(r=d.user,s=!0)}if(!r)return this.directlySetCurrentUser(null);if(!r._redirectEventId){if(s)try{await this.beforeStateQueue.runMiddleware(r)}catch(a){r=t,this._popupRedirectResolver._overrideRedirectResult(this,()=>Promise.reject(a))}return r?this.reloadAndSetCurrentUserOrClear(r):this.directlySetCurrentUser(null)}return ne(this._popupRedirectResolver,this,"argument-error"),await this.getOrInitRedirectPersistenceManager(),this.redirectUser&&this.redirectUser._redirectEventId===r._redirectEventId?this.directlySetCurrentUser(r):this.reloadAndSetCurrentUserOrClear(r)}async tryRedirectSignIn(e){let t=null;try{t=await this._popupRedirectResolver._completeRedirectFn(this,e,!0)}catch{await this._setRedirectUser(null)}return t}async reloadAndSetCurrentUserOrClear(e){try{await su(e)}catch(t){if(t?.code!=="auth/network-request-failed")return this.directlySetCurrentUser(null)}return this.directlySetCurrentUser(e)}useDeviceLanguage(){this.languageCode=Bk()}async _delete(){this._deleted=!0}async updateCurrentUser(e){if(it(this.app))return Promise.reject(Vt(this));const t=e?ge(e):null;return t&&ne(t.auth.config.apiKey===this.config.apiKey,this,"invalid-user-token"),this._updateCurrentUser(t&&t._clone(this))}async _updateCurrentUser(e,t=!1){if(!this._deleted)return e&&ne(this.tenantId===e.tenantId,this,"tenant-id-mismatch"),t||await this.beforeStateQueue.runMiddleware(e),this.queue(async()=>{await this.directlySetCurrentUser(e),this.notifyAuthListeners()})}async signOut(){return it(this.app)?Promise.reject(Vt(this)):(await this.beforeStateQueue.runMiddleware(null),(this.redirectPersistenceManager||this._popupRedirectResolver)&&await this._setRedirectUser(null),this._updateCurrentUser(null,!0))}setPersistence(e){return it(this.app)?Promise.reject(Vt(this)):this.queue(async()=>{await this.assertedPersistence.setPersistence(ti(e))})}_getRecaptchaConfig(){return this.tenantId==null?this._agentRecaptchaConfig:this._tenantRecaptchaConfigs[this.tenantId]}async validatePassword(e){this._getPasswordPolicyInternal()||await this._updatePasswordPolicy();const t=this._getPasswordPolicyInternal();return t.schemaVersion!==this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION?Promise.reject(this._errorFactory.create("unsupported-password-policy-schema-version",{})):t.validatePassword(e)}_getPasswordPolicyInternal(){return this.tenantId===null?this._projectPasswordPolicy:this._tenantPasswordPolicies[this.tenantId]}async _updatePasswordPolicy(){const e=await a1(this),t=new u1(e);this.tenantId===null?this._projectPasswordPolicy=t:this._tenantPasswordPolicies[this.tenantId]=t}_getPersistenceType(){return this.assertedPersistence.persistence.type}_getPersistence(){return this.assertedPersistence.persistence}_updateErrorMap(e){this._errorFactory=new no("auth","Firebase",e())}onAuthStateChanged(e,t,r){return this.registerStateListener(this.authStateSubscription,e,t,r)}beforeAuthStateChanged(e,t){return this.beforeStateQueue.pushCallback(e,t)}onIdTokenChanged(e,t,r){return this.registerStateListener(this.idTokenSubscription,e,t,r)}authStateReady(){return new Promise((e,t)=>{if(this.currentUser)e();else{const r=this.onAuthStateChanged(()=>{r(),e()},t)}})}async revokeAccessToken(e){if(this.currentUser){const t=await this.currentUser.getIdToken(),r={providerId:"apple.com",tokenType:"ACCESS_TOKEN",token:e,idToken:t};this.tenantId!=null&&(r.tenantId=this.tenantId),await r1(this,r)}}toJSON(){return{apiKey:this.config.apiKey,authDomain:this.config.authDomain,appName:this.name,currentUser:this._currentUser?.toJSON()}}async _setRedirectUser(e,t){const r=await this.getOrInitRedirectPersistenceManager(t);return e===null?r.removeCurrentUser():r.setCurrentUser(e)}async getOrInitRedirectPersistenceManager(e){if(!this.redirectPersistenceManager){const t=e&&ti(e)||this._popupRedirectResolver;ne(t,this,"argument-error"),this.redirectPersistenceManager=await la.create(this,[ti(t._redirectPersistence)],"redirectUser"),this.redirectUser=await this.redirectPersistenceManager.getCurrentUser()}return this.redirectPersistenceManager}async _redirectUserForId(e){return this._isInitialized&&await this.queue(async()=>{}),this._currentUser?._redirectEventId===e?this._currentUser:this.redirectUser?._redirectEventId===e?this.redirectUser:null}async _persistUserIfCurrent(e){if(e===this.currentUser)return this.queue(async()=>this.directlySetCurrentUser(e))}_notifyListenersIfCurrent(e){e===this.currentUser&&this.notifyAuthListeners()}_key(){return`${this.config.authDomain}:${this.config.apiKey}:${this.name}`}_startProactiveRefresh(){this.isProactiveRefreshEnabled=!0,this.currentUser&&this._currentUser._startProactiveRefresh()}_stopProactiveRefresh(){this.isProactiveRefreshEnabled=!1,this.currentUser&&this._currentUser._stopProactiveRefresh()}get _currentUser(){return this.currentUser}notifyAuthListeners(){if(!this._isInitialized)return;this.idTokenSubscription.next(this.currentUser);const e=this.currentUser?.uid??null;this.lastNotifiedUid!==e&&(this.lastNotifiedUid=e,this.authStateSubscription.next(this.currentUser))}registerStateListener(e,t,r,s){if(this._deleted)return()=>{};const a=typeof t=="function"?t:t.next.bind(t);let u=!1;const d=this._isInitialized?Promise.resolve():this._initializationPromise;if(ne(d,this,"internal-error"),d.then(()=>{u||a(this.currentUser)}),typeof t=="function"){const f=e.addObserver(t,r,s);return()=>{u=!0,f()}}else{const f=e.addObserver(t);return()=>{u=!0,f()}}}async directlySetCurrentUser(e){this.currentUser&&this.currentUser!==e&&this._currentUser._stopProactiveRefresh(),e&&this.isProactiveRefreshEnabled&&e._startProactiveRefresh(),this.currentUser=e,e?await this.assertedPersistence.setCurrentUser(e):await this.assertedPersistence.removeCurrentUser()}queue(e){return this.operations=this.operations.then(e,e),this.operations}get assertedPersistence(){return ne(this.persistenceManager,this,"internal-error"),this.persistenceManager}_logFramework(e){!e||this.frameworks.includes(e)||(this.frameworks.push(e),this.frameworks.sort(),this.clientVersion=JT(this.config.clientPlatform,this._getFrameworks()))}_getFrameworks(){return this.frameworks}async _getAdditionalHeaders(){const e={"X-Client-Version":this.clientVersion};this.app.options.appId&&(e["X-Firebase-gmpid"]=this.app.options.appId);const t=await this.heartbeatServiceProvider.getImmediate({optional:!0})?.getHeartbeatsHeader();t&&(e["X-Firebase-Client"]=t);const r=await this._getAppCheckToken();return r&&(e["X-Firebase-AppCheck"]=r),e}async _getAppCheckToken(){if(it(this.app)&&this.app.settings.appCheckToken)return this.app.settings.appCheckToken;const e=await this.appCheckServiceProvider.getImmediate({optional:!0})?.getToken();return e?.error&&jk(`Error while retrieving App Check token: ${e.error}`),e?.token}}function gt(n){return ge(n)}class Hv{constructor(e){this.auth=e,this.observer=null,this.addObserver=SP(t=>this.observer=t)}get next(){return ne(this.observer,this.auth,"internal-error"),this.observer.next.bind(this.observer)}}let Tu={async loadJS(){throw new Error("Unable to load external scripts")},recaptchaV2Script:"",recaptchaEnterpriseScript:"",gapiScript:""};function h1(n){Tu=n}function Mm(n){return Tu.loadJS(n)}function d1(){return Tu.recaptchaV2Script}function f1(){return Tu.recaptchaEnterpriseScript}function p1(){return Tu.gapiScript}function XT(n){return`__${n}${Math.floor(Math.random()*1e6)}`}const m1=500,g1=6e4,eh=1e12;class y1{constructor(e){this.auth=e,this.counter=eh,this._widgets=new Map}render(e,t){const r=this.counter;return this._widgets.set(r,new w1(e,this.auth.name,t||{})),this.counter++,r}reset(e){const t=e||eh;this._widgets.get(t)?.delete(),this._widgets.delete(t)}getResponse(e){const t=e||eh;return this._widgets.get(t)?.getResponse()||""}async execute(e){const t=e||eh;return this._widgets.get(t)?.execute(),""}}class _1{constructor(){this.enterprise=new v1}ready(e){e()}execute(e,t){return Promise.resolve("token")}render(e,t){return""}}class v1{ready(e){e()}execute(e,t){return Promise.resolve("token")}render(e,t){return""}}class w1{constructor(e,t,r){this.params=r,this.timerId=null,this.deleted=!1,this.responseToken=null,this.clickHandler=()=>{this.execute()};const s=typeof e=="string"?document.getElementById(e):e;ne(s,"argument-error",{appName:t}),this.container=s,this.isVisible=this.params.size!=="invisible",this.isVisible?this.execute():this.container.addEventListener("click",this.clickHandler)}getResponse(){return this.checkIfDeleted(),this.responseToken}delete(){this.checkIfDeleted(),this.deleted=!0,this.timerId&&(clearTimeout(this.timerId),this.timerId=null),this.container.removeEventListener("click",this.clickHandler)}execute(){this.checkIfDeleted(),!this.timerId&&(this.timerId=window.setTimeout(()=>{this.responseToken=E1(50);const{callback:e,"expired-callback":t}=this.params;if(e)try{e(this.responseToken)}catch{}this.timerId=window.setTimeout(()=>{if(this.timerId=null,this.responseToken=null,t)try{t()}catch{}this.isVisible&&this.execute()},g1)},m1))}checkIfDeleted(){if(this.deleted)throw new Error("reCAPTCHA mock was already deleted!")}}function E1(n){const e=[],t="1234567890abcdefghijklmnopqrstuvwxyzABCDEFGHIJKLMNOPQRSTUVWXYZ";for(let r=0;r<n;r++)e.push(t.charAt(Math.floor(Math.random()*t.length)));return e.join("")}const T1="recaptcha-enterprise",Ql="NO_RECAPTCHA";class ZT{constructor(e){this.type=T1,this.auth=gt(e)}async verify(e="verify",t=!1){async function r(a){if(!t){if(a.tenantId==null&&a._agentRecaptchaConfig!=null)return a._agentRecaptchaConfig.siteKey;if(a.tenantId!=null&&a._tenantRecaptchaConfigs[a.tenantId]!==void 0)return a._tenantRecaptchaConfigs[a.tenantId].siteKey}return new Promise(async(u,d)=>{jT(a,{clientType:"CLIENT_TYPE_WEB",version:"RECAPTCHA_ENTERPRISE"}).then(f=>{if(f.recaptchaKey===void 0)d(new Error("recaptcha Enterprise site key undefined"));else{const m=new FT(f);return a.tenantId==null?a._agentRecaptchaConfig=m:a._tenantRecaptchaConfigs[a.tenantId]=m,u(m.siteKey)}}).catch(f=>{d(f)})})}function s(a,u,d){const f=window.grecaptcha;Fv(f)?f.enterprise.ready(()=>{f.enterprise.execute(a,{action:e}).then(m=>{u(m)}).catch(()=>{u(Ql)})}):d(Error("No reCAPTCHA enterprise script loaded."))}return this.auth.settings.appVerificationDisabledForTesting?new _1().execute("siteKey",{action:"verify"}):new Promise((a,u)=>{r(this.auth).then(d=>{if(!t&&Fv(window.grecaptcha))s(d,a,u);else{if(typeof window>"u"){u(new Error("RecaptchaVerifier is only supported in browser"));return}let f=f1();f.length!==0&&(f+=d),Mm(f).then(()=>{s(d,a,u)}).catch(m=>{u(m)})}}).catch(d=>{u(d)})})}}async function Ol(n,e,t,r=!1,s=!1){const a=new ZT(n);let u;if(s)u=Ql;else try{u=await a.verify(t)}catch{u=await a.verify(t,!0)}const d={...e};if(t==="mfaSmsEnrollment"||t==="mfaSmsSignIn"){if("phoneEnrollmentInfo"in d){const f=d.phoneEnrollmentInfo.phoneNumber,m=d.phoneEnrollmentInfo.recaptchaToken;Object.assign(d,{phoneEnrollmentInfo:{phoneNumber:f,recaptchaToken:m,captchaResponse:u,clientType:"CLIENT_TYPE_WEB",recaptchaVersion:"RECAPTCHA_ENTERPRISE"}})}else if("phoneSignInInfo"in d){const f=d.phoneSignInInfo.recaptchaToken;Object.assign(d,{phoneSignInInfo:{recaptchaToken:f,captchaResponse:u,clientType:"CLIENT_TYPE_WEB",recaptchaVersion:"RECAPTCHA_ENTERPRISE"}})}return d}return r?Object.assign(d,{captchaResp:u}):Object.assign(d,{captchaResponse:u}),Object.assign(d,{clientType:"CLIENT_TYPE_WEB"}),Object.assign(d,{recaptchaVersion:"RECAPTCHA_ENTERPRISE"}),d}async function ts(n,e,t,r,s){if(s==="EMAIL_PASSWORD_PROVIDER")if(n._getRecaptchaConfig()?.isProviderEnabled("EMAIL_PASSWORD_PROVIDER")){const a=await Ol(n,e,t,t==="getOobCode");return r(n,a)}else return r(n,e).catch(async a=>{if(a.code==="auth/missing-recaptcha-token"){console.log(`${t} is protected by reCAPTCHA Enterprise for this project. Automatically triggering the reCAPTCHA flow and restarting the flow.`);const u=await Ol(n,e,t,t==="getOobCode");return r(n,u)}else return Promise.reject(a)});else if(s==="PHONE_PROVIDER")if(n._getRecaptchaConfig()?.isProviderEnabled("PHONE_PROVIDER")){const a=await Ol(n,e,t);return r(n,a).catch(async u=>{if(n._getRecaptchaConfig()?.getProviderEnforcementState("PHONE_PROVIDER")==="AUDIT"&&(u.code==="auth/missing-recaptcha-token"||u.code==="auth/invalid-app-credential")){console.log(`Failed to verify with reCAPTCHA Enterprise. Automatically triggering the reCAPTCHA v2 flow to complete the ${t} flow.`);const d=await Ol(n,e,t,!1,!0);return r(n,d)}return Promise.reject(u)})}else{const a=await Ol(n,e,t,!1,!0);return r(n,a)}else return Promise.reject(s+" provider is not supported.")}async function eI(n){const e=gt(n),t=await jT(e,{clientType:"CLIENT_TYPE_WEB",version:"RECAPTCHA_ENTERPRISE"}),r=new FT(t);e.tenantId==null?e._agentRecaptchaConfig=r:e._tenantRecaptchaConfigs[e.tenantId]=r,r.isAnyProviderEnabled()&&new ZT(e).verify()}function I1(n,e){const t=fi(n,"auth");if(t.isInitialized()){const s=t.getImmediate(),a=t.getOptions();if(oi(a,e??{}))return s;vn(s,"already-initialized")}return t.initialize({options:e})}function S1(n,e){const t=e?.persistence||[],r=(Array.isArray(t)?t:[t]).map(ti);e?.errorMap&&n._updateErrorMap(e.errorMap),n._initializeWithPersistence(r,e?.popupRedirectResolver)}function A1(n,e,t){const r=gt(n);ne(/^https?:\/\//.test(e),r,"invalid-emulator-scheme");const s=!!t?.disableWarnings,a=tI(e),{host:u,port:d}=R1(e),f=d===null?"":`:${d}`,m={url:`${a}//${u}${f}/`},g=Object.freeze({host:u,port:d,protocol:a.replace(":",""),options:Object.freeze({disableWarnings:s})});if(!r._canInitEmulator){ne(r.config.emulator&&r.emulatorConfig,r,"emulator-config-failed"),ne(oi(m,r.config.emulator)&&oi(g,r.emulatorConfig),r,"emulator-config-failed");return}r.config.emulator=m,r.emulatorConfig=g,r.settings.appVerificationDisabledForTesting=!0,Lr(u)?(Zh(`${a}//${u}${f}`),ed("Auth",!0)):s||P1()}function tI(n){const e=n.indexOf(":");return e<0?"":n.substr(0,e+1)}function R1(n){const e=tI(n),t=/(\/\/)?([^?#/]+)/.exec(n.substr(e.length));if(!t)return{host:"",port:null};const r=t[2].split("@").pop()||"",s=/^(\[[^\]]+\])(:|$)/.exec(r);if(s){const a=s[1];return{host:a,port:qv(r.substr(a.length+1))}}else{const[a,u]=r.split(":");return{host:a,port:qv(u)}}}function qv(n){if(!n)return null;const e=Number(n);return isNaN(e)?null:e}function P1(){function n(){const e=document.createElement("p"),t=e.style;e.innerText="Running in emulator mode. Do not use with production credentials.",t.position="fixed",t.width="100%",t.backgroundColor="#ffffff",t.border=".1em solid #000000",t.color="#b50000",t.bottom="0px",t.left="0px",t.margin="0px",t.zIndex="10000",t.textAlign="center",e.classList.add("firebase-emulator-warning"),document.body.appendChild(e)}typeof console<"u"&&typeof console.info=="function"&&console.info("WARNING: You are using the Auth Emulator, which is intended for local testing only.  Do not use with production credentials."),typeof window<"u"&&typeof document<"u"&&(document.readyState==="loading"?window.addEventListener("DOMContentLoaded",n):n())}class Iu{constructor(e,t){this.providerId=e,this.signInMethod=t}toJSON(){return Pr("not implemented")}_getIdTokenResponse(e){return Pr("not implemented")}_linkToIdToken(e,t){return Pr("not implemented")}_getReauthenticationResolver(e){return Pr("not implemented")}}async function nI(n,e){return ot(n,"POST","/v1/accounts:resetPassword",st(n,e))}async function k1(n,e){return ot(n,"POST","/v1/accounts:update",e)}async function C1(n,e){return ot(n,"POST","/v1/accounts:signUp",e)}async function b1(n,e){return ot(n,"POST","/v1/accounts:update",st(n,e))}async function N1(n,e){return pi(n,"POST","/v1/accounts:signInWithPassword",st(n,e))}async function rd(n,e){return ot(n,"POST","/v1/accounts:sendOobCode",st(n,e))}async function O1(n,e){return rd(n,e)}async function x1(n,e){return rd(n,e)}async function D1(n,e){return rd(n,e)}async function L1(n,e){return rd(n,e)}async function V1(n,e){return pi(n,"POST","/v1/accounts:signInWithEmailLink",st(n,e))}async function M1(n,e){return pi(n,"POST","/v1/accounts:signInWithEmailLink",st(n,e))}class ou extends Iu{constructor(e,t,r,s=null){super("password",r),this._email=e,this._password=t,this._tenantId=s}static _fromEmailAndPassword(e,t){return new ou(e,t,"password")}static _fromEmailAndCode(e,t,r=null){return new ou(e,t,"emailLink",r)}toJSON(){return{email:this._email,password:this._password,signInMethod:this.signInMethod,tenantId:this._tenantId}}static fromJSON(e){const t=typeof e=="string"?JSON.parse(e):e;if(t?.email&&t?.password){if(t.signInMethod==="password")return this._fromEmailAndPassword(t.email,t.password);if(t.signInMethod==="emailLink")return this._fromEmailAndCode(t.email,t.password,t.tenantId)}return null}async _getIdTokenResponse(e){switch(this.signInMethod){case"password":const t={returnSecureToken:!0,email:this._email,password:this._password,clientType:"CLIENT_TYPE_WEB"};return ts(e,t,"signInWithPassword",N1,"EMAIL_PASSWORD_PROVIDER");case"emailLink":return V1(e,{email:this._email,oobCode:this._password});default:vn(e,"internal-error")}}async _linkToIdToken(e,t){switch(this.signInMethod){case"password":const r={idToken:t,returnSecureToken:!0,email:this._email,password:this._password,clientType:"CLIENT_TYPE_WEB"};return ts(e,r,"signUpPassword",C1,"EMAIL_PASSWORD_PROVIDER");case"emailLink":return M1(e,{idToken:t,email:this._email,oobCode:this._password});default:vn(e,"internal-error")}}_getReauthenticationResolver(e){return this._getIdTokenResponse(e)}}async function ii(n,e){return pi(n,"POST","/v1/accounts:signInWithIdp",st(n,e))}const U1="http://localhost";class ci extends Iu{constructor(){super(...arguments),this.pendingToken=null}static _fromParams(e){const t=new ci(e.providerId,e.signInMethod);return e.idToken||e.accessToken?(e.idToken&&(t.idToken=e.idToken),e.accessToken&&(t.accessToken=e.accessToken),e.nonce&&!e.pendingToken&&(t.nonce=e.nonce),e.pendingToken&&(t.pendingToken=e.pendingToken)):e.oauthToken&&e.oauthTokenSecret?(t.accessToken=e.oauthToken,t.secret=e.oauthTokenSecret):vn("argument-error"),t}toJSON(){return{idToken:this.idToken,accessToken:this.accessToken,secret:this.secret,nonce:this.nonce,pendingToken:this.pendingToken,providerId:this.providerId,signInMethod:this.signInMethod}}static fromJSON(e){const t=typeof e=="string"?JSON.parse(e):e,{providerId:r,signInMethod:s,...a}=t;if(!r||!s)return null;const u=new ci(r,s);return u.idToken=a.idToken||void 0,u.accessToken=a.accessToken||void 0,u.secret=a.secret,u.nonce=a.nonce,u.pendingToken=a.pendingToken||null,u}_getIdTokenResponse(e){const t=this.buildRequest();return ii(e,t)}_linkToIdToken(e,t){const r=this.buildRequest();return r.idToken=t,ii(e,r)}_getReauthenticationResolver(e){const t=this.buildRequest();return t.autoCreate=!1,ii(e,t)}buildRequest(){const e={requestUri:U1,returnSecureToken:!0};if(this.pendingToken)e.pendingToken=this.pendingToken;else{const t={};this.idToken&&(t.id_token=this.idToken),this.accessToken&&(t.access_token=this.accessToken),this.secret&&(t.oauth_token_secret=this.secret),t.providerId=this.providerId,this.nonce&&!this.pendingToken&&(t.nonce=this.nonce),e.postBody=Sa(t)}return e}}async function Wv(n,e){return ot(n,"POST","/v1/accounts:sendVerificationCode",st(n,e))}async function F1(n,e){return pi(n,"POST","/v1/accounts:signInWithPhoneNumber",st(n,e))}async function j1(n,e){const t=await pi(n,"POST","/v1/accounts:signInWithPhoneNumber",st(n,e));if(t.temporaryProof)throw jl(n,"account-exists-with-different-credential",t);return t}const z1={USER_NOT_FOUND:"user-not-found"};async function B1(n,e){const t={...e,operation:"REAUTH"};return pi(n,"POST","/v1/accounts:signInWithPhoneNumber",st(n,t),z1)}class qs extends Iu{constructor(e){super("phone","phone"),this.params=e}static _fromVerification(e,t){return new qs({verificationId:e,verificationCode:t})}static _fromTokenResponse(e,t){return new qs({phoneNumber:e,temporaryProof:t})}_getIdTokenResponse(e){return F1(e,this._makeVerificationRequest())}_linkToIdToken(e,t){return j1(e,{idToken:t,...this._makeVerificationRequest()})}_getReauthenticationResolver(e){return B1(e,this._makeVerificationRequest())}_makeVerificationRequest(){const{temporaryProof:e,phoneNumber:t,verificationId:r,verificationCode:s}=this.params;return e&&t?{temporaryProof:e,phoneNumber:t}:{sessionInfo:r,code:s}}toJSON(){const e={providerId:this.providerId};return this.params.phoneNumber&&(e.phoneNumber=this.params.phoneNumber),this.params.temporaryProof&&(e.temporaryProof=this.params.temporaryProof),this.params.verificationCode&&(e.verificationCode=this.params.verificationCode),this.params.verificationId&&(e.verificationId=this.params.verificationId),e}static fromJSON(e){typeof e=="string"&&(e=JSON.parse(e));const{verificationId:t,verificationCode:r,phoneNumber:s,temporaryProof:a}=e;return!r&&!t&&!s&&!a?null:new qs({verificationId:t,verificationCode:r,phoneNumber:s,temporaryProof:a})}}function $1(n){switch(n){case"recoverEmail":return"RECOVER_EMAIL";case"resetPassword":return"PASSWORD_RESET";case"signIn":return"EMAIL_SIGNIN";case"verifyEmail":return"VERIFY_EMAIL";case"verifyAndChangeEmail":return"VERIFY_AND_CHANGE_EMAIL";case"revertSecondFactorAddition":return"REVERT_SECOND_FACTOR_ADDITION";default:return null}}function H1(n){const e=Ul(Fl(n)).link,t=e?Ul(Fl(e)).deep_link_id:null,r=Ul(Fl(n)).deep_link_id;return(r?Ul(Fl(r)).link:null)||r||t||e||n}class Su{constructor(e){const t=Ul(Fl(e)),r=t.apiKey??null,s=t.oobCode??null,a=$1(t.mode??null);ne(r&&s&&a,"argument-error"),this.apiKey=r,this.operation=a,this.code=s,this.continueUrl=t.continueUrl??null,this.languageCode=t.lang??null,this.tenantId=t.tenantId??null}static parseLink(e){const t=H1(e);try{return new Su(t)}catch{return null}}}function WU(n){return Su.parseLink(n)}class io{constructor(){this.providerId=io.PROVIDER_ID}static credential(e,t){return ou._fromEmailAndPassword(e,t)}static credentialWithLink(e,t){const r=Su.parseLink(t);return ne(r,"argument-error"),ou._fromEmailAndCode(e,r.code,r.tenantId)}}io.PROVIDER_ID="password";io.EMAIL_PASSWORD_SIGN_IN_METHOD="password";io.EMAIL_LINK_SIGN_IN_METHOD="emailLink";class mi{constructor(e){this.providerId=e,this.defaultLanguageCode=null,this.customParameters={}}setDefaultLanguage(e){this.defaultLanguageCode=e}setCustomParameters(e){return this.customParameters=e,this}getCustomParameters(){return this.customParameters}}class Ra extends mi{constructor(){super(...arguments),this.scopes=[]}addScope(e){return this.scopes.includes(e)||this.scopes.push(e),this}getScopes(){return[...this.scopes]}}class mh extends Ra{static credentialFromJSON(e){const t=typeof e=="string"?JSON.parse(e):e;return ne("providerId"in t&&"signInMethod"in t,"argument-error"),ci._fromParams(t)}credential(e){return this._credential({...e,nonce:e.rawNonce})}_credential(e){return ne(e.idToken||e.accessToken,"argument-error"),ci._fromParams({...e,providerId:this.providerId,signInMethod:this.providerId})}static credentialFromResult(e){return mh.oauthCredentialFromTaggedObject(e)}static credentialFromError(e){return mh.oauthCredentialFromTaggedObject(e.customData||{})}static oauthCredentialFromTaggedObject({_tokenResponse:e}){if(!e)return null;const{oauthIdToken:t,oauthAccessToken:r,oauthTokenSecret:s,pendingToken:a,nonce:u,providerId:d}=e;if(!r&&!s&&!t&&!a||!d)return null;try{return new mh(d)._credential({idToken:t,accessToken:r,nonce:u,pendingToken:a})}catch{return null}}}class Ki extends Ra{constructor(){super("facebook.com")}static credential(e){return ci._fromParams({providerId:Ki.PROVIDER_ID,signInMethod:Ki.FACEBOOK_SIGN_IN_METHOD,accessToken:e})}static credentialFromResult(e){return Ki.credentialFromTaggedObject(e)}static credentialFromError(e){return Ki.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e||!("oauthAccessToken"in e)||!e.oauthAccessToken)return null;try{return Ki.credential(e.oauthAccessToken)}catch{return null}}}Ki.FACEBOOK_SIGN_IN_METHOD="facebook.com";Ki.PROVIDER_ID="facebook.com";class ei extends Ra{constructor(){super("google.com"),this.addScope("profile")}static credential(e,t){return ci._fromParams({providerId:ei.PROVIDER_ID,signInMethod:ei.GOOGLE_SIGN_IN_METHOD,idToken:e,accessToken:t})}static credentialFromResult(e){return ei.credentialFromTaggedObject(e)}static credentialFromError(e){return ei.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e)return null;const{oauthIdToken:t,oauthAccessToken:r}=e;if(!t&&!r)return null;try{return ei.credential(t,r)}catch{return null}}}ei.GOOGLE_SIGN_IN_METHOD="google.com";ei.PROVIDER_ID="google.com";class Qi extends Ra{constructor(){super("github.com")}static credential(e){return ci._fromParams({providerId:Qi.PROVIDER_ID,signInMethod:Qi.GITHUB_SIGN_IN_METHOD,accessToken:e})}static credentialFromResult(e){return Qi.credentialFromTaggedObject(e)}static credentialFromError(e){return Qi.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e||!("oauthAccessToken"in e)||!e.oauthAccessToken)return null;try{return Qi.credential(e.oauthAccessToken)}catch{return null}}}Qi.GITHUB_SIGN_IN_METHOD="github.com";Qi.PROVIDER_ID="github.com";const q1="http://localhost";class au extends Iu{constructor(e,t){super(e,e),this.pendingToken=t}_getIdTokenResponse(e){const t=this.buildRequest();return ii(e,t)}_linkToIdToken(e,t){const r=this.buildRequest();return r.idToken=t,ii(e,r)}_getReauthenticationResolver(e){const t=this.buildRequest();return t.autoCreate=!1,ii(e,t)}toJSON(){return{signInMethod:this.signInMethod,providerId:this.providerId,pendingToken:this.pendingToken}}static fromJSON(e){const t=typeof e=="string"?JSON.parse(e):e,{providerId:r,signInMethod:s,pendingToken:a}=t;return!r||!s||!a||r!==s?null:new au(r,a)}static _create(e,t){return new au(e,t)}buildRequest(){return{requestUri:q1,returnSecureToken:!0,pendingToken:this.pendingToken}}}const W1="saml.";class Yp extends mi{constructor(e){ne(e.startsWith(W1),"argument-error"),super(e)}static credentialFromResult(e){return Yp.samlCredentialFromTaggedObject(e)}static credentialFromError(e){return Yp.samlCredentialFromTaggedObject(e.customData||{})}static credentialFromJSON(e){const t=au.fromJSON(e);return ne(t,"argument-error"),t}static samlCredentialFromTaggedObject({_tokenResponse:e}){if(!e)return null;const{pendingToken:t,providerId:r}=e;if(!t||!r)return null;try{return au._create(r,t)}catch{return null}}}class Yi extends Ra{constructor(){super("twitter.com")}static credential(e,t){return ci._fromParams({providerId:Yi.PROVIDER_ID,signInMethod:Yi.TWITTER_SIGN_IN_METHOD,oauthToken:e,oauthTokenSecret:t})}static credentialFromResult(e){return Yi.credentialFromTaggedObject(e)}static credentialFromError(e){return Yi.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e)return null;const{oauthAccessToken:t,oauthTokenSecret:r}=e;if(!t||!r)return null;try{return Yi.credential(t,r)}catch{return null}}}Yi.TWITTER_SIGN_IN_METHOD="twitter.com";Yi.PROVIDER_ID="twitter.com";async function rI(n,e){return pi(n,"POST","/v1/accounts:signUp",st(n,e))}class qn{constructor(e){this.user=e.user,this.providerId=e.providerId,this._tokenResponse=e._tokenResponse,this.operationType=e.operationType}static async _fromIdTokenResponse(e,t,r,s=!1){const a=await ir._fromIdTokenResponse(e,r,s),u=Gv(r);return new qn({user:a,providerId:u,_tokenResponse:r,operationType:t})}static async _forOperation(e,t,r){await e._updateTokensIfNecessary(r,!0);const s=Gv(r);return new qn({user:e,providerId:s,_tokenResponse:r,operationType:t})}}function Gv(n){return n.providerId?n.providerId:"phoneNumber"in n?"phone":null}async function GU(n){if(it(n.app))return Promise.reject(Vt(n));const e=gt(n);if(await e._initializationPromise,e.currentUser?.isAnonymous)return new qn({user:e.currentUser,providerId:null,operationType:"signIn"});const t=await rI(e,{returnSecureToken:!0}),r=await qn._fromIdTokenResponse(e,"signIn",t,!0);return await e._updateCurrentUser(r.user),r}class kh extends xn{constructor(e,t,r,s){super(t.code,t.message),this.operationType=r,this.user=s,Object.setPrototypeOf(this,kh.prototype),this.customData={appName:e.name,tenantId:e.tenantId??void 0,_serverResponse:t.customData._serverResponse,operationType:r}}static _fromErrorAndOperation(e,t,r,s){return new kh(e,t,r,s)}}function iI(n,e,t,r){return(e==="reauthenticate"?t._getReauthenticationResolver(n):t._getIdTokenResponse(n)).catch(a=>{throw a.code==="auth/multi-factor-auth-required"?kh._fromErrorAndOperation(n,a,e,r):a})}function sI(n){return new Set(n.map(({providerId:e})=>e).filter(e=>!!e))}async function KU(n,e){const t=ge(n);await id(!0,t,e);const{providerUserInfo:r}=await Yk(t.auth,{idToken:await t.getIdToken(),deleteProvider:[e]}),s=sI(r||[]);return t.providerData=t.providerData.filter(a=>s.has(a.providerId)),s.has("phone")||(t.phoneNumber=null),await t.auth._persistUserIfCurrent(t),t}async function Um(n,e,t=!1){const r=await ui(n,e._linkToIdToken(n.auth,await n.getIdToken()),t);return qn._forOperation(n,"link",r)}async function id(n,e,t){await su(e);const r=sI(e.providerData),s=n===!1?"provider-already-linked":"no-such-provider";ne(r.has(t)===n,e.auth,s)}async function oI(n,e,t=!1){const{auth:r}=n;if(it(r.app))return Promise.reject(Vt(r));const s="reauthenticate";try{const a=await ui(n,iI(r,s,e,n),t);ne(a.idToken,r,"internal-error");const u=nd(a.idToken);ne(u,r,"internal-error");const{sub:d}=u;return ne(n.uid===d,r,"user-mismatch"),qn._forOperation(n,s,a)}catch(a){throw a?.code==="auth/user-not-found"&&vn(r,"user-mismatch"),a}}async function aI(n,e,t=!1){if(it(n.app))return Promise.reject(Vt(n));const r="signIn",s=await iI(n,r,e),a=await qn._fromIdTokenResponse(n,r,s);return t||await n._updateCurrentUser(a.user),a}async function Fm(n,e){return aI(gt(n),e)}async function G1(n,e){const t=ge(n);return await id(!1,t,e.providerId),Um(t,e)}async function K1(n,e){return oI(ge(n),e)}async function Q1(n,e){return pi(n,"POST","/v1/accounts:signInWithCustomToken",st(n,e))}async function QU(n,e){if(it(n.app))return Promise.reject(Vt(n));const t=gt(n),r=await Q1(t,{token:e,returnSecureToken:!0}),s=await qn._fromIdTokenResponse(t,"signIn",r);return await t._updateCurrentUser(s.user),s}class Au{constructor(e,t){this.factorId=e,this.uid=t.mfaEnrollmentId,this.enrollmentTime=new Date(t.enrolledAt).toUTCString(),this.displayName=t.displayName}static _fromServerResponse(e,t){return"phoneInfo"in t?jm._fromServerResponse(e,t):"totpInfo"in t?zm._fromServerResponse(e,t):vn(e,"internal-error")}}class jm extends Au{constructor(e){super("phone",e),this.phoneNumber=e.phoneInfo}static _fromServerResponse(e,t){return new jm(t)}}class zm extends Au{constructor(e){super("totp",e)}static _fromServerResponse(e,t){return new zm(t)}}function sd(n,e,t){ne(t.url?.length>0,n,"invalid-continue-uri"),ne(typeof t.dynamicLinkDomain>"u"||t.dynamicLinkDomain.length>0,n,"invalid-dynamic-link-domain"),ne(typeof t.linkDomain>"u"||t.linkDomain.length>0,n,"invalid-hosting-link-domain"),e.continueUrl=t.url,e.dynamicLinkDomain=t.dynamicLinkDomain,e.linkDomain=t.linkDomain,e.canHandleCodeInApp=t.handleCodeInApp,t.iOS&&(ne(t.iOS.bundleId.length>0,n,"missing-ios-bundle-id"),e.iOSBundleId=t.iOS.bundleId),t.android&&(ne(t.android.packageName.length>0,n,"missing-android-pkg-name"),e.androidInstallApp=t.android.installApp,e.androidMinimumVersionCode=t.android.minimumVersion,e.androidPackageName=t.android.packageName)}async function Bm(n){const e=gt(n);e._getPasswordPolicyInternal()&&await e._updatePasswordPolicy()}async function YU(n,e,t){const r=gt(n),s={requestType:"PASSWORD_RESET",email:e,clientType:"CLIENT_TYPE_WEB"};t&&sd(r,s,t),await ts(r,s,"getOobCode",x1,"EMAIL_PASSWORD_PROVIDER")}async function JU(n,e,t){await nI(ge(n),{oobCode:e,newPassword:t}).catch(async r=>{throw r.code==="auth/password-does-not-meet-requirements"&&Bm(n),r})}async function XU(n,e){await b1(ge(n),{oobCode:e})}async function Y1(n,e){const t=ge(n),r=await nI(t,{oobCode:e}),s=r.requestType;switch(ne(s,t,"internal-error"),s){case"EMAIL_SIGNIN":break;case"VERIFY_AND_CHANGE_EMAIL":ne(r.newEmail,t,"internal-error");break;case"REVERT_SECOND_FACTOR_ADDITION":ne(r.mfaInfo,t,"internal-error");default:ne(r.email,t,"internal-error")}let a=null;return r.mfaInfo&&(a=Au._fromServerResponse(gt(t),r.mfaInfo)),{data:{email:(r.requestType==="VERIFY_AND_CHANGE_EMAIL"?r.newEmail:r.email)||null,previousEmail:(r.requestType==="VERIFY_AND_CHANGE_EMAIL"?r.email:r.newEmail)||null,multiFactorInfo:a},operation:s}}async function ZU(n,e){const{data:t}=await Y1(ge(n),e);return t.email}async function eF(n,e,t){if(it(n.app))return Promise.reject(Vt(n));const r=gt(n),u=await ts(r,{returnSecureToken:!0,email:e,password:t,clientType:"CLIENT_TYPE_WEB"},"signUpPassword",rI,"EMAIL_PASSWORD_PROVIDER").catch(f=>{throw f.code==="auth/password-does-not-meet-requirements"&&Bm(n),f}),d=await qn._fromIdTokenResponse(r,"signIn",u);return await r._updateCurrentUser(d.user),d}function tF(n,e,t){return it(n.app)?Promise.reject(Vt(n)):Fm(ge(n),io.credential(e,t)).catch(async r=>{throw r.code==="auth/password-does-not-meet-requirements"&&Bm(n),r})}async function nF(n,e,t){const r=gt(n),s={requestType:"EMAIL_SIGNIN",email:e,clientType:"CLIENT_TYPE_WEB"};function a(u,d){ne(d.handleCodeInApp,r,"argument-error"),d&&sd(r,u,d)}a(s,t),await ts(r,s,"getOobCode",D1,"EMAIL_PASSWORD_PROVIDER")}function rF(n,e){return Su.parseLink(e)?.operation==="EMAIL_SIGNIN"}async function iF(n,e,t){if(it(n.app))return Promise.reject(Vt(n));const r=ge(n),s=io.credentialWithLink(e,t||iu());return ne(s._tenantId===(r.tenantId||null),r,"tenant-id-mismatch"),Fm(r,s)}async function J1(n,e){return ot(n,"POST","/v1/accounts:createAuthUri",st(n,e))}async function sF(n,e){const t=Dm()?iu():"http://localhost",r={identifier:e,continueUri:t},{signinMethods:s}=await J1(ge(n),r);return s||[]}async function oF(n,e){const t=ge(n),s={requestType:"VERIFY_EMAIL",idToken:await n.getIdToken()};e&&sd(t.auth,s,e);const{email:a}=await O1(t.auth,s);a!==n.email&&await n.reload()}async function aF(n,e,t){const r=ge(n),a={requestType:"VERIFY_AND_CHANGE_EMAIL",idToken:await n.getIdToken(),newEmail:e};t&&sd(r.auth,a,t);const{email:u}=await L1(r.auth,a);u!==n.email&&await n.reload()}async function X1(n,e){return ot(n,"POST","/v1/accounts:update",e)}async function lF(n,{displayName:e,photoURL:t}){if(e===void 0&&t===void 0)return;const r=ge(n),a={idToken:await r.getIdToken(),displayName:e,photoUrl:t,returnSecureToken:!0},u=await ui(r,X1(r.auth,a));r.displayName=u.displayName||null,r.photoURL=u.photoUrl||null;const d=r.providerData.find(({providerId:f})=>f==="password");d&&(d.displayName=r.displayName,d.photoURL=r.photoURL),await r._updateTokensIfNecessary(u)}function uF(n,e){const t=ge(n);return it(t.auth.app)?Promise.reject(Vt(t.auth)):lI(t,e,null)}function cF(n,e){return lI(ge(n),null,e)}async function lI(n,e,t){const{auth:r}=n,a={idToken:await n.getIdToken(),returnSecureToken:!0};e&&(a.email=e),t&&(a.password=t);const u=await ui(n,k1(r,a));await n._updateTokensIfNecessary(u,!0)}function Z1(n){if(!n)return null;const{providerId:e}=n,t=n.rawUserInfo?JSON.parse(n.rawUserInfo):{},r=n.isNewUser||n.kind==="identitytoolkit#SignupNewUserResponse";if(!e&&n?.idToken){const s=nd(n.idToken)?.firebase?.sign_in_provider;if(s){const a=s!=="anonymous"&&s!=="custom"?s:null;return new ua(r,a)}}if(!e)return null;switch(e){case"facebook.com":return new eC(r,t);case"github.com":return new tC(r,t);case"google.com":return new nC(r,t);case"twitter.com":return new rC(r,t,n.screenName||null);case"custom":case"anonymous":return new ua(r,null);default:return new ua(r,e,t)}}class ua{constructor(e,t,r={}){this.isNewUser=e,this.providerId=t,this.profile=r}}class uI extends ua{constructor(e,t,r,s){super(e,t,r),this.username=s}}class eC extends ua{constructor(e,t){super(e,"facebook.com",t)}}class tC extends uI{constructor(e,t){super(e,"github.com",t,typeof t?.login=="string"?t?.login:null)}}class nC extends ua{constructor(e,t){super(e,"google.com",t)}}class rC extends uI{constructor(e,t,r){super(e,"twitter.com",t,r)}}function hF(n){const{user:e,_tokenResponse:t}=n;return e.isAnonymous&&!t?{providerId:null,isNewUser:!1,profile:null}:Z1(t)}function dF(n,e){return ge(n).setPersistence(e)}function fF(n){return eI(n)}async function pF(n,e){return gt(n).validatePassword(e)}function iC(n,e,t,r){return ge(n).onIdTokenChanged(e,t,r)}function sC(n,e,t){return ge(n).beforeAuthStateChanged(e,t)}function oC(n,e,t,r){return ge(n).onAuthStateChanged(e,t,r)}function mF(n){ge(n).useDeviceLanguage()}function gF(n,e){return ge(n).updateCurrentUser(e)}function aC(n){return ge(n).signOut()}function yF(n,e){return gt(n).revokeAccessToken(e)}async function _F(n){return ge(n).delete()}class Bs{constructor(e,t,r){this.type=e,this.credential=t,this.user=r}static _fromIdtoken(e,t){return new Bs("enroll",e,t)}static _fromMfaPendingCredential(e){return new Bs("signin",e)}toJSON(){return{multiFactorSession:{[this.type==="enroll"?"idToken":"pendingCredential"]:this.credential}}}static fromJSON(e){if(e?.multiFactorSession){if(e.multiFactorSession?.pendingCredential)return Bs._fromMfaPendingCredential(e.multiFactorSession.pendingCredential);if(e.multiFactorSession?.idToken)return Bs._fromIdtoken(e.multiFactorSession.idToken)}return null}}class $m{constructor(e,t,r){this.session=e,this.hints=t,this.signInResolver=r}static _fromError(e,t){const r=gt(e),s=t.customData._serverResponse,a=(s.mfaInfo||[]).map(d=>Au._fromServerResponse(r,d));ne(s.mfaPendingCredential,r,"internal-error");const u=Bs._fromMfaPendingCredential(s.mfaPendingCredential);return new $m(u,a,async d=>{const f=await d._process(r,u);delete s.mfaInfo,delete s.mfaPendingCredential;const m={...s,idToken:f.idToken,refreshToken:f.refreshToken};switch(t.operationType){case"signIn":const g=await qn._fromIdTokenResponse(r,t.operationType,m);return await r._updateCurrentUser(g.user),g;case"reauthenticate":return ne(t.user,r,"internal-error"),qn._forOperation(t.user,t.operationType,m);default:vn(r,"internal-error")}})}async resolveSignIn(e){const t=e;return this.signInResolver(t)}}function vF(n,e){const t=ge(n),r=e;return ne(e.customData.operationType,t,"argument-error"),ne(r.customData._serverResponse?.mfaPendingCredential,t,"argument-error"),$m._fromError(t,r)}function Kv(n,e){return ot(n,"POST","/v2/accounts/mfaEnrollment:start",st(n,e))}function lC(n,e){return ot(n,"POST","/v2/accounts/mfaEnrollment:finalize",st(n,e))}function uC(n,e){return ot(n,"POST","/v2/accounts/mfaEnrollment:start",st(n,e))}function cC(n,e){return ot(n,"POST","/v2/accounts/mfaEnrollment:finalize",st(n,e))}function hC(n,e){return ot(n,"POST","/v2/accounts/mfaEnrollment:withdraw",st(n,e))}class Hm{constructor(e){this.user=e,this.enrolledFactors=[],e._onReload(t=>{t.mfaInfo&&(this.enrolledFactors=t.mfaInfo.map(r=>Au._fromServerResponse(e.auth,r)))})}static _fromUser(e){return new Hm(e)}async getSession(){return Bs._fromIdtoken(await this.user.getIdToken(),this.user)}async enroll(e,t){const r=e,s=await this.getSession(),a=await ui(this.user,r._process(this.user.auth,s,t));return await this.user._updateTokensIfNecessary(a),this.user.reload()}async unenroll(e){const t=typeof e=="string"?e:e.uid,r=await this.user.getIdToken();try{const s=await ui(this.user,hC(this.user.auth,{idToken:r,mfaEnrollmentId:t}));this.enrolledFactors=this.enrolledFactors.filter(({uid:a})=>a!==t),await this.user._updateTokensIfNecessary(s),await this.user.reload()}catch(s){throw s}}}const vp=new WeakMap;function wF(n){const e=ge(n);return vp.has(e)||vp.set(e,Hm._fromUser(e)),vp.get(e)}const Ch="__sak";class cI{constructor(e,t){this.storageRetriever=e,this.type=t}_isAvailable(){try{return this.storage?(this.storage.setItem(Ch,"1"),this.storage.removeItem(Ch),Promise.resolve(!0)):Promise.resolve(!1)}catch{return Promise.resolve(!1)}}_set(e,t){return this.storage.setItem(e,JSON.stringify(t)),Promise.resolve()}_get(e){const t=this.storage.getItem(e);return Promise.resolve(t?JSON.parse(t):null)}_remove(e){return this.storage.removeItem(e),Promise.resolve()}get storage(){return this.storageRetriever()}}const dC=1e3,fC=10;class hI extends cI{constructor(){super(()=>window.localStorage,"LOCAL"),this.boundEventHandler=(e,t)=>this.onStorageEvent(e,t),this.listeners={},this.localCache={},this.pollTimer=null,this.fallbackToPolling=YT(),this._shouldAllowMigration=!0}forAllChangedKeys(e){for(const t of Object.keys(this.listeners)){const r=this.storage.getItem(t),s=this.localCache[t];r!==s&&e(t,s,r)}}onStorageEvent(e,t=!1){if(!e.key){this.forAllChangedKeys((u,d,f)=>{this.notifyListeners(u,f)});return}const r=e.key;t?this.detachListener():this.stopPolling();const s=()=>{const u=this.storage.getItem(r);!t&&this.localCache[r]===u||this.notifyListeners(r,u)},a=this.storage.getItem(r);s1()&&a!==e.newValue&&e.newValue!==e.oldValue?setTimeout(s,fC):s()}notifyListeners(e,t){this.localCache[e]=t;const r=this.listeners[e];if(r)for(const s of Array.from(r))s(t&&JSON.parse(t))}startPolling(){this.stopPolling(),this.pollTimer=setInterval(()=>{this.forAllChangedKeys((e,t,r)=>{this.onStorageEvent(new StorageEvent("storage",{key:e,oldValue:t,newValue:r}),!0)})},dC)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}attachListener(){window.addEventListener("storage",this.boundEventHandler)}detachListener(){window.removeEventListener("storage",this.boundEventHandler)}_addListener(e,t){Object.keys(this.listeners).length===0&&(this.fallbackToPolling?this.startPolling():this.attachListener()),this.listeners[e]||(this.listeners[e]=new Set,this.localCache[e]=this.storage.getItem(e)),this.listeners[e].add(t)}_removeListener(e,t){this.listeners[e]&&(this.listeners[e].delete(t),this.listeners[e].size===0&&delete this.listeners[e]),Object.keys(this.listeners).length===0&&(this.detachListener(),this.stopPolling())}async _set(e,t){await super._set(e,t),this.localCache[e]=JSON.stringify(t)}async _get(e){const t=await super._get(e);return this.localCache[e]=JSON.stringify(t),t}async _remove(e){await super._remove(e),delete this.localCache[e]}}hI.type="LOCAL";const pC=hI;const mC=1e3;function wp(n){const e=n.replace(/[\\^$.*+?()[\]{}|]/g,"\\$&"),t=RegExp(`${e}=([^;]+)`);return document.cookie.match(t)?.[1]??null}function Ep(n){return`${window.location.protocol==="http:"?"__dev_":"__HOST-"}FIREBASE_${n.split(":")[3]}`}class dI{constructor(){this.type="COOKIE",this.listenerUnsubscribes=new Map}_getFinalTarget(e){if(typeof window===void 0)return e;const t=new URL(`${window.location.origin}/__cookies__`);return t.searchParams.set("finalTarget",e),t}async _isAvailable(){return typeof isSecureContext=="boolean"&&!isSecureContext||typeof navigator>"u"||typeof document>"u"?!1:navigator.cookieEnabled??!0}async _set(e,t){}async _get(e){if(!this._isAvailable())return null;const t=Ep(e);return window.cookieStore?(await window.cookieStore.get(t))?.value:wp(t)}async _remove(e){if(!this._isAvailable()||!await this._get(e))return;const r=Ep(e);document.cookie=`${r}=;Max-Age=34560000;Partitioned;Secure;SameSite=Strict;Path=/;Priority=High`,await fetch("/__cookies__",{method:"DELETE"}).catch(()=>{})}_addListener(e,t){if(!this._isAvailable())return;const r=Ep(e);if(window.cookieStore){const d=(m=>{const g=m.changed.find(w=>w.name===r);g&&t(g.value),m.deleted.find(w=>w.name===r)&&t(null)}),f=()=>window.cookieStore.removeEventListener("change",d);return this.listenerUnsubscribes.set(t,f),window.cookieStore.addEventListener("change",d)}let s=wp(r);const a=setInterval(()=>{const d=wp(r);d!==s&&(t(d),s=d)},mC),u=()=>clearInterval(a);this.listenerUnsubscribes.set(t,u)}_removeListener(e,t){const r=this.listenerUnsubscribes.get(t);r&&(r(),this.listenerUnsubscribes.delete(t))}}dI.type="COOKIE";const EF=dI;class fI extends cI{constructor(){super(()=>window.sessionStorage,"SESSION")}_addListener(e,t){}_removeListener(e,t){}}fI.type="SESSION";const pI=fI;function gC(n){return Promise.all(n.map(async e=>{try{return{fulfilled:!0,value:await e}}catch(t){return{fulfilled:!1,reason:t}}}))}class od{constructor(e){this.eventTarget=e,this.handlersMap={},this.boundEventHandler=this.handleEvent.bind(this)}static _getInstance(e){const t=this.receivers.find(s=>s.isListeningto(e));if(t)return t;const r=new od(e);return this.receivers.push(r),r}isListeningto(e){return this.eventTarget===e}async handleEvent(e){const t=e,{eventId:r,eventType:s,data:a}=t.data,u=this.handlersMap[s];if(!u?.size)return;t.ports[0].postMessage({status:"ack",eventId:r,eventType:s});const d=Array.from(u).map(async m=>m(t.origin,a)),f=await gC(d);t.ports[0].postMessage({status:"done",eventId:r,eventType:s,response:f})}_subscribe(e,t){Object.keys(this.handlersMap).length===0&&this.eventTarget.addEventListener("message",this.boundEventHandler),this.handlersMap[e]||(this.handlersMap[e]=new Set),this.handlersMap[e].add(t)}_unsubscribe(e,t){this.handlersMap[e]&&t&&this.handlersMap[e].delete(t),(!t||this.handlersMap[e].size===0)&&delete this.handlersMap[e],Object.keys(this.handlersMap).length===0&&this.eventTarget.removeEventListener("message",this.boundEventHandler)}}od.receivers=[];function ad(n="",e=10){let t="";for(let r=0;r<e;r++)t+=Math.floor(Math.random()*10);return n+t}class yC{constructor(e){this.target=e,this.handlers=new Set}removeMessageHandler(e){e.messageChannel&&(e.messageChannel.port1.removeEventListener("message",e.onMessage),e.messageChannel.port1.close()),this.handlers.delete(e)}async _send(e,t,r=50){const s=typeof MessageChannel<"u"?new MessageChannel:null;if(!s)throw new Error("connection_unavailable");let a,u;return new Promise((d,f)=>{const m=ad("",20);s.port1.start();const g=setTimeout(()=>{f(new Error("unsupported_event"))},r);u={messageChannel:s,onMessage(E){const w=E;if(w.data.eventId===m)switch(w.data.status){case"ack":clearTimeout(g),a=setTimeout(()=>{f(new Error("timeout"))},3e3);break;case"done":clearTimeout(a),d(w.data.response);break;default:clearTimeout(g),clearTimeout(a),f(new Error("invalid_response"));break}}},this.handlers.add(u),s.port1.addEventListener("message",u.onMessage),this.target.postMessage({eventType:e,eventId:m,data:t},[s.port2])}).finally(()=>{u&&this.removeMessageHandler(u)})}}function Rt(){return window}function _C(n){Rt().location.href=n}function qm(){return typeof Rt().WorkerGlobalScope<"u"&&typeof Rt().importScripts=="function"}async function vC(){if(!navigator?.serviceWorker)return null;try{return(await navigator.serviceWorker.ready).active}catch{return null}}function wC(){return navigator?.serviceWorker?.controller||null}function EC(){return qm()?self:null}const mI="firebaseLocalStorageDb",TC=1,bh="firebaseLocalStorage",gI="fbase_key";class Ru{constructor(e){this.request=e}toPromise(){return new Promise((e,t)=>{this.request.addEventListener("success",()=>{e(this.request.result)}),this.request.addEventListener("error",()=>{t(this.request.error)})})}}function ld(n,e){return n.transaction([bh],e?"readwrite":"readonly").objectStore(bh)}function IC(){const n=indexedDB.deleteDatabase(mI);return new Ru(n).toPromise()}function Jp(){const n=indexedDB.open(mI,TC);return new Promise((e,t)=>{n.addEventListener("error",()=>{t(n.error)}),n.addEventListener("upgradeneeded",()=>{const r=n.result;try{r.createObjectStore(bh,{keyPath:gI})}catch(s){t(s)}}),n.addEventListener("success",async()=>{const r=n.result;r.objectStoreNames.contains(bh)?e(r):(r.close(),await IC(),e(await Jp()))})})}async function Qv(n,e,t){const r=ld(n,!0).put({[gI]:e,value:t});return new Ru(r).toPromise()}async function SC(n,e){const t=ld(n,!1).get(e),r=await new Ru(t).toPromise();return r===void 0?null:r.value}function Yv(n,e){const t=ld(n,!0).delete(e);return new Ru(t).toPromise()}const AC=800,RC=3;class yI{constructor(){this.type="LOCAL",this._shouldAllowMigration=!0,this.listeners={},this.localCache={},this.pollTimer=null,this.pendingWrites=0,this.receiver=null,this.sender=null,this.serviceWorkerReceiverAvailable=!1,this.activeServiceWorker=null,this._workerInitializationPromise=this.initializeServiceWorkerMessaging().then(()=>{},()=>{})}async _openDb(){return this.db?this.db:(this.db=await Jp(),this.db)}async _withRetries(e){let t=0;for(;;)try{const r=await this._openDb();return await e(r)}catch(r){if(t++>RC)throw r;this.db&&(this.db.close(),this.db=void 0)}}async initializeServiceWorkerMessaging(){return qm()?this.initializeReceiver():this.initializeSender()}async initializeReceiver(){this.receiver=od._getInstance(EC()),this.receiver._subscribe("keyChanged",async(e,t)=>({keyProcessed:(await this._poll()).includes(t.key)})),this.receiver._subscribe("ping",async(e,t)=>["keyChanged"])}async initializeSender(){if(this.activeServiceWorker=await vC(),!this.activeServiceWorker)return;this.sender=new yC(this.activeServiceWorker);const e=await this.sender._send("ping",{},800);e&&e[0]?.fulfilled&&e[0]?.value.includes("keyChanged")&&(this.serviceWorkerReceiverAvailable=!0)}async notifyServiceWorker(e){if(!(!this.sender||!this.activeServiceWorker||wC()!==this.activeServiceWorker))try{await this.sender._send("keyChanged",{key:e},this.serviceWorkerReceiverAvailable?800:50)}catch{}}async _isAvailable(){try{if(!indexedDB)return!1;const e=await Jp();return await Qv(e,Ch,"1"),await Yv(e,Ch),!0}catch{}return!1}async _withPendingWrite(e){this.pendingWrites++;try{await e()}finally{this.pendingWrites--}}async _set(e,t){return this._withPendingWrite(async()=>(await this._withRetries(r=>Qv(r,e,t)),this.localCache[e]=t,this.notifyServiceWorker(e)))}async _get(e){const t=await this._withRetries(r=>SC(r,e));return this.localCache[e]=t,t}async _remove(e){return this._withPendingWrite(async()=>(await this._withRetries(t=>Yv(t,e)),delete this.localCache[e],this.notifyServiceWorker(e)))}async _poll(){const e=await this._withRetries(s=>{const a=ld(s,!1).getAll();return new Ru(a).toPromise()});if(!e)return[];if(this.pendingWrites!==0)return[];const t=[],r=new Set;if(e.length!==0)for(const{fbase_key:s,value:a}of e)r.add(s),JSON.stringify(this.localCache[s])!==JSON.stringify(a)&&(this.notifyListeners(s,a),t.push(s));for(const s of Object.keys(this.localCache))this.localCache[s]&&!r.has(s)&&(this.notifyListeners(s,null),t.push(s));return t}notifyListeners(e,t){this.localCache[e]=t;const r=this.listeners[e];if(r)for(const s of Array.from(r))s(t)}startPolling(){this.stopPolling(),this.pollTimer=setInterval(async()=>this._poll(),AC)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}_addListener(e,t){Object.keys(this.listeners).length===0&&this.startPolling(),this.listeners[e]||(this.listeners[e]=new Set,this._get(e)),this.listeners[e].add(t)}_removeListener(e,t){this.listeners[e]&&(this.listeners[e].delete(t),this.listeners[e].size===0&&delete this.listeners[e]),Object.keys(this.listeners).length===0&&this.stopPolling()}}yI.type="LOCAL";const PC=yI;function Jv(n,e){return ot(n,"POST","/v2/accounts/mfaSignIn:start",st(n,e))}function kC(n,e){return ot(n,"POST","/v2/accounts/mfaSignIn:finalize",st(n,e))}function CC(n,e){return ot(n,"POST","/v2/accounts/mfaSignIn:finalize",st(n,e))}const Tp=XT("rcb"),bC=new Eu(3e4,6e4);class NC{constructor(){this.hostLanguage="",this.counter=0,this.librarySeparatelyLoaded=!!Rt().grecaptcha?.render}load(e,t=""){return ne(OC(t),e,"argument-error"),this.shouldResolveImmediately(t)&&Uv(Rt().grecaptcha)?Promise.resolve(Rt().grecaptcha):new Promise((r,s)=>{const a=Rt().setTimeout(()=>{s(sn(e,"network-request-failed"))},bC.get());Rt()[Tp]=()=>{Rt().clearTimeout(a),delete Rt()[Tp];const d=Rt().grecaptcha;if(!d||!Uv(d)){s(sn(e,"internal-error"));return}const f=d.render;d.render=(m,g)=>{const E=f(m,g);return this.counter++,E},this.hostLanguage=t,r(d)};const u=`${d1()}?${Sa({onload:Tp,render:"explicit",hl:t})}`;Mm(u).catch(()=>{clearTimeout(a),s(sn(e,"internal-error"))})})}clearedOneInstance(){this.counter--}shouldResolveImmediately(e){return!!Rt().grecaptcha?.render&&(e===this.hostLanguage||this.counter>0||this.librarySeparatelyLoaded)}}function OC(n){return n.length<=6&&/^\s*[a-zA-Z0-9\-]*\s*$/.test(n)}class xC{async load(e){return new y1(e)}clearedOneInstance(){}}const Yl="recaptcha",DC={theme:"light",type:"image"};class TF{constructor(e,t,r={...DC}){this.parameters=r,this.type=Yl,this.destroyed=!1,this.widgetId=null,this.tokenChangeListeners=new Set,this.renderPromise=null,this.recaptcha=null,this.auth=gt(e),this.isInvisible=this.parameters.size==="invisible",ne(typeof document<"u",this.auth,"operation-not-supported-in-this-environment");const s=typeof t=="string"?document.getElementById(t):t;ne(s,this.auth,"argument-error"),this.container=s,this.parameters.callback=this.makeTokenCallback(this.parameters.callback),this._recaptchaLoader=this.auth.settings.appVerificationDisabledForTesting?new xC:new NC,this.validateStartingState()}async verify(){this.assertNotDestroyed();const e=await this.render(),t=this.getAssertedRecaptcha(),r=t.getResponse(e);return r||new Promise(s=>{const a=u=>{u&&(this.tokenChangeListeners.delete(a),s(u))};this.tokenChangeListeners.add(a),this.isInvisible&&t.execute(e)})}render(){try{this.assertNotDestroyed()}catch(e){return Promise.reject(e)}return this.renderPromise?this.renderPromise:(this.renderPromise=this.makeRenderPromise().catch(e=>{throw this.renderPromise=null,e}),this.renderPromise)}_reset(){this.assertNotDestroyed(),this.widgetId!==null&&this.getAssertedRecaptcha().reset(this.widgetId)}clear(){this.assertNotDestroyed(),this.destroyed=!0,this._recaptchaLoader.clearedOneInstance(),this.isInvisible||this.container.childNodes.forEach(e=>{this.container.removeChild(e)})}validateStartingState(){ne(!this.parameters.sitekey,this.auth,"argument-error"),ne(this.isInvisible||!this.container.hasChildNodes(),this.auth,"argument-error"),ne(typeof document<"u",this.auth,"operation-not-supported-in-this-environment")}makeTokenCallback(e){return t=>{if(this.tokenChangeListeners.forEach(r=>r(t)),typeof e=="function")e(t);else if(typeof e=="string"){const r=Rt()[e];typeof r=="function"&&r(t)}}}assertNotDestroyed(){ne(!this.destroyed,this.auth,"internal-error")}async makeRenderPromise(){if(await this.init(),!this.widgetId){let e=this.container;if(!this.isInvisible){const t=document.createElement("div");e.appendChild(t),e=t}this.widgetId=this.getAssertedRecaptcha().render(e,this.parameters)}return this.widgetId}async init(){ne(Dm()&&!qm(),this.auth,"internal-error"),await LC(),this.recaptcha=await this._recaptchaLoader.load(this.auth,this.auth.languageCode||void 0);const e=await Kk(this.auth);ne(e,this.auth,"internal-error"),this.parameters.sitekey=e}getAssertedRecaptcha(){return ne(this.recaptcha,this.auth,"internal-error"),this.recaptcha}}function LC(){let n=null;return new Promise(e=>{if(document.readyState==="complete"){e();return}n=()=>e(),window.addEventListener("load",n)}).catch(e=>{throw n&&window.removeEventListener("load",n),e})}class Wm{constructor(e,t){this.verificationId=e,this.onConfirmation=t}confirm(e){const t=qs._fromVerification(this.verificationId,e);return this.onConfirmation(t)}}async function IF(n,e,t){if(it(n.app))return Promise.reject(Vt(n));const r=gt(n),s=await ud(r,e,ge(t));return new Wm(s,a=>Fm(r,a))}async function SF(n,e,t){const r=ge(n);await id(!1,r,"phone");const s=await ud(r.auth,e,ge(t));return new Wm(s,a=>G1(r,a))}async function AF(n,e,t){const r=ge(n);if(it(r.auth.app))return Promise.reject(Vt(r.auth));const s=await ud(r.auth,e,ge(t));return new Wm(s,a=>K1(r,a))}async function ud(n,e,t){if(!n._getRecaptchaConfig())try{await eI(n)}catch{console.log("Failed to initialize reCAPTCHA Enterprise config. Triggering the reCAPTCHA v2 verification.")}try{let r;if(typeof e=="string"?r={phoneNumber:e}:r=e,"session"in r){const s=r.session;if("phoneNumber"in r){ne(s.type==="enroll",n,"internal-error");const a={idToken:s.credential,phoneEnrollmentInfo:{phoneNumber:r.phoneNumber,clientType:"CLIENT_TYPE_WEB"}};return(await ts(n,a,"mfaSmsEnrollment",async(m,g)=>{if(g.phoneEnrollmentInfo.captchaResponse===Ql){ne(t?.type===Yl,m,"argument-error");const E=await Ip(m,g,t);return Kv(m,E)}return Kv(m,g)},"PHONE_PROVIDER").catch(m=>Promise.reject(m))).phoneSessionInfo.sessionInfo}else{ne(s.type==="signin",n,"internal-error");const a=r.multiFactorHint?.uid||r.multiFactorUid;ne(a,n,"missing-multi-factor-info");const u={mfaPendingCredential:s.credential,mfaEnrollmentId:a,phoneSignInInfo:{clientType:"CLIENT_TYPE_WEB"}};return(await ts(n,u,"mfaSmsSignIn",async(g,E)=>{if(E.phoneSignInInfo.captchaResponse===Ql){ne(t?.type===Yl,g,"argument-error");const w=await Ip(g,E,t);return Jv(g,w)}return Jv(g,E)},"PHONE_PROVIDER").catch(g=>Promise.reject(g))).phoneResponseInfo.sessionInfo}}else{const s={phoneNumber:r.phoneNumber,clientType:"CLIENT_TYPE_WEB"};return(await ts(n,s,"sendVerificationCode",async(f,m)=>{if(m.captchaResponse===Ql){ne(t?.type===Yl,f,"argument-error");const g=await Ip(f,m,t);return Wv(f,g)}return Wv(f,m)},"PHONE_PROVIDER").catch(f=>Promise.reject(f))).sessionInfo}}finally{t?._reset()}}async function RF(n,e){const t=ge(n);if(it(t.auth.app))return Promise.reject(Vt(t.auth));await Um(t,e)}async function Ip(n,e,t){ne(t.type===Yl,n,"argument-error");const r=await t.verify();ne(typeof r=="string",n,"argument-error");const s={...e};if("phoneEnrollmentInfo"in s){const a=s.phoneEnrollmentInfo.phoneNumber,u=s.phoneEnrollmentInfo.captchaResponse,d=s.phoneEnrollmentInfo.clientType,f=s.phoneEnrollmentInfo.recaptchaVersion;return Object.assign(s,{phoneEnrollmentInfo:{phoneNumber:a,recaptchaToken:r,captchaResponse:u,clientType:d,recaptchaVersion:f}}),s}else if("phoneSignInInfo"in s){const a=s.phoneSignInInfo.captchaResponse,u=s.phoneSignInInfo.clientType,d=s.phoneSignInInfo.recaptchaVersion;return Object.assign(s,{phoneSignInInfo:{recaptchaToken:r,captchaResponse:a,clientType:u,recaptchaVersion:d}}),s}else return Object.assign(s,{recaptchaToken:r}),s}class ca{constructor(e){this.providerId=ca.PROVIDER_ID,this.auth=gt(e)}verifyPhoneNumber(e,t){return ud(this.auth,e,ge(t))}static credential(e,t){return qs._fromVerification(e,t)}static credentialFromResult(e){const t=e;return ca.credentialFromTaggedObject(t)}static credentialFromError(e){return ca.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e)return null;const{phoneNumber:t,temporaryProof:r}=e;return t&&r?qs._fromTokenResponse(t,r):null}}ca.PROVIDER_ID="phone";ca.PHONE_SIGN_IN_METHOD="phone";function so(n,e){return e?ti(e):(ne(n._popupRedirectResolver,n,"argument-error"),n._popupRedirectResolver)}class Gm extends Iu{constructor(e){super("custom","custom"),this.params=e}_getIdTokenResponse(e){return ii(e,this._buildIdpRequest())}_linkToIdToken(e,t){return ii(e,this._buildIdpRequest(t))}_getReauthenticationResolver(e){return ii(e,this._buildIdpRequest())}_buildIdpRequest(e){const t={requestUri:this.params.requestUri,sessionId:this.params.sessionId,postBody:this.params.postBody,tenantId:this.params.tenantId,pendingToken:this.params.pendingToken,returnSecureToken:!0,returnIdpCredential:!0};return e&&(t.idToken=e),t}}function VC(n){return aI(n.auth,new Gm(n),n.bypassAuthState)}function MC(n){const{auth:e,user:t}=n;return ne(t,e,"internal-error"),oI(t,new Gm(n),n.bypassAuthState)}async function UC(n){const{auth:e,user:t}=n;return ne(t,e,"internal-error"),Um(t,new Gm(n),n.bypassAuthState)}class _I{constructor(e,t,r,s,a=!1){this.auth=e,this.resolver=r,this.user=s,this.bypassAuthState=a,this.pendingPromise=null,this.eventManager=null,this.filter=Array.isArray(t)?t:[t]}execute(){return new Promise(async(e,t)=>{this.pendingPromise={resolve:e,reject:t};try{this.eventManager=await this.resolver._initialize(this.auth),await this.onExecution(),this.eventManager.registerConsumer(this)}catch(r){this.reject(r)}})}async onAuthEvent(e){const{urlResponse:t,sessionId:r,postBody:s,tenantId:a,error:u,type:d}=e;if(u){this.reject(u);return}const f={auth:this.auth,requestUri:t,sessionId:r,tenantId:a||void 0,postBody:s||void 0,user:this.user,bypassAuthState:this.bypassAuthState};try{this.resolve(await this.getIdpTask(d)(f))}catch(m){this.reject(m)}}onError(e){this.reject(e)}getIdpTask(e){switch(e){case"signInViaPopup":case"signInViaRedirect":return VC;case"linkViaPopup":case"linkViaRedirect":return UC;case"reauthViaPopup":case"reauthViaRedirect":return MC;default:vn(this.auth,"internal-error")}}resolve(e){li(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.resolve(e),this.unregisterAndCleanUp()}reject(e){li(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.reject(e),this.unregisterAndCleanUp()}unregisterAndCleanUp(){this.eventManager&&this.eventManager.unregisterConsumer(this),this.pendingPromise=null,this.cleanUp()}}const FC=new Eu(2e3,1e4);async function PF(n,e,t){if(it(n.app))return Promise.reject(sn(n,"operation-not-supported-in-this-environment"));const r=gt(n);Aa(n,e,mi);const s=so(r,t);return new ni(r,"signInViaPopup",e,s).executeNotNull()}async function kF(n,e,t){const r=ge(n);if(it(r.auth.app))return Promise.reject(sn(r.auth,"operation-not-supported-in-this-environment"));Aa(r.auth,e,mi);const s=so(r.auth,t);return new ni(r.auth,"reauthViaPopup",e,s,r).executeNotNull()}async function CF(n,e,t){const r=ge(n);Aa(r.auth,e,mi);const s=so(r.auth,t);return new ni(r.auth,"linkViaPopup",e,s,r).executeNotNull()}class ni extends _I{constructor(e,t,r,s,a){super(e,t,s,a),this.provider=r,this.authWindow=null,this.pollId=null,ni.currentPopupAction&&ni.currentPopupAction.cancel(),ni.currentPopupAction=this}async executeNotNull(){const e=await this.execute();return ne(e,this.auth,"internal-error"),e}async onExecution(){li(this.filter.length===1,"Popup operations only handle one event");const e=ad();this.authWindow=await this.resolver._openPopup(this.auth,this.provider,this.filter[0],e),this.authWindow.associatedEvent=e,this.resolver._originValidation(this.auth).catch(t=>{this.reject(t)}),this.resolver._isIframeWebStorageSupported(this.auth,t=>{t||this.reject(sn(this.auth,"web-storage-unsupported"))}),this.pollUserCancellation()}get eventId(){return this.authWindow?.associatedEvent||null}cancel(){this.reject(sn(this.auth,"cancelled-popup-request"))}cleanUp(){this.authWindow&&this.authWindow.close(),this.pollId&&window.clearTimeout(this.pollId),this.authWindow=null,this.pollId=null,ni.currentPopupAction=null}pollUserCancellation(){const e=()=>{if(this.authWindow?.window?.closed){this.pollId=window.setTimeout(()=>{this.pollId=null,this.reject(sn(this.auth,"popup-closed-by-user"))},8e3);return}this.pollId=window.setTimeout(e,FC.get())};e()}}ni.currentPopupAction=null;const jC="pendingRedirect",gh=new Map;class zC extends _I{constructor(e,t,r=!1){super(e,["signInViaRedirect","linkViaRedirect","reauthViaRedirect","unknown"],t,void 0,r),this.eventId=null}async execute(){let e=gh.get(this.auth._key());if(!e){try{const r=await BC(this.resolver,this.auth)?await super.execute():null;e=()=>Promise.resolve(r)}catch(t){e=()=>Promise.reject(t)}gh.set(this.auth._key(),e)}return this.bypassAuthState||gh.set(this.auth._key(),()=>Promise.resolve(null)),e()}async onAuthEvent(e){if(e.type==="signInViaRedirect")return super.onAuthEvent(e);if(e.type==="unknown"){this.resolve(null);return}if(e.eventId){const t=await this.auth._redirectUserForId(e.eventId);if(t)return this.user=t,super.onAuthEvent(e);this.resolve(null)}}async onExecution(){}cleanUp(){}}async function BC(n,e){const t=wI(e),r=vI(n);if(!await r._isAvailable())return!1;const s=await r._get(t)==="true";return await r._remove(t),s}async function Km(n,e){return vI(n)._set(wI(e),"true")}function $C(n,e){gh.set(n._key(),e)}function vI(n){return ti(n._redirectPersistence)}function wI(n){return ph(jC,n.config.apiKey,n.name)}function bF(n,e,t){return HC(n,e,t)}async function HC(n,e,t){if(it(n.app))return Promise.reject(Vt(n));const r=gt(n);Aa(n,e,mi),await r._initializationPromise;const s=so(r,t);return await Km(s,r),s._openRedirect(r,e,"signInViaRedirect")}function NF(n,e,t){return qC(n,e,t)}async function qC(n,e,t){const r=ge(n);if(Aa(r.auth,e,mi),it(r.auth.app))return Promise.reject(Vt(r.auth));await r.auth._initializationPromise;const s=so(r.auth,t);await Km(s,r.auth);const a=await TI(r);return s._openRedirect(r.auth,e,"reauthViaRedirect",a)}function OF(n,e,t){return WC(n,e,t)}async function WC(n,e,t){const r=ge(n);Aa(r.auth,e,mi),await r.auth._initializationPromise;const s=so(r.auth,t);await id(!1,r,e.providerId),await Km(s,r.auth);const a=await TI(r);return s._openRedirect(r.auth,e,"linkViaRedirect",a)}async function xF(n,e){return await gt(n)._initializationPromise,EI(n,e,!1)}async function EI(n,e,t=!1){if(it(n.app))return Promise.reject(Vt(n));const r=gt(n),s=so(r,e),u=await new zC(r,s,t).execute();return u&&!t&&(delete u.user._redirectEventId,await r._persistUserIfCurrent(u.user),await r._setRedirectUser(null,e)),u}async function TI(n){const e=ad(`${n.uid}:::`);return n._redirectEventId=e,await n.auth._setRedirectUser(n),await n.auth._persistUserIfCurrent(n),e}const GC=600*1e3;class KC{constructor(e){this.auth=e,this.cachedEventUids=new Set,this.consumers=new Set,this.queuedRedirectEvent=null,this.hasHandledPotentialRedirect=!1,this.lastProcessedEventTime=Date.now()}registerConsumer(e){this.consumers.add(e),this.queuedRedirectEvent&&this.isEventForConsumer(this.queuedRedirectEvent,e)&&(this.sendToConsumer(this.queuedRedirectEvent,e),this.saveEventToCache(this.queuedRedirectEvent),this.queuedRedirectEvent=null)}unregisterConsumer(e){this.consumers.delete(e)}onEvent(e){if(this.hasEventBeenHandled(e))return!1;let t=!1;return this.consumers.forEach(r=>{this.isEventForConsumer(e,r)&&(t=!0,this.sendToConsumer(e,r),this.saveEventToCache(e))}),this.hasHandledPotentialRedirect||!QC(e)||(this.hasHandledPotentialRedirect=!0,t||(this.queuedRedirectEvent=e,t=!0)),t}sendToConsumer(e,t){if(e.error&&!II(e)){const r=e.error.code?.split("auth/")[1]||"internal-error";t.onError(sn(this.auth,r))}else t.onAuthEvent(e)}isEventForConsumer(e,t){const r=t.eventId===null||!!e.eventId&&e.eventId===t.eventId;return t.filter.includes(e.type)&&r}hasEventBeenHandled(e){return Date.now()-this.lastProcessedEventTime>=GC&&this.cachedEventUids.clear(),this.cachedEventUids.has(Xv(e))}saveEventToCache(e){this.cachedEventUids.add(Xv(e)),this.lastProcessedEventTime=Date.now()}}function Xv(n){return[n.type,n.eventId,n.sessionId,n.tenantId].filter(e=>e).join("-")}function II({type:n,error:e}){return n==="unknown"&&e?.code==="auth/no-auth-event"}function QC(n){switch(n.type){case"signInViaRedirect":case"linkViaRedirect":case"reauthViaRedirect":return!0;case"unknown":return II(n);default:return!1}}async function YC(n,e={}){return ot(n,"GET","/v1/projects",e)}const JC=/^\d{1,3}\.\d{1,3}\.\d{1,3}\.\d{1,3}$/,XC=/^https?/;async function ZC(n){if(n.config.emulator)return;const{authorizedDomains:e}=await YC(n);for(const t of e)try{if(eb(t))return}catch{}vn(n,"unauthorized-domain")}function eb(n){const e=iu(),{protocol:t,hostname:r}=new URL(e);if(n.startsWith("chrome-extension://")){const u=new URL(n);return u.hostname===""&&r===""?t==="chrome-extension:"&&n.replace("chrome-extension://","")===e.replace("chrome-extension://",""):t==="chrome-extension:"&&u.hostname===r}if(!XC.test(t))return!1;if(JC.test(n))return r===n;const s=n.replace(/\./g,"\\.");return new RegExp("^(.+\\."+s+"|"+s+")$","i").test(r)}const tb=new Eu(3e4,6e4);function Zv(){const n=Rt().___jsl;if(n?.H){for(const e of Object.keys(n.H))if(n.H[e].r=n.H[e].r||[],n.H[e].L=n.H[e].L||[],n.H[e].r=[...n.H[e].L],n.CP)for(let t=0;t<n.CP.length;t++)n.CP[t]=null}}function nb(n){return new Promise((e,t)=>{function r(){Zv(),gapi.load("gapi.iframes",{callback:()=>{e(gapi.iframes.getContext())},ontimeout:()=>{Zv(),t(sn(n,"network-request-failed"))},timeout:tb.get()})}if(Rt().gapi?.iframes?.Iframe)e(gapi.iframes.getContext());else if(Rt().gapi?.load)r();else{const s=XT("iframefcb");return Rt()[s]=()=>{gapi.load?r():t(sn(n,"network-request-failed"))},Mm(`${p1()}?onload=${s}`).catch(a=>t(a))}}).catch(e=>{throw yh=null,e})}let yh=null;function rb(n){return yh=yh||nb(n),yh}const ib=new Eu(5e3,15e3),sb="__/auth/iframe",ob="emulator/auth/iframe",ab={style:{position:"absolute",top:"-100px",width:"1px",height:"1px"},"aria-hidden":"true",tabindex:"-1"},lb=new Map([["identitytoolkit.googleapis.com","p"],["staging-identitytoolkit.sandbox.googleapis.com","s"],["test-identitytoolkit.sandbox.googleapis.com","t"]]);function ub(n){const e=n.config;ne(e.authDomain,n,"auth-domain-config-required");const t=e.emulator?Lm(e,ob):`https://${n.config.authDomain}/${sb}`,r={apiKey:e.apiKey,appName:n.name,v:ro},s=lb.get(n.config.apiHost);s&&(r.eid=s);const a=n._getFrameworks();return a.length&&(r.fw=a.join(",")),`${t}?${Sa(r).slice(1)}`}async function cb(n){const e=await rb(n),t=Rt().gapi;return ne(t,n,"internal-error"),e.open({where:document.body,url:ub(n),messageHandlersFilter:t.iframes.CROSS_ORIGIN_IFRAMES_FILTER,attributes:ab,dontclear:!0},r=>new Promise(async(s,a)=>{await r.restyle({setHideOnLeave:!1});const u=sn(n,"network-request-failed"),d=Rt().setTimeout(()=>{a(u)},ib.get());function f(){Rt().clearTimeout(d),s(r)}r.ping(f).then(f,()=>{a(u)})}))}const hb={location:"yes",resizable:"yes",statusbar:"yes",toolbar:"no"},db=500,fb=600,pb="_blank",mb="http://localhost";class ew{constructor(e){this.window=e,this.associatedEvent=null}close(){if(this.window)try{this.window.close()}catch{}}}function gb(n,e,t,r=db,s=fb){const a=Math.max((window.screen.availHeight-s)/2,0).toString(),u=Math.max((window.screen.availWidth-r)/2,0).toString();let d="";const f={...hb,width:r.toString(),height:s.toString(),top:a,left:u},m=Zt().toLowerCase();t&&(d=qT(m)?pb:t),$T(m)&&(e=e||mb,f.scrollbars="yes");const g=Object.entries(f).reduce((w,[R,M])=>`${w}${R}=${M},`,"");if(i1(m)&&d!=="_self")return yb(e||"",d),new ew(null);const E=window.open(e||"",d,g);ne(E,n,"popup-blocked");try{E.focus()}catch{}return new ew(E)}function yb(n,e){const t=document.createElement("a");t.href=n,t.target=e;const r=document.createEvent("MouseEvent");r.initMouseEvent("click",!0,!0,window,1,0,0,0,0,!1,!1,!1,!1,1,null),t.dispatchEvent(r)}const _b="__/auth/handler",vb="emulator/auth/handler",wb=encodeURIComponent("fac");async function tw(n,e,t,r,s,a){ne(n.config.authDomain,n,"auth-domain-config-required"),ne(n.config.apiKey,n,"invalid-api-key");const u={apiKey:n.config.apiKey,appName:n.name,authType:t,redirectUrl:r,v:ro,eventId:s};if(e instanceof mi){e.setDefaultLanguage(n.languageCode),u.providerId=e.providerId||"",IP(e.getCustomParameters())||(u.customParameters=JSON.stringify(e.getCustomParameters()));for(const[g,E]of Object.entries({}))u[g]=E}if(e instanceof Ra){const g=e.getScopes().filter(E=>E!=="");g.length>0&&(u.scopes=g.join(","))}n.tenantId&&(u.tid=n.tenantId);const d=u;for(const g of Object.keys(d))d[g]===void 0&&delete d[g];const f=await n._getAppCheckToken(),m=f?`#${wb}=${encodeURIComponent(f)}`:"";return`${Eb(n)}?${Sa(d).slice(1)}${m}`}function Eb({config:n}){return n.emulator?Lm(n,vb):`https://${n.authDomain}/${_b}`}const Sp="webStorageSupport";class Tb{constructor(){this.eventManagers={},this.iframes={},this.originValidationPromises={},this._redirectPersistence=pI,this._completeRedirectFn=EI,this._overrideRedirectResult=$C}async _openPopup(e,t,r,s){li(this.eventManagers[e._key()]?.manager,"_initialize() not called before _openPopup()");const a=await tw(e,t,r,iu(),s);return gb(e,a,ad())}async _openRedirect(e,t,r,s){await this._originValidation(e);const a=await tw(e,t,r,iu(),s);return _C(a),new Promise(()=>{})}_initialize(e){const t=e._key();if(this.eventManagers[t]){const{manager:s,promise:a}=this.eventManagers[t];return s?Promise.resolve(s):(li(a,"If manager is not set, promise should be"),a)}const r=this.initAndGetManager(e);return this.eventManagers[t]={promise:r},r.catch(()=>{delete this.eventManagers[t]}),r}async initAndGetManager(e){const t=await cb(e),r=new KC(e);return t.register("authEvent",s=>(ne(s?.authEvent,e,"invalid-auth-event"),{status:r.onEvent(s.authEvent)?"ACK":"ERROR"}),gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER),this.eventManagers[e._key()]={manager:r},this.iframes[e._key()]=t,r}_isIframeWebStorageSupported(e,t){this.iframes[e._key()].send(Sp,{type:Sp},s=>{const a=s?.[0]?.[Sp];a!==void 0&&t(!!a),vn(e,"internal-error")},gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER)}_originValidation(e){const t=e._key();return this.originValidationPromises[t]||(this.originValidationPromises[t]=ZC(e)),this.originValidationPromises[t]}get _shouldInitProactively(){return YT()||HT()||Vm()}}const Ib=Tb;class SI{constructor(e){this.factorId=e}_process(e,t,r){switch(t.type){case"enroll":return this._finalizeEnroll(e,t.credential,r);case"signin":return this._finalizeSignIn(e,t.credential);default:return Pr("unexpected MultiFactorSessionType")}}}class Qm extends SI{constructor(e){super("phone"),this.credential=e}static _fromCredential(e){return new Qm(e)}_finalizeEnroll(e,t,r){return lC(e,{idToken:t,displayName:r,phoneVerificationInfo:this.credential._makeVerificationRequest()})}_finalizeSignIn(e,t){return kC(e,{mfaPendingCredential:t,phoneVerificationInfo:this.credential._makeVerificationRequest()})}}class Sb{constructor(){}static assertion(e){return Qm._fromCredential(e)}}Sb.FACTOR_ID="phone";class Ab{static assertionForEnrollment(e,t){return lu._fromSecret(e,t)}static assertionForSignIn(e,t){return lu._fromEnrollmentId(e,t)}static async generateSecret(e){const t=e;ne(typeof t.user?.auth<"u","internal-error");const r=await uC(t.user.auth,{idToken:t.credential,totpEnrollmentInfo:{}});return Ym._fromStartTotpMfaEnrollmentResponse(r,t.user.auth)}}Ab.FACTOR_ID="totp";class lu extends SI{constructor(e,t,r){super("totp"),this.otp=e,this.enrollmentId=t,this.secret=r}static _fromSecret(e,t){return new lu(t,void 0,e)}static _fromEnrollmentId(e,t){return new lu(t,e)}async _finalizeEnroll(e,t,r){return ne(typeof this.secret<"u",e,"argument-error"),cC(e,{idToken:t,displayName:r,totpVerificationInfo:this.secret._makeTotpVerificationInfo(this.otp)})}async _finalizeSignIn(e,t){ne(this.enrollmentId!==void 0&&this.otp!==void 0,e,"argument-error");const r={verificationCode:this.otp};return CC(e,{mfaPendingCredential:t,mfaEnrollmentId:this.enrollmentId,totpVerificationInfo:r})}}class Ym{constructor(e,t,r,s,a,u,d){this.sessionInfo=u,this.auth=d,this.secretKey=e,this.hashingAlgorithm=t,this.codeLength=r,this.codeIntervalSeconds=s,this.enrollmentCompletionDeadline=a}static _fromStartTotpMfaEnrollmentResponse(e,t){return new Ym(e.totpSessionInfo.sharedSecretKey,e.totpSessionInfo.hashingAlgorithm,e.totpSessionInfo.verificationCodeLength,e.totpSessionInfo.periodSec,new Date(e.totpSessionInfo.finalizeEnrollmentTime).toUTCString(),e.totpSessionInfo.sessionInfo,t)}_makeTotpVerificationInfo(e){return{sessionInfo:this.sessionInfo,verificationCode:e}}generateQrCodeUrl(e,t){let r=!1;return(th(e)||th(t))&&(r=!0),r&&(th(e)&&(e=this.auth.currentUser?.email||"unknownuser"),th(t)&&(t=this.auth.name)),`otpauth://totp/${t}:${e}?secret=${this.secretKey}&issuer=${t}&algorithm=${this.hashingAlgorithm}&digits=${this.codeLength}`}}function th(n){return typeof n>"u"||n?.length===0}var nw="@firebase/auth",rw="1.12.0";class Rb{constructor(e){this.auth=e,this.internalListeners=new Map}getUid(){return this.assertAuthConfigured(),this.auth.currentUser?.uid||null}async getToken(e){return this.assertAuthConfigured(),await this.auth._initializationPromise,this.auth.currentUser?{accessToken:await this.auth.currentUser.getIdToken(e)}:null}addAuthTokenListener(e){if(this.assertAuthConfigured(),this.internalListeners.has(e))return;const t=this.auth.onIdTokenChanged(r=>{e(r?.stsTokenManager.accessToken||null)});this.internalListeners.set(e,t),this.updateProactiveRefresh()}removeAuthTokenListener(e){this.assertAuthConfigured();const t=this.internalListeners.get(e);t&&(this.internalListeners.delete(e),t(),this.updateProactiveRefresh())}assertAuthConfigured(){ne(this.auth._initializationPromise,"dependent-sdk-initialized-before-auth")}updateProactiveRefresh(){this.internalListeners.size>0?this.auth._startProactiveRefresh():this.auth._stopProactiveRefresh()}}function Pb(n){switch(n){case"Node":return"node";case"ReactNative":return"rn";case"Worker":return"webworker";case"Cordova":return"cordova";case"WebExtension":return"web-extension";default:return}}function kb(n){Hn(new On("auth",(e,{options:t})=>{const r=e.getProvider("app").getImmediate(),s=e.getProvider("heartbeat"),a=e.getProvider("app-check-internal"),{apiKey:u,authDomain:d}=r.options;ne(u&&!u.includes(":"),"invalid-api-key",{appName:r.name});const f={apiKey:u,authDomain:d,clientPlatform:n,apiHost:"identitytoolkit.googleapis.com",tokenApiHost:"securetoken.googleapis.com",apiScheme:"https",sdkClientVersion:JT(n)},m=new c1(r,s,a,f);return S1(m,t),m},"PUBLIC").setInstantiationMode("EXPLICIT").setInstanceCreatedCallback((e,t,r)=>{e.getProvider("auth-internal").initialize()})),Hn(new On("auth-internal",e=>{const t=gt(e.getProvider("auth").getImmediate());return(r=>new Rb(r))(t)},"PRIVATE").setInstantiationMode("EXPLICIT")),Xt(nw,rw,Pb(n)),Xt(nw,rw,"esm2020")}const Cb=300,bb=AT("authIdTokenMaxAge")||Cb;let iw=null;const Nb=n=>async e=>{const t=e&&await e.getIdTokenResult(),r=t&&(new Date().getTime()-Date.parse(t.issuedAtTime))/1e3;if(r&&r>bb)return;const s=t?.token;iw!==s&&(iw=s,await fetch(n,{method:s?"POST":"DELETE",headers:s?{Authorization:`Bearer ${s}`}:{}}))};function Ob(n=wu()){const e=fi(n,"auth");if(e.isInitialized())return e.getImmediate();const t=I1(n,{popupRedirectResolver:Ib,persistence:[PC,pC,pI]}),r=AT("authTokenSyncURL");if(r&&typeof isSecureContext=="boolean"&&isSecureContext){const a=new URL(r,location.origin);if(location.origin===a.origin){const u=Nb(a.toString());sC(t,u,()=>u(t.currentUser)),iC(t,d=>u(d))}}const s=IT("auth");return s&&A1(t,`http://${s}`),t}function xb(){return document.getElementsByTagName("head")?.[0]??document}h1({loadJS(n){return new Promise((e,t)=>{const r=document.createElement("script");r.setAttribute("src",n),r.onload=e,r.onerror=s=>{const a=sn("internal-error");a.customData=s,t(a)},r.type="text/javascript",r.charset="UTF-8",xb().appendChild(r)})},gapiScript:"https://apis.google.com/js/api.js",recaptchaV2Script:"https://www.google.com/recaptcha/api.js",recaptchaEnterpriseScript:"https://www.google.com/recaptcha/enterprise.js?render="});kb("Browser");var Db="firebase",Lb="12.8.0";Xt(Db,Lb,"app");var sw=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};var ns,AI;(function(){var n;function e(C,S){function k(){}k.prototype=S.prototype,C.F=S.prototype,C.prototype=new k,C.prototype.constructor=C,C.D=function(D,N,O){for(var P=Array(arguments.length-2),Oe=2;Oe<arguments.length;Oe++)P[Oe-2]=arguments[Oe];return S.prototype[N].apply(D,P)}}function t(){this.blockSize=-1}function r(){this.blockSize=-1,this.blockSize=64,this.g=Array(4),this.C=Array(this.blockSize),this.o=this.h=0,this.u()}e(r,t),r.prototype.u=function(){this.g[0]=1732584193,this.g[1]=4023233417,this.g[2]=2562383102,this.g[3]=271733878,this.o=this.h=0};function s(C,S,k){k||(k=0);const D=Array(16);if(typeof S=="string")for(var N=0;N<16;++N)D[N]=S.charCodeAt(k++)|S.charCodeAt(k++)<<8|S.charCodeAt(k++)<<16|S.charCodeAt(k++)<<24;else for(N=0;N<16;++N)D[N]=S[k++]|S[k++]<<8|S[k++]<<16|S[k++]<<24;S=C.g[0],k=C.g[1],N=C.g[2];let O=C.g[3],P;P=S+(O^k&(N^O))+D[0]+3614090360&4294967295,S=k+(P<<7&4294967295|P>>>25),P=O+(N^S&(k^N))+D[1]+3905402710&4294967295,O=S+(P<<12&4294967295|P>>>20),P=N+(k^O&(S^k))+D[2]+606105819&4294967295,N=O+(P<<17&4294967295|P>>>15),P=k+(S^N&(O^S))+D[3]+3250441966&4294967295,k=N+(P<<22&4294967295|P>>>10),P=S+(O^k&(N^O))+D[4]+4118548399&4294967295,S=k+(P<<7&4294967295|P>>>25),P=O+(N^S&(k^N))+D[5]+1200080426&4294967295,O=S+(P<<12&4294967295|P>>>20),P=N+(k^O&(S^k))+D[6]+2821735955&4294967295,N=O+(P<<17&4294967295|P>>>15),P=k+(S^N&(O^S))+D[7]+4249261313&4294967295,k=N+(P<<22&4294967295|P>>>10),P=S+(O^k&(N^O))+D[8]+1770035416&4294967295,S=k+(P<<7&4294967295|P>>>25),P=O+(N^S&(k^N))+D[9]+2336552879&4294967295,O=S+(P<<12&4294967295|P>>>20),P=N+(k^O&(S^k))+D[10]+4294925233&4294967295,N=O+(P<<17&4294967295|P>>>15),P=k+(S^N&(O^S))+D[11]+2304563134&4294967295,k=N+(P<<22&4294967295|P>>>10),P=S+(O^k&(N^O))+D[12]+1804603682&4294967295,S=k+(P<<7&4294967295|P>>>25),P=O+(N^S&(k^N))+D[13]+4254626195&4294967295,O=S+(P<<12&4294967295|P>>>20),P=N+(k^O&(S^k))+D[14]+2792965006&4294967295,N=O+(P<<17&4294967295|P>>>15),P=k+(S^N&(O^S))+D[15]+1236535329&4294967295,k=N+(P<<22&4294967295|P>>>10),P=S+(N^O&(k^N))+D[1]+4129170786&4294967295,S=k+(P<<5&4294967295|P>>>27),P=O+(k^N&(S^k))+D[6]+3225465664&4294967295,O=S+(P<<9&4294967295|P>>>23),P=N+(S^k&(O^S))+D[11]+643717713&4294967295,N=O+(P<<14&4294967295|P>>>18),P=k+(O^S&(N^O))+D[0]+3921069994&4294967295,k=N+(P<<20&4294967295|P>>>12),P=S+(N^O&(k^N))+D[5]+3593408605&4294967295,S=k+(P<<5&4294967295|P>>>27),P=O+(k^N&(S^k))+D[10]+38016083&4294967295,O=S+(P<<9&4294967295|P>>>23),P=N+(S^k&(O^S))+D[15]+3634488961&4294967295,N=O+(P<<14&4294967295|P>>>18),P=k+(O^S&(N^O))+D[4]+3889429448&4294967295,k=N+(P<<20&4294967295|P>>>12),P=S+(N^O&(k^N))+D[9]+568446438&4294967295,S=k+(P<<5&4294967295|P>>>27),P=O+(k^N&(S^k))+D[14]+3275163606&4294967295,O=S+(P<<9&4294967295|P>>>23),P=N+(S^k&(O^S))+D[3]+4107603335&4294967295,N=O+(P<<14&4294967295|P>>>18),P=k+(O^S&(N^O))+D[8]+1163531501&4294967295,k=N+(P<<20&4294967295|P>>>12),P=S+(N^O&(k^N))+D[13]+2850285829&4294967295,S=k+(P<<5&4294967295|P>>>27),P=O+(k^N&(S^k))+D[2]+4243563512&4294967295,O=S+(P<<9&4294967295|P>>>23),P=N+(S^k&(O^S))+D[7]+1735328473&4294967295,N=O+(P<<14&4294967295|P>>>18),P=k+(O^S&(N^O))+D[12]+2368359562&4294967295,k=N+(P<<20&4294967295|P>>>12),P=S+(k^N^O)+D[5]+4294588738&4294967295,S=k+(P<<4&4294967295|P>>>28),P=O+(S^k^N)+D[8]+2272392833&4294967295,O=S+(P<<11&4294967295|P>>>21),P=N+(O^S^k)+D[11]+1839030562&4294967295,N=O+(P<<16&4294967295|P>>>16),P=k+(N^O^S)+D[14]+4259657740&4294967295,k=N+(P<<23&4294967295|P>>>9),P=S+(k^N^O)+D[1]+2763975236&4294967295,S=k+(P<<4&4294967295|P>>>28),P=O+(S^k^N)+D[4]+1272893353&4294967295,O=S+(P<<11&4294967295|P>>>21),P=N+(O^S^k)+D[7]+4139469664&4294967295,N=O+(P<<16&4294967295|P>>>16),P=k+(N^O^S)+D[10]+3200236656&4294967295,k=N+(P<<23&4294967295|P>>>9),P=S+(k^N^O)+D[13]+681279174&4294967295,S=k+(P<<4&4294967295|P>>>28),P=O+(S^k^N)+D[0]+3936430074&4294967295,O=S+(P<<11&4294967295|P>>>21),P=N+(O^S^k)+D[3]+3572445317&4294967295,N=O+(P<<16&4294967295|P>>>16),P=k+(N^O^S)+D[6]+76029189&4294967295,k=N+(P<<23&4294967295|P>>>9),P=S+(k^N^O)+D[9]+3654602809&4294967295,S=k+(P<<4&4294967295|P>>>28),P=O+(S^k^N)+D[12]+3873151461&4294967295,O=S+(P<<11&4294967295|P>>>21),P=N+(O^S^k)+D[15]+530742520&4294967295,N=O+(P<<16&4294967295|P>>>16),P=k+(N^O^S)+D[2]+3299628645&4294967295,k=N+(P<<23&4294967295|P>>>9),P=S+(N^(k|~O))+D[0]+4096336452&4294967295,S=k+(P<<6&4294967295|P>>>26),P=O+(k^(S|~N))+D[7]+1126891415&4294967295,O=S+(P<<10&4294967295|P>>>22),P=N+(S^(O|~k))+D[14]+2878612391&4294967295,N=O+(P<<15&4294967295|P>>>17),P=k+(O^(N|~S))+D[5]+4237533241&4294967295,k=N+(P<<21&4294967295|P>>>11),P=S+(N^(k|~O))+D[12]+1700485571&4294967295,S=k+(P<<6&4294967295|P>>>26),P=O+(k^(S|~N))+D[3]+2399980690&4294967295,O=S+(P<<10&4294967295|P>>>22),P=N+(S^(O|~k))+D[10]+4293915773&4294967295,N=O+(P<<15&4294967295|P>>>17),P=k+(O^(N|~S))+D[1]+2240044497&4294967295,k=N+(P<<21&4294967295|P>>>11),P=S+(N^(k|~O))+D[8]+1873313359&4294967295,S=k+(P<<6&4294967295|P>>>26),P=O+(k^(S|~N))+D[15]+4264355552&4294967295,O=S+(P<<10&4294967295|P>>>22),P=N+(S^(O|~k))+D[6]+2734768916&4294967295,N=O+(P<<15&4294967295|P>>>17),P=k+(O^(N|~S))+D[13]+1309151649&4294967295,k=N+(P<<21&4294967295|P>>>11),P=S+(N^(k|~O))+D[4]+4149444226&4294967295,S=k+(P<<6&4294967295|P>>>26),P=O+(k^(S|~N))+D[11]+3174756917&4294967295,O=S+(P<<10&4294967295|P>>>22),P=N+(S^(O|~k))+D[2]+718787259&4294967295,N=O+(P<<15&4294967295|P>>>17),P=k+(O^(N|~S))+D[9]+3951481745&4294967295,C.g[0]=C.g[0]+S&4294967295,C.g[1]=C.g[1]+(N+(P<<21&4294967295|P>>>11))&4294967295,C.g[2]=C.g[2]+N&4294967295,C.g[3]=C.g[3]+O&4294967295}r.prototype.v=function(C,S){S===void 0&&(S=C.length);const k=S-this.blockSize,D=this.C;let N=this.h,O=0;for(;O<S;){if(N==0)for(;O<=k;)s(this,C,O),O+=this.blockSize;if(typeof C=="string"){for(;O<S;)if(D[N++]=C.charCodeAt(O++),N==this.blockSize){s(this,D),N=0;break}}else for(;O<S;)if(D[N++]=C[O++],N==this.blockSize){s(this,D),N=0;break}}this.h=N,this.o+=S},r.prototype.A=function(){var C=Array((this.h<56?this.blockSize:this.blockSize*2)-this.h);C[0]=128;for(var S=1;S<C.length-8;++S)C[S]=0;S=this.o*8;for(var k=C.length-8;k<C.length;++k)C[k]=S&255,S/=256;for(this.v(C),C=Array(16),S=0,k=0;k<4;++k)for(let D=0;D<32;D+=8)C[S++]=this.g[k]>>>D&255;return C};function a(C,S){var k=d;return Object.prototype.hasOwnProperty.call(k,C)?k[C]:k[C]=S(C)}function u(C,S){this.h=S;const k=[];let D=!0;for(let N=C.length-1;N>=0;N--){const O=C[N]|0;D&&O==S||(k[N]=O,D=!1)}this.g=k}var d={};function f(C){return-128<=C&&C<128?a(C,function(S){return new u([S|0],S<0?-1:0)}):new u([C|0],C<0?-1:0)}function m(C){if(isNaN(C)||!isFinite(C))return E;if(C<0)return B(m(-C));const S=[];let k=1;for(let D=0;C>=k;D++)S[D]=C/k|0,k*=4294967296;return new u(S,0)}function g(C,S){if(C.length==0)throw Error("number format error: empty string");if(S=S||10,S<2||36<S)throw Error("radix out of range: "+S);if(C.charAt(0)=="-")return B(g(C.substring(1),S));if(C.indexOf("-")>=0)throw Error('number format error: interior "-" character');const k=m(Math.pow(S,8));let D=E;for(let O=0;O<C.length;O+=8){var N=Math.min(8,C.length-O);const P=parseInt(C.substring(O,O+N),S);N<8?(N=m(Math.pow(S,N)),D=D.j(N).add(m(P))):(D=D.j(k),D=D.add(m(P)))}return D}var E=f(0),w=f(1),R=f(16777216);n=u.prototype,n.m=function(){if($(this))return-B(this).m();let C=0,S=1;for(let k=0;k<this.g.length;k++){const D=this.i(k);C+=(D>=0?D:4294967296+D)*S,S*=4294967296}return C},n.toString=function(C){if(C=C||10,C<2||36<C)throw Error("radix out of range: "+C);if(M(this))return"0";if($(this))return"-"+B(this).toString(C);const S=m(Math.pow(C,6));var k=this;let D="";for(;;){const N=oe(k,S).g;k=te(k,N.j(S));let O=((k.g.length>0?k.g[0]:k.h)>>>0).toString(C);if(k=N,M(k))return O+D;for(;O.length<6;)O="0"+O;D=O+D}},n.i=function(C){return C<0?0:C<this.g.length?this.g[C]:this.h};function M(C){if(C.h!=0)return!1;for(let S=0;S<C.g.length;S++)if(C.g[S]!=0)return!1;return!0}function $(C){return C.h==-1}n.l=function(C){return C=te(this,C),$(C)?-1:M(C)?0:1};function B(C){const S=C.g.length,k=[];for(let D=0;D<S;D++)k[D]=~C.g[D];return new u(k,~C.h).add(w)}n.abs=function(){return $(this)?B(this):this},n.add=function(C){const S=Math.max(this.g.length,C.g.length),k=[];let D=0;for(let N=0;N<=S;N++){let O=D+(this.i(N)&65535)+(C.i(N)&65535),P=(O>>>16)+(this.i(N)>>>16)+(C.i(N)>>>16);D=P>>>16,O&=65535,P&=65535,k[N]=P<<16|O}return new u(k,k[k.length-1]&-2147483648?-1:0)};function te(C,S){return C.add(B(S))}n.j=function(C){if(M(this)||M(C))return E;if($(this))return $(C)?B(this).j(B(C)):B(B(this).j(C));if($(C))return B(this.j(B(C)));if(this.l(R)<0&&C.l(R)<0)return m(this.m()*C.m());const S=this.g.length+C.g.length,k=[];for(var D=0;D<2*S;D++)k[D]=0;for(D=0;D<this.g.length;D++)for(let N=0;N<C.g.length;N++){const O=this.i(D)>>>16,P=this.i(D)&65535,Oe=C.i(N)>>>16,j=C.i(N)&65535;k[2*D+2*N]+=P*j,le(k,2*D+2*N),k[2*D+2*N+1]+=O*j,le(k,2*D+2*N+1),k[2*D+2*N+1]+=P*Oe,le(k,2*D+2*N+1),k[2*D+2*N+2]+=O*Oe,le(k,2*D+2*N+2)}for(C=0;C<S;C++)k[C]=k[2*C+1]<<16|k[2*C];for(C=S;C<2*S;C++)k[C]=0;return new u(k,0)};function le(C,S){for(;(C[S]&65535)!=C[S];)C[S+1]+=C[S]>>>16,C[S]&=65535,S++}function ve(C,S){this.g=C,this.h=S}function oe(C,S){if(M(S))throw Error("division by zero");if(M(C))return new ve(E,E);if($(C))return S=oe(B(C),S),new ve(B(S.g),B(S.h));if($(S))return S=oe(C,B(S)),new ve(B(S.g),S.h);if(C.g.length>30){if($(C)||$(S))throw Error("slowDivide_ only works with positive integers.");for(var k=w,D=S;D.l(C)<=0;)k=Te(k),D=Te(D);var N=pe(k,1),O=pe(D,1);for(D=pe(D,2),k=pe(k,2);!M(D);){var P=O.add(D);P.l(C)<=0&&(N=N.add(k),O=P),D=pe(D,1),k=pe(k,1)}return S=te(C,N.j(S)),new ve(N,S)}for(N=E;C.l(S)>=0;){for(k=Math.max(1,Math.floor(C.m()/S.m())),D=Math.ceil(Math.log(k)/Math.LN2),D=D<=48?1:Math.pow(2,D-48),O=m(k),P=O.j(S);$(P)||P.l(C)>0;)k-=D,O=m(k),P=O.j(S);M(O)&&(O=w),N=N.add(O),C=te(C,P)}return new ve(N,C)}n.B=function(C){return oe(this,C).h},n.and=function(C){const S=Math.max(this.g.length,C.g.length),k=[];for(let D=0;D<S;D++)k[D]=this.i(D)&C.i(D);return new u(k,this.h&C.h)},n.or=function(C){const S=Math.max(this.g.length,C.g.length),k=[];for(let D=0;D<S;D++)k[D]=this.i(D)|C.i(D);return new u(k,this.h|C.h)},n.xor=function(C){const S=Math.max(this.g.length,C.g.length),k=[];for(let D=0;D<S;D++)k[D]=this.i(D)^C.i(D);return new u(k,this.h^C.h)};function Te(C){const S=C.g.length+1,k=[];for(let D=0;D<S;D++)k[D]=C.i(D)<<1|C.i(D-1)>>>31;return new u(k,C.h)}function pe(C,S){const k=S>>5;S%=32;const D=C.g.length-k,N=[];for(let O=0;O<D;O++)N[O]=S>0?C.i(O+k)>>>S|C.i(O+k+1)<<32-S:C.i(O+k);return new u(N,C.h)}r.prototype.digest=r.prototype.A,r.prototype.reset=r.prototype.u,r.prototype.update=r.prototype.v,AI=r,u.prototype.add=u.prototype.add,u.prototype.multiply=u.prototype.j,u.prototype.modulo=u.prototype.B,u.prototype.compare=u.prototype.l,u.prototype.toNumber=u.prototype.m,u.prototype.toString=u.prototype.toString,u.prototype.getBits=u.prototype.i,u.fromNumber=m,u.fromString=g,ns=u}).apply(typeof sw<"u"?sw:typeof self<"u"?self:typeof window<"u"?window:{});var nh=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};var RI,zl,PI,_h,Xp,kI,CI,bI;(function(){var n,e=Object.defineProperty;function t(c){c=[typeof globalThis=="object"&&globalThis,c,typeof window=="object"&&window,typeof self=="object"&&self,typeof nh=="object"&&nh];for(var _=0;_<c.length;++_){var v=c[_];if(v&&v.Math==Math)return v}throw Error("Cannot find global object")}var r=t(this);function s(c,_){if(_)e:{var v=r;c=c.split(".");for(var I=0;I<c.length-1;I++){var F=c[I];if(!(F in v))break e;v=v[F]}c=c[c.length-1],I=v[c],_=_(I),_!=I&&_!=null&&e(v,c,{configurable:!0,writable:!0,value:_})}}s("Symbol.dispose",function(c){return c||Symbol("Symbol.dispose")}),s("Array.prototype.values",function(c){return c||function(){return this[Symbol.iterator]()}}),s("Object.entries",function(c){return c||function(_){var v=[],I;for(I in _)Object.prototype.hasOwnProperty.call(_,I)&&v.push([I,_[I]]);return v}});var a=a||{},u=this||self;function d(c){var _=typeof c;return _=="object"&&c!=null||_=="function"}function f(c,_,v){return c.call.apply(c.bind,arguments)}function m(c,_,v){return m=f,m.apply(null,arguments)}function g(c,_){var v=Array.prototype.slice.call(arguments,1);return function(){var I=v.slice();return I.push.apply(I,arguments),c.apply(this,I)}}function E(c,_){function v(){}v.prototype=_.prototype,c.Z=_.prototype,c.prototype=new v,c.prototype.constructor=c,c.Ob=function(I,F,q){for(var se=Array(arguments.length-2),xe=2;xe<arguments.length;xe++)se[xe-2]=arguments[xe];return _.prototype[F].apply(I,se)}}var w=typeof AsyncContext<"u"&&typeof AsyncContext.Snapshot=="function"?c=>c&&AsyncContext.Snapshot.wrap(c):c=>c;function R(c){const _=c.length;if(_>0){const v=Array(_);for(let I=0;I<_;I++)v[I]=c[I];return v}return[]}function M(c,_){for(let I=1;I<arguments.length;I++){const F=arguments[I];var v=typeof F;if(v=v!="object"?v:F?Array.isArray(F)?"array":v:"null",v=="array"||v=="object"&&typeof F.length=="number"){v=c.length||0;const q=F.length||0;c.length=v+q;for(let se=0;se<q;se++)c[v+se]=F[se]}else c.push(F)}}class ${constructor(_,v){this.i=_,this.j=v,this.h=0,this.g=null}get(){let _;return this.h>0?(this.h--,_=this.g,this.g=_.next,_.next=null):_=this.i(),_}}function B(c){u.setTimeout(()=>{throw c},0)}function te(){var c=C;let _=null;return c.g&&(_=c.g,c.g=c.g.next,c.g||(c.h=null),_.next=null),_}class le{constructor(){this.h=this.g=null}add(_,v){const I=ve.get();I.set(_,v),this.h?this.h.next=I:this.g=I,this.h=I}}var ve=new $(()=>new oe,c=>c.reset());class oe{constructor(){this.next=this.g=this.h=null}set(_,v){this.h=_,this.g=v,this.next=null}reset(){this.next=this.g=this.h=null}}let Te,pe=!1,C=new le,S=()=>{const c=Promise.resolve(void 0);Te=()=>{c.then(k)}};function k(){for(var c;c=te();){try{c.h.call(c.g)}catch(v){B(v)}var _=ve;_.j(c),_.h<100&&(_.h++,c.next=_.g,_.g=c)}pe=!1}function D(){this.u=this.u,this.C=this.C}D.prototype.u=!1,D.prototype.dispose=function(){this.u||(this.u=!0,this.N())},D.prototype[Symbol.dispose]=function(){this.dispose()},D.prototype.N=function(){if(this.C)for(;this.C.length;)this.C.shift()()};function N(c,_){this.type=c,this.g=this.target=_,this.defaultPrevented=!1}N.prototype.h=function(){this.defaultPrevented=!0};var O=(function(){if(!u.addEventListener||!Object.defineProperty)return!1;var c=!1,_=Object.defineProperty({},"passive",{get:function(){c=!0}});try{const v=()=>{};u.addEventListener("test",v,_),u.removeEventListener("test",v,_)}catch{}return c})();function P(c){return/^[\s\xa0]*$/.test(c)}function Oe(c,_){N.call(this,c?c.type:""),this.relatedTarget=this.g=this.target=null,this.button=this.screenY=this.screenX=this.clientY=this.clientX=0,this.key="",this.metaKey=this.shiftKey=this.altKey=this.ctrlKey=!1,this.state=null,this.pointerId=0,this.pointerType="",this.i=null,c&&this.init(c,_)}E(Oe,N),Oe.prototype.init=function(c,_){const v=this.type=c.type,I=c.changedTouches&&c.changedTouches.length?c.changedTouches[0]:null;this.target=c.target||c.srcElement,this.g=_,_=c.relatedTarget,_||(v=="mouseover"?_=c.fromElement:v=="mouseout"&&(_=c.toElement)),this.relatedTarget=_,I?(this.clientX=I.clientX!==void 0?I.clientX:I.pageX,this.clientY=I.clientY!==void 0?I.clientY:I.pageY,this.screenX=I.screenX||0,this.screenY=I.screenY||0):(this.clientX=c.clientX!==void 0?c.clientX:c.pageX,this.clientY=c.clientY!==void 0?c.clientY:c.pageY,this.screenX=c.screenX||0,this.screenY=c.screenY||0),this.button=c.button,this.key=c.key||"",this.ctrlKey=c.ctrlKey,this.altKey=c.altKey,this.shiftKey=c.shiftKey,this.metaKey=c.metaKey,this.pointerId=c.pointerId||0,this.pointerType=c.pointerType,this.state=c.state,this.i=c,c.defaultPrevented&&Oe.Z.h.call(this)},Oe.prototype.h=function(){Oe.Z.h.call(this);const c=this.i;c.preventDefault?c.preventDefault():c.returnValue=!1};var j="closure_listenable_"+(Math.random()*1e6|0),Q=0;function he(c,_,v,I,F){this.listener=c,this.proxy=null,this.src=_,this.type=v,this.capture=!!I,this.ha=F,this.key=++Q,this.da=this.fa=!1}function W(c){c.da=!0,c.listener=null,c.proxy=null,c.src=null,c.ha=null}function ie(c,_,v){for(const I in c)_.call(v,c[I],I,c)}function Y(c,_){for(const v in c)_.call(void 0,c[v],v,c)}function V(c){const _={};for(const v in c)_[v]=c[v];return _}const J="constructor hasOwnProperty isPrototypeOf propertyIsEnumerable toLocaleString toString valueOf".split(" ");function Ie(c,_){let v,I;for(let F=1;F<arguments.length;F++){I=arguments[F];for(v in I)c[v]=I[v];for(let q=0;q<J.length;q++)v=J[q],Object.prototype.hasOwnProperty.call(I,v)&&(c[v]=I[v])}}function ke(c){this.src=c,this.g={},this.h=0}ke.prototype.add=function(c,_,v,I,F){const q=c.toString();c=this.g[q],c||(c=this.g[q]=[],this.h++);const se=Me(c,_,I,F);return se>-1?(_=c[se],v||(_.fa=!1)):(_=new he(_,this.src,q,!!I,F),_.fa=v,c.push(_)),_};function Ve(c,_){const v=_.type;if(v in c.g){var I=c.g[v],F=Array.prototype.indexOf.call(I,_,void 0),q;(q=F>=0)&&Array.prototype.splice.call(I,F,1),q&&(W(_),c.g[v].length==0&&(delete c.g[v],c.h--))}}function Me(c,_,v,I){for(let F=0;F<c.length;++F){const q=c[F];if(!q.da&&q.listener==_&&q.capture==!!v&&q.ha==I)return F}return-1}var Ge="closure_lm_"+(Math.random()*1e6|0),$e={};function Ye(c,_,v,I,F){if(Array.isArray(_)){for(let q=0;q<_.length;q++)Ye(c,_[q],v,I,F);return null}return v=Va(v),c&&c[j]?c.J(_,v,d(I)?!!I.capture:!1,F):en(c,_,v,!1,I,F)}function en(c,_,v,I,F,q){if(!_)throw Error("Invalid event type");const se=d(F)?!!F.capture:!!F;let xe=co(c);if(xe||(c[Ge]=xe=new ke(c)),v=xe.add(_,v,I,se,q),v.proxy)return v;if(I=lo(),v.proxy=I,I.src=c,I.listener=v,c.addEventListener)O||(F=se),F===void 0&&(F=!1),c.addEventListener(_.toString(),I,F);else if(c.attachEvent)c.attachEvent(uo(_.toString()),I);else if(c.addListener&&c.removeListener)c.addListener(I);else throw Error("addEventListener and attachEvent are unavailable.");return v}function lo(){function c(v){return _.call(c.src,c.listener,v)}const _=Mu;return c}function La(c,_,v,I,F){if(Array.isArray(_))for(var q=0;q<_.length;q++)La(c,_[q],v,I,F);else I=d(I)?!!I.capture:!!I,v=Va(v),c&&c[j]?(c=c.i,q=String(_).toString(),q in c.g&&(_=c.g[q],v=Me(_,v,I,F),v>-1&&(W(_[v]),Array.prototype.splice.call(_,v,1),_.length==0&&(delete c.g[q],c.h--)))):c&&(c=co(c))&&(_=c.g[_.toString()],c=-1,_&&(c=Me(_,v,I,F)),(v=c>-1?_[c]:null)&&yi(v))}function yi(c){if(typeof c!="number"&&c&&!c.da){var _=c.src;if(_&&_[j])Ve(_.i,c);else{var v=c.type,I=c.proxy;_.removeEventListener?_.removeEventListener(v,I,c.capture):_.detachEvent?_.detachEvent(uo(v),I):_.addListener&&_.removeListener&&_.removeListener(I),(v=co(_))?(Ve(v,c),v.h==0&&(v.src=null,_[Ge]=null)):W(c)}}}function uo(c){return c in $e?$e[c]:$e[c]="on"+c}function Mu(c,_){if(c.da)c=!0;else{_=new Oe(_,this);const v=c.listener,I=c.ha||c.src;c.fa&&yi(c),c=v.call(I,_)}return c}function co(c){return c=c[Ge],c instanceof ke?c:null}var ps="__closure_events_fn_"+(Math.random()*1e9>>>0);function Va(c){return typeof c=="function"?c:(c[ps]||(c[ps]=function(_){return c.handleEvent(_)}),c[ps])}function Tt(){D.call(this),this.i=new ke(this),this.M=this,this.G=null}E(Tt,D),Tt.prototype[j]=!0,Tt.prototype.removeEventListener=function(c,_,v,I){La(this,c,_,v,I)};function _t(c,_){var v,I=c.G;if(I)for(v=[];I;I=I.G)v.push(I);if(c=c.M,I=_.type||_,typeof _=="string")_=new N(_,c);else if(_ instanceof N)_.target=_.target||c;else{var F=_;_=new N(I,c),Ie(_,F)}F=!0;let q,se;if(v)for(se=v.length-1;se>=0;se--)q=_.g=v[se],F=Wn(q,I,!0,_)&&F;if(q=_.g=c,F=Wn(q,I,!0,_)&&F,F=Wn(q,I,!1,_)&&F,v)for(se=0;se<v.length;se++)q=_.g=v[se],F=Wn(q,I,!1,_)&&F}Tt.prototype.N=function(){if(Tt.Z.N.call(this),this.i){var c=this.i;for(const _ in c.g){const v=c.g[_];for(let I=0;I<v.length;I++)W(v[I]);delete c.g[_],c.h--}}this.G=null},Tt.prototype.J=function(c,_,v,I){return this.i.add(String(c),_,!1,v,I)},Tt.prototype.K=function(c,_,v,I){return this.i.add(String(c),_,!0,v,I)};function Wn(c,_,v,I){if(_=c.i.g[String(_)],!_)return!0;_=_.concat();let F=!0;for(let q=0;q<_.length;++q){const se=_[q];if(se&&!se.da&&se.capture==v){const xe=se.listener,vt=se.ha||se.src;se.fa&&Ve(c.i,se),F=xe.call(vt,I)!==!1&&F}}return F&&!I.defaultPrevented}function Ma(c,_){if(typeof c!="function")if(c&&typeof c.handleEvent=="function")c=m(c.handleEvent,c);else throw Error("Invalid listener argument");return Number(_)>2147483647?-1:u.setTimeout(c,_||0)}function Ua(c){c.g=Ma(()=>{c.g=null,c.i&&(c.i=!1,Ua(c))},c.l);const _=c.h;c.h=null,c.m.apply(null,_)}class Uu extends D{constructor(_,v){super(),this.m=_,this.l=v,this.h=null,this.i=!1,this.g=null}j(_){this.h=arguments,this.g?this.i=!0:Ua(this)}N(){super.N(),this.g&&(u.clearTimeout(this.g),this.g=null,this.i=!1,this.h=null)}}function _i(c){D.call(this),this.h=c,this.g={}}E(_i,D);var Fa=[];function ho(c){ie(c.g,function(_,v){this.g.hasOwnProperty(v)&&yi(_)},c),c.g={}}_i.prototype.N=function(){_i.Z.N.call(this),ho(this)},_i.prototype.handleEvent=function(){throw Error("EventHandler.handleEvent not implemented")};var vi=u.JSON.stringify,Fu=u.JSON.parse,ms=class{stringify(c){return u.JSON.stringify(c,void 0)}parse(c){return u.JSON.parse(c,void 0)}};function wi(){}function ju(){}var Ei={OPEN:"a",hb:"b",ERROR:"c",tb:"d"};function fo(){N.call(this,"d")}E(fo,N);function ja(){N.call(this,"c")}E(ja,N);var Gn={},po=null;function Ti(){return po=po||new Tt}Gn.Ia="serverreachability";function mo(c){N.call(this,Gn.Ia,c)}E(mo,N);function Vr(c){const _=Ti();_t(_,new mo(_))}Gn.STAT_EVENT="statevent";function Mr(c,_){N.call(this,Gn.STAT_EVENT,c),this.stat=_}E(Mr,N);function ht(c){const _=Ti();_t(_,new Mr(_,c))}Gn.Ja="timingevent";function za(c,_){N.call(this,Gn.Ja,c),this.size=_}E(za,N);function Ii(c,_){if(typeof c!="function")throw Error("Fn must not be null and must be a function");return u.setTimeout(function(){c()},_)}function Si(){this.g=!0}Si.prototype.ua=function(){this.g=!1};function zu(c,_,v,I,F,q){c.info(function(){if(c.g)if(q){var se="",xe=q.split("&");for(let Qe=0;Qe<xe.length;Qe++){var vt=xe[Qe].split("=");if(vt.length>1){const It=vt[0];vt=vt[1];const An=It.split("_");se=An.length>=2&&An[1]=="type"?se+(It+"="+vt+"&"):se+(It+"=redacted&")}}}else se=null;else se=q;return"XMLHTTP REQ ("+I+") [attempt "+F+"]: "+_+`
`+v+`
`+se})}function Bu(c,_,v,I,F,q,se){c.info(function(){return"XMLHTTP RESP ("+I+") [ attempt "+F+"]: "+_+`
`+v+`
`+q+" "+se})}function ar(c,_,v,I){c.info(function(){return"XMLHTTP TEXT ("+_+"): "+gs(c,v)+(I?" "+I:"")})}function $u(c,_){c.info(function(){return"TIMEOUT: "+_})}Si.prototype.info=function(){};function gs(c,_){if(!c.g)return _;if(!_)return null;try{const q=JSON.parse(_);if(q){for(c=0;c<q.length;c++)if(Array.isArray(q[c])){var v=q[c];if(!(v.length<2)){var I=v[1];if(Array.isArray(I)&&!(I.length<1)){var F=I[0];if(F!="noop"&&F!="stop"&&F!="close")for(let se=1;se<I.length;se++)I[se]=""}}}}return vi(q)}catch{return _}}var Ai={NO_ERROR:0,cb:1,qb:2,pb:3,kb:4,ob:5,rb:6,Ga:7,TIMEOUT:8,ub:9},Ri={ib:"complete",Fb:"success",ERROR:"error",Ga:"abort",xb:"ready",yb:"readystatechange",TIMEOUT:"timeout",sb:"incrementaldata",wb:"progress",lb:"downloadprogress",Nb:"uploadprogress"},Hu;function Ur(){}E(Ur,wi),Ur.prototype.g=function(){return new XMLHttpRequest},Hu=new Ur;function lr(c){return encodeURIComponent(String(c))}function go(c){var _=1;c=c.split(":");const v=[];for(;_>0&&c.length;)v.push(c.shift()),_--;return c.length&&v.push(c.join(":")),v}function Dn(c,_,v,I){this.j=c,this.i=_,this.l=v,this.S=I||1,this.V=new _i(this),this.H=45e3,this.J=null,this.o=!1,this.u=this.B=this.A=this.M=this.F=this.T=this.D=null,this.G=[],this.g=null,this.C=0,this.m=this.v=null,this.X=-1,this.K=!1,this.P=0,this.O=null,this.W=this.L=this.U=this.R=!1,this.h=new qu}function qu(){this.i=null,this.g="",this.h=!1}var Wu={},Ba={};function Kn(c,_,v){c.M=1,c.A=jr(Ln(_)),c.u=v,c.R=!0,$a(c,null)}function $a(c,_){c.F=Date.now(),ys(c),c.B=Ln(c.A);var v=c.B,I=c.S;Array.isArray(I)||(I=[String(I)]),Za(v.i,"t",I),c.C=0,v=c.j.L,c.h=new qu,c.g=nc(c.j,v?_:null,!c.u),c.P>0&&(c.O=new Uu(m(c.Y,c,c.g),c.P)),_=c.V,v=c.g,I=c.ba;var F="readystatechange";Array.isArray(F)||(F&&(Fa[0]=F.toString()),F=Fa);for(let q=0;q<F.length;q++){const se=Ye(v,F[q],I||_.handleEvent,!1,_.h||_);if(!se)break;_.g[se.key]=se}_=c.J?V(c.J):{},c.u?(c.v||(c.v="POST"),_["Content-Type"]="application/x-www-form-urlencoded",c.g.ea(c.B,c.v,c.u,_)):(c.v="GET",c.g.ea(c.B,c.v,null,_)),Vr(),zu(c.i,c.v,c.B,c.l,c.S,c.u)}Dn.prototype.ba=function(c){c=c.target;const _=this.O;_&&mr(c)==3?_.j():this.Y(c)},Dn.prototype.Y=function(c){try{if(c==this.g)e:{const xe=mr(this.g),vt=this.g.ya(),Qe=this.g.ca();if(!(xe<3)&&(xe!=3||this.g&&(this.h.h||this.g.la()||ec(this.g)))){this.K||xe!=4||vt==7||(vt==8||Qe<=0?Vr(3):Vr(2)),yo(this);var _=this.g.ca();this.X=_;var v=Gu(this);if(this.o=_==200,Bu(this.i,this.v,this.B,this.l,this.S,xe,_),this.o){if(this.U&&!this.L){t:{if(this.g){var I,F=this.g;if((I=F.g?F.g.getResponseHeader("X-HTTP-Initial-Response"):null)&&!P(I)){var q=I;break t}}q=null}if(c=q)ar(this.i,this.l,c,"Initial handshake response via X-HTTP-Initial-Response"),this.L=!0,et(this,c);else{this.o=!1,this.m=3,ht(12),Fr(this),_s(this);break e}}if(this.R){c=!0;let It;for(;!this.K&&this.C<v.length;)if(It=Qu(this,v),It==Ba){xe==4&&(this.m=4,ht(14),c=!1),ar(this.i,this.l,null,"[Incomplete Response]");break}else if(It==Wu){this.m=4,ht(15),ar(this.i,this.l,v,"[Invalid Chunk]"),c=!1;break}else ar(this.i,this.l,It,null),et(this,It);if(Ku(this)&&this.C!=0&&(this.h.g=this.h.g.slice(this.C),this.C=0),xe!=4||v.length!=0||this.h.h||(this.m=1,ht(16),c=!1),this.o=this.o&&c,!c)ar(this.i,this.l,v,"[Invalid Chunked Response]"),Fr(this),_s(this);else if(v.length>0&&!this.W){this.W=!0;var se=this.j;se.g==this&&se.aa&&!se.P&&(se.j.info("Great, no buffering proxy detected. Bytes received: "+v.length),Ps(se),se.P=!0,ht(11))}}else ar(this.i,this.l,v,null),et(this,v);xe==4&&Fr(this),this.o&&!this.K&&(xe==4?Po(this.j,this):(this.o=!1,ys(this)))}else tl(this.g),_==400&&v.indexOf("Unknown SID")>0?(this.m=3,ht(12)):(this.m=0,ht(13)),Fr(this),_s(this)}}}catch{}};function Gu(c){if(!Ku(c))return c.g.la();const _=ec(c.g);if(_==="")return"";let v="";const I=_.length,F=mr(c.g)==4;if(!c.h.i){if(typeof TextDecoder>"u")return Fr(c),_s(c),"";c.h.i=new u.TextDecoder}for(let q=0;q<I;q++)c.h.h=!0,v+=c.h.i.decode(_[q],{stream:!(F&&q==I-1)});return _.length=0,c.h.g+=v,c.C=0,c.h.g}function Ku(c){return c.g?c.v=="GET"&&c.M!=2&&c.j.Aa:!1}function Qu(c,_){var v=c.C,I=_.indexOf(`
`,v);return I==-1?Ba:(v=Number(_.substring(v,I)),isNaN(v)?Wu:(I+=1,I+v>_.length?Ba:(_=_.slice(I,I+v),c.C=I+v,_)))}Dn.prototype.cancel=function(){this.K=!0,Fr(this)};function ys(c){c.T=Date.now()+c.H,Ha(c,c.H)}function Ha(c,_){if(c.D!=null)throw Error("WatchDog timer not null");c.D=Ii(m(c.aa,c),_)}function yo(c){c.D&&(u.clearTimeout(c.D),c.D=null)}Dn.prototype.aa=function(){this.D=null;const c=Date.now();c-this.T>=0?($u(this.i,this.B),this.M!=2&&(Vr(),ht(17)),Fr(this),this.m=2,_s(this)):Ha(this,this.T-c)};function _s(c){c.j.I==0||c.K||Po(c.j,c)}function Fr(c){yo(c);var _=c.O;_&&typeof _.dispose=="function"&&_.dispose(),c.O=null,ho(c.V),c.g&&(_=c.g,c.g=null,_.abort(),_.dispose())}function et(c,_){try{var v=c.j;if(v.I!=0&&(v.g==c||Wa(v.h,c))){if(!c.L&&Wa(v.h,c)&&v.I==3){try{var I=v.Ba.g.parse(_)}catch{I=null}if(Array.isArray(I)&&I.length==3){var F=I;if(F[0]==0){e:if(!v.v){if(v.g)if(v.g.F+3e3<c.F)Ro(v),In(v);else break e;_r(v),ht(18)}}else v.xa=F[1],0<v.xa-v.K&&F[2]<37500&&v.F&&v.A==0&&!v.C&&(v.C=Ii(m(v.Va,v),6e3));vs(v.h)<=1&&v.ta&&(v.ta=void 0)}else Sn(v,11)}else if((c.L||v.g==c)&&Ro(v),!P(_))for(F=v.Ba.g.parse(_),_=0;_<F.length;_++){let Qe=F[_];const It=Qe[0];if(!(It<=v.K))if(v.K=It,Qe=Qe[1],v.I==2)if(Qe[0]=="c"){v.M=Qe[1],v.ba=Qe[2];const An=Qe[3];An!=null&&(v.ka=An,v.j.info("VER="+v.ka));const qr=Qe[4];qr!=null&&(v.za=qr,v.j.info("SVER="+v.za));const vr=Qe[5];vr!=null&&typeof vr=="number"&&vr>0&&(I=1.5*vr,v.O=I,v.j.info("backChannelRequestTimeoutMs_="+I)),I=v;const wr=c.g;if(wr){const bo=wr.g?wr.g.getResponseHeader("X-Client-Wire-Protocol"):null;if(bo){var q=I.h;q.g||bo.indexOf("spdy")==-1&&bo.indexOf("quic")==-1&&bo.indexOf("h2")==-1||(q.j=q.l,q.g=new Set,q.h&&(vo(q,q.h),q.h=null))}if(I.G){const il=wr.g?wr.g.getResponseHeader("X-HTTP-Session-Id"):null;il&&(I.wa=il,We(I.J,I.G,il))}}v.I=3,v.l&&v.l.ra(),v.aa&&(v.T=Date.now()-c.F,v.j.info("Handshake RTT: "+v.T+"ms")),I=v;var se=c;if(I.na=rl(I,I.L?I.ba:null,I.W),se.L){ws(I.h,se);var xe=se,vt=I.O;vt&&(xe.H=vt),xe.D&&(yo(xe),ys(xe)),I.g=se}else Ht(I);v.i.length>0&&Hr(v)}else Qe[0]!="stop"&&Qe[0]!="close"||Sn(v,7);else v.I==3&&(Qe[0]=="stop"||Qe[0]=="close"?Qe[0]=="stop"?Sn(v,7):So(v):Qe[0]!="noop"&&v.l&&v.l.qa(Qe),v.A=0)}}Vr(4)}catch{}}var Od=class{constructor(c,_){this.g=c,this.map=_}};function _o(c){this.l=c||10,u.PerformanceNavigationTiming?(c=u.performance.getEntriesByType("navigation"),c=c.length>0&&(c[0].nextHopProtocol=="hq"||c[0].nextHopProtocol=="h2")):c=!!(u.chrome&&u.chrome.loadTimes&&u.chrome.loadTimes()&&u.chrome.loadTimes().wasFetchedViaSpdy),this.j=c?this.l:1,this.g=null,this.j>1&&(this.g=new Set),this.h=null,this.i=[]}function qa(c){return c.h?!0:c.g?c.g.size>=c.j:!1}function vs(c){return c.h?1:c.g?c.g.size:0}function Wa(c,_){return c.h?c.h==_:c.g?c.g.has(_):!1}function vo(c,_){c.g?c.g.add(_):c.h=_}function ws(c,_){c.h&&c.h==_?c.h=null:c.g&&c.g.has(_)&&c.g.delete(_)}_o.prototype.cancel=function(){if(this.i=wn(this),this.h)this.h.cancel(),this.h=null;else if(this.g&&this.g.size!==0){for(const c of this.g.values())c.cancel();this.g.clear()}};function wn(c){if(c.h!=null)return c.i.concat(c.h.G);if(c.g!=null&&c.g.size!==0){let _=c.i;for(const v of c.g.values())_=_.concat(v.G);return _}return R(c.i)}var Yu=RegExp("^(?:([^:/?#.]+):)?(?://(?:([^\\\\/?#]*)@)?([^\\\\/?#]*?)(?::([0-9]+))?(?=[\\\\/?#]|$))?([^?#]+)?(?:\\?([^#]*))?(?:#([\\s\\S]*))?$");function En(c,_){if(c){c=c.split("&");for(let v=0;v<c.length;v++){const I=c[v].indexOf("=");let F,q=null;I>=0?(F=c[v].substring(0,I),q=c[v].substring(I+1)):F=c[v],_(F,q?decodeURIComponent(q.replace(/\+/g," ")):"")}}}function ur(c){this.g=this.o=this.j="",this.u=null,this.m=this.h="",this.l=!1;let _;c instanceof ur?(this.l=c.l,Es(this,c.j),this.o=c.o,this.g=c.g,cr(this,c.u),this.h=c.h,Pi(this,el(c.i)),this.m=c.m):c&&(_=String(c).match(Yu))?(this.l=!1,Es(this,_[1]||"",!0),this.o=Ts(_[2]||""),this.g=Ts(_[3]||"",!0),cr(this,_[4]),this.h=Ts(_[5]||"",!0),Pi(this,_[6]||"",!0),this.m=Ts(_[7]||"")):(this.l=!1,this.i=new ze(null,this.l))}ur.prototype.toString=function(){const c=[];var _=this.j;_&&c.push(Is(_,Ka,!0),":");var v=this.g;return(v||_=="file")&&(c.push("//"),(_=this.o)&&c.push(Is(_,Ka,!0),"@"),c.push(lr(v).replace(/%25([0-9a-fA-F]{2})/g,"%$1")),v=this.u,v!=null&&c.push(":",String(v))),(v=this.h)&&(this.g&&v.charAt(0)!="/"&&c.push("/"),c.push(Is(v,v.charAt(0)=="/"?Ss:Qa,!0))),(v=this.i.toString())&&c.push("?",v),(v=this.m)&&c.push("#",Is(v,Ya)),c.join("")},ur.prototype.resolve=function(c){const _=Ln(this);let v=!!c.j;v?Es(_,c.j):v=!!c.o,v?_.o=c.o:v=!!c.g,v?_.g=c.g:v=c.u!=null;var I=c.h;if(v)cr(_,c.u);else if(v=!!c.h){if(I.charAt(0)!="/")if(this.g&&!this.h)I="/"+I;else{var F=_.h.lastIndexOf("/");F!=-1&&(I=_.h.slice(0,F+1)+I)}if(F=I,F==".."||F==".")I="";else if(F.indexOf("./")!=-1||F.indexOf("/.")!=-1){I=F.lastIndexOf("/",0)==0,F=F.split("/");const q=[];for(let se=0;se<F.length;){const xe=F[se++];xe=="."?I&&se==F.length&&q.push(""):xe==".."?((q.length>1||q.length==1&&q[0]!="")&&q.pop(),I&&se==F.length&&q.push("")):(q.push(xe),I=!0)}I=q.join("/")}else I=F}return v?_.h=I:v=c.i.toString()!=="",v?Pi(_,el(c.i)):v=!!c.m,v&&(_.m=c.m),_};function Ln(c){return new ur(c)}function Es(c,_,v){c.j=v?Ts(_,!0):_,c.j&&(c.j=c.j.replace(/:$/,""))}function cr(c,_){if(_){if(_=Number(_),isNaN(_)||_<0)throw Error("Bad port number "+_);c.u=_}else c.u=null}function Pi(c,_,v){_ instanceof ze?(c.i=_,Eo(c.i,c.l)):(v||(_=Is(_,xd)),c.i=new ze(_,c.l))}function We(c,_,v){c.i.set(_,v)}function jr(c){return We(c,"zx",Math.floor(Math.random()*2147483648).toString(36)+Math.abs(Math.floor(Math.random()*2147483648)^Date.now()).toString(36)),c}function Ts(c,_){return c?_?decodeURI(c.replace(/%25/g,"%2525")):decodeURIComponent(c):""}function Is(c,_,v){return typeof c=="string"?(c=encodeURI(c).replace(_,Ga),v&&(c=c.replace(/%25([0-9a-fA-F]{2})/g,"%$1")),c):null}function Ga(c){return c=c.charCodeAt(0),"%"+(c>>4&15).toString(16)+(c&15).toString(16)}var Ka=/[#\/\?@]/g,Qa=/[#\?:]/g,Ss=/[#\?]/g,xd=/[#\?@]/g,Ya=/#/g;function ze(c,_){this.h=this.g=null,this.i=c||null,this.j=!!_}function hr(c){c.g||(c.g=new Map,c.h=0,c.i&&En(c.i,function(_,v){c.add(decodeURIComponent(_.replace(/\+/g," ")),v)}))}n=ze.prototype,n.add=function(c,_){hr(this),this.i=null,c=dr(this,c);let v=this.g.get(c);return v||this.g.set(c,v=[]),v.push(_),this.h+=1,this};function Ja(c,_){hr(c),_=dr(c,_),c.g.has(_)&&(c.i=null,c.h-=c.g.get(_).length,c.g.delete(_))}function wo(c,_){return hr(c),_=dr(c,_),c.g.has(_)}n.forEach=function(c,_){hr(this),this.g.forEach(function(v,I){v.forEach(function(F){c.call(_,F,I,this)},this)},this)};function Xa(c,_){hr(c);let v=[];if(typeof _=="string")wo(c,_)&&(v=v.concat(c.g.get(dr(c,_))));else for(c=Array.from(c.g.values()),_=0;_<c.length;_++)v=v.concat(c[_]);return v}n.set=function(c,_){return hr(this),this.i=null,c=dr(this,c),wo(this,c)&&(this.h-=this.g.get(c).length),this.g.set(c,[_]),this.h+=1,this},n.get=function(c,_){return c?(c=Xa(this,c),c.length>0?String(c[0]):_):_};function Za(c,_,v){Ja(c,_),v.length>0&&(c.i=null,c.g.set(dr(c,_),R(v)),c.h+=v.length)}n.toString=function(){if(this.i)return this.i;if(!this.g)return"";const c=[],_=Array.from(this.g.keys());for(let I=0;I<_.length;I++){var v=_[I];const F=lr(v);v=Xa(this,v);for(let q=0;q<v.length;q++){let se=F;v[q]!==""&&(se+="="+lr(v[q])),c.push(se)}}return this.i=c.join("&")};function el(c){const _=new ze;return _.i=c.i,c.g&&(_.g=new Map(c.g),_.h=c.h),_}function dr(c,_){return _=String(_),c.j&&(_=_.toLowerCase()),_}function Eo(c,_){_&&!c.j&&(hr(c),c.i=null,c.g.forEach(function(v,I){const F=I.toLowerCase();I!=F&&(Ja(this,I),Za(this,F,v))},c)),c.j=_}function fr(c,_){const v=new Si;if(u.Image){const I=new Image;I.onload=g(Mt,v,"TestLoadImage: loaded",!0,_,I),I.onerror=g(Mt,v,"TestLoadImage: error",!1,_,I),I.onabort=g(Mt,v,"TestLoadImage: abort",!1,_,I),I.ontimeout=g(Mt,v,"TestLoadImage: timeout",!1,_,I),u.setTimeout(function(){I.ontimeout&&I.ontimeout()},1e4),I.src=c}else _(!1)}function pr(c,_){const v=new Si,I=new AbortController,F=setTimeout(()=>{I.abort(),Mt(v,"TestPingServer: timeout",!1,_)},1e4);fetch(c,{signal:I.signal}).then(q=>{clearTimeout(F),q.ok?Mt(v,"TestPingServer: ok",!0,_):Mt(v,"TestPingServer: server error",!1,_)}).catch(()=>{clearTimeout(F),Mt(v,"TestPingServer: error",!1,_)})}function Mt(c,_,v,I,F){try{F&&(F.onload=null,F.onerror=null,F.onabort=null,F.ontimeout=null),I(v)}catch{}}function As(){this.g=new ms}function zr(c){this.i=c.Sb||null,this.h=c.ab||!1}E(zr,wi),zr.prototype.g=function(){return new Tn(this.i,this.h)};function Tn(c,_){Tt.call(this),this.H=c,this.o=_,this.m=void 0,this.status=this.readyState=0,this.responseType=this.responseText=this.response=this.statusText="",this.onreadystatechange=null,this.A=new Headers,this.h=null,this.F="GET",this.D="",this.g=!1,this.B=this.j=this.l=null,this.v=new AbortController}E(Tn,Tt),n=Tn.prototype,n.open=function(c,_){if(this.readyState!=0)throw this.abort(),Error("Error reopening a connection");this.F=c,this.D=_,this.readyState=1,Qn(this)},n.send=function(c){if(this.readyState!=1)throw this.abort(),Error("need to call open() first. ");if(this.v.signal.aborted)throw this.abort(),Error("Request was aborted.");this.g=!0;const _={headers:this.A,method:this.F,credentials:this.m,cache:void 0,signal:this.v.signal};c&&(_.body=c),(this.H||u).fetch(new Request(this.D,_)).then(this.Pa.bind(this),this.ga.bind(this))},n.abort=function(){this.response=this.responseText="",this.A=new Headers,this.status=0,this.v.abort(),this.j&&this.j.cancel("Request was aborted.").catch(()=>{}),this.readyState>=1&&this.g&&this.readyState!=4&&(this.g=!1,ki(this)),this.readyState=0},n.Pa=function(c){if(this.g&&(this.l=c,this.h||(this.status=this.l.status,this.statusText=this.l.statusText,this.h=c.headers,this.readyState=2,Qn(this)),this.g&&(this.readyState=3,Qn(this),this.g)))if(this.responseType==="arraybuffer")c.arrayBuffer().then(this.Na.bind(this),this.ga.bind(this));else if(typeof u.ReadableStream<"u"&&"body"in c){if(this.j=c.body.getReader(),this.o){if(this.responseType)throw Error('responseType must be empty for "streamBinaryChunks" mode responses.');this.response=[]}else this.response=this.responseText="",this.B=new TextDecoder;Ju(this)}else c.text().then(this.Oa.bind(this),this.ga.bind(this))};function Ju(c){c.j.read().then(c.Ma.bind(c)).catch(c.ga.bind(c))}n.Ma=function(c){if(this.g){if(this.o&&c.value)this.response.push(c.value);else if(!this.o){var _=c.value?c.value:new Uint8Array(0);(_=this.B.decode(_,{stream:!c.done}))&&(this.response=this.responseText+=_)}c.done?ki(this):Qn(this),this.readyState==3&&Ju(this)}},n.Oa=function(c){this.g&&(this.response=this.responseText=c,ki(this))},n.Na=function(c){this.g&&(this.response=c,ki(this))},n.ga=function(){this.g&&ki(this)};function ki(c){c.readyState=4,c.l=null,c.j=null,c.B=null,Qn(c)}n.setRequestHeader=function(c,_){this.A.append(c,_)},n.getResponseHeader=function(c){return this.h&&this.h.get(c.toLowerCase())||""},n.getAllResponseHeaders=function(){if(!this.h)return"";const c=[],_=this.h.entries();for(var v=_.next();!v.done;)v=v.value,c.push(v[0]+": "+v[1]),v=_.next();return c.join(`\r
`)};function Qn(c){c.onreadystatechange&&c.onreadystatechange.call(c)}Object.defineProperty(Tn.prototype,"withCredentials",{get:function(){return this.m==="include"},set:function(c){this.m=c?"include":"same-origin"}});function Xu(c){let _="";return ie(c,function(v,I){_+=I,_+=":",_+=v,_+=`\r
`}),_}function To(c,_,v){e:{for(I in v){var I=!1;break e}I=!0}I||(v=Xu(v),typeof c=="string"?v!=null&&lr(v):We(c,_,v))}function Je(c){Tt.call(this),this.headers=new Map,this.L=c||null,this.h=!1,this.g=null,this.D="",this.o=0,this.l="",this.j=this.B=this.v=this.A=!1,this.m=null,this.F="",this.H=!1}E(Je,Tt);var Zu=/^https?$/i,Dd=["POST","PUT"];n=Je.prototype,n.Fa=function(c){this.H=c},n.ea=function(c,_,v,I){if(this.g)throw Error("[goog.net.XhrIo] Object is active with another request="+this.D+"; newUri="+c);_=_?_.toUpperCase():"GET",this.D=c,this.l="",this.o=0,this.A=!1,this.h=!0,this.g=this.L?this.L.g():Hu.g(),this.g.onreadystatechange=w(m(this.Ca,this));try{this.B=!0,this.g.open(_,String(c),!0),this.B=!1}catch(q){Ci(this,q);return}if(c=v||"",v=new Map(this.headers),I)if(Object.getPrototypeOf(I)===Object.prototype)for(var F in I)v.set(F,I[F]);else if(typeof I.keys=="function"&&typeof I.get=="function")for(const q of I.keys())v.set(q,I.get(q));else throw Error("Unknown input type for opt_headers: "+String(I));I=Array.from(v.keys()).find(q=>q.toLowerCase()=="content-type"),F=u.FormData&&c instanceof u.FormData,!(Array.prototype.indexOf.call(Dd,_,void 0)>=0)||I||F||v.set("Content-Type","application/x-www-form-urlencoded;charset=utf-8");for(const[q,se]of v)this.g.setRequestHeader(q,se);this.F&&(this.g.responseType=this.F),"withCredentials"in this.g&&this.g.withCredentials!==this.H&&(this.g.withCredentials=this.H);try{this.m&&(clearTimeout(this.m),this.m=null),this.v=!0,this.g.send(c),this.v=!1}catch(q){Ci(this,q)}};function Ci(c,_){c.h=!1,c.g&&(c.j=!0,c.g.abort(),c.j=!1),c.l=_,c.o=5,bi(c),$r(c)}function bi(c){c.A||(c.A=!0,_t(c,"complete"),_t(c,"error"))}n.abort=function(c){this.g&&this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1,this.o=c||7,_t(this,"complete"),_t(this,"abort"),$r(this))},n.N=function(){this.g&&(this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1),$r(this,!0)),Je.Z.N.call(this)},n.Ca=function(){this.u||(this.B||this.v||this.j?Br(this):this.Xa())},n.Xa=function(){Br(this)};function Br(c){if(c.h&&typeof a<"u"){if(c.v&&mr(c)==4)setTimeout(c.Ca.bind(c),0);else if(_t(c,"readystatechange"),mr(c)==4){c.h=!1;try{const q=c.ca();e:switch(q){case 200:case 201:case 202:case 204:case 206:case 304:case 1223:var _=!0;break e;default:_=!1}var v;if(!(v=_)){var I;if(I=q===0){let se=String(c.D).match(Yu)[1]||null;!se&&u.self&&u.self.location&&(se=u.self.location.protocol.slice(0,-1)),I=!Zu.test(se?se.toLowerCase():"")}v=I}if(v)_t(c,"complete"),_t(c,"success");else{c.o=6;try{var F=mr(c)>2?c.g.statusText:""}catch{F=""}c.l=F+" ["+c.ca()+"]",bi(c)}}finally{$r(c)}}}}function $r(c,_){if(c.g){c.m&&(clearTimeout(c.m),c.m=null);const v=c.g;c.g=null,_||_t(c,"ready");try{v.onreadystatechange=null}catch{}}}n.isActive=function(){return!!this.g};function mr(c){return c.g?c.g.readyState:0}n.ca=function(){try{return mr(this)>2?this.g.status:-1}catch{return-1}},n.la=function(){try{return this.g?this.g.responseText:""}catch{return""}},n.La=function(c){if(this.g){var _=this.g.responseText;return c&&_.indexOf(c)==0&&(_=_.substring(c.length)),Fu(_)}};function ec(c){try{if(!c.g)return null;if("response"in c.g)return c.g.response;switch(c.F){case"":case"text":return c.g.responseText;case"arraybuffer":if("mozResponseArrayBuffer"in c.g)return c.g.mozResponseArrayBuffer}return null}catch{return null}}function tl(c){const _={};c=(c.g&&mr(c)>=2&&c.g.getAllResponseHeaders()||"").split(`\r
`);for(let I=0;I<c.length;I++){if(P(c[I]))continue;var v=go(c[I]);const F=v[0];if(v=v[1],typeof v!="string")continue;v=v.trim();const q=_[F]||[];_[F]=q,q.push(v)}Y(_,function(I){return I.join(", ")})}n.ya=function(){return this.o},n.Ha=function(){return typeof this.l=="string"?this.l:String(this.l)};function gr(c,_,v){return v&&v.internalChannelParams&&v.internalChannelParams[c]||_}function Io(c){this.za=0,this.i=[],this.j=new Si,this.ba=this.na=this.J=this.W=this.g=this.wa=this.G=this.H=this.u=this.U=this.o=null,this.Ya=this.V=0,this.Sa=gr("failFast",!1,c),this.F=this.C=this.v=this.m=this.l=null,this.X=!0,this.xa=this.K=-1,this.Y=this.A=this.D=0,this.Qa=gr("baseRetryDelayMs",5e3,c),this.Za=gr("retryDelaySeedMs",1e4,c),this.Ta=gr("forwardChannelMaxRetries",2,c),this.va=gr("forwardChannelRequestTimeoutMs",2e4,c),this.ma=c&&c.xmlHttpFactory||void 0,this.Ua=c&&c.Rb||void 0,this.Aa=c&&c.useFetchStreams||!1,this.O=void 0,this.L=c&&c.supportsCrossDomainXhr||!1,this.M="",this.h=new _o(c&&c.concurrentRequestLimit),this.Ba=new As,this.S=c&&c.fastHandshake||!1,this.R=c&&c.encodeInitMessageHeaders||!1,this.S&&this.R&&(this.R=!1),this.Ra=c&&c.Pb||!1,c&&c.ua&&this.j.ua(),c&&c.forceLongPolling&&(this.X=!1),this.aa=!this.S&&this.X&&c&&c.detectBufferingProxy||!1,this.ia=void 0,c&&c.longPollingTimeout&&c.longPollingTimeout>0&&(this.ia=c.longPollingTimeout),this.ta=void 0,this.T=0,this.P=!1,this.ja=this.B=null}n=Io.prototype,n.ka=8,n.I=1,n.connect=function(c,_,v,I){ht(0),this.W=c,this.H=_||{},v&&I!==void 0&&(this.H.OSID=v,this.H.OAID=I),this.F=this.X,this.J=rl(this,null,this.W),Hr(this)};function So(c){if(Ao(c),c.I==3){var _=c.V++,v=Ln(c.J);if(We(v,"SID",c.M),We(v,"RID",_),We(v,"TYPE","terminate"),yr(c,v),_=new Dn(c,c.j,_),_.M=2,_.A=jr(Ln(v)),v=!1,u.navigator&&u.navigator.sendBeacon)try{v=u.navigator.sendBeacon(_.A.toString(),"")}catch{}!v&&u.Image&&(new Image().src=_.A,v=!0),v||(_.g=nc(_.j,null),_.g.ea(_.A)),_.F=Date.now(),ys(_)}ks(c)}function In(c){c.g&&(Ps(c),c.g.cancel(),c.g=null)}function Ao(c){In(c),c.v&&(u.clearTimeout(c.v),c.v=null),Ro(c),c.h.cancel(),c.m&&(typeof c.m=="number"&&u.clearTimeout(c.m),c.m=null)}function Hr(c){if(!qa(c.h)&&!c.m){c.m=!0;var _=c.Ea;Te||S(),pe||(Te(),pe=!0),C.add(_,c),c.D=0}}function tc(c,_){return vs(c.h)>=c.h.j-(c.m?1:0)?!1:c.m?(c.i=_.G.concat(c.i),!0):c.I==1||c.I==2||c.D>=(c.Sa?0:c.Ta)?!1:(c.m=Ii(m(c.Ea,c,_),ko(c,c.D)),c.D++,!0)}n.Ea=function(c){if(this.m)if(this.m=null,this.I==1){if(!c){this.V=Math.floor(Math.random()*1e5),c=this.V++;const F=new Dn(this,this.j,c);let q=this.o;if(this.U&&(q?(q=V(q),Ie(q,this.U)):q=this.U),this.u!==null||this.R||(F.J=q,q=null),this.S)e:{for(var _=0,v=0;v<this.i.length;v++){t:{var I=this.i[v];if("__data__"in I.map&&(I=I.map.__data__,typeof I=="string")){I=I.length;break t}I=void 0}if(I===void 0)break;if(_+=I,_>4096){_=v;break e}if(_===4096||v===this.i.length-1){_=v+1;break e}}_=1e3}else _=1e3;_=nl(this,F,_),v=Ln(this.J),We(v,"RID",c),We(v,"CVER",22),this.G&&We(v,"X-HTTP-Session-Id",this.G),yr(this,v),q&&(this.R?_="headers="+lr(Xu(q))+"&"+_:this.u&&To(v,this.u,q)),vo(this.h,F),this.Ra&&We(v,"TYPE","init"),this.S?(We(v,"$req",_),We(v,"SID","null"),F.U=!0,Kn(F,v,null)):Kn(F,v,_),this.I=2}}else this.I==3&&(c?Rs(this,c):this.i.length==0||qa(this.h)||Rs(this))};function Rs(c,_){var v;_?v=_.l:v=c.V++;const I=Ln(c.J);We(I,"SID",c.M),We(I,"RID",v),We(I,"AID",c.K),yr(c,I),c.u&&c.o&&To(I,c.u,c.o),v=new Dn(c,c.j,v,c.D+1),c.u===null&&(v.J=c.o),_&&(c.i=_.G.concat(c.i)),_=nl(c,v,1e3),v.H=Math.round(c.va*.5)+Math.round(c.va*.5*Math.random()),vo(c.h,v),Kn(v,I,_)}function yr(c,_){c.H&&ie(c.H,function(v,I){We(_,I,v)}),c.l&&ie({},function(v,I){We(_,I,v)})}function nl(c,_,v){v=Math.min(c.i.length,v);const I=c.l?m(c.l.Ka,c.l,c):null;e:{var F=c.i;let xe=-1;for(;;){const vt=["count="+v];xe==-1?v>0?(xe=F[0].g,vt.push("ofs="+xe)):xe=0:vt.push("ofs="+xe);let Qe=!0;for(let It=0;It<v;It++){var q=F[It].g;const An=F[It].map;if(q-=xe,q<0)xe=Math.max(0,F[It].g-100),Qe=!1;else try{q="req"+q+"_"||"";try{var se=An instanceof Map?An:Object.entries(An);for(const[qr,vr]of se){let wr=vr;d(vr)&&(wr=vi(vr)),vt.push(q+qr+"="+encodeURIComponent(wr))}}catch(qr){throw vt.push(q+"type="+encodeURIComponent("_badmap")),qr}}catch{I&&I(An)}}if(Qe){se=vt.join("&");break e}}se=void 0}return c=c.i.splice(0,v),_.G=c,se}function Ht(c){if(!c.g&&!c.v){c.Y=1;var _=c.Da;Te||S(),pe||(Te(),pe=!0),C.add(_,c),c.A=0}}function _r(c){return c.g||c.v||c.A>=3?!1:(c.Y++,c.v=Ii(m(c.Da,c),ko(c,c.A)),c.A++,!0)}n.Da=function(){if(this.v=null,Ni(this),this.aa&&!(this.P||this.g==null||this.T<=0)){var c=4*this.T;this.j.info("BP detection timer enabled: "+c),this.B=Ii(m(this.Wa,this),c)}},n.Wa=function(){this.B&&(this.B=null,this.j.info("BP detection timeout reached."),this.j.info("Buffering proxy detected and switch to long-polling!"),this.F=!1,this.P=!0,ht(10),In(this),Ni(this))};function Ps(c){c.B!=null&&(u.clearTimeout(c.B),c.B=null)}function Ni(c){c.g=new Dn(c,c.j,"rpc",c.Y),c.u===null&&(c.g.J=c.o),c.g.P=0;var _=Ln(c.na);We(_,"RID","rpc"),We(_,"SID",c.M),We(_,"AID",c.K),We(_,"CI",c.F?"0":"1"),!c.F&&c.ia&&We(_,"TO",c.ia),We(_,"TYPE","xmlhttp"),yr(c,_),c.u&&c.o&&To(_,c.u,c.o),c.O&&(c.g.H=c.O);var v=c.g;c=c.ba,v.M=1,v.A=jr(Ln(_)),v.u=null,v.R=!0,$a(v,c)}n.Va=function(){this.C!=null&&(this.C=null,In(this),_r(this),ht(19))};function Ro(c){c.C!=null&&(u.clearTimeout(c.C),c.C=null)}function Po(c,_){var v=null;if(c.g==_){Ro(c),Ps(c),c.g=null;var I=2}else if(Wa(c.h,_))v=_.G,ws(c.h,_),I=1;else return;if(c.I!=0){if(_.o)if(I==1){v=_.u?_.u.length:0,_=Date.now()-_.F;var F=c.D;I=Ti(),_t(I,new za(I,v)),Hr(c)}else Ht(c);else if(F=_.m,F==3||F==0&&_.X>0||!(I==1&&tc(c,_)||I==2&&_r(c)))switch(v&&v.length>0&&(_=c.h,_.i=_.i.concat(v)),F){case 1:Sn(c,5);break;case 4:Sn(c,10);break;case 3:Sn(c,6);break;default:Sn(c,2)}}}function ko(c,_){let v=c.Qa+Math.floor(Math.random()*c.Za);return c.isActive()||(v*=2),v*_}function Sn(c,_){if(c.j.info("Error code "+_),_==2){var v=m(c.bb,c),I=c.Ua;const F=!I;I=new ur(I||"//www.google.com/images/cleardot.gif"),u.location&&u.location.protocol=="http"||Es(I,"https"),jr(I),F?fr(I.toString(),v):pr(I.toString(),v)}else ht(2);c.I=0,c.l&&c.l.pa(_),ks(c),Ao(c)}n.bb=function(c){c?(this.j.info("Successfully pinged google.com"),ht(2)):(this.j.info("Failed to ping google.com"),ht(1))};function ks(c){if(c.I=0,c.ja=[],c.l){const _=wn(c.h);(_.length!=0||c.i.length!=0)&&(M(c.ja,_),M(c.ja,c.i),c.h.i.length=0,R(c.i),c.i.length=0),c.l.oa()}}function rl(c,_,v){var I=v instanceof ur?Ln(v):new ur(v);if(I.g!="")_&&(I.g=_+"."+I.g),cr(I,I.u);else{var F=u.location;I=F.protocol,_=_?_+"."+F.hostname:F.hostname,F=+F.port;const q=new ur(null);I&&Es(q,I),_&&(q.g=_),F&&cr(q,F),v&&(q.h=v),I=q}return v=c.G,_=c.wa,v&&_&&We(I,v,_),We(I,"VER",c.ka),yr(c,I),I}function nc(c,_,v){if(_&&!c.L)throw Error("Can't create secondary domain capable XhrIo object.");return _=c.Aa&&!c.ma?new Je(new zr({ab:v})):new Je(c.ma),_.Fa(c.L),_}n.isActive=function(){return!!this.l&&this.l.isActive(this)};function rc(){}n=rc.prototype,n.ra=function(){},n.qa=function(){},n.pa=function(){},n.oa=function(){},n.isActive=function(){return!0},n.Ka=function(){};function Co(){}Co.prototype.g=function(c,_){return new Ut(c,_)};function Ut(c,_){Tt.call(this),this.g=new Io(_),this.l=c,this.h=_&&_.messageUrlParams||null,c=_&&_.messageHeaders||null,_&&_.clientProtocolHeaderRequired&&(c?c["X-Client-Protocol"]="webchannel":c={"X-Client-Protocol":"webchannel"}),this.g.o=c,c=_&&_.initMessageHeaders||null,_&&_.messageContentType&&(c?c["X-WebChannel-Content-Type"]=_.messageContentType:c={"X-WebChannel-Content-Type":_.messageContentType}),_&&_.sa&&(c?c["X-WebChannel-Client-Profile"]=_.sa:c={"X-WebChannel-Client-Profile":_.sa}),this.g.U=c,(c=_&&_.Qb)&&!P(c)&&(this.g.u=c),this.A=_&&_.supportsCrossDomainXhr||!1,this.v=_&&_.sendRawJson||!1,(_=_&&_.httpSessionIdParam)&&!P(_)&&(this.g.G=_,c=this.h,c!==null&&_ in c&&(c=this.h,_ in c&&delete c[_])),this.j=new Oi(this)}E(Ut,Tt),Ut.prototype.m=function(){this.g.l=this.j,this.A&&(this.g.L=!0),this.g.connect(this.l,this.h||void 0)},Ut.prototype.close=function(){So(this.g)},Ut.prototype.o=function(c){var _=this.g;if(typeof c=="string"){var v={};v.__data__=c,c=v}else this.v&&(v={},v.__data__=vi(c),c=v);_.i.push(new Od(_.Ya++,c)),_.I==3&&Hr(_)},Ut.prototype.N=function(){this.g.l=null,delete this.j,So(this.g),delete this.g,Ut.Z.N.call(this)};function ic(c){fo.call(this),c.__headers__&&(this.headers=c.__headers__,this.statusCode=c.__status__,delete c.__headers__,delete c.__status__);var _=c.__sm__;if(_){e:{for(const v in _){c=v;break e}c=void 0}(this.i=c)&&(c=this.i,_=_!==null&&c in _?_[c]:void 0),this.data=_}else this.data=c}E(ic,fo);function sc(){ja.call(this),this.status=1}E(sc,ja);function Oi(c){this.g=c}E(Oi,rc),Oi.prototype.ra=function(){_t(this.g,"a")},Oi.prototype.qa=function(c){_t(this.g,new ic(c))},Oi.prototype.pa=function(c){_t(this.g,new sc)},Oi.prototype.oa=function(){_t(this.g,"b")},Co.prototype.createWebChannel=Co.prototype.g,Ut.prototype.send=Ut.prototype.o,Ut.prototype.open=Ut.prototype.m,Ut.prototype.close=Ut.prototype.close,bI=function(){return new Co},CI=function(){return Ti()},kI=Gn,Xp={jb:0,mb:1,nb:2,Hb:3,Mb:4,Jb:5,Kb:6,Ib:7,Gb:8,Lb:9,PROXY:10,NOPROXY:11,Eb:12,Ab:13,Bb:14,zb:15,Cb:16,Db:17,fb:18,eb:19,gb:20},Ai.NO_ERROR=0,Ai.TIMEOUT=8,Ai.HTTP_ERROR=6,_h=Ai,Ri.COMPLETE="complete",PI=Ri,ju.EventType=Ei,Ei.OPEN="a",Ei.CLOSE="b",Ei.ERROR="c",Ei.MESSAGE="d",Tt.prototype.listen=Tt.prototype.J,zl=ju,Je.prototype.listenOnce=Je.prototype.K,Je.prototype.getLastError=Je.prototype.Ha,Je.prototype.getLastErrorCode=Je.prototype.ya,Je.prototype.getStatus=Je.prototype.ca,Je.prototype.getResponseJson=Je.prototype.La,Je.prototype.getResponseText=Je.prototype.la,Je.prototype.send=Je.prototype.ea,Je.prototype.setWithCredentials=Je.prototype.Fa,RI=Je}).apply(typeof nh<"u"?nh:typeof self<"u"?self:typeof window<"u"?window:{});let Yt=class{constructor(e){this.uid=e}isAuthenticated(){return this.uid!=null}toKey(){return this.isAuthenticated()?"uid:"+this.uid:"anonymous-user"}isEqual(e){return e.uid===this.uid}};Yt.UNAUTHENTICATED=new Yt(null),Yt.GOOGLE_CREDENTIALS=new Yt("google-credentials-uid"),Yt.FIRST_PARTY=new Yt("first-party-uid"),Yt.MOCK_USER=new Yt("mock-user");let Pa="12.8.0";function Vb(n){Pa=n}const Qs=new td("@firebase/firestore");function ea(){return Qs.logLevel}function de(n,...e){if(Qs.logLevel<=Ue.DEBUG){const t=e.map(Jm);Qs.debug(`Firestore (${Pa}): ${n}`,...t)}}function hi(n,...e){if(Qs.logLevel<=Ue.ERROR){const t=e.map(Jm);Qs.error(`Firestore (${Pa}): ${n}`,...t)}}function pa(n,...e){if(Qs.logLevel<=Ue.WARN){const t=e.map(Jm);Qs.warn(`Firestore (${Pa}): ${n}`,...t)}}function Jm(n){if(typeof n=="string")return n;try{return(function(t){return JSON.stringify(t)})(n)}catch{return n}}function Pe(n,e,t){let r="Unexpected state";typeof e=="string"?r=e:t=e,NI(n,r,t)}function NI(n,e,t){let r=`FIRESTORE (${Pa}) INTERNAL ASSERTION FAILED: ${e} (ID: ${n.toString(16)})`;if(t!==void 0)try{r+=" CONTEXT: "+JSON.stringify(t)}catch{r+=" CONTEXT: "+t}throw hi(r),new Error(r)}function Ke(n,e,t,r){let s="Unexpected state";typeof t=="string"?s=t:r=t,n||NI(e,s,r)}function De(n,e){return n}const G={OK:"ok",CANCELLED:"cancelled",UNKNOWN:"unknown",INVALID_ARGUMENT:"invalid-argument",DEADLINE_EXCEEDED:"deadline-exceeded",NOT_FOUND:"not-found",ALREADY_EXISTS:"already-exists",PERMISSION_DENIED:"permission-denied",UNAUTHENTICATED:"unauthenticated",RESOURCE_EXHAUSTED:"resource-exhausted",FAILED_PRECONDITION:"failed-precondition",ABORTED:"aborted",OUT_OF_RANGE:"out-of-range",UNIMPLEMENTED:"unimplemented",INTERNAL:"internal",UNAVAILABLE:"unavailable",DATA_LOSS:"data-loss"};class ae extends xn{constructor(e,t){super(e,t),this.code=e,this.message=t,this.toString=()=>`${this.name}: [code=${this.code}]: ${this.message}`}}class si{constructor(){this.promise=new Promise(((e,t)=>{this.resolve=e,this.reject=t}))}}class OI{constructor(e,t){this.user=t,this.type="OAuth",this.headers=new Map,this.headers.set("Authorization",`Bearer ${e}`)}}class Mb{getToken(){return Promise.resolve(null)}invalidateToken(){}start(e,t){e.enqueueRetryable((()=>t(Yt.UNAUTHENTICATED)))}shutdown(){}}class Ub{constructor(e){this.token=e,this.changeListener=null}getToken(){return Promise.resolve(this.token)}invalidateToken(){}start(e,t){this.changeListener=t,e.enqueueRetryable((()=>t(this.token.user)))}shutdown(){this.changeListener=null}}class Fb{constructor(e){this.t=e,this.currentUser=Yt.UNAUTHENTICATED,this.i=0,this.forceRefresh=!1,this.auth=null}start(e,t){Ke(this.o===void 0,42304);let r=this.i;const s=f=>this.i!==r?(r=this.i,t(f)):Promise.resolve();let a=new si;this.o=()=>{this.i++,this.currentUser=this.u(),a.resolve(),a=new si,e.enqueueRetryable((()=>s(this.currentUser)))};const u=()=>{const f=a;e.enqueueRetryable((async()=>{await f.promise,await s(this.currentUser)}))},d=f=>{de("FirebaseAuthCredentialsProvider","Auth detected"),this.auth=f,this.o&&(this.auth.addAuthTokenListener(this.o),u())};this.t.onInit((f=>d(f))),setTimeout((()=>{if(!this.auth){const f=this.t.getImmediate({optional:!0});f?d(f):(de("FirebaseAuthCredentialsProvider","Auth not yet detected"),a.resolve(),a=new si)}}),0),u()}getToken(){const e=this.i,t=this.forceRefresh;return this.forceRefresh=!1,this.auth?this.auth.getToken(t).then((r=>this.i!==e?(de("FirebaseAuthCredentialsProvider","getToken aborted due to token change."),this.getToken()):r?(Ke(typeof r.accessToken=="string",31837,{l:r}),new OI(r.accessToken,this.currentUser)):null)):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.auth&&this.o&&this.auth.removeAuthTokenListener(this.o),this.o=void 0}u(){const e=this.auth&&this.auth.getUid();return Ke(e===null||typeof e=="string",2055,{h:e}),new Yt(e)}}class jb{constructor(e,t,r){this.P=e,this.T=t,this.I=r,this.type="FirstParty",this.user=Yt.FIRST_PARTY,this.R=new Map}A(){return this.I?this.I():null}get headers(){this.R.set("X-Goog-AuthUser",this.P);const e=this.A();return e&&this.R.set("Authorization",e),this.T&&this.R.set("X-Goog-Iam-Authorization-Token",this.T),this.R}}class zb{constructor(e,t,r){this.P=e,this.T=t,this.I=r}getToken(){return Promise.resolve(new jb(this.P,this.T,this.I))}start(e,t){e.enqueueRetryable((()=>t(Yt.FIRST_PARTY)))}shutdown(){}invalidateToken(){}}class ow{constructor(e){this.value=e,this.type="AppCheck",this.headers=new Map,e&&e.length>0&&this.headers.set("x-firebase-appcheck",this.value)}}class Bb{constructor(e,t){this.V=t,this.forceRefresh=!1,this.appCheck=null,this.m=null,this.p=null,it(e)&&e.settings.appCheckToken&&(this.p=e.settings.appCheckToken)}start(e,t){Ke(this.o===void 0,3512);const r=a=>{a.error!=null&&de("FirebaseAppCheckTokenProvider",`Error getting App Check token; using placeholder token instead. Error: ${a.error.message}`);const u=a.token!==this.m;return this.m=a.token,de("FirebaseAppCheckTokenProvider",`Received ${u?"new":"existing"} token.`),u?t(a.token):Promise.resolve()};this.o=a=>{e.enqueueRetryable((()=>r(a)))};const s=a=>{de("FirebaseAppCheckTokenProvider","AppCheck detected"),this.appCheck=a,this.o&&this.appCheck.addTokenListener(this.o)};this.V.onInit((a=>s(a))),setTimeout((()=>{if(!this.appCheck){const a=this.V.getImmediate({optional:!0});a?s(a):de("FirebaseAppCheckTokenProvider","AppCheck not yet detected")}}),0)}getToken(){if(this.p)return Promise.resolve(new ow(this.p));const e=this.forceRefresh;return this.forceRefresh=!1,this.appCheck?this.appCheck.getToken(e).then((t=>t?(Ke(typeof t.token=="string",44558,{tokenResult:t}),this.m=t.token,new ow(t.token)):null)):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.appCheck&&this.o&&this.appCheck.removeTokenListener(this.o),this.o=void 0}}function $b(n){const e=typeof self<"u"&&(self.crypto||self.msCrypto),t=new Uint8Array(n);if(e&&typeof e.getRandomValues=="function")e.getRandomValues(t);else for(let r=0;r<n;r++)t[r]=Math.floor(256*Math.random());return t}class Xm{static newId(){const e="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",t=62*Math.floor(4.129032258064516);let r="";for(;r.length<20;){const s=$b(40);for(let a=0;a<s.length;++a)r.length<20&&s[a]<t&&(r+=e.charAt(s[a]%62))}return r}}function Fe(n,e){return n<e?-1:n>e?1:0}function Zp(n,e){const t=Math.min(n.length,e.length);for(let r=0;r<t;r++){const s=n.charAt(r),a=e.charAt(r);if(s!==a)return Ap(s)===Ap(a)?Fe(s,a):Ap(s)?1:-1}return Fe(n.length,e.length)}const Hb=55296,qb=57343;function Ap(n){const e=n.charCodeAt(0);return e>=Hb&&e<=qb}function ma(n,e,t){return n.length===e.length&&n.every(((r,s)=>t(r,e[s])))}const aw="__name__";class Rr{constructor(e,t,r){t===void 0?t=0:t>e.length&&Pe(637,{offset:t,range:e.length}),r===void 0?r=e.length-t:r>e.length-t&&Pe(1746,{length:r,range:e.length-t}),this.segments=e,this.offset=t,this.len=r}get length(){return this.len}isEqual(e){return Rr.comparator(this,e)===0}child(e){const t=this.segments.slice(this.offset,this.limit());return e instanceof Rr?e.forEach((r=>{t.push(r)})):t.push(e),this.construct(t)}limit(){return this.offset+this.length}popFirst(e){return e=e===void 0?1:e,this.construct(this.segments,this.offset+e,this.length-e)}popLast(){return this.construct(this.segments,this.offset,this.length-1)}firstSegment(){return this.segments[this.offset]}lastSegment(){return this.get(this.length-1)}get(e){return this.segments[this.offset+e]}isEmpty(){return this.length===0}isPrefixOf(e){if(e.length<this.length)return!1;for(let t=0;t<this.length;t++)if(this.get(t)!==e.get(t))return!1;return!0}isImmediateParentOf(e){if(this.length+1!==e.length)return!1;for(let t=0;t<this.length;t++)if(this.get(t)!==e.get(t))return!1;return!0}forEach(e){for(let t=this.offset,r=this.limit();t<r;t++)e(this.segments[t])}toArray(){return this.segments.slice(this.offset,this.limit())}static comparator(e,t){const r=Math.min(e.length,t.length);for(let s=0;s<r;s++){const a=Rr.compareSegments(e.get(s),t.get(s));if(a!==0)return a}return Fe(e.length,t.length)}static compareSegments(e,t){const r=Rr.isNumericId(e),s=Rr.isNumericId(t);return r&&!s?-1:!r&&s?1:r&&s?Rr.extractNumericId(e).compare(Rr.extractNumericId(t)):Zp(e,t)}static isNumericId(e){return e.startsWith("__id")&&e.endsWith("__")}static extractNumericId(e){return ns.fromString(e.substring(4,e.length-2))}}class Ze extends Rr{construct(e,t,r){return new Ze(e,t,r)}canonicalString(){return this.toArray().join("/")}toString(){return this.canonicalString()}toUriEncodedString(){return this.toArray().map(encodeURIComponent).join("/")}static fromString(...e){const t=[];for(const r of e){if(r.indexOf("//")>=0)throw new ae(G.INVALID_ARGUMENT,`Invalid segment (${r}). Paths must not contain // in them.`);t.push(...r.split("/").filter((s=>s.length>0)))}return new Ze(t)}static emptyPath(){return new Ze([])}}const Wb=/^[_a-zA-Z][_a-zA-Z0-9]*$/;class Bt extends Rr{construct(e,t,r){return new Bt(e,t,r)}static isValidIdentifier(e){return Wb.test(e)}canonicalString(){return this.toArray().map((e=>(e=e.replace(/\\/g,"\\\\").replace(/`/g,"\\`"),Bt.isValidIdentifier(e)||(e="`"+e+"`"),e))).join(".")}toString(){return this.canonicalString()}isKeyField(){return this.length===1&&this.get(0)===aw}static keyField(){return new Bt([aw])}static fromServerFormat(e){const t=[];let r="",s=0;const a=()=>{if(r.length===0)throw new ae(G.INVALID_ARGUMENT,`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`);t.push(r),r=""};let u=!1;for(;s<e.length;){const d=e[s];if(d==="\\"){if(s+1===e.length)throw new ae(G.INVALID_ARGUMENT,"Path has trailing escape character: "+e);const f=e[s+1];if(f!=="\\"&&f!=="."&&f!=="`")throw new ae(G.INVALID_ARGUMENT,"Path has invalid escape sequence: "+e);r+=f,s+=2}else d==="`"?(u=!u,s++):d!=="."||u?(r+=d,s++):(a(),s++)}if(a(),u)throw new ae(G.INVALID_ARGUMENT,"Unterminated ` in path: "+e);return new Bt(t)}static emptyPath(){return new Bt([])}}class Se{constructor(e){this.path=e}static fromPath(e){return new Se(Ze.fromString(e))}static fromName(e){return new Se(Ze.fromString(e).popFirst(5))}static empty(){return new Se(Ze.emptyPath())}get collectionGroup(){return this.path.popLast().lastSegment()}hasCollectionId(e){return this.path.length>=2&&this.path.get(this.path.length-2)===e}getCollectionGroup(){return this.path.get(this.path.length-2)}getCollectionPath(){return this.path.popLast()}isEqual(e){return e!==null&&Ze.comparator(this.path,e.path)===0}toString(){return this.path.toString()}static comparator(e,t){return Ze.comparator(e.path,t.path)}static isDocumentKey(e){return e.length%2==0}static fromSegments(e){return new Se(new Ze(e.slice()))}}function xI(n,e,t){if(!t)throw new ae(G.INVALID_ARGUMENT,`Function ${n}() cannot be called with an empty ${e}.`)}function Gb(n,e,t,r){if(e===!0&&r===!0)throw new ae(G.INVALID_ARGUMENT,`${n} and ${t} cannot be used together.`)}function lw(n){if(!Se.isDocumentKey(n))throw new ae(G.INVALID_ARGUMENT,`Invalid document reference. Document references must have an even number of segments, but ${n} has ${n.length}.`)}function uw(n){if(Se.isDocumentKey(n))throw new ae(G.INVALID_ARGUMENT,`Invalid collection reference. Collection references must have an odd number of segments, but ${n} has ${n.length}.`)}function DI(n){return typeof n=="object"&&n!==null&&(Object.getPrototypeOf(n)===Object.prototype||Object.getPrototypeOf(n)===null)}function cd(n){if(n===void 0)return"undefined";if(n===null)return"null";if(typeof n=="string")return n.length>20&&(n=`${n.substring(0,20)}...`),JSON.stringify(n);if(typeof n=="number"||typeof n=="boolean")return""+n;if(typeof n=="object"){if(n instanceof Array)return"an array";{const e=(function(r){return r.constructor?r.constructor.name:null})(n);return e?`a custom ${e} object`:"an object"}}return typeof n=="function"?"a function":Pe(12329,{type:typeof n})}function on(n,e){if("_delegate"in n&&(n=n._delegate),!(n instanceof e)){if(e.name===n.constructor.name)throw new ae(G.INVALID_ARGUMENT,"Type does not match the expected instance. Did you pass a reference from a different Firestore SDK?");{const t=cd(n);throw new ae(G.INVALID_ARGUMENT,`Expected type '${e.name}', but it was: ${t}`)}}return n}function Kb(n,e){if(e<=0)throw new ae(G.INVALID_ARGUMENT,`Function ${n}() requires a positive number, but it was: ${e}.`)}function kt(n,e){const t={typeString:n};return e&&(t.value=e),t}function Pu(n,e){if(!DI(n))throw new ae(G.INVALID_ARGUMENT,"JSON must be an object");let t;for(const r in e)if(e[r]){const s=e[r].typeString,a="value"in e[r]?{value:e[r].value}:void 0;if(!(r in n)){t=`JSON missing required field: '${r}'`;break}const u=n[r];if(s&&typeof u!==s){t=`JSON field '${r}' must be a ${s}.`;break}if(a!==void 0&&u!==a.value){t=`Expected '${r}' field to equal '${a.value}'`;break}}if(t)throw new ae(G.INVALID_ARGUMENT,t);return!0}const cw=-62135596800,hw=1e6;class rt{static now(){return rt.fromMillis(Date.now())}static fromDate(e){return rt.fromMillis(e.getTime())}static fromMillis(e){const t=Math.floor(e/1e3),r=Math.floor((e-1e3*t)*hw);return new rt(t,r)}constructor(e,t){if(this.seconds=e,this.nanoseconds=t,t<0)throw new ae(G.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+t);if(t>=1e9)throw new ae(G.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+t);if(e<cw)throw new ae(G.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e);if(e>=253402300800)throw new ae(G.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e)}toDate(){return new Date(this.toMillis())}toMillis(){return 1e3*this.seconds+this.nanoseconds/hw}_compareTo(e){return this.seconds===e.seconds?Fe(this.nanoseconds,e.nanoseconds):Fe(this.seconds,e.seconds)}isEqual(e){return e.seconds===this.seconds&&e.nanoseconds===this.nanoseconds}toString(){return"Timestamp(seconds="+this.seconds+", nanoseconds="+this.nanoseconds+")"}toJSON(){return{type:rt._jsonSchemaVersion,seconds:this.seconds,nanoseconds:this.nanoseconds}}static fromJSON(e){if(Pu(e,rt._jsonSchema))return new rt(e.seconds,e.nanoseconds)}valueOf(){const e=this.seconds-cw;return String(e).padStart(12,"0")+"."+String(this.nanoseconds).padStart(9,"0")}}rt._jsonSchemaVersion="firestore/timestamp/1.0",rt._jsonSchema={type:kt("string",rt._jsonSchemaVersion),seconds:kt("number"),nanoseconds:kt("number")};class Ne{static fromTimestamp(e){return new Ne(e)}static min(){return new Ne(new rt(0,0))}static max(){return new Ne(new rt(253402300799,999999999))}constructor(e){this.timestamp=e}compareTo(e){return this.timestamp._compareTo(e.timestamp)}isEqual(e){return this.timestamp.isEqual(e.timestamp)}toMicroseconds(){return 1e6*this.timestamp.seconds+this.timestamp.nanoseconds/1e3}toString(){return"SnapshotVersion("+this.timestamp.toString()+")"}toTimestamp(){return this.timestamp}}const uu=-1;function Qb(n,e){const t=n.toTimestamp().seconds,r=n.toTimestamp().nanoseconds+1,s=Ne.fromTimestamp(r===1e9?new rt(t+1,0):new rt(t,r));return new is(s,Se.empty(),e)}function Yb(n){return new is(n.readTime,n.key,uu)}class is{constructor(e,t,r){this.readTime=e,this.documentKey=t,this.largestBatchId=r}static min(){return new is(Ne.min(),Se.empty(),uu)}static max(){return new is(Ne.max(),Se.empty(),uu)}}function Jb(n,e){let t=n.readTime.compareTo(e.readTime);return t!==0?t:(t=Se.comparator(n.documentKey,e.documentKey),t!==0?t:Fe(n.largestBatchId,e.largestBatchId))}const Xb="The current tab is not in the required state to perform this operation. It might be necessary to refresh the browser tab.";class Zb{constructor(){this.onCommittedListeners=[]}addOnCommittedListener(e){this.onCommittedListeners.push(e)}raiseOnCommittedEvent(){this.onCommittedListeners.forEach((e=>e()))}}async function ka(n){if(n.code!==G.FAILED_PRECONDITION||n.message!==Xb)throw n;de("LocalStore","Unexpectedly lost primary lease")}class K{constructor(e){this.nextCallback=null,this.catchCallback=null,this.result=void 0,this.error=void 0,this.isDone=!1,this.callbackAttached=!1,e((t=>{this.isDone=!0,this.result=t,this.nextCallback&&this.nextCallback(t)}),(t=>{this.isDone=!0,this.error=t,this.catchCallback&&this.catchCallback(t)}))}catch(e){return this.next(void 0,e)}next(e,t){return this.callbackAttached&&Pe(59440),this.callbackAttached=!0,this.isDone?this.error?this.wrapFailure(t,this.error):this.wrapSuccess(e,this.result):new K(((r,s)=>{this.nextCallback=a=>{this.wrapSuccess(e,a).next(r,s)},this.catchCallback=a=>{this.wrapFailure(t,a).next(r,s)}}))}toPromise(){return new Promise(((e,t)=>{this.next(e,t)}))}wrapUserFunction(e){try{const t=e();return t instanceof K?t:K.resolve(t)}catch(t){return K.reject(t)}}wrapSuccess(e,t){return e?this.wrapUserFunction((()=>e(t))):K.resolve(t)}wrapFailure(e,t){return e?this.wrapUserFunction((()=>e(t))):K.reject(t)}static resolve(e){return new K(((t,r)=>{t(e)}))}static reject(e){return new K(((t,r)=>{r(e)}))}static waitFor(e){return new K(((t,r)=>{let s=0,a=0,u=!1;e.forEach((d=>{++s,d.next((()=>{++a,u&&a===s&&t()}),(f=>r(f)))})),u=!0,a===s&&t()}))}static or(e){let t=K.resolve(!1);for(const r of e)t=t.next((s=>s?K.resolve(s):r()));return t}static forEach(e,t){const r=[];return e.forEach(((s,a)=>{r.push(t.call(this,s,a))})),this.waitFor(r)}static mapArray(e,t){return new K(((r,s)=>{const a=e.length,u=new Array(a);let d=0;for(let f=0;f<a;f++){const m=f;t(e[m]).next((g=>{u[m]=g,++d,d===a&&r(u)}),(g=>s(g)))}}))}static doWhile(e,t){return new K(((r,s)=>{const a=()=>{e()===!0?t().next((()=>{a()}),s):r()};a()}))}}function eN(n){const e=n.match(/Android ([\d.]+)/i),t=e?e[1].split(".").slice(0,2).join("."):"-1";return Number(t)}function Ca(n){return n.name==="IndexedDbTransactionError"}class hd{constructor(e,t){this.previousValue=e,t&&(t.sequenceNumberHandler=r=>this.ae(r),this.ue=r=>t.writeSequenceNumber(r))}ae(e){return this.previousValue=Math.max(e,this.previousValue),this.previousValue}next(){const e=++this.previousValue;return this.ue&&this.ue(e),e}}hd.ce=-1;const Zm=-1;function dd(n){return n==null}function Nh(n){return n===0&&1/n==-1/0}function tN(n){return typeof n=="number"&&Number.isInteger(n)&&!Nh(n)&&n<=Number.MAX_SAFE_INTEGER&&n>=Number.MIN_SAFE_INTEGER}const LI="";function nN(n){let e="";for(let t=0;t<n.length;t++)e.length>0&&(e=dw(e)),e=rN(n.get(t),e);return dw(e)}function rN(n,e){let t=e;const r=n.length;for(let s=0;s<r;s++){const a=n.charAt(s);switch(a){case"\0":t+="";break;case LI:t+="";break;default:t+=a}}return t}function dw(n){return n+LI+""}function fw(n){let e=0;for(const t in n)Object.prototype.hasOwnProperty.call(n,t)&&e++;return e}function hs(n,e){for(const t in n)Object.prototype.hasOwnProperty.call(n,t)&&e(t,n[t])}function VI(n){for(const e in n)if(Object.prototype.hasOwnProperty.call(n,e))return!1;return!0}class ct{constructor(e,t){this.comparator=e,this.root=t||zt.EMPTY}insert(e,t){return new ct(this.comparator,this.root.insert(e,t,this.comparator).copy(null,null,zt.BLACK,null,null))}remove(e){return new ct(this.comparator,this.root.remove(e,this.comparator).copy(null,null,zt.BLACK,null,null))}get(e){let t=this.root;for(;!t.isEmpty();){const r=this.comparator(e,t.key);if(r===0)return t.value;r<0?t=t.left:r>0&&(t=t.right)}return null}indexOf(e){let t=0,r=this.root;for(;!r.isEmpty();){const s=this.comparator(e,r.key);if(s===0)return t+r.left.size;s<0?r=r.left:(t+=r.left.size+1,r=r.right)}return-1}isEmpty(){return this.root.isEmpty()}get size(){return this.root.size}minKey(){return this.root.minKey()}maxKey(){return this.root.maxKey()}inorderTraversal(e){return this.root.inorderTraversal(e)}forEach(e){this.inorderTraversal(((t,r)=>(e(t,r),!1)))}toString(){const e=[];return this.inorderTraversal(((t,r)=>(e.push(`${t}:${r}`),!1))),`{${e.join(", ")}}`}reverseTraversal(e){return this.root.reverseTraversal(e)}getIterator(){return new rh(this.root,null,this.comparator,!1)}getIteratorFrom(e){return new rh(this.root,e,this.comparator,!1)}getReverseIterator(){return new rh(this.root,null,this.comparator,!0)}getReverseIteratorFrom(e){return new rh(this.root,e,this.comparator,!0)}}class rh{constructor(e,t,r,s){this.isReverse=s,this.nodeStack=[];let a=1;for(;!e.isEmpty();)if(a=t?r(e.key,t):1,t&&s&&(a*=-1),a<0)e=this.isReverse?e.left:e.right;else{if(a===0){this.nodeStack.push(e);break}this.nodeStack.push(e),e=this.isReverse?e.right:e.left}}getNext(){let e=this.nodeStack.pop();const t={key:e.key,value:e.value};if(this.isReverse)for(e=e.left;!e.isEmpty();)this.nodeStack.push(e),e=e.right;else for(e=e.right;!e.isEmpty();)this.nodeStack.push(e),e=e.left;return t}hasNext(){return this.nodeStack.length>0}peek(){if(this.nodeStack.length===0)return null;const e=this.nodeStack[this.nodeStack.length-1];return{key:e.key,value:e.value}}}class zt{constructor(e,t,r,s,a){this.key=e,this.value=t,this.color=r??zt.RED,this.left=s??zt.EMPTY,this.right=a??zt.EMPTY,this.size=this.left.size+1+this.right.size}copy(e,t,r,s,a){return new zt(e??this.key,t??this.value,r??this.color,s??this.left,a??this.right)}isEmpty(){return!1}inorderTraversal(e){return this.left.inorderTraversal(e)||e(this.key,this.value)||this.right.inorderTraversal(e)}reverseTraversal(e){return this.right.reverseTraversal(e)||e(this.key,this.value)||this.left.reverseTraversal(e)}min(){return this.left.isEmpty()?this:this.left.min()}minKey(){return this.min().key}maxKey(){return this.right.isEmpty()?this.key:this.right.maxKey()}insert(e,t,r){let s=this;const a=r(e,s.key);return s=a<0?s.copy(null,null,null,s.left.insert(e,t,r),null):a===0?s.copy(null,t,null,null,null):s.copy(null,null,null,null,s.right.insert(e,t,r)),s.fixUp()}removeMin(){if(this.left.isEmpty())return zt.EMPTY;let e=this;return e.left.isRed()||e.left.left.isRed()||(e=e.moveRedLeft()),e=e.copy(null,null,null,e.left.removeMin(),null),e.fixUp()}remove(e,t){let r,s=this;if(t(e,s.key)<0)s.left.isEmpty()||s.left.isRed()||s.left.left.isRed()||(s=s.moveRedLeft()),s=s.copy(null,null,null,s.left.remove(e,t),null);else{if(s.left.isRed()&&(s=s.rotateRight()),s.right.isEmpty()||s.right.isRed()||s.right.left.isRed()||(s=s.moveRedRight()),t(e,s.key)===0){if(s.right.isEmpty())return zt.EMPTY;r=s.right.min(),s=s.copy(r.key,r.value,null,null,s.right.removeMin())}s=s.copy(null,null,null,null,s.right.remove(e,t))}return s.fixUp()}isRed(){return this.color}fixUp(){let e=this;return e.right.isRed()&&!e.left.isRed()&&(e=e.rotateLeft()),e.left.isRed()&&e.left.left.isRed()&&(e=e.rotateRight()),e.left.isRed()&&e.right.isRed()&&(e=e.colorFlip()),e}moveRedLeft(){let e=this.colorFlip();return e.right.left.isRed()&&(e=e.copy(null,null,null,null,e.right.rotateRight()),e=e.rotateLeft(),e=e.colorFlip()),e}moveRedRight(){let e=this.colorFlip();return e.left.left.isRed()&&(e=e.rotateRight(),e=e.colorFlip()),e}rotateLeft(){const e=this.copy(null,null,zt.RED,null,this.right.left);return this.right.copy(null,null,this.color,e,null)}rotateRight(){const e=this.copy(null,null,zt.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,e)}colorFlip(){const e=this.left.copy(null,null,!this.left.color,null,null),t=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,e,t)}checkMaxDepth(){const e=this.check();return Math.pow(2,e)<=this.size+1}check(){if(this.isRed()&&this.left.isRed())throw Pe(43730,{key:this.key,value:this.value});if(this.right.isRed())throw Pe(14113,{key:this.key,value:this.value});const e=this.left.check();if(e!==this.right.check())throw Pe(27949);return e+(this.isRed()?0:1)}}zt.EMPTY=null,zt.RED=!0,zt.BLACK=!1;zt.EMPTY=new class{constructor(){this.size=0}get key(){throw Pe(57766)}get value(){throw Pe(16141)}get color(){throw Pe(16727)}get left(){throw Pe(29726)}get right(){throw Pe(36894)}copy(e,t,r,s,a){return this}insert(e,t,r){return new zt(e,t)}remove(e,t){return this}isEmpty(){return!0}inorderTraversal(e){return!1}reverseTraversal(e){return!1}minKey(){return null}maxKey(){return null}isRed(){return!1}checkMaxDepth(){return!0}check(){return 0}};class Nt{constructor(e){this.comparator=e,this.data=new ct(this.comparator)}has(e){return this.data.get(e)!==null}first(){return this.data.minKey()}last(){return this.data.maxKey()}get size(){return this.data.size}indexOf(e){return this.data.indexOf(e)}forEach(e){this.data.inorderTraversal(((t,r)=>(e(t),!1)))}forEachInRange(e,t){const r=this.data.getIteratorFrom(e[0]);for(;r.hasNext();){const s=r.getNext();if(this.comparator(s.key,e[1])>=0)return;t(s.key)}}forEachWhile(e,t){let r;for(r=t!==void 0?this.data.getIteratorFrom(t):this.data.getIterator();r.hasNext();)if(!e(r.getNext().key))return}firstAfterOrEqual(e){const t=this.data.getIteratorFrom(e);return t.hasNext()?t.getNext().key:null}getIterator(){return new pw(this.data.getIterator())}getIteratorFrom(e){return new pw(this.data.getIteratorFrom(e))}add(e){return this.copy(this.data.remove(e).insert(e,!0))}delete(e){return this.has(e)?this.copy(this.data.remove(e)):this}isEmpty(){return this.data.isEmpty()}unionWith(e){let t=this;return t.size<e.size&&(t=e,e=this),e.forEach((r=>{t=t.add(r)})),t}isEqual(e){if(!(e instanceof Nt)||this.size!==e.size)return!1;const t=this.data.getIterator(),r=e.data.getIterator();for(;t.hasNext();){const s=t.getNext().key,a=r.getNext().key;if(this.comparator(s,a)!==0)return!1}return!0}toArray(){const e=[];return this.forEach((t=>{e.push(t)})),e}toString(){const e=[];return this.forEach((t=>e.push(t))),"SortedSet("+e.toString()+")"}copy(e){const t=new Nt(this.comparator);return t.data=e,t}}class pw{constructor(e){this.iter=e}getNext(){return this.iter.getNext().key}hasNext(){return this.iter.hasNext()}}class Cn{constructor(e){this.fields=e,e.sort(Bt.comparator)}static empty(){return new Cn([])}unionWith(e){let t=new Nt(Bt.comparator);for(const r of this.fields)t=t.add(r);for(const r of e)t=t.add(r);return new Cn(t.toArray())}covers(e){for(const t of this.fields)if(t.isPrefixOf(e))return!0;return!1}isEqual(e){return ma(this.fields,e.fields,((t,r)=>t.isEqual(r)))}}class MI extends Error{constructor(){super(...arguments),this.name="Base64DecodeError"}}class $t{constructor(e){this.binaryString=e}static fromBase64String(e){const t=(function(s){try{return atob(s)}catch(a){throw typeof DOMException<"u"&&a instanceof DOMException?new MI("Invalid base64 string: "+a):a}})(e);return new $t(t)}static fromUint8Array(e){const t=(function(s){let a="";for(let u=0;u<s.length;++u)a+=String.fromCharCode(s[u]);return a})(e);return new $t(t)}[Symbol.iterator](){let e=0;return{next:()=>e<this.binaryString.length?{value:this.binaryString.charCodeAt(e++),done:!1}:{value:void 0,done:!0}}}toBase64(){return(function(t){return btoa(t)})(this.binaryString)}toUint8Array(){return(function(t){const r=new Uint8Array(t.length);for(let s=0;s<t.length;s++)r[s]=t.charCodeAt(s);return r})(this.binaryString)}approximateByteSize(){return 2*this.binaryString.length}compareTo(e){return Fe(this.binaryString,e.binaryString)}isEqual(e){return this.binaryString===e.binaryString}}$t.EMPTY_BYTE_STRING=new $t("");const iN=new RegExp(/^\d{4}-\d\d-\d\dT\d\d:\d\d:\d\d(?:\.(\d+))?Z$/);function ss(n){if(Ke(!!n,39018),typeof n=="string"){let e=0;const t=iN.exec(n);if(Ke(!!t,46558,{timestamp:n}),t[1]){let s=t[1];s=(s+"000000000").substr(0,9),e=Number(s)}const r=new Date(n);return{seconds:Math.floor(r.getTime()/1e3),nanos:e}}return{seconds:Et(n.seconds),nanos:Et(n.nanos)}}function Et(n){return typeof n=="number"?n:typeof n=="string"?Number(n):0}function os(n){return typeof n=="string"?$t.fromBase64String(n):$t.fromUint8Array(n)}const UI="server_timestamp",FI="__type__",jI="__previous_value__",zI="__local_write_time__";function eg(n){return(n?.mapValue?.fields||{})[FI]?.stringValue===UI}function fd(n){const e=n.mapValue.fields[jI];return eg(e)?fd(e):e}function cu(n){const e=ss(n.mapValue.fields[zI].timestampValue);return new rt(e.seconds,e.nanos)}class sN{constructor(e,t,r,s,a,u,d,f,m,g,E){this.databaseId=e,this.appId=t,this.persistenceKey=r,this.host=s,this.ssl=a,this.forceLongPolling=u,this.autoDetectLongPolling=d,this.longPollingOptions=f,this.useFetchStreams=m,this.isUsingEmulator=g,this.apiKey=E}}const Oh="(default)";class hu{constructor(e,t){this.projectId=e,this.database=t||Oh}static empty(){return new hu("","")}get isDefaultDatabase(){return this.database===Oh}isEqual(e){return e instanceof hu&&e.projectId===this.projectId&&e.database===this.database}}function oN(n,e){if(!Object.prototype.hasOwnProperty.apply(n.options,["projectId"]))throw new ae(G.INVALID_ARGUMENT,'"projectId" not provided in firebase.initializeApp.');return new hu(n.options.projectId,e)}const BI="__type__",aN="__max__",ih={mapValue:{}},$I="__vector__",xh="value";function as(n){return"nullValue"in n?0:"booleanValue"in n?1:"integerValue"in n||"doubleValue"in n?2:"timestampValue"in n?3:"stringValue"in n?5:"bytesValue"in n?6:"referenceValue"in n?7:"geoPointValue"in n?8:"arrayValue"in n?9:"mapValue"in n?eg(n)?4:uN(n)?9007199254740991:lN(n)?10:11:Pe(28295,{value:n})}function xr(n,e){if(n===e)return!0;const t=as(n);if(t!==as(e))return!1;switch(t){case 0:case 9007199254740991:return!0;case 1:return n.booleanValue===e.booleanValue;case 4:return cu(n).isEqual(cu(e));case 3:return(function(s,a){if(typeof s.timestampValue=="string"&&typeof a.timestampValue=="string"&&s.timestampValue.length===a.timestampValue.length)return s.timestampValue===a.timestampValue;const u=ss(s.timestampValue),d=ss(a.timestampValue);return u.seconds===d.seconds&&u.nanos===d.nanos})(n,e);case 5:return n.stringValue===e.stringValue;case 6:return(function(s,a){return os(s.bytesValue).isEqual(os(a.bytesValue))})(n,e);case 7:return n.referenceValue===e.referenceValue;case 8:return(function(s,a){return Et(s.geoPointValue.latitude)===Et(a.geoPointValue.latitude)&&Et(s.geoPointValue.longitude)===Et(a.geoPointValue.longitude)})(n,e);case 2:return(function(s,a){if("integerValue"in s&&"integerValue"in a)return Et(s.integerValue)===Et(a.integerValue);if("doubleValue"in s&&"doubleValue"in a){const u=Et(s.doubleValue),d=Et(a.doubleValue);return u===d?Nh(u)===Nh(d):isNaN(u)&&isNaN(d)}return!1})(n,e);case 9:return ma(n.arrayValue.values||[],e.arrayValue.values||[],xr);case 10:case 11:return(function(s,a){const u=s.mapValue.fields||{},d=a.mapValue.fields||{};if(fw(u)!==fw(d))return!1;for(const f in u)if(u.hasOwnProperty(f)&&(d[f]===void 0||!xr(u[f],d[f])))return!1;return!0})(n,e);default:return Pe(52216,{left:n})}}function du(n,e){return(n.values||[]).find((t=>xr(t,e)))!==void 0}function ga(n,e){if(n===e)return 0;const t=as(n),r=as(e);if(t!==r)return Fe(t,r);switch(t){case 0:case 9007199254740991:return 0;case 1:return Fe(n.booleanValue,e.booleanValue);case 2:return(function(a,u){const d=Et(a.integerValue||a.doubleValue),f=Et(u.integerValue||u.doubleValue);return d<f?-1:d>f?1:d===f?0:isNaN(d)?isNaN(f)?0:-1:1})(n,e);case 3:return mw(n.timestampValue,e.timestampValue);case 4:return mw(cu(n),cu(e));case 5:return Zp(n.stringValue,e.stringValue);case 6:return(function(a,u){const d=os(a),f=os(u);return d.compareTo(f)})(n.bytesValue,e.bytesValue);case 7:return(function(a,u){const d=a.split("/"),f=u.split("/");for(let m=0;m<d.length&&m<f.length;m++){const g=Fe(d[m],f[m]);if(g!==0)return g}return Fe(d.length,f.length)})(n.referenceValue,e.referenceValue);case 8:return(function(a,u){const d=Fe(Et(a.latitude),Et(u.latitude));return d!==0?d:Fe(Et(a.longitude),Et(u.longitude))})(n.geoPointValue,e.geoPointValue);case 9:return gw(n.arrayValue,e.arrayValue);case 10:return(function(a,u){const d=a.fields||{},f=u.fields||{},m=d[xh]?.arrayValue,g=f[xh]?.arrayValue,E=Fe(m?.values?.length||0,g?.values?.length||0);return E!==0?E:gw(m,g)})(n.mapValue,e.mapValue);case 11:return(function(a,u){if(a===ih.mapValue&&u===ih.mapValue)return 0;if(a===ih.mapValue)return 1;if(u===ih.mapValue)return-1;const d=a.fields||{},f=Object.keys(d),m=u.fields||{},g=Object.keys(m);f.sort(),g.sort();for(let E=0;E<f.length&&E<g.length;++E){const w=Zp(f[E],g[E]);if(w!==0)return w;const R=ga(d[f[E]],m[g[E]]);if(R!==0)return R}return Fe(f.length,g.length)})(n.mapValue,e.mapValue);default:throw Pe(23264,{he:t})}}function mw(n,e){if(typeof n=="string"&&typeof e=="string"&&n.length===e.length)return Fe(n,e);const t=ss(n),r=ss(e),s=Fe(t.seconds,r.seconds);return s!==0?s:Fe(t.nanos,r.nanos)}function gw(n,e){const t=n.values||[],r=e.values||[];for(let s=0;s<t.length&&s<r.length;++s){const a=ga(t[s],r[s]);if(a)return a}return Fe(t.length,r.length)}function ya(n){return em(n)}function em(n){return"nullValue"in n?"null":"booleanValue"in n?""+n.booleanValue:"integerValue"in n?""+n.integerValue:"doubleValue"in n?""+n.doubleValue:"timestampValue"in n?(function(t){const r=ss(t);return`time(${r.seconds},${r.nanos})`})(n.timestampValue):"stringValue"in n?n.stringValue:"bytesValue"in n?(function(t){return os(t).toBase64()})(n.bytesValue):"referenceValue"in n?(function(t){return Se.fromName(t).toString()})(n.referenceValue):"geoPointValue"in n?(function(t){return`geo(${t.latitude},${t.longitude})`})(n.geoPointValue):"arrayValue"in n?(function(t){let r="[",s=!0;for(const a of t.values||[])s?s=!1:r+=",",r+=em(a);return r+"]"})(n.arrayValue):"mapValue"in n?(function(t){const r=Object.keys(t.fields||{}).sort();let s="{",a=!0;for(const u of r)a?a=!1:s+=",",s+=`${u}:${em(t.fields[u])}`;return s+"}"})(n.mapValue):Pe(61005,{value:n})}function vh(n){switch(as(n)){case 0:case 1:return 4;case 2:return 8;case 3:case 8:return 16;case 4:const e=fd(n);return e?16+vh(e):16;case 5:return 2*n.stringValue.length;case 6:return os(n.bytesValue).approximateByteSize();case 7:return n.referenceValue.length;case 9:return(function(r){return(r.values||[]).reduce(((s,a)=>s+vh(a)),0)})(n.arrayValue);case 10:case 11:return(function(r){let s=0;return hs(r.fields,((a,u)=>{s+=a.length+vh(u)})),s})(n.mapValue);default:throw Pe(13486,{value:n})}}function yw(n,e){return{referenceValue:`projects/${n.projectId}/databases/${n.database}/documents/${e.path.canonicalString()}`}}function tm(n){return!!n&&"integerValue"in n}function tg(n){return!!n&&"arrayValue"in n}function _w(n){return!!n&&"nullValue"in n}function vw(n){return!!n&&"doubleValue"in n&&isNaN(Number(n.doubleValue))}function wh(n){return!!n&&"mapValue"in n}function lN(n){return(n?.mapValue?.fields||{})[BI]?.stringValue===$I}function Jl(n){if(n.geoPointValue)return{geoPointValue:{...n.geoPointValue}};if(n.timestampValue&&typeof n.timestampValue=="object")return{timestampValue:{...n.timestampValue}};if(n.mapValue){const e={mapValue:{fields:{}}};return hs(n.mapValue.fields,((t,r)=>e.mapValue.fields[t]=Jl(r))),e}if(n.arrayValue){const e={arrayValue:{values:[]}};for(let t=0;t<(n.arrayValue.values||[]).length;++t)e.arrayValue.values[t]=Jl(n.arrayValue.values[t]);return e}return{...n}}function uN(n){return(((n.mapValue||{}).fields||{}).__type__||{}).stringValue===aN}class yn{constructor(e){this.value=e}static empty(){return new yn({mapValue:{}})}field(e){if(e.isEmpty())return this.value;{let t=this.value;for(let r=0;r<e.length-1;++r)if(t=(t.mapValue.fields||{})[e.get(r)],!wh(t))return null;return t=(t.mapValue.fields||{})[e.lastSegment()],t||null}}set(e,t){this.getFieldsMap(e.popLast())[e.lastSegment()]=Jl(t)}setAll(e){let t=Bt.emptyPath(),r={},s=[];e.forEach(((u,d)=>{if(!t.isImmediateParentOf(d)){const f=this.getFieldsMap(t);this.applyChanges(f,r,s),r={},s=[],t=d.popLast()}u?r[d.lastSegment()]=Jl(u):s.push(d.lastSegment())}));const a=this.getFieldsMap(t);this.applyChanges(a,r,s)}delete(e){const t=this.field(e.popLast());wh(t)&&t.mapValue.fields&&delete t.mapValue.fields[e.lastSegment()]}isEqual(e){return xr(this.value,e.value)}getFieldsMap(e){let t=this.value;t.mapValue.fields||(t.mapValue={fields:{}});for(let r=0;r<e.length;++r){let s=t.mapValue.fields[e.get(r)];wh(s)&&s.mapValue.fields||(s={mapValue:{fields:{}}},t.mapValue.fields[e.get(r)]=s),t=s}return t.mapValue.fields}applyChanges(e,t,r){hs(t,((s,a)=>e[s]=a));for(const s of r)delete e[s]}clone(){return new yn(Jl(this.value))}}function HI(n){const e=[];return hs(n.fields,((t,r)=>{const s=new Bt([t]);if(wh(r)){const a=HI(r.mapValue).fields;if(a.length===0)e.push(s);else for(const u of a)e.push(s.child(u))}else e.push(s)})),new Cn(e)}class Jt{constructor(e,t,r,s,a,u,d){this.key=e,this.documentType=t,this.version=r,this.readTime=s,this.createTime=a,this.data=u,this.documentState=d}static newInvalidDocument(e){return new Jt(e,0,Ne.min(),Ne.min(),Ne.min(),yn.empty(),0)}static newFoundDocument(e,t,r,s){return new Jt(e,1,t,Ne.min(),r,s,0)}static newNoDocument(e,t){return new Jt(e,2,t,Ne.min(),Ne.min(),yn.empty(),0)}static newUnknownDocument(e,t){return new Jt(e,3,t,Ne.min(),Ne.min(),yn.empty(),2)}convertToFoundDocument(e,t){return!this.createTime.isEqual(Ne.min())||this.documentType!==2&&this.documentType!==0||(this.createTime=e),this.version=e,this.documentType=1,this.data=t,this.documentState=0,this}convertToNoDocument(e){return this.version=e,this.documentType=2,this.data=yn.empty(),this.documentState=0,this}convertToUnknownDocument(e){return this.version=e,this.documentType=3,this.data=yn.empty(),this.documentState=2,this}setHasCommittedMutations(){return this.documentState=2,this}setHasLocalMutations(){return this.documentState=1,this.version=Ne.min(),this}setReadTime(e){return this.readTime=e,this}get hasLocalMutations(){return this.documentState===1}get hasCommittedMutations(){return this.documentState===2}get hasPendingWrites(){return this.hasLocalMutations||this.hasCommittedMutations}isValidDocument(){return this.documentType!==0}isFoundDocument(){return this.documentType===1}isNoDocument(){return this.documentType===2}isUnknownDocument(){return this.documentType===3}isEqual(e){return e instanceof Jt&&this.key.isEqual(e.key)&&this.version.isEqual(e.version)&&this.documentType===e.documentType&&this.documentState===e.documentState&&this.data.isEqual(e.data)}mutableCopy(){return new Jt(this.key,this.documentType,this.version,this.readTime,this.createTime,this.data.clone(),this.documentState)}toString(){return`Document(${this.key}, ${this.version}, ${JSON.stringify(this.data.value)}, {createTime: ${this.createTime}}), {documentType: ${this.documentType}}), {documentState: ${this.documentState}})`}}class Dh{constructor(e,t){this.position=e,this.inclusive=t}}function ww(n,e,t){let r=0;for(let s=0;s<n.position.length;s++){const a=e[s],u=n.position[s];if(a.field.isKeyField()?r=Se.comparator(Se.fromName(u.referenceValue),t.key):r=ga(u,t.data.field(a.field)),a.dir==="desc"&&(r*=-1),r!==0)break}return r}function Ew(n,e){if(n===null)return e===null;if(e===null||n.inclusive!==e.inclusive||n.position.length!==e.position.length)return!1;for(let t=0;t<n.position.length;t++)if(!xr(n.position[t],e.position[t]))return!1;return!0}class fu{constructor(e,t="asc"){this.field=e,this.dir=t}}function cN(n,e){return n.dir===e.dir&&n.field.isEqual(e.field)}class qI{}class Pt extends qI{constructor(e,t,r){super(),this.field=e,this.op=t,this.value=r}static create(e,t,r){return e.isKeyField()?t==="in"||t==="not-in"?this.createKeyFieldInFilter(e,t,r):new dN(e,t,r):t==="array-contains"?new mN(e,r):t==="in"?new gN(e,r):t==="not-in"?new yN(e,r):t==="array-contains-any"?new _N(e,r):new Pt(e,t,r)}static createKeyFieldInFilter(e,t,r){return t==="in"?new fN(e,r):new pN(e,r)}matches(e){const t=e.data.field(this.field);return this.op==="!="?t!==null&&t.nullValue===void 0&&this.matchesComparison(ga(t,this.value)):t!==null&&as(this.value)===as(t)&&this.matchesComparison(ga(t,this.value))}matchesComparison(e){switch(this.op){case"<":return e<0;case"<=":return e<=0;case"==":return e===0;case"!=":return e!==0;case">":return e>0;case">=":return e>=0;default:return Pe(47266,{operator:this.op})}}isInequality(){return["<","<=",">",">=","!=","not-in"].indexOf(this.op)>=0}getFlattenedFilters(){return[this]}getFilters(){return[this]}}class or extends qI{constructor(e,t){super(),this.filters=e,this.op=t,this.Pe=null}static create(e,t){return new or(e,t)}matches(e){return WI(this)?this.filters.find((t=>!t.matches(e)))===void 0:this.filters.find((t=>t.matches(e)))!==void 0}getFlattenedFilters(){return this.Pe!==null||(this.Pe=this.filters.reduce(((e,t)=>e.concat(t.getFlattenedFilters())),[])),this.Pe}getFilters(){return Object.assign([],this.filters)}}function WI(n){return n.op==="and"}function GI(n){return hN(n)&&WI(n)}function hN(n){for(const e of n.filters)if(e instanceof or)return!1;return!0}function nm(n){if(n instanceof Pt)return n.field.canonicalString()+n.op.toString()+ya(n.value);if(GI(n))return n.filters.map((e=>nm(e))).join(",");{const e=n.filters.map((t=>nm(t))).join(",");return`${n.op}(${e})`}}function KI(n,e){return n instanceof Pt?(function(r,s){return s instanceof Pt&&r.op===s.op&&r.field.isEqual(s.field)&&xr(r.value,s.value)})(n,e):n instanceof or?(function(r,s){return s instanceof or&&r.op===s.op&&r.filters.length===s.filters.length?r.filters.reduce(((a,u,d)=>a&&KI(u,s.filters[d])),!0):!1})(n,e):void Pe(19439)}function QI(n){return n instanceof Pt?(function(t){return`${t.field.canonicalString()} ${t.op} ${ya(t.value)}`})(n):n instanceof or?(function(t){return t.op.toString()+" {"+t.getFilters().map(QI).join(" ,")+"}"})(n):"Filter"}class dN extends Pt{constructor(e,t,r){super(e,t,r),this.key=Se.fromName(r.referenceValue)}matches(e){const t=Se.comparator(e.key,this.key);return this.matchesComparison(t)}}class fN extends Pt{constructor(e,t){super(e,"in",t),this.keys=YI("in",t)}matches(e){return this.keys.some((t=>t.isEqual(e.key)))}}class pN extends Pt{constructor(e,t){super(e,"not-in",t),this.keys=YI("not-in",t)}matches(e){return!this.keys.some((t=>t.isEqual(e.key)))}}function YI(n,e){return(e.arrayValue?.values||[]).map((t=>Se.fromName(t.referenceValue)))}class mN extends Pt{constructor(e,t){super(e,"array-contains",t)}matches(e){const t=e.data.field(this.field);return tg(t)&&du(t.arrayValue,this.value)}}class gN extends Pt{constructor(e,t){super(e,"in",t)}matches(e){const t=e.data.field(this.field);return t!==null&&du(this.value.arrayValue,t)}}class yN extends Pt{constructor(e,t){super(e,"not-in",t)}matches(e){if(du(this.value.arrayValue,{nullValue:"NULL_VALUE"}))return!1;const t=e.data.field(this.field);return t!==null&&t.nullValue===void 0&&!du(this.value.arrayValue,t)}}class _N extends Pt{constructor(e,t){super(e,"array-contains-any",t)}matches(e){const t=e.data.field(this.field);return!(!tg(t)||!t.arrayValue.values)&&t.arrayValue.values.some((r=>du(this.value.arrayValue,r)))}}class vN{constructor(e,t=null,r=[],s=[],a=null,u=null,d=null){this.path=e,this.collectionGroup=t,this.orderBy=r,this.filters=s,this.limit=a,this.startAt=u,this.endAt=d,this.Te=null}}function Tw(n,e=null,t=[],r=[],s=null,a=null,u=null){return new vN(n,e,t,r,s,a,u)}function ng(n){const e=De(n);if(e.Te===null){let t=e.path.canonicalString();e.collectionGroup!==null&&(t+="|cg:"+e.collectionGroup),t+="|f:",t+=e.filters.map((r=>nm(r))).join(","),t+="|ob:",t+=e.orderBy.map((r=>(function(a){return a.field.canonicalString()+a.dir})(r))).join(","),dd(e.limit)||(t+="|l:",t+=e.limit),e.startAt&&(t+="|lb:",t+=e.startAt.inclusive?"b:":"a:",t+=e.startAt.position.map((r=>ya(r))).join(",")),e.endAt&&(t+="|ub:",t+=e.endAt.inclusive?"a:":"b:",t+=e.endAt.position.map((r=>ya(r))).join(",")),e.Te=t}return e.Te}function rg(n,e){if(n.limit!==e.limit||n.orderBy.length!==e.orderBy.length)return!1;for(let t=0;t<n.orderBy.length;t++)if(!cN(n.orderBy[t],e.orderBy[t]))return!1;if(n.filters.length!==e.filters.length)return!1;for(let t=0;t<n.filters.length;t++)if(!KI(n.filters[t],e.filters[t]))return!1;return n.collectionGroup===e.collectionGroup&&!!n.path.isEqual(e.path)&&!!Ew(n.startAt,e.startAt)&&Ew(n.endAt,e.endAt)}function rm(n){return Se.isDocumentKey(n.path)&&n.collectionGroup===null&&n.filters.length===0}class ba{constructor(e,t=null,r=[],s=[],a=null,u="F",d=null,f=null){this.path=e,this.collectionGroup=t,this.explicitOrderBy=r,this.filters=s,this.limit=a,this.limitType=u,this.startAt=d,this.endAt=f,this.Ie=null,this.Ee=null,this.Re=null,this.startAt,this.endAt}}function wN(n,e,t,r,s,a,u,d){return new ba(n,e,t,r,s,a,u,d)}function pd(n){return new ba(n)}function Iw(n){return n.filters.length===0&&n.limit===null&&n.startAt==null&&n.endAt==null&&(n.explicitOrderBy.length===0||n.explicitOrderBy.length===1&&n.explicitOrderBy[0].field.isKeyField())}function EN(n){return Se.isDocumentKey(n.path)&&n.collectionGroup===null&&n.filters.length===0}function JI(n){return n.collectionGroup!==null}function Xl(n){const e=De(n);if(e.Ie===null){e.Ie=[];const t=new Set;for(const a of e.explicitOrderBy)e.Ie.push(a),t.add(a.field.canonicalString());const r=e.explicitOrderBy.length>0?e.explicitOrderBy[e.explicitOrderBy.length-1].dir:"asc";(function(u){let d=new Nt(Bt.comparator);return u.filters.forEach((f=>{f.getFlattenedFilters().forEach((m=>{m.isInequality()&&(d=d.add(m.field))}))})),d})(e).forEach((a=>{t.has(a.canonicalString())||a.isKeyField()||e.Ie.push(new fu(a,r))})),t.has(Bt.keyField().canonicalString())||e.Ie.push(new fu(Bt.keyField(),r))}return e.Ie}function br(n){const e=De(n);return e.Ee||(e.Ee=TN(e,Xl(n))),e.Ee}function TN(n,e){if(n.limitType==="F")return Tw(n.path,n.collectionGroup,e,n.filters,n.limit,n.startAt,n.endAt);{e=e.map((s=>{const a=s.dir==="desc"?"asc":"desc";return new fu(s.field,a)}));const t=n.endAt?new Dh(n.endAt.position,n.endAt.inclusive):null,r=n.startAt?new Dh(n.startAt.position,n.startAt.inclusive):null;return Tw(n.path,n.collectionGroup,e,n.filters,n.limit,t,r)}}function im(n,e){const t=n.filters.concat([e]);return new ba(n.path,n.collectionGroup,n.explicitOrderBy.slice(),t,n.limit,n.limitType,n.startAt,n.endAt)}function IN(n,e){const t=n.explicitOrderBy.concat([e]);return new ba(n.path,n.collectionGroup,t,n.filters.slice(),n.limit,n.limitType,n.startAt,n.endAt)}function Lh(n,e,t){return new ba(n.path,n.collectionGroup,n.explicitOrderBy.slice(),n.filters.slice(),e,t,n.startAt,n.endAt)}function md(n,e){return rg(br(n),br(e))&&n.limitType===e.limitType}function XI(n){return`${ng(br(n))}|lt:${n.limitType}`}function ta(n){return`Query(target=${(function(t){let r=t.path.canonicalString();return t.collectionGroup!==null&&(r+=" collectionGroup="+t.collectionGroup),t.filters.length>0&&(r+=`, filters: [${t.filters.map((s=>QI(s))).join(", ")}]`),dd(t.limit)||(r+=", limit: "+t.limit),t.orderBy.length>0&&(r+=`, orderBy: [${t.orderBy.map((s=>(function(u){return`${u.field.canonicalString()} (${u.dir})`})(s))).join(", ")}]`),t.startAt&&(r+=", startAt: ",r+=t.startAt.inclusive?"b:":"a:",r+=t.startAt.position.map((s=>ya(s))).join(",")),t.endAt&&(r+=", endAt: ",r+=t.endAt.inclusive?"a:":"b:",r+=t.endAt.position.map((s=>ya(s))).join(",")),`Target(${r})`})(br(n))}; limitType=${n.limitType})`}function gd(n,e){return e.isFoundDocument()&&(function(r,s){const a=s.key.path;return r.collectionGroup!==null?s.key.hasCollectionId(r.collectionGroup)&&r.path.isPrefixOf(a):Se.isDocumentKey(r.path)?r.path.isEqual(a):r.path.isImmediateParentOf(a)})(n,e)&&(function(r,s){for(const a of Xl(r))if(!a.field.isKeyField()&&s.data.field(a.field)===null)return!1;return!0})(n,e)&&(function(r,s){for(const a of r.filters)if(!a.matches(s))return!1;return!0})(n,e)&&(function(r,s){return!(r.startAt&&!(function(u,d,f){const m=ww(u,d,f);return u.inclusive?m<=0:m<0})(r.startAt,Xl(r),s)||r.endAt&&!(function(u,d,f){const m=ww(u,d,f);return u.inclusive?m>=0:m>0})(r.endAt,Xl(r),s))})(n,e)}function SN(n){return n.collectionGroup||(n.path.length%2==1?n.path.lastSegment():n.path.get(n.path.length-2))}function ZI(n){return(e,t)=>{let r=!1;for(const s of Xl(n)){const a=AN(s,e,t);if(a!==0)return a;r=r||s.field.isKeyField()}return 0}}function AN(n,e,t){const r=n.field.isKeyField()?Se.comparator(e.key,t.key):(function(a,u,d){const f=u.data.field(a),m=d.data.field(a);return f!==null&&m!==null?ga(f,m):Pe(42886)})(n.field,e,t);switch(n.dir){case"asc":return r;case"desc":return-1*r;default:return Pe(19790,{direction:n.dir})}}class oo{constructor(e,t){this.mapKeyFn=e,this.equalsFn=t,this.inner={},this.innerSize=0}get(e){const t=this.mapKeyFn(e),r=this.inner[t];if(r!==void 0){for(const[s,a]of r)if(this.equalsFn(s,e))return a}}has(e){return this.get(e)!==void 0}set(e,t){const r=this.mapKeyFn(e),s=this.inner[r];if(s===void 0)return this.inner[r]=[[e,t]],void this.innerSize++;for(let a=0;a<s.length;a++)if(this.equalsFn(s[a][0],e))return void(s[a]=[e,t]);s.push([e,t]),this.innerSize++}delete(e){const t=this.mapKeyFn(e),r=this.inner[t];if(r===void 0)return!1;for(let s=0;s<r.length;s++)if(this.equalsFn(r[s][0],e))return r.length===1?delete this.inner[t]:r.splice(s,1),this.innerSize--,!0;return!1}forEach(e){hs(this.inner,((t,r)=>{for(const[s,a]of r)e(s,a)}))}isEmpty(){return VI(this.inner)}size(){return this.innerSize}}const RN=new ct(Se.comparator);function di(){return RN}const e0=new ct(Se.comparator);function Bl(...n){let e=e0;for(const t of n)e=e.insert(t.key,t);return e}function t0(n){let e=e0;return n.forEach(((t,r)=>e=e.insert(t,r.overlayedDocument))),e}function $s(){return Zl()}function n0(){return Zl()}function Zl(){return new oo((n=>n.toString()),((n,e)=>n.isEqual(e)))}const PN=new ct(Se.comparator),kN=new Nt(Se.comparator);function je(...n){let e=kN;for(const t of n)e=e.add(t);return e}const CN=new Nt(Fe);function bN(){return CN}function ig(n,e){if(n.useProto3Json){if(isNaN(e))return{doubleValue:"NaN"};if(e===1/0)return{doubleValue:"Infinity"};if(e===-1/0)return{doubleValue:"-Infinity"}}return{doubleValue:Nh(e)?"-0":e}}function r0(n){return{integerValue:""+n}}function i0(n,e){return tN(e)?r0(e):ig(n,e)}class yd{constructor(){this._=void 0}}function NN(n,e,t){return n instanceof pu?(function(s,a){const u={fields:{[FI]:{stringValue:UI},[zI]:{timestampValue:{seconds:s.seconds,nanos:s.nanoseconds}}}};return a&&eg(a)&&(a=fd(a)),a&&(u.fields[jI]=a),{mapValue:u}})(t,e):n instanceof _a?o0(n,e):n instanceof mu?a0(n,e):(function(s,a){const u=s0(s,a),d=Sw(u)+Sw(s.Ae);return tm(u)&&tm(s.Ae)?r0(d):ig(s.serializer,d)})(n,e)}function ON(n,e,t){return n instanceof _a?o0(n,e):n instanceof mu?a0(n,e):t}function s0(n,e){return n instanceof gu?(function(r){return tm(r)||(function(a){return!!a&&"doubleValue"in a})(r)})(e)?e:{integerValue:0}:null}class pu extends yd{}class _a extends yd{constructor(e){super(),this.elements=e}}function o0(n,e){const t=l0(e);for(const r of n.elements)t.some((s=>xr(s,r)))||t.push(r);return{arrayValue:{values:t}}}class mu extends yd{constructor(e){super(),this.elements=e}}function a0(n,e){let t=l0(e);for(const r of n.elements)t=t.filter((s=>!xr(s,r)));return{arrayValue:{values:t}}}class gu extends yd{constructor(e,t){super(),this.serializer=e,this.Ae=t}}function Sw(n){return Et(n.integerValue||n.doubleValue)}function l0(n){return tg(n)&&n.arrayValue.values?n.arrayValue.values.slice():[]}class sg{constructor(e,t){this.field=e,this.transform=t}}function xN(n,e){return n.field.isEqual(e.field)&&(function(r,s){return r instanceof _a&&s instanceof _a||r instanceof mu&&s instanceof mu?ma(r.elements,s.elements,xr):r instanceof gu&&s instanceof gu?xr(r.Ae,s.Ae):r instanceof pu&&s instanceof pu})(n.transform,e.transform)}class DN{constructor(e,t){this.version=e,this.transformResults=t}}class an{constructor(e,t){this.updateTime=e,this.exists=t}static none(){return new an}static exists(e){return new an(void 0,e)}static updateTime(e){return new an(e)}get isNone(){return this.updateTime===void 0&&this.exists===void 0}isEqual(e){return this.exists===e.exists&&(this.updateTime?!!e.updateTime&&this.updateTime.isEqual(e.updateTime):!e.updateTime)}}function Eh(n,e){return n.updateTime!==void 0?e.isFoundDocument()&&e.version.isEqual(n.updateTime):n.exists===void 0||n.exists===e.isFoundDocument()}class _d{}function u0(n,e){if(!n.hasLocalMutations||e&&e.fields.length===0)return null;if(e===null)return n.isNoDocument()?new vd(n.key,an.none()):new ku(n.key,n.data,an.none());{const t=n.data,r=yn.empty();let s=new Nt(Bt.comparator);for(let a of e.fields)if(!s.has(a)){let u=t.field(a);u===null&&a.length>1&&(a=a.popLast(),u=t.field(a)),u===null?r.delete(a):r.set(a,u),s=s.add(a)}return new ds(n.key,r,new Cn(s.toArray()),an.none())}}function LN(n,e,t){n instanceof ku?(function(s,a,u){const d=s.value.clone(),f=Rw(s.fieldTransforms,a,u.transformResults);d.setAll(f),a.convertToFoundDocument(u.version,d).setHasCommittedMutations()})(n,e,t):n instanceof ds?(function(s,a,u){if(!Eh(s.precondition,a))return void a.convertToUnknownDocument(u.version);const d=Rw(s.fieldTransforms,a,u.transformResults),f=a.data;f.setAll(c0(s)),f.setAll(d),a.convertToFoundDocument(u.version,f).setHasCommittedMutations()})(n,e,t):(function(s,a,u){a.convertToNoDocument(u.version).setHasCommittedMutations()})(0,e,t)}function eu(n,e,t,r){return n instanceof ku?(function(a,u,d,f){if(!Eh(a.precondition,u))return d;const m=a.value.clone(),g=Pw(a.fieldTransforms,f,u);return m.setAll(g),u.convertToFoundDocument(u.version,m).setHasLocalMutations(),null})(n,e,t,r):n instanceof ds?(function(a,u,d,f){if(!Eh(a.precondition,u))return d;const m=Pw(a.fieldTransforms,f,u),g=u.data;return g.setAll(c0(a)),g.setAll(m),u.convertToFoundDocument(u.version,g).setHasLocalMutations(),d===null?null:d.unionWith(a.fieldMask.fields).unionWith(a.fieldTransforms.map((E=>E.field)))})(n,e,t,r):(function(a,u,d){return Eh(a.precondition,u)?(u.convertToNoDocument(u.version).setHasLocalMutations(),null):d})(n,e,t)}function VN(n,e){let t=null;for(const r of n.fieldTransforms){const s=e.data.field(r.field),a=s0(r.transform,s||null);a!=null&&(t===null&&(t=yn.empty()),t.set(r.field,a))}return t||null}function Aw(n,e){return n.type===e.type&&!!n.key.isEqual(e.key)&&!!n.precondition.isEqual(e.precondition)&&!!(function(r,s){return r===void 0&&s===void 0||!(!r||!s)&&ma(r,s,((a,u)=>xN(a,u)))})(n.fieldTransforms,e.fieldTransforms)&&(n.type===0?n.value.isEqual(e.value):n.type!==1||n.data.isEqual(e.data)&&n.fieldMask.isEqual(e.fieldMask))}class ku extends _d{constructor(e,t,r,s=[]){super(),this.key=e,this.value=t,this.precondition=r,this.fieldTransforms=s,this.type=0}getFieldMask(){return null}}class ds extends _d{constructor(e,t,r,s,a=[]){super(),this.key=e,this.data=t,this.fieldMask=r,this.precondition=s,this.fieldTransforms=a,this.type=1}getFieldMask(){return this.fieldMask}}function c0(n){const e=new Map;return n.fieldMask.fields.forEach((t=>{if(!t.isEmpty()){const r=n.data.field(t);e.set(t,r)}})),e}function Rw(n,e,t){const r=new Map;Ke(n.length===t.length,32656,{Ve:t.length,de:n.length});for(let s=0;s<t.length;s++){const a=n[s],u=a.transform,d=e.data.field(a.field);r.set(a.field,ON(u,d,t[s]))}return r}function Pw(n,e,t){const r=new Map;for(const s of n){const a=s.transform,u=t.data.field(s.field);r.set(s.field,NN(a,u,e))}return r}class vd extends _d{constructor(e,t){super(),this.key=e,this.precondition=t,this.type=2,this.fieldTransforms=[]}getFieldMask(){return null}}class MN extends _d{constructor(e,t){super(),this.key=e,this.precondition=t,this.type=3,this.fieldTransforms=[]}getFieldMask(){return null}}class UN{constructor(e,t,r,s){this.batchId=e,this.localWriteTime=t,this.baseMutations=r,this.mutations=s}applyToRemoteDocument(e,t){const r=t.mutationResults;for(let s=0;s<this.mutations.length;s++){const a=this.mutations[s];a.key.isEqual(e.key)&&LN(a,e,r[s])}}applyToLocalView(e,t){for(const r of this.baseMutations)r.key.isEqual(e.key)&&(t=eu(r,e,t,this.localWriteTime));for(const r of this.mutations)r.key.isEqual(e.key)&&(t=eu(r,e,t,this.localWriteTime));return t}applyToLocalDocumentSet(e,t){const r=n0();return this.mutations.forEach((s=>{const a=e.get(s.key),u=a.overlayedDocument;let d=this.applyToLocalView(u,a.mutatedFields);d=t.has(s.key)?null:d;const f=u0(u,d);f!==null&&r.set(s.key,f),u.isValidDocument()||u.convertToNoDocument(Ne.min())})),r}keys(){return this.mutations.reduce(((e,t)=>e.add(t.key)),je())}isEqual(e){return this.batchId===e.batchId&&ma(this.mutations,e.mutations,((t,r)=>Aw(t,r)))&&ma(this.baseMutations,e.baseMutations,((t,r)=>Aw(t,r)))}}class og{constructor(e,t,r,s){this.batch=e,this.commitVersion=t,this.mutationResults=r,this.docVersions=s}static from(e,t,r){Ke(e.mutations.length===r.length,58842,{me:e.mutations.length,fe:r.length});let s=(function(){return PN})();const a=e.mutations;for(let u=0;u<a.length;u++)s=s.insert(a[u].key,r[u].version);return new og(e,t,r,s)}}class FN{constructor(e,t){this.largestBatchId=e,this.mutation=t}getKey(){return this.mutation.key}isEqual(e){return e!==null&&this.mutation===e.mutation}toString(){return`Overlay{
      largestBatchId: ${this.largestBatchId},
      mutation: ${this.mutation.toString()}
    }`}}class jN{constructor(e,t){this.count=e,this.unchangedNames=t}}var At,Be;function zN(n){switch(n){case G.OK:return Pe(64938);case G.CANCELLED:case G.UNKNOWN:case G.DEADLINE_EXCEEDED:case G.RESOURCE_EXHAUSTED:case G.INTERNAL:case G.UNAVAILABLE:case G.UNAUTHENTICATED:return!1;case G.INVALID_ARGUMENT:case G.NOT_FOUND:case G.ALREADY_EXISTS:case G.PERMISSION_DENIED:case G.FAILED_PRECONDITION:case G.ABORTED:case G.OUT_OF_RANGE:case G.UNIMPLEMENTED:case G.DATA_LOSS:return!0;default:return Pe(15467,{code:n})}}function h0(n){if(n===void 0)return hi("GRPC error has no .code"),G.UNKNOWN;switch(n){case At.OK:return G.OK;case At.CANCELLED:return G.CANCELLED;case At.UNKNOWN:return G.UNKNOWN;case At.DEADLINE_EXCEEDED:return G.DEADLINE_EXCEEDED;case At.RESOURCE_EXHAUSTED:return G.RESOURCE_EXHAUSTED;case At.INTERNAL:return G.INTERNAL;case At.UNAVAILABLE:return G.UNAVAILABLE;case At.UNAUTHENTICATED:return G.UNAUTHENTICATED;case At.INVALID_ARGUMENT:return G.INVALID_ARGUMENT;case At.NOT_FOUND:return G.NOT_FOUND;case At.ALREADY_EXISTS:return G.ALREADY_EXISTS;case At.PERMISSION_DENIED:return G.PERMISSION_DENIED;case At.FAILED_PRECONDITION:return G.FAILED_PRECONDITION;case At.ABORTED:return G.ABORTED;case At.OUT_OF_RANGE:return G.OUT_OF_RANGE;case At.UNIMPLEMENTED:return G.UNIMPLEMENTED;case At.DATA_LOSS:return G.DATA_LOSS;default:return Pe(39323,{code:n})}}(Be=At||(At={}))[Be.OK=0]="OK",Be[Be.CANCELLED=1]="CANCELLED",Be[Be.UNKNOWN=2]="UNKNOWN",Be[Be.INVALID_ARGUMENT=3]="INVALID_ARGUMENT",Be[Be.DEADLINE_EXCEEDED=4]="DEADLINE_EXCEEDED",Be[Be.NOT_FOUND=5]="NOT_FOUND",Be[Be.ALREADY_EXISTS=6]="ALREADY_EXISTS",Be[Be.PERMISSION_DENIED=7]="PERMISSION_DENIED",Be[Be.UNAUTHENTICATED=16]="UNAUTHENTICATED",Be[Be.RESOURCE_EXHAUSTED=8]="RESOURCE_EXHAUSTED",Be[Be.FAILED_PRECONDITION=9]="FAILED_PRECONDITION",Be[Be.ABORTED=10]="ABORTED",Be[Be.OUT_OF_RANGE=11]="OUT_OF_RANGE",Be[Be.UNIMPLEMENTED=12]="UNIMPLEMENTED",Be[Be.INTERNAL=13]="INTERNAL",Be[Be.UNAVAILABLE=14]="UNAVAILABLE",Be[Be.DATA_LOSS=15]="DATA_LOSS";function BN(){return new TextEncoder}const $N=new ns([4294967295,4294967295],0);function kw(n){const e=BN().encode(n),t=new AI;return t.update(e),new Uint8Array(t.digest())}function Cw(n){const e=new DataView(n.buffer),t=e.getUint32(0,!0),r=e.getUint32(4,!0),s=e.getUint32(8,!0),a=e.getUint32(12,!0);return[new ns([t,r],0),new ns([s,a],0)]}class ag{constructor(e,t,r){if(this.bitmap=e,this.padding=t,this.hashCount=r,t<0||t>=8)throw new $l(`Invalid padding: ${t}`);if(r<0)throw new $l(`Invalid hash count: ${r}`);if(e.length>0&&this.hashCount===0)throw new $l(`Invalid hash count: ${r}`);if(e.length===0&&t!==0)throw new $l(`Invalid padding when bitmap length is 0: ${t}`);this.ge=8*e.length-t,this.pe=ns.fromNumber(this.ge)}ye(e,t,r){let s=e.add(t.multiply(ns.fromNumber(r)));return s.compare($N)===1&&(s=new ns([s.getBits(0),s.getBits(1)],0)),s.modulo(this.pe).toNumber()}we(e){return!!(this.bitmap[Math.floor(e/8)]&1<<e%8)}mightContain(e){if(this.ge===0)return!1;const t=kw(e),[r,s]=Cw(t);for(let a=0;a<this.hashCount;a++){const u=this.ye(r,s,a);if(!this.we(u))return!1}return!0}static create(e,t,r){const s=e%8==0?0:8-e%8,a=new Uint8Array(Math.ceil(e/8)),u=new ag(a,s,t);return r.forEach((d=>u.insert(d))),u}insert(e){if(this.ge===0)return;const t=kw(e),[r,s]=Cw(t);for(let a=0;a<this.hashCount;a++){const u=this.ye(r,s,a);this.be(u)}}be(e){const t=Math.floor(e/8),r=e%8;this.bitmap[t]|=1<<r}}class $l extends Error{constructor(){super(...arguments),this.name="BloomFilterError"}}class wd{constructor(e,t,r,s,a){this.snapshotVersion=e,this.targetChanges=t,this.targetMismatches=r,this.documentUpdates=s,this.resolvedLimboDocuments=a}static createSynthesizedRemoteEventForCurrentChange(e,t,r){const s=new Map;return s.set(e,Cu.createSynthesizedTargetChangeForCurrentChange(e,t,r)),new wd(Ne.min(),s,new ct(Fe),di(),je())}}class Cu{constructor(e,t,r,s,a){this.resumeToken=e,this.current=t,this.addedDocuments=r,this.modifiedDocuments=s,this.removedDocuments=a}static createSynthesizedTargetChangeForCurrentChange(e,t,r){return new Cu(r,t,je(),je(),je())}}class Th{constructor(e,t,r,s){this.Se=e,this.removedTargetIds=t,this.key=r,this.De=s}}class d0{constructor(e,t){this.targetId=e,this.Ce=t}}class f0{constructor(e,t,r=$t.EMPTY_BYTE_STRING,s=null){this.state=e,this.targetIds=t,this.resumeToken=r,this.cause=s}}class bw{constructor(){this.ve=0,this.Fe=Nw(),this.Me=$t.EMPTY_BYTE_STRING,this.xe=!1,this.Oe=!0}get current(){return this.xe}get resumeToken(){return this.Me}get Ne(){return this.ve!==0}get Be(){return this.Oe}Le(e){e.approximateByteSize()>0&&(this.Oe=!0,this.Me=e)}ke(){let e=je(),t=je(),r=je();return this.Fe.forEach(((s,a)=>{switch(a){case 0:e=e.add(s);break;case 2:t=t.add(s);break;case 1:r=r.add(s);break;default:Pe(38017,{changeType:a})}})),new Cu(this.Me,this.xe,e,t,r)}Ke(){this.Oe=!1,this.Fe=Nw()}qe(e,t){this.Oe=!0,this.Fe=this.Fe.insert(e,t)}Ue(e){this.Oe=!0,this.Fe=this.Fe.remove(e)}$e(){this.ve+=1}We(){this.ve-=1,Ke(this.ve>=0,3241,{ve:this.ve})}Qe(){this.Oe=!0,this.xe=!0}}class HN{constructor(e){this.Ge=e,this.ze=new Map,this.je=di(),this.He=sh(),this.Je=sh(),this.Ze=new ct(Fe)}Xe(e){for(const t of e.Se)e.De&&e.De.isFoundDocument()?this.Ye(t,e.De):this.et(t,e.key,e.De);for(const t of e.removedTargetIds)this.et(t,e.key,e.De)}tt(e){this.forEachTarget(e,(t=>{const r=this.nt(t);switch(e.state){case 0:this.rt(t)&&r.Le(e.resumeToken);break;case 1:r.We(),r.Ne||r.Ke(),r.Le(e.resumeToken);break;case 2:r.We(),r.Ne||this.removeTarget(t);break;case 3:this.rt(t)&&(r.Qe(),r.Le(e.resumeToken));break;case 4:this.rt(t)&&(this.it(t),r.Le(e.resumeToken));break;default:Pe(56790,{state:e.state})}}))}forEachTarget(e,t){e.targetIds.length>0?e.targetIds.forEach(t):this.ze.forEach(((r,s)=>{this.rt(s)&&t(s)}))}st(e){const t=e.targetId,r=e.Ce.count,s=this.ot(t);if(s){const a=s.target;if(rm(a))if(r===0){const u=new Se(a.path);this.et(t,u,Jt.newNoDocument(u,Ne.min()))}else Ke(r===1,20013,{expectedCount:r});else{const u=this._t(t);if(u!==r){const d=this.ut(e),f=d?this.ct(d,e,u):1;if(f!==0){this.it(t);const m=f===2?"TargetPurposeExistenceFilterMismatchBloom":"TargetPurposeExistenceFilterMismatch";this.Ze=this.Ze.insert(t,m)}}}}}ut(e){const t=e.Ce.unchangedNames;if(!t||!t.bits)return null;const{bits:{bitmap:r="",padding:s=0},hashCount:a=0}=t;let u,d;try{u=os(r).toUint8Array()}catch(f){if(f instanceof MI)return pa("Decoding the base64 bloom filter in existence filter failed ("+f.message+"); ignoring the bloom filter and falling back to full re-query."),null;throw f}try{d=new ag(u,s,a)}catch(f){return pa(f instanceof $l?"BloomFilter error: ":"Applying bloom filter failed: ",f),null}return d.ge===0?null:d}ct(e,t,r){return t.Ce.count===r-this.Pt(e,t.targetId)?0:2}Pt(e,t){const r=this.Ge.getRemoteKeysForTarget(t);let s=0;return r.forEach((a=>{const u=this.Ge.ht(),d=`projects/${u.projectId}/databases/${u.database}/documents/${a.path.canonicalString()}`;e.mightContain(d)||(this.et(t,a,null),s++)})),s}Tt(e){const t=new Map;this.ze.forEach(((a,u)=>{const d=this.ot(u);if(d){if(a.current&&rm(d.target)){const f=new Se(d.target.path);this.It(f).has(u)||this.Et(u,f)||this.et(u,f,Jt.newNoDocument(f,e))}a.Be&&(t.set(u,a.ke()),a.Ke())}}));let r=je();this.Je.forEach(((a,u)=>{let d=!0;u.forEachWhile((f=>{const m=this.ot(f);return!m||m.purpose==="TargetPurposeLimboResolution"||(d=!1,!1)})),d&&(r=r.add(a))})),this.je.forEach(((a,u)=>u.setReadTime(e)));const s=new wd(e,t,this.Ze,this.je,r);return this.je=di(),this.He=sh(),this.Je=sh(),this.Ze=new ct(Fe),s}Ye(e,t){if(!this.rt(e))return;const r=this.Et(e,t.key)?2:0;this.nt(e).qe(t.key,r),this.je=this.je.insert(t.key,t),this.He=this.He.insert(t.key,this.It(t.key).add(e)),this.Je=this.Je.insert(t.key,this.Rt(t.key).add(e))}et(e,t,r){if(!this.rt(e))return;const s=this.nt(e);this.Et(e,t)?s.qe(t,1):s.Ue(t),this.Je=this.Je.insert(t,this.Rt(t).delete(e)),this.Je=this.Je.insert(t,this.Rt(t).add(e)),r&&(this.je=this.je.insert(t,r))}removeTarget(e){this.ze.delete(e)}_t(e){const t=this.nt(e).ke();return this.Ge.getRemoteKeysForTarget(e).size+t.addedDocuments.size-t.removedDocuments.size}$e(e){this.nt(e).$e()}nt(e){let t=this.ze.get(e);return t||(t=new bw,this.ze.set(e,t)),t}Rt(e){let t=this.Je.get(e);return t||(t=new Nt(Fe),this.Je=this.Je.insert(e,t)),t}It(e){let t=this.He.get(e);return t||(t=new Nt(Fe),this.He=this.He.insert(e,t)),t}rt(e){const t=this.ot(e)!==null;return t||de("WatchChangeAggregator","Detected inactive target",e),t}ot(e){const t=this.ze.get(e);return t&&t.Ne?null:this.Ge.At(e)}it(e){this.ze.set(e,new bw),this.Ge.getRemoteKeysForTarget(e).forEach((t=>{this.et(e,t,null)}))}Et(e,t){return this.Ge.getRemoteKeysForTarget(e).has(t)}}function sh(){return new ct(Se.comparator)}function Nw(){return new ct(Se.comparator)}const qN={asc:"ASCENDING",desc:"DESCENDING"},WN={"<":"LESS_THAN","<=":"LESS_THAN_OR_EQUAL",">":"GREATER_THAN",">=":"GREATER_THAN_OR_EQUAL","==":"EQUAL","!=":"NOT_EQUAL","array-contains":"ARRAY_CONTAINS",in:"IN","not-in":"NOT_IN","array-contains-any":"ARRAY_CONTAINS_ANY"},GN={and:"AND",or:"OR"};class KN{constructor(e,t){this.databaseId=e,this.useProto3Json=t}}function sm(n,e){return n.useProto3Json||dd(e)?e:{value:e}}function Vh(n,e){return n.useProto3Json?`${new Date(1e3*e.seconds).toISOString().replace(/\.\d*/,"").replace("Z","")}.${("000000000"+e.nanoseconds).slice(-9)}Z`:{seconds:""+e.seconds,nanos:e.nanoseconds}}function p0(n,e){return n.useProto3Json?e.toBase64():e.toUint8Array()}function QN(n,e){return Vh(n,e.toTimestamp())}function Nr(n){return Ke(!!n,49232),Ne.fromTimestamp((function(t){const r=ss(t);return new rt(r.seconds,r.nanos)})(n))}function lg(n,e){return om(n,e).canonicalString()}function om(n,e){const t=(function(s){return new Ze(["projects",s.projectId,"databases",s.database])})(n).child("documents");return e===void 0?t:t.child(e)}function m0(n){const e=Ze.fromString(n);return Ke(w0(e),10190,{key:e.toString()}),e}function am(n,e){return lg(n.databaseId,e.path)}function Rp(n,e){const t=m0(e);if(t.get(1)!==n.databaseId.projectId)throw new ae(G.INVALID_ARGUMENT,"Tried to deserialize key from different project: "+t.get(1)+" vs "+n.databaseId.projectId);if(t.get(3)!==n.databaseId.database)throw new ae(G.INVALID_ARGUMENT,"Tried to deserialize key from different database: "+t.get(3)+" vs "+n.databaseId.database);return new Se(y0(t))}function g0(n,e){return lg(n.databaseId,e)}function YN(n){const e=m0(n);return e.length===4?Ze.emptyPath():y0(e)}function lm(n){return new Ze(["projects",n.databaseId.projectId,"databases",n.databaseId.database]).canonicalString()}function y0(n){return Ke(n.length>4&&n.get(4)==="documents",29091,{key:n.toString()}),n.popFirst(5)}function Ow(n,e,t){return{name:am(n,e),fields:t.value.mapValue.fields}}function JN(n,e){let t;if("targetChange"in e){e.targetChange;const r=(function(m){return m==="NO_CHANGE"?0:m==="ADD"?1:m==="REMOVE"?2:m==="CURRENT"?3:m==="RESET"?4:Pe(39313,{state:m})})(e.targetChange.targetChangeType||"NO_CHANGE"),s=e.targetChange.targetIds||[],a=(function(m,g){return m.useProto3Json?(Ke(g===void 0||typeof g=="string",58123),$t.fromBase64String(g||"")):(Ke(g===void 0||g instanceof Buffer||g instanceof Uint8Array,16193),$t.fromUint8Array(g||new Uint8Array))})(n,e.targetChange.resumeToken),u=e.targetChange.cause,d=u&&(function(m){const g=m.code===void 0?G.UNKNOWN:h0(m.code);return new ae(g,m.message||"")})(u);t=new f0(r,s,a,d||null)}else if("documentChange"in e){e.documentChange;const r=e.documentChange;r.document,r.document.name,r.document.updateTime;const s=Rp(n,r.document.name),a=Nr(r.document.updateTime),u=r.document.createTime?Nr(r.document.createTime):Ne.min(),d=new yn({mapValue:{fields:r.document.fields}}),f=Jt.newFoundDocument(s,a,u,d),m=r.targetIds||[],g=r.removedTargetIds||[];t=new Th(m,g,f.key,f)}else if("documentDelete"in e){e.documentDelete;const r=e.documentDelete;r.document;const s=Rp(n,r.document),a=r.readTime?Nr(r.readTime):Ne.min(),u=Jt.newNoDocument(s,a),d=r.removedTargetIds||[];t=new Th([],d,u.key,u)}else if("documentRemove"in e){e.documentRemove;const r=e.documentRemove;r.document;const s=Rp(n,r.document),a=r.removedTargetIds||[];t=new Th([],a,s,null)}else{if(!("filter"in e))return Pe(11601,{Vt:e});{e.filter;const r=e.filter;r.targetId;const{count:s=0,unchangedNames:a}=r,u=new jN(s,a),d=r.targetId;t=new d0(d,u)}}return t}function XN(n,e){let t;if(e instanceof ku)t={update:Ow(n,e.key,e.value)};else if(e instanceof vd)t={delete:am(n,e.key)};else if(e instanceof ds)t={update:Ow(n,e.key,e.data),updateMask:aO(e.fieldMask)};else{if(!(e instanceof MN))return Pe(16599,{dt:e.type});t={verify:am(n,e.key)}}return e.fieldTransforms.length>0&&(t.updateTransforms=e.fieldTransforms.map((r=>(function(a,u){const d=u.transform;if(d instanceof pu)return{fieldPath:u.field.canonicalString(),setToServerValue:"REQUEST_TIME"};if(d instanceof _a)return{fieldPath:u.field.canonicalString(),appendMissingElements:{values:d.elements}};if(d instanceof mu)return{fieldPath:u.field.canonicalString(),removeAllFromArray:{values:d.elements}};if(d instanceof gu)return{fieldPath:u.field.canonicalString(),increment:d.Ae};throw Pe(20930,{transform:u.transform})})(0,r)))),e.precondition.isNone||(t.currentDocument=(function(s,a){return a.updateTime!==void 0?{updateTime:QN(s,a.updateTime)}:a.exists!==void 0?{exists:a.exists}:Pe(27497)})(n,e.precondition)),t}function ZN(n,e){return n&&n.length>0?(Ke(e!==void 0,14353),n.map((t=>(function(s,a){let u=s.updateTime?Nr(s.updateTime):Nr(a);return u.isEqual(Ne.min())&&(u=Nr(a)),new DN(u,s.transformResults||[])})(t,e)))):[]}function eO(n,e){return{documents:[g0(n,e.path)]}}function tO(n,e){const t={structuredQuery:{}},r=e.path;let s;e.collectionGroup!==null?(s=r,t.structuredQuery.from=[{collectionId:e.collectionGroup,allDescendants:!0}]):(s=r.popLast(),t.structuredQuery.from=[{collectionId:r.lastSegment()}]),t.parent=g0(n,s);const a=(function(m){if(m.length!==0)return v0(or.create(m,"and"))})(e.filters);a&&(t.structuredQuery.where=a);const u=(function(m){if(m.length!==0)return m.map((g=>(function(w){return{field:na(w.field),direction:iO(w.dir)}})(g)))})(e.orderBy);u&&(t.structuredQuery.orderBy=u);const d=sm(n,e.limit);return d!==null&&(t.structuredQuery.limit=d),e.startAt&&(t.structuredQuery.startAt=(function(m){return{before:m.inclusive,values:m.position}})(e.startAt)),e.endAt&&(t.structuredQuery.endAt=(function(m){return{before:!m.inclusive,values:m.position}})(e.endAt)),{ft:t,parent:s}}function nO(n){let e=YN(n.parent);const t=n.structuredQuery,r=t.from?t.from.length:0;let s=null;if(r>0){Ke(r===1,65062);const g=t.from[0];g.allDescendants?s=g.collectionId:e=e.child(g.collectionId)}let a=[];t.where&&(a=(function(E){const w=_0(E);return w instanceof or&&GI(w)?w.getFilters():[w]})(t.where));let u=[];t.orderBy&&(u=(function(E){return E.map((w=>(function(M){return new fu(ra(M.field),(function(B){switch(B){case"ASCENDING":return"asc";case"DESCENDING":return"desc";default:return}})(M.direction))})(w)))})(t.orderBy));let d=null;t.limit&&(d=(function(E){let w;return w=typeof E=="object"?E.value:E,dd(w)?null:w})(t.limit));let f=null;t.startAt&&(f=(function(E){const w=!!E.before,R=E.values||[];return new Dh(R,w)})(t.startAt));let m=null;return t.endAt&&(m=(function(E){const w=!E.before,R=E.values||[];return new Dh(R,w)})(t.endAt)),wN(e,s,u,a,d,"F",f,m)}function rO(n,e){const t=(function(s){switch(s){case"TargetPurposeListen":return null;case"TargetPurposeExistenceFilterMismatch":return"existence-filter-mismatch";case"TargetPurposeExistenceFilterMismatchBloom":return"existence-filter-mismatch-bloom";case"TargetPurposeLimboResolution":return"limbo-document";default:return Pe(28987,{purpose:s})}})(e.purpose);return t==null?null:{"goog-listen-tags":t}}function _0(n){return n.unaryFilter!==void 0?(function(t){switch(t.unaryFilter.op){case"IS_NAN":const r=ra(t.unaryFilter.field);return Pt.create(r,"==",{doubleValue:NaN});case"IS_NULL":const s=ra(t.unaryFilter.field);return Pt.create(s,"==",{nullValue:"NULL_VALUE"});case"IS_NOT_NAN":const a=ra(t.unaryFilter.field);return Pt.create(a,"!=",{doubleValue:NaN});case"IS_NOT_NULL":const u=ra(t.unaryFilter.field);return Pt.create(u,"!=",{nullValue:"NULL_VALUE"});case"OPERATOR_UNSPECIFIED":return Pe(61313);default:return Pe(60726)}})(n):n.fieldFilter!==void 0?(function(t){return Pt.create(ra(t.fieldFilter.field),(function(s){switch(s){case"EQUAL":return"==";case"NOT_EQUAL":return"!=";case"GREATER_THAN":return">";case"GREATER_THAN_OR_EQUAL":return">=";case"LESS_THAN":return"<";case"LESS_THAN_OR_EQUAL":return"<=";case"ARRAY_CONTAINS":return"array-contains";case"IN":return"in";case"NOT_IN":return"not-in";case"ARRAY_CONTAINS_ANY":return"array-contains-any";case"OPERATOR_UNSPECIFIED":return Pe(58110);default:return Pe(50506)}})(t.fieldFilter.op),t.fieldFilter.value)})(n):n.compositeFilter!==void 0?(function(t){return or.create(t.compositeFilter.filters.map((r=>_0(r))),(function(s){switch(s){case"AND":return"and";case"OR":return"or";default:return Pe(1026)}})(t.compositeFilter.op))})(n):Pe(30097,{filter:n})}function iO(n){return qN[n]}function sO(n){return WN[n]}function oO(n){return GN[n]}function na(n){return{fieldPath:n.canonicalString()}}function ra(n){return Bt.fromServerFormat(n.fieldPath)}function v0(n){return n instanceof Pt?(function(t){if(t.op==="=="){if(vw(t.value))return{unaryFilter:{field:na(t.field),op:"IS_NAN"}};if(_w(t.value))return{unaryFilter:{field:na(t.field),op:"IS_NULL"}}}else if(t.op==="!="){if(vw(t.value))return{unaryFilter:{field:na(t.field),op:"IS_NOT_NAN"}};if(_w(t.value))return{unaryFilter:{field:na(t.field),op:"IS_NOT_NULL"}}}return{fieldFilter:{field:na(t.field),op:sO(t.op),value:t.value}}})(n):n instanceof or?(function(t){const r=t.getFilters().map((s=>v0(s)));return r.length===1?r[0]:{compositeFilter:{op:oO(t.op),filters:r}}})(n):Pe(54877,{filter:n})}function aO(n){const e=[];return n.fields.forEach((t=>e.push(t.canonicalString()))),{fieldPaths:e}}function w0(n){return n.length>=4&&n.get(0)==="projects"&&n.get(2)==="databases"}function E0(n){return!!n&&typeof n._toProto=="function"&&n._protoValueType==="ProtoValue"}class Xi{constructor(e,t,r,s,a=Ne.min(),u=Ne.min(),d=$t.EMPTY_BYTE_STRING,f=null){this.target=e,this.targetId=t,this.purpose=r,this.sequenceNumber=s,this.snapshotVersion=a,this.lastLimboFreeSnapshotVersion=u,this.resumeToken=d,this.expectedCount=f}withSequenceNumber(e){return new Xi(this.target,this.targetId,this.purpose,e,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,this.expectedCount)}withResumeToken(e,t){return new Xi(this.target,this.targetId,this.purpose,this.sequenceNumber,t,this.lastLimboFreeSnapshotVersion,e,null)}withExpectedCount(e){return new Xi(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,e)}withLastLimboFreeSnapshotVersion(e){return new Xi(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,e,this.resumeToken,this.expectedCount)}}class lO{constructor(e){this.yt=e}}function uO(n){const e=nO({parent:n.parent,structuredQuery:n.structuredQuery});return n.limitType==="LAST"?Lh(e,e.limit,"L"):e}class cO{constructor(){this.Sn=new hO}addToCollectionParentIndex(e,t){return this.Sn.add(t),K.resolve()}getCollectionParents(e,t){return K.resolve(this.Sn.getEntries(t))}addFieldIndex(e,t){return K.resolve()}deleteFieldIndex(e,t){return K.resolve()}deleteAllFieldIndexes(e){return K.resolve()}createTargetIndexes(e,t){return K.resolve()}getDocumentsMatchingTarget(e,t){return K.resolve(null)}getIndexType(e,t){return K.resolve(0)}getFieldIndexes(e,t){return K.resolve([])}getNextCollectionGroupToUpdate(e){return K.resolve(null)}getMinOffset(e,t){return K.resolve(is.min())}getMinOffsetFromCollectionGroup(e,t){return K.resolve(is.min())}updateCollectionGroup(e,t,r){return K.resolve()}updateIndexEntries(e,t){return K.resolve()}}class hO{constructor(){this.index={}}add(e){const t=e.lastSegment(),r=e.popLast(),s=this.index[t]||new Nt(Ze.comparator),a=!s.has(r);return this.index[t]=s.add(r),a}has(e){const t=e.lastSegment(),r=e.popLast(),s=this.index[t];return s&&s.has(r)}getEntries(e){return(this.index[e]||new Nt(Ze.comparator)).toArray()}}const xw={didRun:!1,sequenceNumbersCollected:0,targetsRemoved:0,documentsRemoved:0},T0=41943040;class mn{static withCacheSize(e){return new mn(e,mn.DEFAULT_COLLECTION_PERCENTILE,mn.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT)}constructor(e,t,r){this.cacheSizeCollectionThreshold=e,this.percentileToCollect=t,this.maximumSequenceNumbersToCollect=r}}mn.DEFAULT_COLLECTION_PERCENTILE=10,mn.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT=1e3,mn.DEFAULT=new mn(T0,mn.DEFAULT_COLLECTION_PERCENTILE,mn.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT),mn.DISABLED=new mn(-1,0,0);class va{constructor(e){this.sr=e}next(){return this.sr+=2,this.sr}static _r(){return new va(0)}static ar(){return new va(-1)}}const Dw="LruGarbageCollector",dO=1048576;function Lw([n,e],[t,r]){const s=Fe(n,t);return s===0?Fe(e,r):s}class fO{constructor(e){this.Pr=e,this.buffer=new Nt(Lw),this.Tr=0}Ir(){return++this.Tr}Er(e){const t=[e,this.Ir()];if(this.buffer.size<this.Pr)this.buffer=this.buffer.add(t);else{const r=this.buffer.last();Lw(t,r)<0&&(this.buffer=this.buffer.delete(r).add(t))}}get maxValue(){return this.buffer.last()[0]}}class pO{constructor(e,t,r){this.garbageCollector=e,this.asyncQueue=t,this.localStore=r,this.Rr=null}start(){this.garbageCollector.params.cacheSizeCollectionThreshold!==-1&&this.Ar(6e4)}stop(){this.Rr&&(this.Rr.cancel(),this.Rr=null)}get started(){return this.Rr!==null}Ar(e){de(Dw,`Garbage collection scheduled in ${e}ms`),this.Rr=this.asyncQueue.enqueueAfterDelay("lru_garbage_collection",e,(async()=>{this.Rr=null;try{await this.localStore.collectGarbage(this.garbageCollector)}catch(t){Ca(t)?de(Dw,"Ignoring IndexedDB error during garbage collection: ",t):await ka(t)}await this.Ar(3e5)}))}}class mO{constructor(e,t){this.Vr=e,this.params=t}calculateTargetCount(e,t){return this.Vr.dr(e).next((r=>Math.floor(t/100*r)))}nthSequenceNumber(e,t){if(t===0)return K.resolve(hd.ce);const r=new fO(t);return this.Vr.forEachTarget(e,(s=>r.Er(s.sequenceNumber))).next((()=>this.Vr.mr(e,(s=>r.Er(s))))).next((()=>r.maxValue))}removeTargets(e,t,r){return this.Vr.removeTargets(e,t,r)}removeOrphanedDocuments(e,t){return this.Vr.removeOrphanedDocuments(e,t)}collect(e,t){return this.params.cacheSizeCollectionThreshold===-1?(de("LruGarbageCollector","Garbage collection skipped; disabled"),K.resolve(xw)):this.getCacheSize(e).next((r=>r<this.params.cacheSizeCollectionThreshold?(de("LruGarbageCollector",`Garbage collection skipped; Cache size ${r} is lower than threshold ${this.params.cacheSizeCollectionThreshold}`),xw):this.gr(e,t)))}getCacheSize(e){return this.Vr.getCacheSize(e)}gr(e,t){let r,s,a,u,d,f,m;const g=Date.now();return this.calculateTargetCount(e,this.params.percentileToCollect).next((E=>(E>this.params.maximumSequenceNumbersToCollect?(de("LruGarbageCollector",`Capping sequence numbers to collect down to the maximum of ${this.params.maximumSequenceNumbersToCollect} from ${E}`),s=this.params.maximumSequenceNumbersToCollect):s=E,u=Date.now(),this.nthSequenceNumber(e,s)))).next((E=>(r=E,d=Date.now(),this.removeTargets(e,r,t)))).next((E=>(a=E,f=Date.now(),this.removeOrphanedDocuments(e,r)))).next((E=>(m=Date.now(),ea()<=Ue.DEBUG&&de("LruGarbageCollector",`LRU Garbage Collection
	Counted targets in ${u-g}ms
	Determined least recently used ${s} in `+(d-u)+`ms
	Removed ${a} targets in `+(f-d)+`ms
	Removed ${E} documents in `+(m-f)+`ms
Total Duration: ${m-g}ms`),K.resolve({didRun:!0,sequenceNumbersCollected:s,targetsRemoved:a,documentsRemoved:E}))))}}function gO(n,e){return new mO(n,e)}class yO{constructor(){this.changes=new oo((e=>e.toString()),((e,t)=>e.isEqual(t))),this.changesApplied=!1}addEntry(e){this.assertNotApplied(),this.changes.set(e.key,e)}removeEntry(e,t){this.assertNotApplied(),this.changes.set(e,Jt.newInvalidDocument(e).setReadTime(t))}getEntry(e,t){this.assertNotApplied();const r=this.changes.get(t);return r!==void 0?K.resolve(r):this.getFromCache(e,t)}getEntries(e,t){return this.getAllFromCache(e,t)}apply(e){return this.assertNotApplied(),this.changesApplied=!0,this.applyChanges(e)}assertNotApplied(){}}class _O{constructor(e,t){this.overlayedDocument=e,this.mutatedFields=t}}class vO{constructor(e,t,r,s){this.remoteDocumentCache=e,this.mutationQueue=t,this.documentOverlayCache=r,this.indexManager=s}getDocument(e,t){let r=null;return this.documentOverlayCache.getOverlay(e,t).next((s=>(r=s,this.remoteDocumentCache.getEntry(e,t)))).next((s=>(r!==null&&eu(r.mutation,s,Cn.empty(),rt.now()),s)))}getDocuments(e,t){return this.remoteDocumentCache.getEntries(e,t).next((r=>this.getLocalViewOfDocuments(e,r,je()).next((()=>r))))}getLocalViewOfDocuments(e,t,r=je()){const s=$s();return this.populateOverlays(e,s,t).next((()=>this.computeViews(e,t,s,r).next((a=>{let u=Bl();return a.forEach(((d,f)=>{u=u.insert(d,f.overlayedDocument)})),u}))))}getOverlayedDocuments(e,t){const r=$s();return this.populateOverlays(e,r,t).next((()=>this.computeViews(e,t,r,je())))}populateOverlays(e,t,r){const s=[];return r.forEach((a=>{t.has(a)||s.push(a)})),this.documentOverlayCache.getOverlays(e,s).next((a=>{a.forEach(((u,d)=>{t.set(u,d)}))}))}computeViews(e,t,r,s){let a=di();const u=Zl(),d=(function(){return Zl()})();return t.forEach(((f,m)=>{const g=r.get(m.key);s.has(m.key)&&(g===void 0||g.mutation instanceof ds)?a=a.insert(m.key,m):g!==void 0?(u.set(m.key,g.mutation.getFieldMask()),eu(g.mutation,m,g.mutation.getFieldMask(),rt.now())):u.set(m.key,Cn.empty())})),this.recalculateAndSaveOverlays(e,a).next((f=>(f.forEach(((m,g)=>u.set(m,g))),t.forEach(((m,g)=>d.set(m,new _O(g,u.get(m)??null)))),d)))}recalculateAndSaveOverlays(e,t){const r=Zl();let s=new ct(((u,d)=>u-d)),a=je();return this.mutationQueue.getAllMutationBatchesAffectingDocumentKeys(e,t).next((u=>{for(const d of u)d.keys().forEach((f=>{const m=t.get(f);if(m===null)return;let g=r.get(f)||Cn.empty();g=d.applyToLocalView(m,g),r.set(f,g);const E=(s.get(d.batchId)||je()).add(f);s=s.insert(d.batchId,E)}))})).next((()=>{const u=[],d=s.getReverseIterator();for(;d.hasNext();){const f=d.getNext(),m=f.key,g=f.value,E=n0();g.forEach((w=>{if(!a.has(w)){const R=u0(t.get(w),r.get(w));R!==null&&E.set(w,R),a=a.add(w)}})),u.push(this.documentOverlayCache.saveOverlays(e,m,E))}return K.waitFor(u)})).next((()=>r))}recalculateAndSaveOverlaysForDocumentKeys(e,t){return this.remoteDocumentCache.getEntries(e,t).next((r=>this.recalculateAndSaveOverlays(e,r)))}getDocumentsMatchingQuery(e,t,r,s){return EN(t)?this.getDocumentsMatchingDocumentQuery(e,t.path):JI(t)?this.getDocumentsMatchingCollectionGroupQuery(e,t,r,s):this.getDocumentsMatchingCollectionQuery(e,t,r,s)}getNextDocuments(e,t,r,s){return this.remoteDocumentCache.getAllFromCollectionGroup(e,t,r,s).next((a=>{const u=s-a.size>0?this.documentOverlayCache.getOverlaysForCollectionGroup(e,t,r.largestBatchId,s-a.size):K.resolve($s());let d=uu,f=a;return u.next((m=>K.forEach(m,((g,E)=>(d<E.largestBatchId&&(d=E.largestBatchId),a.get(g)?K.resolve():this.remoteDocumentCache.getEntry(e,g).next((w=>{f=f.insert(g,w)}))))).next((()=>this.populateOverlays(e,m,a))).next((()=>this.computeViews(e,f,m,je()))).next((g=>({batchId:d,changes:t0(g)})))))}))}getDocumentsMatchingDocumentQuery(e,t){return this.getDocument(e,new Se(t)).next((r=>{let s=Bl();return r.isFoundDocument()&&(s=s.insert(r.key,r)),s}))}getDocumentsMatchingCollectionGroupQuery(e,t,r,s){const a=t.collectionGroup;let u=Bl();return this.indexManager.getCollectionParents(e,a).next((d=>K.forEach(d,(f=>{const m=(function(E,w){return new ba(w,null,E.explicitOrderBy.slice(),E.filters.slice(),E.limit,E.limitType,E.startAt,E.endAt)})(t,f.child(a));return this.getDocumentsMatchingCollectionQuery(e,m,r,s).next((g=>{g.forEach(((E,w)=>{u=u.insert(E,w)}))}))})).next((()=>u))))}getDocumentsMatchingCollectionQuery(e,t,r,s){let a;return this.documentOverlayCache.getOverlaysForCollection(e,t.path,r.largestBatchId).next((u=>(a=u,this.remoteDocumentCache.getDocumentsMatchingQuery(e,t,r,a,s)))).next((u=>{a.forEach(((f,m)=>{const g=m.getKey();u.get(g)===null&&(u=u.insert(g,Jt.newInvalidDocument(g)))}));let d=Bl();return u.forEach(((f,m)=>{const g=a.get(f);g!==void 0&&eu(g.mutation,m,Cn.empty(),rt.now()),gd(t,m)&&(d=d.insert(f,m))})),d}))}}class wO{constructor(e){this.serializer=e,this.Nr=new Map,this.Br=new Map}getBundleMetadata(e,t){return K.resolve(this.Nr.get(t))}saveBundleMetadata(e,t){return this.Nr.set(t.id,(function(s){return{id:s.id,version:s.version,createTime:Nr(s.createTime)}})(t)),K.resolve()}getNamedQuery(e,t){return K.resolve(this.Br.get(t))}saveNamedQuery(e,t){return this.Br.set(t.name,(function(s){return{name:s.name,query:uO(s.bundledQuery),readTime:Nr(s.readTime)}})(t)),K.resolve()}}class EO{constructor(){this.overlays=new ct(Se.comparator),this.Lr=new Map}getOverlay(e,t){return K.resolve(this.overlays.get(t))}getOverlays(e,t){const r=$s();return K.forEach(t,(s=>this.getOverlay(e,s).next((a=>{a!==null&&r.set(s,a)})))).next((()=>r))}saveOverlays(e,t,r){return r.forEach(((s,a)=>{this.bt(e,t,a)})),K.resolve()}removeOverlaysForBatchId(e,t,r){const s=this.Lr.get(r);return s!==void 0&&(s.forEach((a=>this.overlays=this.overlays.remove(a))),this.Lr.delete(r)),K.resolve()}getOverlaysForCollection(e,t,r){const s=$s(),a=t.length+1,u=new Se(t.child("")),d=this.overlays.getIteratorFrom(u);for(;d.hasNext();){const f=d.getNext().value,m=f.getKey();if(!t.isPrefixOf(m.path))break;m.path.length===a&&f.largestBatchId>r&&s.set(f.getKey(),f)}return K.resolve(s)}getOverlaysForCollectionGroup(e,t,r,s){let a=new ct(((m,g)=>m-g));const u=this.overlays.getIterator();for(;u.hasNext();){const m=u.getNext().value;if(m.getKey().getCollectionGroup()===t&&m.largestBatchId>r){let g=a.get(m.largestBatchId);g===null&&(g=$s(),a=a.insert(m.largestBatchId,g)),g.set(m.getKey(),m)}}const d=$s(),f=a.getIterator();for(;f.hasNext()&&(f.getNext().value.forEach(((m,g)=>d.set(m,g))),!(d.size()>=s)););return K.resolve(d)}bt(e,t,r){const s=this.overlays.get(r.key);if(s!==null){const u=this.Lr.get(s.largestBatchId).delete(r.key);this.Lr.set(s.largestBatchId,u)}this.overlays=this.overlays.insert(r.key,new FN(t,r));let a=this.Lr.get(t);a===void 0&&(a=je(),this.Lr.set(t,a)),this.Lr.set(t,a.add(r.key))}}class TO{constructor(){this.sessionToken=$t.EMPTY_BYTE_STRING}getSessionToken(e){return K.resolve(this.sessionToken)}setSessionToken(e,t){return this.sessionToken=t,K.resolve()}}class ug{constructor(){this.kr=new Nt(Lt.Kr),this.qr=new Nt(Lt.Ur)}isEmpty(){return this.kr.isEmpty()}addReference(e,t){const r=new Lt(e,t);this.kr=this.kr.add(r),this.qr=this.qr.add(r)}$r(e,t){e.forEach((r=>this.addReference(r,t)))}removeReference(e,t){this.Wr(new Lt(e,t))}Qr(e,t){e.forEach((r=>this.removeReference(r,t)))}Gr(e){const t=new Se(new Ze([])),r=new Lt(t,e),s=new Lt(t,e+1),a=[];return this.qr.forEachInRange([r,s],(u=>{this.Wr(u),a.push(u.key)})),a}zr(){this.kr.forEach((e=>this.Wr(e)))}Wr(e){this.kr=this.kr.delete(e),this.qr=this.qr.delete(e)}jr(e){const t=new Se(new Ze([])),r=new Lt(t,e),s=new Lt(t,e+1);let a=je();return this.qr.forEachInRange([r,s],(u=>{a=a.add(u.key)})),a}containsKey(e){const t=new Lt(e,0),r=this.kr.firstAfterOrEqual(t);return r!==null&&e.isEqual(r.key)}}class Lt{constructor(e,t){this.key=e,this.Hr=t}static Kr(e,t){return Se.comparator(e.key,t.key)||Fe(e.Hr,t.Hr)}static Ur(e,t){return Fe(e.Hr,t.Hr)||Se.comparator(e.key,t.key)}}class IO{constructor(e,t){this.indexManager=e,this.referenceDelegate=t,this.mutationQueue=[],this.Yn=1,this.Jr=new Nt(Lt.Kr)}checkEmpty(e){return K.resolve(this.mutationQueue.length===0)}addMutationBatch(e,t,r,s){const a=this.Yn;this.Yn++,this.mutationQueue.length>0&&this.mutationQueue[this.mutationQueue.length-1];const u=new UN(a,t,r,s);this.mutationQueue.push(u);for(const d of s)this.Jr=this.Jr.add(new Lt(d.key,a)),this.indexManager.addToCollectionParentIndex(e,d.key.path.popLast());return K.resolve(u)}lookupMutationBatch(e,t){return K.resolve(this.Zr(t))}getNextMutationBatchAfterBatchId(e,t){const r=t+1,s=this.Xr(r),a=s<0?0:s;return K.resolve(this.mutationQueue.length>a?this.mutationQueue[a]:null)}getHighestUnacknowledgedBatchId(){return K.resolve(this.mutationQueue.length===0?Zm:this.Yn-1)}getAllMutationBatches(e){return K.resolve(this.mutationQueue.slice())}getAllMutationBatchesAffectingDocumentKey(e,t){const r=new Lt(t,0),s=new Lt(t,Number.POSITIVE_INFINITY),a=[];return this.Jr.forEachInRange([r,s],(u=>{const d=this.Zr(u.Hr);a.push(d)})),K.resolve(a)}getAllMutationBatchesAffectingDocumentKeys(e,t){let r=new Nt(Fe);return t.forEach((s=>{const a=new Lt(s,0),u=new Lt(s,Number.POSITIVE_INFINITY);this.Jr.forEachInRange([a,u],(d=>{r=r.add(d.Hr)}))})),K.resolve(this.Yr(r))}getAllMutationBatchesAffectingQuery(e,t){const r=t.path,s=r.length+1;let a=r;Se.isDocumentKey(a)||(a=a.child(""));const u=new Lt(new Se(a),0);let d=new Nt(Fe);return this.Jr.forEachWhile((f=>{const m=f.key.path;return!!r.isPrefixOf(m)&&(m.length===s&&(d=d.add(f.Hr)),!0)}),u),K.resolve(this.Yr(d))}Yr(e){const t=[];return e.forEach((r=>{const s=this.Zr(r);s!==null&&t.push(s)})),t}removeMutationBatch(e,t){Ke(this.ei(t.batchId,"removed")===0,55003),this.mutationQueue.shift();let r=this.Jr;return K.forEach(t.mutations,(s=>{const a=new Lt(s.key,t.batchId);return r=r.delete(a),this.referenceDelegate.markPotentiallyOrphaned(e,s.key)})).next((()=>{this.Jr=r}))}nr(e){}containsKey(e,t){const r=new Lt(t,0),s=this.Jr.firstAfterOrEqual(r);return K.resolve(t.isEqual(s&&s.key))}performConsistencyCheck(e){return this.mutationQueue.length,K.resolve()}ei(e,t){return this.Xr(e)}Xr(e){return this.mutationQueue.length===0?0:e-this.mutationQueue[0].batchId}Zr(e){const t=this.Xr(e);return t<0||t>=this.mutationQueue.length?null:this.mutationQueue[t]}}class SO{constructor(e){this.ti=e,this.docs=(function(){return new ct(Se.comparator)})(),this.size=0}setIndexManager(e){this.indexManager=e}addEntry(e,t){const r=t.key,s=this.docs.get(r),a=s?s.size:0,u=this.ti(t);return this.docs=this.docs.insert(r,{document:t.mutableCopy(),size:u}),this.size+=u-a,this.indexManager.addToCollectionParentIndex(e,r.path.popLast())}removeEntry(e){const t=this.docs.get(e);t&&(this.docs=this.docs.remove(e),this.size-=t.size)}getEntry(e,t){const r=this.docs.get(t);return K.resolve(r?r.document.mutableCopy():Jt.newInvalidDocument(t))}getEntries(e,t){let r=di();return t.forEach((s=>{const a=this.docs.get(s);r=r.insert(s,a?a.document.mutableCopy():Jt.newInvalidDocument(s))})),K.resolve(r)}getDocumentsMatchingQuery(e,t,r,s){let a=di();const u=t.path,d=new Se(u.child("__id-9223372036854775808__")),f=this.docs.getIteratorFrom(d);for(;f.hasNext();){const{key:m,value:{document:g}}=f.getNext();if(!u.isPrefixOf(m.path))break;m.path.length>u.length+1||Jb(Yb(g),r)<=0||(s.has(g.key)||gd(t,g))&&(a=a.insert(g.key,g.mutableCopy()))}return K.resolve(a)}getAllFromCollectionGroup(e,t,r,s){Pe(9500)}ni(e,t){return K.forEach(this.docs,(r=>t(r)))}newChangeBuffer(e){return new AO(this)}getSize(e){return K.resolve(this.size)}}class AO extends yO{constructor(e){super(),this.Mr=e}applyChanges(e){const t=[];return this.changes.forEach(((r,s)=>{s.isValidDocument()?t.push(this.Mr.addEntry(e,s)):this.Mr.removeEntry(r)})),K.waitFor(t)}getFromCache(e,t){return this.Mr.getEntry(e,t)}getAllFromCache(e,t){return this.Mr.getEntries(e,t)}}class RO{constructor(e){this.persistence=e,this.ri=new oo((t=>ng(t)),rg),this.lastRemoteSnapshotVersion=Ne.min(),this.highestTargetId=0,this.ii=0,this.si=new ug,this.targetCount=0,this.oi=va._r()}forEachTarget(e,t){return this.ri.forEach(((r,s)=>t(s))),K.resolve()}getLastRemoteSnapshotVersion(e){return K.resolve(this.lastRemoteSnapshotVersion)}getHighestSequenceNumber(e){return K.resolve(this.ii)}allocateTargetId(e){return this.highestTargetId=this.oi.next(),K.resolve(this.highestTargetId)}setTargetsMetadata(e,t,r){return r&&(this.lastRemoteSnapshotVersion=r),t>this.ii&&(this.ii=t),K.resolve()}lr(e){this.ri.set(e.target,e);const t=e.targetId;t>this.highestTargetId&&(this.oi=new va(t),this.highestTargetId=t),e.sequenceNumber>this.ii&&(this.ii=e.sequenceNumber)}addTargetData(e,t){return this.lr(t),this.targetCount+=1,K.resolve()}updateTargetData(e,t){return this.lr(t),K.resolve()}removeTargetData(e,t){return this.ri.delete(t.target),this.si.Gr(t.targetId),this.targetCount-=1,K.resolve()}removeTargets(e,t,r){let s=0;const a=[];return this.ri.forEach(((u,d)=>{d.sequenceNumber<=t&&r.get(d.targetId)===null&&(this.ri.delete(u),a.push(this.removeMatchingKeysForTargetId(e,d.targetId)),s++)})),K.waitFor(a).next((()=>s))}getTargetCount(e){return K.resolve(this.targetCount)}getTargetData(e,t){const r=this.ri.get(t)||null;return K.resolve(r)}addMatchingKeys(e,t,r){return this.si.$r(t,r),K.resolve()}removeMatchingKeys(e,t,r){this.si.Qr(t,r);const s=this.persistence.referenceDelegate,a=[];return s&&t.forEach((u=>{a.push(s.markPotentiallyOrphaned(e,u))})),K.waitFor(a)}removeMatchingKeysForTargetId(e,t){return this.si.Gr(t),K.resolve()}getMatchingKeysForTargetId(e,t){const r=this.si.jr(t);return K.resolve(r)}containsKey(e,t){return K.resolve(this.si.containsKey(t))}}class I0{constructor(e,t){this._i={},this.overlays={},this.ai=new hd(0),this.ui=!1,this.ui=!0,this.ci=new TO,this.referenceDelegate=e(this),this.li=new RO(this),this.indexManager=new cO,this.remoteDocumentCache=(function(s){return new SO(s)})((r=>this.referenceDelegate.hi(r))),this.serializer=new lO(t),this.Pi=new wO(this.serializer)}start(){return Promise.resolve()}shutdown(){return this.ui=!1,Promise.resolve()}get started(){return this.ui}setDatabaseDeletedListener(){}setNetworkEnabled(){}getIndexManager(e){return this.indexManager}getDocumentOverlayCache(e){let t=this.overlays[e.toKey()];return t||(t=new EO,this.overlays[e.toKey()]=t),t}getMutationQueue(e,t){let r=this._i[e.toKey()];return r||(r=new IO(t,this.referenceDelegate),this._i[e.toKey()]=r),r}getGlobalsCache(){return this.ci}getTargetCache(){return this.li}getRemoteDocumentCache(){return this.remoteDocumentCache}getBundleCache(){return this.Pi}runTransaction(e,t,r){de("MemoryPersistence","Starting transaction:",e);const s=new PO(this.ai.next());return this.referenceDelegate.Ti(),r(s).next((a=>this.referenceDelegate.Ii(s).next((()=>a)))).toPromise().then((a=>(s.raiseOnCommittedEvent(),a)))}Ei(e,t){return K.or(Object.values(this._i).map((r=>()=>r.containsKey(e,t))))}}class PO extends Zb{constructor(e){super(),this.currentSequenceNumber=e}}class cg{constructor(e){this.persistence=e,this.Ri=new ug,this.Ai=null}static Vi(e){return new cg(e)}get di(){if(this.Ai)return this.Ai;throw Pe(60996)}addReference(e,t,r){return this.Ri.addReference(r,t),this.di.delete(r.toString()),K.resolve()}removeReference(e,t,r){return this.Ri.removeReference(r,t),this.di.add(r.toString()),K.resolve()}markPotentiallyOrphaned(e,t){return this.di.add(t.toString()),K.resolve()}removeTarget(e,t){this.Ri.Gr(t.targetId).forEach((s=>this.di.add(s.toString())));const r=this.persistence.getTargetCache();return r.getMatchingKeysForTargetId(e,t.targetId).next((s=>{s.forEach((a=>this.di.add(a.toString())))})).next((()=>r.removeTargetData(e,t)))}Ti(){this.Ai=new Set}Ii(e){const t=this.persistence.getRemoteDocumentCache().newChangeBuffer();return K.forEach(this.di,(r=>{const s=Se.fromPath(r);return this.mi(e,s).next((a=>{a||t.removeEntry(s,Ne.min())}))})).next((()=>(this.Ai=null,t.apply(e))))}updateLimboDocument(e,t){return this.mi(e,t).next((r=>{r?this.di.delete(t.toString()):this.di.add(t.toString())}))}hi(e){return 0}mi(e,t){return K.or([()=>K.resolve(this.Ri.containsKey(t)),()=>this.persistence.getTargetCache().containsKey(e,t),()=>this.persistence.Ei(e,t)])}}class Mh{constructor(e,t){this.persistence=e,this.fi=new oo((r=>nN(r.path)),((r,s)=>r.isEqual(s))),this.garbageCollector=gO(this,t)}static Vi(e,t){return new Mh(e,t)}Ti(){}Ii(e){return K.resolve()}forEachTarget(e,t){return this.persistence.getTargetCache().forEachTarget(e,t)}dr(e){const t=this.pr(e);return this.persistence.getTargetCache().getTargetCount(e).next((r=>t.next((s=>r+s))))}pr(e){let t=0;return this.mr(e,(r=>{t++})).next((()=>t))}mr(e,t){return K.forEach(this.fi,((r,s)=>this.wr(e,r,s).next((a=>a?K.resolve():t(s)))))}removeTargets(e,t,r){return this.persistence.getTargetCache().removeTargets(e,t,r)}removeOrphanedDocuments(e,t){let r=0;const s=this.persistence.getRemoteDocumentCache(),a=s.newChangeBuffer();return s.ni(e,(u=>this.wr(e,u,t).next((d=>{d||(r++,a.removeEntry(u,Ne.min()))})))).next((()=>a.apply(e))).next((()=>r))}markPotentiallyOrphaned(e,t){return this.fi.set(t,e.currentSequenceNumber),K.resolve()}removeTarget(e,t){const r=t.withSequenceNumber(e.currentSequenceNumber);return this.persistence.getTargetCache().updateTargetData(e,r)}addReference(e,t,r){return this.fi.set(r,e.currentSequenceNumber),K.resolve()}removeReference(e,t,r){return this.fi.set(r,e.currentSequenceNumber),K.resolve()}updateLimboDocument(e,t){return this.fi.set(t,e.currentSequenceNumber),K.resolve()}hi(e){let t=e.key.toString().length;return e.isFoundDocument()&&(t+=vh(e.data.value)),t}wr(e,t,r){return K.or([()=>this.persistence.Ei(e,t),()=>this.persistence.getTargetCache().containsKey(e,t),()=>{const s=this.fi.get(t);return K.resolve(s!==void 0&&s>r)}])}getCacheSize(e){return this.persistence.getRemoteDocumentCache().getSize(e)}}class hg{constructor(e,t,r,s){this.targetId=e,this.fromCache=t,this.Ts=r,this.Is=s}static Es(e,t){let r=je(),s=je();for(const a of t.docChanges)switch(a.type){case 0:r=r.add(a.doc.key);break;case 1:s=s.add(a.doc.key)}return new hg(e,t.fromCache,r,s)}}class kO{constructor(){this._documentReadCount=0}get documentReadCount(){return this._documentReadCount}incrementDocumentReadCount(e){this._documentReadCount+=e}}class CO{constructor(){this.Rs=!1,this.As=!1,this.Vs=100,this.ds=(function(){return vP()?8:eN(Zt())>0?6:4})()}initialize(e,t){this.fs=e,this.indexManager=t,this.Rs=!0}getDocumentsMatchingQuery(e,t,r,s){const a={result:null};return this.gs(e,t).next((u=>{a.result=u})).next((()=>{if(!a.result)return this.ps(e,t,s,r).next((u=>{a.result=u}))})).next((()=>{if(a.result)return;const u=new kO;return this.ys(e,t,u).next((d=>{if(a.result=d,this.As)return this.ws(e,t,u,d.size)}))})).next((()=>a.result))}ws(e,t,r,s){return r.documentReadCount<this.Vs?(ea()<=Ue.DEBUG&&de("QueryEngine","SDK will not create cache indexes for query:",ta(t),"since it only creates cache indexes for collection contains","more than or equal to",this.Vs,"documents"),K.resolve()):(ea()<=Ue.DEBUG&&de("QueryEngine","Query:",ta(t),"scans",r.documentReadCount,"local documents and returns",s,"documents as results."),r.documentReadCount>this.ds*s?(ea()<=Ue.DEBUG&&de("QueryEngine","The SDK decides to create cache indexes for query:",ta(t),"as using cache indexes may help improve performance."),this.indexManager.createTargetIndexes(e,br(t))):K.resolve())}gs(e,t){if(Iw(t))return K.resolve(null);let r=br(t);return this.indexManager.getIndexType(e,r).next((s=>s===0?null:(t.limit!==null&&s===1&&(t=Lh(t,null,"F"),r=br(t)),this.indexManager.getDocumentsMatchingTarget(e,r).next((a=>{const u=je(...a);return this.fs.getDocuments(e,u).next((d=>this.indexManager.getMinOffset(e,r).next((f=>{const m=this.bs(t,d);return this.Ss(t,m,u,f.readTime)?this.gs(e,Lh(t,null,"F")):this.Ds(e,m,t,f)}))))})))))}ps(e,t,r,s){return Iw(t)||s.isEqual(Ne.min())?K.resolve(null):this.fs.getDocuments(e,r).next((a=>{const u=this.bs(t,a);return this.Ss(t,u,r,s)?K.resolve(null):(ea()<=Ue.DEBUG&&de("QueryEngine","Re-using previous result from %s to execute query: %s",s.toString(),ta(t)),this.Ds(e,u,t,Qb(s,uu)).next((d=>d)))}))}bs(e,t){let r=new Nt(ZI(e));return t.forEach(((s,a)=>{gd(e,a)&&(r=r.add(a))})),r}Ss(e,t,r,s){if(e.limit===null)return!1;if(r.size!==t.size)return!0;const a=e.limitType==="F"?t.last():t.first();return!!a&&(a.hasPendingWrites||a.version.compareTo(s)>0)}ys(e,t,r){return ea()<=Ue.DEBUG&&de("QueryEngine","Using full collection scan to execute query:",ta(t)),this.fs.getDocumentsMatchingQuery(e,t,is.min(),r)}Ds(e,t,r,s){return this.fs.getDocumentsMatchingQuery(e,r,s).next((a=>(t.forEach((u=>{a=a.insert(u.key,u)})),a)))}}const dg="LocalStore",bO=3e8;class NO{constructor(e,t,r,s){this.persistence=e,this.Cs=t,this.serializer=s,this.vs=new ct(Fe),this.Fs=new oo((a=>ng(a)),rg),this.Ms=new Map,this.xs=e.getRemoteDocumentCache(),this.li=e.getTargetCache(),this.Pi=e.getBundleCache(),this.Os(r)}Os(e){this.documentOverlayCache=this.persistence.getDocumentOverlayCache(e),this.indexManager=this.persistence.getIndexManager(e),this.mutationQueue=this.persistence.getMutationQueue(e,this.indexManager),this.localDocuments=new vO(this.xs,this.mutationQueue,this.documentOverlayCache,this.indexManager),this.xs.setIndexManager(this.indexManager),this.Cs.initialize(this.localDocuments,this.indexManager)}collectGarbage(e){return this.persistence.runTransaction("Collect garbage","readwrite-primary",(t=>e.collect(t,this.vs)))}}function OO(n,e,t,r){return new NO(n,e,t,r)}async function S0(n,e){const t=De(n);return await t.persistence.runTransaction("Handle user change","readonly",(r=>{let s;return t.mutationQueue.getAllMutationBatches(r).next((a=>(s=a,t.Os(e),t.mutationQueue.getAllMutationBatches(r)))).next((a=>{const u=[],d=[];let f=je();for(const m of s){u.push(m.batchId);for(const g of m.mutations)f=f.add(g.key)}for(const m of a){d.push(m.batchId);for(const g of m.mutations)f=f.add(g.key)}return t.localDocuments.getDocuments(r,f).next((m=>({Ns:m,removedBatchIds:u,addedBatchIds:d})))}))}))}function xO(n,e){const t=De(n);return t.persistence.runTransaction("Acknowledge batch","readwrite-primary",(r=>{const s=e.batch.keys(),a=t.xs.newChangeBuffer({trackRemovals:!0});return(function(d,f,m,g){const E=m.batch,w=E.keys();let R=K.resolve();return w.forEach((M=>{R=R.next((()=>g.getEntry(f,M))).next(($=>{const B=m.docVersions.get(M);Ke(B!==null,48541),$.version.compareTo(B)<0&&(E.applyToRemoteDocument($,m),$.isValidDocument()&&($.setReadTime(m.commitVersion),g.addEntry($)))}))})),R.next((()=>d.mutationQueue.removeMutationBatch(f,E)))})(t,r,e,a).next((()=>a.apply(r))).next((()=>t.mutationQueue.performConsistencyCheck(r))).next((()=>t.documentOverlayCache.removeOverlaysForBatchId(r,s,e.batch.batchId))).next((()=>t.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(r,(function(d){let f=je();for(let m=0;m<d.mutationResults.length;++m)d.mutationResults[m].transformResults.length>0&&(f=f.add(d.batch.mutations[m].key));return f})(e)))).next((()=>t.localDocuments.getDocuments(r,s)))}))}function A0(n){const e=De(n);return e.persistence.runTransaction("Get last remote snapshot version","readonly",(t=>e.li.getLastRemoteSnapshotVersion(t)))}function DO(n,e){const t=De(n),r=e.snapshotVersion;let s=t.vs;return t.persistence.runTransaction("Apply remote event","readwrite-primary",(a=>{const u=t.xs.newChangeBuffer({trackRemovals:!0});s=t.vs;const d=[];e.targetChanges.forEach(((g,E)=>{const w=s.get(E);if(!w)return;d.push(t.li.removeMatchingKeys(a,g.removedDocuments,E).next((()=>t.li.addMatchingKeys(a,g.addedDocuments,E))));let R=w.withSequenceNumber(a.currentSequenceNumber);e.targetMismatches.get(E)!==null?R=R.withResumeToken($t.EMPTY_BYTE_STRING,Ne.min()).withLastLimboFreeSnapshotVersion(Ne.min()):g.resumeToken.approximateByteSize()>0&&(R=R.withResumeToken(g.resumeToken,r)),s=s.insert(E,R),(function($,B,te){return $.resumeToken.approximateByteSize()===0||B.snapshotVersion.toMicroseconds()-$.snapshotVersion.toMicroseconds()>=bO?!0:te.addedDocuments.size+te.modifiedDocuments.size+te.removedDocuments.size>0})(w,R,g)&&d.push(t.li.updateTargetData(a,R))}));let f=di(),m=je();if(e.documentUpdates.forEach((g=>{e.resolvedLimboDocuments.has(g)&&d.push(t.persistence.referenceDelegate.updateLimboDocument(a,g))})),d.push(LO(a,u,e.documentUpdates).next((g=>{f=g.Bs,m=g.Ls}))),!r.isEqual(Ne.min())){const g=t.li.getLastRemoteSnapshotVersion(a).next((E=>t.li.setTargetsMetadata(a,a.currentSequenceNumber,r)));d.push(g)}return K.waitFor(d).next((()=>u.apply(a))).next((()=>t.localDocuments.getLocalViewOfDocuments(a,f,m))).next((()=>f))})).then((a=>(t.vs=s,a)))}function LO(n,e,t){let r=je(),s=je();return t.forEach((a=>r=r.add(a))),e.getEntries(n,r).next((a=>{let u=di();return t.forEach(((d,f)=>{const m=a.get(d);f.isFoundDocument()!==m.isFoundDocument()&&(s=s.add(d)),f.isNoDocument()&&f.version.isEqual(Ne.min())?(e.removeEntry(d,f.readTime),u=u.insert(d,f)):!m.isValidDocument()||f.version.compareTo(m.version)>0||f.version.compareTo(m.version)===0&&m.hasPendingWrites?(e.addEntry(f),u=u.insert(d,f)):de(dg,"Ignoring outdated watch update for ",d,". Current version:",m.version," Watch version:",f.version)})),{Bs:u,Ls:s}}))}function VO(n,e){const t=De(n);return t.persistence.runTransaction("Get next mutation batch","readonly",(r=>(e===void 0&&(e=Zm),t.mutationQueue.getNextMutationBatchAfterBatchId(r,e))))}function MO(n,e){const t=De(n);return t.persistence.runTransaction("Allocate target","readwrite",(r=>{let s;return t.li.getTargetData(r,e).next((a=>a?(s=a,K.resolve(s)):t.li.allocateTargetId(r).next((u=>(s=new Xi(e,u,"TargetPurposeListen",r.currentSequenceNumber),t.li.addTargetData(r,s).next((()=>s)))))))})).then((r=>{const s=t.vs.get(r.targetId);return(s===null||r.snapshotVersion.compareTo(s.snapshotVersion)>0)&&(t.vs=t.vs.insert(r.targetId,r),t.Fs.set(e,r.targetId)),r}))}async function um(n,e,t){const r=De(n),s=r.vs.get(e),a=t?"readwrite":"readwrite-primary";try{t||await r.persistence.runTransaction("Release target",a,(u=>r.persistence.referenceDelegate.removeTarget(u,s)))}catch(u){if(!Ca(u))throw u;de(dg,`Failed to update sequence numbers for target ${e}: ${u}`)}r.vs=r.vs.remove(e),r.Fs.delete(s.target)}function Vw(n,e,t){const r=De(n);let s=Ne.min(),a=je();return r.persistence.runTransaction("Execute query","readwrite",(u=>(function(f,m,g){const E=De(f),w=E.Fs.get(g);return w!==void 0?K.resolve(E.vs.get(w)):E.li.getTargetData(m,g)})(r,u,br(e)).next((d=>{if(d)return s=d.lastLimboFreeSnapshotVersion,r.li.getMatchingKeysForTargetId(u,d.targetId).next((f=>{a=f}))})).next((()=>r.Cs.getDocumentsMatchingQuery(u,e,t?s:Ne.min(),t?a:je()))).next((d=>(UO(r,SN(e),d),{documents:d,ks:a})))))}function UO(n,e,t){let r=n.Ms.get(e)||Ne.min();t.forEach(((s,a)=>{a.readTime.compareTo(r)>0&&(r=a.readTime)})),n.Ms.set(e,r)}class Mw{constructor(){this.activeTargetIds=bN()}Qs(e){this.activeTargetIds=this.activeTargetIds.add(e)}Gs(e){this.activeTargetIds=this.activeTargetIds.delete(e)}Ws(){const e={activeTargetIds:this.activeTargetIds.toArray(),updateTimeMs:Date.now()};return JSON.stringify(e)}}class FO{constructor(){this.vo=new Mw,this.Fo={},this.onlineStateHandler=null,this.sequenceNumberHandler=null}addPendingMutation(e){}updateMutationState(e,t,r){}addLocalQueryTarget(e,t=!0){return t&&this.vo.Qs(e),this.Fo[e]||"not-current"}updateQueryState(e,t,r){this.Fo[e]=t}removeLocalQueryTarget(e){this.vo.Gs(e)}isLocalQueryTarget(e){return this.vo.activeTargetIds.has(e)}clearQueryState(e){delete this.Fo[e]}getAllActiveQueryTargets(){return this.vo.activeTargetIds}isActiveQueryTarget(e){return this.vo.activeTargetIds.has(e)}start(){return this.vo=new Mw,Promise.resolve()}handleUserChange(e,t,r){}setOnlineState(e){}shutdown(){}writeSequenceNumber(e){}notifyBundleLoaded(e){}}class jO{Mo(e){}shutdown(){}}const Uw="ConnectivityMonitor";class Fw{constructor(){this.xo=()=>this.Oo(),this.No=()=>this.Bo(),this.Lo=[],this.ko()}Mo(e){this.Lo.push(e)}shutdown(){window.removeEventListener("online",this.xo),window.removeEventListener("offline",this.No)}ko(){window.addEventListener("online",this.xo),window.addEventListener("offline",this.No)}Oo(){de(Uw,"Network connectivity changed: AVAILABLE");for(const e of this.Lo)e(0)}Bo(){de(Uw,"Network connectivity changed: UNAVAILABLE");for(const e of this.Lo)e(1)}static v(){return typeof window<"u"&&window.addEventListener!==void 0&&window.removeEventListener!==void 0}}let oh=null;function cm(){return oh===null?oh=(function(){return 268435456+Math.round(2147483648*Math.random())})():oh++,"0x"+oh.toString(16)}const Pp="RestConnection",zO={BatchGetDocuments:"batchGet",Commit:"commit",RunQuery:"runQuery",RunAggregationQuery:"runAggregationQuery",ExecutePipeline:"executePipeline"};class BO{get Ko(){return!1}constructor(e){this.databaseInfo=e,this.databaseId=e.databaseId;const t=e.ssl?"https":"http",r=encodeURIComponent(this.databaseId.projectId),s=encodeURIComponent(this.databaseId.database);this.qo=t+"://"+e.host,this.Uo=`projects/${r}/databases/${s}`,this.$o=this.databaseId.database===Oh?`project_id=${r}`:`project_id=${r}&database_id=${s}`}Wo(e,t,r,s,a){const u=cm(),d=this.Qo(e,t.toUriEncodedString());de(Pp,`Sending RPC '${e}' ${u}:`,d,r);const f={"google-cloud-resource-prefix":this.Uo,"x-goog-request-params":this.$o};this.Go(f,s,a);const{host:m}=new URL(d),g=Lr(m);return this.zo(e,d,f,r,g).then((E=>(de(Pp,`Received RPC '${e}' ${u}: `,E),E)),(E=>{throw pa(Pp,`RPC '${e}' ${u} failed with error: `,E,"url: ",d,"request:",r),E}))}jo(e,t,r,s,a,u){return this.Wo(e,t,r,s,a)}Go(e,t,r){e["X-Goog-Api-Client"]=(function(){return"gl-js/ fire/"+Pa})(),e["Content-Type"]="text/plain",this.databaseInfo.appId&&(e["X-Firebase-GMPID"]=this.databaseInfo.appId),t&&t.headers.forEach(((s,a)=>e[a]=s)),r&&r.headers.forEach(((s,a)=>e[a]=s))}Qo(e,t){const r=zO[e];let s=`${this.qo}/v1/${t}:${r}`;return this.databaseInfo.apiKey&&(s=`${s}?key=${encodeURIComponent(this.databaseInfo.apiKey)}`),s}terminate(){}}class $O{constructor(e){this.Ho=e.Ho,this.Jo=e.Jo}Zo(e){this.Xo=e}Yo(e){this.e_=e}t_(e){this.n_=e}onMessage(e){this.r_=e}close(){this.Jo()}send(e){this.Ho(e)}i_(){this.Xo()}s_(){this.e_()}o_(e){this.n_(e)}__(e){this.r_(e)}}const Qt="WebChannelConnection",xl=(n,e,t)=>{n.listen(e,(r=>{try{t(r)}catch(s){setTimeout((()=>{throw s}),0)}}))};class ha extends BO{constructor(e){super(e),this.a_=[],this.forceLongPolling=e.forceLongPolling,this.autoDetectLongPolling=e.autoDetectLongPolling,this.useFetchStreams=e.useFetchStreams,this.longPollingOptions=e.longPollingOptions}static u_(){if(!ha.c_){const e=CI();xl(e,kI.STAT_EVENT,(t=>{t.stat===Xp.PROXY?de(Qt,"STAT_EVENT: detected buffering proxy"):t.stat===Xp.NOPROXY&&de(Qt,"STAT_EVENT: detected no buffering proxy")})),ha.c_=!0}}zo(e,t,r,s,a){const u=cm();return new Promise(((d,f)=>{const m=new RI;m.setWithCredentials(!0),m.listenOnce(PI.COMPLETE,(()=>{try{switch(m.getLastErrorCode()){case _h.NO_ERROR:const E=m.getResponseJson();de(Qt,`XHR for RPC '${e}' ${u} received:`,JSON.stringify(E)),d(E);break;case _h.TIMEOUT:de(Qt,`RPC '${e}' ${u} timed out`),f(new ae(G.DEADLINE_EXCEEDED,"Request time out"));break;case _h.HTTP_ERROR:const w=m.getStatus();if(de(Qt,`RPC '${e}' ${u} failed with status:`,w,"response text:",m.getResponseText()),w>0){let R=m.getResponseJson();Array.isArray(R)&&(R=R[0]);const M=R?.error;if(M&&M.status&&M.message){const $=(function(te){const le=te.toLowerCase().replace(/_/g,"-");return Object.values(G).indexOf(le)>=0?le:G.UNKNOWN})(M.status);f(new ae($,M.message))}else f(new ae(G.UNKNOWN,"Server responded with status "+m.getStatus()))}else f(new ae(G.UNAVAILABLE,"Connection failed."));break;default:Pe(9055,{l_:e,streamId:u,h_:m.getLastErrorCode(),P_:m.getLastError()})}}finally{de(Qt,`RPC '${e}' ${u} completed.`)}}));const g=JSON.stringify(s);de(Qt,`RPC '${e}' ${u} sending request:`,s),m.send(t,"POST",g,r,15)}))}T_(e,t,r){const s=cm(),a=[this.qo,"/","google.firestore.v1.Firestore","/",e,"/channel"],u=this.createWebChannelTransport(),d={httpSessionIdParam:"gsessionid",initMessageHeaders:{},messageUrlParams:{database:`projects/${this.databaseId.projectId}/databases/${this.databaseId.database}`},sendRawJson:!0,supportsCrossDomainXhr:!0,internalChannelParams:{forwardChannelRequestTimeoutMs:6e5},forceLongPolling:this.forceLongPolling,detectBufferingProxy:this.autoDetectLongPolling},f=this.longPollingOptions.timeoutSeconds;f!==void 0&&(d.longPollingTimeout=Math.round(1e3*f)),this.useFetchStreams&&(d.useFetchStreams=!0),this.Go(d.initMessageHeaders,t,r),d.encodeInitMessageHeaders=!0;const m=a.join("");de(Qt,`Creating RPC '${e}' stream ${s}: ${m}`,d);const g=u.createWebChannel(m,d);this.I_(g);let E=!1,w=!1;const R=new $O({Ho:M=>{w?de(Qt,`Not sending because RPC '${e}' stream ${s} is closed:`,M):(E||(de(Qt,`Opening RPC '${e}' stream ${s} transport.`),g.open(),E=!0),de(Qt,`RPC '${e}' stream ${s} sending:`,M),g.send(M))},Jo:()=>g.close()});return xl(g,zl.EventType.OPEN,(()=>{w||(de(Qt,`RPC '${e}' stream ${s} transport opened.`),R.i_())})),xl(g,zl.EventType.CLOSE,(()=>{w||(w=!0,de(Qt,`RPC '${e}' stream ${s} transport closed`),R.o_(),this.E_(g))})),xl(g,zl.EventType.ERROR,(M=>{w||(w=!0,pa(Qt,`RPC '${e}' stream ${s} transport errored. Name:`,M.name,"Message:",M.message),R.o_(new ae(G.UNAVAILABLE,"The operation could not be completed")))})),xl(g,zl.EventType.MESSAGE,(M=>{if(!w){const $=M.data[0];Ke(!!$,16349);const B=$,te=B?.error||B[0]?.error;if(te){de(Qt,`RPC '${e}' stream ${s} received error:`,te);const le=te.status;let ve=(function(pe){const C=At[pe];if(C!==void 0)return h0(C)})(le),oe=te.message;ve===void 0&&(ve=G.INTERNAL,oe="Unknown error status: "+le+" with message "+te.message),w=!0,R.o_(new ae(ve,oe)),g.close()}else de(Qt,`RPC '${e}' stream ${s} received:`,$),R.__($)}})),ha.u_(),setTimeout((()=>{R.s_()}),0),R}terminate(){this.a_.forEach((e=>e.close())),this.a_=[]}I_(e){this.a_.push(e)}E_(e){this.a_=this.a_.filter((t=>t===e))}Go(e,t,r){super.Go(e,t,r),this.databaseInfo.apiKey&&(e["x-goog-api-key"]=this.databaseInfo.apiKey)}createWebChannelTransport(){return bI()}}function HO(n){return new ha(n)}function kp(){return typeof document<"u"?document:null}function Ed(n){return new KN(n,!0)}ha.c_=!1;class R0{constructor(e,t,r=1e3,s=1.5,a=6e4){this.Ci=e,this.timerId=t,this.R_=r,this.A_=s,this.V_=a,this.d_=0,this.m_=null,this.f_=Date.now(),this.reset()}reset(){this.d_=0}g_(){this.d_=this.V_}p_(e){this.cancel();const t=Math.floor(this.d_+this.y_()),r=Math.max(0,Date.now()-this.f_),s=Math.max(0,t-r);s>0&&de("ExponentialBackoff",`Backing off for ${s} ms (base delay: ${this.d_} ms, delay with jitter: ${t} ms, last attempt: ${r} ms ago)`),this.m_=this.Ci.enqueueAfterDelay(this.timerId,s,(()=>(this.f_=Date.now(),e()))),this.d_*=this.A_,this.d_<this.R_&&(this.d_=this.R_),this.d_>this.V_&&(this.d_=this.V_)}w_(){this.m_!==null&&(this.m_.skipDelay(),this.m_=null)}cancel(){this.m_!==null&&(this.m_.cancel(),this.m_=null)}y_(){return(Math.random()-.5)*this.d_}}const jw="PersistentStream";class P0{constructor(e,t,r,s,a,u,d,f){this.Ci=e,this.b_=r,this.S_=s,this.connection=a,this.authCredentialsProvider=u,this.appCheckCredentialsProvider=d,this.listener=f,this.state=0,this.D_=0,this.C_=null,this.v_=null,this.stream=null,this.F_=0,this.M_=new R0(e,t)}x_(){return this.state===1||this.state===5||this.O_()}O_(){return this.state===2||this.state===3}start(){this.F_=0,this.state!==4?this.auth():this.N_()}async stop(){this.x_()&&await this.close(0)}B_(){this.state=0,this.M_.reset()}L_(){this.O_()&&this.C_===null&&(this.C_=this.Ci.enqueueAfterDelay(this.b_,6e4,(()=>this.k_())))}K_(e){this.q_(),this.stream.send(e)}async k_(){if(this.O_())return this.close(0)}q_(){this.C_&&(this.C_.cancel(),this.C_=null)}U_(){this.v_&&(this.v_.cancel(),this.v_=null)}async close(e,t){this.q_(),this.U_(),this.M_.cancel(),this.D_++,e!==4?this.M_.reset():t&&t.code===G.RESOURCE_EXHAUSTED?(hi(t.toString()),hi("Using maximum backoff delay to prevent overloading the backend."),this.M_.g_()):t&&t.code===G.UNAUTHENTICATED&&this.state!==3&&(this.authCredentialsProvider.invalidateToken(),this.appCheckCredentialsProvider.invalidateToken()),this.stream!==null&&(this.W_(),this.stream.close(),this.stream=null),this.state=e,await this.listener.t_(t)}W_(){}auth(){this.state=1;const e=this.Q_(this.D_),t=this.D_;Promise.all([this.authCredentialsProvider.getToken(),this.appCheckCredentialsProvider.getToken()]).then((([r,s])=>{this.D_===t&&this.G_(r,s)}),(r=>{e((()=>{const s=new ae(G.UNKNOWN,"Fetching auth token failed: "+r.message);return this.z_(s)}))}))}G_(e,t){const r=this.Q_(this.D_);this.stream=this.j_(e,t),this.stream.Zo((()=>{r((()=>this.listener.Zo()))})),this.stream.Yo((()=>{r((()=>(this.state=2,this.v_=this.Ci.enqueueAfterDelay(this.S_,1e4,(()=>(this.O_()&&(this.state=3),Promise.resolve()))),this.listener.Yo())))})),this.stream.t_((s=>{r((()=>this.z_(s)))})),this.stream.onMessage((s=>{r((()=>++this.F_==1?this.H_(s):this.onNext(s)))}))}N_(){this.state=5,this.M_.p_((async()=>{this.state=0,this.start()}))}z_(e){return de(jw,`close with error: ${e}`),this.stream=null,this.close(4,e)}Q_(e){return t=>{this.Ci.enqueueAndForget((()=>this.D_===e?t():(de(jw,"stream callback skipped by getCloseGuardedDispatcher."),Promise.resolve())))}}}class qO extends P0{constructor(e,t,r,s,a,u){super(e,"listen_stream_connection_backoff","listen_stream_idle","health_check_timeout",t,r,s,u),this.serializer=a}j_(e,t){return this.connection.T_("Listen",e,t)}H_(e){return this.onNext(e)}onNext(e){this.M_.reset();const t=JN(this.serializer,e),r=(function(a){if(!("targetChange"in a))return Ne.min();const u=a.targetChange;return u.targetIds&&u.targetIds.length?Ne.min():u.readTime?Nr(u.readTime):Ne.min()})(e);return this.listener.J_(t,r)}Z_(e){const t={};t.database=lm(this.serializer),t.addTarget=(function(a,u){let d;const f=u.target;if(d=rm(f)?{documents:eO(a,f)}:{query:tO(a,f).ft},d.targetId=u.targetId,u.resumeToken.approximateByteSize()>0){d.resumeToken=p0(a,u.resumeToken);const m=sm(a,u.expectedCount);m!==null&&(d.expectedCount=m)}else if(u.snapshotVersion.compareTo(Ne.min())>0){d.readTime=Vh(a,u.snapshotVersion.toTimestamp());const m=sm(a,u.expectedCount);m!==null&&(d.expectedCount=m)}return d})(this.serializer,e);const r=rO(this.serializer,e);r&&(t.labels=r),this.K_(t)}X_(e){const t={};t.database=lm(this.serializer),t.removeTarget=e,this.K_(t)}}class WO extends P0{constructor(e,t,r,s,a,u){super(e,"write_stream_connection_backoff","write_stream_idle","health_check_timeout",t,r,s,u),this.serializer=a}get Y_(){return this.F_>0}start(){this.lastStreamToken=void 0,super.start()}W_(){this.Y_&&this.ea([])}j_(e,t){return this.connection.T_("Write",e,t)}H_(e){return Ke(!!e.streamToken,31322),this.lastStreamToken=e.streamToken,Ke(!e.writeResults||e.writeResults.length===0,55816),this.listener.ta()}onNext(e){Ke(!!e.streamToken,12678),this.lastStreamToken=e.streamToken,this.M_.reset();const t=ZN(e.writeResults,e.commitTime),r=Nr(e.commitTime);return this.listener.na(r,t)}ra(){const e={};e.database=lm(this.serializer),this.K_(e)}ea(e){const t={streamToken:this.lastStreamToken,writes:e.map((r=>XN(this.serializer,r)))};this.K_(t)}}class GO{}class KO extends GO{constructor(e,t,r,s){super(),this.authCredentials=e,this.appCheckCredentials=t,this.connection=r,this.serializer=s,this.ia=!1}sa(){if(this.ia)throw new ae(G.FAILED_PRECONDITION,"The client has already been terminated.")}Wo(e,t,r,s){return this.sa(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then((([a,u])=>this.connection.Wo(e,om(t,r),s,a,u))).catch((a=>{throw a.name==="FirebaseError"?(a.code===G.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),a):new ae(G.UNKNOWN,a.toString())}))}jo(e,t,r,s,a){return this.sa(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then((([u,d])=>this.connection.jo(e,om(t,r),s,u,d,a))).catch((u=>{throw u.name==="FirebaseError"?(u.code===G.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),u):new ae(G.UNKNOWN,u.toString())}))}terminate(){this.ia=!0,this.connection.terminate()}}function QO(n,e,t,r){return new KO(n,e,t,r)}class YO{constructor(e,t){this.asyncQueue=e,this.onlineStateHandler=t,this.state="Unknown",this.oa=0,this._a=null,this.aa=!0}ua(){this.oa===0&&(this.ca("Unknown"),this._a=this.asyncQueue.enqueueAfterDelay("online_state_timeout",1e4,(()=>(this._a=null,this.la("Backend didn't respond within 10 seconds."),this.ca("Offline"),Promise.resolve()))))}ha(e){this.state==="Online"?this.ca("Unknown"):(this.oa++,this.oa>=1&&(this.Pa(),this.la(`Connection failed 1 times. Most recent error: ${e.toString()}`),this.ca("Offline")))}set(e){this.Pa(),this.oa=0,e==="Online"&&(this.aa=!1),this.ca(e)}ca(e){e!==this.state&&(this.state=e,this.onlineStateHandler(e))}la(e){const t=`Could not reach Cloud Firestore backend. ${e}
This typically indicates that your device does not have a healthy Internet connection at the moment. The client will operate in offline mode until it is able to successfully connect to the backend.`;this.aa?(hi(t),this.aa=!1):de("OnlineStateTracker",t)}Pa(){this._a!==null&&(this._a.cancel(),this._a=null)}}const Ys="RemoteStore";class JO{constructor(e,t,r,s,a){this.localStore=e,this.datastore=t,this.asyncQueue=r,this.remoteSyncer={},this.Ta=[],this.Ia=new Map,this.Ea=new Set,this.Ra=[],this.Aa=a,this.Aa.Mo((u=>{r.enqueueAndForget((async()=>{ao(this)&&(de(Ys,"Restarting streams for network reachability change."),await(async function(f){const m=De(f);m.Ea.add(4),await bu(m),m.Va.set("Unknown"),m.Ea.delete(4),await Td(m)})(this))}))})),this.Va=new YO(r,s)}}async function Td(n){if(ao(n))for(const e of n.Ra)await e(!0)}async function bu(n){for(const e of n.Ra)await e(!1)}function k0(n,e){const t=De(n);t.Ia.has(e.targetId)||(t.Ia.set(e.targetId,e),gg(t)?mg(t):Na(t).O_()&&pg(t,e))}function fg(n,e){const t=De(n),r=Na(t);t.Ia.delete(e),r.O_()&&C0(t,e),t.Ia.size===0&&(r.O_()?r.L_():ao(t)&&t.Va.set("Unknown"))}function pg(n,e){if(n.da.$e(e.targetId),e.resumeToken.approximateByteSize()>0||e.snapshotVersion.compareTo(Ne.min())>0){const t=n.remoteSyncer.getRemoteKeysForTarget(e.targetId).size;e=e.withExpectedCount(t)}Na(n).Z_(e)}function C0(n,e){n.da.$e(e),Na(n).X_(e)}function mg(n){n.da=new HN({getRemoteKeysForTarget:e=>n.remoteSyncer.getRemoteKeysForTarget(e),At:e=>n.Ia.get(e)||null,ht:()=>n.datastore.serializer.databaseId}),Na(n).start(),n.Va.ua()}function gg(n){return ao(n)&&!Na(n).x_()&&n.Ia.size>0}function ao(n){return De(n).Ea.size===0}function b0(n){n.da=void 0}async function XO(n){n.Va.set("Online")}async function ZO(n){n.Ia.forEach(((e,t)=>{pg(n,e)}))}async function ex(n,e){b0(n),gg(n)?(n.Va.ha(e),mg(n)):n.Va.set("Unknown")}async function tx(n,e,t){if(n.Va.set("Online"),e instanceof f0&&e.state===2&&e.cause)try{await(async function(s,a){const u=a.cause;for(const d of a.targetIds)s.Ia.has(d)&&(await s.remoteSyncer.rejectListen(d,u),s.Ia.delete(d),s.da.removeTarget(d))})(n,e)}catch(r){de(Ys,"Failed to remove targets %s: %s ",e.targetIds.join(","),r),await Uh(n,r)}else if(e instanceof Th?n.da.Xe(e):e instanceof d0?n.da.st(e):n.da.tt(e),!t.isEqual(Ne.min()))try{const r=await A0(n.localStore);t.compareTo(r)>=0&&await(function(a,u){const d=a.da.Tt(u);return d.targetChanges.forEach(((f,m)=>{if(f.resumeToken.approximateByteSize()>0){const g=a.Ia.get(m);g&&a.Ia.set(m,g.withResumeToken(f.resumeToken,u))}})),d.targetMismatches.forEach(((f,m)=>{const g=a.Ia.get(f);if(!g)return;a.Ia.set(f,g.withResumeToken($t.EMPTY_BYTE_STRING,g.snapshotVersion)),C0(a,f);const E=new Xi(g.target,f,m,g.sequenceNumber);pg(a,E)})),a.remoteSyncer.applyRemoteEvent(d)})(n,t)}catch(r){de(Ys,"Failed to raise snapshot:",r),await Uh(n,r)}}async function Uh(n,e,t){if(!Ca(e))throw e;n.Ea.add(1),await bu(n),n.Va.set("Offline"),t||(t=()=>A0(n.localStore)),n.asyncQueue.enqueueRetryable((async()=>{de(Ys,"Retrying IndexedDB access"),await t(),n.Ea.delete(1),await Td(n)}))}function N0(n,e){return e().catch((t=>Uh(n,t,e)))}async function Id(n){const e=De(n),t=ls(e);let r=e.Ta.length>0?e.Ta[e.Ta.length-1].batchId:Zm;for(;nx(e);)try{const s=await VO(e.localStore,r);if(s===null){e.Ta.length===0&&t.L_();break}r=s.batchId,rx(e,s)}catch(s){await Uh(e,s)}O0(e)&&x0(e)}function nx(n){return ao(n)&&n.Ta.length<10}function rx(n,e){n.Ta.push(e);const t=ls(n);t.O_()&&t.Y_&&t.ea(e.mutations)}function O0(n){return ao(n)&&!ls(n).x_()&&n.Ta.length>0}function x0(n){ls(n).start()}async function ix(n){ls(n).ra()}async function sx(n){const e=ls(n);for(const t of n.Ta)e.ea(t.mutations)}async function ox(n,e,t){const r=n.Ta.shift(),s=og.from(r,e,t);await N0(n,(()=>n.remoteSyncer.applySuccessfulWrite(s))),await Id(n)}async function ax(n,e){e&&ls(n).Y_&&await(async function(r,s){if((function(u){return zN(u)&&u!==G.ABORTED})(s.code)){const a=r.Ta.shift();ls(r).B_(),await N0(r,(()=>r.remoteSyncer.rejectFailedWrite(a.batchId,s))),await Id(r)}})(n,e),O0(n)&&x0(n)}async function zw(n,e){const t=De(n);t.asyncQueue.verifyOperationInProgress(),de(Ys,"RemoteStore received new credentials");const r=ao(t);t.Ea.add(3),await bu(t),r&&t.Va.set("Unknown"),await t.remoteSyncer.handleCredentialChange(e),t.Ea.delete(3),await Td(t)}async function lx(n,e){const t=De(n);e?(t.Ea.delete(2),await Td(t)):e||(t.Ea.add(2),await bu(t),t.Va.set("Unknown"))}function Na(n){return n.ma||(n.ma=(function(t,r,s){const a=De(t);return a.sa(),new qO(r,a.connection,a.authCredentials,a.appCheckCredentials,a.serializer,s)})(n.datastore,n.asyncQueue,{Zo:XO.bind(null,n),Yo:ZO.bind(null,n),t_:ex.bind(null,n),J_:tx.bind(null,n)}),n.Ra.push((async e=>{e?(n.ma.B_(),gg(n)?mg(n):n.Va.set("Unknown")):(await n.ma.stop(),b0(n))}))),n.ma}function ls(n){return n.fa||(n.fa=(function(t,r,s){const a=De(t);return a.sa(),new WO(r,a.connection,a.authCredentials,a.appCheckCredentials,a.serializer,s)})(n.datastore,n.asyncQueue,{Zo:()=>Promise.resolve(),Yo:ix.bind(null,n),t_:ax.bind(null,n),ta:sx.bind(null,n),na:ox.bind(null,n)}),n.Ra.push((async e=>{e?(n.fa.B_(),await Id(n)):(await n.fa.stop(),n.Ta.length>0&&(de(Ys,`Stopping write stream with ${n.Ta.length} pending writes`),n.Ta=[]))}))),n.fa}class yg{constructor(e,t,r,s,a){this.asyncQueue=e,this.timerId=t,this.targetTimeMs=r,this.op=s,this.removalCallback=a,this.deferred=new si,this.then=this.deferred.promise.then.bind(this.deferred.promise),this.deferred.promise.catch((u=>{}))}get promise(){return this.deferred.promise}static createAndSchedule(e,t,r,s,a){const u=Date.now()+r,d=new yg(e,t,u,s,a);return d.start(r),d}start(e){this.timerHandle=setTimeout((()=>this.handleDelayElapsed()),e)}skipDelay(){return this.handleDelayElapsed()}cancel(e){this.timerHandle!==null&&(this.clearTimeout(),this.deferred.reject(new ae(G.CANCELLED,"Operation cancelled"+(e?": "+e:""))))}handleDelayElapsed(){this.asyncQueue.enqueueAndForget((()=>this.timerHandle!==null?(this.clearTimeout(),this.op().then((e=>this.deferred.resolve(e)))):Promise.resolve()))}clearTimeout(){this.timerHandle!==null&&(this.removalCallback(this),clearTimeout(this.timerHandle),this.timerHandle=null)}}function _g(n,e){if(hi("AsyncQueue",`${e}: ${n}`),Ca(n))return new ae(G.UNAVAILABLE,`${e}: ${n}`);throw n}class da{static emptySet(e){return new da(e.comparator)}constructor(e){this.comparator=e?(t,r)=>e(t,r)||Se.comparator(t.key,r.key):(t,r)=>Se.comparator(t.key,r.key),this.keyedMap=Bl(),this.sortedSet=new ct(this.comparator)}has(e){return this.keyedMap.get(e)!=null}get(e){return this.keyedMap.get(e)}first(){return this.sortedSet.minKey()}last(){return this.sortedSet.maxKey()}isEmpty(){return this.sortedSet.isEmpty()}indexOf(e){const t=this.keyedMap.get(e);return t?this.sortedSet.indexOf(t):-1}get size(){return this.sortedSet.size}forEach(e){this.sortedSet.inorderTraversal(((t,r)=>(e(t),!1)))}add(e){const t=this.delete(e.key);return t.copy(t.keyedMap.insert(e.key,e),t.sortedSet.insert(e,null))}delete(e){const t=this.get(e);return t?this.copy(this.keyedMap.remove(e),this.sortedSet.remove(t)):this}isEqual(e){if(!(e instanceof da)||this.size!==e.size)return!1;const t=this.sortedSet.getIterator(),r=e.sortedSet.getIterator();for(;t.hasNext();){const s=t.getNext().key,a=r.getNext().key;if(!s.isEqual(a))return!1}return!0}toString(){const e=[];return this.forEach((t=>{e.push(t.toString())})),e.length===0?"DocumentSet ()":`DocumentSet (
  `+e.join(`  
`)+`
)`}copy(e,t){const r=new da;return r.comparator=this.comparator,r.keyedMap=e,r.sortedSet=t,r}}class Bw{constructor(){this.ga=new ct(Se.comparator)}track(e){const t=e.doc.key,r=this.ga.get(t);r?e.type!==0&&r.type===3?this.ga=this.ga.insert(t,e):e.type===3&&r.type!==1?this.ga=this.ga.insert(t,{type:r.type,doc:e.doc}):e.type===2&&r.type===2?this.ga=this.ga.insert(t,{type:2,doc:e.doc}):e.type===2&&r.type===0?this.ga=this.ga.insert(t,{type:0,doc:e.doc}):e.type===1&&r.type===0?this.ga=this.ga.remove(t):e.type===1&&r.type===2?this.ga=this.ga.insert(t,{type:1,doc:r.doc}):e.type===0&&r.type===1?this.ga=this.ga.insert(t,{type:2,doc:e.doc}):Pe(63341,{Vt:e,pa:r}):this.ga=this.ga.insert(t,e)}ya(){const e=[];return this.ga.inorderTraversal(((t,r)=>{e.push(r)})),e}}class wa{constructor(e,t,r,s,a,u,d,f,m){this.query=e,this.docs=t,this.oldDocs=r,this.docChanges=s,this.mutatedKeys=a,this.fromCache=u,this.syncStateChanged=d,this.excludesMetadataChanges=f,this.hasCachedResults=m}static fromInitialDocuments(e,t,r,s,a){const u=[];return t.forEach((d=>{u.push({type:0,doc:d})})),new wa(e,t,da.emptySet(t),u,r,s,!0,!1,a)}get hasPendingWrites(){return!this.mutatedKeys.isEmpty()}isEqual(e){if(!(this.fromCache===e.fromCache&&this.hasCachedResults===e.hasCachedResults&&this.syncStateChanged===e.syncStateChanged&&this.mutatedKeys.isEqual(e.mutatedKeys)&&md(this.query,e.query)&&this.docs.isEqual(e.docs)&&this.oldDocs.isEqual(e.oldDocs)))return!1;const t=this.docChanges,r=e.docChanges;if(t.length!==r.length)return!1;for(let s=0;s<t.length;s++)if(t[s].type!==r[s].type||!t[s].doc.isEqual(r[s].doc))return!1;return!0}}class ux{constructor(){this.wa=void 0,this.ba=[]}Sa(){return this.ba.some((e=>e.Da()))}}class cx{constructor(){this.queries=$w(),this.onlineState="Unknown",this.Ca=new Set}terminate(){(function(t,r){const s=De(t),a=s.queries;s.queries=$w(),a.forEach(((u,d)=>{for(const f of d.ba)f.onError(r)}))})(this,new ae(G.ABORTED,"Firestore shutting down"))}}function $w(){return new oo((n=>XI(n)),md)}async function vg(n,e){const t=De(n);let r=3;const s=e.query;let a=t.queries.get(s);a?!a.Sa()&&e.Da()&&(r=2):(a=new ux,r=e.Da()?0:1);try{switch(r){case 0:a.wa=await t.onListen(s,!0);break;case 1:a.wa=await t.onListen(s,!1);break;case 2:await t.onFirstRemoteStoreListen(s)}}catch(u){const d=_g(u,`Initialization of query '${ta(e.query)}' failed`);return void e.onError(d)}t.queries.set(s,a),a.ba.push(e),e.va(t.onlineState),a.wa&&e.Fa(a.wa)&&Eg(t)}async function wg(n,e){const t=De(n),r=e.query;let s=3;const a=t.queries.get(r);if(a){const u=a.ba.indexOf(e);u>=0&&(a.ba.splice(u,1),a.ba.length===0?s=e.Da()?0:1:!a.Sa()&&e.Da()&&(s=2))}switch(s){case 0:return t.queries.delete(r),t.onUnlisten(r,!0);case 1:return t.queries.delete(r),t.onUnlisten(r,!1);case 2:return t.onLastRemoteStoreUnlisten(r);default:return}}function hx(n,e){const t=De(n);let r=!1;for(const s of e){const a=s.query,u=t.queries.get(a);if(u){for(const d of u.ba)d.Fa(s)&&(r=!0);u.wa=s}}r&&Eg(t)}function dx(n,e,t){const r=De(n),s=r.queries.get(e);if(s)for(const a of s.ba)a.onError(t);r.queries.delete(e)}function Eg(n){n.Ca.forEach((e=>{e.next()}))}var hm,Hw;(Hw=hm||(hm={})).Ma="default",Hw.Cache="cache";class Tg{constructor(e,t,r){this.query=e,this.xa=t,this.Oa=!1,this.Na=null,this.onlineState="Unknown",this.options=r||{}}Fa(e){if(!this.options.includeMetadataChanges){const r=[];for(const s of e.docChanges)s.type!==3&&r.push(s);e=new wa(e.query,e.docs,e.oldDocs,r,e.mutatedKeys,e.fromCache,e.syncStateChanged,!0,e.hasCachedResults)}let t=!1;return this.Oa?this.Ba(e)&&(this.xa.next(e),t=!0):this.La(e,this.onlineState)&&(this.ka(e),t=!0),this.Na=e,t}onError(e){this.xa.error(e)}va(e){this.onlineState=e;let t=!1;return this.Na&&!this.Oa&&this.La(this.Na,e)&&(this.ka(this.Na),t=!0),t}La(e,t){if(!e.fromCache||!this.Da())return!0;const r=t!=="Offline";return(!this.options.Ka||!r)&&(!e.docs.isEmpty()||e.hasCachedResults||t==="Offline")}Ba(e){if(e.docChanges.length>0)return!0;const t=this.Na&&this.Na.hasPendingWrites!==e.hasPendingWrites;return!(!e.syncStateChanged&&!t)&&this.options.includeMetadataChanges===!0}ka(e){e=wa.fromInitialDocuments(e.query,e.docs,e.mutatedKeys,e.fromCache,e.hasCachedResults),this.Oa=!0,this.xa.next(e)}Da(){return this.options.source!==hm.Cache}}class D0{constructor(e){this.key=e}}class L0{constructor(e){this.key=e}}class fx{constructor(e,t){this.query=e,this.Za=t,this.Xa=null,this.hasCachedResults=!1,this.current=!1,this.Ya=je(),this.mutatedKeys=je(),this.eu=ZI(e),this.tu=new da(this.eu)}get nu(){return this.Za}ru(e,t){const r=t?t.iu:new Bw,s=t?t.tu:this.tu;let a=t?t.mutatedKeys:this.mutatedKeys,u=s,d=!1;const f=this.query.limitType==="F"&&s.size===this.query.limit?s.last():null,m=this.query.limitType==="L"&&s.size===this.query.limit?s.first():null;if(e.inorderTraversal(((g,E)=>{const w=s.get(g),R=gd(this.query,E)?E:null,M=!!w&&this.mutatedKeys.has(w.key),$=!!R&&(R.hasLocalMutations||this.mutatedKeys.has(R.key)&&R.hasCommittedMutations);let B=!1;w&&R?w.data.isEqual(R.data)?M!==$&&(r.track({type:3,doc:R}),B=!0):this.su(w,R)||(r.track({type:2,doc:R}),B=!0,(f&&this.eu(R,f)>0||m&&this.eu(R,m)<0)&&(d=!0)):!w&&R?(r.track({type:0,doc:R}),B=!0):w&&!R&&(r.track({type:1,doc:w}),B=!0,(f||m)&&(d=!0)),B&&(R?(u=u.add(R),a=$?a.add(g):a.delete(g)):(u=u.delete(g),a=a.delete(g)))})),this.query.limit!==null)for(;u.size>this.query.limit;){const g=this.query.limitType==="F"?u.last():u.first();u=u.delete(g.key),a=a.delete(g.key),r.track({type:1,doc:g})}return{tu:u,iu:r,Ss:d,mutatedKeys:a}}su(e,t){return e.hasLocalMutations&&t.hasCommittedMutations&&!t.hasLocalMutations}applyChanges(e,t,r,s){const a=this.tu;this.tu=e.tu,this.mutatedKeys=e.mutatedKeys;const u=e.iu.ya();u.sort(((g,E)=>(function(R,M){const $=B=>{switch(B){case 0:return 1;case 2:case 3:return 2;case 1:return 0;default:return Pe(20277,{Vt:B})}};return $(R)-$(M)})(g.type,E.type)||this.eu(g.doc,E.doc))),this.ou(r),s=s??!1;const d=t&&!s?this._u():[],f=this.Ya.size===0&&this.current&&!s?1:0,m=f!==this.Xa;return this.Xa=f,u.length!==0||m?{snapshot:new wa(this.query,e.tu,a,u,e.mutatedKeys,f===0,m,!1,!!r&&r.resumeToken.approximateByteSize()>0),au:d}:{au:d}}va(e){return this.current&&e==="Offline"?(this.current=!1,this.applyChanges({tu:this.tu,iu:new Bw,mutatedKeys:this.mutatedKeys,Ss:!1},!1)):{au:[]}}uu(e){return!this.Za.has(e)&&!!this.tu.has(e)&&!this.tu.get(e).hasLocalMutations}ou(e){e&&(e.addedDocuments.forEach((t=>this.Za=this.Za.add(t))),e.modifiedDocuments.forEach((t=>{})),e.removedDocuments.forEach((t=>this.Za=this.Za.delete(t))),this.current=e.current)}_u(){if(!this.current)return[];const e=this.Ya;this.Ya=je(),this.tu.forEach((r=>{this.uu(r.key)&&(this.Ya=this.Ya.add(r.key))}));const t=[];return e.forEach((r=>{this.Ya.has(r)||t.push(new L0(r))})),this.Ya.forEach((r=>{e.has(r)||t.push(new D0(r))})),t}cu(e){this.Za=e.ks,this.Ya=je();const t=this.ru(e.documents);return this.applyChanges(t,!0)}lu(){return wa.fromInitialDocuments(this.query,this.tu,this.mutatedKeys,this.Xa===0,this.hasCachedResults)}}const Ig="SyncEngine";class px{constructor(e,t,r){this.query=e,this.targetId=t,this.view=r}}class mx{constructor(e){this.key=e,this.hu=!1}}class gx{constructor(e,t,r,s,a,u){this.localStore=e,this.remoteStore=t,this.eventManager=r,this.sharedClientState=s,this.currentUser=a,this.maxConcurrentLimboResolutions=u,this.Pu={},this.Tu=new oo((d=>XI(d)),md),this.Iu=new Map,this.Eu=new Set,this.Ru=new ct(Se.comparator),this.Au=new Map,this.Vu=new ug,this.du={},this.mu=new Map,this.fu=va.ar(),this.onlineState="Unknown",this.gu=void 0}get isPrimaryClient(){return this.gu===!0}}async function yx(n,e,t=!0){const r=z0(n);let s;const a=r.Tu.get(e);return a?(r.sharedClientState.addLocalQueryTarget(a.targetId),s=a.view.lu()):s=await V0(r,e,t,!0),s}async function _x(n,e){const t=z0(n);await V0(t,e,!0,!1)}async function V0(n,e,t,r){const s=await MO(n.localStore,br(e)),a=s.targetId,u=n.sharedClientState.addLocalQueryTarget(a,t);let d;return r&&(d=await vx(n,e,a,u==="current",s.resumeToken)),n.isPrimaryClient&&t&&k0(n.remoteStore,s),d}async function vx(n,e,t,r,s){n.pu=(E,w,R)=>(async function($,B,te,le){let ve=B.view.ru(te);ve.Ss&&(ve=await Vw($.localStore,B.query,!1).then((({documents:C})=>B.view.ru(C,ve))));const oe=le&&le.targetChanges.get(B.targetId),Te=le&&le.targetMismatches.get(B.targetId)!=null,pe=B.view.applyChanges(ve,$.isPrimaryClient,oe,Te);return Ww($,B.targetId,pe.au),pe.snapshot})(n,E,w,R);const a=await Vw(n.localStore,e,!0),u=new fx(e,a.ks),d=u.ru(a.documents),f=Cu.createSynthesizedTargetChangeForCurrentChange(t,r&&n.onlineState!=="Offline",s),m=u.applyChanges(d,n.isPrimaryClient,f);Ww(n,t,m.au);const g=new px(e,t,u);return n.Tu.set(e,g),n.Iu.has(t)?n.Iu.get(t).push(e):n.Iu.set(t,[e]),m.snapshot}async function wx(n,e,t){const r=De(n),s=r.Tu.get(e),a=r.Iu.get(s.targetId);if(a.length>1)return r.Iu.set(s.targetId,a.filter((u=>!md(u,e)))),void r.Tu.delete(e);r.isPrimaryClient?(r.sharedClientState.removeLocalQueryTarget(s.targetId),r.sharedClientState.isActiveQueryTarget(s.targetId)||await um(r.localStore,s.targetId,!1).then((()=>{r.sharedClientState.clearQueryState(s.targetId),t&&fg(r.remoteStore,s.targetId),dm(r,s.targetId)})).catch(ka)):(dm(r,s.targetId),await um(r.localStore,s.targetId,!0))}async function Ex(n,e){const t=De(n),r=t.Tu.get(e),s=t.Iu.get(r.targetId);t.isPrimaryClient&&s.length===1&&(t.sharedClientState.removeLocalQueryTarget(r.targetId),fg(t.remoteStore,r.targetId))}async function Tx(n,e,t){const r=Cx(n);try{const s=await(function(u,d){const f=De(u),m=rt.now(),g=d.reduce(((R,M)=>R.add(M.key)),je());let E,w;return f.persistence.runTransaction("Locally write mutations","readwrite",(R=>{let M=di(),$=je();return f.xs.getEntries(R,g).next((B=>{M=B,M.forEach(((te,le)=>{le.isValidDocument()||($=$.add(te))}))})).next((()=>f.localDocuments.getOverlayedDocuments(R,M))).next((B=>{E=B;const te=[];for(const le of d){const ve=VN(le,E.get(le.key).overlayedDocument);ve!=null&&te.push(new ds(le.key,ve,HI(ve.value.mapValue),an.exists(!0)))}return f.mutationQueue.addMutationBatch(R,m,te,d)})).next((B=>{w=B;const te=B.applyToLocalDocumentSet(E,$);return f.documentOverlayCache.saveOverlays(R,B.batchId,te)}))})).then((()=>({batchId:w.batchId,changes:t0(E)})))})(r.localStore,e);r.sharedClientState.addPendingMutation(s.batchId),(function(u,d,f){let m=u.du[u.currentUser.toKey()];m||(m=new ct(Fe)),m=m.insert(d,f),u.du[u.currentUser.toKey()]=m})(r,s.batchId,t),await Nu(r,s.changes),await Id(r.remoteStore)}catch(s){const a=_g(s,"Failed to persist write");t.reject(a)}}async function M0(n,e){const t=De(n);try{const r=await DO(t.localStore,e);e.targetChanges.forEach(((s,a)=>{const u=t.Au.get(a);u&&(Ke(s.addedDocuments.size+s.modifiedDocuments.size+s.removedDocuments.size<=1,22616),s.addedDocuments.size>0?u.hu=!0:s.modifiedDocuments.size>0?Ke(u.hu,14607):s.removedDocuments.size>0&&(Ke(u.hu,42227),u.hu=!1))})),await Nu(t,r,e)}catch(r){await ka(r)}}function qw(n,e,t){const r=De(n);if(r.isPrimaryClient&&t===0||!r.isPrimaryClient&&t===1){const s=[];r.Tu.forEach(((a,u)=>{const d=u.view.va(e);d.snapshot&&s.push(d.snapshot)})),(function(u,d){const f=De(u);f.onlineState=d;let m=!1;f.queries.forEach(((g,E)=>{for(const w of E.ba)w.va(d)&&(m=!0)})),m&&Eg(f)})(r.eventManager,e),s.length&&r.Pu.J_(s),r.onlineState=e,r.isPrimaryClient&&r.sharedClientState.setOnlineState(e)}}async function Ix(n,e,t){const r=De(n);r.sharedClientState.updateQueryState(e,"rejected",t);const s=r.Au.get(e),a=s&&s.key;if(a){let u=new ct(Se.comparator);u=u.insert(a,Jt.newNoDocument(a,Ne.min()));const d=je().add(a),f=new wd(Ne.min(),new Map,new ct(Fe),u,d);await M0(r,f),r.Ru=r.Ru.remove(a),r.Au.delete(e),Sg(r)}else await um(r.localStore,e,!1).then((()=>dm(r,e,t))).catch(ka)}async function Sx(n,e){const t=De(n),r=e.batch.batchId;try{const s=await xO(t.localStore,e);F0(t,r,null),U0(t,r),t.sharedClientState.updateMutationState(r,"acknowledged"),await Nu(t,s)}catch(s){await ka(s)}}async function Ax(n,e,t){const r=De(n);try{const s=await(function(u,d){const f=De(u);return f.persistence.runTransaction("Reject batch","readwrite-primary",(m=>{let g;return f.mutationQueue.lookupMutationBatch(m,d).next((E=>(Ke(E!==null,37113),g=E.keys(),f.mutationQueue.removeMutationBatch(m,E)))).next((()=>f.mutationQueue.performConsistencyCheck(m))).next((()=>f.documentOverlayCache.removeOverlaysForBatchId(m,g,d))).next((()=>f.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(m,g))).next((()=>f.localDocuments.getDocuments(m,g)))}))})(r.localStore,e);F0(r,e,t),U0(r,e),r.sharedClientState.updateMutationState(e,"rejected",t),await Nu(r,s)}catch(s){await ka(s)}}function U0(n,e){(n.mu.get(e)||[]).forEach((t=>{t.resolve()})),n.mu.delete(e)}function F0(n,e,t){const r=De(n);let s=r.du[r.currentUser.toKey()];if(s){const a=s.get(e);a&&(t?a.reject(t):a.resolve(),s=s.remove(e)),r.du[r.currentUser.toKey()]=s}}function dm(n,e,t=null){n.sharedClientState.removeLocalQueryTarget(e);for(const r of n.Iu.get(e))n.Tu.delete(r),t&&n.Pu.yu(r,t);n.Iu.delete(e),n.isPrimaryClient&&n.Vu.Gr(e).forEach((r=>{n.Vu.containsKey(r)||j0(n,r)}))}function j0(n,e){n.Eu.delete(e.path.canonicalString());const t=n.Ru.get(e);t!==null&&(fg(n.remoteStore,t),n.Ru=n.Ru.remove(e),n.Au.delete(t),Sg(n))}function Ww(n,e,t){for(const r of t)r instanceof D0?(n.Vu.addReference(r.key,e),Rx(n,r)):r instanceof L0?(de(Ig,"Document no longer in limbo: "+r.key),n.Vu.removeReference(r.key,e),n.Vu.containsKey(r.key)||j0(n,r.key)):Pe(19791,{wu:r})}function Rx(n,e){const t=e.key,r=t.path.canonicalString();n.Ru.get(t)||n.Eu.has(r)||(de(Ig,"New document in limbo: "+t),n.Eu.add(r),Sg(n))}function Sg(n){for(;n.Eu.size>0&&n.Ru.size<n.maxConcurrentLimboResolutions;){const e=n.Eu.values().next().value;n.Eu.delete(e);const t=new Se(Ze.fromString(e)),r=n.fu.next();n.Au.set(r,new mx(t)),n.Ru=n.Ru.insert(t,r),k0(n.remoteStore,new Xi(br(pd(t.path)),r,"TargetPurposeLimboResolution",hd.ce))}}async function Nu(n,e,t){const r=De(n),s=[],a=[],u=[];r.Tu.isEmpty()||(r.Tu.forEach(((d,f)=>{u.push(r.pu(f,e,t).then((m=>{if((m||t)&&r.isPrimaryClient){const g=m?!m.fromCache:t?.targetChanges.get(f.targetId)?.current;r.sharedClientState.updateQueryState(f.targetId,g?"current":"not-current")}if(m){s.push(m);const g=hg.Es(f.targetId,m);a.push(g)}})))})),await Promise.all(u),r.Pu.J_(s),await(async function(f,m){const g=De(f);try{await g.persistence.runTransaction("notifyLocalViewChanges","readwrite",(E=>K.forEach(m,(w=>K.forEach(w.Ts,(R=>g.persistence.referenceDelegate.addReference(E,w.targetId,R))).next((()=>K.forEach(w.Is,(R=>g.persistence.referenceDelegate.removeReference(E,w.targetId,R)))))))))}catch(E){if(!Ca(E))throw E;de(dg,"Failed to update sequence numbers: "+E)}for(const E of m){const w=E.targetId;if(!E.fromCache){const R=g.vs.get(w),M=R.snapshotVersion,$=R.withLastLimboFreeSnapshotVersion(M);g.vs=g.vs.insert(w,$)}}})(r.localStore,a))}async function Px(n,e){const t=De(n);if(!t.currentUser.isEqual(e)){de(Ig,"User change. New user:",e.toKey());const r=await S0(t.localStore,e);t.currentUser=e,(function(a,u){a.mu.forEach((d=>{d.forEach((f=>{f.reject(new ae(G.CANCELLED,u))}))})),a.mu.clear()})(t,"'waitForPendingWrites' promise is rejected due to a user change."),t.sharedClientState.handleUserChange(e,r.removedBatchIds,r.addedBatchIds),await Nu(t,r.Ns)}}function kx(n,e){const t=De(n),r=t.Au.get(e);if(r&&r.hu)return je().add(r.key);{let s=je();const a=t.Iu.get(e);if(!a)return s;for(const u of a){const d=t.Tu.get(u);s=s.unionWith(d.view.nu)}return s}}function z0(n){const e=De(n);return e.remoteStore.remoteSyncer.applyRemoteEvent=M0.bind(null,e),e.remoteStore.remoteSyncer.getRemoteKeysForTarget=kx.bind(null,e),e.remoteStore.remoteSyncer.rejectListen=Ix.bind(null,e),e.Pu.J_=hx.bind(null,e.eventManager),e.Pu.yu=dx.bind(null,e.eventManager),e}function Cx(n){const e=De(n);return e.remoteStore.remoteSyncer.applySuccessfulWrite=Sx.bind(null,e),e.remoteStore.remoteSyncer.rejectFailedWrite=Ax.bind(null,e),e}class Fh{constructor(){this.kind="memory",this.synchronizeTabs=!1}async initialize(e){this.serializer=Ed(e.databaseInfo.databaseId),this.sharedClientState=this.Du(e),this.persistence=this.Cu(e),await this.persistence.start(),this.localStore=this.vu(e),this.gcScheduler=this.Fu(e,this.localStore),this.indexBackfillerScheduler=this.Mu(e,this.localStore)}Fu(e,t){return null}Mu(e,t){return null}vu(e){return OO(this.persistence,new CO,e.initialUser,this.serializer)}Cu(e){return new I0(cg.Vi,this.serializer)}Du(e){return new FO}async terminate(){this.gcScheduler?.stop(),this.indexBackfillerScheduler?.stop(),this.sharedClientState.shutdown(),await this.persistence.shutdown()}}Fh.provider={build:()=>new Fh};class bx extends Fh{constructor(e){super(),this.cacheSizeBytes=e}Fu(e,t){Ke(this.persistence.referenceDelegate instanceof Mh,46915);const r=this.persistence.referenceDelegate.garbageCollector;return new pO(r,e.asyncQueue,t)}Cu(e){const t=this.cacheSizeBytes!==void 0?mn.withCacheSize(this.cacheSizeBytes):mn.DEFAULT;return new I0((r=>Mh.Vi(r,t)),this.serializer)}}class fm{async initialize(e,t){this.localStore||(this.localStore=e.localStore,this.sharedClientState=e.sharedClientState,this.datastore=this.createDatastore(t),this.remoteStore=this.createRemoteStore(t),this.eventManager=this.createEventManager(t),this.syncEngine=this.createSyncEngine(t,!e.synchronizeTabs),this.sharedClientState.onlineStateHandler=r=>qw(this.syncEngine,r,1),this.remoteStore.remoteSyncer.handleCredentialChange=Px.bind(null,this.syncEngine),await lx(this.remoteStore,this.syncEngine.isPrimaryClient))}createEventManager(e){return(function(){return new cx})()}createDatastore(e){const t=Ed(e.databaseInfo.databaseId),r=HO(e.databaseInfo);return QO(e.authCredentials,e.appCheckCredentials,r,t)}createRemoteStore(e){return(function(r,s,a,u,d){return new JO(r,s,a,u,d)})(this.localStore,this.datastore,e.asyncQueue,(t=>qw(this.syncEngine,t,0)),(function(){return Fw.v()?new Fw:new jO})())}createSyncEngine(e,t){return(function(s,a,u,d,f,m,g){const E=new gx(s,a,u,d,f,m);return g&&(E.gu=!0),E})(this.localStore,this.remoteStore,this.eventManager,this.sharedClientState,e.initialUser,e.maxConcurrentLimboResolutions,t)}async terminate(){await(async function(t){const r=De(t);de(Ys,"RemoteStore shutting down."),r.Ea.add(5),await bu(r),r.Aa.shutdown(),r.Va.set("Unknown")})(this.remoteStore),this.datastore?.terminate(),this.eventManager?.terminate()}}fm.provider={build:()=>new fm};class Ag{constructor(e){this.observer=e,this.muted=!1}next(e){this.muted||this.observer.next&&this.Ou(this.observer.next,e)}error(e){this.muted||(this.observer.error?this.Ou(this.observer.error,e):hi("Uncaught Error in snapshot listener:",e.toString()))}Nu(){this.muted=!0}Ou(e,t){setTimeout((()=>{this.muted||e(t)}),0)}}const us="FirestoreClient";class Nx{constructor(e,t,r,s,a){this.authCredentials=e,this.appCheckCredentials=t,this.asyncQueue=r,this._databaseInfo=s,this.user=Yt.UNAUTHENTICATED,this.clientId=Xm.newId(),this.authCredentialListener=()=>Promise.resolve(),this.appCheckCredentialListener=()=>Promise.resolve(),this._uninitializedComponentsProvider=a,this.authCredentials.start(r,(async u=>{de(us,"Received user=",u.uid),await this.authCredentialListener(u),this.user=u})),this.appCheckCredentials.start(r,(u=>(de(us,"Received new app check token=",u),this.appCheckCredentialListener(u,this.user))))}get configuration(){return{asyncQueue:this.asyncQueue,databaseInfo:this._databaseInfo,clientId:this.clientId,authCredentials:this.authCredentials,appCheckCredentials:this.appCheckCredentials,initialUser:this.user,maxConcurrentLimboResolutions:100}}setCredentialChangeListener(e){this.authCredentialListener=e}setAppCheckTokenChangeListener(e){this.appCheckCredentialListener=e}terminate(){this.asyncQueue.enterRestrictedMode();const e=new si;return this.asyncQueue.enqueueAndForgetEvenWhileRestricted((async()=>{try{this._onlineComponents&&await this._onlineComponents.terminate(),this._offlineComponents&&await this._offlineComponents.terminate(),this.authCredentials.shutdown(),this.appCheckCredentials.shutdown(),e.resolve()}catch(t){const r=_g(t,"Failed to shutdown persistence");e.reject(r)}})),e.promise}}async function Cp(n,e){n.asyncQueue.verifyOperationInProgress(),de(us,"Initializing OfflineComponentProvider");const t=n.configuration;await e.initialize(t);let r=t.initialUser;n.setCredentialChangeListener((async s=>{r.isEqual(s)||(await S0(e.localStore,s),r=s)})),e.persistence.setDatabaseDeletedListener((()=>n.terminate())),n._offlineComponents=e}async function Gw(n,e){n.asyncQueue.verifyOperationInProgress();const t=await Ox(n);de(us,"Initializing OnlineComponentProvider"),await e.initialize(t,n.configuration),n.setCredentialChangeListener((r=>zw(e.remoteStore,r))),n.setAppCheckTokenChangeListener(((r,s)=>zw(e.remoteStore,s))),n._onlineComponents=e}async function Ox(n){if(!n._offlineComponents)if(n._uninitializedComponentsProvider){de(us,"Using user provided OfflineComponentProvider");try{await Cp(n,n._uninitializedComponentsProvider._offline)}catch(e){const t=e;if(!(function(s){return s.name==="FirebaseError"?s.code===G.FAILED_PRECONDITION||s.code===G.UNIMPLEMENTED:!(typeof DOMException<"u"&&s instanceof DOMException)||s.code===22||s.code===20||s.code===11})(t))throw t;pa("Error using user provided cache. Falling back to memory cache: "+t),await Cp(n,new Fh)}}else de(us,"Using default OfflineComponentProvider"),await Cp(n,new bx(void 0));return n._offlineComponents}async function B0(n){return n._onlineComponents||(n._uninitializedComponentsProvider?(de(us,"Using user provided OnlineComponentProvider"),await Gw(n,n._uninitializedComponentsProvider._online)):(de(us,"Using default OnlineComponentProvider"),await Gw(n,new fm))),n._onlineComponents}function xx(n){return B0(n).then((e=>e.syncEngine))}async function jh(n){const e=await B0(n),t=e.eventManager;return t.onListen=yx.bind(null,e.syncEngine),t.onUnlisten=wx.bind(null,e.syncEngine),t.onFirstRemoteStoreListen=_x.bind(null,e.syncEngine),t.onLastRemoteStoreUnlisten=Ex.bind(null,e.syncEngine),t}function Dx(n,e,t,r){const s=new Ag(r),a=new Tg(e,s,t);return n.asyncQueue.enqueueAndForget((async()=>vg(await jh(n),a))),()=>{s.Nu(),n.asyncQueue.enqueueAndForget((async()=>wg(await jh(n),a)))}}function Lx(n,e,t={}){const r=new si;return n.asyncQueue.enqueueAndForget((async()=>(function(a,u,d,f,m){const g=new Ag({next:w=>{g.Nu(),u.enqueueAndForget((()=>wg(a,E)));const R=w.docs.has(d);!R&&w.fromCache?m.reject(new ae(G.UNAVAILABLE,"Failed to get document because the client is offline.")):R&&w.fromCache&&f&&f.source==="server"?m.reject(new ae(G.UNAVAILABLE,'Failed to get document from server. (However, this document does exist in the local cache. Run again without setting source to "server" to retrieve the cached document.)')):m.resolve(w)},error:w=>m.reject(w)}),E=new Tg(pd(d.path),g,{includeMetadataChanges:!0,Ka:!0});return vg(a,E)})(await jh(n),n.asyncQueue,e,t,r))),r.promise}function Vx(n,e,t={}){const r=new si;return n.asyncQueue.enqueueAndForget((async()=>(function(a,u,d,f,m){const g=new Ag({next:w=>{g.Nu(),u.enqueueAndForget((()=>wg(a,E))),w.fromCache&&f.source==="server"?m.reject(new ae(G.UNAVAILABLE,'Failed to get documents from server. (However, these documents may exist in the local cache. Run again without setting source to "server" to retrieve the cached documents.)')):m.resolve(w)},error:w=>m.reject(w)}),E=new Tg(d,g,{includeMetadataChanges:!0,Ka:!0});return vg(a,E)})(await jh(n),n.asyncQueue,e,t,r))),r.promise}function Mx(n,e){const t=new si;return n.asyncQueue.enqueueAndForget((async()=>Tx(await xx(n),e,t))),t.promise}function $0(n){const e={};return n.timeoutSeconds!==void 0&&(e.timeoutSeconds=n.timeoutSeconds),e}const Ux="ComponentProvider",Kw=new Map;function Fx(n,e,t,r,s){return new sN(n,e,t,s.host,s.ssl,s.experimentalForceLongPolling,s.experimentalAutoDetectLongPolling,$0(s.experimentalLongPollingOptions),s.useFetchStreams,s.isUsingEmulator,r)}const H0="firestore.googleapis.com",Qw=!0;class Yw{constructor(e){if(e.host===void 0){if(e.ssl!==void 0)throw new ae(G.INVALID_ARGUMENT,"Can't provide ssl option if host option is not set");this.host=H0,this.ssl=Qw}else this.host=e.host,this.ssl=e.ssl??Qw;if(this.isUsingEmulator=e.emulatorOptions!==void 0,this.credentials=e.credentials,this.ignoreUndefinedProperties=!!e.ignoreUndefinedProperties,this.localCache=e.localCache,e.cacheSizeBytes===void 0)this.cacheSizeBytes=T0;else{if(e.cacheSizeBytes!==-1&&e.cacheSizeBytes<dO)throw new ae(G.INVALID_ARGUMENT,"cacheSizeBytes must be at least 1048576");this.cacheSizeBytes=e.cacheSizeBytes}Gb("experimentalForceLongPolling",e.experimentalForceLongPolling,"experimentalAutoDetectLongPolling",e.experimentalAutoDetectLongPolling),this.experimentalForceLongPolling=!!e.experimentalForceLongPolling,this.experimentalForceLongPolling?this.experimentalAutoDetectLongPolling=!1:e.experimentalAutoDetectLongPolling===void 0?this.experimentalAutoDetectLongPolling=!0:this.experimentalAutoDetectLongPolling=!!e.experimentalAutoDetectLongPolling,this.experimentalLongPollingOptions=$0(e.experimentalLongPollingOptions??{}),(function(r){if(r.timeoutSeconds!==void 0){if(isNaN(r.timeoutSeconds))throw new ae(G.INVALID_ARGUMENT,`invalid long polling timeout: ${r.timeoutSeconds} (must not be NaN)`);if(r.timeoutSeconds<5)throw new ae(G.INVALID_ARGUMENT,`invalid long polling timeout: ${r.timeoutSeconds} (minimum allowed value is 5)`);if(r.timeoutSeconds>30)throw new ae(G.INVALID_ARGUMENT,`invalid long polling timeout: ${r.timeoutSeconds} (maximum allowed value is 30)`)}})(this.experimentalLongPollingOptions),this.useFetchStreams=!!e.useFetchStreams}isEqual(e){return this.host===e.host&&this.ssl===e.ssl&&this.credentials===e.credentials&&this.cacheSizeBytes===e.cacheSizeBytes&&this.experimentalForceLongPolling===e.experimentalForceLongPolling&&this.experimentalAutoDetectLongPolling===e.experimentalAutoDetectLongPolling&&(function(r,s){return r.timeoutSeconds===s.timeoutSeconds})(this.experimentalLongPollingOptions,e.experimentalLongPollingOptions)&&this.ignoreUndefinedProperties===e.ignoreUndefinedProperties&&this.useFetchStreams===e.useFetchStreams}}class Sd{constructor(e,t,r,s){this._authCredentials=e,this._appCheckCredentials=t,this._databaseId=r,this._app=s,this.type="firestore-lite",this._persistenceKey="(lite)",this._settings=new Yw({}),this._settingsFrozen=!1,this._emulatorOptions={},this._terminateTask="notTerminated"}get app(){if(!this._app)throw new ae(G.FAILED_PRECONDITION,"Firestore was not initialized using the Firebase SDK. 'app' is not available");return this._app}get _initialized(){return this._settingsFrozen}get _terminated(){return this._terminateTask!=="notTerminated"}_setSettings(e){if(this._settingsFrozen)throw new ae(G.FAILED_PRECONDITION,"Firestore has already been started and its settings can no longer be changed. You can only modify settings before calling any other methods on a Firestore object.");this._settings=new Yw(e),this._emulatorOptions=e.emulatorOptions||{},e.credentials!==void 0&&(this._authCredentials=(function(r){if(!r)return new Mb;switch(r.type){case"firstParty":return new zb(r.sessionIndex||"0",r.iamToken||null,r.authTokenFactory||null);case"provider":return r.client;default:throw new ae(G.INVALID_ARGUMENT,"makeAuthCredentialsProvider failed due to invalid credential type")}})(e.credentials))}_getSettings(){return this._settings}_getEmulatorOptions(){return this._emulatorOptions}_freezeSettings(){return this._settingsFrozen=!0,this._settings}_delete(){return this._terminateTask==="notTerminated"&&(this._terminateTask=this._terminate()),this._terminateTask}async _restart(){this._terminateTask==="notTerminated"?await this._terminate():this._terminateTask="notTerminated"}toJSON(){return{app:this._app,databaseId:this._databaseId,settings:this._settings}}_terminate(){return(function(t){const r=Kw.get(t);r&&(de(Ux,"Removing Datastore"),Kw.delete(t),r.terminate())})(this),Promise.resolve()}}function jx(n,e,t,r={}){n=on(n,Sd);const s=Lr(e),a=n._getSettings(),u={...a,emulatorOptions:n._getEmulatorOptions()},d=`${e}:${t}`;s&&(Zh(`https://${d}`),ed("Firestore",!0)),a.host!==H0&&a.host!==d&&pa("Host has been set in both settings() and connectFirestoreEmulator(), emulator host will be used.");const f={...a,host:d,ssl:s,emulatorOptions:r};if(!oi(f,u)&&(n._setSettings(f),r.mockUserToken)){let m,g;if(typeof r.mockUserToken=="string")m=r.mockUserToken,g=Yt.MOCK_USER;else{m=RT(r.mockUserToken,n._app?.options.projectId);const E=r.mockUserToken.sub||r.mockUserToken.user_id;if(!E)throw new ae(G.INVALID_ARGUMENT,"mockUserToken must contain 'sub' or 'user_id' field!");g=new Yt(E)}n._authCredentials=new Ub(new OI(m,g))}}class gi{constructor(e,t,r){this.converter=t,this._query=r,this.type="query",this.firestore=e}withConverter(e){return new gi(this.firestore,e,this._query)}}class pt{constructor(e,t,r){this.converter=t,this._key=r,this.type="document",this.firestore=e}get _path(){return this._key.path}get id(){return this._key.path.lastSegment()}get path(){return this._key.path.canonicalString()}get parent(){return new rs(this.firestore,this.converter,this._key.path.popLast())}withConverter(e){return new pt(this.firestore,e,this._key)}toJSON(){return{type:pt._jsonSchemaVersion,referencePath:this._key.toString()}}static fromJSON(e,t,r){if(Pu(t,pt._jsonSchema))return new pt(e,r||null,new Se(Ze.fromString(t.referencePath)))}}pt._jsonSchemaVersion="firestore/documentReference/1.0",pt._jsonSchema={type:kt("string",pt._jsonSchemaVersion),referencePath:kt("string")};class rs extends gi{constructor(e,t,r){super(e,t,pd(r)),this._path=r,this.type="collection"}get id(){return this._query.path.lastSegment()}get path(){return this._query.path.canonicalString()}get parent(){const e=this._path.popLast();return e.isEmpty()?null:new pt(this.firestore,null,new Se(e))}withConverter(e){return new rs(this.firestore,e,this._path)}}function Hl(n,e,...t){if(n=ge(n),xI("collection","path",e),n instanceof Sd){const r=Ze.fromString(e,...t);return uw(r),new rs(n,null,r)}{if(!(n instanceof pt||n instanceof rs))throw new ae(G.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const r=n._path.child(Ze.fromString(e,...t));return uw(r),new rs(n.firestore,null,r)}}function ri(n,e,...t){if(n=ge(n),arguments.length===1&&(e=Xm.newId()),xI("doc","path",e),n instanceof Sd){const r=Ze.fromString(e,...t);return lw(r),new pt(n,null,new Se(r))}{if(!(n instanceof pt||n instanceof rs))throw new ae(G.INVALID_ARGUMENT,"Expected first argument to doc() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const r=n._path.child(Ze.fromString(e,...t));return lw(r),new pt(n.firestore,n instanceof rs?n.converter:null,new Se(r))}}const Jw="AsyncQueue";class Xw{constructor(e=Promise.resolve()){this.Yu=[],this.ec=!1,this.tc=[],this.nc=null,this.rc=!1,this.sc=!1,this.oc=[],this.M_=new R0(this,"async_queue_retry"),this._c=()=>{const r=kp();r&&de(Jw,"Visibility state changed to "+r.visibilityState),this.M_.w_()},this.ac=e;const t=kp();t&&typeof t.addEventListener=="function"&&t.addEventListener("visibilitychange",this._c)}get isShuttingDown(){return this.ec}enqueueAndForget(e){this.enqueue(e)}enqueueAndForgetEvenWhileRestricted(e){this.uc(),this.cc(e)}enterRestrictedMode(e){if(!this.ec){this.ec=!0,this.sc=e||!1;const t=kp();t&&typeof t.removeEventListener=="function"&&t.removeEventListener("visibilitychange",this._c)}}enqueue(e){if(this.uc(),this.ec)return new Promise((()=>{}));const t=new si;return this.cc((()=>this.ec&&this.sc?Promise.resolve():(e().then(t.resolve,t.reject),t.promise))).then((()=>t.promise))}enqueueRetryable(e){this.enqueueAndForget((()=>(this.Yu.push(e),this.lc())))}async lc(){if(this.Yu.length!==0){try{await this.Yu[0](),this.Yu.shift(),this.M_.reset()}catch(e){if(!Ca(e))throw e;de(Jw,"Operation failed with retryable error: "+e)}this.Yu.length>0&&this.M_.p_((()=>this.lc()))}}cc(e){const t=this.ac.then((()=>(this.rc=!0,e().catch((r=>{throw this.nc=r,this.rc=!1,hi("INTERNAL UNHANDLED ERROR: ",Zw(r)),r})).then((r=>(this.rc=!1,r))))));return this.ac=t,t}enqueueAfterDelay(e,t,r){this.uc(),this.oc.indexOf(e)>-1&&(t=0);const s=yg.createAndSchedule(this,e,t,r,(a=>this.hc(a)));return this.tc.push(s),s}uc(){this.nc&&Pe(47125,{Pc:Zw(this.nc)})}verifyOperationInProgress(){}async Tc(){let e;do e=this.ac,await e;while(e!==this.ac)}Ic(e){for(const t of this.tc)if(t.timerId===e)return!0;return!1}Ec(e){return this.Tc().then((()=>{this.tc.sort(((t,r)=>t.targetTimeMs-r.targetTimeMs));for(const t of this.tc)if(t.skipDelay(),e!=="all"&&t.timerId===e)break;return this.Tc()}))}Rc(e){this.oc.push(e)}hc(e){const t=this.tc.indexOf(e);this.tc.splice(t,1)}}function Zw(n){let e=n.message||"";return n.stack&&(e=n.stack.includes(n.message)?n.stack:n.message+`
`+n.stack),e}class Dr extends Sd{constructor(e,t,r,s){super(e,t,r,s),this.type="firestore",this._queue=new Xw,this._persistenceKey=s?.name||"[DEFAULT]"}async _terminate(){if(this._firestoreClient){const e=this._firestoreClient.terminate();this._queue=new Xw(e),this._firestoreClient=void 0,await e}}}function zx(n,e){const t=typeof n=="object"?n:wu(),r=typeof n=="string"?n:Oh,s=fi(t,"firestore").getImmediate({identifier:r});if(!s._initialized){const a=Pm("firestore");a&&jx(s,...a)}return s}function Ou(n){if(n._terminated)throw new ae(G.FAILED_PRECONDITION,"The client has already been terminated.");return n._firestoreClient||Bx(n),n._firestoreClient}function Bx(n){const e=n._freezeSettings(),t=Fx(n._databaseId,n._app?.options.appId||"",n._persistenceKey,n._app?.options.apiKey,e);n._componentsProvider||e.localCache?._offlineComponentProvider&&e.localCache?._onlineComponentProvider&&(n._componentsProvider={_offline:e.localCache._offlineComponentProvider,_online:e.localCache._onlineComponentProvider}),n._firestoreClient=new Nx(n._authCredentials,n._appCheckCredentials,n._queue,t,n._componentsProvider&&(function(s){const a=s?._online.build();return{_offline:s?._offline.build(a),_online:a}})(n._componentsProvider))}class $n{constructor(e){this._byteString=e}static fromBase64String(e){try{return new $n($t.fromBase64String(e))}catch(t){throw new ae(G.INVALID_ARGUMENT,"Failed to construct data from Base64 string: "+t)}}static fromUint8Array(e){return new $n($t.fromUint8Array(e))}toBase64(){return this._byteString.toBase64()}toUint8Array(){return this._byteString.toUint8Array()}toString(){return"Bytes(base64: "+this.toBase64()+")"}isEqual(e){return this._byteString.isEqual(e._byteString)}toJSON(){return{type:$n._jsonSchemaVersion,bytes:this.toBase64()}}static fromJSON(e){if(Pu(e,$n._jsonSchema))return $n.fromBase64String(e.bytes)}}$n._jsonSchemaVersion="firestore/bytes/1.0",$n._jsonSchema={type:kt("string",$n._jsonSchemaVersion),bytes:kt("string")};class Ad{constructor(...e){for(let t=0;t<e.length;++t)if(e[t].length===0)throw new ae(G.INVALID_ARGUMENT,"Invalid field name at argument $(i + 1). Field names must not be empty.");this._internalPath=new Bt(e)}isEqual(e){return this._internalPath.isEqual(e._internalPath)}}class Oa{constructor(e){this._methodName=e}}class Or{constructor(e,t){if(!isFinite(e)||e<-90||e>90)throw new ae(G.INVALID_ARGUMENT,"Latitude must be a number between -90 and 90, but was: "+e);if(!isFinite(t)||t<-180||t>180)throw new ae(G.INVALID_ARGUMENT,"Longitude must be a number between -180 and 180, but was: "+t);this._lat=e,this._long=t}get latitude(){return this._lat}get longitude(){return this._long}isEqual(e){return this._lat===e._lat&&this._long===e._long}_compareTo(e){return Fe(this._lat,e._lat)||Fe(this._long,e._long)}toJSON(){return{latitude:this._lat,longitude:this._long,type:Or._jsonSchemaVersion}}static fromJSON(e){if(Pu(e,Or._jsonSchema))return new Or(e.latitude,e.longitude)}}Or._jsonSchemaVersion="firestore/geoPoint/1.0",Or._jsonSchema={type:kt("string",Or._jsonSchemaVersion),latitude:kt("number"),longitude:kt("number")};class sr{constructor(e){this._values=(e||[]).map((t=>t))}toArray(){return this._values.map((e=>e))}isEqual(e){return(function(r,s){if(r.length!==s.length)return!1;for(let a=0;a<r.length;++a)if(r[a]!==s[a])return!1;return!0})(this._values,e._values)}toJSON(){return{type:sr._jsonSchemaVersion,vectorValues:this._values}}static fromJSON(e){if(Pu(e,sr._jsonSchema)){if(Array.isArray(e.vectorValues)&&e.vectorValues.every((t=>typeof t=="number")))return new sr(e.vectorValues);throw new ae(G.INVALID_ARGUMENT,"Expected 'vectorValues' field to be a number array")}}}sr._jsonSchemaVersion="firestore/vectorValue/1.0",sr._jsonSchema={type:kt("string",sr._jsonSchemaVersion),vectorValues:kt("object")};const $x=/^__.*__$/;class Hx{constructor(e,t,r){this.data=e,this.fieldMask=t,this.fieldTransforms=r}toMutation(e,t){return this.fieldMask!==null?new ds(e,this.data,this.fieldMask,t,this.fieldTransforms):new ku(e,this.data,t,this.fieldTransforms)}}class q0{constructor(e,t,r){this.data=e,this.fieldMask=t,this.fieldTransforms=r}toMutation(e,t){return new ds(e,this.data,this.fieldMask,t,this.fieldTransforms)}}function W0(n){switch(n){case 0:case 2:case 1:return!0;case 3:case 4:return!1;default:throw Pe(40011,{dataSource:n})}}class Rd{constructor(e,t,r,s,a,u){this.settings=e,this.databaseId=t,this.serializer=r,this.ignoreUndefinedProperties=s,a===void 0&&this.validatePath(),this.fieldTransforms=a||[],this.fieldMask=u||[]}get path(){return this.settings.path}get dataSource(){return this.settings.dataSource}contextWith(e){return new Rd({...this.settings,...e},this.databaseId,this.serializer,this.ignoreUndefinedProperties,this.fieldTransforms,this.fieldMask)}childContextForField(e){const t=this.path?.child(e),r=this.contextWith({path:t,arrayElement:!1});return r.validatePathSegment(e),r}childContextForFieldPath(e){const t=this.path?.child(e),r=this.contextWith({path:t,arrayElement:!1});return r.validatePath(),r}childContextForArray(e){return this.contextWith({path:void 0,arrayElement:!0})}createError(e){return zh(e,this.settings.methodName,this.settings.hasConverter||!1,this.path,this.settings.targetDoc)}contains(e){return this.fieldMask.find((t=>e.isPrefixOf(t)))!==void 0||this.fieldTransforms.find((t=>e.isPrefixOf(t.field)))!==void 0}validatePath(){if(this.path)for(let e=0;e<this.path.length;e++)this.validatePathSegment(this.path.get(e))}validatePathSegment(e){if(e.length===0)throw this.createError("Document fields must not be empty");if(W0(this.dataSource)&&$x.test(e))throw this.createError('Document fields cannot begin and end with "__"')}}class qx{constructor(e,t,r){this.databaseId=e,this.ignoreUndefinedProperties=t,this.serializer=r||Ed(e)}createContext(e,t,r,s=!1){return new Rd({dataSource:e,methodName:t,targetDoc:r,path:Bt.emptyPath(),arrayElement:!1,hasConverter:s},this.databaseId,this.serializer,this.ignoreUndefinedProperties)}}function xu(n){const e=n._freezeSettings(),t=Ed(n._databaseId);return new qx(n._databaseId,!!e.ignoreUndefinedProperties,t)}function Rg(n,e,t,r,s,a={}){const u=n.createContext(a.merge||a.mergeFields?2:0,e,t,s);bg("Data must be an object, but it was:",u,r);const d=Q0(r,u);let f,m;if(a.merge)f=new Cn(u.fieldMask),m=u.fieldTransforms;else if(a.mergeFields){const g=[];for(const E of a.mergeFields){const w=Js(e,E,t);if(!u.contains(w))throw new ae(G.INVALID_ARGUMENT,`Field '${w}' is specified in your field mask but missing from your input data.`);X0(g,w)||g.push(w)}f=new Cn(g),m=u.fieldTransforms.filter((E=>f.covers(E.field)))}else f=null,m=u.fieldTransforms;return new Hx(new yn(d),f,m)}class Du extends Oa{_toFieldTransform(e){if(e.dataSource!==2)throw e.dataSource===1?e.createError(`${this._methodName}() can only appear at the top level of your update data`):e.createError(`${this._methodName}() cannot be used with set() unless you pass {merge:true}`);return e.fieldMask.push(e.path),null}isEqual(e){return e instanceof Du}}function Wx(n,e,t){return new Rd({dataSource:3,targetDoc:e.settings.targetDoc,methodName:n._methodName,arrayElement:t},e.databaseId,e.serializer,e.ignoreUndefinedProperties)}class Pg extends Oa{_toFieldTransform(e){return new sg(e.path,new pu)}isEqual(e){return e instanceof Pg}}class kg extends Oa{constructor(e,t){super(e),this.Ac=t}_toFieldTransform(e){const t=Wx(this,e,!0),r=this.Ac.map((a=>xa(a,t))),s=new _a(r);return new sg(e.path,s)}isEqual(e){return e instanceof kg&&oi(this.Ac,e.Ac)}}class Cg extends Oa{constructor(e,t){super(e),this.Vc=t}_toFieldTransform(e){const t=new gu(e.serializer,i0(e.serializer,this.Vc));return new sg(e.path,t)}isEqual(e){return e instanceof Cg&&this.Vc===e.Vc}}function G0(n,e,t,r){const s=n.createContext(1,e,t);bg("Data must be an object, but it was:",s,r);const a=[],u=yn.empty();hs(r,((f,m)=>{const g=J0(e,f,t);m=ge(m);const E=s.childContextForFieldPath(g);if(m instanceof Du)a.push(g);else{const w=xa(m,E);w!=null&&(a.push(g),u.set(g,w))}}));const d=new Cn(a);return new q0(u,d,s.fieldTransforms)}function K0(n,e,t,r,s,a){const u=n.createContext(1,e,t),d=[Js(e,r,t)],f=[s];if(a.length%2!=0)throw new ae(G.INVALID_ARGUMENT,`Function ${e}() needs to be called with an even number of arguments that alternate between field names and values.`);for(let w=0;w<a.length;w+=2)d.push(Js(e,a[w])),f.push(a[w+1]);const m=[],g=yn.empty();for(let w=d.length-1;w>=0;--w)if(!X0(m,d[w])){const R=d[w];let M=f[w];M=ge(M);const $=u.childContextForFieldPath(R);if(M instanceof Du)m.push(R);else{const B=xa(M,$);B!=null&&(m.push(R),g.set(R,B))}}const E=new Cn(m);return new q0(g,E,u.fieldTransforms)}function Gx(n,e,t,r=!1){return xa(t,n.createContext(r?4:3,e))}function xa(n,e){if(Y0(n=ge(n)))return bg("Unsupported field value:",e,n),Q0(n,e);if(n instanceof Oa)return(function(r,s){if(!W0(s.dataSource))throw s.createError(`${r._methodName}() can only be used with update() and set()`);if(!s.path)throw s.createError(`${r._methodName}() is not currently supported inside arrays`);const a=r._toFieldTransform(s);a&&s.fieldTransforms.push(a)})(n,e),null;if(n===void 0&&e.ignoreUndefinedProperties)return null;if(e.path&&e.fieldMask.push(e.path),n instanceof Array){if(e.settings.arrayElement&&e.dataSource!==4)throw e.createError("Nested arrays are not supported");return(function(r,s){const a=[];let u=0;for(const d of r){let f=xa(d,s.childContextForArray(u));f==null&&(f={nullValue:"NULL_VALUE"}),a.push(f),u++}return{arrayValue:{values:a}}})(n,e)}return(function(r,s){if((r=ge(r))===null)return{nullValue:"NULL_VALUE"};if(typeof r=="number")return i0(s.serializer,r);if(typeof r=="boolean")return{booleanValue:r};if(typeof r=="string")return{stringValue:r};if(r instanceof Date){const a=rt.fromDate(r);return{timestampValue:Vh(s.serializer,a)}}if(r instanceof rt){const a=new rt(r.seconds,1e3*Math.floor(r.nanoseconds/1e3));return{timestampValue:Vh(s.serializer,a)}}if(r instanceof Or)return{geoPointValue:{latitude:r.latitude,longitude:r.longitude}};if(r instanceof $n)return{bytesValue:p0(s.serializer,r._byteString)};if(r instanceof pt){const a=s.databaseId,u=r.firestore._databaseId;if(!u.isEqual(a))throw s.createError(`Document reference is for database ${u.projectId}/${u.database} but should be for database ${a.projectId}/${a.database}`);return{referenceValue:lg(r.firestore._databaseId||s.databaseId,r._key.path)}}if(r instanceof sr)return(function(u,d){const f=u instanceof sr?u.toArray():u;return{mapValue:{fields:{[BI]:{stringValue:$I},[xh]:{arrayValue:{values:f.map((g=>{if(typeof g!="number")throw d.createError("VectorValues must only contain numeric values.");return ig(d.serializer,g)}))}}}}}})(r,s);if(E0(r))return r._toProto(s.serializer);throw s.createError(`Unsupported field value: ${cd(r)}`)})(n,e)}function Q0(n,e){const t={};return VI(n)?e.path&&e.path.length>0&&e.fieldMask.push(e.path):hs(n,((r,s)=>{const a=xa(s,e.childContextForField(r));a!=null&&(t[r]=a)})),{mapValue:{fields:t}}}function Y0(n){return!(typeof n!="object"||n===null||n instanceof Array||n instanceof Date||n instanceof rt||n instanceof Or||n instanceof $n||n instanceof pt||n instanceof Oa||n instanceof sr||E0(n))}function bg(n,e,t){if(!Y0(t)||!DI(t)){const r=cd(t);throw r==="an object"?e.createError(n+" a custom object"):e.createError(n+" "+r)}}function Js(n,e,t){if((e=ge(e))instanceof Ad)return e._internalPath;if(typeof e=="string")return J0(n,e);throw zh("Field path arguments must be of type string or ",n,!1,void 0,t)}const Kx=new RegExp("[~\\*/\\[\\]]");function J0(n,e,t){if(e.search(Kx)>=0)throw zh(`Invalid field path (${e}). Paths must not contain '~', '*', '/', '[', or ']'`,n,!1,void 0,t);try{return new Ad(...e.split("."))._internalPath}catch{throw zh(`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`,n,!1,void 0,t)}}function zh(n,e,t,r,s){const a=r&&!r.isEmpty(),u=s!==void 0;let d=`Function ${e}() called with invalid data`;t&&(d+=" (via `toFirestore()`)"),d+=". ";let f="";return(a||u)&&(f+=" (found",a&&(f+=` in field ${r}`),u&&(f+=` in document ${s}`),f+=")"),new ae(G.INVALID_ARGUMENT,d+n+f)}function X0(n,e){return n.some((t=>t.isEqual(e)))}class Qx{convertValue(e,t="none"){switch(as(e)){case 0:return null;case 1:return e.booleanValue;case 2:return Et(e.integerValue||e.doubleValue);case 3:return this.convertTimestamp(e.timestampValue);case 4:return this.convertServerTimestamp(e,t);case 5:return e.stringValue;case 6:return this.convertBytes(os(e.bytesValue));case 7:return this.convertReference(e.referenceValue);case 8:return this.convertGeoPoint(e.geoPointValue);case 9:return this.convertArray(e.arrayValue,t);case 11:return this.convertObject(e.mapValue,t);case 10:return this.convertVectorValue(e.mapValue);default:throw Pe(62114,{value:e})}}convertObject(e,t){return this.convertObjectMap(e.fields,t)}convertObjectMap(e,t="none"){const r={};return hs(e,((s,a)=>{r[s]=this.convertValue(a,t)})),r}convertVectorValue(e){const t=e.fields?.[xh].arrayValue?.values?.map((r=>Et(r.doubleValue)));return new sr(t)}convertGeoPoint(e){return new Or(Et(e.latitude),Et(e.longitude))}convertArray(e,t){return(e.values||[]).map((r=>this.convertValue(r,t)))}convertServerTimestamp(e,t){switch(t){case"previous":const r=fd(e);return r==null?null:this.convertValue(r,t);case"estimate":return this.convertTimestamp(cu(e));default:return null}}convertTimestamp(e){const t=ss(e);return new rt(t.seconds,t.nanos)}convertDocumentKey(e,t){const r=Ze.fromString(e);Ke(w0(r),9688,{name:e});const s=new hu(r.get(1),r.get(3)),a=new Se(r.popFirst(5));return s.isEqual(t)||hi(`Document ${a} contains a document reference within a different database (${s.projectId}/${s.database}) which is not supported. It will be treated as a reference in the current database (${t.projectId}/${t.database}) instead.`),a}}class Ng extends Qx{constructor(e){super(),this.firestore=e}convertBytes(e){return new $n(e)}convertReference(e){const t=this.convertDocumentKey(e,this.firestore._databaseId);return new pt(this.firestore,null,t)}}function VF(){return new Du("deleteField")}function ia(){return new Pg("serverTimestamp")}function MF(...n){return new kg("arrayUnion",n)}function Z0(n){return new Cg("increment",n)}const eE="@firebase/firestore",tE="4.10.0";function nE(n){return(function(t,r){if(typeof t!="object"||t===null)return!1;const s=t;for(const a of r)if(a in s&&typeof s[a]=="function")return!0;return!1})(n,["next","error","complete"])}class eS{constructor(e,t,r,s,a){this._firestore=e,this._userDataWriter=t,this._key=r,this._document=s,this._converter=a}get id(){return this._key.path.lastSegment()}get ref(){return new pt(this._firestore,this._converter,this._key)}exists(){return this._document!==null}data(){if(this._document){if(this._converter){const e=new Yx(this._firestore,this._userDataWriter,this._key,this._document,null);return this._converter.fromFirestore(e)}return this._userDataWriter.convertValue(this._document.data.value)}}_fieldsProto(){return this._document?.data.clone().value.mapValue.fields??void 0}get(e){if(this._document){const t=this._document.data.field(Js("DocumentSnapshot.get",e));if(t!==null)return this._userDataWriter.convertValue(t)}}}class Yx extends eS{data(){return super.data()}}function tS(n){if(n.limitType==="L"&&n.explicitOrderBy.length===0)throw new ae(G.UNIMPLEMENTED,"limitToLast() queries require specifying at least one orderBy() clause")}class Og{}class xg extends Og{}function Jx(n,e,...t){let r=[];e instanceof Og&&r.push(e),r=r.concat(t),(function(a){const u=a.filter((f=>f instanceof Dg)).length,d=a.filter((f=>f instanceof Pd)).length;if(u>1||u>0&&d>0)throw new ae(G.INVALID_ARGUMENT,"InvalidQuery. When using composite filters, you cannot use more than one filter at the top level. Consider nesting the multiple filters within an `and(...)` statement. For example: change `query(query, where(...), or(...))` to `query(query, and(where(...), or(...)))`.")})(r);for(const s of r)n=s._apply(n);return n}class Pd extends xg{constructor(e,t,r){super(),this._field=e,this._op=t,this._value=r,this.type="where"}static _create(e,t,r){return new Pd(e,t,r)}_apply(e){const t=this._parse(e);return nS(e._query,t),new gi(e.firestore,e.converter,im(e._query,t))}_parse(e){const t=xu(e.firestore);return(function(a,u,d,f,m,g,E){let w;if(m.isKeyField()){if(g==="array-contains"||g==="array-contains-any")throw new ae(G.INVALID_ARGUMENT,`Invalid Query. You can't perform '${g}' queries on documentId().`);if(g==="in"||g==="not-in"){iE(E,g);const M=[];for(const $ of E)M.push(rE(f,a,$));w={arrayValue:{values:M}}}else w=rE(f,a,E)}else g!=="in"&&g!=="not-in"&&g!=="array-contains-any"||iE(E,g),w=Gx(d,u,E,g==="in"||g==="not-in");return Pt.create(m,g,w)})(e._query,"where",t,e.firestore._databaseId,this._field,this._op,this._value)}}function UF(n,e,t){const r=e,s=Js("where",n);return Pd._create(s,r,t)}class Dg extends Og{constructor(e,t){super(),this.type=e,this._queryConstraints=t}static _create(e,t){return new Dg(e,t)}_parse(e){const t=this._queryConstraints.map((r=>r._parse(e))).filter((r=>r.getFilters().length>0));return t.length===1?t[0]:or.create(t,this._getOperator())}_apply(e){const t=this._parse(e);return t.getFilters().length===0?e:((function(s,a){let u=s;const d=a.getFlattenedFilters();for(const f of d)nS(u,f),u=im(u,f)})(e._query,t),new gi(e.firestore,e.converter,im(e._query,t)))}_getQueryConstraints(){return this._queryConstraints}_getOperator(){return this.type==="and"?"and":"or"}}class Lg extends xg{constructor(e,t){super(),this._field=e,this._direction=t,this.type="orderBy"}static _create(e,t){return new Lg(e,t)}_apply(e){const t=(function(s,a,u){if(s.startAt!==null)throw new ae(G.INVALID_ARGUMENT,"Invalid query. You must not call startAt() or startAfter() before calling orderBy().");if(s.endAt!==null)throw new ae(G.INVALID_ARGUMENT,"Invalid query. You must not call endAt() or endBefore() before calling orderBy().");return new fu(a,u)})(e._query,this._field,this._direction);return new gi(e.firestore,e.converter,IN(e._query,t))}}function Xx(n,e="asc"){const t=e,r=Js("orderBy",n);return Lg._create(r,t)}class Vg extends xg{constructor(e,t,r){super(),this.type=e,this._limit=t,this._limitType=r}static _create(e,t,r){return new Vg(e,t,r)}_apply(e){return new gi(e.firestore,e.converter,Lh(e._query,this._limit,this._limitType))}}function FF(n){return Kb("limit",n),Vg._create("limit",n,"F")}function rE(n,e,t){if(typeof(t=ge(t))=="string"){if(t==="")throw new ae(G.INVALID_ARGUMENT,"Invalid query. When querying with documentId(), you must provide a valid document ID, but it was an empty string.");if(!JI(e)&&t.indexOf("/")!==-1)throw new ae(G.INVALID_ARGUMENT,`Invalid query. When querying a collection by documentId(), you must provide a plain document ID, but '${t}' contains a '/' character.`);const r=e.path.child(Ze.fromString(t));if(!Se.isDocumentKey(r))throw new ae(G.INVALID_ARGUMENT,`Invalid query. When querying a collection group by documentId(), the value provided must result in a valid document path, but '${r}' is not because it has an odd number of segments (${r.length}).`);return yw(n,new Se(r))}if(t instanceof pt)return yw(n,t._key);throw new ae(G.INVALID_ARGUMENT,`Invalid query. When querying with documentId(), you must provide a valid string or a DocumentReference, but it was: ${cd(t)}.`)}function iE(n,e){if(!Array.isArray(n)||n.length===0)throw new ae(G.INVALID_ARGUMENT,`Invalid Query. A non-empty array is required for '${e.toString()}' filters.`)}function nS(n,e){const t=(function(s,a){for(const u of s)for(const d of u.getFlattenedFilters())if(a.indexOf(d.op)>=0)return d.op;return null})(n.filters,(function(s){switch(s){case"!=":return["!=","not-in"];case"array-contains-any":case"in":return["not-in"];case"not-in":return["array-contains-any","in","not-in","!="];default:return[]}})(e.op));if(t!==null)throw t===e.op?new ae(G.INVALID_ARGUMENT,`Invalid query. You cannot use more than one '${e.op.toString()}' filter.`):new ae(G.INVALID_ARGUMENT,`Invalid query. You cannot use '${e.op.toString()}' filters with '${t.toString()}' filters.`)}function Mg(n,e,t){let r;return r=n?t&&(t.merge||t.mergeFields)?n.toFirestore(e,t):n.toFirestore(e):e,r}class ql{constructor(e,t){this.hasPendingWrites=e,this.fromCache=t}isEqual(e){return this.hasPendingWrites===e.hasPendingWrites&&this.fromCache===e.fromCache}}class Ws extends eS{constructor(e,t,r,s,a,u){super(e,t,r,s,u),this._firestore=e,this._firestoreImpl=e,this.metadata=a}exists(){return super.exists()}data(e={}){if(this._document){if(this._converter){const t=new Ih(this._firestore,this._userDataWriter,this._key,this._document,this.metadata,null);return this._converter.fromFirestore(t,e)}return this._userDataWriter.convertValue(this._document.data.value,e.serverTimestamps)}}get(e,t={}){if(this._document){const r=this._document.data.field(Js("DocumentSnapshot.get",e));if(r!==null)return this._userDataWriter.convertValue(r,t.serverTimestamps)}}toJSON(){if(this.metadata.hasPendingWrites)throw new ae(G.FAILED_PRECONDITION,"DocumentSnapshot.toJSON() attempted to serialize a document with pending writes. Await waitForPendingWrites() before invoking toJSON().");const e=this._document,t={};return t.type=Ws._jsonSchemaVersion,t.bundle="",t.bundleSource="DocumentSnapshot",t.bundleName=this._key.toString(),!e||!e.isValidDocument()||!e.isFoundDocument()?t:(this._userDataWriter.convertObjectMap(e.data.value.mapValue.fields,"previous"),t.bundle=(this._firestore,this.ref.path,"NOT SUPPORTED"),t)}}Ws._jsonSchemaVersion="firestore/documentSnapshot/1.0",Ws._jsonSchema={type:kt("string",Ws._jsonSchemaVersion),bundleSource:kt("string","DocumentSnapshot"),bundleName:kt("string"),bundle:kt("string")};class Ih extends Ws{data(e={}){return super.data(e)}}class Gs{constructor(e,t,r,s){this._firestore=e,this._userDataWriter=t,this._snapshot=s,this.metadata=new ql(s.hasPendingWrites,s.fromCache),this.query=r}get docs(){const e=[];return this.forEach((t=>e.push(t))),e}get size(){return this._snapshot.docs.size}get empty(){return this.size===0}forEach(e,t){this._snapshot.docs.forEach((r=>{e.call(t,new Ih(this._firestore,this._userDataWriter,r.key,r,new ql(this._snapshot.mutatedKeys.has(r.key),this._snapshot.fromCache),this.query.converter))}))}docChanges(e={}){const t=!!e.includeMetadataChanges;if(t&&this._snapshot.excludesMetadataChanges)throw new ae(G.INVALID_ARGUMENT,"To include metadata changes with your document changes, you must also pass { includeMetadataChanges:true } to onSnapshot().");return this._cachedChanges&&this._cachedChangesIncludeMetadataChanges===t||(this._cachedChanges=(function(s,a){if(s._snapshot.oldDocs.isEmpty()){let u=0;return s._snapshot.docChanges.map((d=>{const f=new Ih(s._firestore,s._userDataWriter,d.doc.key,d.doc,new ql(s._snapshot.mutatedKeys.has(d.doc.key),s._snapshot.fromCache),s.query.converter);return d.doc,{type:"added",doc:f,oldIndex:-1,newIndex:u++}}))}{let u=s._snapshot.oldDocs;return s._snapshot.docChanges.filter((d=>a||d.type!==3)).map((d=>{const f=new Ih(s._firestore,s._userDataWriter,d.doc.key,d.doc,new ql(s._snapshot.mutatedKeys.has(d.doc.key),s._snapshot.fromCache),s.query.converter);let m=-1,g=-1;return d.type!==0&&(m=u.indexOf(d.doc.key),u=u.delete(d.doc.key)),d.type!==1&&(u=u.add(d.doc),g=u.indexOf(d.doc.key)),{type:Zx(d.type),doc:f,oldIndex:m,newIndex:g}}))}})(this,t),this._cachedChangesIncludeMetadataChanges=t),this._cachedChanges}toJSON(){if(this.metadata.hasPendingWrites)throw new ae(G.FAILED_PRECONDITION,"QuerySnapshot.toJSON() attempted to serialize a document with pending writes. Await waitForPendingWrites() before invoking toJSON().");const e={};e.type=Gs._jsonSchemaVersion,e.bundleSource="QuerySnapshot",e.bundleName=Xm.newId(),this._firestore._databaseId.database,this._firestore._databaseId.projectId;const t=[],r=[],s=[];return this.docs.forEach((a=>{a._document!==null&&(t.push(a._document),r.push(this._userDataWriter.convertObjectMap(a._document.data.value.mapValue.fields,"previous")),s.push(a.ref.path))})),e.bundle=(this._firestore,this.query._query,e.bundleName,"NOT SUPPORTED"),e}}function Zx(n){switch(n){case 0:return"added";case 2:case 3:return"modified";case 1:return"removed";default:return Pe(61501,{type:n})}}Gs._jsonSchemaVersion="firestore/querySnapshot/1.0",Gs._jsonSchema={type:kt("string",Gs._jsonSchemaVersion),bundleSource:kt("string","QuerySnapshot"),bundleName:kt("string"),bundle:kt("string")};class eD{constructor(e,t){this._firestore=e,this._commitHandler=t,this._mutations=[],this._committed=!1,this._dataReader=xu(e)}set(e,t,r){this._verifyNotCommitted();const s=bp(e,this._firestore),a=Mg(s.converter,t,r),u=Rg(this._dataReader,"WriteBatch.set",s._key,a,s.converter!==null,r);return this._mutations.push(u.toMutation(s._key,an.none())),this}update(e,t,r,...s){this._verifyNotCommitted();const a=bp(e,this._firestore);let u;return u=typeof(t=ge(t))=="string"||t instanceof Ad?K0(this._dataReader,"WriteBatch.update",a._key,t,r,s):G0(this._dataReader,"WriteBatch.update",a._key,t),this._mutations.push(u.toMutation(a._key,an.exists(!0))),this}delete(e){this._verifyNotCommitted();const t=bp(e,this._firestore);return this._mutations=this._mutations.concat(new vd(t._key,an.none())),this}commit(){return this._verifyNotCommitted(),this._committed=!0,this._mutations.length>0?this._commitHandler(this._mutations):Promise.resolve()}_verifyNotCommitted(){if(this._committed)throw new ae(G.FAILED_PRECONDITION,"A write batch can no longer be used after commit() has been called.")}}function bp(n,e){if((n=ge(n)).firestore!==e)throw new ae(G.INVALID_ARGUMENT,"Provided document reference is from a different Firestore instance.");return n}function tD(n){n=on(n,pt);const e=on(n.firestore,Dr),t=Ou(e);return Lx(t,n._key).then((r=>rS(e,n,r)))}function jF(n){n=on(n,gi);const e=on(n.firestore,Dr),t=Ou(e),r=new Ng(e);return tS(n._query),Vx(t,n._query).then((s=>new Gs(e,r,n,s)))}function Ug(n,e,t){n=on(n,pt);const r=on(n.firestore,Dr),s=Mg(n.converter,e,t),a=xu(r);return Lu(r,[Rg(a,"setDoc",n._key,s,n.converter!==null,t).toMutation(n._key,an.none())])}function pm(n,e,t,...r){n=on(n,pt);const s=on(n.firestore,Dr),a=xu(s);let u;return u=typeof(e=ge(e))=="string"||e instanceof Ad?K0(a,"updateDoc",n._key,e,t,r):G0(a,"updateDoc",n._key,e),Lu(s,[u.toMutation(n._key,an.exists(!0))])}function nD(n){return Lu(on(n.firestore,Dr),[new vd(n._key,an.none())])}function mm(n,e){const t=on(n.firestore,Dr),r=ri(n),s=Mg(n.converter,e),a=xu(n.firestore);return Lu(t,[Rg(a,"addDoc",r._key,s,n.converter!==null,{}).toMutation(r._key,an.exists(!1))]).then((()=>r))}function gm(n,...e){n=ge(n);let t={includeMetadataChanges:!1,source:"default"},r=0;typeof e[r]!="object"||nE(e[r])||(t=e[r++]);const s={includeMetadataChanges:t.includeMetadataChanges,source:t.source};if(nE(e[r])){const m=e[r];e[r]=m.next?.bind(m),e[r+1]=m.error?.bind(m),e[r+2]=m.complete?.bind(m)}let a,u,d;if(n instanceof pt)u=on(n.firestore,Dr),d=pd(n._key.path),a={next:m=>{e[r]&&e[r](rS(u,n,m))},error:e[r+1],complete:e[r+2]};else{const m=on(n,gi);u=on(m.firestore,Dr),d=m._query;const g=new Ng(u);a={next:E=>{e[r]&&e[r](new Gs(u,g,m,E))},error:e[r+1],complete:e[r+2]},tS(n._query)}const f=Ou(u);return Dx(f,d,s,a)}function Lu(n,e){const t=Ou(n);return Mx(t,e)}function rS(n,e,t){const r=t.docs.get(e._key),s=new Ng(n);return new Ws(n,s,e._key,r,new ql(t.hasPendingWrites,t.fromCache),e.converter)}function rD(n){return n=on(n,Dr),Ou(n),new eD(n,(e=>Lu(n,e)))}(function(e,t=!0){Vb(ro),Hn(new On("firestore",((r,{instanceIdentifier:s,options:a})=>{const u=r.getProvider("app").getImmediate(),d=new Dr(new Fb(r.getProvider("auth-internal")),new Bb(u,r.getProvider("app-check-internal")),oN(u,s),u);return a={useFetchStreams:t,...a},d._setSettings(a),d}),"PUBLIC").setMultipleInstances(!0)),Xt(eE,tE,e),Xt(eE,tE,"esm2020")})();const iS="firebasestorage.googleapis.com",sS="storageBucket",iD=120*1e3,sD=600*1e3;class yt extends xn{constructor(e,t,r=0){super(Np(e),`Firebase Storage: ${t} (${Np(e)})`),this.status_=r,this.customData={serverResponse:null},this._baseMessage=this.message,Object.setPrototypeOf(this,yt.prototype)}get status(){return this.status_}set status(e){this.status_=e}_codeEquals(e){return Np(e)===this.code}get serverResponse(){return this.customData.serverResponse}set serverResponse(e){this.customData.serverResponse=e,this.customData.serverResponse?this.message=`${this._baseMessage}
${this.customData.serverResponse}`:this.message=this._baseMessage}}var mt;(function(n){n.UNKNOWN="unknown",n.OBJECT_NOT_FOUND="object-not-found",n.BUCKET_NOT_FOUND="bucket-not-found",n.PROJECT_NOT_FOUND="project-not-found",n.QUOTA_EXCEEDED="quota-exceeded",n.UNAUTHENTICATED="unauthenticated",n.UNAUTHORIZED="unauthorized",n.UNAUTHORIZED_APP="unauthorized-app",n.RETRY_LIMIT_EXCEEDED="retry-limit-exceeded",n.INVALID_CHECKSUM="invalid-checksum",n.CANCELED="canceled",n.INVALID_EVENT_NAME="invalid-event-name",n.INVALID_URL="invalid-url",n.INVALID_DEFAULT_BUCKET="invalid-default-bucket",n.NO_DEFAULT_BUCKET="no-default-bucket",n.CANNOT_SLICE_BLOB="cannot-slice-blob",n.SERVER_FILE_WRONG_SIZE="server-file-wrong-size",n.NO_DOWNLOAD_URL="no-download-url",n.INVALID_ARGUMENT="invalid-argument",n.INVALID_ARGUMENT_COUNT="invalid-argument-count",n.APP_DELETED="app-deleted",n.INVALID_ROOT_OPERATION="invalid-root-operation",n.INVALID_FORMAT="invalid-format",n.INTERNAL_ERROR="internal-error",n.UNSUPPORTED_ENVIRONMENT="unsupported-environment"})(mt||(mt={}));function Np(n){return"storage/"+n}function Fg(){const n="An unknown error occurred, please check the error payload for server response.";return new yt(mt.UNKNOWN,n)}function oD(n){return new yt(mt.OBJECT_NOT_FOUND,"Object '"+n+"' does not exist.")}function aD(n){return new yt(mt.QUOTA_EXCEEDED,"Quota for bucket '"+n+"' exceeded, please view quota on https://firebase.google.com/pricing/.")}function lD(){const n="User is not authenticated, please authenticate using Firebase Authentication and try again.";return new yt(mt.UNAUTHENTICATED,n)}function uD(){return new yt(mt.UNAUTHORIZED_APP,"This app does not have permission to access Firebase Storage on this project.")}function cD(n){return new yt(mt.UNAUTHORIZED,"User does not have permission to access '"+n+"'.")}function hD(){return new yt(mt.RETRY_LIMIT_EXCEEDED,"Max retry time for operation exceeded, please try again.")}function dD(){return new yt(mt.CANCELED,"User canceled the upload/download.")}function fD(n){return new yt(mt.INVALID_URL,"Invalid URL '"+n+"'.")}function pD(n){return new yt(mt.INVALID_DEFAULT_BUCKET,"Invalid default bucket '"+n+"'.")}function mD(){return new yt(mt.NO_DEFAULT_BUCKET,"No default bucket found. Did you set the '"+sS+"' property when initializing the app?")}function gD(){return new yt(mt.CANNOT_SLICE_BLOB,"Cannot slice blob for upload. Please retry the upload.")}function yD(){return new yt(mt.NO_DOWNLOAD_URL,"The given file does not have any download URLs.")}function _D(n){return new yt(mt.UNSUPPORTED_ENVIRONMENT,`${n} is missing. Make sure to install the required polyfills. See https://firebase.google.com/docs/web/environments-js-sdk#polyfills for more information.`)}function ym(n){return new yt(mt.INVALID_ARGUMENT,n)}function oS(){return new yt(mt.APP_DELETED,"The Firebase app was deleted.")}function vD(n){return new yt(mt.INVALID_ROOT_OPERATION,"The operation '"+n+"' cannot be performed on a root reference, create a non-root reference using child, such as .child('file.png').")}function tu(n,e){return new yt(mt.INVALID_FORMAT,"String does not match format '"+n+"': "+e)}function Dl(n){throw new yt(mt.INTERNAL_ERROR,"Internal error: "+n)}class bn{constructor(e,t){this.bucket=e,this.path_=t}get path(){return this.path_}get isRoot(){return this.path.length===0}fullServerUrl(){const e=encodeURIComponent;return"/b/"+e(this.bucket)+"/o/"+e(this.path)}bucketOnlyServerUrl(){return"/b/"+encodeURIComponent(this.bucket)+"/o"}static makeFromBucketSpec(e,t){let r;try{r=bn.makeFromUrl(e,t)}catch{return new bn(e,"")}if(r.path==="")return r;throw pD(e)}static makeFromUrl(e,t){let r=null;const s="([A-Za-z0-9.\\-_]+)";function a(oe){oe.path.charAt(oe.path.length-1)==="/"&&(oe.path_=oe.path_.slice(0,-1))}const u="(/(.*))?$",d=new RegExp("^gs://"+s+u,"i"),f={bucket:1,path:3};function m(oe){oe.path_=decodeURIComponent(oe.path)}const g="v[A-Za-z0-9_]+",E=t.replace(/[.]/g,"\\."),w="(/([^?#]*).*)?$",R=new RegExp(`^https?://${E}/${g}/b/${s}/o${w}`,"i"),M={bucket:1,path:3},$=t===iS?"(?:storage.googleapis.com|storage.cloud.google.com)":t,B="([^?#]*)",te=new RegExp(`^https?://${$}/${s}/${B}`,"i"),ve=[{regex:d,indices:f,postModify:a},{regex:R,indices:M,postModify:m},{regex:te,indices:{bucket:1,path:2},postModify:m}];for(let oe=0;oe<ve.length;oe++){const Te=ve[oe],pe=Te.regex.exec(e);if(pe){const C=pe[Te.indices.bucket];let S=pe[Te.indices.path];S||(S=""),r=new bn(C,S),Te.postModify(r);break}}if(r==null)throw fD(e);return r}}class wD{constructor(e){this.promise_=Promise.reject(e)}getPromise(){return this.promise_}cancel(e=!1){}}function ED(n,e,t){let r=1,s=null,a=null,u=!1,d=0;function f(){return d===2}let m=!1;function g(...B){m||(m=!0,e.apply(null,B))}function E(B){s=setTimeout(()=>{s=null,n(R,f())},B)}function w(){a&&clearTimeout(a)}function R(B,...te){if(m){w();return}if(B){w(),g.call(null,B,...te);return}if(f()||u){w(),g.call(null,B,...te);return}r<64&&(r*=2);let ve;d===1?(d=2,ve=0):ve=(r+Math.random())*1e3,E(ve)}let M=!1;function $(B){M||(M=!0,w(),!m&&(s!==null?(B||(d=2),clearTimeout(s),E(0)):B||(d=1)))}return E(0),a=setTimeout(()=>{u=!0,$(!0)},t),$}function TD(n){n(!1)}function ID(n){return n!==void 0}function SD(n){return typeof n=="object"&&!Array.isArray(n)}function jg(n){return typeof n=="string"||n instanceof String}function sE(n){return zg()&&n instanceof Blob}function zg(){return typeof Blob<"u"}function oE(n,e,t,r){if(r<e)throw ym(`Invalid value for '${n}'. Expected ${e} or greater.`);if(r>t)throw ym(`Invalid value for '${n}'. Expected ${t} or less.`)}function Bg(n,e,t){let r=e;return t==null&&(r=`https://${e}`),`${t}://${r}/v0${n}`}function aS(n){const e=encodeURIComponent;let t="?";for(const r in n)if(n.hasOwnProperty(r)){const s=e(r)+"="+e(n[r]);t=t+s+"&"}return t=t.slice(0,-1),t}var Ks;(function(n){n[n.NO_ERROR=0]="NO_ERROR",n[n.NETWORK_ERROR=1]="NETWORK_ERROR",n[n.ABORT=2]="ABORT"})(Ks||(Ks={}));function AD(n,e){const t=n>=500&&n<600,s=[408,429].indexOf(n)!==-1,a=e.indexOf(n)!==-1;return t||s||a}class RD{constructor(e,t,r,s,a,u,d,f,m,g,E,w=!0,R=!1){this.url_=e,this.method_=t,this.headers_=r,this.body_=s,this.successCodes_=a,this.additionalRetryCodes_=u,this.callback_=d,this.errorCallback_=f,this.timeout_=m,this.progressCallback_=g,this.connectionFactory_=E,this.retry=w,this.isUsingEmulator=R,this.pendingConnection_=null,this.backoffId_=null,this.canceled_=!1,this.appDelete_=!1,this.promise_=new Promise((M,$)=>{this.resolve_=M,this.reject_=$,this.start_()})}start_(){const e=(r,s)=>{if(s){r(!1,new ah(!1,null,!0));return}const a=this.connectionFactory_();this.pendingConnection_=a;const u=d=>{const f=d.loaded,m=d.lengthComputable?d.total:-1;this.progressCallback_!==null&&this.progressCallback_(f,m)};this.progressCallback_!==null&&a.addUploadProgressListener(u),a.send(this.url_,this.method_,this.isUsingEmulator,this.body_,this.headers_).then(()=>{this.progressCallback_!==null&&a.removeUploadProgressListener(u),this.pendingConnection_=null;const d=a.getErrorCode()===Ks.NO_ERROR,f=a.getStatus();if(!d||AD(f,this.additionalRetryCodes_)&&this.retry){const g=a.getErrorCode()===Ks.ABORT;r(!1,new ah(!1,null,g));return}const m=this.successCodes_.indexOf(f)!==-1;r(!0,new ah(m,a))})},t=(r,s)=>{const a=this.resolve_,u=this.reject_,d=s.connection;if(s.wasSuccessCode)try{const f=this.callback_(d,d.getResponse());ID(f)?a(f):a()}catch(f){u(f)}else if(d!==null){const f=Fg();f.serverResponse=d.getErrorText(),this.errorCallback_?u(this.errorCallback_(d,f)):u(f)}else if(s.canceled){const f=this.appDelete_?oS():dD();u(f)}else{const f=hD();u(f)}};this.canceled_?t(!1,new ah(!1,null,!0)):this.backoffId_=ED(e,t,this.timeout_)}getPromise(){return this.promise_}cancel(e){this.canceled_=!0,this.appDelete_=e||!1,this.backoffId_!==null&&TD(this.backoffId_),this.pendingConnection_!==null&&this.pendingConnection_.abort()}}class ah{constructor(e,t,r){this.wasSuccessCode=e,this.connection=t,this.canceled=!!r}}function PD(n,e){e!==null&&e.length>0&&(n.Authorization="Firebase "+e)}function kD(n,e){n["X-Firebase-Storage-Version"]="webjs/"+(e??"AppManager")}function CD(n,e){e&&(n["X-Firebase-GMPID"]=e)}function bD(n,e){e!==null&&(n["X-Firebase-AppCheck"]=e)}function ND(n,e,t,r,s,a,u=!0,d=!1){const f=aS(n.urlParams),m=n.url+f,g=Object.assign({},n.headers);return CD(g,e),PD(g,t),kD(g,a),bD(g,r),new RD(m,n.method,g,n.body,n.successCodes,n.additionalRetryCodes,n.handler,n.errorHandler,n.timeout,n.progressCallback,s,u,d)}function OD(){return typeof BlobBuilder<"u"?BlobBuilder:typeof WebKitBlobBuilder<"u"?WebKitBlobBuilder:void 0}function xD(...n){const e=OD();if(e!==void 0){const t=new e;for(let r=0;r<n.length;r++)t.append(n[r]);return t.getBlob()}else{if(zg())return new Blob(n);throw new yt(mt.UNSUPPORTED_ENVIRONMENT,"This browser doesn't seem to support creating Blobs")}}function DD(n,e,t){return n.webkitSlice?n.webkitSlice(e,t):n.mozSlice?n.mozSlice(e,t):n.slice?n.slice(e,t):null}function LD(n){if(typeof atob>"u")throw _D("base-64");return atob(n)}const kr={RAW:"raw",BASE64:"base64",BASE64URL:"base64url",DATA_URL:"data_url"};class Op{constructor(e,t){this.data=e,this.contentType=t||null}}function VD(n,e){switch(n){case kr.RAW:return new Op(lS(e));case kr.BASE64:case kr.BASE64URL:return new Op(uS(n,e));case kr.DATA_URL:return new Op(UD(e),FD(e))}throw Fg()}function lS(n){const e=[];for(let t=0;t<n.length;t++){let r=n.charCodeAt(t);if(r<=127)e.push(r);else if(r<=2047)e.push(192|r>>6,128|r&63);else if((r&64512)===55296)if(!(t<n.length-1&&(n.charCodeAt(t+1)&64512)===56320))e.push(239,191,189);else{const a=r,u=n.charCodeAt(++t);r=65536|(a&1023)<<10|u&1023,e.push(240|r>>18,128|r>>12&63,128|r>>6&63,128|r&63)}else(r&64512)===56320?e.push(239,191,189):e.push(224|r>>12,128|r>>6&63,128|r&63)}return new Uint8Array(e)}function MD(n){let e;try{e=decodeURIComponent(n)}catch{throw tu(kr.DATA_URL,"Malformed data URL.")}return lS(e)}function uS(n,e){switch(n){case kr.BASE64:{const s=e.indexOf("-")!==-1,a=e.indexOf("_")!==-1;if(s||a)throw tu(n,"Invalid character '"+(s?"-":"_")+"' found: is it base64url encoded?");break}case kr.BASE64URL:{const s=e.indexOf("+")!==-1,a=e.indexOf("/")!==-1;if(s||a)throw tu(n,"Invalid character '"+(s?"+":"/")+"' found: is it base64 encoded?");e=e.replace(/-/g,"+").replace(/_/g,"/");break}}let t;try{t=LD(e)}catch(s){throw s.message.includes("polyfill")?s:tu(n,"Invalid character found")}const r=new Uint8Array(t.length);for(let s=0;s<t.length;s++)r[s]=t.charCodeAt(s);return r}class cS{constructor(e){this.base64=!1,this.contentType=null;const t=e.match(/^data:([^,]+)?,/);if(t===null)throw tu(kr.DATA_URL,"Must be formatted 'data:[<mediatype>][;base64],<data>");const r=t[1]||null;r!=null&&(this.base64=jD(r,";base64"),this.contentType=this.base64?r.substring(0,r.length-7):r),this.rest=e.substring(e.indexOf(",")+1)}}function UD(n){const e=new cS(n);return e.base64?uS(kr.BASE64,e.rest):MD(e.rest)}function FD(n){return new cS(n).contentType}function jD(n,e){return n.length>=e.length?n.substring(n.length-e.length)===e:!1}class Ji{constructor(e,t){let r=0,s="";sE(e)?(this.data_=e,r=e.size,s=e.type):e instanceof ArrayBuffer?(t?this.data_=new Uint8Array(e):(this.data_=new Uint8Array(e.byteLength),this.data_.set(new Uint8Array(e))),r=this.data_.length):e instanceof Uint8Array&&(t?this.data_=e:(this.data_=new Uint8Array(e.length),this.data_.set(e)),r=e.length),this.size_=r,this.type_=s}size(){return this.size_}type(){return this.type_}slice(e,t){if(sE(this.data_)){const r=this.data_,s=DD(r,e,t);return s===null?null:new Ji(s)}else{const r=new Uint8Array(this.data_.buffer,e,t-e);return new Ji(r,!0)}}static getBlob(...e){if(zg()){const t=e.map(r=>r instanceof Ji?r.data_:r);return new Ji(xD.apply(null,t))}else{const t=e.map(u=>jg(u)?VD(kr.RAW,u).data:u.data_);let r=0;t.forEach(u=>{r+=u.byteLength});const s=new Uint8Array(r);let a=0;return t.forEach(u=>{for(let d=0;d<u.length;d++)s[a++]=u[d]}),new Ji(s,!0)}}uploadData(){return this.data_}}function hS(n){let e;try{e=JSON.parse(n)}catch{return null}return SD(e)?e:null}function zD(n){if(n.length===0)return null;const e=n.lastIndexOf("/");return e===-1?"":n.slice(0,e)}function BD(n,e){const t=e.split("/").filter(r=>r.length>0).join("/");return n.length===0?t:n+"/"+t}function dS(n){const e=n.lastIndexOf("/",n.length-2);return e===-1?n:n.slice(e+1)}function $D(n,e){return e}class rn{constructor(e,t,r,s){this.server=e,this.local=t||e,this.writable=!!r,this.xform=s||$D}}let lh=null;function HD(n){return!jg(n)||n.length<2?n:dS(n)}function fS(){if(lh)return lh;const n=[];n.push(new rn("bucket")),n.push(new rn("generation")),n.push(new rn("metageneration")),n.push(new rn("name","fullPath",!0));function e(a,u){return HD(u)}const t=new rn("name");t.xform=e,n.push(t);function r(a,u){return u!==void 0?Number(u):u}const s=new rn("size");return s.xform=r,n.push(s),n.push(new rn("timeCreated")),n.push(new rn("updated")),n.push(new rn("md5Hash",null,!0)),n.push(new rn("cacheControl",null,!0)),n.push(new rn("contentDisposition",null,!0)),n.push(new rn("contentEncoding",null,!0)),n.push(new rn("contentLanguage",null,!0)),n.push(new rn("contentType",null,!0)),n.push(new rn("metadata","customMetadata",!0)),lh=n,lh}function qD(n,e){function t(){const r=n.bucket,s=n.fullPath,a=new bn(r,s);return e._makeStorageReference(a)}Object.defineProperty(n,"ref",{get:t})}function WD(n,e,t){const r={};r.type="file";const s=t.length;for(let a=0;a<s;a++){const u=t[a];r[u.local]=u.xform(r,e[u.server])}return qD(r,n),r}function pS(n,e,t){const r=hS(e);return r===null?null:WD(n,r,t)}function GD(n,e,t,r){const s=hS(e);if(s===null||!jg(s.downloadTokens))return null;const a=s.downloadTokens;if(a.length===0)return null;const u=encodeURIComponent;return a.split(",").map(m=>{const g=n.bucket,E=n.fullPath,w="/b/"+u(g)+"/o/"+u(E),R=Bg(w,t,r),M=aS({alt:"media",token:m});return R+M})[0]}function KD(n,e){const t={},r=e.length;for(let s=0;s<r;s++){const a=e[s];a.writable&&(t[a.server]=n[a.local])}return JSON.stringify(t)}class mS{constructor(e,t,r,s){this.url=e,this.method=t,this.handler=r,this.timeout=s,this.urlParams={},this.headers={},this.body=null,this.errorHandler=null,this.progressCallback=null,this.successCodes=[200],this.additionalRetryCodes=[]}}function gS(n){if(!n)throw Fg()}function QD(n,e){function t(r,s){const a=pS(n,s,e);return gS(a!==null),a}return t}function YD(n,e){function t(r,s){const a=pS(n,s,e);return gS(a!==null),GD(a,s,n.host,n._protocol)}return t}function yS(n){function e(t,r){let s;return t.getStatus()===401?t.getErrorText().includes("Firebase App Check token is invalid")?s=uD():s=lD():t.getStatus()===402?s=aD(n.bucket):t.getStatus()===403?s=cD(n.path):s=r,s.status=t.getStatus(),s.serverResponse=r.serverResponse,s}return e}function JD(n){const e=yS(n);function t(r,s){let a=e(r,s);return r.getStatus()===404&&(a=oD(n.path)),a.serverResponse=s.serverResponse,a}return t}function XD(n,e,t){const r=e.fullServerUrl(),s=Bg(r,n.host,n._protocol),a="GET",u=n.maxOperationRetryTime,d=new mS(s,a,YD(n,t),u);return d.errorHandler=JD(e),d}function ZD(n,e){return n&&n.contentType||e&&e.type()||"application/octet-stream"}function eL(n,e,t){const r=Object.assign({},t);return r.fullPath=n.path,r.size=e.size(),r.contentType||(r.contentType=ZD(null,e)),r}function tL(n,e,t,r,s){const a=e.bucketOnlyServerUrl(),u={"X-Goog-Upload-Protocol":"multipart"};function d(){let ve="";for(let oe=0;oe<2;oe++)ve=ve+Math.random().toString().slice(2);return ve}const f=d();u["Content-Type"]="multipart/related; boundary="+f;const m=eL(e,r,s),g=KD(m,t),E="--"+f+`\r
Content-Type: application/json; charset=utf-8\r
\r
`+g+`\r
--`+f+`\r
Content-Type: `+m.contentType+`\r
\r
`,w=`\r
--`+f+"--",R=Ji.getBlob(E,r,w);if(R===null)throw gD();const M={name:m.fullPath},$=Bg(a,n.host,n._protocol),B="POST",te=n.maxUploadRetryTime,le=new mS($,B,QD(n,t),te);return le.urlParams=M,le.headers=u,le.body=R.uploadData(),le.errorHandler=yS(e),le}class nL{constructor(){this.sent_=!1,this.xhr_=new XMLHttpRequest,this.initXhr(),this.errorCode_=Ks.NO_ERROR,this.sendPromise_=new Promise(e=>{this.xhr_.addEventListener("abort",()=>{this.errorCode_=Ks.ABORT,e()}),this.xhr_.addEventListener("error",()=>{this.errorCode_=Ks.NETWORK_ERROR,e()}),this.xhr_.addEventListener("load",()=>{e()})})}send(e,t,r,s,a){if(this.sent_)throw Dl("cannot .send() more than once");if(Lr(e)&&r&&(this.xhr_.withCredentials=!0),this.sent_=!0,this.xhr_.open(t,e,!0),a!==void 0)for(const u in a)a.hasOwnProperty(u)&&this.xhr_.setRequestHeader(u,a[u].toString());return s!==void 0?this.xhr_.send(s):this.xhr_.send(),this.sendPromise_}getErrorCode(){if(!this.sent_)throw Dl("cannot .getErrorCode() before sending");return this.errorCode_}getStatus(){if(!this.sent_)throw Dl("cannot .getStatus() before sending");try{return this.xhr_.status}catch{return-1}}getResponse(){if(!this.sent_)throw Dl("cannot .getResponse() before sending");return this.xhr_.response}getErrorText(){if(!this.sent_)throw Dl("cannot .getErrorText() before sending");return this.xhr_.statusText}abort(){this.xhr_.abort()}getResponseHeader(e){return this.xhr_.getResponseHeader(e)}addUploadProgressListener(e){this.xhr_.upload!=null&&this.xhr_.upload.addEventListener("progress",e)}removeUploadProgressListener(e){this.xhr_.upload!=null&&this.xhr_.upload.removeEventListener("progress",e)}}class rL extends nL{initXhr(){this.xhr_.responseType="text"}}function _S(){return new rL}class Xs{constructor(e,t){this._service=e,t instanceof bn?this._location=t:this._location=bn.makeFromUrl(t,e.host)}toString(){return"gs://"+this._location.bucket+"/"+this._location.path}_newRef(e,t){return new Xs(e,t)}get root(){const e=new bn(this._location.bucket,"");return this._newRef(this._service,e)}get bucket(){return this._location.bucket}get fullPath(){return this._location.path}get name(){return dS(this._location.path)}get storage(){return this._service}get parent(){const e=zD(this._location.path);if(e===null)return null;const t=new bn(this._location.bucket,e);return new Xs(this._service,t)}_throwIfRoot(e){if(this._location.path==="")throw vD(e)}}function iL(n,e,t){n._throwIfRoot("uploadBytes");const r=tL(n.storage,n._location,fS(),new Ji(e,!0),t);return n.storage.makeRequestWithTokens(r,_S).then(s=>({metadata:s,ref:n}))}function sL(n){n._throwIfRoot("getDownloadURL");const e=XD(n.storage,n._location,fS());return n.storage.makeRequestWithTokens(e,_S).then(t=>{if(t===null)throw yD();return t})}function oL(n,e){const t=BD(n._location.path,e),r=new bn(n._location.bucket,t);return new Xs(n.storage,r)}function aL(n){return/^[A-Za-z]+:\/\//.test(n)}function lL(n,e){return new Xs(n,e)}function vS(n,e){if(n instanceof $g){const t=n;if(t._bucket==null)throw mD();const r=new Xs(t,t._bucket);return e!=null?vS(r,e):r}else return e!==void 0?oL(n,e):n}function uL(n,e){if(e&&aL(e)){if(n instanceof $g)return lL(n,e);throw ym("To use ref(service, url), the first argument must be a Storage instance.")}else return vS(n,e)}function aE(n,e){const t=e?.[sS];return t==null?null:bn.makeFromBucketSpec(t,n)}function cL(n,e,t,r={}){n.host=`${e}:${t}`;const s=Lr(e);s&&(Zh(`https://${n.host}/b`),ed("Storage",!0)),n._isUsingEmulator=!0,n._protocol=s?"https":"http";const{mockUserToken:a}=r;a&&(n._overrideAuthToken=typeof a=="string"?a:RT(a,n.app.options.projectId))}class $g{constructor(e,t,r,s,a,u=!1){this.app=e,this._authProvider=t,this._appCheckProvider=r,this._url=s,this._firebaseVersion=a,this._isUsingEmulator=u,this._bucket=null,this._host=iS,this._protocol="https",this._appId=null,this._deleted=!1,this._maxOperationRetryTime=iD,this._maxUploadRetryTime=sD,this._requests=new Set,s!=null?this._bucket=bn.makeFromBucketSpec(s,this._host):this._bucket=aE(this._host,this.app.options)}get host(){return this._host}set host(e){this._host=e,this._url!=null?this._bucket=bn.makeFromBucketSpec(this._url,e):this._bucket=aE(e,this.app.options)}get maxUploadRetryTime(){return this._maxUploadRetryTime}set maxUploadRetryTime(e){oE("time",0,Number.POSITIVE_INFINITY,e),this._maxUploadRetryTime=e}get maxOperationRetryTime(){return this._maxOperationRetryTime}set maxOperationRetryTime(e){oE("time",0,Number.POSITIVE_INFINITY,e),this._maxOperationRetryTime=e}async _getAuthToken(){if(this._overrideAuthToken)return this._overrideAuthToken;const e=this._authProvider.getImmediate({optional:!0});if(e){const t=await e.getToken();if(t!==null)return t.accessToken}return null}async _getAppCheckToken(){if(it(this.app)&&this.app.settings.appCheckToken)return this.app.settings.appCheckToken;const e=this._appCheckProvider.getImmediate({optional:!0});return e?(await e.getToken()).token:null}_delete(){return this._deleted||(this._deleted=!0,this._requests.forEach(e=>e.cancel()),this._requests.clear()),Promise.resolve()}_makeStorageReference(e){return new Xs(this,e)}_makeRequest(e,t,r,s,a=!0){if(this._deleted)return new wD(oS());{const u=ND(e,this._appId,r,s,t,this._firebaseVersion,a,this._isUsingEmulator);return this._requests.add(u),u.getPromise().then(()=>this._requests.delete(u),()=>this._requests.delete(u)),u}}async makeRequestWithTokens(e,t){const[r,s]=await Promise.all([this._getAuthToken(),this._getAppCheckToken()]);return this._makeRequest(e,t,r,s).getPromise()}}const lE="@firebase/storage",uE="0.14.0";const wS="storage";function zF(n,e,t){return n=ge(n),iL(n,e,t)}function BF(n){return n=ge(n),sL(n)}function $F(n,e){return n=ge(n),uL(n,e)}function hL(n=wu(),e){n=ge(n);const r=fi(n,wS).getImmediate({identifier:e}),s=Pm("storage");return s&&dL(r,...s),r}function dL(n,e,t,r={}){cL(n,e,t,r)}function fL(n,{instanceIdentifier:e}){const t=n.getProvider("app").getImmediate(),r=n.getProvider("auth-internal"),s=n.getProvider("app-check-internal");return new $g(t,r,s,e,ro)}function pL(){Hn(new On(wS,fL,"PUBLIC").setMultipleInstances(!0)),Xt(lE,uE,""),Xt(lE,uE,"esm2020")}pL();const ES="@firebase/installations",Hg="0.6.19";const TS=1e4,IS=`w:${Hg}`,SS="FIS_v2",mL="https://firebaseinstallations.googleapis.com/v1",gL=3600*1e3,yL="installations",_L="Installations";const vL={"missing-app-config-values":'Missing App configuration value: "{$valueName}"',"not-registered":"Firebase Installation is not registered.","installation-not-found":"Firebase Installation not found.","request-failed":'{$requestName} request failed with error "{$serverCode} {$serverStatus}: {$serverMessage}"',"app-offline":"Could not process request. Application offline.","delete-pending-registration":"Can't delete installation while there is a pending registration request."},Zs=new no(yL,_L,vL);function AS(n){return n instanceof xn&&n.code.includes("request-failed")}function RS({projectId:n}){return`${mL}/projects/${n}/installations`}function PS(n){return{token:n.token,requestStatus:2,expiresIn:EL(n.expiresIn),creationTime:Date.now()}}async function kS(n,e){const r=(await e.json()).error;return Zs.create("request-failed",{requestName:n,serverCode:r.code,serverMessage:r.message,serverStatus:r.status})}function CS({apiKey:n}){return new Headers({"Content-Type":"application/json",Accept:"application/json","x-goog-api-key":n})}function wL(n,{refreshToken:e}){const t=CS(n);return t.append("Authorization",TL(e)),t}async function bS(n){const e=await n();return e.status>=500&&e.status<600?n():e}function EL(n){return Number(n.replace("s","000"))}function TL(n){return`${SS} ${n}`}async function IL({appConfig:n,heartbeatServiceProvider:e},{fid:t}){const r=RS(n),s=CS(n),a=e.getImmediate({optional:!0});if(a){const m=await a.getHeartbeatsHeader();m&&s.append("x-firebase-client",m)}const u={fid:t,authVersion:SS,appId:n.appId,sdkVersion:IS},d={method:"POST",headers:s,body:JSON.stringify(u)},f=await bS(()=>fetch(r,d));if(f.ok){const m=await f.json();return{fid:m.fid||t,registrationStatus:2,refreshToken:m.refreshToken,authToken:PS(m.authToken)}}else throw await kS("Create Installation",f)}function NS(n){return new Promise(e=>{setTimeout(e,n)})}function SL(n){return btoa(String.fromCharCode(...n)).replace(/\+/g,"-").replace(/\//g,"_")}const AL=/^[cdef][\w-]{21}$/,_m="";function RL(){try{const n=new Uint8Array(17);(self.crypto||self.msCrypto).getRandomValues(n),n[0]=112+n[0]%16;const t=PL(n);return AL.test(t)?t:_m}catch{return _m}}function PL(n){return SL(n).substr(0,22)}function kd(n){return`${n.appName}!${n.appId}`}const OS=new Map;function xS(n,e){const t=kd(n);DS(t,e),kL(t,e)}function DS(n,e){const t=OS.get(n);if(t)for(const r of t)r(e)}function kL(n,e){const t=CL();t&&t.postMessage({key:n,fid:e}),bL()}let Hs=null;function CL(){return!Hs&&"BroadcastChannel"in self&&(Hs=new BroadcastChannel("[Firebase] FID Change"),Hs.onmessage=n=>{DS(n.data.key,n.data.fid)}),Hs}function bL(){OS.size===0&&Hs&&(Hs.close(),Hs=null)}const NL="firebase-installations-database",OL=1,eo="firebase-installations-store";let xp=null;function qg(){return xp||(xp=bT(NL,OL,{upgrade:(n,e)=>{e===0&&n.createObjectStore(eo)}})),xp}async function Bh(n,e){const t=kd(n),s=(await qg()).transaction(eo,"readwrite"),a=s.objectStore(eo),u=await a.get(t);return await a.put(e,t),await s.done,(!u||u.fid!==e.fid)&&xS(n,e.fid),e}async function LS(n){const e=kd(n),r=(await qg()).transaction(eo,"readwrite");await r.objectStore(eo).delete(e),await r.done}async function Cd(n,e){const t=kd(n),s=(await qg()).transaction(eo,"readwrite"),a=s.objectStore(eo),u=await a.get(t),d=e(u);return d===void 0?await a.delete(t):await a.put(d,t),await s.done,d&&(!u||u.fid!==d.fid)&&xS(n,d.fid),d}async function Wg(n){let e;const t=await Cd(n.appConfig,r=>{const s=xL(r),a=DL(n,s);return e=a.registrationPromise,a.installationEntry});return t.fid===_m?{installationEntry:await e}:{installationEntry:t,registrationPromise:e}}function xL(n){const e=n||{fid:RL(),registrationStatus:0};return VS(e)}function DL(n,e){if(e.registrationStatus===0){if(!navigator.onLine){const s=Promise.reject(Zs.create("app-offline"));return{installationEntry:e,registrationPromise:s}}const t={fid:e.fid,registrationStatus:1,registrationTime:Date.now()},r=LL(n,t);return{installationEntry:t,registrationPromise:r}}else return e.registrationStatus===1?{installationEntry:e,registrationPromise:VL(n)}:{installationEntry:e}}async function LL(n,e){try{const t=await IL(n,e);return Bh(n.appConfig,t)}catch(t){throw AS(t)&&t.customData.serverCode===409?await LS(n.appConfig):await Bh(n.appConfig,{fid:e.fid,registrationStatus:0}),t}}async function VL(n){let e=await cE(n.appConfig);for(;e.registrationStatus===1;)await NS(100),e=await cE(n.appConfig);if(e.registrationStatus===0){const{installationEntry:t,registrationPromise:r}=await Wg(n);return r||t}return e}function cE(n){return Cd(n,e=>{if(!e)throw Zs.create("installation-not-found");return VS(e)})}function VS(n){return ML(n)?{fid:n.fid,registrationStatus:0}:n}function ML(n){return n.registrationStatus===1&&n.registrationTime+TS<Date.now()}async function UL({appConfig:n,heartbeatServiceProvider:e},t){const r=FL(n,t),s=wL(n,t),a=e.getImmediate({optional:!0});if(a){const m=await a.getHeartbeatsHeader();m&&s.append("x-firebase-client",m)}const u={installation:{sdkVersion:IS,appId:n.appId}},d={method:"POST",headers:s,body:JSON.stringify(u)},f=await bS(()=>fetch(r,d));if(f.ok){const m=await f.json();return PS(m)}else throw await kS("Generate Auth Token",f)}function FL(n,{fid:e}){return`${RS(n)}/${e}/authTokens:generate`}async function Gg(n,e=!1){let t;const r=await Cd(n.appConfig,a=>{if(!MS(a))throw Zs.create("not-registered");const u=a.authToken;if(!e&&BL(u))return a;if(u.requestStatus===1)return t=jL(n,e),a;{if(!navigator.onLine)throw Zs.create("app-offline");const d=HL(a);return t=zL(n,d),d}});return t?await t:r.authToken}async function jL(n,e){let t=await hE(n.appConfig);for(;t.authToken.requestStatus===1;)await NS(100),t=await hE(n.appConfig);const r=t.authToken;return r.requestStatus===0?Gg(n,e):r}function hE(n){return Cd(n,e=>{if(!MS(e))throw Zs.create("not-registered");const t=e.authToken;return qL(t)?{...e,authToken:{requestStatus:0}}:e})}async function zL(n,e){try{const t=await UL(n,e),r={...e,authToken:t};return await Bh(n.appConfig,r),t}catch(t){if(AS(t)&&(t.customData.serverCode===401||t.customData.serverCode===404))await LS(n.appConfig);else{const r={...e,authToken:{requestStatus:0}};await Bh(n.appConfig,r)}throw t}}function MS(n){return n!==void 0&&n.registrationStatus===2}function BL(n){return n.requestStatus===2&&!$L(n)}function $L(n){const e=Date.now();return e<n.creationTime||n.creationTime+n.expiresIn<e+gL}function HL(n){const e={requestStatus:1,requestTime:Date.now()};return{...n,authToken:e}}function qL(n){return n.requestStatus===1&&n.requestTime+TS<Date.now()}async function WL(n){const e=n,{installationEntry:t,registrationPromise:r}=await Wg(e);return r?r.catch(console.error):Gg(e).catch(console.error),t.fid}async function GL(n,e=!1){const t=n;return await KL(t),(await Gg(t,e)).token}async function KL(n){const{registrationPromise:e}=await Wg(n);e&&await e}function QL(n){if(!n||!n.options)throw Dp("App Configuration");if(!n.name)throw Dp("App Name");const e=["projectId","apiKey","appId"];for(const t of e)if(!n.options[t])throw Dp(t);return{appName:n.name,projectId:n.options.projectId,apiKey:n.options.apiKey,appId:n.options.appId}}function Dp(n){return Zs.create("missing-app-config-values",{valueName:n})}const US="installations",YL="installations-internal",JL=n=>{const e=n.getProvider("app").getImmediate(),t=QL(e),r=fi(e,"heartbeat");return{app:e,appConfig:t,heartbeatServiceProvider:r,_delete:()=>Promise.resolve()}},XL=n=>{const e=n.getProvider("app").getImmediate(),t=fi(e,US).getImmediate();return{getId:()=>WL(t),getToken:s=>GL(t,s)}};function ZL(){Hn(new On(US,JL,"PUBLIC")),Hn(new On(YL,XL,"PRIVATE"))}ZL();Xt(ES,Hg);Xt(ES,Hg,"esm2020");const $h="analytics",e2="firebase_id",t2="origin",n2=60*1e3,r2="https://firebase.googleapis.com/v1alpha/projects/-/apps/{app-id}/webConfig",Kg="https://www.googletagmanager.com/gtag/js";const ln=new td("@firebase/analytics");const i2={"already-exists":"A Firebase Analytics instance with the appId {$id}  already exists. Only one Firebase Analytics instance can be created for each appId.","already-initialized":"initializeAnalytics() cannot be called again with different options than those it was initially called with. It can be called again with the same options to return the existing instance, or getAnalytics() can be used to get a reference to the already-initialized instance.","already-initialized-settings":"Firebase Analytics has already been initialized.settings() must be called before initializing any Analytics instanceor it will have no effect.","interop-component-reg-failed":"Firebase Analytics Interop Component failed to instantiate: {$reason}","invalid-analytics-context":"Firebase Analytics is not supported in this environment. Wrap initialization of analytics in analytics.isSupported() to prevent initialization in unsupported environments. Details: {$errorInfo}","indexeddb-unavailable":"IndexedDB unavailable or restricted in this environment. Wrap initialization of analytics in analytics.isSupported() to prevent initialization in unsupported environments. Details: {$errorInfo}","fetch-throttle":"The config fetch request timed out while in an exponential backoff state. Unix timestamp in milliseconds when fetch request throttling ends: {$throttleEndTimeMillis}.","config-fetch-failed":"Dynamic config fetch failed: [{$httpStatus}] {$responseMessage}","no-api-key":'The "apiKey" field is empty in the local Firebase config. Firebase Analytics requires this field tocontain a valid API key.',"no-app-id":'The "appId" field is empty in the local Firebase config. Firebase Analytics requires this field tocontain a valid app ID.',"no-client-id":'The "client_id" field is empty.',"invalid-gtag-resource":"Trusted Types detected an invalid gtag resource: {$gtagURL}."},Nn=new no("analytics","Analytics",i2);function s2(n){if(!n.startsWith(Kg)){const e=Nn.create("invalid-gtag-resource",{gtagURL:n});return ln.warn(e.message),""}return n}function FS(n){return Promise.all(n.map(e=>e.catch(t=>t)))}function o2(n,e){let t;return window.trustedTypes&&(t=window.trustedTypes.createPolicy(n,e)),t}function a2(n,e){const t=o2("firebase-js-sdk-policy",{createScriptURL:s2}),r=document.createElement("script"),s=`${Kg}?l=${n}&id=${e}`;r.src=t?t?.createScriptURL(s):s,r.async=!0,document.head.appendChild(r)}function l2(n){let e=[];return Array.isArray(window[n])?e=window[n]:window[n]=e,e}async function u2(n,e,t,r,s,a){const u=r[s];try{if(u)await e[u];else{const f=(await FS(t)).find(m=>m.measurementId===s);f&&await e[f.appId]}}catch(d){ln.error(d)}n("config",s,a)}async function c2(n,e,t,r,s){try{let a=[];if(s&&s.send_to){let u=s.send_to;Array.isArray(u)||(u=[u]);const d=await FS(t);for(const f of u){const m=d.find(E=>E.measurementId===f),g=m&&e[m.appId];if(g)a.push(g);else{a=[];break}}}a.length===0&&(a=Object.values(e)),await Promise.all(a),n("event",r,s||{})}catch(a){ln.error(a)}}function h2(n,e,t,r){async function s(a,...u){try{if(a==="event"){const[d,f]=u;await c2(n,e,t,d,f)}else if(a==="config"){const[d,f]=u;await u2(n,e,t,r,d,f)}else if(a==="consent"){const[d,f]=u;n("consent",d,f)}else if(a==="get"){const[d,f,m]=u;n("get",d,f,m)}else if(a==="set"){const[d]=u;n("set",d)}else n(a,...u)}catch(d){ln.error(d)}}return s}function d2(n,e,t,r,s){let a=function(...u){window[r].push(arguments)};return window[s]&&typeof window[s]=="function"&&(a=window[s]),window[s]=h2(a,n,e,t),{gtagCore:a,wrappedGtag:window[s]}}function f2(n){const e=window.document.getElementsByTagName("script");for(const t of Object.values(e))if(t.src&&t.src.includes(Kg)&&t.src.includes(n))return t;return null}const p2=30,m2=1e3;class g2{constructor(e={},t=m2){this.throttleMetadata=e,this.intervalMillis=t}getThrottleMetadata(e){return this.throttleMetadata[e]}setThrottleMetadata(e,t){this.throttleMetadata[e]=t}deleteThrottleMetadata(e){delete this.throttleMetadata[e]}}const jS=new g2;function y2(n){return new Headers({Accept:"application/json","x-goog-api-key":n})}async function _2(n){const{appId:e,apiKey:t}=n,r={method:"GET",headers:y2(t)},s=r2.replace("{app-id}",e),a=await fetch(s,r);if(a.status!==200&&a.status!==304){let u="";try{const d=await a.json();d.error?.message&&(u=d.error.message)}catch{}throw Nn.create("config-fetch-failed",{httpStatus:a.status,responseMessage:u})}return a.json()}async function v2(n,e=jS,t){const{appId:r,apiKey:s,measurementId:a}=n.options;if(!r)throw Nn.create("no-app-id");if(!s){if(a)return{measurementId:a,appId:r};throw Nn.create("no-api-key")}const u=e.getThrottleMetadata(r)||{backoffCount:0,throttleEndTimeMillis:Date.now()},d=new T2;return setTimeout(async()=>{d.abort()},n2),zS({appId:r,apiKey:s,measurementId:a},u,d,e)}async function zS(n,{throttleEndTimeMillis:e,backoffCount:t},r,s=jS){const{appId:a,measurementId:u}=n;try{await w2(r,e)}catch(d){if(u)return ln.warn(`Timed out fetching this Firebase app's measurement ID from the server. Falling back to the measurement ID ${u} provided in the "measurementId" field in the local Firebase config. [${d?.message}]`),{appId:a,measurementId:u};throw d}try{const d=await _2(n);return s.deleteThrottleMetadata(a),d}catch(d){const f=d;if(!E2(f)){if(s.deleteThrottleMetadata(a),u)return ln.warn(`Failed to fetch this Firebase app's measurement ID from the server. Falling back to the measurement ID ${u} provided in the "measurementId" field in the local Firebase config. [${f?.message}]`),{appId:a,measurementId:u};throw d}const m=Number(f?.customData?.httpStatus)===503?kv(t,s.intervalMillis,p2):kv(t,s.intervalMillis),g={throttleEndTimeMillis:Date.now()+m,backoffCount:t+1};return s.setThrottleMetadata(a,g),ln.debug(`Calling attemptFetch again in ${m} millis`),zS(n,g,r,s)}}function w2(n,e){return new Promise((t,r)=>{const s=Math.max(e-Date.now(),0),a=setTimeout(t,s);n.addEventListener(()=>{clearTimeout(a),r(Nn.create("fetch-throttle",{throttleEndTimeMillis:e}))})})}function E2(n){if(!(n instanceof xn)||!n.customData)return!1;const e=Number(n.customData.httpStatus);return e===429||e===500||e===503||e===504}class T2{constructor(){this.listeners=[]}addEventListener(e){this.listeners.push(e)}abort(){this.listeners.forEach(e=>e())}}async function I2(n,e,t,r,s){if(s&&s.global){n("event",t,r);return}else{const a=await e,u={...r,send_to:a};n("event",t,u)}}async function S2(n,e,t,r){if(r&&r.global){const s={};for(const a of Object.keys(t))s[`user_properties.${a}`]=t[a];return n("set",s),Promise.resolve()}else{const s=await e;n("config",s,{update:!0,user_properties:t})}}async function A2(){if(Cm())try{await bm()}catch(n){return ln.warn(Nn.create("indexeddb-unavailable",{errorInfo:n?.toString()}).message),!1}else return ln.warn(Nn.create("indexeddb-unavailable",{errorInfo:"IndexedDB is not available in this environment."}).message),!1;return!0}async function R2(n,e,t,r,s,a,u){const d=v2(n);d.then(w=>{t[w.measurementId]=w.appId,n.options.measurementId&&w.measurementId!==n.options.measurementId&&ln.warn(`The measurement ID in the local Firebase config (${n.options.measurementId}) does not match the measurement ID fetched from the server (${w.measurementId}). To ensure analytics events are always sent to the correct Analytics property, update the measurement ID field in the local config or remove it from the local config.`)}).catch(w=>ln.error(w)),e.push(d);const f=A2().then(w=>{if(w)return r.getId()}),[m,g]=await Promise.all([d,f]);f2(a)||a2(a,m.measurementId),s("js",new Date);const E=u?.config??{};return E[t2]="firebase",E.update=!0,g!=null&&(E[e2]=g),s("config",m.measurementId,E),m.measurementId}class P2{constructor(e){this.app=e}_delete(){return delete fa[this.app.options.appId],Promise.resolve()}}let fa={},dE=[];const fE={};let Lp="dataLayer",k2="gtag",pE,Qg,mE=!1;function C2(){const n=[];if(km()&&n.push("This is a browser extension environment."),PT()||n.push("Cookies are not available."),n.length>0){const e=n.map((r,s)=>`(${s+1}) ${r}`).join(" "),t=Nn.create("invalid-analytics-context",{errorInfo:e});ln.warn(t.message)}}function b2(n,e,t){C2();const r=n.options.appId;if(!r)throw Nn.create("no-app-id");if(!n.options.apiKey)if(n.options.measurementId)ln.warn(`The "apiKey" field is empty in the local Firebase config. This is needed to fetch the latest measurement ID for this Firebase app. Falling back to the measurement ID ${n.options.measurementId} provided in the "measurementId" field in the local Firebase config.`);else throw Nn.create("no-api-key");if(fa[r]!=null)throw Nn.create("already-exists",{id:r});if(!mE){l2(Lp);const{wrappedGtag:a,gtagCore:u}=d2(fa,dE,fE,Lp,k2);Qg=a,pE=u,mE=!0}return fa[r]=R2(n,dE,fE,e,pE,Lp,t),new P2(n)}function N2(n=wu()){n=ge(n);const e=fi(n,$h);return e.isInitialized()?e.getImmediate():O2(n)}function O2(n,e={}){const t=fi(n,$h);if(t.isInitialized()){const s=t.getImmediate();if(oi(e,t.getOptions()))return s;throw Nn.create("already-initialized")}return t.initialize({options:e})}async function x2(){if(km()||!PT()||!Cm())return!1;try{return await bm()}catch{return!1}}function D2(n,e,t){n=ge(n),S2(Qg,fa[n.app.options.appId],e,t).catch(r=>ln.error(r))}function vm(n,e,t,r){n=ge(n),I2(Qg,fa[n.app.options.appId],e,t,r).catch(s=>ln.error(s))}const gE="@firebase/analytics",yE="0.10.19";function L2(){Hn(new On($h,(e,{options:t})=>{const r=e.getProvider("app").getImmediate(),s=e.getProvider("installations-internal").getImmediate();return b2(r,s,t)},"PUBLIC")),Hn(new On("analytics-internal",n,"PRIVATE")),Xt(gE,yE),Xt(gE,yE,"esm2020");function n(e){try{const t=e.getProvider($h).getImmediate();return{logEvent:(r,s,a)=>vm(t,r,s,a),setUserProperties:(r,s)=>D2(t,r,s)}}catch(t){throw Nn.create("interop-component-reg-failed",{reason:t})}}}L2();const V2="type.googleapis.com/google.protobuf.Int64Value",M2="type.googleapis.com/google.protobuf.UInt64Value";function BS(n,e){const t={};for(const r in n)n.hasOwnProperty(r)&&(t[r]=e(n[r]));return t}function Hh(n){if(n==null)return null;if(n instanceof Number&&(n=n.valueOf()),typeof n=="number"&&isFinite(n)||n===!0||n===!1||Object.prototype.toString.call(n)==="[object String]")return n;if(n instanceof Date)return n.toISOString();if(Array.isArray(n))return n.map(e=>Hh(e));if(typeof n=="function"||typeof n=="object")return BS(n,e=>Hh(e));throw new Error("Data cannot be encoded in JSON: "+n)}function Ea(n){if(n==null)return n;if(n["@type"])switch(n["@type"]){case V2:case M2:{const e=Number(n.value);if(isNaN(e))throw new Error("Data cannot be decoded from JSON: "+n);return e}default:throw new Error("Data cannot be decoded from JSON: "+n)}return Array.isArray(n)?n.map(e=>Ea(e)):typeof n=="function"||typeof n=="object"?BS(n,e=>Ea(e)):n}const Yg="functions";const _E={OK:"ok",CANCELLED:"cancelled",UNKNOWN:"unknown",INVALID_ARGUMENT:"invalid-argument",DEADLINE_EXCEEDED:"deadline-exceeded",NOT_FOUND:"not-found",ALREADY_EXISTS:"already-exists",PERMISSION_DENIED:"permission-denied",UNAUTHENTICATED:"unauthenticated",RESOURCE_EXHAUSTED:"resource-exhausted",FAILED_PRECONDITION:"failed-precondition",ABORTED:"aborted",OUT_OF_RANGE:"out-of-range",UNIMPLEMENTED:"unimplemented",INTERNAL:"internal",UNAVAILABLE:"unavailable",DATA_LOSS:"data-loss"};class _n extends xn{constructor(e,t,r){super(`${Yg}/${e}`,t||""),this.details=r,Object.setPrototypeOf(this,_n.prototype)}}function U2(n){if(n>=200&&n<300)return"ok";switch(n){case 0:return"internal";case 400:return"invalid-argument";case 401:return"unauthenticated";case 403:return"permission-denied";case 404:return"not-found";case 409:return"aborted";case 429:return"resource-exhausted";case 499:return"cancelled";case 500:return"internal";case 501:return"unimplemented";case 503:return"unavailable";case 504:return"deadline-exceeded"}return"unknown"}function qh(n,e){let t=U2(n),r=t,s;try{const a=e&&e.error;if(a){const u=a.status;if(typeof u=="string"){if(!_E[u])return new _n("internal","internal");t=_E[u],r=u}const d=a.message;typeof d=="string"&&(r=d),s=a.details,s!==void 0&&(s=Ea(s))}}catch{}return t==="ok"?null:new _n(t,r,s)}class F2{constructor(e,t,r,s){this.app=e,this.auth=null,this.messaging=null,this.appCheck=null,this.serverAppAppCheckToken=null,it(e)&&e.settings.appCheckToken&&(this.serverAppAppCheckToken=e.settings.appCheckToken),this.auth=t.getImmediate({optional:!0}),this.messaging=r.getImmediate({optional:!0}),this.auth||t.get().then(a=>this.auth=a,()=>{}),this.messaging||r.get().then(a=>this.messaging=a,()=>{}),this.appCheck||s?.get().then(a=>this.appCheck=a,()=>{})}async getAuthToken(){if(this.auth)try{return(await this.auth.getToken())?.accessToken}catch{return}}async getMessagingToken(){if(!(!this.messaging||!("Notification"in self)||Notification.permission!=="granted"))try{return await this.messaging.getToken()}catch{return}}async getAppCheckToken(e){if(this.serverAppAppCheckToken)return this.serverAppAppCheckToken;if(this.appCheck){const t=e?await this.appCheck.getLimitedUseToken():await this.appCheck.getToken();return t.error?null:t.token}return null}async getContext(e){const t=await this.getAuthToken(),r=await this.getMessagingToken(),s=await this.getAppCheckToken(e);return{authToken:t,messagingToken:r,appCheckToken:s}}}const wm="us-central1",j2=/^data: (.*?)(?:\n|$)/;function z2(n){let e=null;return{promise:new Promise((t,r)=>{e=setTimeout(()=>{r(new _n("deadline-exceeded","deadline-exceeded"))},n)}),cancel:()=>{e&&clearTimeout(e)}}}class B2{constructor(e,t,r,s,a=wm,u=(...d)=>fetch(...d)){this.app=e,this.fetchImpl=u,this.emulatorOrigin=null,this.contextProvider=new F2(e,t,r,s),this.cancelAllRequests=new Promise(d=>{this.deleteService=()=>Promise.resolve(d())});try{const d=new URL(a);this.customDomain=d.origin+(d.pathname==="/"?"":d.pathname),this.region=wm}catch{this.customDomain=null,this.region=a}}_delete(){return this.deleteService()}_url(e){const t=this.app.options.projectId;return this.emulatorOrigin!==null?`${this.emulatorOrigin}/${t}/${this.region}/${e}`:this.customDomain!==null?`${this.customDomain}/${e}`:`https://${this.region}-${t}.cloudfunctions.net/${e}`}}function $2(n,e,t){const r=Lr(e);n.emulatorOrigin=`http${r?"s":""}://${e}:${t}`,r&&(Zh(n.emulatorOrigin+"/backends"),ed("Functions",!0))}function H2(n,e,t){const r=s=>G2(n,e,s,t||{});return r.stream=(s,a)=>K2(n,e,s,a),r}function q2(n,e,t){const r=s=>qS(n,e,s,t||{});return r.stream=(s,a)=>WS(n,e,s,a||{}),r}function $S(n){return n.emulatorOrigin&&Lr(n.emulatorOrigin)?"include":void 0}async function W2(n,e,t,r,s){t["Content-Type"]="application/json";let a;try{a=await r(n,{method:"POST",body:JSON.stringify(e),headers:t,credentials:$S(s)})}catch{return{status:0,json:null}}let u=null;try{u=await a.json()}catch{}return{status:a.status,json:u}}async function HS(n,e){const t={},r=await n.contextProvider.getContext(e.limitedUseAppCheckTokens);return r.authToken&&(t.Authorization="Bearer "+r.authToken),r.messagingToken&&(t["Firebase-Instance-ID-Token"]=r.messagingToken),r.appCheckToken!==null&&(t["X-Firebase-AppCheck"]=r.appCheckToken),t}function G2(n,e,t,r){const s=n._url(e);return qS(n,s,t,r)}async function qS(n,e,t,r){t=Hh(t);const s={data:t},a=await HS(n,r),u=r.timeout||7e4,d=z2(u),f=await Promise.race([W2(e,s,a,n.fetchImpl,n),d.promise,n.cancelAllRequests]);if(d.cancel(),!f)throw new _n("cancelled","Firebase Functions instance was deleted.");const m=qh(f.status,f.json);if(m)throw m;if(!f.json)throw new _n("internal","Response is not valid JSON object.");let g=f.json.data;if(typeof g>"u"&&(g=f.json.result),typeof g>"u")throw new _n("internal","Response is missing data field.");return{data:Ea(g)}}function K2(n,e,t,r){const s=n._url(e);return WS(n,s,t,r||{})}async function WS(n,e,t,r){t=Hh(t);const s={data:t},a=await HS(n,r);a["Content-Type"]="application/json",a.Accept="text/event-stream";let u;try{u=await n.fetchImpl(e,{method:"POST",body:JSON.stringify(s),headers:a,signal:r?.signal,credentials:$S(n)})}catch(w){if(w instanceof Error&&w.name==="AbortError"){const M=new _n("cancelled","Request was cancelled.");return{data:Promise.reject(M),stream:{[Symbol.asyncIterator](){return{next(){return Promise.reject(M)}}}}}}const R=qh(0,null);return{data:Promise.reject(R),stream:{[Symbol.asyncIterator](){return{next(){return Promise.reject(R)}}}}}}let d,f;const m=new Promise((w,R)=>{d=w,f=R});r?.signal?.addEventListener("abort",()=>{const w=new _n("cancelled","Request was cancelled.");f(w)});const g=u.body.getReader(),E=Q2(g,d,f,r?.signal);return{stream:{[Symbol.asyncIterator](){const w=E.getReader();return{async next(){const{value:R,done:M}=await w.read();return{value:R,done:M}},async return(){return await w.cancel(),{done:!0,value:void 0}}}}},data:m}}function Q2(n,e,t,r){const s=(u,d)=>{const f=u.match(j2);if(!f)return;const m=f[1];try{const g=JSON.parse(m);if("result"in g){e(Ea(g.result));return}if("message"in g){d.enqueue(Ea(g.message));return}if("error"in g){const E=qh(0,g);d.error(E),t(E);return}}catch(g){if(g instanceof _n){d.error(g),t(g);return}}},a=new TextDecoder;return new ReadableStream({start(u){let d="";return f();async function f(){if(r?.aborted){const m=new _n("cancelled","Request was cancelled");return u.error(m),t(m),Promise.resolve()}try{const{value:m,done:g}=await n.read();if(g){d.trim()&&s(d.trim(),u),u.close();return}if(r?.aborted){const w=new _n("cancelled","Request was cancelled");u.error(w),t(w),await n.cancel();return}d+=a.decode(m,{stream:!0});const E=d.split(`
`);d=E.pop()||"";for(const w of E)w.trim()&&s(w.trim(),u);return f()}catch(m){const g=m instanceof _n?m:qh(0,null);u.error(g),t(g)}}},cancel(){return n.cancel()}})}const vE="@firebase/functions",wE="0.13.1";const Y2="auth-internal",J2="app-check-internal",X2="messaging-internal";function Z2(n){const e=(t,{instanceIdentifier:r})=>{const s=t.getProvider("app").getImmediate(),a=t.getProvider(Y2),u=t.getProvider(X2),d=t.getProvider(J2);return new B2(s,a,u,d,r)};Hn(new On(Yg,e,"PUBLIC").setMultipleInstances(!0)),Xt(vE,wE,n),Xt(vE,wE,"esm2020")}function eV(n=wu(),e=wm){const r=fi(ge(n),Yg).getImmediate({identifier:e}),s=Pm("functions");return s&&tV(r,...s),r}function tV(n,e,t){$2(ge(n),e,t)}function HF(n,e,t){return H2(ge(n),e,t)}function qF(n,e,t){return q2(ge(n),e,t)}Z2();const nV={apiKey:"AIzaSyDoFoPoaPMi6HkqsA1vn6oDPokG9btVJ3g",authDomain:"jastalk-firebase.firebaseapp.com",databaseURL:"https://jastalk-firebase-default-rtdb.firebaseio.com",projectId:"jastalk-firebase",storageBucket:"jastalk-firebase.firebasestorage.app",messagingSenderId:"371634100960",appId:"1:371634100960:web:8ef53e663b37e14b9f0e85",measurementId:"G-BTZ1F392FM"},Vu=NT(nV),rV=x2().then(n=>n?N2(Vu):null),EE=Ob(Vu),gn=zx(Vu),WF=hL(Vu),GF=eV(Vu,"us-west1"),KF=new ei,iV=["resume_generate_prompt","resume_suggestion","interview_analysis","question_generation","job_prep_generation","job_prep_regeneration","job_parse_description","resume_match_analysis","portfolio_generation","portfolio_refinement","image_generation","ai_assistant_query"],sV=async(n,e,t={})=>{if(!n){console.error("[TrackUsage] Called without userId! Event:",e);return}try{await mm(Hl(gn,"usage_logs"),{userId:n,eventType:e,timestamp:ia(),...t})}catch{}try{const r=await rV;r&&(t.tokenUsage&&vm(r,"token_usage",{category:e,value:t.tokenUsage}),e==="resume_download"&&vm(r,"resume_download",{format:t.format}))}catch{}if(iV.includes(e))try{const{incrementAIUsage:r}=await _e(async()=>{const{incrementAIUsage:s}=await import("./aiUsageService-0L4_UvJD.js");return{incrementAIUsage:s}},[]);await r(n)}catch(r){console.error(`Failed to deduct credit for ${e}:`,r)}},QF=async n=>{try{const e=ri(gn,"analytics","demo_page_events");await Ug(e,{[n]:Z0(1)},{merge:!0})}catch(e){console.error(`Error tracking demo event (${n}):`,e)}},YF=async n=>{try{const e=ri(gn,"analytics","demo_page_events");await Ug(e,{[n]:Z0(1)},{merge:!0})}catch(e){console.error(`Error tracking demo conversion (${n}):`,e)}},oV={jobTitle:"Software Developer",photo:"",firstName:"John",lastName:"Doe",email:"john.doe@example.com",phone:"555-123-4567",address:"123 Main Street",city:"Anytown",postalCode:"12345",country:"USA"},aV="A highly skilled and experienced IT professional adept at managing and overseeing complex server infrastructure, ensuring high availability and optimal performance. Proficient in system security and system monitoring. Experienced in implementing disaster recovery plans and conducting regular system audits to ensure compliance with industry standards. Well-versed in a variety of operating systems, including Windows and Linux, and skilled in virtualization technologies, user management, Active Directory administration, Group policy management, IIS, and MSSQL databases. Seeking to leverage my skills and experience in a challenging IT leadership role.",lV=[{id:"1",label:"LinkedIn",url:"linkedin.com/in/johndoe",icon:"linkedin"}],uV=[{id:"1",name:"System administration",level:"Expert"},{id:"2",name:"Operating systems",level:"Expert"},{id:"3",name:"Network administration",level:"Expert"}],cV=[{id:"1",name:"English",level:"Native"},{id:"2",name:"Spanish",level:"Intermediate"}],hV=[{id:"1",jobTitle:"Web Developer",employer:"Tech Solutions Inc.",city:"Anytown",startDate:"Jan 2019",endDate:"Apr 2021",description:"Led a team in developing and maintaining web applications. Improved system efficiency by 25%."}],dV=[{id:"1",school:"State University",degree:"Bachelor of Science in Computer Science",city:"Anytown",startDate:"Aug 2015",endDate:"May 2019",description:"Focused on software development and algorithms. Graduated with honors."}],GS={contact:"Contact",profile:"Profile",skills:"Skills",experience:"Experience",education:"Education",languages:"Languages",websites:"Websites & Social Links"},KS={email:"mail",phone:"phone",location:"map-pin"},JF=()=>({id:Date.now().toString(),title:"Untitled Resume",updatedAt:new Date().toISOString(),templateId:"Modern",personalDetails:{...oV},professionalSummary:aV,websites:[...lV.map(e=>({...e,id:crypto.randomUUID()}))],skills:[...uV.map(e=>({...e,id:crypto.randomUUID()}))],employmentHistory:[...hV.map(e=>({...e,id:crypto.randomUUID()}))],education:[...dV.map(e=>({...e,id:crypto.randomUUID()}))],languages:[...cV.map(e=>({...e,id:crypto.randomUUID()}))],themeColor:"#2c3e50",titleFont:"Montserrat",bodyFont:"Crimson Text",language:"English",sectionTitles:{...GS},customIcons:{...KS}}),XF=()=>({id:Date.now().toString(),title:"Untitled Resume",updatedAt:new Date().toISOString(),templateId:"Modern",personalDetails:{jobTitle:"",photo:"",firstName:"",lastName:"",email:"",phone:"",address:"",city:"",postalCode:"",country:""},professionalSummary:"",websites:[],skills:[],employmentHistory:[],education:[],languages:[],themeColor:"#2c3e50",titleFont:"Montserrat",bodyFont:"Crimson Text",language:"English",sectionTitles:{...GS},customIcons:{...KS}}),ZF=["Montserrat","Lato","Roboto","Open Sans","Merriweather","Playfair Display","Oswald","Raleway","Poppins","Nunito Sans","Crimson Text","Source Sans Pro","Tajawal"],e4=["Native","Fluent","Proficient","Intermediate","Basic"],t4=[{id:"mail",label:"Email"},{id:"phone",label:"Phone"},{id:"map-pin",label:"Location"},{id:"globe",label:"Website"},{id:"linkedin",label:"LinkedIn"},{id:"github",label:"GitHub"},{id:"facebook",label:"Facebook"},{id:"twitter",label:"Twitter/X"},{id:"instagram",label:"Instagram"},{id:"youtube",label:"YouTube"},{id:"video",label:"TikTok"},{id:"at-sign",label:"Gmail"},{id:"briefcase",label:"Portfolio"},{id:"send",label:"Telegram"},{id:"link",label:"Link"},{id:"yahoo",label:"Yahoo"}],Wh=[{code:"en",name:"English",nativeName:"English"},{code:"es",name:"Spanish",nativeName:"Espaol"},{code:"fr",name:"French",nativeName:"Franais"},{code:"de",name:"German",nativeName:"Deutsch"},{code:"zh",name:"Chinese",nativeName:""},{code:"ja",name:"Japanese",nativeName:""},{code:"ko",name:"Korean",nativeName:""}],n4=[{code:"en",name:"English"},{code:"es",name:"Spanish"},{code:"fr",name:"French"},{code:"de",name:"German"},{code:"zh-CN",name:"Chinese (Simplified)"},{code:"ja",name:"Japanese"},{code:"ar",name:"Arabic"},{code:"ru",name:"Russian"},{code:"pt",name:"Portuguese"},{code:"it",name:"Italian"},{code:"ko",name:"Korean"},{code:"nl",name:"Dutch"},{code:"hi",name:"Hindi"},{code:"sv",name:"Swedish"},{code:"tr",name:"Turkish"},{code:"pl",name:"Polish"},{code:"vi",name:"Vietnamese"},{code:"id",name:"Indonesian"},{code:"el",name:"Greek"},{code:"cs",name:"Czech"},{code:"ro",name:"Romanian"},{code:"hu",name:"Hungarian"},{code:"th",name:"Thai"},{code:"fi",name:"Finnish"},{code:"da",name:"Danish"},{code:"no",name:"Norwegian"},{code:"he",name:"Hebrew"},{code:"uk",name:"Ukrainian"},{code:"ms",name:"Malay"},{code:"sk",name:"Slovak"},{code:"af",name:"Afrikaans"},{code:"sq",name:"Albanian"},{code:"am",name:"Amharic"},{code:"hy",name:"Armenian"},{code:"az",name:"Azerbaijani"},{code:"eu",name:"Basque"},{code:"be",name:"Belarusian"},{code:"bn",name:"Bengali"},{code:"bs",name:"Bosnian"},{code:"bg",name:"Bulgarian"},{code:"ca",name:"Catalan"},{code:"ceb",name:"Cebuano"},{code:"ny",name:"Chichewa"},{code:"zh-TW",name:"Chinese (Traditional)"},{code:"co",name:"Corsican"},{code:"hr",name:"Croatian"},{code:"eo",name:"Esperanto"},{code:"et",name:"Estonian"},{code:"tl",name:"Filipino"},{code:"fy",name:"Frisian"},{code:"gl",name:"Galician"},{code:"ka",name:"Georgian"},{code:"gu",name:"Gujarati"},{code:"ht",name:"Haitian Creole"},{code:"ha",name:"Hausa"},{code:"haw",name:"Hawaiian"},{code:"is",name:"Icelandic"},{code:"ig",name:"Igbo"},{code:"ga",name:"Irish"},{code:"jw",name:"Javanese"},{code:"kn",name:"Kannada"},{code:"kk",name:"Kazakh"},{code:"km",name:"Khmer"},{code:"ku",name:"Kurdish (Kurmanji)"},{code:"ky",name:"Kyrgyz"},{code:"lo",name:"Lao"},{code:"la",name:"Latin"},{code:"lv",name:"Latvian"},{code:"lt",name:"Lithuanian"},{code:"lb",name:"Luxembourgish"},{code:"mk",name:"Macedonian"},{code:"mg",name:"Malagasy"},{code:"ml",name:"Malayalam"},{code:"mt",name:"Maltese"},{code:"mi",name:"Maori"},{code:"mr",name:"Marathi"},{code:"mn",name:"Mongolian"},{code:"my",name:"Myanmar (Burmese)"},{code:"ne",name:"Nepali"},{code:"ps",name:"Pashto"},{code:"fa",name:"Persian"},{code:"pa",name:"Punjabi"},{code:"sm",name:"Samoan"},{code:"gd",name:"Scots Gaelic"},{code:"sr",name:"Serbian"},{code:"st",name:"Sesotho"},{code:"sn",name:"Shona"},{code:"sd",name:"Sindhi"},{code:"si",name:"Sinhala"},{code:"sl",name:"Slovenian"},{code:"so",name:"Somali"},{code:"su",name:"Sundanese"},{code:"sw",name:"Swahili"},{code:"tg",name:"Tajik"},{code:"ta",name:"Tamil"},{code:"te",name:"Telugu"},{code:"ur",name:"Urdu"},{code:"uz",name:"Uzbek"},{code:"cy",name:"Welsh"},{code:"xh",name:"Xhosa"},{code:"yi",name:"Yiddish"},{code:"yo",name:"Yoruba"},{code:"zu",name:"Zulu"}],r4=[{id:"pdf",name:"PDF Document",recommendation:"Best for job applications and professional sharing."},{id:"png",name:"PNG Image (Full)",recommendation:"High-quality image of the entire resume."},{id:"1:1",name:"Square Image (1:1)",recommendation:"Ideal for profile pictures or social media posts."},{id:"16:9",name:"Widescreen Image (16:9)",recommendation:"Great for presentation slides or banners."},{id:"9:16",name:"Story Image (9:16)",recommendation:"Perfect for sharing on mobile stories."},{id:"4:5",name:"Portrait Image (4:5)",recommendation:"Optimized for social media feeds."}],be=n=>typeof n=="string",Ll=()=>{let n,e;const t=new Promise((r,s)=>{n=r,e=s});return t.resolve=n,t.reject=e,t},TE=n=>n==null?"":""+n,fV=(n,e,t)=>{n.forEach(r=>{e[r]&&(t[r]=e[r])})},pV=/###/g,IE=n=>n&&n.indexOf("###")>-1?n.replace(pV,"."):n,SE=n=>!n||be(n),nu=(n,e,t)=>{const r=be(e)?e.split("."):e;let s=0;for(;s<r.length-1;){if(SE(n))return{};const a=IE(r[s]);!n[a]&&t&&(n[a]=new t),Object.prototype.hasOwnProperty.call(n,a)?n=n[a]:n={},++s}return SE(n)?{}:{obj:n,k:IE(r[s])}},AE=(n,e,t)=>{const{obj:r,k:s}=nu(n,e,Object);if(r!==void 0||e.length===1){r[s]=t;return}let a=e[e.length-1],u=e.slice(0,e.length-1),d=nu(n,u,Object);for(;d.obj===void 0&&u.length;)a=`${u[u.length-1]}.${a}`,u=u.slice(0,u.length-1),d=nu(n,u,Object),d&&d.obj&&typeof d.obj[`${d.k}.${a}`]<"u"&&(d.obj=void 0);d.obj[`${d.k}.${a}`]=t},mV=(n,e,t,r)=>{const{obj:s,k:a}=nu(n,e,Object);s[a]=s[a]||[],s[a].push(t)},Gh=(n,e)=>{const{obj:t,k:r}=nu(n,e);if(t)return t[r]},gV=(n,e,t)=>{const r=Gh(n,t);return r!==void 0?r:Gh(e,t)},QS=(n,e,t)=>{for(const r in e)r!=="__proto__"&&r!=="constructor"&&(r in n?be(n[r])||n[r]instanceof String||be(e[r])||e[r]instanceof String?t&&(n[r]=e[r]):QS(n[r],e[r],t):n[r]=e[r]);return n},Xo=n=>n.replace(/[\-\[\]\/\{\}\(\)\*\+\?\.\\\^\$\|]/g,"\\$&");var yV={"&":"&amp;","<":"&lt;",">":"&gt;",'"':"&quot;","'":"&#39;","/":"&#x2F;"};const _V=n=>be(n)?n.replace(/[&<>"'\/]/g,e=>yV[e]):n;class vV{constructor(e){this.capacity=e,this.regExpMap=new Map,this.regExpQueue=[]}getRegExp(e){const t=this.regExpMap.get(e);if(t!==void 0)return t;const r=new RegExp(e);return this.regExpQueue.length===this.capacity&&this.regExpMap.delete(this.regExpQueue.shift()),this.regExpMap.set(e,r),this.regExpQueue.push(e),r}}const wV=[" ",",","?","!",";"],EV=new vV(20),TV=(n,e,t)=>{e=e||"",t=t||"";const r=wV.filter(u=>e.indexOf(u)<0&&t.indexOf(u)<0);if(r.length===0)return!0;const s=EV.getRegExp(`(${r.map(u=>u==="?"?"\\?":u).join("|")})`);let a=!s.test(n);if(!a){const u=n.indexOf(t);u>0&&!s.test(n.substring(0,u))&&(a=!0)}return a},Em=function(n,e){let t=arguments.length>2&&arguments[2]!==void 0?arguments[2]:".";if(!n)return;if(n[e])return n[e];const r=e.split(t);let s=n;for(let a=0;a<r.length;){if(!s||typeof s!="object")return;let u,d="";for(let f=a;f<r.length;++f)if(f!==a&&(d+=t),d+=r[f],u=s[d],u!==void 0){if(["string","number","boolean"].indexOf(typeof u)>-1&&f<r.length-1)continue;a+=f-a+1;break}s=u}return s},Kh=n=>n&&n.replace("_","-"),IV={type:"logger",log(n){this.output("log",n)},warn(n){this.output("warn",n)},error(n){this.output("error",n)},output(n,e){console&&console[n]&&console[n].apply(console,e)}};class Qh{constructor(e){let t=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};this.init(e,t)}init(e){let t=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};this.prefix=t.prefix||"i18next:",this.logger=e||IV,this.options=t,this.debug=t.debug}log(){for(var e=arguments.length,t=new Array(e),r=0;r<e;r++)t[r]=arguments[r];return this.forward(t,"log","",!0)}warn(){for(var e=arguments.length,t=new Array(e),r=0;r<e;r++)t[r]=arguments[r];return this.forward(t,"warn","",!0)}error(){for(var e=arguments.length,t=new Array(e),r=0;r<e;r++)t[r]=arguments[r];return this.forward(t,"error","")}deprecate(){for(var e=arguments.length,t=new Array(e),r=0;r<e;r++)t[r]=arguments[r];return this.forward(t,"warn","WARNING DEPRECATED: ",!0)}forward(e,t,r,s){return s&&!this.debug?null:(be(e[0])&&(e[0]=`${r}${this.prefix} ${e[0]}`),this.logger[t](e))}create(e){return new Qh(this.logger,{prefix:`${this.prefix}:${e}:`,...this.options})}clone(e){return e=e||this.options,e.prefix=e.prefix||this.prefix,new Qh(this.logger,e)}}var Cr=new Qh;class bd{constructor(){this.observers={}}on(e,t){return e.split(" ").forEach(r=>{this.observers[r]||(this.observers[r]=new Map);const s=this.observers[r].get(t)||0;this.observers[r].set(t,s+1)}),this}off(e,t){if(this.observers[e]){if(!t){delete this.observers[e];return}this.observers[e].delete(t)}}emit(e){for(var t=arguments.length,r=new Array(t>1?t-1:0),s=1;s<t;s++)r[s-1]=arguments[s];this.observers[e]&&Array.from(this.observers[e].entries()).forEach(u=>{let[d,f]=u;for(let m=0;m<f;m++)d(...r)}),this.observers["*"]&&Array.from(this.observers["*"].entries()).forEach(u=>{let[d,f]=u;for(let m=0;m<f;m++)d.apply(d,[e,...r])})}}class RE extends bd{constructor(e){let t=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{ns:["translation"],defaultNS:"translation"};super(),this.data=e||{},this.options=t,this.options.keySeparator===void 0&&(this.options.keySeparator="."),this.options.ignoreJSONStructure===void 0&&(this.options.ignoreJSONStructure=!0)}addNamespaces(e){this.options.ns.indexOf(e)<0&&this.options.ns.push(e)}removeNamespaces(e){const t=this.options.ns.indexOf(e);t>-1&&this.options.ns.splice(t,1)}getResource(e,t,r){let s=arguments.length>3&&arguments[3]!==void 0?arguments[3]:{};const a=s.keySeparator!==void 0?s.keySeparator:this.options.keySeparator,u=s.ignoreJSONStructure!==void 0?s.ignoreJSONStructure:this.options.ignoreJSONStructure;let d;e.indexOf(".")>-1?d=e.split("."):(d=[e,t],r&&(Array.isArray(r)?d.push(...r):be(r)&&a?d.push(...r.split(a)):d.push(r)));const f=Gh(this.data,d);return!f&&!t&&!r&&e.indexOf(".")>-1&&(e=d[0],t=d[1],r=d.slice(2).join(".")),f||!u||!be(r)?f:Em(this.data&&this.data[e]&&this.data[e][t],r,a)}addResource(e,t,r,s){let a=arguments.length>4&&arguments[4]!==void 0?arguments[4]:{silent:!1};const u=a.keySeparator!==void 0?a.keySeparator:this.options.keySeparator;let d=[e,t];r&&(d=d.concat(u?r.split(u):r)),e.indexOf(".")>-1&&(d=e.split("."),s=t,t=d[1]),this.addNamespaces(t),AE(this.data,d,s),a.silent||this.emit("added",e,t,r,s)}addResources(e,t,r){let s=arguments.length>3&&arguments[3]!==void 0?arguments[3]:{silent:!1};for(const a in r)(be(r[a])||Array.isArray(r[a]))&&this.addResource(e,t,a,r[a],{silent:!0});s.silent||this.emit("added",e,t,r)}addResourceBundle(e,t,r,s,a){let u=arguments.length>5&&arguments[5]!==void 0?arguments[5]:{silent:!1,skipCopy:!1},d=[e,t];e.indexOf(".")>-1&&(d=e.split("."),s=r,r=t,t=d[1]),this.addNamespaces(t);let f=Gh(this.data,d)||{};u.skipCopy||(r=JSON.parse(JSON.stringify(r))),s?QS(f,r,a):f={...f,...r},AE(this.data,d,f),u.silent||this.emit("added",e,t,r)}removeResourceBundle(e,t){this.hasResourceBundle(e,t)&&delete this.data[e][t],this.removeNamespaces(t),this.emit("removed",e,t)}hasResourceBundle(e,t){return this.getResource(e,t)!==void 0}getResourceBundle(e,t){return t||(t=this.options.defaultNS),this.options.compatibilityAPI==="v1"?{...this.getResource(e,t)}:this.getResource(e,t)}getDataByLanguage(e){return this.data[e]}hasLanguageSomeTranslations(e){const t=this.getDataByLanguage(e);return!!(t&&Object.keys(t)||[]).find(s=>t[s]&&Object.keys(t[s]).length>0)}toJSON(){return this.data}}var YS={processors:{},addPostProcessor(n){this.processors[n.name]=n},handle(n,e,t,r,s){return n.forEach(a=>{this.processors[a]&&(e=this.processors[a].process(e,t,r,s))}),e}};const PE={};class Yh extends bd{constructor(e){let t=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};super(),fV(["resourceStore","languageUtils","pluralResolver","interpolator","backendConnector","i18nFormat","utils"],e,this),this.options=t,this.options.keySeparator===void 0&&(this.options.keySeparator="."),this.logger=Cr.create("translator")}changeLanguage(e){e&&(this.language=e)}exists(e){let t=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{interpolation:{}};if(e==null)return!1;const r=this.resolve(e,t);return r&&r.res!==void 0}extractFromKey(e,t){let r=t.nsSeparator!==void 0?t.nsSeparator:this.options.nsSeparator;r===void 0&&(r=":");const s=t.keySeparator!==void 0?t.keySeparator:this.options.keySeparator;let a=t.ns||this.options.defaultNS||[];const u=r&&e.indexOf(r)>-1,d=!this.options.userDefinedKeySeparator&&!t.keySeparator&&!this.options.userDefinedNsSeparator&&!t.nsSeparator&&!TV(e,r,s);if(u&&!d){const f=e.match(this.interpolator.nestingRegexp);if(f&&f.length>0)return{key:e,namespaces:be(a)?[a]:a};const m=e.split(r);(r!==s||r===s&&this.options.ns.indexOf(m[0])>-1)&&(a=m.shift()),e=m.join(s)}return{key:e,namespaces:be(a)?[a]:a}}translate(e,t,r){if(typeof t!="object"&&this.options.overloadTranslationOptionHandler&&(t=this.options.overloadTranslationOptionHandler(arguments)),typeof t=="object"&&(t={...t}),t||(t={}),e==null)return"";Array.isArray(e)||(e=[String(e)]);const s=t.returnDetails!==void 0?t.returnDetails:this.options.returnDetails,a=t.keySeparator!==void 0?t.keySeparator:this.options.keySeparator,{key:u,namespaces:d}=this.extractFromKey(e[e.length-1],t),f=d[d.length-1],m=t.lng||this.language,g=t.appendNamespaceToCIMode||this.options.appendNamespaceToCIMode;if(m&&m.toLowerCase()==="cimode"){if(g){const oe=t.nsSeparator||this.options.nsSeparator;return s?{res:`${f}${oe}${u}`,usedKey:u,exactUsedKey:u,usedLng:m,usedNS:f,usedParams:this.getUsedParamsDetails(t)}:`${f}${oe}${u}`}return s?{res:u,usedKey:u,exactUsedKey:u,usedLng:m,usedNS:f,usedParams:this.getUsedParamsDetails(t)}:u}const E=this.resolve(e,t);let w=E&&E.res;const R=E&&E.usedKey||u,M=E&&E.exactUsedKey||u,$=Object.prototype.toString.apply(w),B=["[object Number]","[object Function]","[object RegExp]"],te=t.joinArrays!==void 0?t.joinArrays:this.options.joinArrays,le=!this.i18nFormat||this.i18nFormat.handleAsObject,ve=!be(w)&&typeof w!="boolean"&&typeof w!="number";if(le&&w&&ve&&B.indexOf($)<0&&!(be(te)&&Array.isArray(w))){if(!t.returnObjects&&!this.options.returnObjects){this.options.returnedObjectHandler||this.logger.warn("accessing an object - but returnObjects options is not enabled!");const oe=this.options.returnedObjectHandler?this.options.returnedObjectHandler(R,w,{...t,ns:d}):`key '${u} (${this.language})' returned an object instead of string.`;return s?(E.res=oe,E.usedParams=this.getUsedParamsDetails(t),E):oe}if(a){const oe=Array.isArray(w),Te=oe?[]:{},pe=oe?M:R;for(const C in w)if(Object.prototype.hasOwnProperty.call(w,C)){const S=`${pe}${a}${C}`;Te[C]=this.translate(S,{...t,joinArrays:!1,ns:d}),Te[C]===S&&(Te[C]=w[C])}w=Te}}else if(le&&be(te)&&Array.isArray(w))w=w.join(te),w&&(w=this.extendTranslation(w,e,t,r));else{let oe=!1,Te=!1;const pe=t.count!==void 0&&!be(t.count),C=Yh.hasDefaultValue(t),S=pe?this.pluralResolver.getSuffix(m,t.count,t):"",k=t.ordinal&&pe?this.pluralResolver.getSuffix(m,t.count,{ordinal:!1}):"",D=pe&&!t.ordinal&&t.count===0&&this.pluralResolver.shouldUseIntlApi(),N=D&&t[`defaultValue${this.options.pluralSeparator}zero`]||t[`defaultValue${S}`]||t[`defaultValue${k}`]||t.defaultValue;!this.isValidLookup(w)&&C&&(oe=!0,w=N),this.isValidLookup(w)||(Te=!0,w=u);const P=(t.missingKeyNoValueFallbackToKey||this.options.missingKeyNoValueFallbackToKey)&&Te?void 0:w,Oe=C&&N!==w&&this.options.updateMissing;if(Te||oe||Oe){if(this.logger.log(Oe?"updateKey":"missingKey",m,f,u,Oe?N:w),a){const W=this.resolve(u,{...t,keySeparator:!1});W&&W.res&&this.logger.warn("Seems the loaded translations were in flat JSON format instead of nested. Either set keySeparator: false on init or make sure your translations are published in nested format.")}let j=[];const Q=this.languageUtils.getFallbackCodes(this.options.fallbackLng,t.lng||this.language);if(this.options.saveMissingTo==="fallback"&&Q&&Q[0])for(let W=0;W<Q.length;W++)j.push(Q[W]);else this.options.saveMissingTo==="all"?j=this.languageUtils.toResolveHierarchy(t.lng||this.language):j.push(t.lng||this.language);const he=(W,ie,Y)=>{const V=C&&Y!==w?Y:P;this.options.missingKeyHandler?this.options.missingKeyHandler(W,f,ie,V,Oe,t):this.backendConnector&&this.backendConnector.saveMissing&&this.backendConnector.saveMissing(W,f,ie,V,Oe,t),this.emit("missingKey",W,f,ie,w)};this.options.saveMissing&&(this.options.saveMissingPlurals&&pe?j.forEach(W=>{const ie=this.pluralResolver.getSuffixes(W,t);D&&t[`defaultValue${this.options.pluralSeparator}zero`]&&ie.indexOf(`${this.options.pluralSeparator}zero`)<0&&ie.push(`${this.options.pluralSeparator}zero`),ie.forEach(Y=>{he([W],u+Y,t[`defaultValue${Y}`]||N)})}):he(j,u,N))}w=this.extendTranslation(w,e,t,E,r),Te&&w===u&&this.options.appendNamespaceToMissingKey&&(w=`${f}:${u}`),(Te||oe)&&this.options.parseMissingKeyHandler&&(this.options.compatibilityAPI!=="v1"?w=this.options.parseMissingKeyHandler(this.options.appendNamespaceToMissingKey?`${f}:${u}`:u,oe?w:void 0):w=this.options.parseMissingKeyHandler(w))}return s?(E.res=w,E.usedParams=this.getUsedParamsDetails(t),E):w}extendTranslation(e,t,r,s,a){var u=this;if(this.i18nFormat&&this.i18nFormat.parse)e=this.i18nFormat.parse(e,{...this.options.interpolation.defaultVariables,...r},r.lng||this.language||s.usedLng,s.usedNS,s.usedKey,{resolved:s});else if(!r.skipInterpolation){r.interpolation&&this.interpolator.init({...r,interpolation:{...this.options.interpolation,...r.interpolation}});const m=be(e)&&(r&&r.interpolation&&r.interpolation.skipOnVariables!==void 0?r.interpolation.skipOnVariables:this.options.interpolation.skipOnVariables);let g;if(m){const w=e.match(this.interpolator.nestingRegexp);g=w&&w.length}let E=r.replace&&!be(r.replace)?r.replace:r;if(this.options.interpolation.defaultVariables&&(E={...this.options.interpolation.defaultVariables,...E}),e=this.interpolator.interpolate(e,E,r.lng||this.language||s.usedLng,r),m){const w=e.match(this.interpolator.nestingRegexp),R=w&&w.length;g<R&&(r.nest=!1)}!r.lng&&this.options.compatibilityAPI!=="v1"&&s&&s.res&&(r.lng=this.language||s.usedLng),r.nest!==!1&&(e=this.interpolator.nest(e,function(){for(var w=arguments.length,R=new Array(w),M=0;M<w;M++)R[M]=arguments[M];return a&&a[0]===R[0]&&!r.context?(u.logger.warn(`It seems you are nesting recursively key: ${R[0]} in key: ${t[0]}`),null):u.translate(...R,t)},r)),r.interpolation&&this.interpolator.reset()}const d=r.postProcess||this.options.postProcess,f=be(d)?[d]:d;return e!=null&&f&&f.length&&r.applyPostProcessor!==!1&&(e=YS.handle(f,e,t,this.options&&this.options.postProcessPassResolved?{i18nResolved:{...s,usedParams:this.getUsedParamsDetails(r)},...r}:r,this)),e}resolve(e){let t=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},r,s,a,u,d;return be(e)&&(e=[e]),e.forEach(f=>{if(this.isValidLookup(r))return;const m=this.extractFromKey(f,t),g=m.key;s=g;let E=m.namespaces;this.options.fallbackNS&&(E=E.concat(this.options.fallbackNS));const w=t.count!==void 0&&!be(t.count),R=w&&!t.ordinal&&t.count===0&&this.pluralResolver.shouldUseIntlApi(),M=t.context!==void 0&&(be(t.context)||typeof t.context=="number")&&t.context!=="",$=t.lngs?t.lngs:this.languageUtils.toResolveHierarchy(t.lng||this.language,t.fallbackLng);E.forEach(B=>{this.isValidLookup(r)||(d=B,!PE[`${$[0]}-${B}`]&&this.utils&&this.utils.hasLoadedNamespace&&!this.utils.hasLoadedNamespace(d)&&(PE[`${$[0]}-${B}`]=!0,this.logger.warn(`key "${s}" for languages "${$.join(", ")}" won't get resolved as namespace "${d}" was not yet loaded`,"This means something IS WRONG in your setup. You access the t function before i18next.init / i18next.loadNamespace / i18next.changeLanguage was done. Wait for the callback or Promise to resolve before accessing it!!!")),$.forEach(te=>{if(this.isValidLookup(r))return;u=te;const le=[g];if(this.i18nFormat&&this.i18nFormat.addLookupKeys)this.i18nFormat.addLookupKeys(le,g,te,B,t);else{let oe;w&&(oe=this.pluralResolver.getSuffix(te,t.count,t));const Te=`${this.options.pluralSeparator}zero`,pe=`${this.options.pluralSeparator}ordinal${this.options.pluralSeparator}`;if(w&&(le.push(g+oe),t.ordinal&&oe.indexOf(pe)===0&&le.push(g+oe.replace(pe,this.options.pluralSeparator)),R&&le.push(g+Te)),M){const C=`${g}${this.options.contextSeparator}${t.context}`;le.push(C),w&&(le.push(C+oe),t.ordinal&&oe.indexOf(pe)===0&&le.push(C+oe.replace(pe,this.options.pluralSeparator)),R&&le.push(C+Te))}}let ve;for(;ve=le.pop();)this.isValidLookup(r)||(a=ve,r=this.getResource(te,B,ve,t))}))})}),{res:r,usedKey:s,exactUsedKey:a,usedLng:u,usedNS:d}}isValidLookup(e){return e!==void 0&&!(!this.options.returnNull&&e===null)&&!(!this.options.returnEmptyString&&e==="")}getResource(e,t,r){let s=arguments.length>3&&arguments[3]!==void 0?arguments[3]:{};return this.i18nFormat&&this.i18nFormat.getResource?this.i18nFormat.getResource(e,t,r,s):this.resourceStore.getResource(e,t,r,s)}getUsedParamsDetails(){let e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{};const t=["defaultValue","ordinal","context","replace","lng","lngs","fallbackLng","ns","keySeparator","nsSeparator","returnObjects","returnDetails","joinArrays","postProcess","interpolation"],r=e.replace&&!be(e.replace);let s=r?e.replace:e;if(r&&typeof e.count<"u"&&(s.count=e.count),this.options.interpolation.defaultVariables&&(s={...this.options.interpolation.defaultVariables,...s}),!r){s={...s};for(const a of t)delete s[a]}return s}static hasDefaultValue(e){const t="defaultValue";for(const r in e)if(Object.prototype.hasOwnProperty.call(e,r)&&t===r.substring(0,t.length)&&e[r]!==void 0)return!0;return!1}}const Vp=n=>n.charAt(0).toUpperCase()+n.slice(1);class kE{constructor(e){this.options=e,this.supportedLngs=this.options.supportedLngs||!1,this.logger=Cr.create("languageUtils")}getScriptPartFromCode(e){if(e=Kh(e),!e||e.indexOf("-")<0)return null;const t=e.split("-");return t.length===2||(t.pop(),t[t.length-1].toLowerCase()==="x")?null:this.formatLanguageCode(t.join("-"))}getLanguagePartFromCode(e){if(e=Kh(e),!e||e.indexOf("-")<0)return e;const t=e.split("-");return this.formatLanguageCode(t[0])}formatLanguageCode(e){if(be(e)&&e.indexOf("-")>-1){if(typeof Intl<"u"&&typeof Intl.getCanonicalLocales<"u")try{let s=Intl.getCanonicalLocales(e)[0];if(s&&this.options.lowerCaseLng&&(s=s.toLowerCase()),s)return s}catch{}const t=["hans","hant","latn","cyrl","cans","mong","arab"];let r=e.split("-");return this.options.lowerCaseLng?r=r.map(s=>s.toLowerCase()):r.length===2?(r[0]=r[0].toLowerCase(),r[1]=r[1].toUpperCase(),t.indexOf(r[1].toLowerCase())>-1&&(r[1]=Vp(r[1].toLowerCase()))):r.length===3&&(r[0]=r[0].toLowerCase(),r[1].length===2&&(r[1]=r[1].toUpperCase()),r[0]!=="sgn"&&r[2].length===2&&(r[2]=r[2].toUpperCase()),t.indexOf(r[1].toLowerCase())>-1&&(r[1]=Vp(r[1].toLowerCase())),t.indexOf(r[2].toLowerCase())>-1&&(r[2]=Vp(r[2].toLowerCase()))),r.join("-")}return this.options.cleanCode||this.options.lowerCaseLng?e.toLowerCase():e}isSupportedCode(e){return(this.options.load==="languageOnly"||this.options.nonExplicitSupportedLngs)&&(e=this.getLanguagePartFromCode(e)),!this.supportedLngs||!this.supportedLngs.length||this.supportedLngs.indexOf(e)>-1}getBestMatchFromCodes(e){if(!e)return null;let t;return e.forEach(r=>{if(t)return;const s=this.formatLanguageCode(r);(!this.options.supportedLngs||this.isSupportedCode(s))&&(t=s)}),!t&&this.options.supportedLngs&&e.forEach(r=>{if(t)return;const s=this.getLanguagePartFromCode(r);if(this.isSupportedCode(s))return t=s;t=this.options.supportedLngs.find(a=>{if(a===s)return a;if(!(a.indexOf("-")<0&&s.indexOf("-")<0)&&(a.indexOf("-")>0&&s.indexOf("-")<0&&a.substring(0,a.indexOf("-"))===s||a.indexOf(s)===0&&s.length>1))return a})}),t||(t=this.getFallbackCodes(this.options.fallbackLng)[0]),t}getFallbackCodes(e,t){if(!e)return[];if(typeof e=="function"&&(e=e(t)),be(e)&&(e=[e]),Array.isArray(e))return e;if(!t)return e.default||[];let r=e[t];return r||(r=e[this.getScriptPartFromCode(t)]),r||(r=e[this.formatLanguageCode(t)]),r||(r=e[this.getLanguagePartFromCode(t)]),r||(r=e.default),r||[]}toResolveHierarchy(e,t){const r=this.getFallbackCodes(t||this.options.fallbackLng||[],e),s=[],a=u=>{u&&(this.isSupportedCode(u)?s.push(u):this.logger.warn(`rejecting language code not found in supportedLngs: ${u}`))};return be(e)&&(e.indexOf("-")>-1||e.indexOf("_")>-1)?(this.options.load!=="languageOnly"&&a(this.formatLanguageCode(e)),this.options.load!=="languageOnly"&&this.options.load!=="currentOnly"&&a(this.getScriptPartFromCode(e)),this.options.load!=="currentOnly"&&a(this.getLanguagePartFromCode(e))):be(e)&&a(this.formatLanguageCode(e)),r.forEach(u=>{s.indexOf(u)<0&&a(this.formatLanguageCode(u))}),s}}let SV=[{lngs:["ach","ak","am","arn","br","fil","gun","ln","mfe","mg","mi","oc","pt","pt-BR","tg","tl","ti","tr","uz","wa"],nr:[1,2],fc:1},{lngs:["af","an","ast","az","bg","bn","ca","da","de","dev","el","en","eo","es","et","eu","fi","fo","fur","fy","gl","gu","ha","hi","hu","hy","ia","it","kk","kn","ku","lb","mai","ml","mn","mr","nah","nap","nb","ne","nl","nn","no","nso","pa","pap","pms","ps","pt-PT","rm","sco","se","si","so","son","sq","sv","sw","ta","te","tk","ur","yo"],nr:[1,2],fc:2},{lngs:["ay","bo","cgg","fa","ht","id","ja","jbo","ka","km","ko","ky","lo","ms","sah","su","th","tt","ug","vi","wo","zh"],nr:[1],fc:3},{lngs:["be","bs","cnr","dz","hr","ru","sr","uk"],nr:[1,2,5],fc:4},{lngs:["ar"],nr:[0,1,2,3,11,100],fc:5},{lngs:["cs","sk"],nr:[1,2,5],fc:6},{lngs:["csb","pl"],nr:[1,2,5],fc:7},{lngs:["cy"],nr:[1,2,3,8],fc:8},{lngs:["fr"],nr:[1,2],fc:9},{lngs:["ga"],nr:[1,2,3,7,11],fc:10},{lngs:["gd"],nr:[1,2,3,20],fc:11},{lngs:["is"],nr:[1,2],fc:12},{lngs:["jv"],nr:[0,1],fc:13},{lngs:["kw"],nr:[1,2,3,4],fc:14},{lngs:["lt"],nr:[1,2,10],fc:15},{lngs:["lv"],nr:[1,2,0],fc:16},{lngs:["mk"],nr:[1,2],fc:17},{lngs:["mnk"],nr:[0,1,2],fc:18},{lngs:["mt"],nr:[1,2,11,20],fc:19},{lngs:["or"],nr:[2,1],fc:2},{lngs:["ro"],nr:[1,2,20],fc:20},{lngs:["sl"],nr:[5,1,2,3],fc:21},{lngs:["he","iw"],nr:[1,2,20,21],fc:22}],AV={1:n=>+(n>1),2:n=>+(n!=1),3:n=>0,4:n=>n%10==1&&n%100!=11?0:n%10>=2&&n%10<=4&&(n%100<10||n%100>=20)?1:2,5:n=>n==0?0:n==1?1:n==2?2:n%100>=3&&n%100<=10?3:n%100>=11?4:5,6:n=>n==1?0:n>=2&&n<=4?1:2,7:n=>n==1?0:n%10>=2&&n%10<=4&&(n%100<10||n%100>=20)?1:2,8:n=>n==1?0:n==2?1:n!=8&&n!=11?2:3,9:n=>+(n>=2),10:n=>n==1?0:n==2?1:n<7?2:n<11?3:4,11:n=>n==1||n==11?0:n==2||n==12?1:n>2&&n<20?2:3,12:n=>+(n%10!=1||n%100==11),13:n=>+(n!==0),14:n=>n==1?0:n==2?1:n==3?2:3,15:n=>n%10==1&&n%100!=11?0:n%10>=2&&(n%100<10||n%100>=20)?1:2,16:n=>n%10==1&&n%100!=11?0:n!==0?1:2,17:n=>n==1||n%10==1&&n%100!=11?0:1,18:n=>n==0?0:n==1?1:2,19:n=>n==1?0:n==0||n%100>1&&n%100<11?1:n%100>10&&n%100<20?2:3,20:n=>n==1?0:n==0||n%100>0&&n%100<20?1:2,21:n=>n%100==1?1:n%100==2?2:n%100==3||n%100==4?3:0,22:n=>n==1?0:n==2?1:(n<0||n>10)&&n%10==0?2:3};const RV=["v1","v2","v3"],PV=["v4"],CE={zero:0,one:1,two:2,few:3,many:4,other:5},kV=()=>{const n={};return SV.forEach(e=>{e.lngs.forEach(t=>{n[t]={numbers:e.nr,plurals:AV[e.fc]}})}),n};class CV{constructor(e){let t=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};this.languageUtils=e,this.options=t,this.logger=Cr.create("pluralResolver"),(!this.options.compatibilityJSON||PV.includes(this.options.compatibilityJSON))&&(typeof Intl>"u"||!Intl.PluralRules)&&(this.options.compatibilityJSON="v3",this.logger.error("Your environment seems not to be Intl API compatible, use an Intl.PluralRules polyfill. Will fallback to the compatibilityJSON v3 format handling.")),this.rules=kV(),this.pluralRulesCache={}}addRule(e,t){this.rules[e]=t}clearCache(){this.pluralRulesCache={}}getRule(e){let t=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};if(this.shouldUseIntlApi()){const r=Kh(e==="dev"?"en":e),s=t.ordinal?"ordinal":"cardinal",a=JSON.stringify({cleanedCode:r,type:s});if(a in this.pluralRulesCache)return this.pluralRulesCache[a];let u;try{u=new Intl.PluralRules(r,{type:s})}catch{if(!e.match(/-|_/))return;const f=this.languageUtils.getLanguagePartFromCode(e);u=this.getRule(f,t)}return this.pluralRulesCache[a]=u,u}return this.rules[e]||this.rules[this.languageUtils.getLanguagePartFromCode(e)]}needsPlural(e){let t=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};const r=this.getRule(e,t);return this.shouldUseIntlApi()?r&&r.resolvedOptions().pluralCategories.length>1:r&&r.numbers.length>1}getPluralFormsOfKey(e,t){let r=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{};return this.getSuffixes(e,r).map(s=>`${t}${s}`)}getSuffixes(e){let t=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};const r=this.getRule(e,t);return r?this.shouldUseIntlApi()?r.resolvedOptions().pluralCategories.sort((s,a)=>CE[s]-CE[a]).map(s=>`${this.options.prepend}${t.ordinal?`ordinal${this.options.prepend}`:""}${s}`):r.numbers.map(s=>this.getSuffix(e,s,t)):[]}getSuffix(e,t){let r=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{};const s=this.getRule(e,r);return s?this.shouldUseIntlApi()?`${this.options.prepend}${r.ordinal?`ordinal${this.options.prepend}`:""}${s.select(t)}`:this.getSuffixRetroCompatible(s,t):(this.logger.warn(`no plural rule found for: ${e}`),"")}getSuffixRetroCompatible(e,t){const r=e.noAbs?e.plurals(t):e.plurals(Math.abs(t));let s=e.numbers[r];this.options.simplifyPluralSuffix&&e.numbers.length===2&&e.numbers[0]===1&&(s===2?s="plural":s===1&&(s=""));const a=()=>this.options.prepend&&s.toString()?this.options.prepend+s.toString():s.toString();return this.options.compatibilityJSON==="v1"?s===1?"":typeof s=="number"?`_plural_${s.toString()}`:a():this.options.compatibilityJSON==="v2"||this.options.simplifyPluralSuffix&&e.numbers.length===2&&e.numbers[0]===1?a():this.options.prepend&&r.toString()?this.options.prepend+r.toString():r.toString()}shouldUseIntlApi(){return!RV.includes(this.options.compatibilityJSON)}}const bE=function(n,e,t){let r=arguments.length>3&&arguments[3]!==void 0?arguments[3]:".",s=arguments.length>4&&arguments[4]!==void 0?arguments[4]:!0,a=gV(n,e,t);return!a&&s&&be(t)&&(a=Em(n,t,r),a===void 0&&(a=Em(e,t,r))),a},Mp=n=>n.replace(/\$/g,"$$$$");class bV{constructor(){let e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{};this.logger=Cr.create("interpolator"),this.options=e,this.format=e.interpolation&&e.interpolation.format||(t=>t),this.init(e)}init(){let e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{};e.interpolation||(e.interpolation={escapeValue:!0});const{escape:t,escapeValue:r,useRawValueToEscape:s,prefix:a,prefixEscaped:u,suffix:d,suffixEscaped:f,formatSeparator:m,unescapeSuffix:g,unescapePrefix:E,nestingPrefix:w,nestingPrefixEscaped:R,nestingSuffix:M,nestingSuffixEscaped:$,nestingOptionsSeparator:B,maxReplaces:te,alwaysFormat:le}=e.interpolation;this.escape=t!==void 0?t:_V,this.escapeValue=r!==void 0?r:!0,this.useRawValueToEscape=s!==void 0?s:!1,this.prefix=a?Xo(a):u||"{{",this.suffix=d?Xo(d):f||"}}",this.formatSeparator=m||",",this.unescapePrefix=g?"":E||"-",this.unescapeSuffix=this.unescapePrefix?"":g||"",this.nestingPrefix=w?Xo(w):R||Xo("$t("),this.nestingSuffix=M?Xo(M):$||Xo(")"),this.nestingOptionsSeparator=B||",",this.maxReplaces=te||1e3,this.alwaysFormat=le!==void 0?le:!1,this.resetRegExp()}reset(){this.options&&this.init(this.options)}resetRegExp(){const e=(t,r)=>t&&t.source===r?(t.lastIndex=0,t):new RegExp(r,"g");this.regexp=e(this.regexp,`${this.prefix}(.+?)${this.suffix}`),this.regexpUnescape=e(this.regexpUnescape,`${this.prefix}${this.unescapePrefix}(.+?)${this.unescapeSuffix}${this.suffix}`),this.nestingRegexp=e(this.nestingRegexp,`${this.nestingPrefix}(.+?)${this.nestingSuffix}`)}interpolate(e,t,r,s){let a,u,d;const f=this.options&&this.options.interpolation&&this.options.interpolation.defaultVariables||{},m=R=>{if(R.indexOf(this.formatSeparator)<0){const te=bE(t,f,R,this.options.keySeparator,this.options.ignoreJSONStructure);return this.alwaysFormat?this.format(te,void 0,r,{...s,...t,interpolationkey:R}):te}const M=R.split(this.formatSeparator),$=M.shift().trim(),B=M.join(this.formatSeparator).trim();return this.format(bE(t,f,$,this.options.keySeparator,this.options.ignoreJSONStructure),B,r,{...s,...t,interpolationkey:$})};this.resetRegExp();const g=s&&s.missingInterpolationHandler||this.options.missingInterpolationHandler,E=s&&s.interpolation&&s.interpolation.skipOnVariables!==void 0?s.interpolation.skipOnVariables:this.options.interpolation.skipOnVariables;return[{regex:this.regexpUnescape,safeValue:R=>Mp(R)},{regex:this.regexp,safeValue:R=>this.escapeValue?Mp(this.escape(R)):Mp(R)}].forEach(R=>{for(d=0;a=R.regex.exec(e);){const M=a[1].trim();if(u=m(M),u===void 0)if(typeof g=="function"){const B=g(e,a,s);u=be(B)?B:""}else if(s&&Object.prototype.hasOwnProperty.call(s,M))u="";else if(E){u=a[0];continue}else this.logger.warn(`missed to pass in variable ${M} for interpolating ${e}`),u="";else!be(u)&&!this.useRawValueToEscape&&(u=TE(u));const $=R.safeValue(u);if(e=e.replace(a[0],$),E?(R.regex.lastIndex+=u.length,R.regex.lastIndex-=a[0].length):R.regex.lastIndex=0,d++,d>=this.maxReplaces)break}}),e}nest(e,t){let r=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{},s,a,u;const d=(f,m)=>{const g=this.nestingOptionsSeparator;if(f.indexOf(g)<0)return f;const E=f.split(new RegExp(`${g}[ ]*{`));let w=`{${E[1]}`;f=E[0],w=this.interpolate(w,u);const R=w.match(/'/g),M=w.match(/"/g);(R&&R.length%2===0&&!M||M.length%2!==0)&&(w=w.replace(/'/g,'"'));try{u=JSON.parse(w),m&&(u={...m,...u})}catch($){return this.logger.warn(`failed parsing options string in nesting for key ${f}`,$),`${f}${g}${w}`}return u.defaultValue&&u.defaultValue.indexOf(this.prefix)>-1&&delete u.defaultValue,f};for(;s=this.nestingRegexp.exec(e);){let f=[];u={...r},u=u.replace&&!be(u.replace)?u.replace:u,u.applyPostProcessor=!1,delete u.defaultValue;let m=!1;if(s[0].indexOf(this.formatSeparator)!==-1&&!/{.*}/.test(s[1])){const g=s[1].split(this.formatSeparator).map(E=>E.trim());s[1]=g.shift(),f=g,m=!0}if(a=t(d.call(this,s[1].trim(),u),u),a&&s[0]===e&&!be(a))return a;be(a)||(a=TE(a)),a||(this.logger.warn(`missed to resolve ${s[1]} for nesting ${e}`),a=""),m&&(a=f.reduce((g,E)=>this.format(g,E,r.lng,{...r,interpolationkey:s[1].trim()}),a.trim())),e=e.replace(s[0],a),this.regexp.lastIndex=0}return e}}const NV=n=>{let e=n.toLowerCase().trim();const t={};if(n.indexOf("(")>-1){const r=n.split("(");e=r[0].toLowerCase().trim();const s=r[1].substring(0,r[1].length-1);e==="currency"&&s.indexOf(":")<0?t.currency||(t.currency=s.trim()):e==="relativetime"&&s.indexOf(":")<0?t.range||(t.range=s.trim()):s.split(";").forEach(u=>{if(u){const[d,...f]=u.split(":"),m=f.join(":").trim().replace(/^'+|'+$/g,""),g=d.trim();t[g]||(t[g]=m),m==="false"&&(t[g]=!1),m==="true"&&(t[g]=!0),isNaN(m)||(t[g]=parseInt(m,10))}})}return{formatName:e,formatOptions:t}},Zo=n=>{const e={};return(t,r,s)=>{let a=s;s&&s.interpolationkey&&s.formatParams&&s.formatParams[s.interpolationkey]&&s[s.interpolationkey]&&(a={...a,[s.interpolationkey]:void 0});const u=r+JSON.stringify(a);let d=e[u];return d||(d=n(Kh(r),s),e[u]=d),d(t)}};class OV{constructor(){let e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{};this.logger=Cr.create("formatter"),this.options=e,this.formats={number:Zo((t,r)=>{const s=new Intl.NumberFormat(t,{...r});return a=>s.format(a)}),currency:Zo((t,r)=>{const s=new Intl.NumberFormat(t,{...r,style:"currency"});return a=>s.format(a)}),datetime:Zo((t,r)=>{const s=new Intl.DateTimeFormat(t,{...r});return a=>s.format(a)}),relativetime:Zo((t,r)=>{const s=new Intl.RelativeTimeFormat(t,{...r});return a=>s.format(a,r.range||"day")}),list:Zo((t,r)=>{const s=new Intl.ListFormat(t,{...r});return a=>s.format(a)})},this.init(e)}init(e){let t=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{interpolation:{}};this.formatSeparator=t.interpolation.formatSeparator||","}add(e,t){this.formats[e.toLowerCase().trim()]=t}addCached(e,t){this.formats[e.toLowerCase().trim()]=Zo(t)}format(e,t,r){let s=arguments.length>3&&arguments[3]!==void 0?arguments[3]:{};const a=t.split(this.formatSeparator);if(a.length>1&&a[0].indexOf("(")>1&&a[0].indexOf(")")<0&&a.find(d=>d.indexOf(")")>-1)){const d=a.findIndex(f=>f.indexOf(")")>-1);a[0]=[a[0],...a.splice(1,d)].join(this.formatSeparator)}return a.reduce((d,f)=>{const{formatName:m,formatOptions:g}=NV(f);if(this.formats[m]){let E=d;try{const w=s&&s.formatParams&&s.formatParams[s.interpolationkey]||{},R=w.locale||w.lng||s.locale||s.lng||r;E=this.formats[m](d,R,{...g,...s,...w})}catch(w){this.logger.warn(w)}return E}else this.logger.warn(`there was no format function for ${m}`);return d},e)}}const xV=(n,e)=>{n.pending[e]!==void 0&&(delete n.pending[e],n.pendingCount--)};class DV extends bd{constructor(e,t,r){let s=arguments.length>3&&arguments[3]!==void 0?arguments[3]:{};super(),this.backend=e,this.store=t,this.services=r,this.languageUtils=r.languageUtils,this.options=s,this.logger=Cr.create("backendConnector"),this.waitingReads=[],this.maxParallelReads=s.maxParallelReads||10,this.readingCalls=0,this.maxRetries=s.maxRetries>=0?s.maxRetries:5,this.retryTimeout=s.retryTimeout>=1?s.retryTimeout:350,this.state={},this.queue=[],this.backend&&this.backend.init&&this.backend.init(r,s.backend,s)}queueLoad(e,t,r,s){const a={},u={},d={},f={};return e.forEach(m=>{let g=!0;t.forEach(E=>{const w=`${m}|${E}`;!r.reload&&this.store.hasResourceBundle(m,E)?this.state[w]=2:this.state[w]<0||(this.state[w]===1?u[w]===void 0&&(u[w]=!0):(this.state[w]=1,g=!1,u[w]===void 0&&(u[w]=!0),a[w]===void 0&&(a[w]=!0),f[E]===void 0&&(f[E]=!0)))}),g||(d[m]=!0)}),(Object.keys(a).length||Object.keys(u).length)&&this.queue.push({pending:u,pendingCount:Object.keys(u).length,loaded:{},errors:[],callback:s}),{toLoad:Object.keys(a),pending:Object.keys(u),toLoadLanguages:Object.keys(d),toLoadNamespaces:Object.keys(f)}}loaded(e,t,r){const s=e.split("|"),a=s[0],u=s[1];t&&this.emit("failedLoading",a,u,t),!t&&r&&this.store.addResourceBundle(a,u,r,void 0,void 0,{skipCopy:!0}),this.state[e]=t?-1:2,t&&r&&(this.state[e]=0);const d={};this.queue.forEach(f=>{mV(f.loaded,[a],u),xV(f,e),t&&f.errors.push(t),f.pendingCount===0&&!f.done&&(Object.keys(f.loaded).forEach(m=>{d[m]||(d[m]={});const g=f.loaded[m];g.length&&g.forEach(E=>{d[m][E]===void 0&&(d[m][E]=!0)})}),f.done=!0,f.errors.length?f.callback(f.errors):f.callback())}),this.emit("loaded",d),this.queue=this.queue.filter(f=>!f.done)}read(e,t,r){let s=arguments.length>3&&arguments[3]!==void 0?arguments[3]:0,a=arguments.length>4&&arguments[4]!==void 0?arguments[4]:this.retryTimeout,u=arguments.length>5?arguments[5]:void 0;if(!e.length)return u(null,{});if(this.readingCalls>=this.maxParallelReads){this.waitingReads.push({lng:e,ns:t,fcName:r,tried:s,wait:a,callback:u});return}this.readingCalls++;const d=(m,g)=>{if(this.readingCalls--,this.waitingReads.length>0){const E=this.waitingReads.shift();this.read(E.lng,E.ns,E.fcName,E.tried,E.wait,E.callback)}if(m&&g&&s<this.maxRetries){setTimeout(()=>{this.read.call(this,e,t,r,s+1,a*2,u)},a);return}u(m,g)},f=this.backend[r].bind(this.backend);if(f.length===2){try{const m=f(e,t);m&&typeof m.then=="function"?m.then(g=>d(null,g)).catch(d):d(null,m)}catch(m){d(m)}return}return f(e,t,d)}prepareLoading(e,t){let r=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{},s=arguments.length>3?arguments[3]:void 0;if(!this.backend)return this.logger.warn("No backend was added via i18next.use. Will not load resources."),s&&s();be(e)&&(e=this.languageUtils.toResolveHierarchy(e)),be(t)&&(t=[t]);const a=this.queueLoad(e,t,r,s);if(!a.toLoad.length)return a.pending.length||s(),null;a.toLoad.forEach(u=>{this.loadOne(u)})}load(e,t,r){this.prepareLoading(e,t,{},r)}reload(e,t,r){this.prepareLoading(e,t,{reload:!0},r)}loadOne(e){let t=arguments.length>1&&arguments[1]!==void 0?arguments[1]:"";const r=e.split("|"),s=r[0],a=r[1];this.read(s,a,"read",void 0,void 0,(u,d)=>{u&&this.logger.warn(`${t}loading namespace ${a} for language ${s} failed`,u),!u&&d&&this.logger.log(`${t}loaded namespace ${a} for language ${s}`,d),this.loaded(e,u,d)})}saveMissing(e,t,r,s,a){let u=arguments.length>5&&arguments[5]!==void 0?arguments[5]:{},d=arguments.length>6&&arguments[6]!==void 0?arguments[6]:()=>{};if(this.services.utils&&this.services.utils.hasLoadedNamespace&&!this.services.utils.hasLoadedNamespace(t)){this.logger.warn(`did not save key "${r}" as the namespace "${t}" was not yet loaded`,"This means something IS WRONG in your setup. You access the t function before i18next.init / i18next.loadNamespace / i18next.changeLanguage was done. Wait for the callback or Promise to resolve before accessing it!!!");return}if(!(r==null||r==="")){if(this.backend&&this.backend.create){const f={...u,isUpdate:a},m=this.backend.create.bind(this.backend);if(m.length<6)try{let g;m.length===5?g=m(e,t,r,s,f):g=m(e,t,r,s),g&&typeof g.then=="function"?g.then(E=>d(null,E)).catch(d):d(null,g)}catch(g){d(g)}else m(e,t,r,s,d,f)}!e||!e[0]||this.store.addResource(e[0],t,r,s)}}}const NE=()=>({debug:!1,initImmediate:!0,ns:["translation"],defaultNS:["translation"],fallbackLng:["dev"],fallbackNS:!1,supportedLngs:!1,nonExplicitSupportedLngs:!1,load:"all",preload:!1,simplifyPluralSuffix:!0,keySeparator:".",nsSeparator:":",pluralSeparator:"_",contextSeparator:"_",partialBundledLanguages:!1,saveMissing:!1,updateMissing:!1,saveMissingTo:"fallback",saveMissingPlurals:!0,missingKeyHandler:!1,missingInterpolationHandler:!1,postProcess:!1,postProcessPassResolved:!1,returnNull:!1,returnEmptyString:!0,returnObjects:!1,joinArrays:!1,returnedObjectHandler:!1,parseMissingKeyHandler:!1,appendNamespaceToMissingKey:!1,appendNamespaceToCIMode:!1,overloadTranslationOptionHandler:n=>{let e={};if(typeof n[1]=="object"&&(e=n[1]),be(n[1])&&(e.defaultValue=n[1]),be(n[2])&&(e.tDescription=n[2]),typeof n[2]=="object"||typeof n[3]=="object"){const t=n[3]||n[2];Object.keys(t).forEach(r=>{e[r]=t[r]})}return e},interpolation:{escapeValue:!0,format:n=>n,prefix:"{{",suffix:"}}",formatSeparator:",",unescapePrefix:"-",nestingPrefix:"$t(",nestingSuffix:")",nestingOptionsSeparator:",",maxReplaces:1e3,skipOnVariables:!0}}),OE=n=>(be(n.ns)&&(n.ns=[n.ns]),be(n.fallbackLng)&&(n.fallbackLng=[n.fallbackLng]),be(n.fallbackNS)&&(n.fallbackNS=[n.fallbackNS]),n.supportedLngs&&n.supportedLngs.indexOf("cimode")<0&&(n.supportedLngs=n.supportedLngs.concat(["cimode"])),n),uh=()=>{},LV=n=>{Object.getOwnPropertyNames(Object.getPrototypeOf(n)).forEach(t=>{typeof n[t]=="function"&&(n[t]=n[t].bind(n))})};class yu extends bd{constructor(){let e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{},t=arguments.length>1?arguments[1]:void 0;if(super(),this.options=OE(e),this.services={},this.logger=Cr,this.modules={external:[]},LV(this),t&&!this.isInitialized&&!e.isClone){if(!this.options.initImmediate)return this.init(e,t),this;setTimeout(()=>{this.init(e,t)},0)}}init(){var e=this;let t=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{},r=arguments.length>1?arguments[1]:void 0;this.isInitializing=!0,typeof t=="function"&&(r=t,t={}),!t.defaultNS&&t.defaultNS!==!1&&t.ns&&(be(t.ns)?t.defaultNS=t.ns:t.ns.indexOf("translation")<0&&(t.defaultNS=t.ns[0]));const s=NE();this.options={...s,...this.options,...OE(t)},this.options.compatibilityAPI!=="v1"&&(this.options.interpolation={...s.interpolation,...this.options.interpolation}),t.keySeparator!==void 0&&(this.options.userDefinedKeySeparator=t.keySeparator),t.nsSeparator!==void 0&&(this.options.userDefinedNsSeparator=t.nsSeparator);const a=g=>g?typeof g=="function"?new g:g:null;if(!this.options.isClone){this.modules.logger?Cr.init(a(this.modules.logger),this.options):Cr.init(null,this.options);let g;this.modules.formatter?g=this.modules.formatter:typeof Intl<"u"&&(g=OV);const E=new kE(this.options);this.store=new RE(this.options.resources,this.options);const w=this.services;w.logger=Cr,w.resourceStore=this.store,w.languageUtils=E,w.pluralResolver=new CV(E,{prepend:this.options.pluralSeparator,compatibilityJSON:this.options.compatibilityJSON,simplifyPluralSuffix:this.options.simplifyPluralSuffix}),g&&(!this.options.interpolation.format||this.options.interpolation.format===s.interpolation.format)&&(w.formatter=a(g),w.formatter.init(w,this.options),this.options.interpolation.format=w.formatter.format.bind(w.formatter)),w.interpolator=new bV(this.options),w.utils={hasLoadedNamespace:this.hasLoadedNamespace.bind(this)},w.backendConnector=new DV(a(this.modules.backend),w.resourceStore,w,this.options),w.backendConnector.on("*",function(R){for(var M=arguments.length,$=new Array(M>1?M-1:0),B=1;B<M;B++)$[B-1]=arguments[B];e.emit(R,...$)}),this.modules.languageDetector&&(w.languageDetector=a(this.modules.languageDetector),w.languageDetector.init&&w.languageDetector.init(w,this.options.detection,this.options)),this.modules.i18nFormat&&(w.i18nFormat=a(this.modules.i18nFormat),w.i18nFormat.init&&w.i18nFormat.init(this)),this.translator=new Yh(this.services,this.options),this.translator.on("*",function(R){for(var M=arguments.length,$=new Array(M>1?M-1:0),B=1;B<M;B++)$[B-1]=arguments[B];e.emit(R,...$)}),this.modules.external.forEach(R=>{R.init&&R.init(this)})}if(this.format=this.options.interpolation.format,r||(r=uh),this.options.fallbackLng&&!this.services.languageDetector&&!this.options.lng){const g=this.services.languageUtils.getFallbackCodes(this.options.fallbackLng);g.length>0&&g[0]!=="dev"&&(this.options.lng=g[0])}!this.services.languageDetector&&!this.options.lng&&this.logger.warn("init: no languageDetector is used and no lng is defined"),["getResource","hasResourceBundle","getResourceBundle","getDataByLanguage"].forEach(g=>{this[g]=function(){return e.store[g](...arguments)}}),["addResource","addResources","addResourceBundle","removeResourceBundle"].forEach(g=>{this[g]=function(){return e.store[g](...arguments),e}});const f=Ll(),m=()=>{const g=(E,w)=>{this.isInitializing=!1,this.isInitialized&&!this.initializedStoreOnce&&this.logger.warn("init: i18next is already initialized. You should call init just once!"),this.isInitialized=!0,this.options.isClone||this.logger.log("initialized",this.options),this.emit("initialized",this.options),f.resolve(w),r(E,w)};if(this.languages&&this.options.compatibilityAPI!=="v1"&&!this.isInitialized)return g(null,this.t.bind(this));this.changeLanguage(this.options.lng,g)};return this.options.resources||!this.options.initImmediate?m():setTimeout(m,0),f}loadResources(e){let r=arguments.length>1&&arguments[1]!==void 0?arguments[1]:uh;const s=be(e)?e:this.language;if(typeof e=="function"&&(r=e),!this.options.resources||this.options.partialBundledLanguages){if(s&&s.toLowerCase()==="cimode"&&(!this.options.preload||this.options.preload.length===0))return r();const a=[],u=d=>{if(!d||d==="cimode")return;this.services.languageUtils.toResolveHierarchy(d).forEach(m=>{m!=="cimode"&&a.indexOf(m)<0&&a.push(m)})};s?u(s):this.services.languageUtils.getFallbackCodes(this.options.fallbackLng).forEach(f=>u(f)),this.options.preload&&this.options.preload.forEach(d=>u(d)),this.services.backendConnector.load(a,this.options.ns,d=>{!d&&!this.resolvedLanguage&&this.language&&this.setResolvedLanguage(this.language),r(d)})}else r(null)}reloadResources(e,t,r){const s=Ll();return typeof e=="function"&&(r=e,e=void 0),typeof t=="function"&&(r=t,t=void 0),e||(e=this.languages),t||(t=this.options.ns),r||(r=uh),this.services.backendConnector.reload(e,t,a=>{s.resolve(),r(a)}),s}use(e){if(!e)throw new Error("You are passing an undefined module! Please check the object you are passing to i18next.use()");if(!e.type)throw new Error("You are passing a wrong module! Please check the object you are passing to i18next.use()");return e.type==="backend"&&(this.modules.backend=e),(e.type==="logger"||e.log&&e.warn&&e.error)&&(this.modules.logger=e),e.type==="languageDetector"&&(this.modules.languageDetector=e),e.type==="i18nFormat"&&(this.modules.i18nFormat=e),e.type==="postProcessor"&&YS.addPostProcessor(e),e.type==="formatter"&&(this.modules.formatter=e),e.type==="3rdParty"&&this.modules.external.push(e),this}setResolvedLanguage(e){if(!(!e||!this.languages)&&!(["cimode","dev"].indexOf(e)>-1))for(let t=0;t<this.languages.length;t++){const r=this.languages[t];if(!(["cimode","dev"].indexOf(r)>-1)&&this.store.hasLanguageSomeTranslations(r)){this.resolvedLanguage=r;break}}}changeLanguage(e,t){var r=this;this.isLanguageChangingTo=e;const s=Ll();this.emit("languageChanging",e);const a=f=>{this.language=f,this.languages=this.services.languageUtils.toResolveHierarchy(f),this.resolvedLanguage=void 0,this.setResolvedLanguage(f)},u=(f,m)=>{m?(a(m),this.translator.changeLanguage(m),this.isLanguageChangingTo=void 0,this.emit("languageChanged",m),this.logger.log("languageChanged",m)):this.isLanguageChangingTo=void 0,s.resolve(function(){return r.t(...arguments)}),t&&t(f,function(){return r.t(...arguments)})},d=f=>{!e&&!f&&this.services.languageDetector&&(f=[]);const m=be(f)?f:this.services.languageUtils.getBestMatchFromCodes(f);m&&(this.language||a(m),this.translator.language||this.translator.changeLanguage(m),this.services.languageDetector&&this.services.languageDetector.cacheUserLanguage&&this.services.languageDetector.cacheUserLanguage(m)),this.loadResources(m,g=>{u(g,m)})};return!e&&this.services.languageDetector&&!this.services.languageDetector.async?d(this.services.languageDetector.detect()):!e&&this.services.languageDetector&&this.services.languageDetector.async?this.services.languageDetector.detect.length===0?this.services.languageDetector.detect().then(d):this.services.languageDetector.detect(d):d(e),s}getFixedT(e,t,r){var s=this;const a=function(u,d){let f;if(typeof d!="object"){for(var m=arguments.length,g=new Array(m>2?m-2:0),E=2;E<m;E++)g[E-2]=arguments[E];f=s.options.overloadTranslationOptionHandler([u,d].concat(g))}else f={...d};f.lng=f.lng||a.lng,f.lngs=f.lngs||a.lngs,f.ns=f.ns||a.ns,f.keyPrefix!==""&&(f.keyPrefix=f.keyPrefix||r||a.keyPrefix);const w=s.options.keySeparator||".";let R;return f.keyPrefix&&Array.isArray(u)?R=u.map(M=>`${f.keyPrefix}${w}${M}`):R=f.keyPrefix?`${f.keyPrefix}${w}${u}`:u,s.t(R,f)};return be(e)?a.lng=e:a.lngs=e,a.ns=t,a.keyPrefix=r,a}t(){return this.translator&&this.translator.translate(...arguments)}exists(){return this.translator&&this.translator.exists(...arguments)}setDefaultNamespace(e){this.options.defaultNS=e}hasLoadedNamespace(e){let t=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};if(!this.isInitialized)return this.logger.warn("hasLoadedNamespace: i18next was not initialized",this.languages),!1;if(!this.languages||!this.languages.length)return this.logger.warn("hasLoadedNamespace: i18n.languages were undefined or empty",this.languages),!1;const r=t.lng||this.resolvedLanguage||this.languages[0],s=this.options?this.options.fallbackLng:!1,a=this.languages[this.languages.length-1];if(r.toLowerCase()==="cimode")return!0;const u=(d,f)=>{const m=this.services.backendConnector.state[`${d}|${f}`];return m===-1||m===0||m===2};if(t.precheck){const d=t.precheck(this,u);if(d!==void 0)return d}return!!(this.hasResourceBundle(r,e)||!this.services.backendConnector.backend||this.options.resources&&!this.options.partialBundledLanguages||u(r,e)&&(!s||u(a,e)))}loadNamespaces(e,t){const r=Ll();return this.options.ns?(be(e)&&(e=[e]),e.forEach(s=>{this.options.ns.indexOf(s)<0&&this.options.ns.push(s)}),this.loadResources(s=>{r.resolve(),t&&t(s)}),r):(t&&t(),Promise.resolve())}loadLanguages(e,t){const r=Ll();be(e)&&(e=[e]);const s=this.options.preload||[],a=e.filter(u=>s.indexOf(u)<0&&this.services.languageUtils.isSupportedCode(u));return a.length?(this.options.preload=s.concat(a),this.loadResources(u=>{r.resolve(),t&&t(u)}),r):(t&&t(),Promise.resolve())}dir(e){if(e||(e=this.resolvedLanguage||(this.languages&&this.languages.length>0?this.languages[0]:this.language)),!e)return"rtl";const t=["ar","shu","sqr","ssh","xaa","yhd","yud","aao","abh","abv","acm","acq","acw","acx","acy","adf","ads","aeb","aec","afb","ajp","apc","apd","arb","arq","ars","ary","arz","auz","avl","ayh","ayl","ayn","ayp","bbz","pga","he","iw","ps","pbt","pbu","pst","prp","prd","ug","ur","ydd","yds","yih","ji","yi","hbo","men","xmn","fa","jpr","peo","pes","prs","dv","sam","ckb"],r=this.services&&this.services.languageUtils||new kE(NE());return t.indexOf(r.getLanguagePartFromCode(e))>-1||e.toLowerCase().indexOf("-arab")>1?"rtl":"ltr"}static createInstance(){let e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{},t=arguments.length>1?arguments[1]:void 0;return new yu(e,t)}cloneInstance(){let e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{},t=arguments.length>1&&arguments[1]!==void 0?arguments[1]:uh;const r=e.forkResourceStore;r&&delete e.forkResourceStore;const s={...this.options,...e,isClone:!0},a=new yu(s);return(e.debug!==void 0||e.prefix!==void 0)&&(a.logger=a.logger.clone(e)),["store","services","language"].forEach(d=>{a[d]=this[d]}),a.services={...this.services},a.services.utils={hasLoadedNamespace:a.hasLoadedNamespace.bind(a)},r&&(a.store=new RE(this.store.data,s),a.services.resourceStore=a.store),a.translator=new Yh(a.services,s),a.translator.on("*",function(d){for(var f=arguments.length,m=new Array(f>1?f-1:0),g=1;g<f;g++)m[g-1]=arguments[g];a.emit(d,...m)}),a.init(s,t),a.translator.options=s,a.translator.backendConnector.services.utils={hasLoadedNamespace:a.hasLoadedNamespace.bind(a)},a}toJSON(){return{options:this.options,store:this.store,language:this.language,languages:this.languages,resolvedLanguage:this.resolvedLanguage}}}const ft=yu.createInstance();ft.createInstance=yu.createInstance;ft.createInstance;ft.dir;ft.init;ft.loadResources;ft.reloadResources;ft.use;ft.changeLanguage;ft.getFixedT;ft.t;ft.exists;ft.setDefaultNamespace;ft.hasLoadedNamespace;ft.loadNamespaces;ft.loadLanguages;const VV=/&(?:amp|#38|lt|#60|gt|#62|apos|#39|quot|#34|nbsp|#160|copy|#169|reg|#174|hellip|#8230|#x2F|#47);/g,MV={"&amp;":"&","&#38;":"&","&lt;":"<","&#60;":"<","&gt;":">","&#62;":">","&apos;":"'","&#39;":"'","&quot;":'"',"&#34;":'"',"&nbsp;":" ","&#160;":" ","&copy;":"","&#169;":"","&reg;":"","&#174;":"","&hellip;":"","&#8230;":"","&#x2F;":"/","&#47;":"/"},UV=n=>MV[n],FV=n=>n.replace(VV,UV);let Tm={bindI18n:"languageChanged",bindI18nStore:"",transEmptyNodeValue:"",transSupportBasicHtmlNodes:!0,transWrapTextNodes:"",transKeepBasicHtmlNodesFor:["br","strong","i","p"],useSuspense:!0,unescape:FV};const jV=function(){let n=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{};Tm={...Tm,...n}},i4=()=>Tm;let JS;const zV=n=>{JS=n},s4=()=>JS,BV={type:"3rdParty",init(n){jV(n.options.react),zV(n)}};function Im(n){"@babel/helpers - typeof";return Im=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Im(n)}function XS(){return typeof XMLHttpRequest=="function"||(typeof XMLHttpRequest>"u"?"undefined":Im(XMLHttpRequest))==="object"}function $V(n){return!!n&&typeof n.then=="function"}function HV(n){return $V(n)?n:Promise.resolve(n)}function qV(n){throw new Error('Could not dynamically require "'+n+'". Please configure the dynamicRequireTargets or/and ignoreDynamicRequires option of @rollup/plugin-commonjs appropriately for this require call to work.')}var ch={exports:{}},hh={exports:{}},xE;function WV(){return xE||(xE=1,(function(n,e){var t=typeof globalThis<"u"&&globalThis||typeof self<"u"&&self||typeof Wl<"u"&&Wl,r=(function(){function a(){this.fetch=!1,this.DOMException=t.DOMException}return a.prototype=t,new a})();(function(a){(function(u){var d=typeof a<"u"&&a||typeof self<"u"&&self||typeof d<"u"&&d,f={searchParams:"URLSearchParams"in d,iterable:"Symbol"in d&&"iterator"in Symbol,blob:"FileReader"in d&&"Blob"in d&&(function(){try{return new Blob,!0}catch{return!1}})(),formData:"FormData"in d,arrayBuffer:"ArrayBuffer"in d};function m(j){return j&&DataView.prototype.isPrototypeOf(j)}if(f.arrayBuffer)var g=["[object Int8Array]","[object Uint8Array]","[object Uint8ClampedArray]","[object Int16Array]","[object Uint16Array]","[object Int32Array]","[object Uint32Array]","[object Float32Array]","[object Float64Array]"],E=ArrayBuffer.isView||function(j){return j&&g.indexOf(Object.prototype.toString.call(j))>-1};function w(j){if(typeof j!="string"&&(j=String(j)),/[^a-z0-9\-#$%&'*+.^_`|~!]/i.test(j)||j==="")throw new TypeError('Invalid character in header field name: "'+j+'"');return j.toLowerCase()}function R(j){return typeof j!="string"&&(j=String(j)),j}function M(j){var Q={next:function(){var he=j.shift();return{done:he===void 0,value:he}}};return f.iterable&&(Q[Symbol.iterator]=function(){return Q}),Q}function $(j){this.map={},j instanceof $?j.forEach(function(Q,he){this.append(he,Q)},this):Array.isArray(j)?j.forEach(function(Q){this.append(Q[0],Q[1])},this):j&&Object.getOwnPropertyNames(j).forEach(function(Q){this.append(Q,j[Q])},this)}$.prototype.append=function(j,Q){j=w(j),Q=R(Q);var he=this.map[j];this.map[j]=he?he+", "+Q:Q},$.prototype.delete=function(j){delete this.map[w(j)]},$.prototype.get=function(j){return j=w(j),this.has(j)?this.map[j]:null},$.prototype.has=function(j){return this.map.hasOwnProperty(w(j))},$.prototype.set=function(j,Q){this.map[w(j)]=R(Q)},$.prototype.forEach=function(j,Q){for(var he in this.map)this.map.hasOwnProperty(he)&&j.call(Q,this.map[he],he,this)},$.prototype.keys=function(){var j=[];return this.forEach(function(Q,he){j.push(he)}),M(j)},$.prototype.values=function(){var j=[];return this.forEach(function(Q){j.push(Q)}),M(j)},$.prototype.entries=function(){var j=[];return this.forEach(function(Q,he){j.push([he,Q])}),M(j)},f.iterable&&($.prototype[Symbol.iterator]=$.prototype.entries);function B(j){if(j.bodyUsed)return Promise.reject(new TypeError("Already read"));j.bodyUsed=!0}function te(j){return new Promise(function(Q,he){j.onload=function(){Q(j.result)},j.onerror=function(){he(j.error)}})}function le(j){var Q=new FileReader,he=te(Q);return Q.readAsArrayBuffer(j),he}function ve(j){var Q=new FileReader,he=te(Q);return Q.readAsText(j),he}function oe(j){for(var Q=new Uint8Array(j),he=new Array(Q.length),W=0;W<Q.length;W++)he[W]=String.fromCharCode(Q[W]);return he.join("")}function Te(j){if(j.slice)return j.slice(0);var Q=new Uint8Array(j.byteLength);return Q.set(new Uint8Array(j)),Q.buffer}function pe(){return this.bodyUsed=!1,this._initBody=function(j){this.bodyUsed=this.bodyUsed,this._bodyInit=j,j?typeof j=="string"?this._bodyText=j:f.blob&&Blob.prototype.isPrototypeOf(j)?this._bodyBlob=j:f.formData&&FormData.prototype.isPrototypeOf(j)?this._bodyFormData=j:f.searchParams&&URLSearchParams.prototype.isPrototypeOf(j)?this._bodyText=j.toString():f.arrayBuffer&&f.blob&&m(j)?(this._bodyArrayBuffer=Te(j.buffer),this._bodyInit=new Blob([this._bodyArrayBuffer])):f.arrayBuffer&&(ArrayBuffer.prototype.isPrototypeOf(j)||E(j))?this._bodyArrayBuffer=Te(j):this._bodyText=j=Object.prototype.toString.call(j):this._bodyText="",this.headers.get("content-type")||(typeof j=="string"?this.headers.set("content-type","text/plain;charset=UTF-8"):this._bodyBlob&&this._bodyBlob.type?this.headers.set("content-type",this._bodyBlob.type):f.searchParams&&URLSearchParams.prototype.isPrototypeOf(j)&&this.headers.set("content-type","application/x-www-form-urlencoded;charset=UTF-8"))},f.blob&&(this.blob=function(){var j=B(this);if(j)return j;if(this._bodyBlob)return Promise.resolve(this._bodyBlob);if(this._bodyArrayBuffer)return Promise.resolve(new Blob([this._bodyArrayBuffer]));if(this._bodyFormData)throw new Error("could not read FormData body as blob");return Promise.resolve(new Blob([this._bodyText]))},this.arrayBuffer=function(){if(this._bodyArrayBuffer){var j=B(this);return j||(ArrayBuffer.isView(this._bodyArrayBuffer)?Promise.resolve(this._bodyArrayBuffer.buffer.slice(this._bodyArrayBuffer.byteOffset,this._bodyArrayBuffer.byteOffset+this._bodyArrayBuffer.byteLength)):Promise.resolve(this._bodyArrayBuffer))}else return this.blob().then(le)}),this.text=function(){var j=B(this);if(j)return j;if(this._bodyBlob)return ve(this._bodyBlob);if(this._bodyArrayBuffer)return Promise.resolve(oe(this._bodyArrayBuffer));if(this._bodyFormData)throw new Error("could not read FormData body as text");return Promise.resolve(this._bodyText)},f.formData&&(this.formData=function(){return this.text().then(D)}),this.json=function(){return this.text().then(JSON.parse)},this}var C=["DELETE","GET","HEAD","OPTIONS","POST","PUT"];function S(j){var Q=j.toUpperCase();return C.indexOf(Q)>-1?Q:j}function k(j,Q){if(!(this instanceof k))throw new TypeError('Please use the "new" operator, this DOM object constructor cannot be called as a function.');Q=Q||{};var he=Q.body;if(j instanceof k){if(j.bodyUsed)throw new TypeError("Already read");this.url=j.url,this.credentials=j.credentials,Q.headers||(this.headers=new $(j.headers)),this.method=j.method,this.mode=j.mode,this.signal=j.signal,!he&&j._bodyInit!=null&&(he=j._bodyInit,j.bodyUsed=!0)}else this.url=String(j);if(this.credentials=Q.credentials||this.credentials||"same-origin",(Q.headers||!this.headers)&&(this.headers=new $(Q.headers)),this.method=S(Q.method||this.method||"GET"),this.mode=Q.mode||this.mode||null,this.signal=Q.signal||this.signal,this.referrer=null,(this.method==="GET"||this.method==="HEAD")&&he)throw new TypeError("Body not allowed for GET or HEAD requests");if(this._initBody(he),(this.method==="GET"||this.method==="HEAD")&&(Q.cache==="no-store"||Q.cache==="no-cache")){var W=/([?&])_=[^&]*/;if(W.test(this.url))this.url=this.url.replace(W,"$1_="+new Date().getTime());else{var ie=/\?/;this.url+=(ie.test(this.url)?"&":"?")+"_="+new Date().getTime()}}}k.prototype.clone=function(){return new k(this,{body:this._bodyInit})};function D(j){var Q=new FormData;return j.trim().split("&").forEach(function(he){if(he){var W=he.split("="),ie=W.shift().replace(/\+/g," "),Y=W.join("=").replace(/\+/g," ");Q.append(decodeURIComponent(ie),decodeURIComponent(Y))}}),Q}function N(j){var Q=new $,he=j.replace(/\r?\n[\t ]+/g," ");return he.split("\r").map(function(W){return W.indexOf(`
`)===0?W.substr(1,W.length):W}).forEach(function(W){var ie=W.split(":"),Y=ie.shift().trim();if(Y){var V=ie.join(":").trim();Q.append(Y,V)}}),Q}pe.call(k.prototype);function O(j,Q){if(!(this instanceof O))throw new TypeError('Please use the "new" operator, this DOM object constructor cannot be called as a function.');Q||(Q={}),this.type="default",this.status=Q.status===void 0?200:Q.status,this.ok=this.status>=200&&this.status<300,this.statusText=Q.statusText===void 0?"":""+Q.statusText,this.headers=new $(Q.headers),this.url=Q.url||"",this._initBody(j)}pe.call(O.prototype),O.prototype.clone=function(){return new O(this._bodyInit,{status:this.status,statusText:this.statusText,headers:new $(this.headers),url:this.url})},O.error=function(){var j=new O(null,{status:0,statusText:""});return j.type="error",j};var P=[301,302,303,307,308];O.redirect=function(j,Q){if(P.indexOf(Q)===-1)throw new RangeError("Invalid status code");return new O(null,{status:Q,headers:{location:j}})},u.DOMException=d.DOMException;try{new u.DOMException}catch{u.DOMException=function(Q,he){this.message=Q,this.name=he;var W=Error(Q);this.stack=W.stack},u.DOMException.prototype=Object.create(Error.prototype),u.DOMException.prototype.constructor=u.DOMException}function Oe(j,Q){return new Promise(function(he,W){var ie=new k(j,Q);if(ie.signal&&ie.signal.aborted)return W(new u.DOMException("Aborted","AbortError"));var Y=new XMLHttpRequest;function V(){Y.abort()}Y.onload=function(){var Ie={status:Y.status,statusText:Y.statusText,headers:N(Y.getAllResponseHeaders()||"")};Ie.url="responseURL"in Y?Y.responseURL:Ie.headers.get("X-Request-URL");var ke="response"in Y?Y.response:Y.responseText;setTimeout(function(){he(new O(ke,Ie))},0)},Y.onerror=function(){setTimeout(function(){W(new TypeError("Network request failed"))},0)},Y.ontimeout=function(){setTimeout(function(){W(new TypeError("Network request failed"))},0)},Y.onabort=function(){setTimeout(function(){W(new u.DOMException("Aborted","AbortError"))},0)};function J(Ie){try{return Ie===""&&d.location.href?d.location.href:Ie}catch{return Ie}}Y.open(ie.method,J(ie.url),!0),ie.credentials==="include"?Y.withCredentials=!0:ie.credentials==="omit"&&(Y.withCredentials=!1),"responseType"in Y&&(f.blob?Y.responseType="blob":f.arrayBuffer&&ie.headers.get("Content-Type")&&ie.headers.get("Content-Type").indexOf("application/octet-stream")!==-1&&(Y.responseType="arraybuffer")),Q&&typeof Q.headers=="object"&&!(Q.headers instanceof $)?Object.getOwnPropertyNames(Q.headers).forEach(function(Ie){Y.setRequestHeader(Ie,R(Q.headers[Ie]))}):ie.headers.forEach(function(Ie,ke){Y.setRequestHeader(ke,Ie)}),ie.signal&&(ie.signal.addEventListener("abort",V),Y.onreadystatechange=function(){Y.readyState===4&&ie.signal.removeEventListener("abort",V)}),Y.send(typeof ie._bodyInit>"u"?null:ie._bodyInit)})}return Oe.polyfill=!0,d.fetch||(d.fetch=Oe,d.Headers=$,d.Request=k,d.Response=O),u.Headers=$,u.Request=k,u.Response=O,u.fetch=Oe,u})({})})(r),r.fetch.ponyfill=!0,delete r.fetch.polyfill;var s=t.fetch?t:r;e=s.fetch,e.default=s.fetch,e.fetch=s.fetch,e.Headers=s.Headers,e.Request=s.Request,e.Response=s.Response,n.exports=e})(hh,hh.exports)),hh.exports}var DE;function GV(){return DE||(DE=1,(function(n,e){var t=typeof fetch=="function"?fetch:void 0;if(typeof Wl<"u"&&Wl.fetch?t=Wl.fetch:typeof window<"u"&&window.fetch&&(t=window.fetch),typeof qV<"u"&&typeof window>"u"){var r=t||WV();r.default&&(r=r.default),e.default=r,n.exports=e.default}})(ch,ch.exports)),ch.exports}var ZS=GV();const eA=Ia(ZS),LE=uT({__proto__:null,default:eA},[ZS]);function VE(n,e){var t=Object.keys(n);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(n);e&&(r=r.filter(function(s){return Object.getOwnPropertyDescriptor(n,s).enumerable})),t.push.apply(t,r)}return t}function ME(n){for(var e=1;e<arguments.length;e++){var t=arguments[e]!=null?arguments[e]:{};e%2?VE(Object(t),!0).forEach(function(r){KV(n,r,t[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(n,Object.getOwnPropertyDescriptors(t)):VE(Object(t)).forEach(function(r){Object.defineProperty(n,r,Object.getOwnPropertyDescriptor(t,r))})}return n}function KV(n,e,t){return(e=QV(e))in n?Object.defineProperty(n,e,{value:t,enumerable:!0,configurable:!0,writable:!0}):n[e]=t,n}function QV(n){var e=YV(n,"string");return to(e)=="symbol"?e:e+""}function YV(n,e){if(to(n)!="object"||!n)return n;var t=n[Symbol.toPrimitive];if(t!==void 0){var r=t.call(n,e);if(to(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(n)}function to(n){"@babel/helpers - typeof";return to=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},to(n)}var cs=typeof fetch=="function"?fetch:void 0;typeof global<"u"&&global.fetch?cs=global.fetch:typeof window<"u"&&window.fetch&&(cs=window.fetch);var _u;XS()&&(typeof global<"u"&&global.XMLHttpRequest?_u=global.XMLHttpRequest:typeof window<"u"&&window.XMLHttpRequest&&(_u=window.XMLHttpRequest));var Jh;typeof ActiveXObject=="function"&&(typeof global<"u"&&global.ActiveXObject?Jh=global.ActiveXObject:typeof window<"u"&&window.ActiveXObject&&(Jh=window.ActiveXObject));!cs&&LE&&!_u&&!Jh&&(cs=eA||LE);typeof cs!="function"&&(cs=void 0);var Sm=function(e,t){if(t&&to(t)==="object"){var r="";for(var s in t)r+="&"+encodeURIComponent(s)+"="+encodeURIComponent(t[s]);if(!r)return e;e=e+(e.indexOf("?")!==-1?"&":"?")+r.slice(1)}return e},UE=function(e,t,r,s){var a=function(f){if(!f.ok)return r(f.statusText||"Error",{status:f.status});f.text().then(function(m){r(null,{status:f.status,data:m})}).catch(r)};if(s){var u=s(e,t);if(u instanceof Promise){u.then(a).catch(r);return}}typeof fetch=="function"?fetch(e,t).then(a).catch(r):cs(e,t).then(a).catch(r)},FE=!1,JV=function(e,t,r,s){e.queryStringParams&&(t=Sm(t,e.queryStringParams));var a=ME({},typeof e.customHeaders=="function"?e.customHeaders():e.customHeaders);typeof window>"u"&&typeof global<"u"&&typeof global.process<"u"&&global.process.versions&&global.process.versions.node&&(a["User-Agent"]="i18next-http-backend (node/".concat(global.process.version,"; ").concat(global.process.platform," ").concat(global.process.arch,")")),r&&(a["Content-Type"]="application/json");var u=typeof e.requestOptions=="function"?e.requestOptions(r):e.requestOptions,d=ME({method:r?"POST":"GET",body:r?e.stringify(r):void 0,headers:a},FE?{}:u),f=typeof e.alternateFetch=="function"&&e.alternateFetch.length>=1?e.alternateFetch:void 0;try{UE(t,d,s,f)}catch(m){if(!u||Object.keys(u).length===0||!m.message||m.message.indexOf("not implemented")<0)return s(m);try{Object.keys(u).forEach(function(g){delete d[g]}),UE(t,d,s,f),FE=!0}catch(g){s(g)}}},XV=function(e,t,r,s){r&&to(r)==="object"&&(r=Sm("",r).slice(1)),e.queryStringParams&&(t=Sm(t,e.queryStringParams));try{var a;_u?a=new _u:a=new Jh("MSXML2.XMLHTTP.3.0"),a.open(r?"POST":"GET",t,1),e.crossDomain||a.setRequestHeader("X-Requested-With","XMLHttpRequest"),a.withCredentials=!!e.withCredentials,r&&a.setRequestHeader("Content-Type","application/x-www-form-urlencoded"),a.overrideMimeType&&a.overrideMimeType("application/json");var u=e.customHeaders;if(u=typeof u=="function"?u():u,u)for(var d in u)a.setRequestHeader(d,u[d]);a.onreadystatechange=function(){a.readyState>3&&s(a.status>=400?a.statusText:null,{status:a.status,data:a.responseText})},a.send(r)}catch(f){console&&console.log(f)}},ZV=function(e,t,r,s){if(typeof r=="function"&&(s=r,r=void 0),s=s||function(){},cs&&t.indexOf("file:")!==0)return JV(e,t,r,s);if(XS()||typeof ActiveXObject=="function")return XV(e,t,r,s);s(new Error("No fetch and no xhr implementation found!"))};function Ta(n){"@babel/helpers - typeof";return Ta=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Ta(n)}function jE(n,e){var t=Object.keys(n);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(n);e&&(r=r.filter(function(s){return Object.getOwnPropertyDescriptor(n,s).enumerable})),t.push.apply(t,r)}return t}function Up(n){for(var e=1;e<arguments.length;e++){var t=arguments[e]!=null?arguments[e]:{};e%2?jE(Object(t),!0).forEach(function(r){tA(n,r,t[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(n,Object.getOwnPropertyDescriptors(t)):jE(Object(t)).forEach(function(r){Object.defineProperty(n,r,Object.getOwnPropertyDescriptor(t,r))})}return n}function eM(n,e){if(!(n instanceof e))throw new TypeError("Cannot call a class as a function")}function tM(n,e){for(var t=0;t<e.length;t++){var r=e[t];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(n,nA(r.key),r)}}function nM(n,e,t){return e&&tM(n.prototype,e),Object.defineProperty(n,"prototype",{writable:!1}),n}function tA(n,e,t){return(e=nA(e))in n?Object.defineProperty(n,e,{value:t,enumerable:!0,configurable:!0,writable:!0}):n[e]=t,n}function nA(n){var e=rM(n,"string");return Ta(e)=="symbol"?e:e+""}function rM(n,e){if(Ta(n)!="object"||!n)return n;var t=n[Symbol.toPrimitive];if(t!==void 0){var r=t.call(n,e);if(Ta(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(n)}var iM=function(){return{loadPath:"/locales/{{lng}}/{{ns}}.json",addPath:"/locales/add/{{lng}}/{{ns}}",parse:function(t){return JSON.parse(t)},stringify:JSON.stringify,parsePayload:function(t,r,s){return tA({},r,s||"")},parseLoadPayload:function(t,r){},request:ZV,reloadInterval:typeof window<"u"?!1:3600*1e3,customHeaders:{},queryStringParams:{},crossDomain:!1,withCredentials:!1,overrideMimeType:!1,requestOptions:{mode:"cors",credentials:"same-origin",cache:"default"}}},rA=(function(){function n(e){var t=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},r=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{};eM(this,n),this.services=e,this.options=t,this.allOptions=r,this.type="backend",this.init(e,t,r)}return nM(n,[{key:"init",value:function(t){var r=this,s=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},a=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{};if(this.services=t,this.options=Up(Up(Up({},iM()),this.options||{}),s),this.allOptions=a,this.services&&this.options.reloadInterval){var u=setInterval(function(){return r.reload()},this.options.reloadInterval);Ta(u)==="object"&&typeof u.unref=="function"&&u.unref()}}},{key:"readMulti",value:function(t,r,s){this._readAny(t,t,r,r,s)}},{key:"read",value:function(t,r,s){this._readAny([t],t,[r],r,s)}},{key:"_readAny",value:function(t,r,s,a,u){var d=this,f=this.options.loadPath;typeof this.options.loadPath=="function"&&(f=this.options.loadPath(t,s)),f=HV(f),f.then(function(m){if(!m)return u(null,{});var g=d.services.interpolator.interpolate(m,{lng:t.join("+"),ns:s.join("+")});d.loadUrl(g,u,r,a)})}},{key:"loadUrl",value:function(t,r,s,a){var u=this,d=typeof s=="string"?[s]:s,f=typeof a=="string"?[a]:a,m=this.options.parseLoadPayload(d,f);this.options.request(this.options,t,m,function(g,E){if(E&&(E.status>=500&&E.status<600||!E.status))return r("failed loading "+t+"; status code: "+E.status,!0);if(E&&E.status>=400&&E.status<500)return r("failed loading "+t+"; status code: "+E.status,!1);if(!E&&g&&g.message){var w=g.message.toLowerCase(),R=["failed","fetch","network","load"].find(function(B){return w.indexOf(B)>-1});if(R)return r("failed loading "+t+": "+g.message,!0)}if(g)return r(g,!1);var M,$;try{typeof E.data=="string"?M=u.options.parse(E.data,s,a):M=E.data}catch{$="failed parsing "+t+" to json"}if($)return r($,!1);r(null,M)})}},{key:"create",value:function(t,r,s,a,u){var d=this;if(this.options.addPath){typeof t=="string"&&(t=[t]);var f=this.options.parsePayload(r,s,a),m=0,g=[],E=[];t.forEach(function(w){var R=d.options.addPath;typeof d.options.addPath=="function"&&(R=d.options.addPath(w,r));var M=d.services.interpolator.interpolate(R,{lng:w,ns:r});d.options.request(d.options,M,f,function($,B){m+=1,g.push($),E.push(B),m===t.length&&typeof u=="function"&&u(g,E)})})}}},{key:"reload",value:function(){var t=this,r=this.services,s=r.backendConnector,a=r.languageUtils,u=r.logger,d=s.language;if(!(d&&d.toLowerCase()==="cimode")){var f=[],m=function(E){var w=a.toResolveHierarchy(E);w.forEach(function(R){f.indexOf(R)<0&&f.push(R)})};m(d),this.allOptions.preload&&this.allOptions.preload.forEach(function(g){return m(g)}),f.forEach(function(g){t.allOptions.ns.forEach(function(E){s.read(g,E,"read",null,null,function(w,R){w&&u.warn("loading namespace ".concat(E," for language ").concat(g," failed"),w),!w&&R&&u.log("loaded namespace ".concat(E," for language ").concat(g),R),s.loaded("".concat(g,"|").concat(E),w,R)})})})}}}])})();rA.type="backend";function sM(n,e){if(!(n instanceof e))throw new TypeError("Cannot call a class as a function")}function vu(n){"@babel/helpers - typeof";return vu=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},vu(n)}function oM(n,e){if(vu(n)!="object"||!n)return n;var t=n[Symbol.toPrimitive];if(t!==void 0){var r=t.call(n,e);if(vu(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(n)}function aM(n){var e=oM(n,"string");return vu(e)=="symbol"?e:e+""}function lM(n,e){for(var t=0;t<e.length;t++){var r=e[t];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(n,aM(r.key),r)}}function uM(n,e,t){return e&&lM(n.prototype,e),Object.defineProperty(n,"prototype",{writable:!1}),n}var iA=[],cM=iA.forEach,hM=iA.slice;function dM(n){return cM.call(hM.call(arguments,1),function(e){if(e)for(var t in e)n[t]===void 0&&(n[t]=e[t])}),n}var zE=/^[\u0009\u0020-\u007e\u0080-\u00ff]+$/,fM=function(e,t,r){var s=r||{};s.path=s.path||"/";var a=encodeURIComponent(t),u="".concat(e,"=").concat(a);if(s.maxAge>0){var d=s.maxAge-0;if(Number.isNaN(d))throw new Error("maxAge should be a Number");u+="; Max-Age=".concat(Math.floor(d))}if(s.domain){if(!zE.test(s.domain))throw new TypeError("option domain is invalid");u+="; Domain=".concat(s.domain)}if(s.path){if(!zE.test(s.path))throw new TypeError("option path is invalid");u+="; Path=".concat(s.path)}if(s.expires){if(typeof s.expires.toUTCString!="function")throw new TypeError("option expires is invalid");u+="; Expires=".concat(s.expires.toUTCString())}if(s.httpOnly&&(u+="; HttpOnly"),s.secure&&(u+="; Secure"),s.sameSite){var f=typeof s.sameSite=="string"?s.sameSite.toLowerCase():s.sameSite;switch(f){case!0:u+="; SameSite=Strict";break;case"lax":u+="; SameSite=Lax";break;case"strict":u+="; SameSite=Strict";break;case"none":u+="; SameSite=None";break;default:throw new TypeError("option sameSite is invalid")}}return u},BE={create:function(e,t,r,s){var a=arguments.length>4&&arguments[4]!==void 0?arguments[4]:{path:"/",sameSite:"strict"};r&&(a.expires=new Date,a.expires.setTime(a.expires.getTime()+r*60*1e3)),s&&(a.domain=s),document.cookie=fM(e,encodeURIComponent(t),a)},read:function(e){for(var t="".concat(e,"="),r=document.cookie.split(";"),s=0;s<r.length;s++){for(var a=r[s];a.charAt(0)===" ";)a=a.substring(1,a.length);if(a.indexOf(t)===0)return a.substring(t.length,a.length)}return null},remove:function(e){this.create(e,"",-1)}},pM={name:"cookie",lookup:function(e){var t;if(e.lookupCookie&&typeof document<"u"){var r=BE.read(e.lookupCookie);r&&(t=r)}return t},cacheUserLanguage:function(e,t){t.lookupCookie&&typeof document<"u"&&BE.create(t.lookupCookie,e,t.cookieMinutes,t.cookieDomain,t.cookieOptions)}},mM={name:"querystring",lookup:function(e){var t;if(typeof window<"u"){var r=window.location.search;!window.location.search&&window.location.hash&&window.location.hash.indexOf("?")>-1&&(r=window.location.hash.substring(window.location.hash.indexOf("?")));for(var s=r.substring(1),a=s.split("&"),u=0;u<a.length;u++){var d=a[u].indexOf("=");if(d>0){var f=a[u].substring(0,d);f===e.lookupQuerystring&&(t=a[u].substring(d+1))}}}return t}},Vl=null,$E=function(){if(Vl!==null)return Vl;try{Vl=window!=="undefined"&&window.localStorage!==null;var e="i18next.translate.boo";window.localStorage.setItem(e,"foo"),window.localStorage.removeItem(e)}catch{Vl=!1}return Vl},gM={name:"localStorage",lookup:function(e){var t;if(e.lookupLocalStorage&&$E()){var r=window.localStorage.getItem(e.lookupLocalStorage);r&&(t=r)}return t},cacheUserLanguage:function(e,t){t.lookupLocalStorage&&$E()&&window.localStorage.setItem(t.lookupLocalStorage,e)}},Ml=null,HE=function(){if(Ml!==null)return Ml;try{Ml=window!=="undefined"&&window.sessionStorage!==null;var e="i18next.translate.boo";window.sessionStorage.setItem(e,"foo"),window.sessionStorage.removeItem(e)}catch{Ml=!1}return Ml},yM={name:"sessionStorage",lookup:function(e){var t;if(e.lookupSessionStorage&&HE()){var r=window.sessionStorage.getItem(e.lookupSessionStorage);r&&(t=r)}return t},cacheUserLanguage:function(e,t){t.lookupSessionStorage&&HE()&&window.sessionStorage.setItem(t.lookupSessionStorage,e)}},_M={name:"navigator",lookup:function(e){var t=[];if(typeof navigator<"u"){if(navigator.languages)for(var r=0;r<navigator.languages.length;r++)t.push(navigator.languages[r]);navigator.userLanguage&&t.push(navigator.userLanguage),navigator.language&&t.push(navigator.language)}return t.length>0?t:void 0}},vM={name:"htmlTag",lookup:function(e){var t,r=e.htmlTag||(typeof document<"u"?document.documentElement:null);return r&&typeof r.getAttribute=="function"&&(t=r.getAttribute("lang")),t}},wM={name:"path",lookup:function(e){var t;if(typeof window<"u"){var r=window.location.pathname.match(/\/([a-zA-Z-]*)/g);if(r instanceof Array)if(typeof e.lookupFromPathIndex=="number"){if(typeof r[e.lookupFromPathIndex]!="string")return;t=r[e.lookupFromPathIndex].replace("/","")}else t=r[0].replace("/","")}return t}},EM={name:"subdomain",lookup:function(e){var t=typeof e.lookupFromSubdomainIndex=="number"?e.lookupFromSubdomainIndex+1:1,r=typeof window<"u"&&window.location&&window.location.hostname&&window.location.hostname.match(/^(\w{2,5})\.(([a-z0-9-]{1,63}\.[a-z]{2,6})|localhost)/i);if(r)return r[t]}},sA=!1;try{document.cookie,sA=!0}catch{}var oA=["querystring","cookie","localStorage","sessionStorage","navigator","htmlTag"];sA||oA.splice(1,1);function TM(){return{order:oA,lookupQuerystring:"lng",lookupCookie:"i18next",lookupLocalStorage:"i18nextLng",lookupSessionStorage:"i18nextLng",caches:["localStorage"],excludeCacheFor:["cimode"],convertDetectedLanguage:function(e){return e}}}var aA=(function(){function n(e){var t=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};sM(this,n),this.type="languageDetector",this.detectors={},this.init(e,t)}return uM(n,[{key:"init",value:function(t){var r=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},s=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{};this.services=t||{languageUtils:{}},this.options=dM(r,this.options||{},TM()),typeof this.options.convertDetectedLanguage=="string"&&this.options.convertDetectedLanguage.indexOf("15897")>-1&&(this.options.convertDetectedLanguage=function(a){return a.replace("-","_")}),this.options.lookupFromUrlIndex&&(this.options.lookupFromPathIndex=this.options.lookupFromUrlIndex),this.i18nOptions=s,this.addDetector(pM),this.addDetector(mM),this.addDetector(gM),this.addDetector(yM),this.addDetector(_M),this.addDetector(vM),this.addDetector(wM),this.addDetector(EM)}},{key:"addDetector",value:function(t){return this.detectors[t.name]=t,this}},{key:"detect",value:function(t){var r=this;t||(t=this.options.order);var s=[];return t.forEach(function(a){if(r.detectors[a]){var u=r.detectors[a].lookup(r.options);u&&typeof u=="string"&&(u=[u]),u&&(s=s.concat(u))}}),s=s.map(function(a){return r.options.convertDetectedLanguage(a)}),this.services.languageUtils.getBestMatchFromCodes?s:s.length>0?s[0]:null}},{key:"cacheUserLanguage",value:function(t,r){var s=this;r||(r=this.options.caches),r&&(this.options.excludeCacheFor&&this.options.excludeCacheFor.indexOf(t)>-1||r.forEach(function(a){s.detectors[a]&&s.detectors[a].cacheUserLanguage(t,s.options)}))}}])})();aA.type="languageDetector";const lA=Wh.map(n=>n.code),IM=()=>{if(typeof window>"u")return;const e=window.location.pathname.split("/").filter(t=>t);return e.length>0&&lA.includes(e[0])?e[0]:"en"};ft.use(rA).use(aA).use(BV).init({lng:IM(),fallbackLng:"en",supportedLngs:lA,load:"languageOnly",debug:!1,ns:["translation"],defaultNS:"translation",backend:{loadPath:"/locales/{{lng}}/translation.json?v="+new Date().getTime()},detection:{order:["path","navigator","htmlTag"],lookupFromPathIndex:0},interpolation:{escapeValue:!1},react:{useSuspense:!1}});const Fp=()=>{let n=window.location.pathname;n.startsWith("/")&&(n=n.substring(1));const e=n.split("/");if(e.length>0&&Wh.some(t=>t.code===e[0])){const t=e[0];if(t==="en"){ft.language!=="en"&&ft.changeLanguage("en");const r="/"+e.slice(1).join("/");return window.history.replaceState({},"",r+window.location.search+window.location.hash),r}return ft.language!==t&&ft.changeLanguage(t),"/"+e.slice(1).join("/")}return ft.language!=="en"&&n.startsWith("assets/"),"/"+n},Nd=n=>{const e=n.split("/").filter(d=>d);if(e.length>0&&Wh.some(d=>d.code===e[0])){window.history.pushState({},"",n),window.dispatchEvent(new PopStateEvent("popstate"));return}const r=(ft.language||"en").substring(0,2),s=Wh.some(d=>d.code===r)?r:"en",a=n.startsWith("/")?n:"/"+n;let u;s==="en"?u=a:u=`/${s}${a}`,window.history.pushState({},"",u),window.dispatchEvent(new PopStateEvent("popstate"))},uA=Ee.createContext({currentUser:null,userProfile:null,loading:!0,isAdmin:!1,isAdminLoading:!0,isEmailVerified:!1,isPremium:!1,aiUsage:null,refreshAIUsage:async()=>{},logOut:()=>{},updateUserProfile:async()=>{}}),Da=()=>Ee.useContext(uA),SM=({children:n})=>{const[e,t]=Ee.useState(null),[r,s]=Ee.useState(null),[a,u]=Ee.useState(!0),[d,f]=Ee.useState(!1),[m,g]=Ee.useState(!0),[E,w]=Ee.useState(!1),[R,M]=Ee.useState(!1),[$,B]=Ee.useState(null);Ee.useEffect(()=>{const Te=oC(EE,async pe=>{t(pe),w(pe?pe.emailVerified:!1),pe||(f(!1),M(!1),s(null),g(!1),u(!1))});return()=>Te()},[]),Ee.useEffect(()=>{if(!e)return;let Te=!1,pe=!1;const C=()=>{Te&&pe&&u(!1)},S=ri(gn,"users",e.uid),k=gm(S,async N=>{if(N.exists()){const O=N.data();s(O);const P=Date.now(),Oe=O.expiresAt?.toMillis?O.expiresAt.toMillis():null,j=O.plan==="pro_sprint"&&Oe!==null?Oe>P:!1,Q=O.plan==="pro_monthly"&&(Oe!==null?Oe>P:O.stripeSubscriptionStatus==="active"||O.stripeSubscriptionStatus==="trialing"),he=Oe===null&&O.promotions?.isPremium===!0,W=j||Q||he;M(W);const ie=O.aiUsage||{count:0,monthlyLimit:10};let Y=10;if(W&&O?.plan&&(O.plan==="pro_sprint"?Y=100:O.plan==="pro_monthly"?Y=300:Y=ie.monthlyLimit||10),B({count:ie.count,limit:Y}),!W&&(O.plan==="pro_sprint"||O.plan==="pro_monthly")&&Oe!==null&&Oe<P)try{await pm(S,{plan:"free",role:"user",stripeSubscriptionStatus:null,promotions:{...O.promotions,isPremium:!1}}),console.log("Auto-cleanup: Reset expired plan/role to free/user")}catch(V){console.error("Failed to reset expired plan:",V)}}else M(!1),s(null);Te=!0,C()});return(async()=>{if(g(!0),e.email==="evan@jastalk.com"||e.uid==="n95XpkySLMhwcHcpKTOpFAqrOPi2"){f(!0);try{const O=ri(gn,"admins",e.uid);await Ug(O,{role:"admin",email:e.email},{merge:!0})}catch(O){console.warn("Self-healing admin check failed (likely permissions), but UI access is granted via hardcode.",O)}g(!1),pe=!0,C();return}try{const O=ri(gn,"admins",e.uid),P=await tD(O);f(P.exists())}catch(O){console.error("Error checking admin status:",O),f(!1)}finally{g(!1),pe=!0,C()}})(),()=>k()},[e]);const oe={currentUser:e,userProfile:r,loading:a,isAdmin:d,isAdminLoading:m,isEmailVerified:E,isPremium:R,aiUsage:$,refreshAIUsage:async()=>{if(e)try{const{getAIUsage:Te}=await _e(async()=>{const{getAIUsage:S}=await import("./aiUsageService-0L4_UvJD.js");return{getAIUsage:S}},[]),pe=await Te(e.uid);let C=10;r?.plan&&(r.plan==="pro_sprint"?C=100:r.plan==="pro_monthly"&&(C=300)),B({count:pe.count,limit:C})}catch(Te){console.error("Failed to refresh AI usage:",Te)}},logOut:()=>{sV(e?.uid||"","sign_out"),aC(EE),Nd("/")},updateUserProfile:async Te=>{if(!e)return;const pe=ri(gn,"users",e.uid);await pm(pe,Te)}};return L.jsx(uA.Provider,{value:oe,children:n})},cA=Ee.createContext(void 0),AM=({children:n})=>{const[e,t]=Ee.useState([]);Ee.useEffect(()=>{try{const m=localStorage.getItem("stitch_cart");m&&t(JSON.parse(m))}catch(m){console.error("Failed to load cart from local storage",m)}},[]),Ee.useEffect(()=>{try{localStorage.setItem("stitch_cart",JSON.stringify(e))}catch(m){console.error("Failed to save cart to local storage",m)}},[e]);const r=(m,g=1)=>{t(E=>E.find(R=>R.id===m.id)?E.map(R=>R.id===m.id?{...R,quantity:R.quantity+g}:R):[...E,{...m,quantity:g}])},s=m=>{t(g=>g.filter(E=>E.id!==m))},a=(m,g)=>{if(g<=0){s(m);return}t(E=>E.map(w=>w.id===m?{...w,quantity:g}:w))},u=()=>t([]),d=e.reduce((m,g)=>m+g.price*g.quantity,0),f=e.reduce((m,g)=>m+g.quantity,0);return L.jsx(cA.Provider,{value:{items:e,addToCart:r,removeFromCart:s,updateQuantity:a,clearCart:u,cartTotal:d,itemCount:f},children:n})},o4=()=>{const n=Ee.useContext(cA);if(!n)throw new Error("useCart must be used within a CartProvider");return n};var RM={xmlns:"http://www.w3.org/2000/svg",width:24,height:24,viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:2,strokeLinecap:"round",strokeLinejoin:"round"};const PM=n=>n.replace(/([a-z0-9])([A-Z])/g,"$1-$2").toLowerCase().trim(),fs=(n,e)=>{const t=Ee.forwardRef(({color:r="currentColor",size:s=24,strokeWidth:a=2,absoluteStrokeWidth:u,className:d="",children:f,...m},g)=>Ee.createElement("svg",{ref:g,...RM,width:s,height:s,stroke:r,strokeWidth:u?Number(a)*24/Number(s):a,className:["lucide",`lucide-${PM(n)}`,d].join(" "),...m},[...e.map(([E,w])=>Ee.createElement(E,w)),...Array.isArray(f)?f:[f]]));return t.displayName=`${n}`,t};const Jg=fs("Briefcase",[["rect",{width:"20",height:"14",x:"2",y:"7",rx:"2",ry:"2",key:"eto64e"}],["path",{d:"M16 21V5a2 2 0 0 0-2-2h-4a2 2 0 0 0-2 2v16",key:"zwj3tp"}]]);const kM=fs("ChevronRight",[["path",{d:"m9 18 6-6-6-6",key:"mthhwq"}]]);const Xg=fs("FileText",[["path",{d:"M15 2H6a2 2 0 0 0-2 2v16a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2V7Z",key:"1rqfz7"}],["path",{d:"M14 2v4a2 2 0 0 0 2 2h4",key:"tnqrlb"}],["path",{d:"M10 9H8",key:"b1mrlr"}],["path",{d:"M16 13H8",key:"t4e002"}],["path",{d:"M16 17H8",key:"z1uh3a"}]]);const CM=fs("Home",[["path",{d:"m3 9 9-7 9 7v11a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2z",key:"y5dka4"}],["polyline",{points:"9 22 9 12 15 12 15 22",key:"e2us08"}]]);const bM=fs("Loader2",[["path",{d:"M21 12a9 9 0 1 1-6.219-8.56",key:"13zald"}]]);const NM=fs("Mic",[["path",{d:"M12 2a3 3 0 0 0-3 3v7a3 3 0 0 0 6 0V5a3 3 0 0 0-3-3Z",key:"131961"}],["path",{d:"M19 10v2a7 7 0 0 1-14 0v-2",key:"1vc78b"}],["line",{x1:"12",x2:"12",y1:"19",y2:"22",key:"x3vr5v"}]]);const OM=fs("Plus",[["path",{d:"M5 12h14",key:"1ays0h"}],["path",{d:"M12 5v14",key:"s699le"}]]);const hA=fs("User",[["path",{d:"M19 21v-2a4 4 0 0 0-4-4H9a4 4 0 0 0-4 4v2",key:"975kel"}],["circle",{cx:"12",cy:"7",r:"4",key:"17ys0d"}]]);function xM(){return typeof chrome<"u"&&!!chrome.runtime?.id}const DM=({activeTab:n,onTabChange:e})=>{const t=[{id:"home",icon:CM,label:"Home"},{id:"resumes",icon:Xg,label:"Resumes"},{id:"tracker",icon:Jg,label:"Tracker"},{id:"profile",icon:hA,label:"Profile"}];return L.jsx("div",{className:"fixed bottom-0 left-0 right-0 bg-white dark:bg-gray-900 border-t border-gray-200 dark:border-gray-800 pb-safe",children:L.jsx("div",{className:"flex justify-around items-center h-16",children:t.map(r=>{const s=r.icon,a=n===r.id;return L.jsxs("button",{onClick:()=>e(r.id),className:`flex flex-col items-center justify-center w-full h-full space-y-1 ${a?"text-primary-600 dark:text-primary-400":"text-gray-500 dark:text-gray-400 hover:text-gray-900 dark:hover:text-gray-200"}`,children:[L.jsx(s,{size:20,strokeWidth:a?2.5:2}),L.jsx("span",{className:"text-[10px] font-medium",children:r.label})]},r.id)})})})},LM=({className:n="h-8 w-8"})=>{const{theme:e}=vT(),t=e==="dark"?"https://firebasestorage.googleapis.com/v0/b/jastalk-firebase.firebasestorage.app/o/public%2Flogo_assets%2Flogo_dark_mode.png?alt=media&token=25d3963d-2c64-4bfc-bb96-41bc305cf1e5":"https://firebasestorage.googleapis.com/v0/b/jastalk-firebase.firebasestorage.app/o/public%2Flogo_assets%2Flogo_light_mode.png?alt=media&token=627ec9de-a950-41f7-9138-dd7a33518c55";return L.jsx("img",{src:t,alt:"CareerVivid Logo",className:n,width:"32",height:"32",fetchpriority:"high"})},VM=()=>{const n=e=>{typeof chrome<"u"&&chrome.tabs?chrome.tabs.create({url:`https://careervivid.app${e}`}):window.open(`https://careervivid.app${e}`,"_blank")};return L.jsxs("div",{className:"flex flex-col items-center justify-center min-h-[500px] p-6 text-center",children:[L.jsxs("div",{className:"mb-6 relative",children:[L.jsx("div",{className:"absolute inset-0 bg-primary-500/20 rounded-full blur-xl animate-pulse"}),L.jsx(LM,{className:"w-16 h-16 relative z-10"})]}),L.jsx("h1",{className:"text-2xl font-bold bg-clip-text text-transparent bg-gradient-to-r from-gray-900 to-gray-600 dark:from-white dark:to-gray-400 mb-2",children:"CareerVivid"}),L.jsx("p",{className:"text-sm text-gray-500 dark:text-gray-400 mb-8 max-w-[240px]",children:"Your AI-powered career copilot. Sign in to access your resumes and track jobs."}),L.jsxs("div",{className:"space-y-3 w-full max-w-[280px]",children:[L.jsx("button",{onClick:()=>n("/signin"),className:"w-full py-2.5 px-4 bg-gray-900 dark:bg-white text-white dark:text-gray-900 font-semibold rounded-xl shadow-lg hover:shadow-xl hover:scale-[1.02] transition-all transform active:scale-95",children:"Sign In"}),L.jsx("button",{onClick:()=>n("/signup"),className:"w-full py-2.5 px-4 bg-white dark:bg-gray-800 text-gray-700 dark:text-gray-200 font-semibold rounded-xl border border-gray-200 dark:border-gray-700 hover:bg-gray-50 dark:hover:bg-gray-700 transition-all",children:"Create Account"})]})]})},qE=()=>{const{userProfile:n}=Da(),[e,t]=Ee.useState(null),[r,s]=Ee.useState(!1);Ee.useEffect(()=>{typeof chrome<"u"&&chrome.tabs&&chrome.tabs.query({active:!0,currentWindow:!0},d=>{const f=d[0];f?.url&&(t({url:f.url,title:f.title||""}),(f.url.includes("linkedin.com/jobs")||f.url.includes("indeed.com"))&&s(!0))})},[]);const a=d=>{d==="save_job"&&e?.url?typeof chrome<"u"&&chrome.tabs&&e&&chrome.tabs.query({active:!0,currentWindow:!0},f=>{f[0]?.id&&chrome.tabs.sendMessage(f[0].id,{type:"EXTRACT_JOB_DATA"},m=>{m?.job&&chrome.runtime.sendMessage({type:"SAVE_JOB",job:m.job},g=>{g.success&&alert("Job Saved!")})})}):d==="new_resume"&&window.open("https://careervivid.app/new","_blank")},u=({icon:d,title:f,desc:m,color:g,onClick:E,highlight:w})=>L.jsxs("button",{onClick:E,className:`relative w-full text-left p-4 rounded-2xl transition-all border ${w?"bg-gradient-to-br from-primary-50 to-white dark:from-primary-900/20 dark:to-gray-900 border-primary-200 dark:border-primary-800 shadow-md ring-1 ring-primary-100 dark:ring-primary-900":"bg-white dark:bg-gray-900 border-gray-100 dark:border-gray-800 hover:border-gray-200 dark:hover:border-gray-700 shadow-sm hover:shadow-md"}`,children:[L.jsx("div",{className:`absolute top-4 right-4 p-2 rounded-lg ${g} bg-opacity-10`,children:L.jsx(d,{size:18,className:g.replace("bg-","text-")})}),L.jsx("div",{className:"font-semibold text-gray-900 dark:text-white mb-1 pr-12",children:f}),L.jsx("div",{className:"text-xs text-gray-500 dark:text-gray-400",children:m})]});return L.jsxs("div",{className:"p-4 space-y-6 pb-24",children:[L.jsxs("div",{className:"flex items-center justify-between",children:[L.jsxs("div",{children:[L.jsxs("h2",{className:"text-lg font-bold text-gray-900 dark:text-white",children:["Hello, ",n?.firstName||"There"," "]}),L.jsx("p",{className:"text-xs text-gray-500 dark:text-gray-400",children:"Ready to land your dream job?"})]}),L.jsx("div",{className:"h-8 w-8 rounded-full bg-gradient-to-tr from-primary-400 to-purple-500"})]}),r&&L.jsx("div",{className:"animate-in slide-in-from-top-4 fade-in duration-500",children:L.jsx(u,{icon:Jg,title:"Save This Job",desc:"Extract details from this page to your tracker.",color:"bg-primary-500 text-primary-500",onClick:()=>a("save_job"),highlight:!0})}),L.jsxs("div",{className:"grid grid-cols-2 gap-3",children:[L.jsx(u,{icon:OM,title:"New Resume",desc:"Create from scratch",color:"bg-purple-500 text-purple-500",onClick:()=>a("new_resume")}),L.jsx(u,{icon:NM,title:"Practice",desc:"Interview prep",color:"bg-pink-500 text-pink-500",onClick:()=>window.open("https://careervivid.app/interview-studio/demo","_blank")})]}),L.jsxs("div",{className:"space-y-3",children:[L.jsxs("div",{className:"flex items-center justify-between",children:[L.jsx("h3",{className:"text-sm font-semibold text-gray-900 dark:text-white",children:"Recent Resumes"}),L.jsx("button",{className:"text-xs text-primary-600 font-medium hover:underline",children:"View All"})]}),[1,2].map(d=>L.jsxs("div",{className:"flex items-center gap-3 p-3 bg-white dark:bg-gray-900 rounded-xl border border-gray-100 dark:border-gray-800 hover:border-primary-200 transition-colors cursor-pointer group",children:[L.jsx("div",{className:"p-2 bg-gray-50 dark:bg-gray-800 rounded-lg text-gray-400 group-hover:text-primary-500 transition-colors",children:L.jsx(Xg,{size:18})}),L.jsxs("div",{className:"flex-1 min-w-0",children:[L.jsx("div",{className:"text-sm font-medium text-gray-900 dark:text-white truncate",children:"Software Engineer Resume"}),L.jsx("div",{className:"text-[10px] text-gray-500",children:"Edited 2 days ago"})]}),L.jsx(kM,{size:16,className:"text-gray-300"})]},d))]})]})},MM=()=>L.jsxs("div",{className:"p-4 flex flex-col items-center justify-center h-[500px] text-center text-gray-500",children:[L.jsx(Xg,{size:48,className:"mb-4 text-gray-300"}),L.jsx("h3",{className:"text-lg font-medium text-gray-900 dark:text-gray-200",children:"Your Resumes"}),L.jsx("p",{className:"text-sm mt-2",children:"Manage and edit your resumes directly from the extension."}),L.jsx("button",{onClick:()=>window.open("https://careervivid.app/resumes","_blank"),className:"mt-4 text-primary-600 font-medium",children:"Open Web Dashboard"})]}),UM=()=>L.jsxs("div",{className:"p-4 flex flex-col items-center justify-center h-[500px] text-center text-gray-500",children:[L.jsx(Jg,{size:48,className:"mb-4 text-gray-300"}),L.jsx("h3",{className:"text-lg font-medium text-gray-900 dark:text-gray-200",children:"Job Tracker"}),L.jsx("p",{className:"text-sm mt-2",children:"Track your applications and interview status."}),L.jsx("button",{onClick:()=>window.open("https://careervivid.app/tracker","_blank"),className:"mt-4 text-primary-600 font-medium",children:"Open Web Tracker"})]}),FM=()=>{const{logout:n}=Da();return L.jsxs("div",{className:"p-4 flex flex-col items-center justify-center h-[500px] text-center text-gray-500",children:[L.jsx(hA,{size:48,className:"mb-4 text-gray-300"}),L.jsx("h3",{className:"text-lg font-medium text-gray-900 dark:text-gray-200",children:"Profile"}),L.jsx("p",{className:"text-sm mt-2",children:"Manage your account settings."}),L.jsx("button",{onClick:n,className:"mt-6 px-4 py-2 bg-red-50 text-red-600 rounded-lg text-sm font-medium hover:bg-red-100",children:"Sign Out"})]})},jM=()=>{const{currentUser:n}=Da(),{theme:e}=vT(),[t,r]=Ee.useState("home");if(!n)return L.jsx("div",{className:`min-h-screen ${e==="dark"?"dark":""}`,children:L.jsx("div",{className:"bg-white dark:bg-gray-950 min-h-screen text-gray-900 dark:text-gray-100",children:L.jsx(VM,{})})});const s=()=>{switch(t){case"home":return L.jsx(qE,{});case"resumes":return L.jsx(MM,{});case"tracker":return L.jsx(UM,{});case"profile":return L.jsx(FM,{});default:return L.jsx(qE,{})}};return L.jsx("div",{className:`min-h-screen ${e==="dark"?"dark":""}`,children:L.jsxs("div",{className:"bg-gray-50 dark:bg-gray-950 min-h-screen text-gray-900 dark:text-gray-100 pb-16",children:[s(),L.jsx(DM,{activeTab:t,onTabChange:r})]})})},zM=()=>{const{currentUser:n}=Da(),[e,t]=Ee.useState([]),[r,s]=Ee.useState(!0);Ee.useEffect(()=>{if(!n){t([]),s(!1);return}s(!0);const E=Hl(gn,"users",n.uid,"portfolios"),w=Jx(E,Xx("updatedAt","desc")),R=gm(w,M=>{const $=[];M.forEach(B=>{const te=B.data(),le=oe=>oe?typeof oe=="number"?oe:typeof oe.toMillis=="function"?oe.toMillis():oe instanceof Date?oe.getTime():Date.now():Date.now(),ve={id:B.id,userId:te.userId||n.uid,title:te.title||"Untitled Portfolio",templateId:te.templateId||"minimalist",section:te.section||"portfolios",mode:te.mode||"portfolio",linkInBio:te.linkInBio,hero:te.hero||{headline:"",subheadline:"",ctaPrimaryLabel:"",ctaPrimaryUrl:"",ctaSecondaryLabel:"",ctaSecondaryUrl:""},about:te.about||"",timeline:te.timeline||[],education:te.education||[],techStack:te.techStack||[],projects:te.projects||[],socialLinks:te.socialLinks||[],contactEmail:te.contactEmail||"",theme:te.theme||{primaryColor:"#2563eb",darkMode:!1},createdAt:le(te.createdAt),updatedAt:le(te.updatedAt)};$.push(ve)}),t($),s(!1)},M=>{console.error("Error fetching portfolios:",M),s(!1)});return()=>R()},[n]);const a=Ee.useCallback(E=>e.find(w=>w.id===E),[e]),u=Ee.useCallback(async E=>{if(n)try{const{id:w,...R}=E,M=await mm(Hl(gn,"users",n.uid,"portfolios"),{...R,userId:n.uid,section:"portfolios",createdAt:ia(),updatedAt:ia()});return console.log("[usePortfolios] Created portfolio:",M.id),M.id}catch(w){throw console.error("Error creating portfolio:",w),w}},[n]),d=Ee.useCallback(async(E,w)=>{if(n)try{const R=JSON.parse(JSON.stringify(w));delete R.id,delete R.createdAt,delete R.updatedAt;const M=ri(gn,"users",n.uid,"portfolios",E);await pm(M,{...R,updatedAt:ia()})}catch(R){console.error("Error updating portfolio:",R)}},[n]),f=Ee.useCallback(async E=>{if(!n)return;const w=ri(gn,"users",n.uid,"portfolios",E);try{await nD(w),console.log("[usePortfolios] Deleted portfolio:",E)}catch(R){console.error("Error deleting portfolio:",R)}},[n]),m=Ee.useCallback(async E=>{if(!n)return;const w=a(E);if(w)try{const{id:R,createdAt:M,updatedAt:$,...B}=w,te=await mm(Hl(gn,"users",n.uid,"portfolios"),{...B,title:`${w.title} (Copy)`,section:w.section||"portfolios",createdAt:ia(),updatedAt:ia()});Nd(`/portfolio/edit/${te.id}`)}catch(R){console.error("Error duplicating portfolio:",R)}},[n,a]),g=Ee.useCallback(async()=>{if(n)try{const E=Hl(gn,"users",n.uid,"portfolios"),w=rD(gn),R=await gm(E,M=>{M.docs.forEach($=>{w.delete($.ref)})});await w.commit()}catch(E){throw console.error("Error deleting all portfolios:",E),E}},[n]);return{portfolios:e,isLoading:r,getPortfolioById:a,createPortfolio:u,updatePortfolio:d,deletePortfolio:f,duplicatePortfolio:m,deleteAllPortfolios:g}},BM=()=>{const{currentUser:n}=Da(),{createPortfolio:e}=zM();Ee.useEffect(()=>{if(!n)return;(async()=>{for(let r=0;r<localStorage.length;r++){const s=localStorage.key(r);if(s&&s.startsWith("portfolio_"))try{const a=localStorage.getItem(s);if(a){const u=JSON.parse(a);if(u.title&&u.hero){const{id:d,userId:f,...m}=u;await e({...u,userId:n.uid}),localStorage.removeItem(s),console.log(`[Migration] Successfully migrated portfolio: ${s}`)}}}catch(a){console.error(`[Migration] Failed to migrate portfolio ${s}:`,a)}}})()},[n,e])},$M=()=>(Ee.useEffect(()=>{const n=()=>{const e=window.location.origin+window.location.pathname;let t=document.querySelector("link[rel='canonical']");t||(t=document.createElement("link"),t.setAttribute("rel","canonical"),document.head.appendChild(t)),t.setAttribute("href",e);let r=document.querySelector("meta[property='og:url']");r||(r=document.createElement("meta"),r.setAttribute("property","og:url"),document.head.appendChild(r)),r.setAttribute("content",e)};return n(),window.addEventListener("popstate",n),()=>{window.removeEventListener("popstate",n)}}),null),HM=ce.lazy(()=>_e(()=>import("./Dashboard-DsAUy1wt.js"),__vite__mapDeps([0,1,2,3,4,5,6,7,8,9,10,11,12,13,14,15,16,17,18,19,20,21,22,23,24,25,26,27,28,29,30,31,32,33,34,35,36,37,38,39,40,41,42,43,44,45,46,47,48,49,50,51,52,53,54,55,56,57,58,59,60,61,62,63,64,65,66,67,68,69,70,71,72,73,74,75,76,77,78,79,80,81,82,83,84,85,86,87,88,89,90,91,92,93,94,95,96,97,98,99,100,101,102,103,104,105,106,107,108,109,110,111,112,113,114,115,116,117]))),WE=ce.lazy(()=>_e(()=>import("./Editor-DCgl5DS6.js"),__vite__mapDeps([118,1,119,19,8,84,96,112,7,6,9,120,103,102,12,114,39,32,29,65,30,17,16,59,51,61,117,4,27,28,79,31,109,46,47,48,34,41,52,11,57,54,15,24,25,13,55,86,36,74,33,21,5,121,122,123,108,124,125,126,113,127,53,107,10,62,91,88,18,94,128,129,75,56,20]))),qM=ce.lazy(()=>_e(()=>import("./GenerationHub-DDGKM-Bl.js"),__vite__mapDeps([130,1,5,131,125,126,113,127,13,53,107,77,18,61]))),WM=ce.lazy(()=>_e(()=>import("./InterviewStudio-Bx1kTYhQ.js"),__vite__mapDeps([132,131,5,133,2,8,58,104,57,1,10,11,12,13,77,18,61]))),GM=ce.lazy(()=>_e(()=>import("./ProfilePage-DXGC35bE.js"),__vite__mapDeps([134,1,2,31,13,55,76,66,16]))),KM=ce.lazy(()=>_e(()=>import("./ChatBot-CE136C3v.js"),__vite__mapDeps([135,5,1,8,84,58,102,73,96])));ce.lazy(()=>_e(()=>import("./AuthPage-CWf66DXu.js"),__vite__mapDeps([136,13,55,31,29,69,36])));const GE=ce.lazy(()=>_e(()=>import("./SignInPage-O32W7OR-.js"),__vite__mapDeps([137,13,55,31,29,69,36]))),QM=ce.lazy(()=>_e(()=>import("./SignUpPage-xFvFcViT.js"),__vite__mapDeps([138,13,55,31,29,69,36]))),YM=ce.lazy(()=>_e(()=>import("./LandingPage-BUTZaESM.js"),__vite__mapDeps([139,140,116,13,32,21,12,25,8,83,11,79,141,7,14,82,142,18,103,60,78,17]))),JM=ce.lazy(()=>_e(()=>import("./TechLandingPage-B-HN44WE.js"),__vite__mapDeps([143,140,116,13,32,21,12,25,8,83,11,79,141,18,17,102,78,107,60]))),XM=ce.lazy(()=>_e(()=>import("./PricingPage-HympQHTD.js"),__vite__mapDeps([144,140,116,13,32,21,12,25,8,83,11,79,141,19]))),ZM=ce.lazy(()=>_e(()=>import("./AdminLoginPage-DXCUezxh.js"),__vite__mapDeps([145,100,69,36]))),eU=ce.lazy(()=>_e(()=>import("./AdminPage-_iMv9NEH.js"),__vite__mapDeps([146,112,7,62,21,8,122,5,17,102,19,123,121,108,12,33,74,107,41,16,79,28,106,30,36,89,103,96,35,53,94,31,52,59,142,100,57,84,9]))),tU=ce.lazy(()=>_e(()=>import("./StrategyDashboard-CwVfOZrB.js"),__vite__mapDeps([147,50,45,99,129,128,7,11,35,9,19,100,63,30]))),nU=ce.lazy(()=>_e(()=>import("./AcademicPartnerDashboard-CmNP6T5e.js"),__vite__mapDeps([148,39,35,49,85,11,33,55,100,30,12,65,95,51]))),KE=ce.lazy(()=>_e(()=>import("./VerifyEmailPage-CUIcwGl5.js"),__vite__mapDeps([149,81]))),rU=ce.lazy(()=>_e(()=>import("./JobTrackerPage-DQlr-q3H.js"),__vite__mapDeps([150,23,3,4,1,5,6,7,8,9,10,11,12,13,14,15,16,17,18,19,20,21,22,55,91]))),iU=ce.lazy(()=>_e(()=>import("./DemoPage-Dp_s5mdY.js"),__vite__mapDeps([151,5,131,8,17,13,55,95]))),sU=ce.lazy(()=>_e(()=>import("./PdfPreviewPage-ChoqWqJR.js"),__vite__mapDeps([152,117,4,27,28,79,31,96,109,46,47,48,32,34,41,52,103]))),QE=ce.lazy(()=>_e(()=>import("./ContactPage-HvhbGHMw.js"),__vite__mapDeps([153,140,116,13,32,21,12,25,8,83,11,79,141,154,73,96,66,50,19]))),YE=ce.lazy(()=>_e(()=>import("./BlogListPage-CgmNq5VI.js"),__vite__mapDeps([155,140,116,13,32,21,12,25,8,83,11,79,141,53,51,63,18]))),JE=ce.lazy(()=>_e(()=>import("./BlogPostPage-DFSAnBMH.js"),__vite__mapDeps([156,140,116,13,32,21,12,25,8,83,11,79,141,55,51,47,48]))),oU=ce.lazy(()=>_e(()=>import("./PublicResumePage-CHGhDjj8.js"),__vite__mapDeps([157,140,116,13,32,21,12,25,8,83,11,79,141,24,119,19,84,96,53,77,80]))),aU=ce.lazy(()=>_e(()=>import("./SubscriptionPage-CbnJbk-V.js"),__vite__mapDeps([158,6,7,8,9,18,90,72,84,13,19,102,12,55]))),lU=ce.lazy(()=>_e(()=>import("./PortfolioHub-CHFP2omx.js"),__vite__mapDeps([159,133,126,113,127,13,53,107,10,8,11,12,6,7,9,77,102,64,18,70,61]))),XE=ce.lazy(()=>_e(()=>import("./PortfolioEditor-LvmIhjKJ.js"),__vite__mapDeps([160,1,121,111,10,8,11,12,61,85,44,25,87,56,39,54,88,42,43,15,26,27,28,7,29,30,18,31,32,33,22,34,35,36,37,38,40,41,45,46,47,48,49,50,51,52,53,9,55,57,58,59,60,19,21,62,63,64,65,66,67,68,69,70,71,72,73,74,75,76,77,78,79,80,81,82,83,84,86,89,90,91,92,93,94,95,96,97,98,99,100,101,102,103,104,105,16,106,107,108,109,14,17,20,110,112,113,115,6,124,161,162,123,5]))),ZE=ce.lazy(()=>_e(()=>import("./PortfolioBuilderPage-DRT27Vdo.js"),__vite__mapDeps([163,102,55,85,44,133]))),uU=ce.lazy(()=>_e(()=>import("./PublicPortfolioPage-8J5g9k2W.js"),__vite__mapDeps([164,26,27,28,7,8,29,25,30,18,31,32,33,22,34,35,36,37,38,39,40,11,41,42,43,44,45,46,47,48,49,50,51,52,53,9,54,55,56,57,58,59,60,19,12,21,61,62,63,64,65,66,67,68,69,70,71,72,73,74,75,76,77,78,79,80,81,82,83,84,15,85,86,87,88,89,90,91,92,93,94,95,96,97,98,99,100,101,102,103,104,105,16,106,107,108,109,14,17,20,110,111,112,113,161]))),cU=ce.lazy(()=>_e(()=>import("./PartnerLandingPage-Dzy0XWnM.js"),__vite__mapDeps([165,140,116,13,32,21,12,25,8,83,11,79,141,93,18,52,59,35,49]))),hU=ce.lazy(()=>_e(()=>import("./CheckoutSummary-VLNpWwk5.js"),__vite__mapDeps([166,167]))),dU=ce.lazy(()=>_e(()=>import("./DropProductGallery-CJ59poRr.js"),[])),fU=ce.lazy(()=>_e(()=>import("./AssemblyLinePacking-DUgPoMNo.js"),[])),pU=ce.lazy(()=>_e(()=>import("./CreateNewDrop-GwUiOrk6.js"),[])),mU=ce.lazy(()=>_e(()=>import("./UpcomingDropsFeed-BHnAKj_j.js"),__vite__mapDeps([168,167]))),eT=ce.lazy(()=>_e(()=>import("./BusinessCardPage-C-G7vmf9.js"),__vite__mapDeps([169,129,12,42,43,154,13,73,21,18,11,99]))),tT=ce.lazy(()=>_e(()=>import("./OrderNfcCardPage-BEzAW9zW.js"),__vite__mapDeps([170,121,13,55,8,108,75]))),gU=ce.lazy(()=>_e(()=>import("./AcademicPartnerPage-47wXGWx3.js"),__vite__mapDeps([171,140,116,13,32,21,12,25,8,83,11,79,141,52,35,56,63]))),yU=ce.lazy(()=>_e(()=>import("./BusinessPartnerPage-DyWAWT_P.js"),__vite__mapDeps([172,140,116,13,32,21,12,25,8,83,11,79,141,59,95,105]))),_U=ce.lazy(()=>_e(()=>import("./StudentAmbassadorPage-BaCqKgp9.js"),__vite__mapDeps([173,140,116,13,32,21,12,25,8,83,11,79,141,35,72,37,49]))),vU=ce.lazy(()=>_e(()=>import("./PartnerApplicationPage-BNDbfzH8.js"),__vite__mapDeps([174,140,116,13,32,21,12,25,8,83,11,79,141,60,93,52,35,59]))),nT=ce.lazy(()=>_e(()=>import("./PolicyPage-yopBtaCY.js"),__vite__mapDeps([175,140,116,13,32,21,12,25,8,83,11,79,141,66,100]))),rT=ce.lazy(()=>_e(()=>import("./TermsOfServicePage-DOwloeTD.js"),__vite__mapDeps([176,140,116,13,32,21,12,25,8,83,11,79,141,50,66,100,9]))),iT=ce.lazy(()=>_e(()=>import("./PrivacyPolicyPage-B4NrCsGv.js"),__vite__mapDeps([177,140,116,13,32,21,12,25,8,83,11,79,141,36,44,29,19]))),wU=ce.lazy(()=>_e(()=>import("./HRPartnerPage-DQIJpiyn.js"),__vite__mapDeps([178,140,116,13,32,21,12,25,8,83,11,79,141,18,105,56,60,35]))),EU=ce.lazy(()=>_e(()=>import("./BusinessPartnerDashboard-Cf0cPLZS.js"),__vite__mapDeps([179,4,180,181,5,56,35,64,36,28,16,8,62,21,19,20,17,31,51]))),sT=ce.lazy(()=>_e(()=>import("./JobPostingEditor-C8nWzu0z.js"),__vite__mapDeps([182,180,55,94,36,8]))),TU=ce.lazy(()=>_e(()=>import("./index-CI7WtUHC.js"),__vite__mapDeps([183,180,23,1,2,10,8,11,12,181,30,16,59,34,68,63,60,91,13,95,92,77,73,96]))),IU=ce.lazy(()=>_e(()=>import("./IntegrationsPage-Dw_sJXTl.js"),__vite__mapDeps([184,141,109,19,30,35,38,92,29,51]))),SU=ce.lazy(()=>_e(()=>import("./NotFoundPage-BEllnwxe.js"),__vite__mapDeps([185,140,116,13,32,21,12,25,8,83,11,79,141,71,55,95]))),oT=ce.lazy(()=>_e(()=>import("./PermissionDeniedPage-DsR4RR6K.js"),__vite__mapDeps([186,140,116,13,32,21,12,25,8,83,11,79,141,98,55,31]))),AU=ce.lazy(()=>_e(()=>import("./ReferralLandingPage-CvsPNdqH.js"),__vite__mapDeps([187,140,116,13,32,21,12,25,8,83,11,79,141,72,60,53,102,105]))),RU=ce.lazy(()=>_e(()=>import("./ReferralPage-_r5Od8_L.js"),__vite__mapDeps([188,13,72,12,65,35,51]))),aT=ce.lazy(()=>_e(()=>import("./BioLinksPage-BGYYFne5.js"),__vite__mapDeps([189,13,19,46,47,18,111,43,140,116,32,21,12,25,8,83,11,79,141,102,6,7,9]))),PU=ce.lazy(()=>_e(()=>import("./CommerceDashboard-CS00upNV.js"),__vite__mapDeps([162,101,121,8,87,74,108,55,66,37,28,16]))),kU=ce.lazy(()=>_e(()=>import("./ProductPage-DYCpssLW.js"),__vite__mapDeps([190,101,110,19,55]))),CU=ce.lazy(()=>_e(()=>import("./GetMoreReview01-BDMOou3W.js"),__vite__mapDeps([191,67,126,113,107,129,22,128,8,95,62]))),lT=ce.lazy(()=>_e(()=>import("./ServicePortfolioPage-BO09rZhj.js"),__vite__mapDeps([192,129,19,18,40,89,32,96,22,14]))),bU=ce.lazy(()=>_e(()=>import("./MerchantProductSubmission-u5y26fU9.js"),[])),nr=()=>L.jsx("div",{className:"flex flex-col justify-center items-center h-screen bg-gray-100 dark:bg-gray-900",children:L.jsx(bM,{className:"w-12 h-12 text-primary-500 animate-spin"})}),NU=({target:n})=>(Ee.useEffect(()=>{Nd(n)},[n]),L.jsx(nr,{})),OU=()=>{const{currentUser:n,userProfile:e,loading:t,isAdmin:r,isAdminLoading:s,isEmailVerified:a}=Da();if(BM(),xM())return L.jsx(Ar,{children:L.jsx(jM,{})});const[u,d]=Ee.useState(Fp());if(Ee.useEffect(()=>{const w=()=>{d(Fp())};if(window.addEventListener("popstate",w),w(),window.location.hash&&(window.location.hash.startsWith("#/shared/")||window.location.hash.startsWith("#/portfolio/"))){const R=window.location.hash.substring(1);window.history.replaceState(null,"",R),d(Fp())}return()=>window.removeEventListener("popstate",w)},[]),u==="/pdf-preview")return L.jsx(Ar,{children:L.jsx(Ee.Suspense,{fallback:L.jsx(nr,{}),children:L.jsx(sU,{})})});if(u.startsWith("/shared/"))return L.jsx(Ar,{children:L.jsx(Ee.Suspense,{fallback:L.jsx(nr,{}),children:L.jsx(oU,{})})});const f=/^\/portfolio\/([^/]+\/)?edit\//.test(u);if(u.startsWith("/portfolio/")&&!f)return L.jsx(Ar,{children:L.jsx(Ee.Suspense,{fallback:L.jsx(nr,{}),children:L.jsx(uU,{})})});if(t||s)return L.jsx(nr,{});if(u.startsWith("/admin")){if(u==="/admin/login"){if(n&&r)return Ee.useEffect(()=>Nd("/admin"),[]),null;const w=!!n&&!r;return L.jsx(Ar,{children:L.jsx(Ee.Suspense,{fallback:L.jsx(nr,{}),children:L.jsx(ZM,{accessDenied:w})})})}return n&&r?!a&&n.providerData[0]?.providerId==="password"?L.jsx(Ar,{children:L.jsx(Ee.Suspense,{fallback:L.jsx(nr,{}),children:L.jsx(KE,{})})}):u==="/admin/strategy"?L.jsx(Ar,{children:L.jsx(Ee.Suspense,{fallback:L.jsx(nr,{}),children:L.jsx(tU,{})})}):L.jsx(Ar,{children:L.jsx(Ee.Suspense,{fallback:L.jsx(nr,{}),children:L.jsx(eU,{})})}):L.jsx(Ar,{children:L.jsx(Ee.Suspense,{fallback:L.jsx(nr,{}),children:L.jsx(oT,{requiredRole:"Administrator",message:"You need administrator privileges to access this page."})})})}let g,E=!1;if(n)if(!a&&n.providerData[0]?.providerId==="password")g=L.jsx(KE,{});else if(E=!0,u==="/signin"||u.startsWith("/signin?")||u==="/signup"){const R=new URLSearchParams(window.location.search).get("redirect");g=L.jsx(NU,{target:R?decodeURIComponent(R):"/"})}else if(u.startsWith("/edit/")){const w=u.split("/")[2];g=L.jsx(WE,{resumeId:w})}else if(u==="/new")g=L.jsx(qM,{});else if(u==="/portfolio")g=L.jsx(lU,{});else if(f)g=L.jsx(XE,{});else if(u==="/portfolio-builder")g=L.jsx(ZE,{});else if(u.startsWith("/interview-studio")){const R=u.split("/")[2];g=L.jsx(WM,{jobId:R})}else if(u==="/tracker")g=L.jsx(rU,{});else if(u==="/profile")g=L.jsx(GM,{});else if(u==="/referrals")g=L.jsx(RU,{});else if(u==="/subscription")g=L.jsx(aU,{});else if(u==="/contact")g=L.jsx(QE,{});else if(u==="/services")g=L.jsx(lT,{});else if(u==="/policy")g=L.jsx(nT,{});else if(u==="/terms")g=L.jsx(rT,{});else if(u==="/privacy")g=L.jsx(iT,{});else if(u==="/business-partner/dashboard")g=L.jsx(EU,{});else if(u.toLowerCase()==="/jobmarket"||u==="/job-market")g=L.jsx(TU,{});else if(u==="/business-partner/jobs/new")g=L.jsx(sT,{});else if(u.startsWith("/business-partner/jobs/")&&u.endsWith("/edit")){const w=u.split("/")[3];g=L.jsx(sT,{jobId:w})}else if(u==="/blog")g=L.jsx(YE,{});else if(u==="/dashboard/integrations")g=L.jsx(IU,{});else if(u.startsWith("/blog/")){const w=u.split("/")[2];g=L.jsx(JE,{postId:w})}else u==="/commerce"?g=L.jsx(PU,{}):u==="/checkout"?g=L.jsx(hU,{}):u.startsWith("/drop/")?g=L.jsx(dU,{}):u==="/merchant/packing"?g=L.jsx(fU,{}):u==="/merchant/new-drop"?g=L.jsx(pU,{}):u==="/feed"?g=L.jsx(mU,{}):u==="/merchant/submit"?g=L.jsx(bU,{}):u==="/academic-partner"?e?.role==="academic_partner"||r?g=L.jsx(nU,{}):g=L.jsx(oT,{requiredRole:"Academic Partner",message:"This page is only accessible to academic partners."}):u==="/order-nfc-card"?g=L.jsx(tT,{}):u==="/bio-links"?g=L.jsx(aT,{}):u==="/business-card"?g=L.jsx(eT,{}):g=L.jsx(HM,{});else if(u==="/signin")g=L.jsx(GE,{});else if(u==="/signup")g=L.jsx(QM,{});else if(u==="/auth")window.location.href="/signin",g=L.jsx(GE,{});else if(u==="/pricing")g=L.jsx(XM,{});else if(u==="/demo")g=L.jsx(iU,{});else if(u==="/contact")g=L.jsx(QE,{});else if(u==="/services")g=L.jsx(lT,{});else if(u==="/policy")g=L.jsx(nT,{});else if(u==="/terms")g=L.jsx(rT,{});else if(u==="/privacy")g=L.jsx(iT,{});else if(u==="/referral")g=L.jsx(AU,{});else if(u==="/bio-links")g=L.jsx(aT,{});else if(u==="/bio-links/template/ticktok/get-more-review01")g=L.jsx(CU,{});else if(f)g=L.jsx(XE,{});else if(u==="/portfolio-builder")g=L.jsx(ZE,{});else if(u==="/blog")g=L.jsx(YE,{});else if(u.startsWith("/blog/")){const w=u.split("/")[2];g=L.jsx(JE,{postId:w})}else u.startsWith("/edit/guest")?g=L.jsx(WE,{resumeId:"guest"}):u==="/tech-preview"?g=L.jsx(JM,{}):u==="/partners"?g=L.jsx(cU,{}):u==="/partners/academic"?g=L.jsx(gU,{}):u==="/partners/business"?g=L.jsx(yU,{}):u==="/partners/students"?g=L.jsx(_U,{}):u==="/partners/hiring"?g=L.jsx(wU,{}):u==="/partners/apply"?g=L.jsx(vU,{}):u==="/business-card"?g=L.jsx(eT,{}):u==="/order-nfc-card"?g=L.jsx(tT,{}):u==="/"||u===""?g=L.jsx(YM,{}):u.startsWith("/p/")?g=L.jsx(kU,{}):g=L.jsx(SU,{});return L.jsx(Ar,{children:L.jsx(AM,{children:L.jsxs("div",{className:"min-h-screen bg-gray-100 dark:bg-gray-950 text-gray-800 dark:text-gray-200 font-sans",children:[L.jsx($M,{}),L.jsxs(Ee.Suspense,{fallback:L.jsx(nr,{}),children:[g,E&&L.jsx(KM,{})]})]})})})};"serviceWorker"in navigator&&navigator.serviceWorker.getRegistrations().then(function(n){for(let e of n)console.log("Unregistering Service Worker:",e),e.unregister()}).catch(function(n){console.log("Service Worker unregistration failed: ",n)});const dA=document.getElementById("root");if(!dA)throw new Error("Could not find root element to mount to");const xU=kR.createRoot(dA);xU.render(L.jsx(ce.StrictMode,{children:L.jsx(gT,{children:L.jsx(SM,{children:L.jsx(OU,{})})})}));export{VF as $,Xx as A,XF as B,kM as C,pm as D,nD as E,Xg as F,rD as G,MF as H,Ia as I,AR as J,HF as K,bM as L,NM as M,GF as N,$F as O,WF as P,zF as Q,ce as R,Wh as S,rt as T,hA as U,BF as V,Jg as W,o4 as X,eV as Y,OM as Z,_e as _,LM as a,qU as a$,CM as a0,Z0 as a1,io as a2,K1 as a3,cF as a4,_F as a5,VU as a6,oC as a7,QF as a8,zM as a9,UU as aA,Qi as aB,ci as aC,mh as aD,zU as aE,qs as aF,ca as aG,Sb as aH,FU as aI,TF as aJ,Yp as aK,jU as aL,Ab as aM,Ym as aN,Yi as aO,XU as aP,sC as aQ,EF as aR,pC as aS,Ib as aT,pI as aU,Y1 as aV,JU as aW,A1 as aX,$U as aY,sF as aZ,hF as a_,FF as aa,i4 as ab,s4 as ac,YF as ad,vu as ae,r4 as af,n4 as ag,t4 as ah,e4 as ai,ZF as aj,DU as ak,Am as al,JF as am,ei as an,Wl as ao,aM as ap,qV as aq,LU as ar,Ob as as,QU as at,BU as au,Su as av,Iu as aw,HU as ax,ou as ay,Ki as az,EE as b,Mb as b$,Jk as b0,vF as b1,xF as b2,Bv as b3,PC as b4,I1 as b5,fF as b6,rF as b7,G1 as b8,SF as b9,aF as bA,ZU as bB,Qx as bC,$n as bD,rs as bE,pt as bF,Ws as bG,Ad as bH,Oa as bI,Dr as bJ,ae as bK,Or as bL,gi as bM,Dg as bN,xg as bO,Ih as bP,Pd as bQ,Vg as bR,Lg as bS,Gs as bT,ql as bU,sr as bV,eD as bW,Xm as bX,$t as bY,hu as bZ,Se as b_,CF as ba,OF as bb,wF as bc,iC as bd,WU as be,Fk as bf,AF as bg,kF as bh,NF as bi,e1 as bj,yF as bk,nF as bl,dF as bm,GU as bn,Fm as bo,iF as bp,IF as bq,bF as br,aC as bs,KU as bt,gF as bu,uF as bv,RF as bw,lF as bx,mF as by,pF as bz,eF as c,Bt as c0,on as c1,pa as c2,Gb as c3,jx as c4,Ou as c5,Lu as c6,zx as c7,_n as c8,tV as c9,qF as ca,oF as d,Ug as e,ri as f,gn as g,ia as h,YU as i,L as j,PF as k,KF as l,tD as m,Hl as n,jF as o,Nd as p,Jx as q,Ee as r,tF as s,sV as t,Da as u,gm as v,UF as w,mm as x,vT as y,fs as z};
