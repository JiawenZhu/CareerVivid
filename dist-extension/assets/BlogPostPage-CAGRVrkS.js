import{r as h,j as e,L as f,p,f as y,g as j,m as k}from"./main-D7bwdUQx.js";import{P as u}from"./PublicHeader-BiLchFHM.js";import{F as v}from"./Footer-CxHvxPO8.js";import{u as N}from"./useTranslation-DTfaX8qA.js";import{A as w}from"./arrow-left-Cw-deXTS.js";import{U as P}from"./user-BMBnC3Yd.js";import{C as _}from"./calendar-BnGCRrKy.js";import{T as C}from"./twitter-BnUWIJeg.js";import{L,F as W}from"./linkedin-HQEvqZjM.js";import"./Logo-DPBmgvCf.js";import"./LanguageSelect-Ja_59MY8.js";import"./globe-BpfpBcoq.js";import"./chevron-down-BPd_V80d.js";import"./check-CW4K69vK.js";import"./sun-1TmOzzZR.js";import"./x-DMbiC8dp.js";import"./menu-ehI2FCEu.js";import"./zap-DWwtH8Bb.js";import"./link-BoT9NfQv.js";const z=({text:d=""})=>{const s=r=>{const t=/\[([^\]]+)\]\(([^)]+)\)/g,o=[];let x=0,i;for(;(i=t.exec(r))!==null;)i.index>x&&o.push({type:"text",content:r.slice(x,i.index)}),o.push({type:"link",text:i[1],url:i[2]}),x=t.lastIndex;return x<r.length&&o.push({type:"text",content:r.slice(x)}),o.length===0&&o.push({type:"text",content:r}),o.map((n,m)=>n.type==="link"?e.jsx("a",{href:n.url,target:"_blank",rel:"noopener noreferrer",className:"text-primary-600 hover:text-primary-800 dark:text-primary-400 dark:hover:text-primary-300 hover:underline break-words",onClick:g=>g.stopPropagation(),children:n.text},m):n.content.split(/(\*\*.*?\*\*)/g).map((c,b)=>c.startsWith("**")&&c.endsWith("**")?e.jsx("strong",{className:"font-semibold text-gray-900 dark:text-white",children:c.slice(2,-2)},`${m}-${b}`):e.jsx("span",{children:c},`${m}-${b}`)))},a=d.split(`
`),l=[];for(let r=0;r<a.length;r++){const t=a[r];t.trim().startsWith("### ")?l.push(e.jsx("h3",{className:"text-xl font-bold mt-8 mb-4 text-gray-900 dark:text-white",children:s(t.substring(4))},r)):t.trim().startsWith("## ")?l.push(e.jsx("h2",{className:"text-2xl font-bold mt-10 mb-5 text-gray-900 dark:text-white border-b border-gray-200 dark:border-gray-800 pb-2",children:s(t.substring(3))},r)):t.trim().startsWith("# ")?l.push(e.jsx("h1",{className:"text-3xl font-extrabold mt-12 mb-6 text-gray-900 dark:text-white",children:s(t.substring(2))},r)):t.trim().startsWith("* ")||t.trim().startsWith("- ")?l.push(e.jsx("li",{className:"ml-4 list-disc text-gray-700 dark:text-gray-300 pl-2 mb-2",children:s(t.substring(t.indexOf(" ")+1))},r)):/^\d+\.\s/.test(t.trim())?l.push(e.jsxs("div",{className:"flex items-start mb-2 text-gray-700 dark:text-gray-300",children:[e.jsx("span",{className:"mr-2 font-semibold",children:t.match(/^\d+\./)?.[0]}),e.jsx("span",{children:s(t.substring(t.indexOf(".")+2))})]},r)):t.trim()===""?l.push(e.jsx("div",{className:"h-4"},r)):l.push(e.jsx("p",{className:"text-gray-700 dark:text-gray-300 leading-relaxed mb-4 text-lg",children:s(t)},r))}return e.jsx("div",{className:"prose dark:prose-invert max-w-none",children:l})},V=({postId:d})=>{const{t:s}=N(),[a,l]=h.useState(null),[r,t]=h.useState(!0);if(h.useEffect(()=>{(async()=>{if(d)try{const i=y(j,"blog_posts",d),n=await k(i);n.exists()&&l({id:n.id,...n.data()})}catch(i){console.error("Error fetching post:",i)}finally{t(!1)}})()},[d]),r)return e.jsx("div",{className:"min-h-screen bg-white dark:bg-gray-950 flex items-center justify-center",children:e.jsx(f,{className:"w-10 h-10 animate-spin text-primary-600"})});if(!a)return e.jsxs("div",{className:"min-h-screen bg-white dark:bg-gray-950 flex flex-col",children:[e.jsx(u,{}),e.jsxs("div",{className:"flex-grow flex flex-col items-center justify-center",children:[e.jsx("h1",{className:"text-2xl font-bold text-gray-900 dark:text-white mb-4",children:s("blog.post_not_found")}),e.jsx("button",{onClick:()=>p("/blog"),className:"text-primary-600 hover:underline",children:s("blog.back_to_blog")})]})]});const o=a.content||a.body||s("blog.no_content");return e.jsxs("div",{className:"bg-white dark:bg-gray-950 min-h-screen flex flex-col font-sans",children:[e.jsx(u,{}),e.jsx("main",{className:"flex-grow pt-24 pb-20",children:e.jsxs("article",{className:"max-w-4xl mx-auto px-4 sm:px-6 lg:px-8",children:[e.jsxs("button",{onClick:()=>p("/blog"),className:"flex items-center gap-2 text-sm font-medium text-gray-500 hover:text-gray-900 dark:text-gray-400 dark:hover:text-white mb-8 transition-colors",children:[e.jsx(w,{size:16})," ",s("blog.back_to_articles")]}),e.jsxs("header",{className:"mb-10 text-center",children:[e.jsx("div",{className:"inline-block px-3 py-1 rounded-full bg-primary-100 dark:bg-primary-900/30 text-primary-700 dark:text-primary-300 text-xs font-bold uppercase tracking-wider mb-6",children:a.category||"General"}),e.jsx("h1",{className:"text-4xl md:text-5xl font-extrabold text-gray-900 dark:text-white mb-6 leading-tight",children:a.title}),e.jsxs("div",{className:"flex items-center justify-center gap-6 text-sm text-gray-500 dark:text-gray-400",children:[e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx(P,{size:16})," ",a.author||s("blog.team")]}),e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx(_,{size:16}),a.publishedAt?.toDate?a.publishedAt.toDate().toLocaleDateString(void 0,{year:"numeric",month:"long",day:"numeric"}):s("blog.recently")]})]})]}),a.coverImage&&e.jsx("div",{className:"mb-12 rounded-2xl overflow-hidden shadow-lg aspect-video",children:e.jsx("img",{src:a.coverImage,alt:a.title,className:"w-full h-full object-cover"})}),e.jsxs("div",{className:"max-w-3xl mx-auto",children:[e.jsx(z,{text:o}),e.jsxs("div",{className:"mt-16 pt-8 border-t border-gray-200 dark:border-gray-800",children:[e.jsx("p",{className:"text-sm font-semibold text-gray-900 dark:text-white mb-4",children:s("blog.share_article")}),e.jsxs("div",{className:"flex gap-4",children:[e.jsx("button",{className:"p-2 rounded-full bg-gray-100 dark:bg-gray-800 text-gray-600 dark:text-gray-400 hover:bg-blue-100 hover:text-blue-600 dark:hover:bg-blue-900/30 dark:hover:text-blue-400 transition-colors",children:e.jsx(C,{size:20})}),e.jsx("button",{className:"p-2 rounded-full bg-gray-100 dark:bg-gray-800 text-gray-600 dark:text-gray-400 hover:bg-blue-100 hover:text-blue-700 dark:hover:bg-blue-900/30 dark:hover:text-blue-500 transition-colors",children:e.jsx(L,{size:20})}),e.jsx("button",{className:"p-2 rounded-full bg-gray-100 dark:bg-gray-800 text-gray-600 dark:text-gray-400 hover:bg-blue-100 hover:text-blue-800 dark:hover:bg-blue-900/30 dark:hover:text-blue-600 transition-colors",children:e.jsx(W,{size:20})})]})]})]})]})}),e.jsx(v,{})]})};export{V as default};
