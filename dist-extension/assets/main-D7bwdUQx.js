const __vite__mapDeps=(i,m=__vite__mapDeps,d=(m.f||(m.f=["assets/Dashboard-DHpuJeD4.js","assets/useJobHistory-nblYb8Un.js","assets/KanbanBoard-BGAv0Hb2.js","assets/types-C3IBSKjb.js","assets/geminiService-y_3auqFB.js","assets/ConfirmationModal-JrZwKFGF.js","assets/index-BLyhGMY8.js","assets/x-DMbiC8dp.js","assets/alert-triangle-CTOevc_r.js","assets/useAICreditCheck-C1GxJsBq.js","assets/zap-DWwtH8Bb.js","assets/check-CW4K69vK.js","assets/useTranslation-DTfaX8qA.js","assets/volume-2-CWCwFyLt.js","assets/square-So3YITEA.js","assets/trash-2-CQCik4ER.js","assets/arrow-right-DsFsv36v.js","assets/check-circle-Y3w2FutP.js","assets/x-circle-BRiVfX7a.js","assets/chevron-down-BPd_V80d.js","assets/play-BaOA4-fe.js","assets/useJobTracker-CXIl5ZRq.js","assets/ThemeToggle-DsA95TmZ.js","assets/sun-1TmOzzZR.js","assets/index-Ct7ZtTGD.js","assets/InlineEdit-VvWFu2xz.js","assets/pen-BjREPpPz.js","assets/lock-DcpO_n2u.js","assets/mail-DgfX-KG1.js","assets/globe-BpfpBcoq.js","assets/download-C1tBlrUM.js","assets/map-pin-D8GAobV5.js","assets/users-C9F5B6QA.js","assets/eye-DEr-hoMY.js","assets/trending-up-DPrOYGmK.js","assets/music-WNGOgNMw.js","assets/share-2-CK0UUP72.js","assets/terminal-BonMCbCN.js","assets/chevron-right-PWzp5mFn.js","assets/code-B6dUF6ow.js","assets/cardTemplates-Ct8bCPLk.js","assets/stockPhotos-DkxhX0el.js","assets/smartphone-WOZ9vOzD.js","assets/layout-grid-WKuLex98.js","assets/youtube-CT18vrJ4.js","assets/twitter-BnUWIJeg.js","assets/linkedin-HQEvqZjM.js","assets/award-DYnlEXmM.js","assets/activity-CM1jkAXg.js","assets/calendar-BnGCRrKy.js","assets/graduation-cap-Ba7Sbct3.js","assets/alert-circle-BRom6qOH.js","assets/undo-DkQhMn_e.js","assets/arrow-left-Cw-deXTS.js","assets/bar-chart-D4uRodYM.js","assets/bot-IWhsMCba.js","assets/building-2-Cq7l4Mzs.js","assets/check-circle-2-DpEuKBG_.js","assets/chevron-left-DHCapFAF.js","assets/chevron-up-yBgMtLL6.js","assets/clock-CcciH6c9.js","assets/code-2-CMQNlPQN.js","assets/copy-Do5ViK8D.js","assets/credit-card-5AyDtlxr.js","assets/confetti.module-BGnOEfG6.js","assets/dollar-sign-DcpZw4Zw.js","assets/eye-off-C3BEQmJh.js","assets/file-code-COZLpJA5.js","assets/file-question-DZTQrbyz.js","assets/gift-Jcvedu2l.js","assets/help-circle-Z6uxOdU-.js","assets/home-B9i0WPbo.js","assets/image-Cv7iUuhM.js","assets/info-Cumc1Glk.js","assets/key-round-qsMoB6jW.js","assets/layout-dashboard-O5a-GZ1E.js","assets/layout-template-Ry3nx9r-.js","assets/link-BoT9NfQv.js","assets/log-out-i04K1esW.js","assets/mail-check-B25_6Z-D.js","assets/volume-x-BjYuzAy4.js","assets/menu-ehI2FCEu.js","assets/message-square-BENNLl4s.js","assets/monitor-CcJ9Smqe.js","assets/more-vertical-CpLTMDnJ.js","assets/store-D8Uycl71.js","assets/palette-0XDKs-Jr.js","assets/pen-tool-DRK-bsrA.js","assets/percent-pK9dnNdf.js","assets/plus-circle-B1zjzhT0.js","assets/refresh-cw-DTA__X86.js","assets/rocket-BsshGovh.js","assets/save-CJ-XX7QP.js","assets/search-DcLQ5dqo.js","assets/send-UNE_Yrxr.js","assets/shield-alert-DzVOFb2M.js","assets/shield-check-BFnUBgBu.js","assets/shield-CUs6q-_4.js","assets/productService-CQD1F13I.js","assets/thumbs-up-C6_U3RnA.js","assets/sparkles-BFipE19n.js","assets/star-209mo421.js","assets/stop-circle-D1RwyLxF.js","assets/target-BsDxk_ZX.js","assets/unlink-6ukdw9W5.js","assets/upload-cloud-CWQHg1gY.js","assets/upload-1Po4FBxs.js","assets/user-BMBnC3Yd.js","assets/video-DKmnxiHe.js","assets/stripeService-C8ippV--.js","assets/index-DZXmDlCI.js","assets/AlertModal-DSdN08Rw.js","assets/index-Chjiymov.js","assets/Logo-DPBmgvCf.js","assets/ShareResumeModal-E3tlevaV.js","assets/sortable.esm-Cwvpgqjn.js","assets/LanguageSelect-Ja_59MY8.js","assets/ResumePreview-Jk-mDOMr.js","assets/Editor-DJLUd0Qt.js","assets/CommentsPanel-DPyg5v6n.js","assets/FeedbackModal-CbS_Se9-.js","assets/storageService-BNxWpd1U.js","assets/AIImprovementPanel-BB8CVWdZ.js","assets/AIImageEditModal-m4lJEj2r.js","assets/MonthYearPicker-CXRrYW0t.js","assets/ResumeImport-NX6dZbBI.js","assets/index-Dz481ECF.js","assets/pdf.worker.min-Dea1Jy7I.js","assets/index-CheEFsob.js","assets/proxy-BQaq4QdM.js","assets/GenerationHub-CGSmgngB.js","assets/careers-BCiR7pDl.js","assets/InterviewStudio-CZUdXxag.js","assets/index-DUexRrDI.js","assets/ProfilePage-B4kfq69b.js","assets/ChatBot-N4qep5QS.js","assets/AuthPage-DbMidzV9.js","assets/SignInPage-C_XoGWGd.js","assets/SignUpPage-CqjFR19p.js","assets/LandingPage-C9ShdBM4.js","assets/PublicHeader-BiLchFHM.js","assets/Footer-CxHvxPO8.js","assets/systemSettingsService-CzADnao6.js","assets/TechLandingPage-ChBXesTA.js","assets/PricingPage-C5LzztB_.js","assets/AdminLoginPage-Dg15Ewfg.js","assets/AdminPage-DnULgg4c.js","assets/StrategyDashboard-DW5AeiMY.js","assets/AcademicPartnerDashboard-BCC2e1Gg.js","assets/VerifyEmailPage-Cfn8oUb4.js","assets/JobTrackerPage-6w9ioxuD.js","assets/DemoPage-DpWQqf7v.js","assets/PdfPreviewPage-DmXXAqt0.js","assets/ContactPage-Ded-VZEF.js","assets/FAQSection-C3OTeRto.js","assets/BlogListPage-BD57tP6b.js","assets/BlogPostPage-CAGRVrkS.js","assets/PublicResumePage-CJJ_NBql.js","assets/SubscriptionPage-Dw8yDlt2.js","assets/PortfolioHub-CTOnwy42.js","assets/PortfolioEditor-Djj_kYhL.js","assets/IntroOverlay-CkLFrfhu.js","assets/CommerceDashboard-LBXrU-LY.js","assets/PortfolioBuilderPage-BTiisjEA.js","assets/PublicPortfolioPage-D_kRSaxP.js","assets/PartnerLandingPage-eW2oo_lB.js","assets/CheckoutSummary-CdJakATe.js","assets/stitchService-BsYaWMgj.js","assets/UpcomingDropsFeed-DVZAHP9u.js","assets/BusinessCardPage-CrYVIWfr.js","assets/OrderNfcCardPage-Bm-LP6nc.js","assets/AcademicPartnerPage-BQVrhNad.js","assets/BusinessPartnerPage-CDR35024.js","assets/StudentAmbassadorPage-CNiTzAjn.js","assets/PartnerApplicationPage-CSxZigs8.js","assets/PolicyPage-Ube3Z2zt.js","assets/TermsOfServicePage-DNtyEb2p.js","assets/PrivacyPolicyPage-aTJC6z6k.js","assets/HRPartnerPage-jCqRxVZ6.js","assets/BusinessPartnerDashboard-BcbsEqxj.js","assets/jobService-C3o-FnLN.js","assets/applicationService-CzJ0cDEU.js","assets/JobPostingEditor-DJJEVL9N.js","assets/index-By9rQiXV.js","assets/IntegrationsPage-DDfx0mYr.js","assets/NotFoundPage-Bpa98bPi.js","assets/PermissionDeniedPage-BD3VCTsr.js","assets/ReferralLandingPage-CkHbZYdq.js","assets/ReferralPage-wK_wVRKy.js","assets/BioLinksPage-ByAMF9iY.js","assets/ProductPage-CIeN74R1.js","assets/GetMoreReview01-D8PsmLPM.js","assets/ServicePortfolioPage-COPaf1dH.js"])))=>i.map(i=>d[i]);
function cT(n,e){for(var t=0;t<e.length;t++){const r=e[t];if(typeof r!="string"&&!Array.isArray(r)){for(const s in r)if(s!=="default"&&!(s in n)){const a=Object.getOwnPropertyDescriptor(r,s);a&&Object.defineProperty(n,s,a.get?a:{enumerable:!0,get:()=>r[s]})}}}return Object.freeze(Object.defineProperty(n,Symbol.toStringTag,{value:"Module"}))}(function(){const e=document.createElement("link").relList;if(e&&e.supports&&e.supports("modulepreload"))return;for(const s of document.querySelectorAll('link[rel="modulepreload"]'))r(s);new MutationObserver(s=>{for(const a of s)if(a.type==="childList")for(const u of a.addedNodes)u.tagName==="LINK"&&u.rel==="modulepreload"&&r(u)}).observe(document,{childList:!0,subtree:!0});function t(s){const a={};return s.integrity&&(a.integrity=s.integrity),s.referrerPolicy&&(a.referrerPolicy=s.referrerPolicy),s.crossOrigin==="use-credentials"?a.credentials="include":s.crossOrigin==="anonymous"?a.credentials="omit":a.credentials="same-origin",a}function r(s){if(s.ep)return;s.ep=!0;const a=t(s);fetch(s.href,a)}})();var Ql=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};function Ra(n){return n&&n.__esModule&&Object.prototype.hasOwnProperty.call(n,"default")?n.default:n}function MU(n){if(Object.prototype.hasOwnProperty.call(n,"__esModule"))return n;var e=n.default;if(typeof e=="function"){var t=function r(){var s=!1;try{s=this instanceof r}catch{}return s?Reflect.construct(e,arguments,this.constructor):e.apply(this,arguments)};t.prototype=e.prototype}else t={};return Object.defineProperty(t,"__esModule",{value:!0}),Object.keys(n).forEach(function(r){var s=Object.getOwnPropertyDescriptor(n,r);Object.defineProperty(t,r,s.get?s:{enumerable:!0,get:function(){return n[r]}})}),t}var op={exports:{}},xl={},ap={exports:{}},Le={};var ov;function AR(){if(ov)return Le;ov=1;var n=Symbol.for("react.element"),e=Symbol.for("react.portal"),t=Symbol.for("react.fragment"),r=Symbol.for("react.strict_mode"),s=Symbol.for("react.profiler"),a=Symbol.for("react.provider"),u=Symbol.for("react.context"),d=Symbol.for("react.forward_ref"),f=Symbol.for("react.suspense"),m=Symbol.for("react.memo"),g=Symbol.for("react.lazy"),E=Symbol.iterator;function w(U){return U===null||typeof U!="object"?null:(U=E&&U[E]||U["@@iterator"],typeof U=="function"?U:null)}var A={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},O=Object.assign,F={};function M(U,X,Ie){this.props=U,this.context=X,this.refs=F,this.updater=Ie||A}M.prototype.isReactComponent={},M.prototype.setState=function(U,X){if(typeof U!="object"&&typeof U!="function"&&U!=null)throw Error("setState(...): takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,U,X,"setState")},M.prototype.forceUpdate=function(U){this.updater.enqueueForceUpdate(this,U,"forceUpdate")};function J(){}J.prototype=M.prototype;function se(U,X,Ie){this.props=U,this.context=X,this.refs=F,this.updater=Ie||A}var le=se.prototype=new J;le.constructor=se,O(le,M.prototype),le.isPureReactComponent=!0;var re=Array.isArray,ce=Object.prototype.hasOwnProperty,de={current:null},k={key:!0,ref:!0,__self:!0,__source:!0};function S(U,X,Ie){var ke,Ve={},Me=null,Ge=null;if(X!=null)for(ke in X.ref!==void 0&&(Ge=X.ref),X.key!==void 0&&(Me=""+X.key),X)ce.call(X,ke)&&!k.hasOwnProperty(ke)&&(Ve[ke]=X[ke]);var $e=arguments.length-2;if($e===1)Ve.children=Ie;else if(1<$e){for(var Ye=Array($e),tn=0;tn<$e;tn++)Ye[tn]=arguments[tn+2];Ve.children=Ye}if(U&&U.defaultProps)for(ke in $e=U.defaultProps,$e)Ve[ke]===void 0&&(Ve[ke]=$e[ke]);return{$$typeof:n,type:U,key:Me,ref:Ge,props:Ve,_owner:de.current}}function C(U,X){return{$$typeof:n,type:U.type,key:X,ref:U.ref,props:U.props,_owner:U._owner}}function V(U){return typeof U=="object"&&U!==null&&U.$$typeof===n}function N(U){var X={"=":"=0",":":"=2"};return"$"+U.replace(/[=:]/g,function(Ie){return X[Ie]})}var x=/\/+/g;function P(U,X){return typeof U=="object"&&U!==null&&U.key!=null?N(""+U.key):X.toString(36)}function xe(U,X,Ie,ke,Ve){var Me=typeof U;(Me==="undefined"||Me==="boolean")&&(U=null);var Ge=!1;if(U===null)Ge=!0;else switch(Me){case"string":case"number":Ge=!0;break;case"object":switch(U.$$typeof){case n:case e:Ge=!0}}if(Ge)return Ge=U,Ve=Ve(Ge),U=ke===""?"."+P(Ge,0):ke,re(Ve)?(Ie="",U!=null&&(Ie=U.replace(x,"$&/")+"/"),xe(Ve,X,Ie,"",function(tn){return tn})):Ve!=null&&(V(Ve)&&(Ve=C(Ve,Ie+(!Ve.key||Ge&&Ge.key===Ve.key?"":(""+Ve.key).replace(x,"$&/")+"/")+U)),X.push(Ve)),1;if(Ge=0,ke=ke===""?".":ke+":",re(U))for(var $e=0;$e<U.length;$e++){Me=U[$e];var Ye=ke+P(Me,$e);Ge+=xe(Me,X,Ie,Ye,Ve)}else if(Ye=w(U),typeof Ye=="function")for(U=Ye.call(U),$e=0;!(Me=U.next()).done;)Me=Me.value,Ye=ke+P(Me,$e++),Ge+=xe(Me,X,Ie,Ye,Ve);else if(Me==="object")throw X=String(U),Error("Objects are not valid as a React child (found: "+(X==="[object Object]"?"object with keys {"+Object.keys(U).join(", ")+"}":X)+"). If you meant to render a collection of children, use an array instead.");return Ge}function B(U,X,Ie){if(U==null)return U;var ke=[],Ve=0;return xe(U,ke,"","",function(Me){return X.call(Ie,Me,Ve++)}),ke}function Q(U){if(U._status===-1){var X=U._result;X=X(),X.then(function(Ie){(U._status===0||U._status===-1)&&(U._status=1,U._result=Ie)},function(Ie){(U._status===0||U._status===-1)&&(U._status=2,U._result=Ie)}),U._status===-1&&(U._status=0,U._result=X)}if(U._status===1)return U._result.default;throw U._result}var me={current:null},W={transition:null},oe={ReactCurrentDispatcher:me,ReactCurrentBatchConfig:W,ReactCurrentOwner:de};function Y(){throw Error("act(...) is not supported in production builds of React.")}return Le.Children={map:B,forEach:function(U,X,Ie){B(U,function(){X.apply(this,arguments)},Ie)},count:function(U){var X=0;return B(U,function(){X++}),X},toArray:function(U){return B(U,function(X){return X})||[]},only:function(U){if(!V(U))throw Error("React.Children.only expected to receive a single React element child.");return U}},Le.Component=M,Le.Fragment=t,Le.Profiler=s,Le.PureComponent=se,Le.StrictMode=r,Le.Suspense=f,Le.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=oe,Le.act=Y,Le.cloneElement=function(U,X,Ie){if(U==null)throw Error("React.cloneElement(...): The argument must be a React element, but you passed "+U+".");var ke=O({},U.props),Ve=U.key,Me=U.ref,Ge=U._owner;if(X!=null){if(X.ref!==void 0&&(Me=X.ref,Ge=de.current),X.key!==void 0&&(Ve=""+X.key),U.type&&U.type.defaultProps)var $e=U.type.defaultProps;for(Ye in X)ce.call(X,Ye)&&!k.hasOwnProperty(Ye)&&(ke[Ye]=X[Ye]===void 0&&$e!==void 0?$e[Ye]:X[Ye])}var Ye=arguments.length-2;if(Ye===1)ke.children=Ie;else if(1<Ye){$e=Array(Ye);for(var tn=0;tn<Ye;tn++)$e[tn]=arguments[tn+2];ke.children=$e}return{$$typeof:n,type:U.type,key:Ve,ref:Me,props:ke,_owner:Ge}},Le.createContext=function(U){return U={$$typeof:u,_currentValue:U,_currentValue2:U,_threadCount:0,Provider:null,Consumer:null,_defaultValue:null,_globalName:null},U.Provider={$$typeof:a,_context:U},U.Consumer=U},Le.createElement=S,Le.createFactory=function(U){var X=S.bind(null,U);return X.type=U,X},Le.createRef=function(){return{current:null}},Le.forwardRef=function(U){return{$$typeof:d,render:U}},Le.isValidElement=V,Le.lazy=function(U){return{$$typeof:g,_payload:{_status:-1,_result:U},_init:Q}},Le.memo=function(U,X){return{$$typeof:m,type:U,compare:X===void 0?null:X}},Le.startTransition=function(U){var X=W.transition;W.transition={};try{U()}finally{W.transition=X}},Le.unstable_act=Y,Le.useCallback=function(U,X){return me.current.useCallback(U,X)},Le.useContext=function(U){return me.current.useContext(U)},Le.useDebugValue=function(){},Le.useDeferredValue=function(U){return me.current.useDeferredValue(U)},Le.useEffect=function(U,X){return me.current.useEffect(U,X)},Le.useId=function(){return me.current.useId()},Le.useImperativeHandle=function(U,X,Ie){return me.current.useImperativeHandle(U,X,Ie)},Le.useInsertionEffect=function(U,X){return me.current.useInsertionEffect(U,X)},Le.useLayoutEffect=function(U,X){return me.current.useLayoutEffect(U,X)},Le.useMemo=function(U,X){return me.current.useMemo(U,X)},Le.useReducer=function(U,X,Ie){return me.current.useReducer(U,X,Ie)},Le.useRef=function(U){return me.current.useRef(U)},Le.useState=function(U){return me.current.useState(U)},Le.useSyncExternalStore=function(U,X,Ie){return me.current.useSyncExternalStore(U,X,Ie)},Le.useTransition=function(){return me.current.useTransition()},Le.version="18.3.1",Le}var av;function Rm(){return av||(av=1,ap.exports=AR()),ap.exports}var lv;function RR(){if(lv)return xl;lv=1;var n=Rm(),e=Symbol.for("react.element"),t=Symbol.for("react.fragment"),r=Object.prototype.hasOwnProperty,s=n.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED.ReactCurrentOwner,a={key:!0,ref:!0,__self:!0,__source:!0};function u(d,f,m){var g,E={},w=null,A=null;m!==void 0&&(w=""+m),f.key!==void 0&&(w=""+f.key),f.ref!==void 0&&(A=f.ref);for(g in f)r.call(f,g)&&!a.hasOwnProperty(g)&&(E[g]=f[g]);if(d&&d.defaultProps)for(g in f=d.defaultProps,f)E[g]===void 0&&(E[g]=f[g]);return{$$typeof:e,type:d,key:w,ref:A,props:E,_owner:s.current}}return xl.Fragment=t,xl.jsx=u,xl.jsxs=u,xl}var uv;function PR(){return uv||(uv=1,op.exports=RR()),op.exports}var D=PR(),he=Rm();const pe=Ra(he),UU=cT({__proto__:null,default:pe},[he]);var th={},lp={exports:{}},gn={},up={exports:{}},cp={};var cv;function kR(){return cv||(cv=1,(function(n){function e(W,oe){var Y=W.length;W.push(oe);e:for(;0<Y;){var U=Y-1>>>1,X=W[U];if(0<s(X,oe))W[U]=oe,W[Y]=X,Y=U;else break e}}function t(W){return W.length===0?null:W[0]}function r(W){if(W.length===0)return null;var oe=W[0],Y=W.pop();if(Y!==oe){W[0]=Y;e:for(var U=0,X=W.length,Ie=X>>>1;U<Ie;){var ke=2*(U+1)-1,Ve=W[ke],Me=ke+1,Ge=W[Me];if(0>s(Ve,Y))Me<X&&0>s(Ge,Ve)?(W[U]=Ge,W[Me]=Y,U=Me):(W[U]=Ve,W[ke]=Y,U=ke);else if(Me<X&&0>s(Ge,Y))W[U]=Ge,W[Me]=Y,U=Me;else break e}}return oe}function s(W,oe){var Y=W.sortIndex-oe.sortIndex;return Y!==0?Y:W.id-oe.id}if(typeof performance=="object"&&typeof performance.now=="function"){var a=performance;n.unstable_now=function(){return a.now()}}else{var u=Date,d=u.now();n.unstable_now=function(){return u.now()-d}}var f=[],m=[],g=1,E=null,w=3,A=!1,O=!1,F=!1,M=typeof setTimeout=="function"?setTimeout:null,J=typeof clearTimeout=="function"?clearTimeout:null,se=typeof setImmediate<"u"?setImmediate:null;typeof navigator<"u"&&navigator.scheduling!==void 0&&navigator.scheduling.isInputPending!==void 0&&navigator.scheduling.isInputPending.bind(navigator.scheduling);function le(W){for(var oe=t(m);oe!==null;){if(oe.callback===null)r(m);else if(oe.startTime<=W)r(m),oe.sortIndex=oe.expirationTime,e(f,oe);else break;oe=t(m)}}function re(W){if(F=!1,le(W),!O)if(t(f)!==null)O=!0,Q(ce);else{var oe=t(m);oe!==null&&me(re,oe.startTime-W)}}function ce(W,oe){O=!1,F&&(F=!1,J(S),S=-1),A=!0;var Y=w;try{for(le(oe),E=t(f);E!==null&&(!(E.expirationTime>oe)||W&&!N());){var U=E.callback;if(typeof U=="function"){E.callback=null,w=E.priorityLevel;var X=U(E.expirationTime<=oe);oe=n.unstable_now(),typeof X=="function"?E.callback=X:E===t(f)&&r(f),le(oe)}else r(f);E=t(f)}if(E!==null)var Ie=!0;else{var ke=t(m);ke!==null&&me(re,ke.startTime-oe),Ie=!1}return Ie}finally{E=null,w=Y,A=!1}}var de=!1,k=null,S=-1,C=5,V=-1;function N(){return!(n.unstable_now()-V<C)}function x(){if(k!==null){var W=n.unstable_now();V=W;var oe=!0;try{oe=k(!0,W)}finally{oe?P():(de=!1,k=null)}}else de=!1}var P;if(typeof se=="function")P=function(){se(x)};else if(typeof MessageChannel<"u"){var xe=new MessageChannel,B=xe.port2;xe.port1.onmessage=x,P=function(){B.postMessage(null)}}else P=function(){M(x,0)};function Q(W){k=W,de||(de=!0,P())}function me(W,oe){S=M(function(){W(n.unstable_now())},oe)}n.unstable_IdlePriority=5,n.unstable_ImmediatePriority=1,n.unstable_LowPriority=4,n.unstable_NormalPriority=3,n.unstable_Profiling=null,n.unstable_UserBlockingPriority=2,n.unstable_cancelCallback=function(W){W.callback=null},n.unstable_continueExecution=function(){O||A||(O=!0,Q(ce))},n.unstable_forceFrameRate=function(W){0>W||125<W?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):C=0<W?Math.floor(1e3/W):5},n.unstable_getCurrentPriorityLevel=function(){return w},n.unstable_getFirstCallbackNode=function(){return t(f)},n.unstable_next=function(W){switch(w){case 1:case 2:case 3:var oe=3;break;default:oe=w}var Y=w;w=oe;try{return W()}finally{w=Y}},n.unstable_pauseExecution=function(){},n.unstable_requestPaint=function(){},n.unstable_runWithPriority=function(W,oe){switch(W){case 1:case 2:case 3:case 4:case 5:break;default:W=3}var Y=w;w=W;try{return oe()}finally{w=Y}},n.unstable_scheduleCallback=function(W,oe,Y){var U=n.unstable_now();switch(typeof Y=="object"&&Y!==null?(Y=Y.delay,Y=typeof Y=="number"&&0<Y?U+Y:U):Y=U,W){case 1:var X=-1;break;case 2:X=250;break;case 5:X=1073741823;break;case 4:X=1e4;break;default:X=5e3}return X=Y+X,W={id:g++,callback:oe,priorityLevel:W,startTime:Y,expirationTime:X,sortIndex:-1},Y>U?(W.sortIndex=Y,e(m,W),t(f)===null&&W===t(m)&&(F?(J(S),S=-1):F=!0,me(re,Y-U))):(W.sortIndex=X,e(f,W),O||A||(O=!0,Q(ce))),W},n.unstable_shouldYield=N,n.unstable_wrapCallback=function(W){var oe=w;return function(){var Y=w;w=oe;try{return W.apply(this,arguments)}finally{w=Y}}}})(cp)),cp}var hv;function CR(){return hv||(hv=1,up.exports=kR()),up.exports}var dv;function bR(){if(dv)return gn;dv=1;var n=Rm(),e=CR();function t(i){for(var o="https://reactjs.org/docs/error-decoder.html?invariant="+i,l=1;l<arguments.length;l++)o+="&args[]="+encodeURIComponent(arguments[l]);return"Minified React error #"+i+"; visit "+o+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}var r=new Set,s={};function a(i,o){u(i,o),u(i+"Capture",o)}function u(i,o){for(s[i]=o,i=0;i<o.length;i++)r.add(o[i])}var d=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),f=Object.prototype.hasOwnProperty,m=/^[:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD][:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD\-.0-9\u00B7\u0300-\u036F\u203F-\u2040]*$/,g={},E={};function w(i){return f.call(E,i)?!0:f.call(g,i)?!1:m.test(i)?E[i]=!0:(g[i]=!0,!1)}function A(i,o,l,h){if(l!==null&&l.type===0)return!1;switch(typeof o){case"function":case"symbol":return!0;case"boolean":return h?!1:l!==null?!l.acceptsBooleans:(i=i.toLowerCase().slice(0,5),i!=="data-"&&i!=="aria-");default:return!1}}function O(i,o,l,h){if(o===null||typeof o>"u"||A(i,o,l,h))return!0;if(h)return!1;if(l!==null)switch(l.type){case 3:return!o;case 4:return o===!1;case 5:return isNaN(o);case 6:return isNaN(o)||1>o}return!1}function F(i,o,l,h,p,y,T){this.acceptsBooleans=o===2||o===3||o===4,this.attributeName=h,this.attributeNamespace=p,this.mustUseProperty=l,this.propertyName=i,this.type=o,this.sanitizeURL=y,this.removeEmptyString=T}var M={};"children dangerouslySetInnerHTML defaultValue defaultChecked innerHTML suppressContentEditableWarning suppressHydrationWarning style".split(" ").forEach(function(i){M[i]=new F(i,0,!1,i,null,!1,!1)}),[["acceptCharset","accept-charset"],["className","class"],["htmlFor","for"],["httpEquiv","http-equiv"]].forEach(function(i){var o=i[0];M[o]=new F(o,1,!1,i[1],null,!1,!1)}),["contentEditable","draggable","spellCheck","value"].forEach(function(i){M[i]=new F(i,2,!1,i.toLowerCase(),null,!1,!1)}),["autoReverse","externalResourcesRequired","focusable","preserveAlpha"].forEach(function(i){M[i]=new F(i,2,!1,i,null,!1,!1)}),"allowFullScreen async autoFocus autoPlay controls default defer disabled disablePictureInPicture disableRemotePlayback formNoValidate hidden loop noModule noValidate open playsInline readOnly required reversed scoped seamless itemScope".split(" ").forEach(function(i){M[i]=new F(i,3,!1,i.toLowerCase(),null,!1,!1)}),["checked","multiple","muted","selected"].forEach(function(i){M[i]=new F(i,3,!0,i,null,!1,!1)}),["capture","download"].forEach(function(i){M[i]=new F(i,4,!1,i,null,!1,!1)}),["cols","rows","size","span"].forEach(function(i){M[i]=new F(i,6,!1,i,null,!1,!1)}),["rowSpan","start"].forEach(function(i){M[i]=new F(i,5,!1,i.toLowerCase(),null,!1,!1)});var J=/[\-:]([a-z])/g;function se(i){return i[1].toUpperCase()}"accent-height alignment-baseline arabic-form baseline-shift cap-height clip-path clip-rule color-interpolation color-interpolation-filters color-profile color-rendering dominant-baseline enable-background fill-opacity fill-rule flood-color flood-opacity font-family font-size font-size-adjust font-stretch font-style font-variant font-weight glyph-name glyph-orientation-horizontal glyph-orientation-vertical horiz-adv-x horiz-origin-x image-rendering letter-spacing lighting-color marker-end marker-mid marker-start overline-position overline-thickness paint-order panose-1 pointer-events rendering-intent shape-rendering stop-color stop-opacity strikethrough-position strikethrough-thickness stroke-dasharray stroke-dashoffset stroke-linecap stroke-linejoin stroke-miterlimit stroke-opacity stroke-width text-anchor text-decoration text-rendering underline-position underline-thickness unicode-bidi unicode-range units-per-em v-alphabetic v-hanging v-ideographic v-mathematical vector-effect vert-adv-y vert-origin-x vert-origin-y word-spacing writing-mode xmlns:xlink x-height".split(" ").forEach(function(i){var o=i.replace(J,se);M[o]=new F(o,1,!1,i,null,!1,!1)}),"xlink:actuate xlink:arcrole xlink:role xlink:show xlink:title xlink:type".split(" ").forEach(function(i){var o=i.replace(J,se);M[o]=new F(o,1,!1,i,"http://www.w3.org/1999/xlink",!1,!1)}),["xml:base","xml:lang","xml:space"].forEach(function(i){var o=i.replace(J,se);M[o]=new F(o,1,!1,i,"http://www.w3.org/XML/1998/namespace",!1,!1)}),["tabIndex","crossOrigin"].forEach(function(i){M[i]=new F(i,1,!1,i.toLowerCase(),null,!1,!1)}),M.xlinkHref=new F("xlinkHref",1,!1,"xlink:href","http://www.w3.org/1999/xlink",!0,!1),["src","href","action","formAction"].forEach(function(i){M[i]=new F(i,1,!1,i.toLowerCase(),null,!0,!0)});function le(i,o,l,h){var p=M.hasOwnProperty(o)?M[o]:null;(p!==null?p.type!==0:h||!(2<o.length)||o[0]!=="o"&&o[0]!=="O"||o[1]!=="n"&&o[1]!=="N")&&(O(o,l,p,h)&&(l=null),h||p===null?w(o)&&(l===null?i.removeAttribute(o):i.setAttribute(o,""+l)):p.mustUseProperty?i[p.propertyName]=l===null?p.type===3?!1:"":l:(o=p.attributeName,h=p.attributeNamespace,l===null?i.removeAttribute(o):(p=p.type,l=p===3||p===4&&l===!0?"":""+l,h?i.setAttributeNS(h,o,l):i.setAttribute(o,l))))}var re=n.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED,ce=Symbol.for("react.element"),de=Symbol.for("react.portal"),k=Symbol.for("react.fragment"),S=Symbol.for("react.strict_mode"),C=Symbol.for("react.profiler"),V=Symbol.for("react.provider"),N=Symbol.for("react.context"),x=Symbol.for("react.forward_ref"),P=Symbol.for("react.suspense"),xe=Symbol.for("react.suspense_list"),B=Symbol.for("react.memo"),Q=Symbol.for("react.lazy"),me=Symbol.for("react.offscreen"),W=Symbol.iterator;function oe(i){return i===null||typeof i!="object"?null:(i=W&&i[W]||i["@@iterator"],typeof i=="function"?i:null)}var Y=Object.assign,U;function X(i){if(U===void 0)try{throw Error()}catch(l){var o=l.stack.trim().match(/\n( *(at )?)/);U=o&&o[1]||""}return`
`+U+i}var Ie=!1;function ke(i,o){if(!i||Ie)return"";Ie=!0;var l=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{if(o)if(o=function(){throw Error()},Object.defineProperty(o.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(o,[])}catch(H){var h=H}Reflect.construct(i,[],o)}else{try{o.call()}catch(H){h=H}i.call(o.prototype)}else{try{throw Error()}catch(H){h=H}i()}}catch(H){if(H&&h&&typeof H.stack=="string"){for(var p=H.stack.split(`
`),y=h.stack.split(`
`),T=p.length-1,R=y.length-1;1<=T&&0<=R&&p[T]!==y[R];)R--;for(;1<=T&&0<=R;T--,R--)if(p[T]!==y[R]){if(T!==1||R!==1)do if(T--,R--,0>R||p[T]!==y[R]){var b=`
`+p[T].replace(" at new "," at ");return i.displayName&&b.includes("<anonymous>")&&(b=b.replace("<anonymous>",i.displayName)),b}while(1<=T&&0<=R);break}}}finally{Ie=!1,Error.prepareStackTrace=l}return(i=i?i.displayName||i.name:"")?X(i):""}function Ve(i){switch(i.tag){case 5:return X(i.type);case 16:return X("Lazy");case 13:return X("Suspense");case 19:return X("SuspenseList");case 0:case 2:case 15:return i=ke(i.type,!1),i;case 11:return i=ke(i.type.render,!1),i;case 1:return i=ke(i.type,!0),i;default:return""}}function Me(i){if(i==null)return null;if(typeof i=="function")return i.displayName||i.name||null;if(typeof i=="string")return i;switch(i){case k:return"Fragment";case de:return"Portal";case C:return"Profiler";case S:return"StrictMode";case P:return"Suspense";case xe:return"SuspenseList"}if(typeof i=="object")switch(i.$$typeof){case N:return(i.displayName||"Context")+".Consumer";case V:return(i._context.displayName||"Context")+".Provider";case x:var o=i.render;return i=i.displayName,i||(i=o.displayName||o.name||"",i=i!==""?"ForwardRef("+i+")":"ForwardRef"),i;case B:return o=i.displayName||null,o!==null?o:Me(i.type)||"Memo";case Q:o=i._payload,i=i._init;try{return Me(i(o))}catch{}}return null}function Ge(i){var o=i.type;switch(i.tag){case 24:return"Cache";case 9:return(o.displayName||"Context")+".Consumer";case 10:return(o._context.displayName||"Context")+".Provider";case 18:return"DehydratedFragment";case 11:return i=o.render,i=i.displayName||i.name||"",o.displayName||(i!==""?"ForwardRef("+i+")":"ForwardRef");case 7:return"Fragment";case 5:return o;case 4:return"Portal";case 3:return"Root";case 6:return"Text";case 16:return Me(o);case 8:return o===S?"StrictMode":"Mode";case 22:return"Offscreen";case 12:return"Profiler";case 21:return"Scope";case 13:return"Suspense";case 19:return"SuspenseList";case 25:return"TracingMarker";case 1:case 0:case 17:case 2:case 14:case 15:if(typeof o=="function")return o.displayName||o.name||null;if(typeof o=="string")return o}return null}function $e(i){switch(typeof i){case"boolean":case"number":case"string":case"undefined":return i;case"object":return i;default:return""}}function Ye(i){var o=i.type;return(i=i.nodeName)&&i.toLowerCase()==="input"&&(o==="checkbox"||o==="radio")}function tn(i){var o=Ye(i)?"checked":"value",l=Object.getOwnPropertyDescriptor(i.constructor.prototype,o),h=""+i[o];if(!i.hasOwnProperty(o)&&typeof l<"u"&&typeof l.get=="function"&&typeof l.set=="function"){var p=l.get,y=l.set;return Object.defineProperty(i,o,{configurable:!0,get:function(){return p.call(this)},set:function(T){h=""+T,y.call(this,T)}}),Object.defineProperty(i,o,{enumerable:l.enumerable}),{getValue:function(){return h},setValue:function(T){h=""+T},stopTracking:function(){i._valueTracker=null,delete i[o]}}}}function fo(i){i._valueTracker||(i._valueTracker=tn(i))}function Ua(i){if(!i)return!1;var o=i._valueTracker;if(!o)return!0;var l=o.getValue(),h="";return i&&(h=Ye(i)?i.checked?"true":"false":i.value),i=h,i!==l?(o.setValue(i),!0):!1}function Ei(i){if(i=i||(typeof document<"u"?document:void 0),typeof i>"u")return null;try{return i.activeElement||i.body}catch{return i.body}}function po(i,o){var l=o.checked;return Y({},o,{defaultChecked:void 0,defaultValue:void 0,value:void 0,checked:l??i._wrapperState.initialChecked})}function ju(i,o){var l=o.defaultValue==null?"":o.defaultValue,h=o.checked!=null?o.checked:o.defaultChecked;l=$e(o.value!=null?o.value:l),i._wrapperState={initialChecked:h,initialValue:l,controlled:o.type==="checkbox"||o.type==="radio"?o.checked!=null:o.value!=null}}function mo(i,o){o=o.checked,o!=null&&le(i,"checked",o,!1)}function ys(i,o){mo(i,o);var l=$e(o.value),h=o.type;if(l!=null)h==="number"?(l===0&&i.value===""||i.value!=l)&&(i.value=""+l):i.value!==""+l&&(i.value=""+l);else if(h==="submit"||h==="reset"){i.removeAttribute("value");return}o.hasOwnProperty("value")?It(i,o.type,l):o.hasOwnProperty("defaultValue")&&It(i,o.type,$e(o.defaultValue)),o.checked==null&&o.defaultChecked!=null&&(i.defaultChecked=!!o.defaultChecked)}function Fa(i,o,l){if(o.hasOwnProperty("value")||o.hasOwnProperty("defaultValue")){var h=o.type;if(!(h!=="submit"&&h!=="reset"||o.value!==void 0&&o.value!==null))return;o=""+i._wrapperState.initialValue,l||o===i.value||(i.value=o),i.defaultValue=o}l=i.name,l!==""&&(i.name=""),i.defaultChecked=!!i._wrapperState.initialChecked,l!==""&&(i.name=l)}function It(i,o,l){(o!=="number"||Ei(i.ownerDocument)!==i)&&(l==null?i.defaultValue=""+i._wrapperState.initialValue:i.defaultValue!==""+l&&(i.defaultValue=""+l))}var vt=Array.isArray;function Gn(i,o,l,h){if(i=i.options,o){o={};for(var p=0;p<l.length;p++)o["$"+l[p]]=!0;for(l=0;l<i.length;l++)p=o.hasOwnProperty("$"+i[l].value),i[l].selected!==p&&(i[l].selected=p),p&&h&&(i[l].defaultSelected=!0)}else{for(l=""+$e(l),o=null,p=0;p<i.length;p++){if(i[p].value===l){i[p].selected=!0,h&&(i[p].defaultSelected=!0);return}o!==null||i[p].disabled||(o=i[p])}o!==null&&(o.selected=!0)}}function ja(i,o){if(o.dangerouslySetInnerHTML!=null)throw Error(t(91));return Y({},o,{value:void 0,defaultValue:void 0,children:""+i._wrapperState.initialValue})}function za(i,o){var l=o.value;if(l==null){if(l=o.children,o=o.defaultValue,l!=null){if(o!=null)throw Error(t(92));if(vt(l)){if(1<l.length)throw Error(t(93));l=l[0]}o=l}o==null&&(o=""),l=o}i._wrapperState={initialValue:$e(l)}}function zu(i,o){var l=$e(o.value),h=$e(o.defaultValue);l!=null&&(l=""+l,l!==i.value&&(i.value=l),o.defaultValue==null&&i.defaultValue!==l&&(i.defaultValue=l)),h!=null&&(i.defaultValue=""+h)}function Ti(i){var o=i.textContent;o===i._wrapperState.initialValue&&o!==""&&o!==null&&(i.value=o)}function Ba(i){switch(i){case"svg":return"http://www.w3.org/2000/svg";case"math":return"http://www.w3.org/1998/Math/MathML";default:return"http://www.w3.org/1999/xhtml"}}function go(i,o){return i==null||i==="http://www.w3.org/1999/xhtml"?Ba(o):i==="http://www.w3.org/2000/svg"&&o==="foreignObject"?"http://www.w3.org/1999/xhtml":i}var Ii,Bu=(function(i){return typeof MSApp<"u"&&MSApp.execUnsafeLocalFunction?function(o,l,h,p){MSApp.execUnsafeLocalFunction(function(){return i(o,l,h,p)})}:i})(function(i,o){if(i.namespaceURI!=="http://www.w3.org/2000/svg"||"innerHTML"in i)i.innerHTML=o;else{for(Ii=Ii||document.createElement("div"),Ii.innerHTML="<svg>"+o.valueOf().toString()+"</svg>",o=Ii.firstChild;i.firstChild;)i.removeChild(i.firstChild);for(;o.firstChild;)i.appendChild(o.firstChild)}});function _s(i,o){if(o){var l=i.firstChild;if(l&&l===i.lastChild&&l.nodeType===3){l.nodeValue=o;return}}i.textContent=o}var Si={animationIterationCount:!0,aspectRatio:!0,borderImageOutset:!0,borderImageSlice:!0,borderImageWidth:!0,boxFlex:!0,boxFlexGroup:!0,boxOrdinalGroup:!0,columnCount:!0,columns:!0,flex:!0,flexGrow:!0,flexPositive:!0,flexShrink:!0,flexNegative:!0,flexOrder:!0,gridArea:!0,gridRow:!0,gridRowEnd:!0,gridRowSpan:!0,gridRowStart:!0,gridColumn:!0,gridColumnEnd:!0,gridColumnSpan:!0,gridColumnStart:!0,fontWeight:!0,lineClamp:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,tabSize:!0,widows:!0,zIndex:!0,zoom:!0,fillOpacity:!0,floodOpacity:!0,stopOpacity:!0,strokeDasharray:!0,strokeDashoffset:!0,strokeMiterlimit:!0,strokeOpacity:!0,strokeWidth:!0},$u=["Webkit","ms","Moz","O"];Object.keys(Si).forEach(function(i){$u.forEach(function(o){o=o+i.charAt(0).toUpperCase()+i.substring(1),Si[o]=Si[i]})});function Ai(i,o,l){return o==null||typeof o=="boolean"||o===""?"":l||typeof o!="number"||o===0||Si.hasOwnProperty(i)&&Si[i]?(""+o).trim():o+"px"}function yo(i,o){i=i.style;for(var l in o)if(o.hasOwnProperty(l)){var h=l.indexOf("--")===0,p=Ai(l,o[l],h);l==="float"&&(l="cssFloat"),h?i.setProperty(l,p):i[l]=p}}var $a=Y({menuitem:!0},{area:!0,base:!0,br:!0,col:!0,embed:!0,hr:!0,img:!0,input:!0,keygen:!0,link:!0,meta:!0,param:!0,source:!0,track:!0,wbr:!0});function Kn(i,o){if(o){if($a[i]&&(o.children!=null||o.dangerouslySetInnerHTML!=null))throw Error(t(137,i));if(o.dangerouslySetInnerHTML!=null){if(o.children!=null)throw Error(t(60));if(typeof o.dangerouslySetInnerHTML!="object"||!("__html"in o.dangerouslySetInnerHTML))throw Error(t(61))}if(o.style!=null&&typeof o.style!="object")throw Error(t(62))}}function _o(i,o){if(i.indexOf("-")===-1)return typeof o.is=="string";switch(i){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var Ri=null;function vo(i){return i=i.target||i.srcElement||window,i.correspondingUseElement&&(i=i.correspondingUseElement),i.nodeType===3?i.parentNode:i}var jr=null,zr=null,dt=null;function Ha(i){if(i=yl(i)){if(typeof jr!="function")throw Error(t(280));var o=i.stateNode;o&&(o=gc(o),jr(i.stateNode,i.type,o))}}function Pi(i){zr?dt?dt.push(i):dt=[i]:zr=i}function ki(){if(zr){var i=zr,o=dt;if(dt=zr=null,Ha(i),o)for(i=0;i<o.length;i++)Ha(o[i])}}function Hu(i,o){return i(o)}function qu(){}var cr=!1;function Wu(i,o,l){if(cr)return i(o,l);cr=!0;try{return Hu(i,o,l)}finally{cr=!1,(zr!==null||dt!==null)&&(qu(),ki())}}function vs(i,o){var l=i.stateNode;if(l===null)return null;var h=gc(l);if(h===null)return null;l=h[o];e:switch(o){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(h=!h.disabled)||(i=i.type,h=!(i==="button"||i==="input"||i==="select"||i==="textarea")),i=!h;break e;default:i=!1}if(i)return null;if(l&&typeof l!="function")throw Error(t(231,o,typeof l));return l}var Ci=!1;if(d)try{var bi={};Object.defineProperty(bi,"passive",{get:function(){Ci=!0}}),window.addEventListener("test",bi,bi),window.removeEventListener("test",bi,bi)}catch{Ci=!1}function Gu(i,o,l,h,p,y,T,R,b){var H=Array.prototype.slice.call(arguments,3);try{o.apply(l,H)}catch(ee){this.onError(ee)}}var Br=!1,hr=null,wo=!1,Ln=null,Ku={onError:function(i){Br=!0,hr=i}};function Qu(i,o,l,h,p,y,T,R,b){Br=!1,hr=null,Gu.apply(Ku,arguments)}function qa(i,o,l,h,p,y,T,R,b){if(Qu.apply(this,arguments),Br){if(Br){var H=hr;Br=!1,hr=null}else throw Error(t(198));wo||(wo=!0,Ln=H)}}function Qn(i){var o=i,l=i;if(i.alternate)for(;o.return;)o=o.return;else{i=o;do o=i,(o.flags&4098)!==0&&(l=o.return),i=o.return;while(i)}return o.tag===3?l:null}function Wa(i){if(i.tag===13){var o=i.memoizedState;if(o===null&&(i=i.alternate,i!==null&&(o=i.memoizedState)),o!==null)return o.dehydrated}return null}function Yu(i){if(Qn(i)!==i)throw Error(t(188))}function Ju(i){var o=i.alternate;if(!o){if(o=Qn(i),o===null)throw Error(t(188));return o!==i?null:i}for(var l=i,h=o;;){var p=l.return;if(p===null)break;var y=p.alternate;if(y===null){if(h=p.return,h!==null){l=h;continue}break}if(p.child===y.child){for(y=p.child;y;){if(y===l)return Yu(p),i;if(y===h)return Yu(p),o;y=y.sibling}throw Error(t(188))}if(l.return!==h.return)l=p,h=y;else{for(var T=!1,R=p.child;R;){if(R===l){T=!0,l=p,h=y;break}if(R===h){T=!0,h=p,l=y;break}R=R.sibling}if(!T){for(R=y.child;R;){if(R===l){T=!0,l=y,h=p;break}if(R===h){T=!0,h=y,l=p;break}R=R.sibling}if(!T)throw Error(t(189))}}if(l.alternate!==h)throw Error(t(190))}if(l.tag!==3)throw Error(t(188));return l.stateNode.current===l?i:o}function Xu(i){return i=Ju(i),i!==null?ws(i):null}function ws(i){if(i.tag===5||i.tag===6)return i;for(i=i.child;i!==null;){var o=ws(i);if(o!==null)return o;i=i.sibling}return null}var Ga=e.unstable_scheduleCallback,Eo=e.unstable_cancelCallback,Es=e.unstable_shouldYield,$r=e.unstable_requestPaint,tt=e.unstable_now,Vd=e.unstable_getCurrentPriorityLevel,To=e.unstable_ImmediatePriority,Ka=e.unstable_UserBlockingPriority,Ts=e.unstable_NormalPriority,Qa=e.unstable_LowPriority,Io=e.unstable_IdlePriority,Is=null,En=null;function Zu(i){if(En&&typeof En.onCommitFiberRoot=="function")try{En.onCommitFiberRoot(Is,i,void 0,(i.current.flags&128)===128)}catch{}}var Tn=Math.clz32?Math.clz32:Ss,dr=Math.log,Vn=Math.LN2;function Ss(i){return i>>>=0,i===0?32:31-(dr(i)/Vn|0)|0}var fr=64,Ni=4194304;function We(i){switch(i&-i){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return i&4194240;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return i&130023424;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 1073741824;default:return i}}function Hr(i,o){var l=i.pendingLanes;if(l===0)return 0;var h=0,p=i.suspendedLanes,y=i.pingedLanes,T=l&268435455;if(T!==0){var R=T&~p;R!==0?h=We(R):(y&=T,y!==0&&(h=We(y)))}else T=l&~p,T!==0?h=We(T):y!==0&&(h=We(y));if(h===0)return 0;if(o!==0&&o!==h&&(o&p)===0&&(p=h&-h,y=o&-o,p>=y||p===16&&(y&4194240)!==0))return o;if((h&4)!==0&&(h|=l&16),o=i.entangledLanes,o!==0)for(i=i.entanglements,o&=h;0<o;)l=31-Tn(o),p=1<<l,h|=i[l],o&=~p;return h}function As(i,o){switch(i){case 1:case 2:case 4:return o+250;case 8:case 16:case 32:case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return o+5e3;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return-1;case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function Rs(i,o){for(var l=i.suspendedLanes,h=i.pingedLanes,p=i.expirationTimes,y=i.pendingLanes;0<y;){var T=31-Tn(y),R=1<<T,b=p[T];b===-1?((R&l)===0||(R&h)!==0)&&(p[T]=As(R,o)):b<=o&&(i.expiredLanes|=R),y&=~R}}function Ya(i){return i=i.pendingLanes&-1073741825,i!==0?i:i&1073741824?1073741824:0}function Ja(){var i=fr;return fr<<=1,(fr&4194240)===0&&(fr=64),i}function Xa(i){for(var o=[],l=0;31>l;l++)o.push(i);return o}function Ps(i,o,l){i.pendingLanes|=o,o!==536870912&&(i.suspendedLanes=0,i.pingedLanes=0),i=i.eventTimes,o=31-Tn(o),i[o]=l}function Md(i,o){var l=i.pendingLanes&~o;i.pendingLanes=o,i.suspendedLanes=0,i.pingedLanes=0,i.expiredLanes&=o,i.mutableReadLanes&=o,i.entangledLanes&=o,o=i.entanglements;var h=i.eventTimes;for(i=i.expirationTimes;0<l;){var p=31-Tn(l),y=1<<p;o[p]=0,h[p]=-1,i[p]=-1,l&=~y}}function Za(i,o){var l=i.entangledLanes|=o;for(i=i.entanglements;l;){var h=31-Tn(l),p=1<<h;p&o|i[h]&o&&(i[h]|=o),l&=~p}}var ze=0;function pr(i){return i&=-i,1<i?4<i?(i&268435455)!==0?16:536870912:4:1}var el,So,tl,nl,rl,mr=!1,Ao=[],gr=null,yr=null,Ut=null,ks=new Map,qr=new Map,In=[],ec="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset submit".split(" ");function xi(i,o){switch(i){case"focusin":case"focusout":gr=null;break;case"dragenter":case"dragleave":yr=null;break;case"mouseover":case"mouseout":Ut=null;break;case"pointerover":case"pointerout":ks.delete(o.pointerId);break;case"gotpointercapture":case"lostpointercapture":qr.delete(o.pointerId)}}function Yn(i,o,l,h,p,y){return i===null||i.nativeEvent!==y?(i={blockedOn:o,domEventName:l,eventSystemFlags:h,nativeEvent:y,targetContainers:[p]},o!==null&&(o=yl(o),o!==null&&So(o)),i):(i.eventSystemFlags|=h,o=i.targetContainers,p!==null&&o.indexOf(p)===-1&&o.push(p),i)}function tc(i,o,l,h,p){switch(o){case"focusin":return gr=Yn(gr,i,o,l,h,p),!0;case"dragenter":return yr=Yn(yr,i,o,l,h,p),!0;case"mouseover":return Ut=Yn(Ut,i,o,l,h,p),!0;case"pointerover":var y=p.pointerId;return ks.set(y,Yn(ks.get(y)||null,i,o,l,h,p)),!0;case"gotpointercapture":return y=p.pointerId,qr.set(y,Yn(qr.get(y)||null,i,o,l,h,p)),!0}return!1}function Ro(i){var o=xs(i.target);if(o!==null){var l=Qn(o);if(l!==null){if(o=l.tag,o===13){if(o=Wa(l),o!==null){i.blockedOn=o,rl(i.priority,function(){tl(l)});return}}else if(o===3&&l.stateNode.current.memoizedState.isDehydrated){i.blockedOn=l.tag===3?l.stateNode.containerInfo:null;return}}}i.blockedOn=null}function Je(i){if(i.blockedOn!==null)return!1;for(var o=i.targetContainers;0<o.length;){var l=Po(i.domEventName,i.eventSystemFlags,o[0],i.nativeEvent);if(l===null){l=i.nativeEvent;var h=new l.constructor(l.type,l);Ri=h,l.target.dispatchEvent(h),Ri=null}else return o=yl(l),o!==null&&So(o),i.blockedOn=l,!1;o.shift()}return!0}function nc(i,o,l){Je(i)&&l.delete(o)}function Ud(){mr=!1,gr!==null&&Je(gr)&&(gr=null),yr!==null&&Je(yr)&&(yr=null),Ut!==null&&Je(Ut)&&(Ut=null),ks.forEach(nc),qr.forEach(nc)}function Oi(i,o){i.blockedOn===o&&(i.blockedOn=null,mr||(mr=!0,e.unstable_scheduleCallback(e.unstable_NormalPriority,Ud)))}function Di(i){function o(p){return Oi(p,i)}if(0<Ao.length){Oi(Ao[0],i);for(var l=1;l<Ao.length;l++){var h=Ao[l];h.blockedOn===i&&(h.blockedOn=null)}}for(gr!==null&&Oi(gr,i),yr!==null&&Oi(yr,i),Ut!==null&&Oi(Ut,i),ks.forEach(o),qr.forEach(o),l=0;l<In.length;l++)h=In[l],h.blockedOn===i&&(h.blockedOn=null);for(;0<In.length&&(l=In[0],l.blockedOn===null);)Ro(l),l.blockedOn===null&&In.shift()}var Wr=re.ReactCurrentBatchConfig,Gr=!0;function _r(i,o,l,h){var p=ze,y=Wr.transition;Wr.transition=null;try{ze=1,il(i,o,l,h)}finally{ze=p,Wr.transition=y}}function rc(i,o,l,h){var p=ze,y=Wr.transition;Wr.transition=null;try{ze=4,il(i,o,l,h)}finally{ze=p,Wr.transition=y}}function il(i,o,l,h){if(Gr){var p=Po(i,o,l,h);if(p===null)Qd(i,o,h,vr,l),xi(i,h);else if(tc(p,i,o,l,h))h.stopPropagation();else if(xi(i,h),o&4&&-1<ec.indexOf(i)){for(;p!==null;){var y=yl(p);if(y!==null&&el(y),y=Po(i,o,l,h),y===null&&Qd(i,o,h,vr,l),y===p)break;p=y}p!==null&&h.stopPropagation()}else Qd(i,o,h,null,l)}}var vr=null;function Po(i,o,l,h){if(vr=null,i=vo(h),i=xs(i),i!==null)if(o=Qn(i),o===null)i=null;else if(l=o.tag,l===13){if(i=Wa(o),i!==null)return i;i=null}else if(l===3){if(o.stateNode.current.memoizedState.isDehydrated)return o.tag===3?o.stateNode.containerInfo:null;i=null}else o!==i&&(i=null);return vr=i,null}function ko(i){switch(i){case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 1;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"toggle":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 4;case"message":switch(Vd()){case To:return 1;case Ka:return 4;case Ts:case Qa:return 16;case Io:return 536870912;default:return 16}default:return 16}}var Sn=null,Co=null,Kr=null;function ic(){if(Kr)return Kr;var i,o=Co,l=o.length,h,p="value"in Sn?Sn.value:Sn.textContent,y=p.length;for(i=0;i<l&&o[i]===p[i];i++);var T=l-i;for(h=1;h<=T&&o[l-h]===p[y-h];h++);return Kr=p.slice(i,1<h?1-h:void 0)}function Cs(i){var o=i.keyCode;return"charCode"in i?(i=i.charCode,i===0&&o===13&&(i=13)):i=o,i===10&&(i=13),32<=i||i===13?i:0}function wr(){return!0}function sl(){return!1}function qt(i){function o(l,h,p,y,T){this._reactName=l,this._targetInst=p,this.type=h,this.nativeEvent=y,this.target=T,this.currentTarget=null;for(var R in i)i.hasOwnProperty(R)&&(l=i[R],this[R]=l?l(y):y[R]);return this.isDefaultPrevented=(y.defaultPrevented!=null?y.defaultPrevented:y.returnValue===!1)?wr:sl,this.isPropagationStopped=sl,this}return Y(o.prototype,{preventDefault:function(){this.defaultPrevented=!0;var l=this.nativeEvent;l&&(l.preventDefault?l.preventDefault():typeof l.returnValue!="unknown"&&(l.returnValue=!1),this.isDefaultPrevented=wr)},stopPropagation:function(){var l=this.nativeEvent;l&&(l.stopPropagation?l.stopPropagation():typeof l.cancelBubble!="unknown"&&(l.cancelBubble=!0),this.isPropagationStopped=wr)},persist:function(){},isPersistent:wr}),o}var Er={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(i){return i.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},bs=qt(Er),Li=Y({},Er,{view:0,detail:0}),bo=qt(Li),No,xo,An,Ns=Y({},Li,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:Oe,button:0,buttons:0,relatedTarget:function(i){return i.relatedTarget===void 0?i.fromElement===i.srcElement?i.toElement:i.fromElement:i.relatedTarget},movementX:function(i){return"movementX"in i?i.movementX:(i!==An&&(An&&i.type==="mousemove"?(No=i.screenX-An.screenX,xo=i.screenY-An.screenY):xo=No=0,An=i),No)},movementY:function(i){return"movementY"in i?i.movementY:xo}}),ol=qt(Ns),sc=Y({},Ns,{dataTransfer:0}),oc=qt(sc),Oo=Y({},Li,{relatedTarget:0}),Ft=qt(Oo),ac=Y({},Er,{animationName:0,elapsedTime:0,pseudoElement:0}),lc=qt(ac),Vi=Y({},Er,{clipboardData:function(i){return"clipboardData"in i?i.clipboardData:window.clipboardData}}),c=qt(Vi),_=Y({},Er,{data:0}),v=qt(_),I={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},z={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},q={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function ae(i){var o=this.nativeEvent;return o.getModifierState?o.getModifierState(i):(i=q[i])?!!o[i]:!1}function Oe(){return ae}var wt=Y({},Li,{key:function(i){if(i.key){var o=I[i.key]||i.key;if(o!=="Unidentified")return o}return i.type==="keypress"?(i=Cs(i),i===13?"Enter":String.fromCharCode(i)):i.type==="keydown"||i.type==="keyup"?z[i.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:Oe,charCode:function(i){return i.type==="keypress"?Cs(i):0},keyCode:function(i){return i.type==="keydown"||i.type==="keyup"?i.keyCode:0},which:function(i){return i.type==="keypress"?Cs(i):i.type==="keydown"||i.type==="keyup"?i.keyCode:0}}),Qe=qt(wt),St=Y({},Ns,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),Rn=qt(St),Qr=Y({},Li,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:Oe}),Tr=qt(Qr),Ir=Y({},Er,{propertyName:0,elapsedTime:0,pseudoElement:0}),Do=qt(Ir),al=Y({},Ns,{deltaX:function(i){return"deltaX"in i?i.deltaX:"wheelDeltaX"in i?-i.wheelDeltaX:0},deltaY:function(i){return"deltaY"in i?i.deltaY:"wheelDeltaY"in i?-i.wheelDeltaY:"wheelDelta"in i?-i.wheelDelta:0},deltaZ:0,deltaMode:0}),vA=qt(al),wA=[9,13,27,32],Fd=d&&"CompositionEvent"in window,ll=null;d&&"documentMode"in document&&(ll=document.documentMode);var EA=d&&"TextEvent"in window&&!ll,Xg=d&&(!Fd||ll&&8<ll&&11>=ll),Zg=" ",ey=!1;function ty(i,o){switch(i){case"keyup":return wA.indexOf(o.keyCode)!==-1;case"keydown":return o.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function ny(i){return i=i.detail,typeof i=="object"&&"data"in i?i.data:null}var Lo=!1;function TA(i,o){switch(i){case"compositionend":return ny(o);case"keypress":return o.which!==32?null:(ey=!0,Zg);case"textInput":return i=o.data,i===Zg&&ey?null:i;default:return null}}function IA(i,o){if(Lo)return i==="compositionend"||!Fd&&ty(i,o)?(i=ic(),Kr=Co=Sn=null,Lo=!1,i):null;switch(i){case"paste":return null;case"keypress":if(!(o.ctrlKey||o.altKey||o.metaKey)||o.ctrlKey&&o.altKey){if(o.char&&1<o.char.length)return o.char;if(o.which)return String.fromCharCode(o.which)}return null;case"compositionend":return Xg&&o.locale!=="ko"?null:o.data;default:return null}}var SA={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function ry(i){var o=i&&i.nodeName&&i.nodeName.toLowerCase();return o==="input"?!!SA[i.type]:o==="textarea"}function iy(i,o,l,h){Pi(h),o=fc(o,"onChange"),0<o.length&&(l=new bs("onChange","change",null,l,h),i.push({event:l,listeners:o}))}var ul=null,cl=null;function AA(i){Ty(i,0)}function uc(i){var o=jo(i);if(Ua(o))return i}function RA(i,o){if(i==="change")return o}var sy=!1;if(d){var jd;if(d){var zd="oninput"in document;if(!zd){var oy=document.createElement("div");oy.setAttribute("oninput","return;"),zd=typeof oy.oninput=="function"}jd=zd}else jd=!1;sy=jd&&(!document.documentMode||9<document.documentMode)}function ay(){ul&&(ul.detachEvent("onpropertychange",ly),cl=ul=null)}function ly(i){if(i.propertyName==="value"&&uc(cl)){var o=[];iy(o,cl,i,vo(i)),Wu(AA,o)}}function PA(i,o,l){i==="focusin"?(ay(),ul=o,cl=l,ul.attachEvent("onpropertychange",ly)):i==="focusout"&&ay()}function kA(i){if(i==="selectionchange"||i==="keyup"||i==="keydown")return uc(cl)}function CA(i,o){if(i==="click")return uc(o)}function bA(i,o){if(i==="input"||i==="change")return uc(o)}function NA(i,o){return i===o&&(i!==0||1/i===1/o)||i!==i&&o!==o}var Jn=typeof Object.is=="function"?Object.is:NA;function hl(i,o){if(Jn(i,o))return!0;if(typeof i!="object"||i===null||typeof o!="object"||o===null)return!1;var l=Object.keys(i),h=Object.keys(o);if(l.length!==h.length)return!1;for(h=0;h<l.length;h++){var p=l[h];if(!f.call(o,p)||!Jn(i[p],o[p]))return!1}return!0}function uy(i){for(;i&&i.firstChild;)i=i.firstChild;return i}function cy(i,o){var l=uy(i);i=0;for(var h;l;){if(l.nodeType===3){if(h=i+l.textContent.length,i<=o&&h>=o)return{node:l,offset:o-i};i=h}e:{for(;l;){if(l.nextSibling){l=l.nextSibling;break e}l=l.parentNode}l=void 0}l=uy(l)}}function hy(i,o){return i&&o?i===o?!0:i&&i.nodeType===3?!1:o&&o.nodeType===3?hy(i,o.parentNode):"contains"in i?i.contains(o):i.compareDocumentPosition?!!(i.compareDocumentPosition(o)&16):!1:!1}function dy(){for(var i=window,o=Ei();o instanceof i.HTMLIFrameElement;){try{var l=typeof o.contentWindow.location.href=="string"}catch{l=!1}if(l)i=o.contentWindow;else break;o=Ei(i.document)}return o}function Bd(i){var o=i&&i.nodeName&&i.nodeName.toLowerCase();return o&&(o==="input"&&(i.type==="text"||i.type==="search"||i.type==="tel"||i.type==="url"||i.type==="password")||o==="textarea"||i.contentEditable==="true")}function xA(i){var o=dy(),l=i.focusedElem,h=i.selectionRange;if(o!==l&&l&&l.ownerDocument&&hy(l.ownerDocument.documentElement,l)){if(h!==null&&Bd(l)){if(o=h.start,i=h.end,i===void 0&&(i=o),"selectionStart"in l)l.selectionStart=o,l.selectionEnd=Math.min(i,l.value.length);else if(i=(o=l.ownerDocument||document)&&o.defaultView||window,i.getSelection){i=i.getSelection();var p=l.textContent.length,y=Math.min(h.start,p);h=h.end===void 0?y:Math.min(h.end,p),!i.extend&&y>h&&(p=h,h=y,y=p),p=cy(l,y);var T=cy(l,h);p&&T&&(i.rangeCount!==1||i.anchorNode!==p.node||i.anchorOffset!==p.offset||i.focusNode!==T.node||i.focusOffset!==T.offset)&&(o=o.createRange(),o.setStart(p.node,p.offset),i.removeAllRanges(),y>h?(i.addRange(o),i.extend(T.node,T.offset)):(o.setEnd(T.node,T.offset),i.addRange(o)))}}for(o=[],i=l;i=i.parentNode;)i.nodeType===1&&o.push({element:i,left:i.scrollLeft,top:i.scrollTop});for(typeof l.focus=="function"&&l.focus(),l=0;l<o.length;l++)i=o[l],i.element.scrollLeft=i.left,i.element.scrollTop=i.top}}var OA=d&&"documentMode"in document&&11>=document.documentMode,Vo=null,$d=null,dl=null,Hd=!1;function fy(i,o,l){var h=l.window===l?l.document:l.nodeType===9?l:l.ownerDocument;Hd||Vo==null||Vo!==Ei(h)||(h=Vo,"selectionStart"in h&&Bd(h)?h={start:h.selectionStart,end:h.selectionEnd}:(h=(h.ownerDocument&&h.ownerDocument.defaultView||window).getSelection(),h={anchorNode:h.anchorNode,anchorOffset:h.anchorOffset,focusNode:h.focusNode,focusOffset:h.focusOffset}),dl&&hl(dl,h)||(dl=h,h=fc($d,"onSelect"),0<h.length&&(o=new bs("onSelect","select",null,o,l),i.push({event:o,listeners:h}),o.target=Vo)))}function cc(i,o){var l={};return l[i.toLowerCase()]=o.toLowerCase(),l["Webkit"+i]="webkit"+o,l["Moz"+i]="moz"+o,l}var Mo={animationend:cc("Animation","AnimationEnd"),animationiteration:cc("Animation","AnimationIteration"),animationstart:cc("Animation","AnimationStart"),transitionend:cc("Transition","TransitionEnd")},qd={},py={};d&&(py=document.createElement("div").style,"AnimationEvent"in window||(delete Mo.animationend.animation,delete Mo.animationiteration.animation,delete Mo.animationstart.animation),"TransitionEvent"in window||delete Mo.transitionend.transition);function hc(i){if(qd[i])return qd[i];if(!Mo[i])return i;var o=Mo[i],l;for(l in o)if(o.hasOwnProperty(l)&&l in py)return qd[i]=o[l];return i}var my=hc("animationend"),gy=hc("animationiteration"),yy=hc("animationstart"),_y=hc("transitionend"),vy=new Map,wy="abort auxClick cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");function Mi(i,o){vy.set(i,o),a(o,[i])}for(var Wd=0;Wd<wy.length;Wd++){var Gd=wy[Wd],DA=Gd.toLowerCase(),LA=Gd[0].toUpperCase()+Gd.slice(1);Mi(DA,"on"+LA)}Mi(my,"onAnimationEnd"),Mi(gy,"onAnimationIteration"),Mi(yy,"onAnimationStart"),Mi("dblclick","onDoubleClick"),Mi("focusin","onFocus"),Mi("focusout","onBlur"),Mi(_y,"onTransitionEnd"),u("onMouseEnter",["mouseout","mouseover"]),u("onMouseLeave",["mouseout","mouseover"]),u("onPointerEnter",["pointerout","pointerover"]),u("onPointerLeave",["pointerout","pointerover"]),a("onChange","change click focusin focusout input keydown keyup selectionchange".split(" ")),a("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" ")),a("onBeforeInput",["compositionend","keypress","textInput","paste"]),a("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" ")),a("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" ")),a("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var fl="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),VA=new Set("cancel close invalid load scroll toggle".split(" ").concat(fl));function Ey(i,o,l){var h=i.type||"unknown-event";i.currentTarget=l,qa(h,o,void 0,i),i.currentTarget=null}function Ty(i,o){o=(o&4)!==0;for(var l=0;l<i.length;l++){var h=i[l],p=h.event;h=h.listeners;e:{var y=void 0;if(o)for(var T=h.length-1;0<=T;T--){var R=h[T],b=R.instance,H=R.currentTarget;if(R=R.listener,b!==y&&p.isPropagationStopped())break e;Ey(p,R,H),y=b}else for(T=0;T<h.length;T++){if(R=h[T],b=R.instance,H=R.currentTarget,R=R.listener,b!==y&&p.isPropagationStopped())break e;Ey(p,R,H),y=b}}}if(wo)throw i=Ln,wo=!1,Ln=null,i}function nt(i,o){var l=o[tf];l===void 0&&(l=o[tf]=new Set);var h=i+"__bubble";l.has(h)||(Iy(o,i,2,!1),l.add(h))}function Kd(i,o,l){var h=0;o&&(h|=4),Iy(l,i,h,o)}var dc="_reactListening"+Math.random().toString(36).slice(2);function pl(i){if(!i[dc]){i[dc]=!0,r.forEach(function(l){l!=="selectionchange"&&(VA.has(l)||Kd(l,!1,i),Kd(l,!0,i))});var o=i.nodeType===9?i:i.ownerDocument;o===null||o[dc]||(o[dc]=!0,Kd("selectionchange",!1,o))}}function Iy(i,o,l,h){switch(ko(o)){case 1:var p=_r;break;case 4:p=rc;break;default:p=il}l=p.bind(null,o,l,i),p=void 0,!Ci||o!=="touchstart"&&o!=="touchmove"&&o!=="wheel"||(p=!0),h?p!==void 0?i.addEventListener(o,l,{capture:!0,passive:p}):i.addEventListener(o,l,!0):p!==void 0?i.addEventListener(o,l,{passive:p}):i.addEventListener(o,l,!1)}function Qd(i,o,l,h,p){var y=h;if((o&1)===0&&(o&2)===0&&h!==null)e:for(;;){if(h===null)return;var T=h.tag;if(T===3||T===4){var R=h.stateNode.containerInfo;if(R===p||R.nodeType===8&&R.parentNode===p)break;if(T===4)for(T=h.return;T!==null;){var b=T.tag;if((b===3||b===4)&&(b=T.stateNode.containerInfo,b===p||b.nodeType===8&&b.parentNode===p))return;T=T.return}for(;R!==null;){if(T=xs(R),T===null)return;if(b=T.tag,b===5||b===6){h=y=T;continue e}R=R.parentNode}}h=h.return}Wu(function(){var H=y,ee=vo(l),te=[];e:{var Z=vy.get(i);if(Z!==void 0){var fe=bs,_e=i;switch(i){case"keypress":if(Cs(l)===0)break e;case"keydown":case"keyup":fe=Qe;break;case"focusin":_e="focus",fe=Ft;break;case"focusout":_e="blur",fe=Ft;break;case"beforeblur":case"afterblur":fe=Ft;break;case"click":if(l.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":fe=ol;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":fe=oc;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":fe=Tr;break;case my:case gy:case yy:fe=lc;break;case _y:fe=Do;break;case"scroll":fe=bo;break;case"wheel":fe=vA;break;case"copy":case"cut":case"paste":fe=c;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":fe=Rn}var we=(o&4)!==0,Et=!we&&i==="scroll",j=we?Z!==null?Z+"Capture":null:Z;we=[];for(var L=H,$;L!==null;){$=L;var ie=$.stateNode;if($.tag===5&&ie!==null&&($=ie,j!==null&&(ie=vs(L,j),ie!=null&&we.push(ml(L,ie,$)))),Et)break;L=L.return}0<we.length&&(Z=new fe(Z,_e,null,l,ee),te.push({event:Z,listeners:we}))}}if((o&7)===0){e:{if(Z=i==="mouseover"||i==="pointerover",fe=i==="mouseout"||i==="pointerout",Z&&l!==Ri&&(_e=l.relatedTarget||l.fromElement)&&(xs(_e)||_e[Yr]))break e;if((fe||Z)&&(Z=ee.window===ee?ee:(Z=ee.ownerDocument)?Z.defaultView||Z.parentWindow:window,fe?(_e=l.relatedTarget||l.toElement,fe=H,_e=_e?xs(_e):null,_e!==null&&(Et=Qn(_e),_e!==Et||_e.tag!==5&&_e.tag!==6)&&(_e=null)):(fe=null,_e=H),fe!==_e)){if(we=ol,ie="onMouseLeave",j="onMouseEnter",L="mouse",(i==="pointerout"||i==="pointerover")&&(we=Rn,ie="onPointerLeave",j="onPointerEnter",L="pointer"),Et=fe==null?Z:jo(fe),$=_e==null?Z:jo(_e),Z=new we(ie,L+"leave",fe,l,ee),Z.target=Et,Z.relatedTarget=$,ie=null,xs(ee)===H&&(we=new we(j,L+"enter",_e,l,ee),we.target=$,we.relatedTarget=Et,ie=we),Et=ie,fe&&_e)t:{for(we=fe,j=_e,L=0,$=we;$;$=Uo($))L++;for($=0,ie=j;ie;ie=Uo(ie))$++;for(;0<L-$;)we=Uo(we),L--;for(;0<$-L;)j=Uo(j),$--;for(;L--;){if(we===j||j!==null&&we===j.alternate)break t;we=Uo(we),j=Uo(j)}we=null}else we=null;fe!==null&&Sy(te,Z,fe,we,!1),_e!==null&&Et!==null&&Sy(te,Et,_e,we,!0)}}e:{if(Z=H?jo(H):window,fe=Z.nodeName&&Z.nodeName.toLowerCase(),fe==="select"||fe==="input"&&Z.type==="file")var Te=RA;else if(ry(Z))if(sy)Te=bA;else{Te=kA;var Ae=PA}else(fe=Z.nodeName)&&fe.toLowerCase()==="input"&&(Z.type==="checkbox"||Z.type==="radio")&&(Te=CA);if(Te&&(Te=Te(i,H))){iy(te,Te,l,ee);break e}Ae&&Ae(i,Z,H),i==="focusout"&&(Ae=Z._wrapperState)&&Ae.controlled&&Z.type==="number"&&It(Z,"number",Z.value)}switch(Ae=H?jo(H):window,i){case"focusin":(ry(Ae)||Ae.contentEditable==="true")&&(Vo=Ae,$d=H,dl=null);break;case"focusout":dl=$d=Vo=null;break;case"mousedown":Hd=!0;break;case"contextmenu":case"mouseup":case"dragend":Hd=!1,fy(te,l,ee);break;case"selectionchange":if(OA)break;case"keydown":case"keyup":fy(te,l,ee)}var Re;if(Fd)e:{switch(i){case"compositionstart":var Ce="onCompositionStart";break e;case"compositionend":Ce="onCompositionEnd";break e;case"compositionupdate":Ce="onCompositionUpdate";break e}Ce=void 0}else Lo?ty(i,l)&&(Ce="onCompositionEnd"):i==="keydown"&&l.keyCode===229&&(Ce="onCompositionStart");Ce&&(Xg&&l.locale!=="ko"&&(Lo||Ce!=="onCompositionStart"?Ce==="onCompositionEnd"&&Lo&&(Re=ic()):(Sn=ee,Co="value"in Sn?Sn.value:Sn.textContent,Lo=!0)),Ae=fc(H,Ce),0<Ae.length&&(Ce=new v(Ce,i,null,l,ee),te.push({event:Ce,listeners:Ae}),Re?Ce.data=Re:(Re=ny(l),Re!==null&&(Ce.data=Re)))),(Re=EA?TA(i,l):IA(i,l))&&(H=fc(H,"onBeforeInput"),0<H.length&&(ee=new v("onBeforeInput","beforeinput",null,l,ee),te.push({event:ee,listeners:H}),ee.data=Re))}Ty(te,o)})}function ml(i,o,l){return{instance:i,listener:o,currentTarget:l}}function fc(i,o){for(var l=o+"Capture",h=[];i!==null;){var p=i,y=p.stateNode;p.tag===5&&y!==null&&(p=y,y=vs(i,l),y!=null&&h.unshift(ml(i,y,p)),y=vs(i,o),y!=null&&h.push(ml(i,y,p))),i=i.return}return h}function Uo(i){if(i===null)return null;do i=i.return;while(i&&i.tag!==5);return i||null}function Sy(i,o,l,h,p){for(var y=o._reactName,T=[];l!==null&&l!==h;){var R=l,b=R.alternate,H=R.stateNode;if(b!==null&&b===h)break;R.tag===5&&H!==null&&(R=H,p?(b=vs(l,y),b!=null&&T.unshift(ml(l,b,R))):p||(b=vs(l,y),b!=null&&T.push(ml(l,b,R)))),l=l.return}T.length!==0&&i.push({event:o,listeners:T})}var MA=/\r\n?/g,UA=/\u0000|\uFFFD/g;function Ay(i){return(typeof i=="string"?i:""+i).replace(MA,`
`).replace(UA,"")}function pc(i,o,l){if(o=Ay(o),Ay(i)!==o&&l)throw Error(t(425))}function mc(){}var Yd=null,Jd=null;function Xd(i,o){return i==="textarea"||i==="noscript"||typeof o.children=="string"||typeof o.children=="number"||typeof o.dangerouslySetInnerHTML=="object"&&o.dangerouslySetInnerHTML!==null&&o.dangerouslySetInnerHTML.__html!=null}var Zd=typeof setTimeout=="function"?setTimeout:void 0,FA=typeof clearTimeout=="function"?clearTimeout:void 0,Ry=typeof Promise=="function"?Promise:void 0,jA=typeof queueMicrotask=="function"?queueMicrotask:typeof Ry<"u"?function(i){return Ry.resolve(null).then(i).catch(zA)}:Zd;function zA(i){setTimeout(function(){throw i})}function ef(i,o){var l=o,h=0;do{var p=l.nextSibling;if(i.removeChild(l),p&&p.nodeType===8)if(l=p.data,l==="/$"){if(h===0){i.removeChild(p),Di(o);return}h--}else l!=="$"&&l!=="$?"&&l!=="$!"||h++;l=p}while(l);Di(o)}function Ui(i){for(;i!=null;i=i.nextSibling){var o=i.nodeType;if(o===1||o===3)break;if(o===8){if(o=i.data,o==="$"||o==="$!"||o==="$?")break;if(o==="/$")return null}}return i}function Py(i){i=i.previousSibling;for(var o=0;i;){if(i.nodeType===8){var l=i.data;if(l==="$"||l==="$!"||l==="$?"){if(o===0)return i;o--}else l==="/$"&&o++}i=i.previousSibling}return null}var Fo=Math.random().toString(36).slice(2),Sr="__reactFiber$"+Fo,gl="__reactProps$"+Fo,Yr="__reactContainer$"+Fo,tf="__reactEvents$"+Fo,BA="__reactListeners$"+Fo,$A="__reactHandles$"+Fo;function xs(i){var o=i[Sr];if(o)return o;for(var l=i.parentNode;l;){if(o=l[Yr]||l[Sr]){if(l=o.alternate,o.child!==null||l!==null&&l.child!==null)for(i=Py(i);i!==null;){if(l=i[Sr])return l;i=Py(i)}return o}i=l,l=i.parentNode}return null}function yl(i){return i=i[Sr]||i[Yr],!i||i.tag!==5&&i.tag!==6&&i.tag!==13&&i.tag!==3?null:i}function jo(i){if(i.tag===5||i.tag===6)return i.stateNode;throw Error(t(33))}function gc(i){return i[gl]||null}var nf=[],zo=-1;function Fi(i){return{current:i}}function rt(i){0>zo||(i.current=nf[zo],nf[zo]=null,zo--)}function Ze(i,o){zo++,nf[zo]=i.current,i.current=o}var ji={},Wt=Fi(ji),hn=Fi(!1),Os=ji;function Bo(i,o){var l=i.type.contextTypes;if(!l)return ji;var h=i.stateNode;if(h&&h.__reactInternalMemoizedUnmaskedChildContext===o)return h.__reactInternalMemoizedMaskedChildContext;var p={},y;for(y in l)p[y]=o[y];return h&&(i=i.stateNode,i.__reactInternalMemoizedUnmaskedChildContext=o,i.__reactInternalMemoizedMaskedChildContext=p),p}function dn(i){return i=i.childContextTypes,i!=null}function yc(){rt(hn),rt(Wt)}function ky(i,o,l){if(Wt.current!==ji)throw Error(t(168));Ze(Wt,o),Ze(hn,l)}function Cy(i,o,l){var h=i.stateNode;if(o=o.childContextTypes,typeof h.getChildContext!="function")return l;h=h.getChildContext();for(var p in h)if(!(p in o))throw Error(t(108,Ge(i)||"Unknown",p));return Y({},l,h)}function _c(i){return i=(i=i.stateNode)&&i.__reactInternalMemoizedMergedChildContext||ji,Os=Wt.current,Ze(Wt,i),Ze(hn,hn.current),!0}function by(i,o,l){var h=i.stateNode;if(!h)throw Error(t(169));l?(i=Cy(i,o,Os),h.__reactInternalMemoizedMergedChildContext=i,rt(hn),rt(Wt),Ze(Wt,i)):rt(hn),Ze(hn,l)}var Jr=null,vc=!1,rf=!1;function Ny(i){Jr===null?Jr=[i]:Jr.push(i)}function HA(i){vc=!0,Ny(i)}function zi(){if(!rf&&Jr!==null){rf=!0;var i=0,o=ze;try{var l=Jr;for(ze=1;i<l.length;i++){var h=l[i];do h=h(!0);while(h!==null)}Jr=null,vc=!1}catch(p){throw Jr!==null&&(Jr=Jr.slice(i+1)),Ga(To,zi),p}finally{ze=o,rf=!1}}return null}var $o=[],Ho=0,wc=null,Ec=0,Mn=[],Un=0,Ds=null,Xr=1,Zr="";function Ls(i,o){$o[Ho++]=Ec,$o[Ho++]=wc,wc=i,Ec=o}function xy(i,o,l){Mn[Un++]=Xr,Mn[Un++]=Zr,Mn[Un++]=Ds,Ds=i;var h=Xr;i=Zr;var p=32-Tn(h)-1;h&=~(1<<p),l+=1;var y=32-Tn(o)+p;if(30<y){var T=p-p%5;y=(h&(1<<T)-1).toString(32),h>>=T,p-=T,Xr=1<<32-Tn(o)+p|l<<p|h,Zr=y+i}else Xr=1<<y|l<<p|h,Zr=i}function sf(i){i.return!==null&&(Ls(i,1),xy(i,1,0))}function of(i){for(;i===wc;)wc=$o[--Ho],$o[Ho]=null,Ec=$o[--Ho],$o[Ho]=null;for(;i===Ds;)Ds=Mn[--Un],Mn[Un]=null,Zr=Mn[--Un],Mn[Un]=null,Xr=Mn[--Un],Mn[Un]=null}var Pn=null,kn=null,lt=!1,Xn=null;function Oy(i,o){var l=Bn(5,null,null,0);l.elementType="DELETED",l.stateNode=o,l.return=i,o=i.deletions,o===null?(i.deletions=[l],i.flags|=16):o.push(l)}function Dy(i,o){switch(i.tag){case 5:var l=i.type;return o=o.nodeType!==1||l.toLowerCase()!==o.nodeName.toLowerCase()?null:o,o!==null?(i.stateNode=o,Pn=i,kn=Ui(o.firstChild),!0):!1;case 6:return o=i.pendingProps===""||o.nodeType!==3?null:o,o!==null?(i.stateNode=o,Pn=i,kn=null,!0):!1;case 13:return o=o.nodeType!==8?null:o,o!==null?(l=Ds!==null?{id:Xr,overflow:Zr}:null,i.memoizedState={dehydrated:o,treeContext:l,retryLane:1073741824},l=Bn(18,null,null,0),l.stateNode=o,l.return=i,i.child=l,Pn=i,kn=null,!0):!1;default:return!1}}function af(i){return(i.mode&1)!==0&&(i.flags&128)===0}function lf(i){if(lt){var o=kn;if(o){var l=o;if(!Dy(i,o)){if(af(i))throw Error(t(418));o=Ui(l.nextSibling);var h=Pn;o&&Dy(i,o)?Oy(h,l):(i.flags=i.flags&-4097|2,lt=!1,Pn=i)}}else{if(af(i))throw Error(t(418));i.flags=i.flags&-4097|2,lt=!1,Pn=i}}}function Ly(i){for(i=i.return;i!==null&&i.tag!==5&&i.tag!==3&&i.tag!==13;)i=i.return;Pn=i}function Tc(i){if(i!==Pn)return!1;if(!lt)return Ly(i),lt=!0,!1;var o;if((o=i.tag!==3)&&!(o=i.tag!==5)&&(o=i.type,o=o!=="head"&&o!=="body"&&!Xd(i.type,i.memoizedProps)),o&&(o=kn)){if(af(i))throw Vy(),Error(t(418));for(;o;)Oy(i,o),o=Ui(o.nextSibling)}if(Ly(i),i.tag===13){if(i=i.memoizedState,i=i!==null?i.dehydrated:null,!i)throw Error(t(317));e:{for(i=i.nextSibling,o=0;i;){if(i.nodeType===8){var l=i.data;if(l==="/$"){if(o===0){kn=Ui(i.nextSibling);break e}o--}else l!=="$"&&l!=="$!"&&l!=="$?"||o++}i=i.nextSibling}kn=null}}else kn=Pn?Ui(i.stateNode.nextSibling):null;return!0}function Vy(){for(var i=kn;i;)i=Ui(i.nextSibling)}function qo(){kn=Pn=null,lt=!1}function uf(i){Xn===null?Xn=[i]:Xn.push(i)}var qA=re.ReactCurrentBatchConfig;function _l(i,o,l){if(i=l.ref,i!==null&&typeof i!="function"&&typeof i!="object"){if(l._owner){if(l=l._owner,l){if(l.tag!==1)throw Error(t(309));var h=l.stateNode}if(!h)throw Error(t(147,i));var p=h,y=""+i;return o!==null&&o.ref!==null&&typeof o.ref=="function"&&o.ref._stringRef===y?o.ref:(o=function(T){var R=p.refs;T===null?delete R[y]:R[y]=T},o._stringRef=y,o)}if(typeof i!="string")throw Error(t(284));if(!l._owner)throw Error(t(290,i))}return i}function Ic(i,o){throw i=Object.prototype.toString.call(o),Error(t(31,i==="[object Object]"?"object with keys {"+Object.keys(o).join(", ")+"}":i))}function My(i){var o=i._init;return o(i._payload)}function Uy(i){function o(j,L){if(i){var $=j.deletions;$===null?(j.deletions=[L],j.flags|=16):$.push(L)}}function l(j,L){if(!i)return null;for(;L!==null;)o(j,L),L=L.sibling;return null}function h(j,L){for(j=new Map;L!==null;)L.key!==null?j.set(L.key,L):j.set(L.index,L),L=L.sibling;return j}function p(j,L){return j=Qi(j,L),j.index=0,j.sibling=null,j}function y(j,L,$){return j.index=$,i?($=j.alternate,$!==null?($=$.index,$<L?(j.flags|=2,L):$):(j.flags|=2,L)):(j.flags|=1048576,L)}function T(j){return i&&j.alternate===null&&(j.flags|=2),j}function R(j,L,$,ie){return L===null||L.tag!==6?(L=ep($,j.mode,ie),L.return=j,L):(L=p(L,$),L.return=j,L)}function b(j,L,$,ie){var Te=$.type;return Te===k?ee(j,L,$.props.children,ie,$.key):L!==null&&(L.elementType===Te||typeof Te=="object"&&Te!==null&&Te.$$typeof===Q&&My(Te)===L.type)?(ie=p(L,$.props),ie.ref=_l(j,L,$),ie.return=j,ie):(ie=Gc($.type,$.key,$.props,null,j.mode,ie),ie.ref=_l(j,L,$),ie.return=j,ie)}function H(j,L,$,ie){return L===null||L.tag!==4||L.stateNode.containerInfo!==$.containerInfo||L.stateNode.implementation!==$.implementation?(L=tp($,j.mode,ie),L.return=j,L):(L=p(L,$.children||[]),L.return=j,L)}function ee(j,L,$,ie,Te){return L===null||L.tag!==7?(L=$s($,j.mode,ie,Te),L.return=j,L):(L=p(L,$),L.return=j,L)}function te(j,L,$){if(typeof L=="string"&&L!==""||typeof L=="number")return L=ep(""+L,j.mode,$),L.return=j,L;if(typeof L=="object"&&L!==null){switch(L.$$typeof){case ce:return $=Gc(L.type,L.key,L.props,null,j.mode,$),$.ref=_l(j,null,L),$.return=j,$;case de:return L=tp(L,j.mode,$),L.return=j,L;case Q:var ie=L._init;return te(j,ie(L._payload),$)}if(vt(L)||oe(L))return L=$s(L,j.mode,$,null),L.return=j,L;Ic(j,L)}return null}function Z(j,L,$,ie){var Te=L!==null?L.key:null;if(typeof $=="string"&&$!==""||typeof $=="number")return Te!==null?null:R(j,L,""+$,ie);if(typeof $=="object"&&$!==null){switch($.$$typeof){case ce:return $.key===Te?b(j,L,$,ie):null;case de:return $.key===Te?H(j,L,$,ie):null;case Q:return Te=$._init,Z(j,L,Te($._payload),ie)}if(vt($)||oe($))return Te!==null?null:ee(j,L,$,ie,null);Ic(j,$)}return null}function fe(j,L,$,ie,Te){if(typeof ie=="string"&&ie!==""||typeof ie=="number")return j=j.get($)||null,R(L,j,""+ie,Te);if(typeof ie=="object"&&ie!==null){switch(ie.$$typeof){case ce:return j=j.get(ie.key===null?$:ie.key)||null,b(L,j,ie,Te);case de:return j=j.get(ie.key===null?$:ie.key)||null,H(L,j,ie,Te);case Q:var Ae=ie._init;return fe(j,L,$,Ae(ie._payload),Te)}if(vt(ie)||oe(ie))return j=j.get($)||null,ee(L,j,ie,Te,null);Ic(L,ie)}return null}function _e(j,L,$,ie){for(var Te=null,Ae=null,Re=L,Ce=L=0,Lt=null;Re!==null&&Ce<$.length;Ce++){Re.index>Ce?(Lt=Re,Re=null):Lt=Re.sibling;var qe=Z(j,Re,$[Ce],ie);if(qe===null){Re===null&&(Re=Lt);break}i&&Re&&qe.alternate===null&&o(j,Re),L=y(qe,L,Ce),Ae===null?Te=qe:Ae.sibling=qe,Ae=qe,Re=Lt}if(Ce===$.length)return l(j,Re),lt&&Ls(j,Ce),Te;if(Re===null){for(;Ce<$.length;Ce++)Re=te(j,$[Ce],ie),Re!==null&&(L=y(Re,L,Ce),Ae===null?Te=Re:Ae.sibling=Re,Ae=Re);return lt&&Ls(j,Ce),Te}for(Re=h(j,Re);Ce<$.length;Ce++)Lt=fe(Re,j,Ce,$[Ce],ie),Lt!==null&&(i&&Lt.alternate!==null&&Re.delete(Lt.key===null?Ce:Lt.key),L=y(Lt,L,Ce),Ae===null?Te=Lt:Ae.sibling=Lt,Ae=Lt);return i&&Re.forEach(function(Yi){return o(j,Yi)}),lt&&Ls(j,Ce),Te}function we(j,L,$,ie){var Te=oe($);if(typeof Te!="function")throw Error(t(150));if($=Te.call($),$==null)throw Error(t(151));for(var Ae=Te=null,Re=L,Ce=L=0,Lt=null,qe=$.next();Re!==null&&!qe.done;Ce++,qe=$.next()){Re.index>Ce?(Lt=Re,Re=null):Lt=Re.sibling;var Yi=Z(j,Re,qe.value,ie);if(Yi===null){Re===null&&(Re=Lt);break}i&&Re&&Yi.alternate===null&&o(j,Re),L=y(Yi,L,Ce),Ae===null?Te=Yi:Ae.sibling=Yi,Ae=Yi,Re=Lt}if(qe.done)return l(j,Re),lt&&Ls(j,Ce),Te;if(Re===null){for(;!qe.done;Ce++,qe=$.next())qe=te(j,qe.value,ie),qe!==null&&(L=y(qe,L,Ce),Ae===null?Te=qe:Ae.sibling=qe,Ae=qe);return lt&&Ls(j,Ce),Te}for(Re=h(j,Re);!qe.done;Ce++,qe=$.next())qe=fe(Re,j,Ce,qe.value,ie),qe!==null&&(i&&qe.alternate!==null&&Re.delete(qe.key===null?Ce:qe.key),L=y(qe,L,Ce),Ae===null?Te=qe:Ae.sibling=qe,Ae=qe);return i&&Re.forEach(function(SR){return o(j,SR)}),lt&&Ls(j,Ce),Te}function Et(j,L,$,ie){if(typeof $=="object"&&$!==null&&$.type===k&&$.key===null&&($=$.props.children),typeof $=="object"&&$!==null){switch($.$$typeof){case ce:e:{for(var Te=$.key,Ae=L;Ae!==null;){if(Ae.key===Te){if(Te=$.type,Te===k){if(Ae.tag===7){l(j,Ae.sibling),L=p(Ae,$.props.children),L.return=j,j=L;break e}}else if(Ae.elementType===Te||typeof Te=="object"&&Te!==null&&Te.$$typeof===Q&&My(Te)===Ae.type){l(j,Ae.sibling),L=p(Ae,$.props),L.ref=_l(j,Ae,$),L.return=j,j=L;break e}l(j,Ae);break}else o(j,Ae);Ae=Ae.sibling}$.type===k?(L=$s($.props.children,j.mode,ie,$.key),L.return=j,j=L):(ie=Gc($.type,$.key,$.props,null,j.mode,ie),ie.ref=_l(j,L,$),ie.return=j,j=ie)}return T(j);case de:e:{for(Ae=$.key;L!==null;){if(L.key===Ae)if(L.tag===4&&L.stateNode.containerInfo===$.containerInfo&&L.stateNode.implementation===$.implementation){l(j,L.sibling),L=p(L,$.children||[]),L.return=j,j=L;break e}else{l(j,L);break}else o(j,L);L=L.sibling}L=tp($,j.mode,ie),L.return=j,j=L}return T(j);case Q:return Ae=$._init,Et(j,L,Ae($._payload),ie)}if(vt($))return _e(j,L,$,ie);if(oe($))return we(j,L,$,ie);Ic(j,$)}return typeof $=="string"&&$!==""||typeof $=="number"?($=""+$,L!==null&&L.tag===6?(l(j,L.sibling),L=p(L,$),L.return=j,j=L):(l(j,L),L=ep($,j.mode,ie),L.return=j,j=L),T(j)):l(j,L)}return Et}var Wo=Uy(!0),Fy=Uy(!1),Sc=Fi(null),Ac=null,Go=null,cf=null;function hf(){cf=Go=Ac=null}function df(i){var o=Sc.current;rt(Sc),i._currentValue=o}function ff(i,o,l){for(;i!==null;){var h=i.alternate;if((i.childLanes&o)!==o?(i.childLanes|=o,h!==null&&(h.childLanes|=o)):h!==null&&(h.childLanes&o)!==o&&(h.childLanes|=o),i===l)break;i=i.return}}function Ko(i,o){Ac=i,cf=Go=null,i=i.dependencies,i!==null&&i.firstContext!==null&&((i.lanes&o)!==0&&(fn=!0),i.firstContext=null)}function Fn(i){var o=i._currentValue;if(cf!==i)if(i={context:i,memoizedValue:o,next:null},Go===null){if(Ac===null)throw Error(t(308));Go=i,Ac.dependencies={lanes:0,firstContext:i}}else Go=Go.next=i;return o}var Vs=null;function pf(i){Vs===null?Vs=[i]:Vs.push(i)}function jy(i,o,l,h){var p=o.interleaved;return p===null?(l.next=l,pf(o)):(l.next=p.next,p.next=l),o.interleaved=l,ei(i,h)}function ei(i,o){i.lanes|=o;var l=i.alternate;for(l!==null&&(l.lanes|=o),l=i,i=i.return;i!==null;)i.childLanes|=o,l=i.alternate,l!==null&&(l.childLanes|=o),l=i,i=i.return;return l.tag===3?l.stateNode:null}var Bi=!1;function mf(i){i.updateQueue={baseState:i.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,interleaved:null,lanes:0},effects:null}}function zy(i,o){i=i.updateQueue,o.updateQueue===i&&(o.updateQueue={baseState:i.baseState,firstBaseUpdate:i.firstBaseUpdate,lastBaseUpdate:i.lastBaseUpdate,shared:i.shared,effects:i.effects})}function ti(i,o){return{eventTime:i,lane:o,tag:0,payload:null,callback:null,next:null}}function $i(i,o,l){var h=i.updateQueue;if(h===null)return null;if(h=h.shared,(He&2)!==0){var p=h.pending;return p===null?o.next=o:(o.next=p.next,p.next=o),h.pending=o,ei(i,l)}return p=h.interleaved,p===null?(o.next=o,pf(h)):(o.next=p.next,p.next=o),h.interleaved=o,ei(i,l)}function Rc(i,o,l){if(o=o.updateQueue,o!==null&&(o=o.shared,(l&4194240)!==0)){var h=o.lanes;h&=i.pendingLanes,l|=h,o.lanes=l,Za(i,l)}}function By(i,o){var l=i.updateQueue,h=i.alternate;if(h!==null&&(h=h.updateQueue,l===h)){var p=null,y=null;if(l=l.firstBaseUpdate,l!==null){do{var T={eventTime:l.eventTime,lane:l.lane,tag:l.tag,payload:l.payload,callback:l.callback,next:null};y===null?p=y=T:y=y.next=T,l=l.next}while(l!==null);y===null?p=y=o:y=y.next=o}else p=y=o;l={baseState:h.baseState,firstBaseUpdate:p,lastBaseUpdate:y,shared:h.shared,effects:h.effects},i.updateQueue=l;return}i=l.lastBaseUpdate,i===null?l.firstBaseUpdate=o:i.next=o,l.lastBaseUpdate=o}function Pc(i,o,l,h){var p=i.updateQueue;Bi=!1;var y=p.firstBaseUpdate,T=p.lastBaseUpdate,R=p.shared.pending;if(R!==null){p.shared.pending=null;var b=R,H=b.next;b.next=null,T===null?y=H:T.next=H,T=b;var ee=i.alternate;ee!==null&&(ee=ee.updateQueue,R=ee.lastBaseUpdate,R!==T&&(R===null?ee.firstBaseUpdate=H:R.next=H,ee.lastBaseUpdate=b))}if(y!==null){var te=p.baseState;T=0,ee=H=b=null,R=y;do{var Z=R.lane,fe=R.eventTime;if((h&Z)===Z){ee!==null&&(ee=ee.next={eventTime:fe,lane:0,tag:R.tag,payload:R.payload,callback:R.callback,next:null});e:{var _e=i,we=R;switch(Z=o,fe=l,we.tag){case 1:if(_e=we.payload,typeof _e=="function"){te=_e.call(fe,te,Z);break e}te=_e;break e;case 3:_e.flags=_e.flags&-65537|128;case 0:if(_e=we.payload,Z=typeof _e=="function"?_e.call(fe,te,Z):_e,Z==null)break e;te=Y({},te,Z);break e;case 2:Bi=!0}}R.callback!==null&&R.lane!==0&&(i.flags|=64,Z=p.effects,Z===null?p.effects=[R]:Z.push(R))}else fe={eventTime:fe,lane:Z,tag:R.tag,payload:R.payload,callback:R.callback,next:null},ee===null?(H=ee=fe,b=te):ee=ee.next=fe,T|=Z;if(R=R.next,R===null){if(R=p.shared.pending,R===null)break;Z=R,R=Z.next,Z.next=null,p.lastBaseUpdate=Z,p.shared.pending=null}}while(!0);if(ee===null&&(b=te),p.baseState=b,p.firstBaseUpdate=H,p.lastBaseUpdate=ee,o=p.shared.interleaved,o!==null){p=o;do T|=p.lane,p=p.next;while(p!==o)}else y===null&&(p.shared.lanes=0);Fs|=T,i.lanes=T,i.memoizedState=te}}function $y(i,o,l){if(i=o.effects,o.effects=null,i!==null)for(o=0;o<i.length;o++){var h=i[o],p=h.callback;if(p!==null){if(h.callback=null,h=l,typeof p!="function")throw Error(t(191,p));p.call(h)}}}var vl={},Ar=Fi(vl),wl=Fi(vl),El=Fi(vl);function Ms(i){if(i===vl)throw Error(t(174));return i}function gf(i,o){switch(Ze(El,o),Ze(wl,i),Ze(Ar,vl),i=o.nodeType,i){case 9:case 11:o=(o=o.documentElement)?o.namespaceURI:go(null,"");break;default:i=i===8?o.parentNode:o,o=i.namespaceURI||null,i=i.tagName,o=go(o,i)}rt(Ar),Ze(Ar,o)}function Qo(){rt(Ar),rt(wl),rt(El)}function Hy(i){Ms(El.current);var o=Ms(Ar.current),l=go(o,i.type);o!==l&&(Ze(wl,i),Ze(Ar,l))}function yf(i){wl.current===i&&(rt(Ar),rt(wl))}var ut=Fi(0);function kc(i){for(var o=i;o!==null;){if(o.tag===13){var l=o.memoizedState;if(l!==null&&(l=l.dehydrated,l===null||l.data==="$?"||l.data==="$!"))return o}else if(o.tag===19&&o.memoizedProps.revealOrder!==void 0){if((o.flags&128)!==0)return o}else if(o.child!==null){o.child.return=o,o=o.child;continue}if(o===i)break;for(;o.sibling===null;){if(o.return===null||o.return===i)return null;o=o.return}o.sibling.return=o.return,o=o.sibling}return null}var _f=[];function vf(){for(var i=0;i<_f.length;i++)_f[i]._workInProgressVersionPrimary=null;_f.length=0}var Cc=re.ReactCurrentDispatcher,wf=re.ReactCurrentBatchConfig,Us=0,ct=null,bt=null,Ot=null,bc=!1,Tl=!1,Il=0,WA=0;function Gt(){throw Error(t(321))}function Ef(i,o){if(o===null)return!1;for(var l=0;l<o.length&&l<i.length;l++)if(!Jn(i[l],o[l]))return!1;return!0}function Tf(i,o,l,h,p,y){if(Us=y,ct=o,o.memoizedState=null,o.updateQueue=null,o.lanes=0,Cc.current=i===null||i.memoizedState===null?YA:JA,i=l(h,p),Tl){y=0;do{if(Tl=!1,Il=0,25<=y)throw Error(t(301));y+=1,Ot=bt=null,o.updateQueue=null,Cc.current=XA,i=l(h,p)}while(Tl)}if(Cc.current=Oc,o=bt!==null&&bt.next!==null,Us=0,Ot=bt=ct=null,bc=!1,o)throw Error(t(300));return i}function If(){var i=Il!==0;return Il=0,i}function Rr(){var i={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return Ot===null?ct.memoizedState=Ot=i:Ot=Ot.next=i,Ot}function jn(){if(bt===null){var i=ct.alternate;i=i!==null?i.memoizedState:null}else i=bt.next;var o=Ot===null?ct.memoizedState:Ot.next;if(o!==null)Ot=o,bt=i;else{if(i===null)throw Error(t(310));bt=i,i={memoizedState:bt.memoizedState,baseState:bt.baseState,baseQueue:bt.baseQueue,queue:bt.queue,next:null},Ot===null?ct.memoizedState=Ot=i:Ot=Ot.next=i}return Ot}function Sl(i,o){return typeof o=="function"?o(i):o}function Sf(i){var o=jn(),l=o.queue;if(l===null)throw Error(t(311));l.lastRenderedReducer=i;var h=bt,p=h.baseQueue,y=l.pending;if(y!==null){if(p!==null){var T=p.next;p.next=y.next,y.next=T}h.baseQueue=p=y,l.pending=null}if(p!==null){y=p.next,h=h.baseState;var R=T=null,b=null,H=y;do{var ee=H.lane;if((Us&ee)===ee)b!==null&&(b=b.next={lane:0,action:H.action,hasEagerState:H.hasEagerState,eagerState:H.eagerState,next:null}),h=H.hasEagerState?H.eagerState:i(h,H.action);else{var te={lane:ee,action:H.action,hasEagerState:H.hasEagerState,eagerState:H.eagerState,next:null};b===null?(R=b=te,T=h):b=b.next=te,ct.lanes|=ee,Fs|=ee}H=H.next}while(H!==null&&H!==y);b===null?T=h:b.next=R,Jn(h,o.memoizedState)||(fn=!0),o.memoizedState=h,o.baseState=T,o.baseQueue=b,l.lastRenderedState=h}if(i=l.interleaved,i!==null){p=i;do y=p.lane,ct.lanes|=y,Fs|=y,p=p.next;while(p!==i)}else p===null&&(l.lanes=0);return[o.memoizedState,l.dispatch]}function Af(i){var o=jn(),l=o.queue;if(l===null)throw Error(t(311));l.lastRenderedReducer=i;var h=l.dispatch,p=l.pending,y=o.memoizedState;if(p!==null){l.pending=null;var T=p=p.next;do y=i(y,T.action),T=T.next;while(T!==p);Jn(y,o.memoizedState)||(fn=!0),o.memoizedState=y,o.baseQueue===null&&(o.baseState=y),l.lastRenderedState=y}return[y,h]}function qy(){}function Wy(i,o){var l=ct,h=jn(),p=o(),y=!Jn(h.memoizedState,p);if(y&&(h.memoizedState=p,fn=!0),h=h.queue,Rf(Qy.bind(null,l,h,i),[i]),h.getSnapshot!==o||y||Ot!==null&&Ot.memoizedState.tag&1){if(l.flags|=2048,Al(9,Ky.bind(null,l,h,p,o),void 0,null),Dt===null)throw Error(t(349));(Us&30)!==0||Gy(l,o,p)}return p}function Gy(i,o,l){i.flags|=16384,i={getSnapshot:o,value:l},o=ct.updateQueue,o===null?(o={lastEffect:null,stores:null},ct.updateQueue=o,o.stores=[i]):(l=o.stores,l===null?o.stores=[i]:l.push(i))}function Ky(i,o,l,h){o.value=l,o.getSnapshot=h,Yy(o)&&Jy(i)}function Qy(i,o,l){return l(function(){Yy(o)&&Jy(i)})}function Yy(i){var o=i.getSnapshot;i=i.value;try{var l=o();return!Jn(i,l)}catch{return!0}}function Jy(i){var o=ei(i,1);o!==null&&nr(o,i,1,-1)}function Xy(i){var o=Rr();return typeof i=="function"&&(i=i()),o.memoizedState=o.baseState=i,i={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:Sl,lastRenderedState:i},o.queue=i,i=i.dispatch=QA.bind(null,ct,i),[o.memoizedState,i]}function Al(i,o,l,h){return i={tag:i,create:o,destroy:l,deps:h,next:null},o=ct.updateQueue,o===null?(o={lastEffect:null,stores:null},ct.updateQueue=o,o.lastEffect=i.next=i):(l=o.lastEffect,l===null?o.lastEffect=i.next=i:(h=l.next,l.next=i,i.next=h,o.lastEffect=i)),i}function Zy(){return jn().memoizedState}function Nc(i,o,l,h){var p=Rr();ct.flags|=i,p.memoizedState=Al(1|o,l,void 0,h===void 0?null:h)}function xc(i,o,l,h){var p=jn();h=h===void 0?null:h;var y=void 0;if(bt!==null){var T=bt.memoizedState;if(y=T.destroy,h!==null&&Ef(h,T.deps)){p.memoizedState=Al(o,l,y,h);return}}ct.flags|=i,p.memoizedState=Al(1|o,l,y,h)}function e_(i,o){return Nc(8390656,8,i,o)}function Rf(i,o){return xc(2048,8,i,o)}function t_(i,o){return xc(4,2,i,o)}function n_(i,o){return xc(4,4,i,o)}function r_(i,o){if(typeof o=="function")return i=i(),o(i),function(){o(null)};if(o!=null)return i=i(),o.current=i,function(){o.current=null}}function i_(i,o,l){return l=l!=null?l.concat([i]):null,xc(4,4,r_.bind(null,o,i),l)}function Pf(){}function s_(i,o){var l=jn();o=o===void 0?null:o;var h=l.memoizedState;return h!==null&&o!==null&&Ef(o,h[1])?h[0]:(l.memoizedState=[i,o],i)}function o_(i,o){var l=jn();o=o===void 0?null:o;var h=l.memoizedState;return h!==null&&o!==null&&Ef(o,h[1])?h[0]:(i=i(),l.memoizedState=[i,o],i)}function a_(i,o,l){return(Us&21)===0?(i.baseState&&(i.baseState=!1,fn=!0),i.memoizedState=l):(Jn(l,o)||(l=Ja(),ct.lanes|=l,Fs|=l,i.baseState=!0),o)}function GA(i,o){var l=ze;ze=l!==0&&4>l?l:4,i(!0);var h=wf.transition;wf.transition={};try{i(!1),o()}finally{ze=l,wf.transition=h}}function l_(){return jn().memoizedState}function KA(i,o,l){var h=Gi(i);if(l={lane:h,action:l,hasEagerState:!1,eagerState:null,next:null},u_(i))c_(o,l);else if(l=jy(i,o,l,h),l!==null){var p=rn();nr(l,i,h,p),h_(l,o,h)}}function QA(i,o,l){var h=Gi(i),p={lane:h,action:l,hasEagerState:!1,eagerState:null,next:null};if(u_(i))c_(o,p);else{var y=i.alternate;if(i.lanes===0&&(y===null||y.lanes===0)&&(y=o.lastRenderedReducer,y!==null))try{var T=o.lastRenderedState,R=y(T,l);if(p.hasEagerState=!0,p.eagerState=R,Jn(R,T)){var b=o.interleaved;b===null?(p.next=p,pf(o)):(p.next=b.next,b.next=p),o.interleaved=p;return}}catch{}l=jy(i,o,p,h),l!==null&&(p=rn(),nr(l,i,h,p),h_(l,o,h))}}function u_(i){var o=i.alternate;return i===ct||o!==null&&o===ct}function c_(i,o){Tl=bc=!0;var l=i.pending;l===null?o.next=o:(o.next=l.next,l.next=o),i.pending=o}function h_(i,o,l){if((l&4194240)!==0){var h=o.lanes;h&=i.pendingLanes,l|=h,o.lanes=l,Za(i,l)}}var Oc={readContext:Fn,useCallback:Gt,useContext:Gt,useEffect:Gt,useImperativeHandle:Gt,useInsertionEffect:Gt,useLayoutEffect:Gt,useMemo:Gt,useReducer:Gt,useRef:Gt,useState:Gt,useDebugValue:Gt,useDeferredValue:Gt,useTransition:Gt,useMutableSource:Gt,useSyncExternalStore:Gt,useId:Gt,unstable_isNewReconciler:!1},YA={readContext:Fn,useCallback:function(i,o){return Rr().memoizedState=[i,o===void 0?null:o],i},useContext:Fn,useEffect:e_,useImperativeHandle:function(i,o,l){return l=l!=null?l.concat([i]):null,Nc(4194308,4,r_.bind(null,o,i),l)},useLayoutEffect:function(i,o){return Nc(4194308,4,i,o)},useInsertionEffect:function(i,o){return Nc(4,2,i,o)},useMemo:function(i,o){var l=Rr();return o=o===void 0?null:o,i=i(),l.memoizedState=[i,o],i},useReducer:function(i,o,l){var h=Rr();return o=l!==void 0?l(o):o,h.memoizedState=h.baseState=o,i={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:i,lastRenderedState:o},h.queue=i,i=i.dispatch=KA.bind(null,ct,i),[h.memoizedState,i]},useRef:function(i){var o=Rr();return i={current:i},o.memoizedState=i},useState:Xy,useDebugValue:Pf,useDeferredValue:function(i){return Rr().memoizedState=i},useTransition:function(){var i=Xy(!1),o=i[0];return i=GA.bind(null,i[1]),Rr().memoizedState=i,[o,i]},useMutableSource:function(){},useSyncExternalStore:function(i,o,l){var h=ct,p=Rr();if(lt){if(l===void 0)throw Error(t(407));l=l()}else{if(l=o(),Dt===null)throw Error(t(349));(Us&30)!==0||Gy(h,o,l)}p.memoizedState=l;var y={value:l,getSnapshot:o};return p.queue=y,e_(Qy.bind(null,h,y,i),[i]),h.flags|=2048,Al(9,Ky.bind(null,h,y,l,o),void 0,null),l},useId:function(){var i=Rr(),o=Dt.identifierPrefix;if(lt){var l=Zr,h=Xr;l=(h&~(1<<32-Tn(h)-1)).toString(32)+l,o=":"+o+"R"+l,l=Il++,0<l&&(o+="H"+l.toString(32)),o+=":"}else l=WA++,o=":"+o+"r"+l.toString(32)+":";return i.memoizedState=o},unstable_isNewReconciler:!1},JA={readContext:Fn,useCallback:s_,useContext:Fn,useEffect:Rf,useImperativeHandle:i_,useInsertionEffect:t_,useLayoutEffect:n_,useMemo:o_,useReducer:Sf,useRef:Zy,useState:function(){return Sf(Sl)},useDebugValue:Pf,useDeferredValue:function(i){var o=jn();return a_(o,bt.memoizedState,i)},useTransition:function(){var i=Sf(Sl)[0],o=jn().memoizedState;return[i,o]},useMutableSource:qy,useSyncExternalStore:Wy,useId:l_,unstable_isNewReconciler:!1},XA={readContext:Fn,useCallback:s_,useContext:Fn,useEffect:Rf,useImperativeHandle:i_,useInsertionEffect:t_,useLayoutEffect:n_,useMemo:o_,useReducer:Af,useRef:Zy,useState:function(){return Af(Sl)},useDebugValue:Pf,useDeferredValue:function(i){var o=jn();return bt===null?o.memoizedState=i:a_(o,bt.memoizedState,i)},useTransition:function(){var i=Af(Sl)[0],o=jn().memoizedState;return[i,o]},useMutableSource:qy,useSyncExternalStore:Wy,useId:l_,unstable_isNewReconciler:!1};function Zn(i,o){if(i&&i.defaultProps){o=Y({},o),i=i.defaultProps;for(var l in i)o[l]===void 0&&(o[l]=i[l]);return o}return o}function kf(i,o,l,h){o=i.memoizedState,l=l(h,o),l=l==null?o:Y({},o,l),i.memoizedState=l,i.lanes===0&&(i.updateQueue.baseState=l)}var Dc={isMounted:function(i){return(i=i._reactInternals)?Qn(i)===i:!1},enqueueSetState:function(i,o,l){i=i._reactInternals;var h=rn(),p=Gi(i),y=ti(h,p);y.payload=o,l!=null&&(y.callback=l),o=$i(i,y,p),o!==null&&(nr(o,i,p,h),Rc(o,i,p))},enqueueReplaceState:function(i,o,l){i=i._reactInternals;var h=rn(),p=Gi(i),y=ti(h,p);y.tag=1,y.payload=o,l!=null&&(y.callback=l),o=$i(i,y,p),o!==null&&(nr(o,i,p,h),Rc(o,i,p))},enqueueForceUpdate:function(i,o){i=i._reactInternals;var l=rn(),h=Gi(i),p=ti(l,h);p.tag=2,o!=null&&(p.callback=o),o=$i(i,p,h),o!==null&&(nr(o,i,h,l),Rc(o,i,h))}};function d_(i,o,l,h,p,y,T){return i=i.stateNode,typeof i.shouldComponentUpdate=="function"?i.shouldComponentUpdate(h,y,T):o.prototype&&o.prototype.isPureReactComponent?!hl(l,h)||!hl(p,y):!0}function f_(i,o,l){var h=!1,p=ji,y=o.contextType;return typeof y=="object"&&y!==null?y=Fn(y):(p=dn(o)?Os:Wt.current,h=o.contextTypes,y=(h=h!=null)?Bo(i,p):ji),o=new o(l,y),i.memoizedState=o.state!==null&&o.state!==void 0?o.state:null,o.updater=Dc,i.stateNode=o,o._reactInternals=i,h&&(i=i.stateNode,i.__reactInternalMemoizedUnmaskedChildContext=p,i.__reactInternalMemoizedMaskedChildContext=y),o}function p_(i,o,l,h){i=o.state,typeof o.componentWillReceiveProps=="function"&&o.componentWillReceiveProps(l,h),typeof o.UNSAFE_componentWillReceiveProps=="function"&&o.UNSAFE_componentWillReceiveProps(l,h),o.state!==i&&Dc.enqueueReplaceState(o,o.state,null)}function Cf(i,o,l,h){var p=i.stateNode;p.props=l,p.state=i.memoizedState,p.refs={},mf(i);var y=o.contextType;typeof y=="object"&&y!==null?p.context=Fn(y):(y=dn(o)?Os:Wt.current,p.context=Bo(i,y)),p.state=i.memoizedState,y=o.getDerivedStateFromProps,typeof y=="function"&&(kf(i,o,y,l),p.state=i.memoizedState),typeof o.getDerivedStateFromProps=="function"||typeof p.getSnapshotBeforeUpdate=="function"||typeof p.UNSAFE_componentWillMount!="function"&&typeof p.componentWillMount!="function"||(o=p.state,typeof p.componentWillMount=="function"&&p.componentWillMount(),typeof p.UNSAFE_componentWillMount=="function"&&p.UNSAFE_componentWillMount(),o!==p.state&&Dc.enqueueReplaceState(p,p.state,null),Pc(i,l,p,h),p.state=i.memoizedState),typeof p.componentDidMount=="function"&&(i.flags|=4194308)}function Yo(i,o){try{var l="",h=o;do l+=Ve(h),h=h.return;while(h);var p=l}catch(y){p=`
Error generating stack: `+y.message+`
`+y.stack}return{value:i,source:o,stack:p,digest:null}}function bf(i,o,l){return{value:i,source:null,stack:l??null,digest:o??null}}function Nf(i,o){try{console.error(o.value)}catch(l){setTimeout(function(){throw l})}}var ZA=typeof WeakMap=="function"?WeakMap:Map;function m_(i,o,l){l=ti(-1,l),l.tag=3,l.payload={element:null};var h=o.value;return l.callback=function(){zc||(zc=!0,Wf=h),Nf(i,o)},l}function g_(i,o,l){l=ti(-1,l),l.tag=3;var h=i.type.getDerivedStateFromError;if(typeof h=="function"){var p=o.value;l.payload=function(){return h(p)},l.callback=function(){Nf(i,o)}}var y=i.stateNode;return y!==null&&typeof y.componentDidCatch=="function"&&(l.callback=function(){Nf(i,o),typeof h!="function"&&(qi===null?qi=new Set([this]):qi.add(this));var T=o.stack;this.componentDidCatch(o.value,{componentStack:T!==null?T:""})}),l}function y_(i,o,l){var h=i.pingCache;if(h===null){h=i.pingCache=new ZA;var p=new Set;h.set(o,p)}else p=h.get(o),p===void 0&&(p=new Set,h.set(o,p));p.has(l)||(p.add(l),i=fR.bind(null,i,o,l),o.then(i,i))}function __(i){do{var o;if((o=i.tag===13)&&(o=i.memoizedState,o=o!==null?o.dehydrated!==null:!0),o)return i;i=i.return}while(i!==null);return null}function v_(i,o,l,h,p){return(i.mode&1)===0?(i===o?i.flags|=65536:(i.flags|=128,l.flags|=131072,l.flags&=-52805,l.tag===1&&(l.alternate===null?l.tag=17:(o=ti(-1,1),o.tag=2,$i(l,o,1))),l.lanes|=1),i):(i.flags|=65536,i.lanes=p,i)}var eR=re.ReactCurrentOwner,fn=!1;function nn(i,o,l,h){o.child=i===null?Fy(o,null,l,h):Wo(o,i.child,l,h)}function w_(i,o,l,h,p){l=l.render;var y=o.ref;return Ko(o,p),h=Tf(i,o,l,h,y,p),l=If(),i!==null&&!fn?(o.updateQueue=i.updateQueue,o.flags&=-2053,i.lanes&=~p,ni(i,o,p)):(lt&&l&&sf(o),o.flags|=1,nn(i,o,h,p),o.child)}function E_(i,o,l,h,p){if(i===null){var y=l.type;return typeof y=="function"&&!Zf(y)&&y.defaultProps===void 0&&l.compare===null&&l.defaultProps===void 0?(o.tag=15,o.type=y,T_(i,o,y,h,p)):(i=Gc(l.type,null,h,o,o.mode,p),i.ref=o.ref,i.return=o,o.child=i)}if(y=i.child,(i.lanes&p)===0){var T=y.memoizedProps;if(l=l.compare,l=l!==null?l:hl,l(T,h)&&i.ref===o.ref)return ni(i,o,p)}return o.flags|=1,i=Qi(y,h),i.ref=o.ref,i.return=o,o.child=i}function T_(i,o,l,h,p){if(i!==null){var y=i.memoizedProps;if(hl(y,h)&&i.ref===o.ref)if(fn=!1,o.pendingProps=h=y,(i.lanes&p)!==0)(i.flags&131072)!==0&&(fn=!0);else return o.lanes=i.lanes,ni(i,o,p)}return xf(i,o,l,h,p)}function I_(i,o,l){var h=o.pendingProps,p=h.children,y=i!==null?i.memoizedState:null;if(h.mode==="hidden")if((o.mode&1)===0)o.memoizedState={baseLanes:0,cachePool:null,transitions:null},Ze(Xo,Cn),Cn|=l;else{if((l&1073741824)===0)return i=y!==null?y.baseLanes|l:l,o.lanes=o.childLanes=1073741824,o.memoizedState={baseLanes:i,cachePool:null,transitions:null},o.updateQueue=null,Ze(Xo,Cn),Cn|=i,null;o.memoizedState={baseLanes:0,cachePool:null,transitions:null},h=y!==null?y.baseLanes:l,Ze(Xo,Cn),Cn|=h}else y!==null?(h=y.baseLanes|l,o.memoizedState=null):h=l,Ze(Xo,Cn),Cn|=h;return nn(i,o,p,l),o.child}function S_(i,o){var l=o.ref;(i===null&&l!==null||i!==null&&i.ref!==l)&&(o.flags|=512,o.flags|=2097152)}function xf(i,o,l,h,p){var y=dn(l)?Os:Wt.current;return y=Bo(o,y),Ko(o,p),l=Tf(i,o,l,h,y,p),h=If(),i!==null&&!fn?(o.updateQueue=i.updateQueue,o.flags&=-2053,i.lanes&=~p,ni(i,o,p)):(lt&&h&&sf(o),o.flags|=1,nn(i,o,l,p),o.child)}function A_(i,o,l,h,p){if(dn(l)){var y=!0;_c(o)}else y=!1;if(Ko(o,p),o.stateNode===null)Vc(i,o),f_(o,l,h),Cf(o,l,h,p),h=!0;else if(i===null){var T=o.stateNode,R=o.memoizedProps;T.props=R;var b=T.context,H=l.contextType;typeof H=="object"&&H!==null?H=Fn(H):(H=dn(l)?Os:Wt.current,H=Bo(o,H));var ee=l.getDerivedStateFromProps,te=typeof ee=="function"||typeof T.getSnapshotBeforeUpdate=="function";te||typeof T.UNSAFE_componentWillReceiveProps!="function"&&typeof T.componentWillReceiveProps!="function"||(R!==h||b!==H)&&p_(o,T,h,H),Bi=!1;var Z=o.memoizedState;T.state=Z,Pc(o,h,T,p),b=o.memoizedState,R!==h||Z!==b||hn.current||Bi?(typeof ee=="function"&&(kf(o,l,ee,h),b=o.memoizedState),(R=Bi||d_(o,l,R,h,Z,b,H))?(te||typeof T.UNSAFE_componentWillMount!="function"&&typeof T.componentWillMount!="function"||(typeof T.componentWillMount=="function"&&T.componentWillMount(),typeof T.UNSAFE_componentWillMount=="function"&&T.UNSAFE_componentWillMount()),typeof T.componentDidMount=="function"&&(o.flags|=4194308)):(typeof T.componentDidMount=="function"&&(o.flags|=4194308),o.memoizedProps=h,o.memoizedState=b),T.props=h,T.state=b,T.context=H,h=R):(typeof T.componentDidMount=="function"&&(o.flags|=4194308),h=!1)}else{T=o.stateNode,zy(i,o),R=o.memoizedProps,H=o.type===o.elementType?R:Zn(o.type,R),T.props=H,te=o.pendingProps,Z=T.context,b=l.contextType,typeof b=="object"&&b!==null?b=Fn(b):(b=dn(l)?Os:Wt.current,b=Bo(o,b));var fe=l.getDerivedStateFromProps;(ee=typeof fe=="function"||typeof T.getSnapshotBeforeUpdate=="function")||typeof T.UNSAFE_componentWillReceiveProps!="function"&&typeof T.componentWillReceiveProps!="function"||(R!==te||Z!==b)&&p_(o,T,h,b),Bi=!1,Z=o.memoizedState,T.state=Z,Pc(o,h,T,p);var _e=o.memoizedState;R!==te||Z!==_e||hn.current||Bi?(typeof fe=="function"&&(kf(o,l,fe,h),_e=o.memoizedState),(H=Bi||d_(o,l,H,h,Z,_e,b)||!1)?(ee||typeof T.UNSAFE_componentWillUpdate!="function"&&typeof T.componentWillUpdate!="function"||(typeof T.componentWillUpdate=="function"&&T.componentWillUpdate(h,_e,b),typeof T.UNSAFE_componentWillUpdate=="function"&&T.UNSAFE_componentWillUpdate(h,_e,b)),typeof T.componentDidUpdate=="function"&&(o.flags|=4),typeof T.getSnapshotBeforeUpdate=="function"&&(o.flags|=1024)):(typeof T.componentDidUpdate!="function"||R===i.memoizedProps&&Z===i.memoizedState||(o.flags|=4),typeof T.getSnapshotBeforeUpdate!="function"||R===i.memoizedProps&&Z===i.memoizedState||(o.flags|=1024),o.memoizedProps=h,o.memoizedState=_e),T.props=h,T.state=_e,T.context=b,h=H):(typeof T.componentDidUpdate!="function"||R===i.memoizedProps&&Z===i.memoizedState||(o.flags|=4),typeof T.getSnapshotBeforeUpdate!="function"||R===i.memoizedProps&&Z===i.memoizedState||(o.flags|=1024),h=!1)}return Of(i,o,l,h,y,p)}function Of(i,o,l,h,p,y){S_(i,o);var T=(o.flags&128)!==0;if(!h&&!T)return p&&by(o,l,!1),ni(i,o,y);h=o.stateNode,eR.current=o;var R=T&&typeof l.getDerivedStateFromError!="function"?null:h.render();return o.flags|=1,i!==null&&T?(o.child=Wo(o,i.child,null,y),o.child=Wo(o,null,R,y)):nn(i,o,R,y),o.memoizedState=h.state,p&&by(o,l,!0),o.child}function R_(i){var o=i.stateNode;o.pendingContext?ky(i,o.pendingContext,o.pendingContext!==o.context):o.context&&ky(i,o.context,!1),gf(i,o.containerInfo)}function P_(i,o,l,h,p){return qo(),uf(p),o.flags|=256,nn(i,o,l,h),o.child}var Df={dehydrated:null,treeContext:null,retryLane:0};function Lf(i){return{baseLanes:i,cachePool:null,transitions:null}}function k_(i,o,l){var h=o.pendingProps,p=ut.current,y=!1,T=(o.flags&128)!==0,R;if((R=T)||(R=i!==null&&i.memoizedState===null?!1:(p&2)!==0),R?(y=!0,o.flags&=-129):(i===null||i.memoizedState!==null)&&(p|=1),Ze(ut,p&1),i===null)return lf(o),i=o.memoizedState,i!==null&&(i=i.dehydrated,i!==null)?((o.mode&1)===0?o.lanes=1:i.data==="$!"?o.lanes=8:o.lanes=1073741824,null):(T=h.children,i=h.fallback,y?(h=o.mode,y=o.child,T={mode:"hidden",children:T},(h&1)===0&&y!==null?(y.childLanes=0,y.pendingProps=T):y=Kc(T,h,0,null),i=$s(i,h,l,null),y.return=o,i.return=o,y.sibling=i,o.child=y,o.child.memoizedState=Lf(l),o.memoizedState=Df,i):Vf(o,T));if(p=i.memoizedState,p!==null&&(R=p.dehydrated,R!==null))return tR(i,o,T,h,R,p,l);if(y){y=h.fallback,T=o.mode,p=i.child,R=p.sibling;var b={mode:"hidden",children:h.children};return(T&1)===0&&o.child!==p?(h=o.child,h.childLanes=0,h.pendingProps=b,o.deletions=null):(h=Qi(p,b),h.subtreeFlags=p.subtreeFlags&14680064),R!==null?y=Qi(R,y):(y=$s(y,T,l,null),y.flags|=2),y.return=o,h.return=o,h.sibling=y,o.child=h,h=y,y=o.child,T=i.child.memoizedState,T=T===null?Lf(l):{baseLanes:T.baseLanes|l,cachePool:null,transitions:T.transitions},y.memoizedState=T,y.childLanes=i.childLanes&~l,o.memoizedState=Df,h}return y=i.child,i=y.sibling,h=Qi(y,{mode:"visible",children:h.children}),(o.mode&1)===0&&(h.lanes=l),h.return=o,h.sibling=null,i!==null&&(l=o.deletions,l===null?(o.deletions=[i],o.flags|=16):l.push(i)),o.child=h,o.memoizedState=null,h}function Vf(i,o){return o=Kc({mode:"visible",children:o},i.mode,0,null),o.return=i,i.child=o}function Lc(i,o,l,h){return h!==null&&uf(h),Wo(o,i.child,null,l),i=Vf(o,o.pendingProps.children),i.flags|=2,o.memoizedState=null,i}function tR(i,o,l,h,p,y,T){if(l)return o.flags&256?(o.flags&=-257,h=bf(Error(t(422))),Lc(i,o,T,h)):o.memoizedState!==null?(o.child=i.child,o.flags|=128,null):(y=h.fallback,p=o.mode,h=Kc({mode:"visible",children:h.children},p,0,null),y=$s(y,p,T,null),y.flags|=2,h.return=o,y.return=o,h.sibling=y,o.child=h,(o.mode&1)!==0&&Wo(o,i.child,null,T),o.child.memoizedState=Lf(T),o.memoizedState=Df,y);if((o.mode&1)===0)return Lc(i,o,T,null);if(p.data==="$!"){if(h=p.nextSibling&&p.nextSibling.dataset,h)var R=h.dgst;return h=R,y=Error(t(419)),h=bf(y,h,void 0),Lc(i,o,T,h)}if(R=(T&i.childLanes)!==0,fn||R){if(h=Dt,h!==null){switch(T&-T){case 4:p=2;break;case 16:p=8;break;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:p=32;break;case 536870912:p=268435456;break;default:p=0}p=(p&(h.suspendedLanes|T))!==0?0:p,p!==0&&p!==y.retryLane&&(y.retryLane=p,ei(i,p),nr(h,i,p,-1))}return Xf(),h=bf(Error(t(421))),Lc(i,o,T,h)}return p.data==="$?"?(o.flags|=128,o.child=i.child,o=pR.bind(null,i),p._reactRetry=o,null):(i=y.treeContext,kn=Ui(p.nextSibling),Pn=o,lt=!0,Xn=null,i!==null&&(Mn[Un++]=Xr,Mn[Un++]=Zr,Mn[Un++]=Ds,Xr=i.id,Zr=i.overflow,Ds=o),o=Vf(o,h.children),o.flags|=4096,o)}function C_(i,o,l){i.lanes|=o;var h=i.alternate;h!==null&&(h.lanes|=o),ff(i.return,o,l)}function Mf(i,o,l,h,p){var y=i.memoizedState;y===null?i.memoizedState={isBackwards:o,rendering:null,renderingStartTime:0,last:h,tail:l,tailMode:p}:(y.isBackwards=o,y.rendering=null,y.renderingStartTime=0,y.last=h,y.tail=l,y.tailMode=p)}function b_(i,o,l){var h=o.pendingProps,p=h.revealOrder,y=h.tail;if(nn(i,o,h.children,l),h=ut.current,(h&2)!==0)h=h&1|2,o.flags|=128;else{if(i!==null&&(i.flags&128)!==0)e:for(i=o.child;i!==null;){if(i.tag===13)i.memoizedState!==null&&C_(i,l,o);else if(i.tag===19)C_(i,l,o);else if(i.child!==null){i.child.return=i,i=i.child;continue}if(i===o)break e;for(;i.sibling===null;){if(i.return===null||i.return===o)break e;i=i.return}i.sibling.return=i.return,i=i.sibling}h&=1}if(Ze(ut,h),(o.mode&1)===0)o.memoizedState=null;else switch(p){case"forwards":for(l=o.child,p=null;l!==null;)i=l.alternate,i!==null&&kc(i)===null&&(p=l),l=l.sibling;l=p,l===null?(p=o.child,o.child=null):(p=l.sibling,l.sibling=null),Mf(o,!1,p,l,y);break;case"backwards":for(l=null,p=o.child,o.child=null;p!==null;){if(i=p.alternate,i!==null&&kc(i)===null){o.child=p;break}i=p.sibling,p.sibling=l,l=p,p=i}Mf(o,!0,l,null,y);break;case"together":Mf(o,!1,null,null,void 0);break;default:o.memoizedState=null}return o.child}function Vc(i,o){(o.mode&1)===0&&i!==null&&(i.alternate=null,o.alternate=null,o.flags|=2)}function ni(i,o,l){if(i!==null&&(o.dependencies=i.dependencies),Fs|=o.lanes,(l&o.childLanes)===0)return null;if(i!==null&&o.child!==i.child)throw Error(t(153));if(o.child!==null){for(i=o.child,l=Qi(i,i.pendingProps),o.child=l,l.return=o;i.sibling!==null;)i=i.sibling,l=l.sibling=Qi(i,i.pendingProps),l.return=o;l.sibling=null}return o.child}function nR(i,o,l){switch(o.tag){case 3:R_(o),qo();break;case 5:Hy(o);break;case 1:dn(o.type)&&_c(o);break;case 4:gf(o,o.stateNode.containerInfo);break;case 10:var h=o.type._context,p=o.memoizedProps.value;Ze(Sc,h._currentValue),h._currentValue=p;break;case 13:if(h=o.memoizedState,h!==null)return h.dehydrated!==null?(Ze(ut,ut.current&1),o.flags|=128,null):(l&o.child.childLanes)!==0?k_(i,o,l):(Ze(ut,ut.current&1),i=ni(i,o,l),i!==null?i.sibling:null);Ze(ut,ut.current&1);break;case 19:if(h=(l&o.childLanes)!==0,(i.flags&128)!==0){if(h)return b_(i,o,l);o.flags|=128}if(p=o.memoizedState,p!==null&&(p.rendering=null,p.tail=null,p.lastEffect=null),Ze(ut,ut.current),h)break;return null;case 22:case 23:return o.lanes=0,I_(i,o,l)}return ni(i,o,l)}var N_,Uf,x_,O_;N_=function(i,o){for(var l=o.child;l!==null;){if(l.tag===5||l.tag===6)i.appendChild(l.stateNode);else if(l.tag!==4&&l.child!==null){l.child.return=l,l=l.child;continue}if(l===o)break;for(;l.sibling===null;){if(l.return===null||l.return===o)return;l=l.return}l.sibling.return=l.return,l=l.sibling}},Uf=function(){},x_=function(i,o,l,h){var p=i.memoizedProps;if(p!==h){i=o.stateNode,Ms(Ar.current);var y=null;switch(l){case"input":p=po(i,p),h=po(i,h),y=[];break;case"select":p=Y({},p,{value:void 0}),h=Y({},h,{value:void 0}),y=[];break;case"textarea":p=ja(i,p),h=ja(i,h),y=[];break;default:typeof p.onClick!="function"&&typeof h.onClick=="function"&&(i.onclick=mc)}Kn(l,h);var T;l=null;for(H in p)if(!h.hasOwnProperty(H)&&p.hasOwnProperty(H)&&p[H]!=null)if(H==="style"){var R=p[H];for(T in R)R.hasOwnProperty(T)&&(l||(l={}),l[T]="")}else H!=="dangerouslySetInnerHTML"&&H!=="children"&&H!=="suppressContentEditableWarning"&&H!=="suppressHydrationWarning"&&H!=="autoFocus"&&(s.hasOwnProperty(H)?y||(y=[]):(y=y||[]).push(H,null));for(H in h){var b=h[H];if(R=p?.[H],h.hasOwnProperty(H)&&b!==R&&(b!=null||R!=null))if(H==="style")if(R){for(T in R)!R.hasOwnProperty(T)||b&&b.hasOwnProperty(T)||(l||(l={}),l[T]="");for(T in b)b.hasOwnProperty(T)&&R[T]!==b[T]&&(l||(l={}),l[T]=b[T])}else l||(y||(y=[]),y.push(H,l)),l=b;else H==="dangerouslySetInnerHTML"?(b=b?b.__html:void 0,R=R?R.__html:void 0,b!=null&&R!==b&&(y=y||[]).push(H,b)):H==="children"?typeof b!="string"&&typeof b!="number"||(y=y||[]).push(H,""+b):H!=="suppressContentEditableWarning"&&H!=="suppressHydrationWarning"&&(s.hasOwnProperty(H)?(b!=null&&H==="onScroll"&&nt("scroll",i),y||R===b||(y=[])):(y=y||[]).push(H,b))}l&&(y=y||[]).push("style",l);var H=y;(o.updateQueue=H)&&(o.flags|=4)}},O_=function(i,o,l,h){l!==h&&(o.flags|=4)};function Rl(i,o){if(!lt)switch(i.tailMode){case"hidden":o=i.tail;for(var l=null;o!==null;)o.alternate!==null&&(l=o),o=o.sibling;l===null?i.tail=null:l.sibling=null;break;case"collapsed":l=i.tail;for(var h=null;l!==null;)l.alternate!==null&&(h=l),l=l.sibling;h===null?o||i.tail===null?i.tail=null:i.tail.sibling=null:h.sibling=null}}function Kt(i){var o=i.alternate!==null&&i.alternate.child===i.child,l=0,h=0;if(o)for(var p=i.child;p!==null;)l|=p.lanes|p.childLanes,h|=p.subtreeFlags&14680064,h|=p.flags&14680064,p.return=i,p=p.sibling;else for(p=i.child;p!==null;)l|=p.lanes|p.childLanes,h|=p.subtreeFlags,h|=p.flags,p.return=i,p=p.sibling;return i.subtreeFlags|=h,i.childLanes=l,o}function rR(i,o,l){var h=o.pendingProps;switch(of(o),o.tag){case 2:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return Kt(o),null;case 1:return dn(o.type)&&yc(),Kt(o),null;case 3:return h=o.stateNode,Qo(),rt(hn),rt(Wt),vf(),h.pendingContext&&(h.context=h.pendingContext,h.pendingContext=null),(i===null||i.child===null)&&(Tc(o)?o.flags|=4:i===null||i.memoizedState.isDehydrated&&(o.flags&256)===0||(o.flags|=1024,Xn!==null&&(Qf(Xn),Xn=null))),Uf(i,o),Kt(o),null;case 5:yf(o);var p=Ms(El.current);if(l=o.type,i!==null&&o.stateNode!=null)x_(i,o,l,h,p),i.ref!==o.ref&&(o.flags|=512,o.flags|=2097152);else{if(!h){if(o.stateNode===null)throw Error(t(166));return Kt(o),null}if(i=Ms(Ar.current),Tc(o)){h=o.stateNode,l=o.type;var y=o.memoizedProps;switch(h[Sr]=o,h[gl]=y,i=(o.mode&1)!==0,l){case"dialog":nt("cancel",h),nt("close",h);break;case"iframe":case"object":case"embed":nt("load",h);break;case"video":case"audio":for(p=0;p<fl.length;p++)nt(fl[p],h);break;case"source":nt("error",h);break;case"img":case"image":case"link":nt("error",h),nt("load",h);break;case"details":nt("toggle",h);break;case"input":ju(h,y),nt("invalid",h);break;case"select":h._wrapperState={wasMultiple:!!y.multiple},nt("invalid",h);break;case"textarea":za(h,y),nt("invalid",h)}Kn(l,y),p=null;for(var T in y)if(y.hasOwnProperty(T)){var R=y[T];T==="children"?typeof R=="string"?h.textContent!==R&&(y.suppressHydrationWarning!==!0&&pc(h.textContent,R,i),p=["children",R]):typeof R=="number"&&h.textContent!==""+R&&(y.suppressHydrationWarning!==!0&&pc(h.textContent,R,i),p=["children",""+R]):s.hasOwnProperty(T)&&R!=null&&T==="onScroll"&&nt("scroll",h)}switch(l){case"input":fo(h),Fa(h,y,!0);break;case"textarea":fo(h),Ti(h);break;case"select":case"option":break;default:typeof y.onClick=="function"&&(h.onclick=mc)}h=p,o.updateQueue=h,h!==null&&(o.flags|=4)}else{T=p.nodeType===9?p:p.ownerDocument,i==="http://www.w3.org/1999/xhtml"&&(i=Ba(l)),i==="http://www.w3.org/1999/xhtml"?l==="script"?(i=T.createElement("div"),i.innerHTML="<script><\/script>",i=i.removeChild(i.firstChild)):typeof h.is=="string"?i=T.createElement(l,{is:h.is}):(i=T.createElement(l),l==="select"&&(T=i,h.multiple?T.multiple=!0:h.size&&(T.size=h.size))):i=T.createElementNS(i,l),i[Sr]=o,i[gl]=h,N_(i,o,!1,!1),o.stateNode=i;e:{switch(T=_o(l,h),l){case"dialog":nt("cancel",i),nt("close",i),p=h;break;case"iframe":case"object":case"embed":nt("load",i),p=h;break;case"video":case"audio":for(p=0;p<fl.length;p++)nt(fl[p],i);p=h;break;case"source":nt("error",i),p=h;break;case"img":case"image":case"link":nt("error",i),nt("load",i),p=h;break;case"details":nt("toggle",i),p=h;break;case"input":ju(i,h),p=po(i,h),nt("invalid",i);break;case"option":p=h;break;case"select":i._wrapperState={wasMultiple:!!h.multiple},p=Y({},h,{value:void 0}),nt("invalid",i);break;case"textarea":za(i,h),p=ja(i,h),nt("invalid",i);break;default:p=h}Kn(l,p),R=p;for(y in R)if(R.hasOwnProperty(y)){var b=R[y];y==="style"?yo(i,b):y==="dangerouslySetInnerHTML"?(b=b?b.__html:void 0,b!=null&&Bu(i,b)):y==="children"?typeof b=="string"?(l!=="textarea"||b!=="")&&_s(i,b):typeof b=="number"&&_s(i,""+b):y!=="suppressContentEditableWarning"&&y!=="suppressHydrationWarning"&&y!=="autoFocus"&&(s.hasOwnProperty(y)?b!=null&&y==="onScroll"&&nt("scroll",i):b!=null&&le(i,y,b,T))}switch(l){case"input":fo(i),Fa(i,h,!1);break;case"textarea":fo(i),Ti(i);break;case"option":h.value!=null&&i.setAttribute("value",""+$e(h.value));break;case"select":i.multiple=!!h.multiple,y=h.value,y!=null?Gn(i,!!h.multiple,y,!1):h.defaultValue!=null&&Gn(i,!!h.multiple,h.defaultValue,!0);break;default:typeof p.onClick=="function"&&(i.onclick=mc)}switch(l){case"button":case"input":case"select":case"textarea":h=!!h.autoFocus;break e;case"img":h=!0;break e;default:h=!1}}h&&(o.flags|=4)}o.ref!==null&&(o.flags|=512,o.flags|=2097152)}return Kt(o),null;case 6:if(i&&o.stateNode!=null)O_(i,o,i.memoizedProps,h);else{if(typeof h!="string"&&o.stateNode===null)throw Error(t(166));if(l=Ms(El.current),Ms(Ar.current),Tc(o)){if(h=o.stateNode,l=o.memoizedProps,h[Sr]=o,(y=h.nodeValue!==l)&&(i=Pn,i!==null))switch(i.tag){case 3:pc(h.nodeValue,l,(i.mode&1)!==0);break;case 5:i.memoizedProps.suppressHydrationWarning!==!0&&pc(h.nodeValue,l,(i.mode&1)!==0)}y&&(o.flags|=4)}else h=(l.nodeType===9?l:l.ownerDocument).createTextNode(h),h[Sr]=o,o.stateNode=h}return Kt(o),null;case 13:if(rt(ut),h=o.memoizedState,i===null||i.memoizedState!==null&&i.memoizedState.dehydrated!==null){if(lt&&kn!==null&&(o.mode&1)!==0&&(o.flags&128)===0)Vy(),qo(),o.flags|=98560,y=!1;else if(y=Tc(o),h!==null&&h.dehydrated!==null){if(i===null){if(!y)throw Error(t(318));if(y=o.memoizedState,y=y!==null?y.dehydrated:null,!y)throw Error(t(317));y[Sr]=o}else qo(),(o.flags&128)===0&&(o.memoizedState=null),o.flags|=4;Kt(o),y=!1}else Xn!==null&&(Qf(Xn),Xn=null),y=!0;if(!y)return o.flags&65536?o:null}return(o.flags&128)!==0?(o.lanes=l,o):(h=h!==null,h!==(i!==null&&i.memoizedState!==null)&&h&&(o.child.flags|=8192,(o.mode&1)!==0&&(i===null||(ut.current&1)!==0?Nt===0&&(Nt=3):Xf())),o.updateQueue!==null&&(o.flags|=4),Kt(o),null);case 4:return Qo(),Uf(i,o),i===null&&pl(o.stateNode.containerInfo),Kt(o),null;case 10:return df(o.type._context),Kt(o),null;case 17:return dn(o.type)&&yc(),Kt(o),null;case 19:if(rt(ut),y=o.memoizedState,y===null)return Kt(o),null;if(h=(o.flags&128)!==0,T=y.rendering,T===null)if(h)Rl(y,!1);else{if(Nt!==0||i!==null&&(i.flags&128)!==0)for(i=o.child;i!==null;){if(T=kc(i),T!==null){for(o.flags|=128,Rl(y,!1),h=T.updateQueue,h!==null&&(o.updateQueue=h,o.flags|=4),o.subtreeFlags=0,h=l,l=o.child;l!==null;)y=l,i=h,y.flags&=14680066,T=y.alternate,T===null?(y.childLanes=0,y.lanes=i,y.child=null,y.subtreeFlags=0,y.memoizedProps=null,y.memoizedState=null,y.updateQueue=null,y.dependencies=null,y.stateNode=null):(y.childLanes=T.childLanes,y.lanes=T.lanes,y.child=T.child,y.subtreeFlags=0,y.deletions=null,y.memoizedProps=T.memoizedProps,y.memoizedState=T.memoizedState,y.updateQueue=T.updateQueue,y.type=T.type,i=T.dependencies,y.dependencies=i===null?null:{lanes:i.lanes,firstContext:i.firstContext}),l=l.sibling;return Ze(ut,ut.current&1|2),o.child}i=i.sibling}y.tail!==null&&tt()>Zo&&(o.flags|=128,h=!0,Rl(y,!1),o.lanes=4194304)}else{if(!h)if(i=kc(T),i!==null){if(o.flags|=128,h=!0,l=i.updateQueue,l!==null&&(o.updateQueue=l,o.flags|=4),Rl(y,!0),y.tail===null&&y.tailMode==="hidden"&&!T.alternate&&!lt)return Kt(o),null}else 2*tt()-y.renderingStartTime>Zo&&l!==1073741824&&(o.flags|=128,h=!0,Rl(y,!1),o.lanes=4194304);y.isBackwards?(T.sibling=o.child,o.child=T):(l=y.last,l!==null?l.sibling=T:o.child=T,y.last=T)}return y.tail!==null?(o=y.tail,y.rendering=o,y.tail=o.sibling,y.renderingStartTime=tt(),o.sibling=null,l=ut.current,Ze(ut,h?l&1|2:l&1),o):(Kt(o),null);case 22:case 23:return Jf(),h=o.memoizedState!==null,i!==null&&i.memoizedState!==null!==h&&(o.flags|=8192),h&&(o.mode&1)!==0?(Cn&1073741824)!==0&&(Kt(o),o.subtreeFlags&6&&(o.flags|=8192)):Kt(o),null;case 24:return null;case 25:return null}throw Error(t(156,o.tag))}function iR(i,o){switch(of(o),o.tag){case 1:return dn(o.type)&&yc(),i=o.flags,i&65536?(o.flags=i&-65537|128,o):null;case 3:return Qo(),rt(hn),rt(Wt),vf(),i=o.flags,(i&65536)!==0&&(i&128)===0?(o.flags=i&-65537|128,o):null;case 5:return yf(o),null;case 13:if(rt(ut),i=o.memoizedState,i!==null&&i.dehydrated!==null){if(o.alternate===null)throw Error(t(340));qo()}return i=o.flags,i&65536?(o.flags=i&-65537|128,o):null;case 19:return rt(ut),null;case 4:return Qo(),null;case 10:return df(o.type._context),null;case 22:case 23:return Jf(),null;case 24:return null;default:return null}}var Mc=!1,Qt=!1,sR=typeof WeakSet=="function"?WeakSet:Set,ye=null;function Jo(i,o){var l=i.ref;if(l!==null)if(typeof l=="function")try{l(null)}catch(h){ft(i,o,h)}else l.current=null}function Ff(i,o,l){try{l()}catch(h){ft(i,o,h)}}var D_=!1;function oR(i,o){if(Yd=Gr,i=dy(),Bd(i)){if("selectionStart"in i)var l={start:i.selectionStart,end:i.selectionEnd};else e:{l=(l=i.ownerDocument)&&l.defaultView||window;var h=l.getSelection&&l.getSelection();if(h&&h.rangeCount!==0){l=h.anchorNode;var p=h.anchorOffset,y=h.focusNode;h=h.focusOffset;try{l.nodeType,y.nodeType}catch{l=null;break e}var T=0,R=-1,b=-1,H=0,ee=0,te=i,Z=null;t:for(;;){for(var fe;te!==l||p!==0&&te.nodeType!==3||(R=T+p),te!==y||h!==0&&te.nodeType!==3||(b=T+h),te.nodeType===3&&(T+=te.nodeValue.length),(fe=te.firstChild)!==null;)Z=te,te=fe;for(;;){if(te===i)break t;if(Z===l&&++H===p&&(R=T),Z===y&&++ee===h&&(b=T),(fe=te.nextSibling)!==null)break;te=Z,Z=te.parentNode}te=fe}l=R===-1||b===-1?null:{start:R,end:b}}else l=null}l=l||{start:0,end:0}}else l=null;for(Jd={focusedElem:i,selectionRange:l},Gr=!1,ye=o;ye!==null;)if(o=ye,i=o.child,(o.subtreeFlags&1028)!==0&&i!==null)i.return=o,ye=i;else for(;ye!==null;){o=ye;try{var _e=o.alternate;if((o.flags&1024)!==0)switch(o.tag){case 0:case 11:case 15:break;case 1:if(_e!==null){var we=_e.memoizedProps,Et=_e.memoizedState,j=o.stateNode,L=j.getSnapshotBeforeUpdate(o.elementType===o.type?we:Zn(o.type,we),Et);j.__reactInternalSnapshotBeforeUpdate=L}break;case 3:var $=o.stateNode.containerInfo;$.nodeType===1?$.textContent="":$.nodeType===9&&$.documentElement&&$.removeChild($.documentElement);break;case 5:case 6:case 4:case 17:break;default:throw Error(t(163))}}catch(ie){ft(o,o.return,ie)}if(i=o.sibling,i!==null){i.return=o.return,ye=i;break}ye=o.return}return _e=D_,D_=!1,_e}function Pl(i,o,l){var h=o.updateQueue;if(h=h!==null?h.lastEffect:null,h!==null){var p=h=h.next;do{if((p.tag&i)===i){var y=p.destroy;p.destroy=void 0,y!==void 0&&Ff(o,l,y)}p=p.next}while(p!==h)}}function Uc(i,o){if(o=o.updateQueue,o=o!==null?o.lastEffect:null,o!==null){var l=o=o.next;do{if((l.tag&i)===i){var h=l.create;l.destroy=h()}l=l.next}while(l!==o)}}function jf(i){var o=i.ref;if(o!==null){var l=i.stateNode;i.tag,i=l,typeof o=="function"?o(i):o.current=i}}function L_(i){var o=i.alternate;o!==null&&(i.alternate=null,L_(o)),i.child=null,i.deletions=null,i.sibling=null,i.tag===5&&(o=i.stateNode,o!==null&&(delete o[Sr],delete o[gl],delete o[tf],delete o[BA],delete o[$A])),i.stateNode=null,i.return=null,i.dependencies=null,i.memoizedProps=null,i.memoizedState=null,i.pendingProps=null,i.stateNode=null,i.updateQueue=null}function V_(i){return i.tag===5||i.tag===3||i.tag===4}function M_(i){e:for(;;){for(;i.sibling===null;){if(i.return===null||V_(i.return))return null;i=i.return}for(i.sibling.return=i.return,i=i.sibling;i.tag!==5&&i.tag!==6&&i.tag!==18;){if(i.flags&2||i.child===null||i.tag===4)continue e;i.child.return=i,i=i.child}if(!(i.flags&2))return i.stateNode}}function zf(i,o,l){var h=i.tag;if(h===5||h===6)i=i.stateNode,o?l.nodeType===8?l.parentNode.insertBefore(i,o):l.insertBefore(i,o):(l.nodeType===8?(o=l.parentNode,o.insertBefore(i,l)):(o=l,o.appendChild(i)),l=l._reactRootContainer,l!=null||o.onclick!==null||(o.onclick=mc));else if(h!==4&&(i=i.child,i!==null))for(zf(i,o,l),i=i.sibling;i!==null;)zf(i,o,l),i=i.sibling}function Bf(i,o,l){var h=i.tag;if(h===5||h===6)i=i.stateNode,o?l.insertBefore(i,o):l.appendChild(i);else if(h!==4&&(i=i.child,i!==null))for(Bf(i,o,l),i=i.sibling;i!==null;)Bf(i,o,l),i=i.sibling}var jt=null,er=!1;function Hi(i,o,l){for(l=l.child;l!==null;)U_(i,o,l),l=l.sibling}function U_(i,o,l){if(En&&typeof En.onCommitFiberUnmount=="function")try{En.onCommitFiberUnmount(Is,l)}catch{}switch(l.tag){case 5:Qt||Jo(l,o);case 6:var h=jt,p=er;jt=null,Hi(i,o,l),jt=h,er=p,jt!==null&&(er?(i=jt,l=l.stateNode,i.nodeType===8?i.parentNode.removeChild(l):i.removeChild(l)):jt.removeChild(l.stateNode));break;case 18:jt!==null&&(er?(i=jt,l=l.stateNode,i.nodeType===8?ef(i.parentNode,l):i.nodeType===1&&ef(i,l),Di(i)):ef(jt,l.stateNode));break;case 4:h=jt,p=er,jt=l.stateNode.containerInfo,er=!0,Hi(i,o,l),jt=h,er=p;break;case 0:case 11:case 14:case 15:if(!Qt&&(h=l.updateQueue,h!==null&&(h=h.lastEffect,h!==null))){p=h=h.next;do{var y=p,T=y.destroy;y=y.tag,T!==void 0&&((y&2)!==0||(y&4)!==0)&&Ff(l,o,T),p=p.next}while(p!==h)}Hi(i,o,l);break;case 1:if(!Qt&&(Jo(l,o),h=l.stateNode,typeof h.componentWillUnmount=="function"))try{h.props=l.memoizedProps,h.state=l.memoizedState,h.componentWillUnmount()}catch(R){ft(l,o,R)}Hi(i,o,l);break;case 21:Hi(i,o,l);break;case 22:l.mode&1?(Qt=(h=Qt)||l.memoizedState!==null,Hi(i,o,l),Qt=h):Hi(i,o,l);break;default:Hi(i,o,l)}}function F_(i){var o=i.updateQueue;if(o!==null){i.updateQueue=null;var l=i.stateNode;l===null&&(l=i.stateNode=new sR),o.forEach(function(h){var p=mR.bind(null,i,h);l.has(h)||(l.add(h),h.then(p,p))})}}function tr(i,o){var l=o.deletions;if(l!==null)for(var h=0;h<l.length;h++){var p=l[h];try{var y=i,T=o,R=T;e:for(;R!==null;){switch(R.tag){case 5:jt=R.stateNode,er=!1;break e;case 3:jt=R.stateNode.containerInfo,er=!0;break e;case 4:jt=R.stateNode.containerInfo,er=!0;break e}R=R.return}if(jt===null)throw Error(t(160));U_(y,T,p),jt=null,er=!1;var b=p.alternate;b!==null&&(b.return=null),p.return=null}catch(H){ft(p,o,H)}}if(o.subtreeFlags&12854)for(o=o.child;o!==null;)j_(o,i),o=o.sibling}function j_(i,o){var l=i.alternate,h=i.flags;switch(i.tag){case 0:case 11:case 14:case 15:if(tr(o,i),Pr(i),h&4){try{Pl(3,i,i.return),Uc(3,i)}catch(we){ft(i,i.return,we)}try{Pl(5,i,i.return)}catch(we){ft(i,i.return,we)}}break;case 1:tr(o,i),Pr(i),h&512&&l!==null&&Jo(l,l.return);break;case 5:if(tr(o,i),Pr(i),h&512&&l!==null&&Jo(l,l.return),i.flags&32){var p=i.stateNode;try{_s(p,"")}catch(we){ft(i,i.return,we)}}if(h&4&&(p=i.stateNode,p!=null)){var y=i.memoizedProps,T=l!==null?l.memoizedProps:y,R=i.type,b=i.updateQueue;if(i.updateQueue=null,b!==null)try{R==="input"&&y.type==="radio"&&y.name!=null&&mo(p,y),_o(R,T);var H=_o(R,y);for(T=0;T<b.length;T+=2){var ee=b[T],te=b[T+1];ee==="style"?yo(p,te):ee==="dangerouslySetInnerHTML"?Bu(p,te):ee==="children"?_s(p,te):le(p,ee,te,H)}switch(R){case"input":ys(p,y);break;case"textarea":zu(p,y);break;case"select":var Z=p._wrapperState.wasMultiple;p._wrapperState.wasMultiple=!!y.multiple;var fe=y.value;fe!=null?Gn(p,!!y.multiple,fe,!1):Z!==!!y.multiple&&(y.defaultValue!=null?Gn(p,!!y.multiple,y.defaultValue,!0):Gn(p,!!y.multiple,y.multiple?[]:"",!1))}p[gl]=y}catch(we){ft(i,i.return,we)}}break;case 6:if(tr(o,i),Pr(i),h&4){if(i.stateNode===null)throw Error(t(162));p=i.stateNode,y=i.memoizedProps;try{p.nodeValue=y}catch(we){ft(i,i.return,we)}}break;case 3:if(tr(o,i),Pr(i),h&4&&l!==null&&l.memoizedState.isDehydrated)try{Di(o.containerInfo)}catch(we){ft(i,i.return,we)}break;case 4:tr(o,i),Pr(i);break;case 13:tr(o,i),Pr(i),p=i.child,p.flags&8192&&(y=p.memoizedState!==null,p.stateNode.isHidden=y,!y||p.alternate!==null&&p.alternate.memoizedState!==null||(qf=tt())),h&4&&F_(i);break;case 22:if(ee=l!==null&&l.memoizedState!==null,i.mode&1?(Qt=(H=Qt)||ee,tr(o,i),Qt=H):tr(o,i),Pr(i),h&8192){if(H=i.memoizedState!==null,(i.stateNode.isHidden=H)&&!ee&&(i.mode&1)!==0)for(ye=i,ee=i.child;ee!==null;){for(te=ye=ee;ye!==null;){switch(Z=ye,fe=Z.child,Z.tag){case 0:case 11:case 14:case 15:Pl(4,Z,Z.return);break;case 1:Jo(Z,Z.return);var _e=Z.stateNode;if(typeof _e.componentWillUnmount=="function"){h=Z,l=Z.return;try{o=h,_e.props=o.memoizedProps,_e.state=o.memoizedState,_e.componentWillUnmount()}catch(we){ft(h,l,we)}}break;case 5:Jo(Z,Z.return);break;case 22:if(Z.memoizedState!==null){$_(te);continue}}fe!==null?(fe.return=Z,ye=fe):$_(te)}ee=ee.sibling}e:for(ee=null,te=i;;){if(te.tag===5){if(ee===null){ee=te;try{p=te.stateNode,H?(y=p.style,typeof y.setProperty=="function"?y.setProperty("display","none","important"):y.display="none"):(R=te.stateNode,b=te.memoizedProps.style,T=b!=null&&b.hasOwnProperty("display")?b.display:null,R.style.display=Ai("display",T))}catch(we){ft(i,i.return,we)}}}else if(te.tag===6){if(ee===null)try{te.stateNode.nodeValue=H?"":te.memoizedProps}catch(we){ft(i,i.return,we)}}else if((te.tag!==22&&te.tag!==23||te.memoizedState===null||te===i)&&te.child!==null){te.child.return=te,te=te.child;continue}if(te===i)break e;for(;te.sibling===null;){if(te.return===null||te.return===i)break e;ee===te&&(ee=null),te=te.return}ee===te&&(ee=null),te.sibling.return=te.return,te=te.sibling}}break;case 19:tr(o,i),Pr(i),h&4&&F_(i);break;case 21:break;default:tr(o,i),Pr(i)}}function Pr(i){var o=i.flags;if(o&2){try{e:{for(var l=i.return;l!==null;){if(V_(l)){var h=l;break e}l=l.return}throw Error(t(160))}switch(h.tag){case 5:var p=h.stateNode;h.flags&32&&(_s(p,""),h.flags&=-33);var y=M_(i);Bf(i,y,p);break;case 3:case 4:var T=h.stateNode.containerInfo,R=M_(i);zf(i,R,T);break;default:throw Error(t(161))}}catch(b){ft(i,i.return,b)}i.flags&=-3}o&4096&&(i.flags&=-4097)}function aR(i,o,l){ye=i,z_(i)}function z_(i,o,l){for(var h=(i.mode&1)!==0;ye!==null;){var p=ye,y=p.child;if(p.tag===22&&h){var T=p.memoizedState!==null||Mc;if(!T){var R=p.alternate,b=R!==null&&R.memoizedState!==null||Qt;R=Mc;var H=Qt;if(Mc=T,(Qt=b)&&!H)for(ye=p;ye!==null;)T=ye,b=T.child,T.tag===22&&T.memoizedState!==null?H_(p):b!==null?(b.return=T,ye=b):H_(p);for(;y!==null;)ye=y,z_(y),y=y.sibling;ye=p,Mc=R,Qt=H}B_(i)}else(p.subtreeFlags&8772)!==0&&y!==null?(y.return=p,ye=y):B_(i)}}function B_(i){for(;ye!==null;){var o=ye;if((o.flags&8772)!==0){var l=o.alternate;try{if((o.flags&8772)!==0)switch(o.tag){case 0:case 11:case 15:Qt||Uc(5,o);break;case 1:var h=o.stateNode;if(o.flags&4&&!Qt)if(l===null)h.componentDidMount();else{var p=o.elementType===o.type?l.memoizedProps:Zn(o.type,l.memoizedProps);h.componentDidUpdate(p,l.memoizedState,h.__reactInternalSnapshotBeforeUpdate)}var y=o.updateQueue;y!==null&&$y(o,y,h);break;case 3:var T=o.updateQueue;if(T!==null){if(l=null,o.child!==null)switch(o.child.tag){case 5:l=o.child.stateNode;break;case 1:l=o.child.stateNode}$y(o,T,l)}break;case 5:var R=o.stateNode;if(l===null&&o.flags&4){l=R;var b=o.memoizedProps;switch(o.type){case"button":case"input":case"select":case"textarea":b.autoFocus&&l.focus();break;case"img":b.src&&(l.src=b.src)}}break;case 6:break;case 4:break;case 12:break;case 13:if(o.memoizedState===null){var H=o.alternate;if(H!==null){var ee=H.memoizedState;if(ee!==null){var te=ee.dehydrated;te!==null&&Di(te)}}}break;case 19:case 17:case 21:case 22:case 23:case 25:break;default:throw Error(t(163))}Qt||o.flags&512&&jf(o)}catch(Z){ft(o,o.return,Z)}}if(o===i){ye=null;break}if(l=o.sibling,l!==null){l.return=o.return,ye=l;break}ye=o.return}}function $_(i){for(;ye!==null;){var o=ye;if(o===i){ye=null;break}var l=o.sibling;if(l!==null){l.return=o.return,ye=l;break}ye=o.return}}function H_(i){for(;ye!==null;){var o=ye;try{switch(o.tag){case 0:case 11:case 15:var l=o.return;try{Uc(4,o)}catch(b){ft(o,l,b)}break;case 1:var h=o.stateNode;if(typeof h.componentDidMount=="function"){var p=o.return;try{h.componentDidMount()}catch(b){ft(o,p,b)}}var y=o.return;try{jf(o)}catch(b){ft(o,y,b)}break;case 5:var T=o.return;try{jf(o)}catch(b){ft(o,T,b)}}}catch(b){ft(o,o.return,b)}if(o===i){ye=null;break}var R=o.sibling;if(R!==null){R.return=o.return,ye=R;break}ye=o.return}}var lR=Math.ceil,Fc=re.ReactCurrentDispatcher,$f=re.ReactCurrentOwner,zn=re.ReactCurrentBatchConfig,He=0,Dt=null,At=null,zt=0,Cn=0,Xo=Fi(0),Nt=0,kl=null,Fs=0,jc=0,Hf=0,Cl=null,pn=null,qf=0,Zo=1/0,ri=null,zc=!1,Wf=null,qi=null,Bc=!1,Wi=null,$c=0,bl=0,Gf=null,Hc=-1,qc=0;function rn(){return(He&6)!==0?tt():Hc!==-1?Hc:Hc=tt()}function Gi(i){return(i.mode&1)===0?1:(He&2)!==0&&zt!==0?zt&-zt:qA.transition!==null?(qc===0&&(qc=Ja()),qc):(i=ze,i!==0||(i=window.event,i=i===void 0?16:ko(i.type)),i)}function nr(i,o,l,h){if(50<bl)throw bl=0,Gf=null,Error(t(185));Ps(i,l,h),((He&2)===0||i!==Dt)&&(i===Dt&&((He&2)===0&&(jc|=l),Nt===4&&Ki(i,zt)),mn(i,h),l===1&&He===0&&(o.mode&1)===0&&(Zo=tt()+500,vc&&zi()))}function mn(i,o){var l=i.callbackNode;Rs(i,o);var h=Hr(i,i===Dt?zt:0);if(h===0)l!==null&&Eo(l),i.callbackNode=null,i.callbackPriority=0;else if(o=h&-h,i.callbackPriority!==o){if(l!=null&&Eo(l),o===1)i.tag===0?HA(W_.bind(null,i)):Ny(W_.bind(null,i)),jA(function(){(He&6)===0&&zi()}),l=null;else{switch(pr(h)){case 1:l=To;break;case 4:l=Ka;break;case 16:l=Ts;break;case 536870912:l=Io;break;default:l=Ts}l=ev(l,q_.bind(null,i))}i.callbackPriority=o,i.callbackNode=l}}function q_(i,o){if(Hc=-1,qc=0,(He&6)!==0)throw Error(t(327));var l=i.callbackNode;if(ea()&&i.callbackNode!==l)return null;var h=Hr(i,i===Dt?zt:0);if(h===0)return null;if((h&30)!==0||(h&i.expiredLanes)!==0||o)o=Wc(i,h);else{o=h;var p=He;He|=2;var y=K_();(Dt!==i||zt!==o)&&(ri=null,Zo=tt()+500,zs(i,o));do try{hR();break}catch(R){G_(i,R)}while(!0);hf(),Fc.current=y,He=p,At!==null?o=0:(Dt=null,zt=0,o=Nt)}if(o!==0){if(o===2&&(p=Ya(i),p!==0&&(h=p,o=Kf(i,p))),o===1)throw l=kl,zs(i,0),Ki(i,h),mn(i,tt()),l;if(o===6)Ki(i,h);else{if(p=i.current.alternate,(h&30)===0&&!uR(p)&&(o=Wc(i,h),o===2&&(y=Ya(i),y!==0&&(h=y,o=Kf(i,y))),o===1))throw l=kl,zs(i,0),Ki(i,h),mn(i,tt()),l;switch(i.finishedWork=p,i.finishedLanes=h,o){case 0:case 1:throw Error(t(345));case 2:Bs(i,pn,ri);break;case 3:if(Ki(i,h),(h&130023424)===h&&(o=qf+500-tt(),10<o)){if(Hr(i,0)!==0)break;if(p=i.suspendedLanes,(p&h)!==h){rn(),i.pingedLanes|=i.suspendedLanes&p;break}i.timeoutHandle=Zd(Bs.bind(null,i,pn,ri),o);break}Bs(i,pn,ri);break;case 4:if(Ki(i,h),(h&4194240)===h)break;for(o=i.eventTimes,p=-1;0<h;){var T=31-Tn(h);y=1<<T,T=o[T],T>p&&(p=T),h&=~y}if(h=p,h=tt()-h,h=(120>h?120:480>h?480:1080>h?1080:1920>h?1920:3e3>h?3e3:4320>h?4320:1960*lR(h/1960))-h,10<h){i.timeoutHandle=Zd(Bs.bind(null,i,pn,ri),h);break}Bs(i,pn,ri);break;case 5:Bs(i,pn,ri);break;default:throw Error(t(329))}}}return mn(i,tt()),i.callbackNode===l?q_.bind(null,i):null}function Kf(i,o){var l=Cl;return i.current.memoizedState.isDehydrated&&(zs(i,o).flags|=256),i=Wc(i,o),i!==2&&(o=pn,pn=l,o!==null&&Qf(o)),i}function Qf(i){pn===null?pn=i:pn.push.apply(pn,i)}function uR(i){for(var o=i;;){if(o.flags&16384){var l=o.updateQueue;if(l!==null&&(l=l.stores,l!==null))for(var h=0;h<l.length;h++){var p=l[h],y=p.getSnapshot;p=p.value;try{if(!Jn(y(),p))return!1}catch{return!1}}}if(l=o.child,o.subtreeFlags&16384&&l!==null)l.return=o,o=l;else{if(o===i)break;for(;o.sibling===null;){if(o.return===null||o.return===i)return!0;o=o.return}o.sibling.return=o.return,o=o.sibling}}return!0}function Ki(i,o){for(o&=~Hf,o&=~jc,i.suspendedLanes|=o,i.pingedLanes&=~o,i=i.expirationTimes;0<o;){var l=31-Tn(o),h=1<<l;i[l]=-1,o&=~h}}function W_(i){if((He&6)!==0)throw Error(t(327));ea();var o=Hr(i,0);if((o&1)===0)return mn(i,tt()),null;var l=Wc(i,o);if(i.tag!==0&&l===2){var h=Ya(i);h!==0&&(o=h,l=Kf(i,h))}if(l===1)throw l=kl,zs(i,0),Ki(i,o),mn(i,tt()),l;if(l===6)throw Error(t(345));return i.finishedWork=i.current.alternate,i.finishedLanes=o,Bs(i,pn,ri),mn(i,tt()),null}function Yf(i,o){var l=He;He|=1;try{return i(o)}finally{He=l,He===0&&(Zo=tt()+500,vc&&zi())}}function js(i){Wi!==null&&Wi.tag===0&&(He&6)===0&&ea();var o=He;He|=1;var l=zn.transition,h=ze;try{if(zn.transition=null,ze=1,i)return i()}finally{ze=h,zn.transition=l,He=o,(He&6)===0&&zi()}}function Jf(){Cn=Xo.current,rt(Xo)}function zs(i,o){i.finishedWork=null,i.finishedLanes=0;var l=i.timeoutHandle;if(l!==-1&&(i.timeoutHandle=-1,FA(l)),At!==null)for(l=At.return;l!==null;){var h=l;switch(of(h),h.tag){case 1:h=h.type.childContextTypes,h!=null&&yc();break;case 3:Qo(),rt(hn),rt(Wt),vf();break;case 5:yf(h);break;case 4:Qo();break;case 13:rt(ut);break;case 19:rt(ut);break;case 10:df(h.type._context);break;case 22:case 23:Jf()}l=l.return}if(Dt=i,At=i=Qi(i.current,null),zt=Cn=o,Nt=0,kl=null,Hf=jc=Fs=0,pn=Cl=null,Vs!==null){for(o=0;o<Vs.length;o++)if(l=Vs[o],h=l.interleaved,h!==null){l.interleaved=null;var p=h.next,y=l.pending;if(y!==null){var T=y.next;y.next=p,h.next=T}l.pending=h}Vs=null}return i}function G_(i,o){do{var l=At;try{if(hf(),Cc.current=Oc,bc){for(var h=ct.memoizedState;h!==null;){var p=h.queue;p!==null&&(p.pending=null),h=h.next}bc=!1}if(Us=0,Ot=bt=ct=null,Tl=!1,Il=0,$f.current=null,l===null||l.return===null){Nt=1,kl=o,At=null;break}e:{var y=i,T=l.return,R=l,b=o;if(o=zt,R.flags|=32768,b!==null&&typeof b=="object"&&typeof b.then=="function"){var H=b,ee=R,te=ee.tag;if((ee.mode&1)===0&&(te===0||te===11||te===15)){var Z=ee.alternate;Z?(ee.updateQueue=Z.updateQueue,ee.memoizedState=Z.memoizedState,ee.lanes=Z.lanes):(ee.updateQueue=null,ee.memoizedState=null)}var fe=__(T);if(fe!==null){fe.flags&=-257,v_(fe,T,R,y,o),fe.mode&1&&y_(y,H,o),o=fe,b=H;var _e=o.updateQueue;if(_e===null){var we=new Set;we.add(b),o.updateQueue=we}else _e.add(b);break e}else{if((o&1)===0){y_(y,H,o),Xf();break e}b=Error(t(426))}}else if(lt&&R.mode&1){var Et=__(T);if(Et!==null){(Et.flags&65536)===0&&(Et.flags|=256),v_(Et,T,R,y,o),uf(Yo(b,R));break e}}y=b=Yo(b,R),Nt!==4&&(Nt=2),Cl===null?Cl=[y]:Cl.push(y),y=T;do{switch(y.tag){case 3:y.flags|=65536,o&=-o,y.lanes|=o;var j=m_(y,b,o);By(y,j);break e;case 1:R=b;var L=y.type,$=y.stateNode;if((y.flags&128)===0&&(typeof L.getDerivedStateFromError=="function"||$!==null&&typeof $.componentDidCatch=="function"&&(qi===null||!qi.has($)))){y.flags|=65536,o&=-o,y.lanes|=o;var ie=g_(y,R,o);By(y,ie);break e}}y=y.return}while(y!==null)}Y_(l)}catch(Te){o=Te,At===l&&l!==null&&(At=l=l.return);continue}break}while(!0)}function K_(){var i=Fc.current;return Fc.current=Oc,i===null?Oc:i}function Xf(){(Nt===0||Nt===3||Nt===2)&&(Nt=4),Dt===null||(Fs&268435455)===0&&(jc&268435455)===0||Ki(Dt,zt)}function Wc(i,o){var l=He;He|=2;var h=K_();(Dt!==i||zt!==o)&&(ri=null,zs(i,o));do try{cR();break}catch(p){G_(i,p)}while(!0);if(hf(),He=l,Fc.current=h,At!==null)throw Error(t(261));return Dt=null,zt=0,Nt}function cR(){for(;At!==null;)Q_(At)}function hR(){for(;At!==null&&!Es();)Q_(At)}function Q_(i){var o=Z_(i.alternate,i,Cn);i.memoizedProps=i.pendingProps,o===null?Y_(i):At=o,$f.current=null}function Y_(i){var o=i;do{var l=o.alternate;if(i=o.return,(o.flags&32768)===0){if(l=rR(l,o,Cn),l!==null){At=l;return}}else{if(l=iR(l,o),l!==null){l.flags&=32767,At=l;return}if(i!==null)i.flags|=32768,i.subtreeFlags=0,i.deletions=null;else{Nt=6,At=null;return}}if(o=o.sibling,o!==null){At=o;return}At=o=i}while(o!==null);Nt===0&&(Nt=5)}function Bs(i,o,l){var h=ze,p=zn.transition;try{zn.transition=null,ze=1,dR(i,o,l,h)}finally{zn.transition=p,ze=h}return null}function dR(i,o,l,h){do ea();while(Wi!==null);if((He&6)!==0)throw Error(t(327));l=i.finishedWork;var p=i.finishedLanes;if(l===null)return null;if(i.finishedWork=null,i.finishedLanes=0,l===i.current)throw Error(t(177));i.callbackNode=null,i.callbackPriority=0;var y=l.lanes|l.childLanes;if(Md(i,y),i===Dt&&(At=Dt=null,zt=0),(l.subtreeFlags&2064)===0&&(l.flags&2064)===0||Bc||(Bc=!0,ev(Ts,function(){return ea(),null})),y=(l.flags&15990)!==0,(l.subtreeFlags&15990)!==0||y){y=zn.transition,zn.transition=null;var T=ze;ze=1;var R=He;He|=4,$f.current=null,oR(i,l),j_(l,i),xA(Jd),Gr=!!Yd,Jd=Yd=null,i.current=l,aR(l),$r(),He=R,ze=T,zn.transition=y}else i.current=l;if(Bc&&(Bc=!1,Wi=i,$c=p),y=i.pendingLanes,y===0&&(qi=null),Zu(l.stateNode),mn(i,tt()),o!==null)for(h=i.onRecoverableError,l=0;l<o.length;l++)p=o[l],h(p.value,{componentStack:p.stack,digest:p.digest});if(zc)throw zc=!1,i=Wf,Wf=null,i;return($c&1)!==0&&i.tag!==0&&ea(),y=i.pendingLanes,(y&1)!==0?i===Gf?bl++:(bl=0,Gf=i):bl=0,zi(),null}function ea(){if(Wi!==null){var i=pr($c),o=zn.transition,l=ze;try{if(zn.transition=null,ze=16>i?16:i,Wi===null)var h=!1;else{if(i=Wi,Wi=null,$c=0,(He&6)!==0)throw Error(t(331));var p=He;for(He|=4,ye=i.current;ye!==null;){var y=ye,T=y.child;if((ye.flags&16)!==0){var R=y.deletions;if(R!==null){for(var b=0;b<R.length;b++){var H=R[b];for(ye=H;ye!==null;){var ee=ye;switch(ee.tag){case 0:case 11:case 15:Pl(8,ee,y)}var te=ee.child;if(te!==null)te.return=ee,ye=te;else for(;ye!==null;){ee=ye;var Z=ee.sibling,fe=ee.return;if(L_(ee),ee===H){ye=null;break}if(Z!==null){Z.return=fe,ye=Z;break}ye=fe}}}var _e=y.alternate;if(_e!==null){var we=_e.child;if(we!==null){_e.child=null;do{var Et=we.sibling;we.sibling=null,we=Et}while(we!==null)}}ye=y}}if((y.subtreeFlags&2064)!==0&&T!==null)T.return=y,ye=T;else e:for(;ye!==null;){if(y=ye,(y.flags&2048)!==0)switch(y.tag){case 0:case 11:case 15:Pl(9,y,y.return)}var j=y.sibling;if(j!==null){j.return=y.return,ye=j;break e}ye=y.return}}var L=i.current;for(ye=L;ye!==null;){T=ye;var $=T.child;if((T.subtreeFlags&2064)!==0&&$!==null)$.return=T,ye=$;else e:for(T=L;ye!==null;){if(R=ye,(R.flags&2048)!==0)try{switch(R.tag){case 0:case 11:case 15:Uc(9,R)}}catch(Te){ft(R,R.return,Te)}if(R===T){ye=null;break e}var ie=R.sibling;if(ie!==null){ie.return=R.return,ye=ie;break e}ye=R.return}}if(He=p,zi(),En&&typeof En.onPostCommitFiberRoot=="function")try{En.onPostCommitFiberRoot(Is,i)}catch{}h=!0}return h}finally{ze=l,zn.transition=o}}return!1}function J_(i,o,l){o=Yo(l,o),o=m_(i,o,1),i=$i(i,o,1),o=rn(),i!==null&&(Ps(i,1,o),mn(i,o))}function ft(i,o,l){if(i.tag===3)J_(i,i,l);else for(;o!==null;){if(o.tag===3){J_(o,i,l);break}else if(o.tag===1){var h=o.stateNode;if(typeof o.type.getDerivedStateFromError=="function"||typeof h.componentDidCatch=="function"&&(qi===null||!qi.has(h))){i=Yo(l,i),i=g_(o,i,1),o=$i(o,i,1),i=rn(),o!==null&&(Ps(o,1,i),mn(o,i));break}}o=o.return}}function fR(i,o,l){var h=i.pingCache;h!==null&&h.delete(o),o=rn(),i.pingedLanes|=i.suspendedLanes&l,Dt===i&&(zt&l)===l&&(Nt===4||Nt===3&&(zt&130023424)===zt&&500>tt()-qf?zs(i,0):Hf|=l),mn(i,o)}function X_(i,o){o===0&&((i.mode&1)===0?o=1:(o=Ni,Ni<<=1,(Ni&130023424)===0&&(Ni=4194304)));var l=rn();i=ei(i,o),i!==null&&(Ps(i,o,l),mn(i,l))}function pR(i){var o=i.memoizedState,l=0;o!==null&&(l=o.retryLane),X_(i,l)}function mR(i,o){var l=0;switch(i.tag){case 13:var h=i.stateNode,p=i.memoizedState;p!==null&&(l=p.retryLane);break;case 19:h=i.stateNode;break;default:throw Error(t(314))}h!==null&&h.delete(o),X_(i,l)}var Z_;Z_=function(i,o,l){if(i!==null)if(i.memoizedProps!==o.pendingProps||hn.current)fn=!0;else{if((i.lanes&l)===0&&(o.flags&128)===0)return fn=!1,nR(i,o,l);fn=(i.flags&131072)!==0}else fn=!1,lt&&(o.flags&1048576)!==0&&xy(o,Ec,o.index);switch(o.lanes=0,o.tag){case 2:var h=o.type;Vc(i,o),i=o.pendingProps;var p=Bo(o,Wt.current);Ko(o,l),p=Tf(null,o,h,i,p,l);var y=If();return o.flags|=1,typeof p=="object"&&p!==null&&typeof p.render=="function"&&p.$$typeof===void 0?(o.tag=1,o.memoizedState=null,o.updateQueue=null,dn(h)?(y=!0,_c(o)):y=!1,o.memoizedState=p.state!==null&&p.state!==void 0?p.state:null,mf(o),p.updater=Dc,o.stateNode=p,p._reactInternals=o,Cf(o,h,i,l),o=Of(null,o,h,!0,y,l)):(o.tag=0,lt&&y&&sf(o),nn(null,o,p,l),o=o.child),o;case 16:h=o.elementType;e:{switch(Vc(i,o),i=o.pendingProps,p=h._init,h=p(h._payload),o.type=h,p=o.tag=yR(h),i=Zn(h,i),p){case 0:o=xf(null,o,h,i,l);break e;case 1:o=A_(null,o,h,i,l);break e;case 11:o=w_(null,o,h,i,l);break e;case 14:o=E_(null,o,h,Zn(h.type,i),l);break e}throw Error(t(306,h,""))}return o;case 0:return h=o.type,p=o.pendingProps,p=o.elementType===h?p:Zn(h,p),xf(i,o,h,p,l);case 1:return h=o.type,p=o.pendingProps,p=o.elementType===h?p:Zn(h,p),A_(i,o,h,p,l);case 3:e:{if(R_(o),i===null)throw Error(t(387));h=o.pendingProps,y=o.memoizedState,p=y.element,zy(i,o),Pc(o,h,null,l);var T=o.memoizedState;if(h=T.element,y.isDehydrated)if(y={element:h,isDehydrated:!1,cache:T.cache,pendingSuspenseBoundaries:T.pendingSuspenseBoundaries,transitions:T.transitions},o.updateQueue.baseState=y,o.memoizedState=y,o.flags&256){p=Yo(Error(t(423)),o),o=P_(i,o,h,l,p);break e}else if(h!==p){p=Yo(Error(t(424)),o),o=P_(i,o,h,l,p);break e}else for(kn=Ui(o.stateNode.containerInfo.firstChild),Pn=o,lt=!0,Xn=null,l=Fy(o,null,h,l),o.child=l;l;)l.flags=l.flags&-3|4096,l=l.sibling;else{if(qo(),h===p){o=ni(i,o,l);break e}nn(i,o,h,l)}o=o.child}return o;case 5:return Hy(o),i===null&&lf(o),h=o.type,p=o.pendingProps,y=i!==null?i.memoizedProps:null,T=p.children,Xd(h,p)?T=null:y!==null&&Xd(h,y)&&(o.flags|=32),S_(i,o),nn(i,o,T,l),o.child;case 6:return i===null&&lf(o),null;case 13:return k_(i,o,l);case 4:return gf(o,o.stateNode.containerInfo),h=o.pendingProps,i===null?o.child=Wo(o,null,h,l):nn(i,o,h,l),o.child;case 11:return h=o.type,p=o.pendingProps,p=o.elementType===h?p:Zn(h,p),w_(i,o,h,p,l);case 7:return nn(i,o,o.pendingProps,l),o.child;case 8:return nn(i,o,o.pendingProps.children,l),o.child;case 12:return nn(i,o,o.pendingProps.children,l),o.child;case 10:e:{if(h=o.type._context,p=o.pendingProps,y=o.memoizedProps,T=p.value,Ze(Sc,h._currentValue),h._currentValue=T,y!==null)if(Jn(y.value,T)){if(y.children===p.children&&!hn.current){o=ni(i,o,l);break e}}else for(y=o.child,y!==null&&(y.return=o);y!==null;){var R=y.dependencies;if(R!==null){T=y.child;for(var b=R.firstContext;b!==null;){if(b.context===h){if(y.tag===1){b=ti(-1,l&-l),b.tag=2;var H=y.updateQueue;if(H!==null){H=H.shared;var ee=H.pending;ee===null?b.next=b:(b.next=ee.next,ee.next=b),H.pending=b}}y.lanes|=l,b=y.alternate,b!==null&&(b.lanes|=l),ff(y.return,l,o),R.lanes|=l;break}b=b.next}}else if(y.tag===10)T=y.type===o.type?null:y.child;else if(y.tag===18){if(T=y.return,T===null)throw Error(t(341));T.lanes|=l,R=T.alternate,R!==null&&(R.lanes|=l),ff(T,l,o),T=y.sibling}else T=y.child;if(T!==null)T.return=y;else for(T=y;T!==null;){if(T===o){T=null;break}if(y=T.sibling,y!==null){y.return=T.return,T=y;break}T=T.return}y=T}nn(i,o,p.children,l),o=o.child}return o;case 9:return p=o.type,h=o.pendingProps.children,Ko(o,l),p=Fn(p),h=h(p),o.flags|=1,nn(i,o,h,l),o.child;case 14:return h=o.type,p=Zn(h,o.pendingProps),p=Zn(h.type,p),E_(i,o,h,p,l);case 15:return T_(i,o,o.type,o.pendingProps,l);case 17:return h=o.type,p=o.pendingProps,p=o.elementType===h?p:Zn(h,p),Vc(i,o),o.tag=1,dn(h)?(i=!0,_c(o)):i=!1,Ko(o,l),f_(o,h,p),Cf(o,h,p,l),Of(null,o,h,!0,i,l);case 19:return b_(i,o,l);case 22:return I_(i,o,l)}throw Error(t(156,o.tag))};function ev(i,o){return Ga(i,o)}function gR(i,o,l,h){this.tag=i,this.key=l,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.ref=null,this.pendingProps=o,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=h,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function Bn(i,o,l,h){return new gR(i,o,l,h)}function Zf(i){return i=i.prototype,!(!i||!i.isReactComponent)}function yR(i){if(typeof i=="function")return Zf(i)?1:0;if(i!=null){if(i=i.$$typeof,i===x)return 11;if(i===B)return 14}return 2}function Qi(i,o){var l=i.alternate;return l===null?(l=Bn(i.tag,o,i.key,i.mode),l.elementType=i.elementType,l.type=i.type,l.stateNode=i.stateNode,l.alternate=i,i.alternate=l):(l.pendingProps=o,l.type=i.type,l.flags=0,l.subtreeFlags=0,l.deletions=null),l.flags=i.flags&14680064,l.childLanes=i.childLanes,l.lanes=i.lanes,l.child=i.child,l.memoizedProps=i.memoizedProps,l.memoizedState=i.memoizedState,l.updateQueue=i.updateQueue,o=i.dependencies,l.dependencies=o===null?null:{lanes:o.lanes,firstContext:o.firstContext},l.sibling=i.sibling,l.index=i.index,l.ref=i.ref,l}function Gc(i,o,l,h,p,y){var T=2;if(h=i,typeof i=="function")Zf(i)&&(T=1);else if(typeof i=="string")T=5;else e:switch(i){case k:return $s(l.children,p,y,o);case S:T=8,p|=8;break;case C:return i=Bn(12,l,o,p|2),i.elementType=C,i.lanes=y,i;case P:return i=Bn(13,l,o,p),i.elementType=P,i.lanes=y,i;case xe:return i=Bn(19,l,o,p),i.elementType=xe,i.lanes=y,i;case me:return Kc(l,p,y,o);default:if(typeof i=="object"&&i!==null)switch(i.$$typeof){case V:T=10;break e;case N:T=9;break e;case x:T=11;break e;case B:T=14;break e;case Q:T=16,h=null;break e}throw Error(t(130,i==null?i:typeof i,""))}return o=Bn(T,l,o,p),o.elementType=i,o.type=h,o.lanes=y,o}function $s(i,o,l,h){return i=Bn(7,i,h,o),i.lanes=l,i}function Kc(i,o,l,h){return i=Bn(22,i,h,o),i.elementType=me,i.lanes=l,i.stateNode={isHidden:!1},i}function ep(i,o,l){return i=Bn(6,i,null,o),i.lanes=l,i}function tp(i,o,l){return o=Bn(4,i.children!==null?i.children:[],i.key,o),o.lanes=l,o.stateNode={containerInfo:i.containerInfo,pendingChildren:null,implementation:i.implementation},o}function _R(i,o,l,h,p){this.tag=o,this.containerInfo=i,this.finishedWork=this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.pendingContext=this.context=null,this.callbackPriority=0,this.eventTimes=Xa(0),this.expirationTimes=Xa(-1),this.entangledLanes=this.finishedLanes=this.mutableReadLanes=this.expiredLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=Xa(0),this.identifierPrefix=h,this.onRecoverableError=p,this.mutableSourceEagerHydrationData=null}function np(i,o,l,h,p,y,T,R,b){return i=new _R(i,o,l,R,b),o===1?(o=1,y===!0&&(o|=8)):o=0,y=Bn(3,null,null,o),i.current=y,y.stateNode=i,y.memoizedState={element:h,isDehydrated:l,cache:null,transitions:null,pendingSuspenseBoundaries:null},mf(y),i}function vR(i,o,l){var h=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:de,key:h==null?null:""+h,children:i,containerInfo:o,implementation:l}}function tv(i){if(!i)return ji;i=i._reactInternals;e:{if(Qn(i)!==i||i.tag!==1)throw Error(t(170));var o=i;do{switch(o.tag){case 3:o=o.stateNode.context;break e;case 1:if(dn(o.type)){o=o.stateNode.__reactInternalMemoizedMergedChildContext;break e}}o=o.return}while(o!==null);throw Error(t(171))}if(i.tag===1){var l=i.type;if(dn(l))return Cy(i,l,o)}return o}function nv(i,o,l,h,p,y,T,R,b){return i=np(l,h,!0,i,p,y,T,R,b),i.context=tv(null),l=i.current,h=rn(),p=Gi(l),y=ti(h,p),y.callback=o??null,$i(l,y,p),i.current.lanes=p,Ps(i,p,h),mn(i,h),i}function Qc(i,o,l,h){var p=o.current,y=rn(),T=Gi(p);return l=tv(l),o.context===null?o.context=l:o.pendingContext=l,o=ti(y,T),o.payload={element:i},h=h===void 0?null:h,h!==null&&(o.callback=h),i=$i(p,o,T),i!==null&&(nr(i,p,T,y),Rc(i,p,T)),T}function Yc(i){return i=i.current,i.child?(i.child.tag===5,i.child.stateNode):null}function rv(i,o){if(i=i.memoizedState,i!==null&&i.dehydrated!==null){var l=i.retryLane;i.retryLane=l!==0&&l<o?l:o}}function rp(i,o){rv(i,o),(i=i.alternate)&&rv(i,o)}function wR(){return null}var iv=typeof reportError=="function"?reportError:function(i){console.error(i)};function ip(i){this._internalRoot=i}Jc.prototype.render=ip.prototype.render=function(i){var o=this._internalRoot;if(o===null)throw Error(t(409));Qc(i,o,null,null)},Jc.prototype.unmount=ip.prototype.unmount=function(){var i=this._internalRoot;if(i!==null){this._internalRoot=null;var o=i.containerInfo;js(function(){Qc(null,i,null,null)}),o[Yr]=null}};function Jc(i){this._internalRoot=i}Jc.prototype.unstable_scheduleHydration=function(i){if(i){var o=nl();i={blockedOn:null,target:i,priority:o};for(var l=0;l<In.length&&o!==0&&o<In[l].priority;l++);In.splice(l,0,i),l===0&&Ro(i)}};function sp(i){return!(!i||i.nodeType!==1&&i.nodeType!==9&&i.nodeType!==11)}function Xc(i){return!(!i||i.nodeType!==1&&i.nodeType!==9&&i.nodeType!==11&&(i.nodeType!==8||i.nodeValue!==" react-mount-point-unstable "))}function sv(){}function ER(i,o,l,h,p){if(p){if(typeof h=="function"){var y=h;h=function(){var H=Yc(T);y.call(H)}}var T=nv(o,h,i,0,null,!1,!1,"",sv);return i._reactRootContainer=T,i[Yr]=T.current,pl(i.nodeType===8?i.parentNode:i),js(),T}for(;p=i.lastChild;)i.removeChild(p);if(typeof h=="function"){var R=h;h=function(){var H=Yc(b);R.call(H)}}var b=np(i,0,!1,null,null,!1,!1,"",sv);return i._reactRootContainer=b,i[Yr]=b.current,pl(i.nodeType===8?i.parentNode:i),js(function(){Qc(o,b,l,h)}),b}function Zc(i,o,l,h,p){var y=l._reactRootContainer;if(y){var T=y;if(typeof p=="function"){var R=p;p=function(){var b=Yc(T);R.call(b)}}Qc(o,T,i,p)}else T=ER(l,o,i,p,h);return Yc(T)}el=function(i){switch(i.tag){case 3:var o=i.stateNode;if(o.current.memoizedState.isDehydrated){var l=We(o.pendingLanes);l!==0&&(Za(o,l|1),mn(o,tt()),(He&6)===0&&(Zo=tt()+500,zi()))}break;case 13:js(function(){var h=ei(i,1);if(h!==null){var p=rn();nr(h,i,1,p)}}),rp(i,1)}},So=function(i){if(i.tag===13){var o=ei(i,134217728);if(o!==null){var l=rn();nr(o,i,134217728,l)}rp(i,134217728)}},tl=function(i){if(i.tag===13){var o=Gi(i),l=ei(i,o);if(l!==null){var h=rn();nr(l,i,o,h)}rp(i,o)}},nl=function(){return ze},rl=function(i,o){var l=ze;try{return ze=i,o()}finally{ze=l}},jr=function(i,o,l){switch(o){case"input":if(ys(i,l),o=l.name,l.type==="radio"&&o!=null){for(l=i;l.parentNode;)l=l.parentNode;for(l=l.querySelectorAll("input[name="+JSON.stringify(""+o)+'][type="radio"]'),o=0;o<l.length;o++){var h=l[o];if(h!==i&&h.form===i.form){var p=gc(h);if(!p)throw Error(t(90));Ua(h),ys(h,p)}}}break;case"textarea":zu(i,l);break;case"select":o=l.value,o!=null&&Gn(i,!!l.multiple,o,!1)}},Hu=Yf,qu=js;var TR={usingClientEntryPoint:!1,Events:[yl,jo,gc,Pi,ki,Yf]},Nl={findFiberByHostInstance:xs,bundleType:0,version:"18.3.1",rendererPackageName:"react-dom"},IR={bundleType:Nl.bundleType,version:Nl.version,rendererPackageName:Nl.rendererPackageName,rendererConfig:Nl.rendererConfig,overrideHookState:null,overrideHookStateDeletePath:null,overrideHookStateRenamePath:null,overrideProps:null,overridePropsDeletePath:null,overridePropsRenamePath:null,setErrorHandler:null,setSuspenseHandler:null,scheduleUpdate:null,currentDispatcherRef:re.ReactCurrentDispatcher,findHostInstanceByFiber:function(i){return i=Xu(i),i===null?null:i.stateNode},findFiberByHostInstance:Nl.findFiberByHostInstance||wR,findHostInstancesForRefresh:null,scheduleRefresh:null,scheduleRoot:null,setRefreshHandler:null,getCurrentFiber:null,reconcilerVersion:"18.3.1-next-f1338f8080-20240426"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var eh=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!eh.isDisabled&&eh.supportsFiber)try{Is=eh.inject(IR),En=eh}catch{}}return gn.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=TR,gn.createPortal=function(i,o){var l=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!sp(o))throw Error(t(200));return vR(i,o,null,l)},gn.createRoot=function(i,o){if(!sp(i))throw Error(t(299));var l=!1,h="",p=iv;return o!=null&&(o.unstable_strictMode===!0&&(l=!0),o.identifierPrefix!==void 0&&(h=o.identifierPrefix),o.onRecoverableError!==void 0&&(p=o.onRecoverableError)),o=np(i,1,!1,null,null,l,!1,h,p),i[Yr]=o.current,pl(i.nodeType===8?i.parentNode:i),new ip(o)},gn.findDOMNode=function(i){if(i==null)return null;if(i.nodeType===1)return i;var o=i._reactInternals;if(o===void 0)throw typeof i.render=="function"?Error(t(188)):(i=Object.keys(i).join(","),Error(t(268,i)));return i=Xu(o),i=i===null?null:i.stateNode,i},gn.flushSync=function(i){return js(i)},gn.hydrate=function(i,o,l){if(!Xc(o))throw Error(t(200));return Zc(null,i,o,!0,l)},gn.hydrateRoot=function(i,o,l){if(!sp(i))throw Error(t(405));var h=l!=null&&l.hydratedSources||null,p=!1,y="",T=iv;if(l!=null&&(l.unstable_strictMode===!0&&(p=!0),l.identifierPrefix!==void 0&&(y=l.identifierPrefix),l.onRecoverableError!==void 0&&(T=l.onRecoverableError)),o=nv(o,null,i,1,l??null,p,!1,y,T),i[Yr]=o.current,pl(i),h)for(i=0;i<h.length;i++)l=h[i],p=l._getVersion,p=p(l._source),o.mutableSourceEagerHydrationData==null?o.mutableSourceEagerHydrationData=[l,p]:o.mutableSourceEagerHydrationData.push(l,p);return new Jc(o)},gn.render=function(i,o,l){if(!Xc(o))throw Error(t(200));return Zc(null,i,o,!1,l)},gn.unmountComponentAtNode=function(i){if(!Xc(i))throw Error(t(40));return i._reactRootContainer?(js(function(){Zc(null,null,i,!1,function(){i._reactRootContainer=null,i[Yr]=null})}),!0):!1},gn.unstable_batchedUpdates=Yf,gn.unstable_renderSubtreeIntoContainer=function(i,o,l,h){if(!Xc(l))throw Error(t(200));if(i==null||i._reactInternals===void 0)throw Error(t(38));return Zc(i,o,l,!1,h)},gn.version="18.3.1-next-f1338f8080-20240426",gn}var fv;function NR(){if(fv)return lp.exports;fv=1;function n(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(n)}catch(e){console.error(e)}}return n(),lp.exports=bR(),lp.exports}var pv;function xR(){if(pv)return th;pv=1;var n=NR();return th.createRoot=n.createRoot,th.hydrateRoot=n.hydrateRoot,th}var OR=xR();const DR=Ra(OR);var hp,mv;function LR(){if(mv)return hp;mv=1;var n=typeof Element<"u",e=typeof Map=="function",t=typeof Set=="function",r=typeof ArrayBuffer=="function"&&!!ArrayBuffer.isView;function s(a,u){if(a===u)return!0;if(a&&u&&typeof a=="object"&&typeof u=="object"){if(a.constructor!==u.constructor)return!1;var d,f,m;if(Array.isArray(a)){if(d=a.length,d!=u.length)return!1;for(f=d;f--!==0;)if(!s(a[f],u[f]))return!1;return!0}var g;if(e&&a instanceof Map&&u instanceof Map){if(a.size!==u.size)return!1;for(g=a.entries();!(f=g.next()).done;)if(!u.has(f.value[0]))return!1;for(g=a.entries();!(f=g.next()).done;)if(!s(f.value[1],u.get(f.value[0])))return!1;return!0}if(t&&a instanceof Set&&u instanceof Set){if(a.size!==u.size)return!1;for(g=a.entries();!(f=g.next()).done;)if(!u.has(f.value[0]))return!1;return!0}if(r&&ArrayBuffer.isView(a)&&ArrayBuffer.isView(u)){if(d=a.length,d!=u.length)return!1;for(f=d;f--!==0;)if(a[f]!==u[f])return!1;return!0}if(a.constructor===RegExp)return a.source===u.source&&a.flags===u.flags;if(a.valueOf!==Object.prototype.valueOf&&typeof a.valueOf=="function"&&typeof u.valueOf=="function")return a.valueOf()===u.valueOf();if(a.toString!==Object.prototype.toString&&typeof a.toString=="function"&&typeof u.toString=="function")return a.toString()===u.toString();if(m=Object.keys(a),d=m.length,d!==Object.keys(u).length)return!1;for(f=d;f--!==0;)if(!Object.prototype.hasOwnProperty.call(u,m[f]))return!1;if(n&&a instanceof Element)return!1;for(f=d;f--!==0;)if(!((m[f]==="_owner"||m[f]==="__v"||m[f]==="__o")&&a.$$typeof)&&!s(a[m[f]],u[m[f]]))return!1;return!0}return a!==a&&u!==u}return hp=function(u,d){try{return s(u,d)}catch(f){if((f.message||"").match(/stack|recursion/i))return console.warn("react-fast-compare cannot handle circular refs"),!1;throw f}},hp}var VR=LR();const MR=Ra(VR);var dp,gv;function UR(){if(gv)return dp;gv=1;var n=function(e,t,r,s,a,u,d,f){if(!e){var m;if(t===void 0)m=new Error("Minified exception occurred; use the non-minified dev environment for the full error message and additional helpful warnings.");else{var g=[r,s,a,u,d,f],E=0;m=new Error(t.replace(/%s/g,function(){return g[E++]})),m.name="Invariant Violation"}throw m.framesToPop=1,m}};return dp=n,dp}var FR=UR();const yv=Ra(FR);var fp,_v;function jR(){return _v||(_v=1,fp=function(e,t,r,s){var a=r?r.call(s,e,t):void 0;if(a!==void 0)return!!a;if(e===t)return!0;if(typeof e!="object"||!e||typeof t!="object"||!t)return!1;var u=Object.keys(e),d=Object.keys(t);if(u.length!==d.length)return!1;for(var f=Object.prototype.hasOwnProperty.bind(t),m=0;m<u.length;m++){var g=u[m];if(!f(g))return!1;var E=e[g],w=t[g];if(a=r?r.call(s,E,w,g):void 0,a===!1||a===void 0&&E!==w)return!1}return!0}),fp}var zR=jR();const BR=Ra(zR);var hT=(n=>(n.BASE="base",n.BODY="body",n.HEAD="head",n.HTML="html",n.LINK="link",n.META="meta",n.NOSCRIPT="noscript",n.SCRIPT="script",n.STYLE="style",n.TITLE="title",n.FRAGMENT="Symbol(react.fragment)",n))(hT||{}),pp={link:{rel:["amphtml","canonical","alternate"]},script:{type:["application/ld+json"]},meta:{charset:"",name:["generator","robots","description"],property:["og:type","og:title","og:url","og:image","og:image:alt","og:description","twitter:url","twitter:title","twitter:description","twitter:image","twitter:image:alt","twitter:card","twitter:site"]}},vv=Object.values(hT),Pm={accesskey:"accessKey",charset:"charSet",class:"className",contenteditable:"contentEditable",contextmenu:"contextMenu","http-equiv":"httpEquiv",itemprop:"itemProp",tabindex:"tabIndex"},$R=Object.entries(Pm).reduce((n,[e,t])=>(n[t]=e,n),{}),or="data-rh",la={DEFAULT_TITLE:"defaultTitle",DEFER:"defer",ENCODE_SPECIAL_CHARACTERS:"encodeSpecialCharacters",ON_CHANGE_CLIENT_STATE:"onChangeClientState",TITLE_TEMPLATE:"titleTemplate",PRIORITIZE_SEO_TAGS:"prioritizeSeoTags"},ua=(n,e)=>{for(let t=n.length-1;t>=0;t-=1){const r=n[t];if(Object.prototype.hasOwnProperty.call(r,e))return r[e]}return null},HR=n=>{let e=ua(n,"title");const t=ua(n,la.TITLE_TEMPLATE);if(Array.isArray(e)&&(e=e.join("")),t&&e)return t.replace(/%s/g,()=>e);const r=ua(n,la.DEFAULT_TITLE);return e||r||void 0},qR=n=>ua(n,la.ON_CHANGE_CLIENT_STATE)||(()=>{}),mp=(n,e)=>e.filter(t=>typeof t[n]<"u").map(t=>t[n]).reduce((t,r)=>({...t,...r}),{}),WR=(n,e)=>e.filter(t=>typeof t.base<"u").map(t=>t.base).reverse().reduce((t,r)=>{if(!t.length){const s=Object.keys(r);for(let a=0;a<s.length;a+=1){const d=s[a].toLowerCase();if(n.indexOf(d)!==-1&&r[d])return t.concat(r)}}return t},[]),GR=n=>console&&typeof console.warn=="function"&&console.warn(n),Ol=(n,e,t)=>{const r={};return t.filter(s=>Array.isArray(s[n])?!0:(typeof s[n]<"u"&&GR(`Helmet: ${n} should be of type "Array". Instead found type "${typeof s[n]}"`),!1)).map(s=>s[n]).reverse().reduce((s,a)=>{const u={};a.filter(f=>{let m;const g=Object.keys(f);for(let w=0;w<g.length;w+=1){const A=g[w],O=A.toLowerCase();e.indexOf(O)!==-1&&!(m==="rel"&&f[m].toLowerCase()==="canonical")&&!(O==="rel"&&f[O].toLowerCase()==="stylesheet")&&(m=O),e.indexOf(A)!==-1&&(A==="innerHTML"||A==="cssText"||A==="itemprop")&&(m=A)}if(!m||!f[m])return!1;const E=f[m].toLowerCase();return r[m]||(r[m]={}),u[m]||(u[m]={}),r[m][E]?!1:(u[m][E]=!0,!0)}).reverse().forEach(f=>s.push(f));const d=Object.keys(u);for(let f=0;f<d.length;f+=1){const m=d[f],g={...r[m],...u[m]};r[m]=g}return s},[]).reverse()},KR=(n,e)=>{if(Array.isArray(n)&&n.length){for(let t=0;t<n.length;t+=1)if(n[t][e])return!0}return!1},QR=n=>({baseTag:WR(["href"],n),bodyAttributes:mp("bodyAttributes",n),defer:ua(n,la.DEFER),encode:ua(n,la.ENCODE_SPECIAL_CHARACTERS),htmlAttributes:mp("htmlAttributes",n),linkTags:Ol("link",["rel","href"],n),metaTags:Ol("meta",["name","charset","http-equiv","property","itemprop"],n),noscriptTags:Ol("noscript",["innerHTML"],n),onChangeClientState:qR(n),scriptTags:Ol("script",["src","innerHTML"],n),styleTags:Ol("style",["cssText"],n),title:HR(n),titleAttributes:mp("titleAttributes",n),prioritizeSeoTags:KR(n,la.PRIORITIZE_SEO_TAGS)}),dT=n=>Array.isArray(n)?n.join(""):n,YR=(n,e)=>{const t=Object.keys(n);for(let r=0;r<t.length;r+=1)if(e[t[r]]&&e[t[r]].includes(n[t[r]]))return!0;return!1},gp=(n,e)=>Array.isArray(n)?n.reduce((t,r)=>(YR(r,e)?t.priority.push(r):t.default.push(r),t),{priority:[],default:[]}):{default:n,priority:[]},wv=(n,e)=>({...n,[e]:void 0}),JR=["noscript","script","style"],Hp=(n,e=!0)=>e===!1?String(n):String(n).replace(/&/g,"&amp;").replace(/</g,"&lt;").replace(/>/g,"&gt;").replace(/"/g,"&quot;").replace(/'/g,"&#x27;"),fT=n=>Object.keys(n).reduce((e,t)=>{const r=typeof n[t]<"u"?`${t}="${n[t]}"`:`${t}`;return e?`${e} ${r}`:r},""),XR=(n,e,t,r)=>{const s=fT(t),a=dT(e);return s?`<${n} ${or}="true" ${s}>${Hp(a,r)}</${n}>`:`<${n} ${or}="true">${Hp(a,r)}</${n}>`},ZR=(n,e,t=!0)=>e.reduce((r,s)=>{const a=s,u=Object.keys(a).filter(m=>!(m==="innerHTML"||m==="cssText")).reduce((m,g)=>{const E=typeof a[g]>"u"?g:`${g}="${Hp(a[g],t)}"`;return m?`${m} ${E}`:E},""),d=a.innerHTML||a.cssText||"",f=JR.indexOf(n)===-1;return`${r}<${n} ${or}="true" ${u}${f?"/>":`>${d}</${n}>`}`},""),pT=(n,e={})=>Object.keys(n).reduce((t,r)=>{const s=Pm[r];return t[s||r]=n[r],t},e),eP=(n,e,t)=>{const r={key:e,[or]:!0},s=pT(t,r);return[pe.createElement("title",s,e)]},mh=(n,e)=>e.map((t,r)=>{const s={key:r,[or]:!0};return Object.keys(t).forEach(a=>{const d=Pm[a]||a;if(d==="innerHTML"||d==="cssText"){const f=t.innerHTML||t.cssText;s.dangerouslySetInnerHTML={__html:f}}else s[d]=t[a]}),pe.createElement(n,s)}),$n=(n,e,t=!0)=>{switch(n){case"title":return{toComponent:()=>eP(n,e.title,e.titleAttributes),toString:()=>XR(n,e.title,e.titleAttributes,t)};case"bodyAttributes":case"htmlAttributes":return{toComponent:()=>pT(e),toString:()=>fT(e)};default:return{toComponent:()=>mh(n,e),toString:()=>ZR(n,e,t)}}},tP=({metaTags:n,linkTags:e,scriptTags:t,encode:r})=>{const s=gp(n,pp.meta),a=gp(e,pp.link),u=gp(t,pp.script);return{priorityMethods:{toComponent:()=>[...mh("meta",s.priority),...mh("link",a.priority),...mh("script",u.priority)],toString:()=>`${$n("meta",s.priority,r)} ${$n("link",a.priority,r)} ${$n("script",u.priority,r)}`},metaTags:s.default,linkTags:a.default,scriptTags:u.default}},nP=n=>{const{baseTag:e,bodyAttributes:t,encode:r=!0,htmlAttributes:s,noscriptTags:a,styleTags:u,title:d="",titleAttributes:f,prioritizeSeoTags:m}=n;let{linkTags:g,metaTags:E,scriptTags:w}=n,A={toComponent:()=>{},toString:()=>""};return m&&({priorityMethods:A,linkTags:g,metaTags:E,scriptTags:w}=tP(n)),{priority:A,base:$n("base",e,r),bodyAttributes:$n("bodyAttributes",t,r),htmlAttributes:$n("htmlAttributes",s,r),link:$n("link",g,r),meta:$n("meta",E,r),noscript:$n("noscript",a,r),script:$n("script",w,r),style:$n("style",u,r),title:$n("title",{title:d,titleAttributes:f},r)}},qp=nP,nh=[],mT=!!(typeof window<"u"&&window.document&&window.document.createElement),Wp=class{instances=[];canUseDOM=mT;context;value={setHelmet:n=>{this.context.helmet=n},helmetInstances:{get:()=>this.canUseDOM?nh:this.instances,add:n=>{(this.canUseDOM?nh:this.instances).push(n)},remove:n=>{const e=(this.canUseDOM?nh:this.instances).indexOf(n);(this.canUseDOM?nh:this.instances).splice(e,1)}}};constructor(n,e){this.context=n,this.canUseDOM=e||!1,e||(n.helmet=qp({baseTag:[],bodyAttributes:{},htmlAttributes:{},linkTags:[],metaTags:[],noscriptTags:[],scriptTags:[],styleTags:[],title:"",titleAttributes:{}}))}},rP={},gT=pe.createContext(rP),yT=class _T extends he.Component{static canUseDOM=mT;helmetData;constructor(e){super(e),this.helmetData=new Wp(this.props.context||{},_T.canUseDOM)}render(){return pe.createElement(gT.Provider,{value:this.helmetData.value},this.props.children)}},ta=(n,e)=>{const t=document.head||document.querySelector("head"),r=t.querySelectorAll(`${n}[${or}]`),s=[].slice.call(r),a=[];let u;return e&&e.length&&e.forEach(d=>{const f=document.createElement(n);for(const m in d)if(Object.prototype.hasOwnProperty.call(d,m))if(m==="innerHTML")f.innerHTML=d.innerHTML;else if(m==="cssText")f.styleSheet?f.styleSheet.cssText=d.cssText:f.appendChild(document.createTextNode(d.cssText));else{const g=m,E=typeof d[g]>"u"?"":d[g];f.setAttribute(m,E)}f.setAttribute(or,"true"),s.some((m,g)=>(u=g,f.isEqualNode(m)))?s.splice(u,1):a.push(f)}),s.forEach(d=>d.parentNode?.removeChild(d)),a.forEach(d=>t.appendChild(d)),{oldTags:s,newTags:a}},Gp=(n,e)=>{const t=document.getElementsByTagName(n)[0];if(!t)return;const r=t.getAttribute(or),s=r?r.split(","):[],a=[...s],u=Object.keys(e);for(const d of u){const f=e[d]||"";t.getAttribute(d)!==f&&t.setAttribute(d,f),s.indexOf(d)===-1&&s.push(d);const m=a.indexOf(d);m!==-1&&a.splice(m,1)}for(let d=a.length-1;d>=0;d-=1)t.removeAttribute(a[d]);s.length===a.length?t.removeAttribute(or):t.getAttribute(or)!==u.join(",")&&t.setAttribute(or,u.join(","))},iP=(n,e)=>{typeof n<"u"&&document.title!==n&&(document.title=dT(n)),Gp("title",e)},Ev=(n,e)=>{const{baseTag:t,bodyAttributes:r,htmlAttributes:s,linkTags:a,metaTags:u,noscriptTags:d,onChangeClientState:f,scriptTags:m,styleTags:g,title:E,titleAttributes:w}=n;Gp("body",r),Gp("html",s),iP(E,w);const A={baseTag:ta("base",t),linkTags:ta("link",a),metaTags:ta("meta",u),noscriptTags:ta("noscript",d),scriptTags:ta("script",m),styleTags:ta("style",g)},O={},F={};Object.keys(A).forEach(M=>{const{newTags:J,oldTags:se}=A[M];J.length&&(O[M]=J),se.length&&(F[M]=A[M].oldTags)}),e&&e(),f(n,O,F)},Dl=null,sP=n=>{Dl&&cancelAnimationFrame(Dl),n.defer?Dl=requestAnimationFrame(()=>{Ev(n,()=>{Dl=null})}):(Ev(n),Dl=null)},oP=sP,Tv=class extends he.Component{rendered=!1;shouldComponentUpdate(n){return!BR(n,this.props)}componentDidUpdate(){this.emitChange()}componentWillUnmount(){const{helmetInstances:n}=this.props.context;n.remove(this),this.emitChange()}emitChange(){const{helmetInstances:n,setHelmet:e}=this.props.context;let t=null;const r=QR(n.get().map(s=>{const a={...s.props};return delete a.context,a}));yT.canUseDOM?oP(r):qp&&(t=qp(r)),e(t)}init(){if(this.rendered)return;this.rendered=!0;const{helmetInstances:n}=this.props.context;n.add(this),this.emitChange()}render(){return this.init(),null}},FU=class extends he.Component{static defaultProps={defer:!0,encodeSpecialCharacters:!0,prioritizeSeoTags:!1};shouldComponentUpdate(n){return!MR(wv(this.props,"helmetData"),wv(n,"helmetData"))}mapNestedChildrenToProps(n,e){if(!e)return null;switch(n.type){case"script":case"noscript":return{innerHTML:e};case"style":return{cssText:e};default:throw new Error(`<${n.type} /> elements are self-closing and can not contain children. Refer to our API for more information.`)}}flattenArrayTypeChildren(n,e,t,r){return{...e,[n.type]:[...e[n.type]||[],{...t,...this.mapNestedChildrenToProps(n,r)}]}}mapObjectTypeChildren(n,e,t,r){switch(n.type){case"title":return{...e,[n.type]:r,titleAttributes:{...t}};case"body":return{...e,bodyAttributes:{...t}};case"html":return{...e,htmlAttributes:{...t}};default:return{...e,[n.type]:{...t}}}}mapArrayTypeChildrenToProps(n,e){let t={...e};return Object.keys(n).forEach(r=>{t={...t,[r]:n[r]}}),t}warnOnInvalidChildren(n,e){return yv(vv.some(t=>n.type===t),typeof n.type=="function"?"You may be attempting to nest <Helmet> components within each other, which is not allowed. Refer to our API for more information.":`Only elements types ${vv.join(", ")} are allowed. Helmet does not support rendering <${n.type}> elements. Refer to our API for more information.`),yv(!e||typeof e=="string"||Array.isArray(e)&&!e.some(t=>typeof t!="string"),`Helmet expects a string as a child of <${n.type}>. Did you forget to wrap your children in braces? ( <${n.type}>{\`\`}</${n.type}> ) Refer to our API for more information.`),!0}mapChildrenToProps(n,e){let t={};return pe.Children.forEach(n,r=>{if(!r||!r.props)return;const{children:s,...a}=r.props,u=Object.keys(a).reduce((f,m)=>(f[$R[m]||m]=a[m],f),{});let{type:d}=r;switch(typeof d=="symbol"?d=d.toString():this.warnOnInvalidChildren(r,s),d){case"Symbol(react.fragment)":e=this.mapChildrenToProps(s,e);break;case"link":case"meta":case"noscript":case"script":case"style":t=this.flattenArrayTypeChildren(r,t,u,s);break;default:e=this.mapObjectTypeChildren(r,e,u,s);break}}),this.mapArrayTypeChildrenToProps(t,e)}render(){const{children:n,...e}=this.props;let t={...e},{helmetData:r}=e;if(n&&(t=this.mapChildrenToProps(n,t)),r&&!(r instanceof Wp)){const s=r;r=new Wp(s.context,!0),delete t.helmetData}return r?pe.createElement(Tv,{...t,context:r.value}):pe.createElement(gT.Consumer,null,s=>pe.createElement(Tv,{...t,context:s}))}};const aP="modulepreload",lP=function(n){return"/"+n},Iv={},Ee=function(e,t,r){let s=Promise.resolve();if(t&&t.length>0){let f=function(m){return Promise.all(m.map(g=>Promise.resolve(g).then(E=>({status:"fulfilled",value:E}),E=>({status:"rejected",reason:E}))))};document.getElementsByTagName("link");const u=document.querySelector("meta[property=csp-nonce]"),d=u?.nonce||u?.getAttribute("nonce");s=f(t.map(m=>{if(m=lP(m),m in Iv)return;Iv[m]=!0;const g=m.endsWith(".css"),E=g?'[rel="stylesheet"]':"";if(document.querySelector(`link[href="${m}"]${E}`))return;const w=document.createElement("link");if(w.rel=g?"stylesheet":aP,g||(w.as="script"),w.crossOrigin="",w.href=m,d&&w.setAttribute("nonce",d),document.head.appendChild(w),g)return new Promise((A,O)=>{w.addEventListener("load",A),w.addEventListener("error",()=>O(new Error(`Unable to preload CSS for ${m}`)))})}))}function a(u){const d=new Event("vite:preloadError",{cancelable:!0});if(d.payload=u,window.dispatchEvent(d),!d.defaultPrevented)throw u}return s.then(u=>{for(const d of u||[])d.status==="rejected"&&a(d.reason);return e().catch(a)})},vT=he.createContext(void 0),kr=({children:n})=>{const[e,t]=he.useState("light");he.useEffect(()=>{const s=localStorage.getItem("careervivid-theme"),a=window.matchMedia("(prefers-color-scheme: dark)").matches;t(s||(a?"dark":"light"))},[]),he.useEffect(()=>{e==="dark"?document.documentElement.classList.add("dark"):document.documentElement.classList.remove("dark"),localStorage.setItem("careervivid-theme",e)},[e]);const r=()=>{t(s=>s==="light"?"dark":"light")};return D.jsx(vT.Provider,{value:{theme:e,toggleTheme:r},children:n})},wT=()=>{const n=he.useContext(vT);if(n===void 0)throw new Error("useTheme must be used within a ThemeProvider");return n},uP=()=>{};var Sv={};const ET=function(n){const e=[];let t=0;for(let r=0;r<n.length;r++){let s=n.charCodeAt(r);s<128?e[t++]=s:s<2048?(e[t++]=s>>6|192,e[t++]=s&63|128):(s&64512)===55296&&r+1<n.length&&(n.charCodeAt(r+1)&64512)===56320?(s=65536+((s&1023)<<10)+(n.charCodeAt(++r)&1023),e[t++]=s>>18|240,e[t++]=s>>12&63|128,e[t++]=s>>6&63|128,e[t++]=s&63|128):(e[t++]=s>>12|224,e[t++]=s>>6&63|128,e[t++]=s&63|128)}return e},cP=function(n){const e=[];let t=0,r=0;for(;t<n.length;){const s=n[t++];if(s<128)e[r++]=String.fromCharCode(s);else if(s>191&&s<224){const a=n[t++];e[r++]=String.fromCharCode((s&31)<<6|a&63)}else if(s>239&&s<365){const a=n[t++],u=n[t++],d=n[t++],f=((s&7)<<18|(a&63)<<12|(u&63)<<6|d&63)-65536;e[r++]=String.fromCharCode(55296+(f>>10)),e[r++]=String.fromCharCode(56320+(f&1023))}else{const a=n[t++],u=n[t++];e[r++]=String.fromCharCode((s&15)<<12|(a&63)<<6|u&63)}}return e.join("")},TT={byteToCharMap_:null,charToByteMap_:null,byteToCharMapWebSafe_:null,charToByteMapWebSafe_:null,ENCODED_VALS_BASE:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",get ENCODED_VALS(){return this.ENCODED_VALS_BASE+"+/="},get ENCODED_VALS_WEBSAFE(){return this.ENCODED_VALS_BASE+"-_."},HAS_NATIVE_SUPPORT:typeof atob=="function",encodeByteArray(n,e){if(!Array.isArray(n))throw Error("encodeByteArray takes an array as a parameter");this.init_();const t=e?this.byteToCharMapWebSafe_:this.byteToCharMap_,r=[];for(let s=0;s<n.length;s+=3){const a=n[s],u=s+1<n.length,d=u?n[s+1]:0,f=s+2<n.length,m=f?n[s+2]:0,g=a>>2,E=(a&3)<<4|d>>4;let w=(d&15)<<2|m>>6,A=m&63;f||(A=64,u||(w=64)),r.push(t[g],t[E],t[w],t[A])}return r.join("")},encodeString(n,e){return this.HAS_NATIVE_SUPPORT&&!e?btoa(n):this.encodeByteArray(ET(n),e)},decodeString(n,e){return this.HAS_NATIVE_SUPPORT&&!e?atob(n):cP(this.decodeStringToByteArray(n,e))},decodeStringToByteArray(n,e){this.init_();const t=e?this.charToByteMapWebSafe_:this.charToByteMap_,r=[];for(let s=0;s<n.length;){const a=t[n.charAt(s++)],d=s<n.length?t[n.charAt(s)]:0;++s;const m=s<n.length?t[n.charAt(s)]:64;++s;const E=s<n.length?t[n.charAt(s)]:64;if(++s,a==null||d==null||m==null||E==null)throw new hP;const w=a<<2|d>>4;if(r.push(w),m!==64){const A=d<<4&240|m>>2;if(r.push(A),E!==64){const O=m<<6&192|E;r.push(O)}}}return r},init_(){if(!this.byteToCharMap_){this.byteToCharMap_={},this.charToByteMap_={},this.byteToCharMapWebSafe_={},this.charToByteMapWebSafe_={};for(let n=0;n<this.ENCODED_VALS.length;n++)this.byteToCharMap_[n]=this.ENCODED_VALS.charAt(n),this.charToByteMap_[this.byteToCharMap_[n]]=n,this.byteToCharMapWebSafe_[n]=this.ENCODED_VALS_WEBSAFE.charAt(n),this.charToByteMapWebSafe_[this.byteToCharMapWebSafe_[n]]=n,n>=this.ENCODED_VALS_BASE.length&&(this.charToByteMap_[this.ENCODED_VALS_WEBSAFE.charAt(n)]=n,this.charToByteMapWebSafe_[this.ENCODED_VALS.charAt(n)]=n)}}};class hP extends Error{constructor(){super(...arguments),this.name="DecodeBase64StringError"}}const dP=function(n){const e=ET(n);return TT.encodeByteArray(e,!0)},Ph=function(n){return dP(n).replace(/\./g,"")},IT=function(n){try{return TT.decodeString(n,!0)}catch(e){console.error("base64Decode failed: ",e)}return null};function fP(){if(typeof self<"u")return self;if(typeof window<"u")return window;if(typeof global<"u")return global;throw new Error("Unable to locate global object.")}const pP=()=>fP().__FIREBASE_DEFAULTS__,mP=()=>{if(typeof process>"u"||typeof Sv>"u")return;const n=Sv.__FIREBASE_DEFAULTS__;if(n)return JSON.parse(n)},gP=()=>{if(typeof document>"u")return;let n;try{n=document.cookie.match(/__FIREBASE_DEFAULTS__=([^;]+)/)}catch{return}const e=n&&IT(n[1]);return e&&JSON.parse(e)},rd=()=>{try{return uP()||pP()||mP()||gP()}catch(n){console.info(`Unable to get __FIREBASE_DEFAULTS__ due to: ${n}`);return}},ST=n=>rd()?.emulatorHosts?.[n],km=n=>{const e=ST(n);if(!e)return;const t=e.lastIndexOf(":");if(t<=0||t+1===e.length)throw new Error(`Invalid host ${e} with no separate hostname and port!`);const r=parseInt(e.substring(t+1),10);return e[0]==="["?[e.substring(1,t-1),r]:[e.substring(0,t),r]},AT=()=>rd()?.config,RT=n=>rd()?.[`_${n}`];class yP{constructor(){this.reject=()=>{},this.resolve=()=>{},this.promise=new Promise((e,t)=>{this.resolve=e,this.reject=t})}wrapCallback(e){return(t,r)=>{t?this.reject(t):this.resolve(r),typeof e=="function"&&(this.promise.catch(()=>{}),e.length===1?e(t):e(t,r))}}}function Fr(n){try{return(n.startsWith("http://")||n.startsWith("https://")?new URL(n).hostname:n).endsWith(".cloudworkstations.dev")}catch{return!1}}async function id(n){return(await fetch(n,{credentials:"include"})).ok}function PT(n,e){if(n.uid)throw new Error('The "uid" field is no longer supported by mockUserToken. Please use "sub" instead for Firebase Auth User ID.');const t={alg:"none",type:"JWT"},r=e||"demo-project",s=n.iat||0,a=n.sub||n.user_id;if(!a)throw new Error("mockUserToken must contain 'sub' or 'user_id' field!");const u={iss:`https://securetoken.google.com/${r}`,aud:r,iat:s,exp:s+3600,auth_time:s,sub:a,user_id:a,firebase:{sign_in_provider:"custom",identities:{}},...n};return[Ph(JSON.stringify(t)),Ph(JSON.stringify(u)),""].join(".")}const Yl={};function _P(){const n={prod:[],emulator:[]};for(const e of Object.keys(Yl))Yl[e]?n.emulator.push(e):n.prod.push(e);return n}function vP(n){let e=document.getElementById(n),t=!1;return e||(e=document.createElement("div"),e.setAttribute("id",n),t=!0),{created:t,element:e}}let Av=!1;function sd(n,e){if(typeof window>"u"||typeof document>"u"||!Fr(window.location.host)||Yl[n]===e||Yl[n]||Av)return;Yl[n]=e;function t(w){return`__firebase__banner__${w}`}const r="__firebase__banner",a=_P().prod.length>0;function u(){const w=document.getElementById(r);w&&w.remove()}function d(w){w.style.display="flex",w.style.background="#7faaf0",w.style.position="fixed",w.style.bottom="5px",w.style.left="5px",w.style.padding=".5em",w.style.borderRadius="5px",w.style.alignItems="center"}function f(w,A){w.setAttribute("width","24"),w.setAttribute("id",A),w.setAttribute("height","24"),w.setAttribute("viewBox","0 0 24 24"),w.setAttribute("fill","none"),w.style.marginLeft="-6px"}function m(){const w=document.createElement("span");return w.style.cursor="pointer",w.style.marginLeft="16px",w.style.fontSize="24px",w.innerHTML=" &times;",w.onclick=()=>{Av=!0,u()},w}function g(w,A){w.setAttribute("id",A),w.innerText="Learn more",w.href="https://firebase.google.com/docs/studio/preview-apps#preview-backend",w.setAttribute("target","__blank"),w.style.paddingLeft="5px",w.style.textDecoration="underline"}function E(){const w=vP(r),A=t("text"),O=document.getElementById(A)||document.createElement("span"),F=t("learnmore"),M=document.getElementById(F)||document.createElement("a"),J=t("preprendIcon"),se=document.getElementById(J)||document.createElementNS("http://www.w3.org/2000/svg","svg");if(w.created){const le=w.element;d(le),g(M,F);const re=m();f(se,J),le.append(se,O,M,re),document.body.appendChild(le)}a?(O.innerText="Preview backend disconnected.",se.innerHTML=`<g clip-path="url(#clip0_6013_33858)">
<path d="M4.8 17.6L12 5.6L19.2 17.6H4.8ZM6.91667 16.4H17.0833L12 7.93333L6.91667 16.4ZM12 15.6C12.1667 15.6 12.3056 15.5444 12.4167 15.4333C12.5389 15.3111 12.6 15.1667 12.6 15C12.6 14.8333 12.5389 14.6944 12.4167 14.5833C12.3056 14.4611 12.1667 14.4 12 14.4C11.8333 14.4 11.6889 14.4611 11.5667 14.5833C11.4556 14.6944 11.4 14.8333 11.4 15C11.4 15.1667 11.4556 15.3111 11.5667 15.4333C11.6889 15.5444 11.8333 15.6 12 15.6ZM11.4 13.6H12.6V10.4H11.4V13.6Z" fill="#212121"/>
</g>
<defs>
<clipPath id="clip0_6013_33858">
<rect width="24" height="24" fill="white"/>
</clipPath>
</defs>`):(se.innerHTML=`<g clip-path="url(#clip0_6083_34804)">
<path d="M11.4 15.2H12.6V11.2H11.4V15.2ZM12 10C12.1667 10 12.3056 9.94444 12.4167 9.83333C12.5389 9.71111 12.6 9.56667 12.6 9.4C12.6 9.23333 12.5389 9.09444 12.4167 8.98333C12.3056 8.86111 12.1667 8.8 12 8.8C11.8333 8.8 11.6889 8.86111 11.5667 8.98333C11.4556 9.09444 11.4 9.23333 11.4 9.4C11.4 9.56667 11.4556 9.71111 11.5667 9.83333C11.6889 9.94444 11.8333 10 12 10ZM12 18.4C11.1222 18.4 10.2944 18.2333 9.51667 17.9C8.73889 17.5667 8.05556 17.1111 7.46667 16.5333C6.88889 15.9444 6.43333 15.2611 6.1 14.4833C5.76667 13.7056 5.6 12.8778 5.6 12C5.6 11.1111 5.76667 10.2833 6.1 9.51667C6.43333 8.73889 6.88889 8.06111 7.46667 7.48333C8.05556 6.89444 8.73889 6.43333 9.51667 6.1C10.2944 5.76667 11.1222 5.6 12 5.6C12.8889 5.6 13.7167 5.76667 14.4833 6.1C15.2611 6.43333 15.9389 6.89444 16.5167 7.48333C17.1056 8.06111 17.5667 8.73889 17.9 9.51667C18.2333 10.2833 18.4 11.1111 18.4 12C18.4 12.8778 18.2333 13.7056 17.9 14.4833C17.5667 15.2611 17.1056 15.9444 16.5167 16.5333C15.9389 17.1111 15.2611 17.5667 14.4833 17.9C13.7167 18.2333 12.8889 18.4 12 18.4ZM12 17.2C13.4444 17.2 14.6722 16.6944 15.6833 15.6833C16.6944 14.6722 17.2 13.4444 17.2 12C17.2 10.5556 16.6944 9.32778 15.6833 8.31667C14.6722 7.30555 13.4444 6.8 12 6.8C10.5556 6.8 9.32778 7.30555 8.31667 8.31667C7.30556 9.32778 6.8 10.5556 6.8 12C6.8 13.4444 7.30556 14.6722 8.31667 15.6833C9.32778 16.6944 10.5556 17.2 12 17.2Z" fill="#212121"/>
</g>
<defs>
<clipPath id="clip0_6083_34804">
<rect width="24" height="24" fill="white"/>
</clipPath>
</defs>`,O.innerText="Preview backend running in this workspace."),O.setAttribute("id",A)}document.readyState==="loading"?window.addEventListener("DOMContentLoaded",E):E()}function en(){return typeof navigator<"u"&&typeof navigator.userAgent=="string"?navigator.userAgent:""}function wP(){return typeof window<"u"&&!!(window.cordova||window.phonegap||window.PhoneGap)&&/ios|iphone|ipod|ipad|android|blackberry|iemobile/i.test(en())}function EP(){const n=rd()?.forceEnvironment;if(n==="node")return!0;if(n==="browser")return!1;try{return Object.prototype.toString.call(global.process)==="[object process]"}catch{return!1}}function TP(){return typeof navigator<"u"&&navigator.userAgent==="Cloudflare-Workers"}function Cm(){const n=typeof chrome=="object"?chrome.runtime:typeof browser=="object"?browser.runtime:void 0;return typeof n=="object"&&n.id!==void 0}function IP(){return typeof navigator=="object"&&navigator.product==="ReactNative"}function SP(){const n=en();return n.indexOf("MSIE ")>=0||n.indexOf("Trident/")>=0}function AP(){return!EP()&&!!navigator.userAgent&&navigator.userAgent.includes("Safari")&&!navigator.userAgent.includes("Chrome")}function bm(){try{return typeof indexedDB=="object"}catch{return!1}}function Nm(){return new Promise((n,e)=>{try{let t=!0;const r="validate-browser-context-for-indexeddb-analytics-module",s=self.indexedDB.open(r);s.onsuccess=()=>{s.result.close(),t||self.indexedDB.deleteDatabase(r),n(!0)},s.onupgradeneeded=()=>{t=!1},s.onerror=()=>{e(s.error?.message||"")}}catch(t){e(t)}})}function kT(){return!(typeof navigator>"u"||!navigator.cookieEnabled)}const RP="FirebaseError";class Dn extends Error{constructor(e,t,r){super(t),this.code=e,this.customData=r,this.name=RP,Object.setPrototypeOf(this,Dn.prototype),Error.captureStackTrace&&Error.captureStackTrace(this,oo.prototype.create)}}class oo{constructor(e,t,r){this.service=e,this.serviceName=t,this.errors=r}create(e,...t){const r=t[0]||{},s=`${this.service}/${e}`,a=this.errors[e],u=a?PP(a,r):"Error",d=`${this.serviceName}: ${u} (${s}).`;return new Dn(s,d,r)}}function PP(n,e){return n.replace(kP,(t,r)=>{const s=e[r];return s!=null?String(s):`<${r}?>`})}const kP=/\{\$([^}]+)}/g;function CP(n){for(const e in n)if(Object.prototype.hasOwnProperty.call(n,e))return!1;return!0}function ui(n,e){if(n===e)return!0;const t=Object.keys(n),r=Object.keys(e);for(const s of t){if(!r.includes(s))return!1;const a=n[s],u=e[s];if(Rv(a)&&Rv(u)){if(!ui(a,u))return!1}else if(a!==u)return!1}for(const s of r)if(!t.includes(s))return!1;return!0}function Rv(n){return n!==null&&typeof n=="object"}function Pa(n){const e=[];for(const[t,r]of Object.entries(n))Array.isArray(r)?r.forEach(s=>{e.push(encodeURIComponent(t)+"="+encodeURIComponent(s))}):e.push(encodeURIComponent(t)+"="+encodeURIComponent(r));return e.length?"&"+e.join("&"):""}function zl(n){const e={};return n.replace(/^\?/,"").split("&").forEach(r=>{if(r){const[s,a]=r.split("=");e[decodeURIComponent(s)]=decodeURIComponent(a)}}),e}function Bl(n){const e=n.indexOf("?");if(!e)return"";const t=n.indexOf("#",e);return n.substring(e,t>0?t:void 0)}function bP(n,e){const t=new NP(n,e);return t.subscribe.bind(t)}class NP{constructor(e,t){this.observers=[],this.unsubscribes=[],this.observerCount=0,this.task=Promise.resolve(),this.finalized=!1,this.onNoObservers=t,this.task.then(()=>{e(this)}).catch(r=>{this.error(r)})}next(e){this.forEachObserver(t=>{t.next(e)})}error(e){this.forEachObserver(t=>{t.error(e)}),this.close(e)}complete(){this.forEachObserver(e=>{e.complete()}),this.close()}subscribe(e,t,r){let s;if(e===void 0&&t===void 0&&r===void 0)throw new Error("Missing Observer.");xP(e,["next","error","complete"])?s=e:s={next:e,error:t,complete:r},s.next===void 0&&(s.next=yp),s.error===void 0&&(s.error=yp),s.complete===void 0&&(s.complete=yp);const a=this.unsubscribeOne.bind(this,this.observers.length);return this.finalized&&this.task.then(()=>{try{this.finalError?s.error(this.finalError):s.complete()}catch{}}),this.observers.push(s),a}unsubscribeOne(e){this.observers===void 0||this.observers[e]===void 0||(delete this.observers[e],this.observerCount-=1,this.observerCount===0&&this.onNoObservers!==void 0&&this.onNoObservers(this))}forEachObserver(e){if(!this.finalized)for(let t=0;t<this.observers.length;t++)this.sendOne(t,e)}sendOne(e,t){this.task.then(()=>{if(this.observers!==void 0&&this.observers[e]!==void 0)try{t(this.observers[e])}catch(r){typeof console<"u"&&console.error&&console.error(r)}})}close(e){this.finalized||(this.finalized=!0,e!==void 0&&(this.finalError=e),this.task.then(()=>{this.observers=void 0,this.onNoObservers=void 0}))}}function xP(n,e){if(typeof n!="object"||n===null)return!1;for(const t of e)if(t in n&&typeof n[t]=="function")return!0;return!1}function yp(){}const OP=1e3,DP=2,LP=14400*1e3,VP=.5;function Pv(n,e=OP,t=DP){const r=e*Math.pow(t,n),s=Math.round(VP*r*(Math.random()-.5)*2);return Math.min(LP,r+s)}function ve(n){return n&&n._delegate?n._delegate:n}class On{constructor(e,t,r){this.name=e,this.instanceFactory=t,this.type=r,this.multipleInstances=!1,this.serviceProps={},this.instantiationMode="LAZY",this.onInstanceCreated=null}setInstantiationMode(e){return this.instantiationMode=e,this}setMultipleInstances(e){return this.multipleInstances=e,this}setServiceProps(e){return this.serviceProps=e,this}setInstanceCreatedCallback(e){return this.onInstanceCreated=e,this}}const Hs="[DEFAULT]";class MP{constructor(e,t){this.name=e,this.container=t,this.component=null,this.instances=new Map,this.instancesDeferred=new Map,this.instancesOptions=new Map,this.onInitCallbacks=new Map}get(e){const t=this.normalizeInstanceIdentifier(e);if(!this.instancesDeferred.has(t)){const r=new yP;if(this.instancesDeferred.set(t,r),this.isInitialized(t)||this.shouldAutoInitialize())try{const s=this.getOrInitializeService({instanceIdentifier:t});s&&r.resolve(s)}catch{}}return this.instancesDeferred.get(t).promise}getImmediate(e){const t=this.normalizeInstanceIdentifier(e?.identifier),r=e?.optional??!1;if(this.isInitialized(t)||this.shouldAutoInitialize())try{return this.getOrInitializeService({instanceIdentifier:t})}catch(s){if(r)return null;throw s}else{if(r)return null;throw Error(`Service ${this.name} is not available`)}}getComponent(){return this.component}setComponent(e){if(e.name!==this.name)throw Error(`Mismatching Component ${e.name} for Provider ${this.name}.`);if(this.component)throw Error(`Component for ${this.name} has already been provided`);if(this.component=e,!!this.shouldAutoInitialize()){if(FP(e))try{this.getOrInitializeService({instanceIdentifier:Hs})}catch{}for(const[t,r]of this.instancesDeferred.entries()){const s=this.normalizeInstanceIdentifier(t);try{const a=this.getOrInitializeService({instanceIdentifier:s});r.resolve(a)}catch{}}}}clearInstance(e=Hs){this.instancesDeferred.delete(e),this.instancesOptions.delete(e),this.instances.delete(e)}async delete(){const e=Array.from(this.instances.values());await Promise.all([...e.filter(t=>"INTERNAL"in t).map(t=>t.INTERNAL.delete()),...e.filter(t=>"_delete"in t).map(t=>t._delete())])}isComponentSet(){return this.component!=null}isInitialized(e=Hs){return this.instances.has(e)}getOptions(e=Hs){return this.instancesOptions.get(e)||{}}initialize(e={}){const{options:t={}}=e,r=this.normalizeInstanceIdentifier(e.instanceIdentifier);if(this.isInitialized(r))throw Error(`${this.name}(${r}) has already been initialized`);if(!this.isComponentSet())throw Error(`Component ${this.name} has not been registered yet`);const s=this.getOrInitializeService({instanceIdentifier:r,options:t});for(const[a,u]of this.instancesDeferred.entries()){const d=this.normalizeInstanceIdentifier(a);r===d&&u.resolve(s)}return s}onInit(e,t){const r=this.normalizeInstanceIdentifier(t),s=this.onInitCallbacks.get(r)??new Set;s.add(e),this.onInitCallbacks.set(r,s);const a=this.instances.get(r);return a&&e(a,r),()=>{s.delete(e)}}invokeOnInitCallbacks(e,t){const r=this.onInitCallbacks.get(t);if(r)for(const s of r)try{s(e,t)}catch{}}getOrInitializeService({instanceIdentifier:e,options:t={}}){let r=this.instances.get(e);if(!r&&this.component&&(r=this.component.instanceFactory(this.container,{instanceIdentifier:UP(e),options:t}),this.instances.set(e,r),this.instancesOptions.set(e,t),this.invokeOnInitCallbacks(r,e),this.component.onInstanceCreated))try{this.component.onInstanceCreated(this.container,e,r)}catch{}return r||null}normalizeInstanceIdentifier(e=Hs){return this.component?this.component.multipleInstances?e:Hs:e}shouldAutoInitialize(){return!!this.component&&this.component.instantiationMode!=="EXPLICIT"}}function UP(n){return n===Hs?void 0:n}function FP(n){return n.instantiationMode==="EAGER"}class jP{constructor(e){this.name=e,this.providers=new Map}addComponent(e){const t=this.getProvider(e.name);if(t.isComponentSet())throw new Error(`Component ${e.name} has already been registered with ${this.name}`);t.setComponent(e)}addOrOverwriteComponent(e){this.getProvider(e.name).isComponentSet()&&this.providers.delete(e.name),this.addComponent(e)}getProvider(e){if(this.providers.has(e))return this.providers.get(e);const t=new MP(e,this);return this.providers.set(e,t),t}getProviders(){return Array.from(this.providers.values())}}var Ue;(function(n){n[n.DEBUG=0]="DEBUG",n[n.VERBOSE=1]="VERBOSE",n[n.INFO=2]="INFO",n[n.WARN=3]="WARN",n[n.ERROR=4]="ERROR",n[n.SILENT=5]="SILENT"})(Ue||(Ue={}));const zP={debug:Ue.DEBUG,verbose:Ue.VERBOSE,info:Ue.INFO,warn:Ue.WARN,error:Ue.ERROR,silent:Ue.SILENT},BP=Ue.INFO,$P={[Ue.DEBUG]:"log",[Ue.VERBOSE]:"log",[Ue.INFO]:"info",[Ue.WARN]:"warn",[Ue.ERROR]:"error"},HP=(n,e,...t)=>{if(e<n.logLevel)return;const r=new Date().toISOString(),s=$P[e];if(s)console[s](`[${r}]  ${n.name}:`,...t);else throw new Error(`Attempted to log a message with an invalid logType (value: ${e})`)};let od=class{constructor(e){this.name=e,this._logLevel=BP,this._logHandler=HP,this._userLogHandler=null}get logLevel(){return this._logLevel}set logLevel(e){if(!(e in Ue))throw new TypeError(`Invalid value "${e}" assigned to \`logLevel\``);this._logLevel=e}setLogLevel(e){this._logLevel=typeof e=="string"?zP[e]:e}get logHandler(){return this._logHandler}set logHandler(e){if(typeof e!="function")throw new TypeError("Value assigned to `logHandler` must be a function");this._logHandler=e}get userLogHandler(){return this._userLogHandler}set userLogHandler(e){this._userLogHandler=e}debug(...e){this._userLogHandler&&this._userLogHandler(this,Ue.DEBUG,...e),this._logHandler(this,Ue.DEBUG,...e)}log(...e){this._userLogHandler&&this._userLogHandler(this,Ue.VERBOSE,...e),this._logHandler(this,Ue.VERBOSE,...e)}info(...e){this._userLogHandler&&this._userLogHandler(this,Ue.INFO,...e),this._logHandler(this,Ue.INFO,...e)}warn(...e){this._userLogHandler&&this._userLogHandler(this,Ue.WARN,...e),this._logHandler(this,Ue.WARN,...e)}error(...e){this._userLogHandler&&this._userLogHandler(this,Ue.ERROR,...e),this._logHandler(this,Ue.ERROR,...e)}};const qP=(n,e)=>e.some(t=>n instanceof t);let kv,Cv;function WP(){return kv||(kv=[IDBDatabase,IDBObjectStore,IDBIndex,IDBCursor,IDBTransaction])}function GP(){return Cv||(Cv=[IDBCursor.prototype.advance,IDBCursor.prototype.continue,IDBCursor.prototype.continuePrimaryKey])}const CT=new WeakMap,Kp=new WeakMap,bT=new WeakMap,_p=new WeakMap,xm=new WeakMap;function KP(n){const e=new Promise((t,r)=>{const s=()=>{n.removeEventListener("success",a),n.removeEventListener("error",u)},a=()=>{t(rs(n.result)),s()},u=()=>{r(n.error),s()};n.addEventListener("success",a),n.addEventListener("error",u)});return e.then(t=>{t instanceof IDBCursor&&CT.set(t,n)}).catch(()=>{}),xm.set(e,n),e}function QP(n){if(Kp.has(n))return;const e=new Promise((t,r)=>{const s=()=>{n.removeEventListener("complete",a),n.removeEventListener("error",u),n.removeEventListener("abort",u)},a=()=>{t(),s()},u=()=>{r(n.error||new DOMException("AbortError","AbortError")),s()};n.addEventListener("complete",a),n.addEventListener("error",u),n.addEventListener("abort",u)});Kp.set(n,e)}let Qp={get(n,e,t){if(n instanceof IDBTransaction){if(e==="done")return Kp.get(n);if(e==="objectStoreNames")return n.objectStoreNames||bT.get(n);if(e==="store")return t.objectStoreNames[1]?void 0:t.objectStore(t.objectStoreNames[0])}return rs(n[e])},set(n,e,t){return n[e]=t,!0},has(n,e){return n instanceof IDBTransaction&&(e==="done"||e==="store")?!0:e in n}};function YP(n){Qp=n(Qp)}function JP(n){return n===IDBDatabase.prototype.transaction&&!("objectStoreNames"in IDBTransaction.prototype)?function(e,...t){const r=n.call(vp(this),e,...t);return bT.set(r,e.sort?e.sort():[e]),rs(r)}:GP().includes(n)?function(...e){return n.apply(vp(this),e),rs(CT.get(this))}:function(...e){return rs(n.apply(vp(this),e))}}function XP(n){return typeof n=="function"?JP(n):(n instanceof IDBTransaction&&QP(n),qP(n,WP())?new Proxy(n,Qp):n)}function rs(n){if(n instanceof IDBRequest)return KP(n);if(_p.has(n))return _p.get(n);const e=XP(n);return e!==n&&(_p.set(n,e),xm.set(e,n)),e}const vp=n=>xm.get(n);function NT(n,e,{blocked:t,upgrade:r,blocking:s,terminated:a}={}){const u=indexedDB.open(n,e),d=rs(u);return r&&u.addEventListener("upgradeneeded",f=>{r(rs(u.result),f.oldVersion,f.newVersion,rs(u.transaction),f)}),t&&u.addEventListener("blocked",f=>t(f.oldVersion,f.newVersion,f)),d.then(f=>{a&&f.addEventListener("close",()=>a()),s&&f.addEventListener("versionchange",m=>s(m.oldVersion,m.newVersion,m))}).catch(()=>{}),d}const ZP=["get","getKey","getAll","getAllKeys","count"],e1=["put","add","delete","clear"],wp=new Map;function bv(n,e){if(!(n instanceof IDBDatabase&&!(e in n)&&typeof e=="string"))return;if(wp.get(e))return wp.get(e);const t=e.replace(/FromIndex$/,""),r=e!==t,s=e1.includes(t);if(!(t in(r?IDBIndex:IDBObjectStore).prototype)||!(s||ZP.includes(t)))return;const a=async function(u,...d){const f=this.transaction(u,s?"readwrite":"readonly");let m=f.store;return r&&(m=m.index(d.shift())),(await Promise.all([m[t](...d),s&&f.done]))[0]};return wp.set(e,a),a}YP(n=>({...n,get:(e,t,r)=>bv(e,t)||n.get(e,t,r),has:(e,t)=>!!bv(e,t)||n.has(e,t)}));class t1{constructor(e){this.container=e}getPlatformInfoString(){return this.container.getProviders().map(t=>{if(n1(t)){const r=t.getImmediate();return`${r.library}/${r.version}`}else return null}).filter(t=>t).join(" ")}}function n1(n){return n.getComponent()?.type==="VERSION"}const Yp="@firebase/app",Nv="0.14.7";const ci=new od("@firebase/app"),r1="@firebase/app-compat",i1="@firebase/analytics-compat",s1="@firebase/analytics",o1="@firebase/app-check-compat",a1="@firebase/app-check",l1="@firebase/auth",u1="@firebase/auth-compat",c1="@firebase/database",h1="@firebase/data-connect",d1="@firebase/database-compat",f1="@firebase/functions",p1="@firebase/functions-compat",m1="@firebase/installations",g1="@firebase/installations-compat",y1="@firebase/messaging",_1="@firebase/messaging-compat",v1="@firebase/performance",w1="@firebase/performance-compat",E1="@firebase/remote-config",T1="@firebase/remote-config-compat",I1="@firebase/storage",S1="@firebase/storage-compat",A1="@firebase/firestore",R1="@firebase/ai",P1="@firebase/firestore-compat",k1="firebase",C1="12.8.0";const Jp="[DEFAULT]",b1={[Yp]:"fire-core",[r1]:"fire-core-compat",[s1]:"fire-analytics",[i1]:"fire-analytics-compat",[a1]:"fire-app-check",[o1]:"fire-app-check-compat",[l1]:"fire-auth",[u1]:"fire-auth-compat",[c1]:"fire-rtdb",[h1]:"fire-data-connect",[d1]:"fire-rtdb-compat",[f1]:"fire-fn",[p1]:"fire-fn-compat",[m1]:"fire-iid",[g1]:"fire-iid-compat",[y1]:"fire-fcm",[_1]:"fire-fcm-compat",[v1]:"fire-perf",[w1]:"fire-perf-compat",[E1]:"fire-rc",[T1]:"fire-rc-compat",[I1]:"fire-gcs",[S1]:"fire-gcs-compat",[A1]:"fire-fst",[P1]:"fire-fst-compat",[R1]:"fire-vertex","fire-js":"fire-js",[k1]:"fire-js-all"};const kh=new Map,N1=new Map,Xp=new Map;function xv(n,e){try{n.container.addComponent(e)}catch(t){ci.debug(`Component ${e.name} failed to register with FirebaseApp ${n.name}`,t)}}function qn(n){const e=n.name;if(Xp.has(e))return ci.debug(`There were multiple attempts to register component ${e}.`),!1;Xp.set(e,n);for(const t of kh.values())xv(t,n);for(const t of N1.values())xv(t,n);return!0}function gi(n,e){const t=n.container.getProvider("heartbeat").getImmediate({optional:!0});return t&&t.triggerHeartbeat(),n.container.getProvider(e)}function st(n){return n==null?!1:n.settings!==void 0}const x1={"no-app":"No Firebase App '{$appName}' has been created - call initializeApp() first","bad-app-name":"Illegal App name: '{$appName}'","duplicate-app":"Firebase App named '{$appName}' already exists with different options or config","app-deleted":"Firebase App named '{$appName}' already deleted","server-app-deleted":"Firebase Server App has been deleted","no-options":"Need to provide options, when not being deployed to hosting via source.","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance.","invalid-log-argument":"First argument to `onLog` must be null or a function.","idb-open":"Error thrown when opening IndexedDB. Original error: {$originalErrorMessage}.","idb-get":"Error thrown when reading from IndexedDB. Original error: {$originalErrorMessage}.","idb-set":"Error thrown when writing to IndexedDB. Original error: {$originalErrorMessage}.","idb-delete":"Error thrown when deleting from IndexedDB. Original error: {$originalErrorMessage}.","finalization-registry-not-supported":"FirebaseServerApp deleteOnDeref field defined but the JS runtime does not support FinalizationRegistry.","invalid-server-app-environment":"FirebaseServerApp is not for use in browser environments."},is=new oo("app","Firebase",x1);class O1{constructor(e,t,r){this._isDeleted=!1,this._options={...e},this._config={...t},this._name=t.name,this._automaticDataCollectionEnabled=t.automaticDataCollectionEnabled,this._container=r,this.container.addComponent(new On("app",()=>this,"PUBLIC"))}get automaticDataCollectionEnabled(){return this.checkDestroyed(),this._automaticDataCollectionEnabled}set automaticDataCollectionEnabled(e){this.checkDestroyed(),this._automaticDataCollectionEnabled=e}get name(){return this.checkDestroyed(),this._name}get options(){return this.checkDestroyed(),this._options}get config(){return this.checkDestroyed(),this._config}get container(){return this._container}get isDeleted(){return this._isDeleted}set isDeleted(e){this._isDeleted=e}checkDestroyed(){if(this.isDeleted)throw is.create("app-deleted",{appName:this._name})}}const ao=C1;function xT(n,e={}){let t=n;typeof e!="object"&&(e={name:e});const r={name:Jp,automaticDataCollectionEnabled:!0,...e},s=r.name;if(typeof s!="string"||!s)throw is.create("bad-app-name",{appName:String(s)});if(t||(t=AT()),!t)throw is.create("no-options");const a=kh.get(s);if(a){if(ui(t,a.options)&&ui(r,a.config))return a;throw is.create("duplicate-app",{appName:s})}const u=new jP(s);for(const f of Xp.values())u.addComponent(f);const d=new O1(t,r,u);return kh.set(s,d),d}function Iu(n=Jp){const e=kh.get(n);if(!e&&n===Jp&&AT())return xT();if(!e)throw is.create("no-app",{appName:n});return e}function Zt(n,e,t){let r=b1[n]??n;t&&(r+=`-${t}`);const s=r.match(/\s|\//),a=e.match(/\s|\//);if(s||a){const u=[`Unable to register library "${r}" with version "${e}":`];s&&u.push(`library name "${r}" contains illegal characters (whitespace or "/")`),s&&a&&u.push("and"),a&&u.push(`version name "${e}" contains illegal characters (whitespace or "/")`),ci.warn(u.join(" "));return}qn(new On(`${r}-version`,()=>({library:r,version:e}),"VERSION"))}const D1="firebase-heartbeat-database",L1=1,ou="firebase-heartbeat-store";let Ep=null;function OT(){return Ep||(Ep=NT(D1,L1,{upgrade:(n,e)=>{switch(e){case 0:try{n.createObjectStore(ou)}catch(t){console.warn(t)}}}}).catch(n=>{throw is.create("idb-open",{originalErrorMessage:n.message})})),Ep}async function V1(n){try{const t=(await OT()).transaction(ou),r=await t.objectStore(ou).get(DT(n));return await t.done,r}catch(e){if(e instanceof Dn)ci.warn(e.message);else{const t=is.create("idb-get",{originalErrorMessage:e?.message});ci.warn(t.message)}}}async function Ov(n,e){try{const r=(await OT()).transaction(ou,"readwrite");await r.objectStore(ou).put(e,DT(n)),await r.done}catch(t){if(t instanceof Dn)ci.warn(t.message);else{const r=is.create("idb-set",{originalErrorMessage:t?.message});ci.warn(r.message)}}}function DT(n){return`${n.name}!${n.options.appId}`}const M1=1024,U1=30;class F1{constructor(e){this.container=e,this._heartbeatsCache=null;const t=this.container.getProvider("app").getImmediate();this._storage=new z1(t),this._heartbeatsCachePromise=this._storage.read().then(r=>(this._heartbeatsCache=r,r))}async triggerHeartbeat(){try{const t=this.container.getProvider("platform-logger").getImmediate().getPlatformInfoString(),r=Dv();if(this._heartbeatsCache?.heartbeats==null&&(this._heartbeatsCache=await this._heartbeatsCachePromise,this._heartbeatsCache?.heartbeats==null)||this._heartbeatsCache.lastSentHeartbeatDate===r||this._heartbeatsCache.heartbeats.some(s=>s.date===r))return;if(this._heartbeatsCache.heartbeats.push({date:r,agent:t}),this._heartbeatsCache.heartbeats.length>U1){const s=B1(this._heartbeatsCache.heartbeats);this._heartbeatsCache.heartbeats.splice(s,1)}return this._storage.overwrite(this._heartbeatsCache)}catch(e){ci.warn(e)}}async getHeartbeatsHeader(){try{if(this._heartbeatsCache===null&&await this._heartbeatsCachePromise,this._heartbeatsCache?.heartbeats==null||this._heartbeatsCache.heartbeats.length===0)return"";const e=Dv(),{heartbeatsToSend:t,unsentEntries:r}=j1(this._heartbeatsCache.heartbeats),s=Ph(JSON.stringify({version:2,heartbeats:t}));return this._heartbeatsCache.lastSentHeartbeatDate=e,r.length>0?(this._heartbeatsCache.heartbeats=r,await this._storage.overwrite(this._heartbeatsCache)):(this._heartbeatsCache.heartbeats=[],this._storage.overwrite(this._heartbeatsCache)),s}catch(e){return ci.warn(e),""}}}function Dv(){return new Date().toISOString().substring(0,10)}function j1(n,e=M1){const t=[];let r=n.slice();for(const s of n){const a=t.find(u=>u.agent===s.agent);if(a){if(a.dates.push(s.date),Lv(t)>e){a.dates.pop();break}}else if(t.push({agent:s.agent,dates:[s.date]}),Lv(t)>e){t.pop();break}r=r.slice(1)}return{heartbeatsToSend:t,unsentEntries:r}}class z1{constructor(e){this.app=e,this._canUseIndexedDBPromise=this.runIndexedDBEnvironmentCheck()}async runIndexedDBEnvironmentCheck(){return bm()?Nm().then(()=>!0).catch(()=>!1):!1}async read(){if(await this._canUseIndexedDBPromise){const t=await V1(this.app);return t?.heartbeats?t:{heartbeats:[]}}else return{heartbeats:[]}}async overwrite(e){if(await this._canUseIndexedDBPromise){const r=await this.read();return Ov(this.app,{lastSentHeartbeatDate:e.lastSentHeartbeatDate??r.lastSentHeartbeatDate,heartbeats:e.heartbeats})}else return}async add(e){if(await this._canUseIndexedDBPromise){const r=await this.read();return Ov(this.app,{lastSentHeartbeatDate:e.lastSentHeartbeatDate??r.lastSentHeartbeatDate,heartbeats:[...r.heartbeats,...e.heartbeats]})}else return}}function Lv(n){return Ph(JSON.stringify({version:2,heartbeats:n})).length}function B1(n){if(n.length===0)return-1;let e=0,t=n[0].date;for(let r=1;r<n.length;r++)n[r].date<t&&(t=n[r].date,e=r);return e}function $1(n){qn(new On("platform-logger",e=>new t1(e),"PRIVATE")),qn(new On("heartbeat",e=>new F1(e),"PRIVATE")),Zt(Yp,Nv,n),Zt(Yp,Nv,"esm2020"),Zt("fire-js","")}$1("");const zU={PHONE:"phone",TOTP:"totp"},BU={FACEBOOK:"facebook.com",GITHUB:"github.com",GOOGLE:"google.com",PASSWORD:"password",PHONE:"phone",TWITTER:"twitter.com"},$U={EMAIL_LINK:"emailLink",EMAIL_PASSWORD:"password",FACEBOOK:"facebook.com",GITHUB:"github.com",GOOGLE:"google.com",PHONE:"phone",TWITTER:"twitter.com"},HU={LINK:"link",REAUTHENTICATE:"reauthenticate",SIGN_IN:"signIn"},qU={EMAIL_SIGNIN:"EMAIL_SIGNIN",PASSWORD_RESET:"PASSWORD_RESET",RECOVER_EMAIL:"RECOVER_EMAIL",REVERT_SECOND_FACTOR_ADDITION:"REVERT_SECOND_FACTOR_ADDITION",VERIFY_AND_CHANGE_EMAIL:"VERIFY_AND_CHANGE_EMAIL",VERIFY_EMAIL:"VERIFY_EMAIL"};function H1(){return{"admin-restricted-operation":"This operation is restricted to administrators only.","argument-error":"","app-not-authorized":"This app, identified by the domain where it's hosted, is not authorized to use Firebase Authentication with the provided API key. Review your key configuration in the Google API console.","app-not-installed":"The requested mobile application corresponding to the identifier (Android package name or iOS bundle ID) provided is not installed on this device.","captcha-check-failed":"The reCAPTCHA response token provided is either invalid, expired, already used or the domain associated with it does not match the list of whitelisted domains.","code-expired":"The SMS code has expired. Please re-send the verification code to try again.","cordova-not-ready":"Cordova framework is not ready.","cors-unsupported":"This browser is not supported.","credential-already-in-use":"This credential is already associated with a different user account.","custom-token-mismatch":"The custom token corresponds to a different audience.","requires-recent-login":"This operation is sensitive and requires recent authentication. Log in again before retrying this request.","dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK.","dynamic-link-not-activated":"Please activate Dynamic Links in the Firebase Console and agree to the terms and conditions.","email-change-needs-verification":"Multi-factor users must always have a verified email.","email-already-in-use":"The email address is already in use by another account.","emulator-config-failed":'Auth instance has already been used to make a network call. Auth can no longer be configured to use the emulator. Try calling "connectAuthEmulator()" sooner.',"expired-action-code":"The action code has expired.","cancelled-popup-request":"This operation has been cancelled due to another conflicting popup being opened.","internal-error":"An internal AuthError has occurred.","invalid-app-credential":"The phone verification request contains an invalid application verifier. The reCAPTCHA token response is either invalid or expired.","invalid-app-id":"The mobile app identifier is not registered for the current project.","invalid-user-token":"This user's credential isn't valid for this project. This can happen if the user's token has been tampered with, or if the user isn't for the project associated with this API key.","invalid-auth-event":"An internal AuthError has occurred.","invalid-verification-code":"The SMS verification code used to create the phone auth credential is invalid. Please resend the verification code sms and be sure to use the verification code provided by the user.","invalid-continue-uri":"The continue URL provided in the request is invalid.","invalid-cordova-configuration":"The following Cordova plugins must be installed to enable OAuth sign-in: cordova-plugin-buildinfo, cordova-universal-links-plugin, cordova-plugin-browsertab, cordova-plugin-inappbrowser and cordova-plugin-customurlscheme.","invalid-custom-token":"The custom token format is incorrect. Please check the documentation.","invalid-dynamic-link-domain":"The provided dynamic link domain is not configured or authorized for the current project.","invalid-email":"The email address is badly formatted.","invalid-emulator-scheme":"Emulator URL must start with a valid scheme (http:// or https://).","invalid-api-key":"Your API key is invalid, please check you have copied it correctly.","invalid-cert-hash":"The SHA-1 certificate hash provided is invalid.","invalid-credential":"The supplied auth credential is incorrect, malformed or has expired.","invalid-message-payload":"The email template corresponding to this action contains invalid characters in its message. Please fix by going to the Auth email templates section in the Firebase Console.","invalid-multi-factor-session":"The request does not contain a valid proof of first factor successful sign-in.","invalid-oauth-provider":"EmailAuthProvider is not supported for this operation. This operation only supports OAuth providers.","invalid-oauth-client-id":"The OAuth client ID provided is either invalid or does not match the specified API key.","unauthorized-domain":"This domain is not authorized for OAuth operations for your Firebase project. Edit the list of authorized domains from the Firebase console.","invalid-action-code":"The action code is invalid. This can happen if the code is malformed, expired, or has already been used.","wrong-password":"The password is invalid or the user does not have a password.","invalid-persistence-type":"The specified persistence type is invalid. It can only be local, session or none.","invalid-phone-number":"The format of the phone number provided is incorrect. Please enter the phone number in a format that can be parsed into E.164 format. E.164 phone numbers are written in the format [+][country code][subscriber number including area code].","invalid-provider-id":"The specified provider ID is invalid.","invalid-recipient-email":"The email corresponding to this action failed to send as the provided recipient email address is invalid.","invalid-sender":"The email template corresponding to this action contains an invalid sender email or name. Please fix by going to the Auth email templates section in the Firebase Console.","invalid-verification-id":"The verification ID used to create the phone auth credential is invalid.","invalid-tenant-id":"The Auth instance's tenant ID is invalid.","login-blocked":"Login blocked by user-provided method: {$originalMessage}","missing-android-pkg-name":"An Android Package Name must be provided if the Android App is required to be installed.","auth-domain-config-required":"Be sure to include authDomain when calling firebase.initializeApp(), by following the instructions in the Firebase console.","missing-app-credential":"The phone verification request is missing an application verifier assertion. A reCAPTCHA response token needs to be provided.","missing-verification-code":"The phone auth credential was created with an empty SMS verification code.","missing-continue-uri":"A continue URL must be provided in the request.","missing-iframe-start":"An internal AuthError has occurred.","missing-ios-bundle-id":"An iOS Bundle ID must be provided if an App Store ID is provided.","missing-or-invalid-nonce":"The request does not contain a valid nonce. This can occur if the SHA-256 hash of the provided raw nonce does not match the hashed nonce in the ID token payload.","missing-password":"A non-empty password must be provided","missing-multi-factor-info":"No second factor identifier is provided.","missing-multi-factor-session":"The request is missing proof of first factor successful sign-in.","missing-phone-number":"To send verification codes, provide a phone number for the recipient.","missing-verification-id":"The phone auth credential was created with an empty verification ID.","app-deleted":"This instance of FirebaseApp has been deleted.","multi-factor-info-not-found":"The user does not have a second factor matching the identifier provided.","multi-factor-auth-required":"Proof of ownership of a second factor is required to complete sign-in.","account-exists-with-different-credential":"An account already exists with the same email address but different sign-in credentials. Sign in using a provider associated with this email address.","network-request-failed":"A network AuthError (such as timeout, interrupted connection or unreachable host) has occurred.","no-auth-event":"An internal AuthError has occurred.","no-such-provider":"User was not linked to an account with the given provider.","null-user":"A null user object was provided as the argument for an operation which requires a non-null user object.","operation-not-allowed":"The given sign-in provider is disabled for this Firebase project. Enable it in the Firebase console, under the sign-in method tab of the Auth section.","operation-not-supported-in-this-environment":'This operation is not supported in the environment this application is running on. "location.protocol" must be http, https or chrome-extension and web storage must be enabled.',"popup-blocked":"Unable to establish a connection with the popup. It may have been blocked by the browser.","popup-closed-by-user":"The popup has been closed by the user before finalizing the operation.","provider-already-linked":"User can only be linked to one identity for the given provider.","quota-exceeded":"The project's quota for this operation has been exceeded.","redirect-cancelled-by-user":"The redirect operation has been cancelled by the user before finalizing.","redirect-operation-pending":"A redirect sign-in operation is already pending.","rejected-credential":"The request contains malformed or mismatching credentials.","second-factor-already-in-use":"The second factor is already enrolled on this account.","maximum-second-factor-count-exceeded":"The maximum allowed number of second factors on a user has been exceeded.","tenant-id-mismatch":"The provided tenant ID does not match the Auth instance's tenant ID",timeout:"The operation has timed out.","user-token-expired":"The user's credential is no longer valid. The user must sign in again.","too-many-requests":"We have blocked all requests from this device due to unusual activity. Try again later.","unauthorized-continue-uri":"The domain of the continue URL is not whitelisted.  Please whitelist the domain in the Firebase console.","unsupported-first-factor":"Enrolling a second factor or signing in with a multi-factor account requires sign-in with a supported first factor.","unsupported-persistence-type":"The current environment does not support the specified persistence type.","unsupported-tenant-operation":"This operation is not supported in a multi-tenant context.","unverified-email":"The operation requires a verified email.","user-cancelled":"The user did not grant your application the permissions it requested.","user-not-found":"There is no user record corresponding to this identifier. The user may have been deleted.","user-disabled":"The user account has been disabled by an administrator.","user-mismatch":"The supplied credentials do not correspond to the previously signed in user.","user-signed-out":"","weak-password":"The password must be 6 characters long or more.","web-storage-unsupported":"This browser is not supported or 3rd party cookies and data may be disabled.","already-initialized":"initializeAuth() has already been called with different options. To avoid this error, call initializeAuth() with the same options as when it was originally called, or call getAuth() to return the already initialized instance.","missing-recaptcha-token":"The reCAPTCHA token is missing when sending request to the backend.","invalid-recaptcha-token":"The reCAPTCHA token is invalid when sending request to the backend.","invalid-recaptcha-action":"The reCAPTCHA action is invalid when sending request to the backend.","recaptcha-not-enabled":"reCAPTCHA Enterprise integration is not enabled for this project.","missing-client-type":"The reCAPTCHA client type is missing when sending request to the backend.","missing-recaptcha-version":"The reCAPTCHA version is missing when sending request to the backend.","invalid-req-type":"Invalid request parameters.","invalid-recaptcha-version":"The reCAPTCHA version is invalid when sending request to the backend.","unsupported-password-policy-schema-version":"The password policy received from the backend uses a schema version that is not supported by this version of the Firebase SDK.","password-does-not-meet-requirements":"The password does not meet the requirements.","invalid-hosting-link-domain":"The provided Hosting link domain is not configured in Firebase Hosting or is not owned by the current project. This cannot be a default Hosting domain (`web.app` or `firebaseapp.com`)."}}function LT(){return{"dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK."}}const WU=H1,q1=LT,VT=new oo("auth","Firebase",LT()),GU={ADMIN_ONLY_OPERATION:"auth/admin-restricted-operation",ARGUMENT_ERROR:"auth/argument-error",APP_NOT_AUTHORIZED:"auth/app-not-authorized",APP_NOT_INSTALLED:"auth/app-not-installed",CAPTCHA_CHECK_FAILED:"auth/captcha-check-failed",CODE_EXPIRED:"auth/code-expired",CORDOVA_NOT_READY:"auth/cordova-not-ready",CORS_UNSUPPORTED:"auth/cors-unsupported",CREDENTIAL_ALREADY_IN_USE:"auth/credential-already-in-use",CREDENTIAL_MISMATCH:"auth/custom-token-mismatch",CREDENTIAL_TOO_OLD_LOGIN_AGAIN:"auth/requires-recent-login",DEPENDENT_SDK_INIT_BEFORE_AUTH:"auth/dependent-sdk-initialized-before-auth",DYNAMIC_LINK_NOT_ACTIVATED:"auth/dynamic-link-not-activated",EMAIL_CHANGE_NEEDS_VERIFICATION:"auth/email-change-needs-verification",EMAIL_EXISTS:"auth/email-already-in-use",EMULATOR_CONFIG_FAILED:"auth/emulator-config-failed",EXPIRED_OOB_CODE:"auth/expired-action-code",EXPIRED_POPUP_REQUEST:"auth/cancelled-popup-request",INTERNAL_ERROR:"auth/internal-error",INVALID_API_KEY:"auth/invalid-api-key",INVALID_APP_CREDENTIAL:"auth/invalid-app-credential",INVALID_APP_ID:"auth/invalid-app-id",INVALID_AUTH:"auth/invalid-user-token",INVALID_AUTH_EVENT:"auth/invalid-auth-event",INVALID_CERT_HASH:"auth/invalid-cert-hash",INVALID_CODE:"auth/invalid-verification-code",INVALID_CONTINUE_URI:"auth/invalid-continue-uri",INVALID_CORDOVA_CONFIGURATION:"auth/invalid-cordova-configuration",INVALID_CUSTOM_TOKEN:"auth/invalid-custom-token",INVALID_DYNAMIC_LINK_DOMAIN:"auth/invalid-dynamic-link-domain",INVALID_EMAIL:"auth/invalid-email",INVALID_EMULATOR_SCHEME:"auth/invalid-emulator-scheme",INVALID_IDP_RESPONSE:"auth/invalid-credential",INVALID_LOGIN_CREDENTIALS:"auth/invalid-credential",INVALID_MESSAGE_PAYLOAD:"auth/invalid-message-payload",INVALID_MFA_SESSION:"auth/invalid-multi-factor-session",INVALID_OAUTH_CLIENT_ID:"auth/invalid-oauth-client-id",INVALID_OAUTH_PROVIDER:"auth/invalid-oauth-provider",INVALID_OOB_CODE:"auth/invalid-action-code",INVALID_ORIGIN:"auth/unauthorized-domain",INVALID_PASSWORD:"auth/wrong-password",INVALID_PERSISTENCE:"auth/invalid-persistence-type",INVALID_PHONE_NUMBER:"auth/invalid-phone-number",INVALID_PROVIDER_ID:"auth/invalid-provider-id",INVALID_RECIPIENT_EMAIL:"auth/invalid-recipient-email",INVALID_SENDER:"auth/invalid-sender",INVALID_SESSION_INFO:"auth/invalid-verification-id",INVALID_TENANT_ID:"auth/invalid-tenant-id",MFA_INFO_NOT_FOUND:"auth/multi-factor-info-not-found",MFA_REQUIRED:"auth/multi-factor-auth-required",MISSING_ANDROID_PACKAGE_NAME:"auth/missing-android-pkg-name",MISSING_APP_CREDENTIAL:"auth/missing-app-credential",MISSING_AUTH_DOMAIN:"auth/auth-domain-config-required",MISSING_CODE:"auth/missing-verification-code",MISSING_CONTINUE_URI:"auth/missing-continue-uri",MISSING_IFRAME_START:"auth/missing-iframe-start",MISSING_IOS_BUNDLE_ID:"auth/missing-ios-bundle-id",MISSING_OR_INVALID_NONCE:"auth/missing-or-invalid-nonce",MISSING_MFA_INFO:"auth/missing-multi-factor-info",MISSING_MFA_SESSION:"auth/missing-multi-factor-session",MISSING_PHONE_NUMBER:"auth/missing-phone-number",MISSING_PASSWORD:"auth/missing-password",MISSING_SESSION_INFO:"auth/missing-verification-id",MODULE_DESTROYED:"auth/app-deleted",NEED_CONFIRMATION:"auth/account-exists-with-different-credential",NETWORK_REQUEST_FAILED:"auth/network-request-failed",NULL_USER:"auth/null-user",NO_AUTH_EVENT:"auth/no-auth-event",NO_SUCH_PROVIDER:"auth/no-such-provider",OPERATION_NOT_ALLOWED:"auth/operation-not-allowed",OPERATION_NOT_SUPPORTED:"auth/operation-not-supported-in-this-environment",POPUP_BLOCKED:"auth/popup-blocked",POPUP_CLOSED_BY_USER:"auth/popup-closed-by-user",PROVIDER_ALREADY_LINKED:"auth/provider-already-linked",QUOTA_EXCEEDED:"auth/quota-exceeded",REDIRECT_CANCELLED_BY_USER:"auth/redirect-cancelled-by-user",REDIRECT_OPERATION_PENDING:"auth/redirect-operation-pending",REJECTED_CREDENTIAL:"auth/rejected-credential",SECOND_FACTOR_ALREADY_ENROLLED:"auth/second-factor-already-in-use",SECOND_FACTOR_LIMIT_EXCEEDED:"auth/maximum-second-factor-count-exceeded",TENANT_ID_MISMATCH:"auth/tenant-id-mismatch",TIMEOUT:"auth/timeout",TOKEN_EXPIRED:"auth/user-token-expired",TOO_MANY_ATTEMPTS_TRY_LATER:"auth/too-many-requests",UNAUTHORIZED_DOMAIN:"auth/unauthorized-continue-uri",UNSUPPORTED_FIRST_FACTOR:"auth/unsupported-first-factor",UNSUPPORTED_PERSISTENCE:"auth/unsupported-persistence-type",UNSUPPORTED_TENANT_OPERATION:"auth/unsupported-tenant-operation",UNVERIFIED_EMAIL:"auth/unverified-email",USER_CANCELLED:"auth/user-cancelled",USER_DELETED:"auth/user-not-found",USER_DISABLED:"auth/user-disabled",USER_MISMATCH:"auth/user-mismatch",USER_SIGNED_OUT:"auth/user-signed-out",WEAK_PASSWORD:"auth/weak-password",WEB_STORAGE_UNSUPPORTED:"auth/web-storage-unsupported",ALREADY_INITIALIZED:"auth/already-initialized",RECAPTCHA_NOT_ENABLED:"auth/recaptcha-not-enabled",MISSING_RECAPTCHA_TOKEN:"auth/missing-recaptcha-token",INVALID_RECAPTCHA_TOKEN:"auth/invalid-recaptcha-token",INVALID_RECAPTCHA_ACTION:"auth/invalid-recaptcha-action",MISSING_CLIENT_TYPE:"auth/missing-client-type",MISSING_RECAPTCHA_VERSION:"auth/missing-recaptcha-version",INVALID_RECAPTCHA_VERSION:"auth/invalid-recaptcha-version",INVALID_REQ_TYPE:"auth/invalid-req-type",INVALID_HOSTING_LINK_DOMAIN:"auth/invalid-hosting-link-domain"};const Ch=new od("@firebase/auth");function W1(n,...e){Ch.logLevel<=Ue.WARN&&Ch.warn(`Auth (${ao}): ${n}`,...e)}function gh(n,...e){Ch.logLevel<=Ue.ERROR&&Ch.error(`Auth (${ao}): ${n}`,...e)}function wn(n,...e){throw Dm(n,...e)}function an(n,...e){return Dm(n,...e)}function Om(n,e,t){const r={...q1(),[e]:t};return new oo("auth","Firebase",r).create(e,{appName:n.name})}function Mt(n){return Om(n,"operation-not-supported-in-this-environment","Operations that alter the current user are not supported in conjunction with FirebaseServerApp")}function ka(n,e,t){const r=t;if(!(e instanceof r))throw r.name!==e.constructor.name&&wn(n,"argument-error"),Om(n,"argument-error",`Type of ${e.constructor.name} does not match expected instance.Did you pass a reference from a different Auth SDK?`)}function Dm(n,...e){if(typeof n!="string"){const t=e[0],r=[...e.slice(1)];return r[0]&&(r[0].appName=n.name),n._errorFactory.create(t,...r)}return VT.create(n,...e)}function ne(n,e,...t){if(!n)throw Dm(e,...t)}function Nr(n){const e="INTERNAL ASSERTION FAILED: "+n;throw gh(e),new Error(e)}function hi(n,e){n||Nr(e)}function au(){return typeof self<"u"&&self.location?.href||""}function Lm(){return Vv()==="http:"||Vv()==="https:"}function Vv(){return typeof self<"u"&&self.location?.protocol||null}function G1(){return typeof navigator<"u"&&navigator&&"onLine"in navigator&&typeof navigator.onLine=="boolean"&&(Lm()||Cm()||"connection"in navigator)?navigator.onLine:!0}function K1(){if(typeof navigator>"u")return null;const n=navigator;return n.languages&&n.languages[0]||n.language||null}class Su{constructor(e,t){this.shortDelay=e,this.longDelay=t,hi(t>e,"Short delay should be less than long delay!"),this.isMobile=wP()||IP()}get(){return G1()?this.isMobile?this.longDelay:this.shortDelay:Math.min(5e3,this.shortDelay)}}function Vm(n,e){hi(n.emulator,"Emulator should always be set here");const{url:t}=n.emulator;return e?`${t}${e.startsWith("/")?e.slice(1):e}`:t}class MT{static initialize(e,t,r){this.fetchImpl=e,t&&(this.headersImpl=t),r&&(this.responseImpl=r)}static fetch(){if(this.fetchImpl)return this.fetchImpl;if(typeof self<"u"&&"fetch"in self)return self.fetch;if(typeof globalThis<"u"&&globalThis.fetch)return globalThis.fetch;if(typeof fetch<"u")return fetch;Nr("Could not find fetch implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static headers(){if(this.headersImpl)return this.headersImpl;if(typeof self<"u"&&"Headers"in self)return self.Headers;if(typeof globalThis<"u"&&globalThis.Headers)return globalThis.Headers;if(typeof Headers<"u")return Headers;Nr("Could not find Headers implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static response(){if(this.responseImpl)return this.responseImpl;if(typeof self<"u"&&"Response"in self)return self.Response;if(typeof globalThis<"u"&&globalThis.Response)return globalThis.Response;if(typeof Response<"u")return Response;Nr("Could not find Response implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}}const Q1={CREDENTIAL_MISMATCH:"custom-token-mismatch",MISSING_CUSTOM_TOKEN:"internal-error",INVALID_IDENTIFIER:"invalid-email",MISSING_CONTINUE_URI:"internal-error",INVALID_PASSWORD:"wrong-password",MISSING_PASSWORD:"missing-password",INVALID_LOGIN_CREDENTIALS:"invalid-credential",EMAIL_EXISTS:"email-already-in-use",PASSWORD_LOGIN_DISABLED:"operation-not-allowed",INVALID_IDP_RESPONSE:"invalid-credential",INVALID_PENDING_TOKEN:"invalid-credential",FEDERATED_USER_ID_ALREADY_LINKED:"credential-already-in-use",MISSING_REQ_TYPE:"internal-error",EMAIL_NOT_FOUND:"user-not-found",RESET_PASSWORD_EXCEED_LIMIT:"too-many-requests",EXPIRED_OOB_CODE:"expired-action-code",INVALID_OOB_CODE:"invalid-action-code",MISSING_OOB_CODE:"internal-error",CREDENTIAL_TOO_OLD_LOGIN_AGAIN:"requires-recent-login",INVALID_ID_TOKEN:"invalid-user-token",TOKEN_EXPIRED:"user-token-expired",USER_NOT_FOUND:"user-token-expired",TOO_MANY_ATTEMPTS_TRY_LATER:"too-many-requests",PASSWORD_DOES_NOT_MEET_REQUIREMENTS:"password-does-not-meet-requirements",INVALID_CODE:"invalid-verification-code",INVALID_SESSION_INFO:"invalid-verification-id",INVALID_TEMPORARY_PROOF:"invalid-credential",MISSING_SESSION_INFO:"missing-verification-id",SESSION_EXPIRED:"code-expired",MISSING_ANDROID_PACKAGE_NAME:"missing-android-pkg-name",UNAUTHORIZED_DOMAIN:"unauthorized-continue-uri",INVALID_OAUTH_CLIENT_ID:"invalid-oauth-client-id",ADMIN_ONLY_OPERATION:"admin-restricted-operation",INVALID_MFA_PENDING_CREDENTIAL:"invalid-multi-factor-session",MFA_ENROLLMENT_NOT_FOUND:"multi-factor-info-not-found",MISSING_MFA_ENROLLMENT_ID:"missing-multi-factor-info",MISSING_MFA_PENDING_CREDENTIAL:"missing-multi-factor-session",SECOND_FACTOR_EXISTS:"second-factor-already-in-use",SECOND_FACTOR_LIMIT_EXCEEDED:"maximum-second-factor-count-exceeded",BLOCKING_FUNCTION_ERROR_RESPONSE:"internal-error",RECAPTCHA_NOT_ENABLED:"recaptcha-not-enabled",MISSING_RECAPTCHA_TOKEN:"missing-recaptcha-token",INVALID_RECAPTCHA_TOKEN:"invalid-recaptcha-token",INVALID_RECAPTCHA_ACTION:"invalid-recaptcha-action",MISSING_CLIENT_TYPE:"missing-client-type",MISSING_RECAPTCHA_VERSION:"missing-recaptcha-version",INVALID_RECAPTCHA_VERSION:"invalid-recaptcha-version",INVALID_REQ_TYPE:"invalid-req-type"};const Y1=["/v1/accounts:signInWithCustomToken","/v1/accounts:signInWithEmailLink","/v1/accounts:signInWithIdp","/v1/accounts:signInWithPassword","/v1/accounts:signInWithPhoneNumber","/v1/token"],J1=new Su(3e4,6e4);function ot(n,e){return n.tenantId&&!e.tenantId?{...e,tenantId:n.tenantId}:e}async function at(n,e,t,r,s={}){return UT(n,s,async()=>{let a={},u={};r&&(e==="GET"?u=r:a={body:JSON.stringify(r)});const d=Pa({key:n.config.apiKey,...u}).slice(1),f=await n._getAdditionalHeaders();f["Content-Type"]="application/json",n.languageCode&&(f["X-Firebase-Locale"]=n.languageCode);const m={method:e,headers:f,...a};return TP()||(m.referrerPolicy="no-referrer"),n.emulatorConfig&&Fr(n.emulatorConfig.host)&&(m.credentials="include"),MT.fetch()(await FT(n,n.config.apiHost,t,d),m)})}async function UT(n,e,t){n._canInitEmulator=!1;const r={...Q1,...e};try{const s=new Z1(n),a=await Promise.race([t(),s.promise]);s.clearNetworkTimeout();const u=await a.json();if("needConfirmation"in u)throw $l(n,"account-exists-with-different-credential",u);if(a.ok&&!("errorMessage"in u))return u;{const d=a.ok?u.errorMessage:u.error.message,[f,m]=d.split(" : ");if(f==="FEDERATED_USER_ID_ALREADY_LINKED")throw $l(n,"credential-already-in-use",u);if(f==="EMAIL_EXISTS")throw $l(n,"email-already-in-use",u);if(f==="USER_DISABLED")throw $l(n,"user-disabled",u);const g=r[f]||f.toLowerCase().replace(/[_\s]+/g,"-");if(m)throw Om(n,g,m);wn(n,g)}}catch(s){if(s instanceof Dn)throw s;wn(n,"network-request-failed",{message:String(s)})}}async function yi(n,e,t,r,s={}){const a=await at(n,e,t,r,s);return"mfaPendingCredential"in a&&wn(n,"multi-factor-auth-required",{_serverResponse:a}),a}async function FT(n,e,t,r){const s=`${e}${t}?${r}`,a=n,u=a.config.emulator?Vm(n.config,s):`${n.config.apiScheme}://${s}`;return Y1.includes(t)&&(await a._persistenceManagerAvailable,a._getPersistenceType()==="COOKIE")?a._getPersistence()._getFinalTarget(u).toString():u}function X1(n){switch(n){case"ENFORCE":return"ENFORCE";case"AUDIT":return"AUDIT";case"OFF":return"OFF";default:return"ENFORCEMENT_STATE_UNSPECIFIED"}}class Z1{clearNetworkTimeout(){clearTimeout(this.timer)}constructor(e){this.auth=e,this.timer=null,this.promise=new Promise((t,r)=>{this.timer=setTimeout(()=>r(an(this.auth,"network-request-failed")),J1.get())})}}function $l(n,e,t){const r={appName:n.name};t.email&&(r.email=t.email),t.phoneNumber&&(r.phoneNumber=t.phoneNumber);const s=an(n,e,r);return s.customData._tokenResponse=t,s}function Mv(n){return n!==void 0&&n.getResponse!==void 0}function Uv(n){return n!==void 0&&n.enterprise!==void 0}class jT{constructor(e){if(this.siteKey="",this.recaptchaEnforcementState=[],e.recaptchaKey===void 0)throw new Error("recaptchaKey undefined");this.siteKey=e.recaptchaKey.split("/")[3],this.recaptchaEnforcementState=e.recaptchaEnforcementState}getProviderEnforcementState(e){if(!this.recaptchaEnforcementState||this.recaptchaEnforcementState.length===0)return null;for(const t of this.recaptchaEnforcementState)if(t.provider&&t.provider===e)return X1(t.enforcementState);return null}isProviderEnabled(e){return this.getProviderEnforcementState(e)==="ENFORCE"||this.getProviderEnforcementState(e)==="AUDIT"}isAnyProviderEnabled(){return this.isProviderEnabled("EMAIL_PASSWORD_PROVIDER")||this.isProviderEnabled("PHONE_PROVIDER")}}async function ek(n){return(await at(n,"GET","/v1/recaptchaParams")).recaptchaSiteKey||""}async function zT(n,e){return at(n,"GET","/v2/recaptchaConfig",ot(n,e))}async function tk(n,e){return at(n,"POST","/v1/accounts:delete",e)}async function nk(n,e){return at(n,"POST","/v1/accounts:update",e)}async function bh(n,e){return at(n,"POST","/v1/accounts:lookup",e)}function Jl(n){if(n)try{const e=new Date(Number(n));if(!isNaN(e.getTime()))return e.toUTCString()}catch{}}function KU(n,e=!1){return ve(n).getIdToken(e)}async function rk(n,e=!1){const t=ve(n),r=await t.getIdToken(e),s=ad(r);ne(s&&s.exp&&s.auth_time&&s.iat,t.auth,"internal-error");const a=typeof s.firebase=="object"?s.firebase:void 0,u=a?.sign_in_provider;return{claims:s,token:r,authTime:Jl(Tp(s.auth_time)),issuedAtTime:Jl(Tp(s.iat)),expirationTime:Jl(Tp(s.exp)),signInProvider:u||null,signInSecondFactor:a?.sign_in_second_factor||null}}function Tp(n){return Number(n)*1e3}function ad(n){const[e,t,r]=n.split(".");if(e===void 0||t===void 0||r===void 0)return gh("JWT malformed, contained fewer than 3 sections"),null;try{const s=IT(t);return s?JSON.parse(s):(gh("Failed to decode base64 JWT payload"),null)}catch(s){return gh("Caught error parsing JWT payload as JSON",s?.toString()),null}}function Fv(n){const e=ad(n);return ne(e,"internal-error"),ne(typeof e.exp<"u","internal-error"),ne(typeof e.iat<"u","internal-error"),Number(e.exp)-Number(e.iat)}async function di(n,e,t=!1){if(t)return e;try{return await e}catch(r){throw r instanceof Dn&&ik(r)&&n.auth.currentUser===n&&await n.auth.signOut(),r}}function ik({code:n}){return n==="auth/user-disabled"||n==="auth/user-token-expired"}class sk{constructor(e){this.user=e,this.isRunning=!1,this.timerId=null,this.errorBackoff=3e4}_start(){this.isRunning||(this.isRunning=!0,this.schedule())}_stop(){this.isRunning&&(this.isRunning=!1,this.timerId!==null&&clearTimeout(this.timerId))}getInterval(e){if(e){const t=this.errorBackoff;return this.errorBackoff=Math.min(this.errorBackoff*2,96e4),t}else{this.errorBackoff=3e4;const r=(this.user.stsTokenManager.expirationTime??0)-Date.now()-3e5;return Math.max(0,r)}}schedule(e=!1){if(!this.isRunning)return;const t=this.getInterval(e);this.timerId=setTimeout(async()=>{await this.iteration()},t)}async iteration(){try{await this.user.getIdToken(!0)}catch(e){e?.code==="auth/network-request-failed"&&this.schedule(!0);return}this.schedule()}}class Zp{constructor(e,t){this.createdAt=e,this.lastLoginAt=t,this._initializeTime()}_initializeTime(){this.lastSignInTime=Jl(this.lastLoginAt),this.creationTime=Jl(this.createdAt)}_copy(e){this.createdAt=e.createdAt,this.lastLoginAt=e.lastLoginAt,this._initializeTime()}toJSON(){return{createdAt:this.createdAt,lastLoginAt:this.lastLoginAt}}}async function lu(n){const e=n.auth,t=await n.getIdToken(),r=await di(n,bh(e,{idToken:t}));ne(r?.users.length,e,"internal-error");const s=r.users[0];n._notifyReloadListener(s);const a=s.providerUserInfo?.length?BT(s.providerUserInfo):[],u=ak(n.providerData,a),d=n.isAnonymous,f=!(n.email&&s.passwordHash)&&!u?.length,m=d?f:!1,g={uid:s.localId,displayName:s.displayName||null,photoURL:s.photoUrl||null,email:s.email||null,emailVerified:s.emailVerified||!1,phoneNumber:s.phoneNumber||null,tenantId:s.tenantId||null,providerData:u,metadata:new Zp(s.createdAt,s.lastLoginAt),isAnonymous:m};Object.assign(n,g)}async function ok(n){const e=ve(n);await lu(e),await e.auth._persistUserIfCurrent(e),e.auth._notifyListenersIfCurrent(e)}function ak(n,e){return[...n.filter(r=>!e.some(s=>s.providerId===r.providerId)),...e]}function BT(n){return n.map(({providerId:e,...t})=>({providerId:e,uid:t.rawId||"",displayName:t.displayName||null,email:t.email||null,phoneNumber:t.phoneNumber||null,photoURL:t.photoUrl||null}))}async function lk(n,e){const t=await UT(n,{},async()=>{const r=Pa({grant_type:"refresh_token",refresh_token:e}).slice(1),{tokenApiHost:s,apiKey:a}=n.config,u=await FT(n,s,"/v1/token",`key=${a}`),d=await n._getAdditionalHeaders();d["Content-Type"]="application/x-www-form-urlencoded";const f={method:"POST",headers:d,body:r};return n.emulatorConfig&&Fr(n.emulatorConfig.host)&&(f.credentials="include"),MT.fetch()(u,f)});return{accessToken:t.access_token,expiresIn:t.expires_in,refreshToken:t.refresh_token}}async function uk(n,e){return at(n,"POST","/v2/accounts:revokeToken",ot(n,e))}class ca{constructor(){this.refreshToken=null,this.accessToken=null,this.expirationTime=null}get isExpired(){return!this.expirationTime||Date.now()>this.expirationTime-3e4}updateFromServerResponse(e){ne(e.idToken,"internal-error"),ne(typeof e.idToken<"u","internal-error"),ne(typeof e.refreshToken<"u","internal-error");const t="expiresIn"in e&&typeof e.expiresIn<"u"?Number(e.expiresIn):Fv(e.idToken);this.updateTokensAndExpiration(e.idToken,e.refreshToken,t)}updateFromIdToken(e){ne(e.length!==0,"internal-error");const t=Fv(e);this.updateTokensAndExpiration(e,null,t)}async getToken(e,t=!1){return!t&&this.accessToken&&!this.isExpired?this.accessToken:(ne(this.refreshToken,e,"user-token-expired"),this.refreshToken?(await this.refresh(e,this.refreshToken),this.accessToken):null)}clearRefreshToken(){this.refreshToken=null}async refresh(e,t){const{accessToken:r,refreshToken:s,expiresIn:a}=await lk(e,t);this.updateTokensAndExpiration(r,s,Number(a))}updateTokensAndExpiration(e,t,r){this.refreshToken=t||null,this.accessToken=e||null,this.expirationTime=Date.now()+r*1e3}static fromJSON(e,t){const{refreshToken:r,accessToken:s,expirationTime:a}=t,u=new ca;return r&&(ne(typeof r=="string","internal-error",{appName:e}),u.refreshToken=r),s&&(ne(typeof s=="string","internal-error",{appName:e}),u.accessToken=s),a&&(ne(typeof a=="number","internal-error",{appName:e}),u.expirationTime=a),u}toJSON(){return{refreshToken:this.refreshToken,accessToken:this.accessToken,expirationTime:this.expirationTime}}_assign(e){this.accessToken=e.accessToken,this.refreshToken=e.refreshToken,this.expirationTime=e.expirationTime}_clone(){return Object.assign(new ca,this.toJSON())}_performRefresh(){return Nr("not implemented")}}function Ji(n,e){ne(typeof n=="string"||typeof n>"u","internal-error",{appName:e})}class ar{constructor({uid:e,auth:t,stsTokenManager:r,...s}){this.providerId="firebase",this.proactiveRefresh=new sk(this),this.reloadUserInfo=null,this.reloadListener=null,this.uid=e,this.auth=t,this.stsTokenManager=r,this.accessToken=r.accessToken,this.displayName=s.displayName||null,this.email=s.email||null,this.emailVerified=s.emailVerified||!1,this.phoneNumber=s.phoneNumber||null,this.photoURL=s.photoURL||null,this.isAnonymous=s.isAnonymous||!1,this.tenantId=s.tenantId||null,this.providerData=s.providerData?[...s.providerData]:[],this.metadata=new Zp(s.createdAt||void 0,s.lastLoginAt||void 0)}async getIdToken(e){const t=await di(this,this.stsTokenManager.getToken(this.auth,e));return ne(t,this.auth,"internal-error"),this.accessToken!==t&&(this.accessToken=t,await this.auth._persistUserIfCurrent(this),this.auth._notifyListenersIfCurrent(this)),t}getIdTokenResult(e){return rk(this,e)}reload(){return ok(this)}_assign(e){this!==e&&(ne(this.uid===e.uid,this.auth,"internal-error"),this.displayName=e.displayName,this.photoURL=e.photoURL,this.email=e.email,this.emailVerified=e.emailVerified,this.phoneNumber=e.phoneNumber,this.isAnonymous=e.isAnonymous,this.tenantId=e.tenantId,this.providerData=e.providerData.map(t=>({...t})),this.metadata._copy(e.metadata),this.stsTokenManager._assign(e.stsTokenManager))}_clone(e){const t=new ar({...this,auth:e,stsTokenManager:this.stsTokenManager._clone()});return t.metadata._copy(this.metadata),t}_onReload(e){ne(!this.reloadListener,this.auth,"internal-error"),this.reloadListener=e,this.reloadUserInfo&&(this._notifyReloadListener(this.reloadUserInfo),this.reloadUserInfo=null)}_notifyReloadListener(e){this.reloadListener?this.reloadListener(e):this.reloadUserInfo=e}_startProactiveRefresh(){this.proactiveRefresh._start()}_stopProactiveRefresh(){this.proactiveRefresh._stop()}async _updateTokensIfNecessary(e,t=!1){let r=!1;e.idToken&&e.idToken!==this.stsTokenManager.accessToken&&(this.stsTokenManager.updateFromServerResponse(e),r=!0),t&&await lu(this),await this.auth._persistUserIfCurrent(this),r&&this.auth._notifyListenersIfCurrent(this)}async delete(){if(st(this.auth.app))return Promise.reject(Mt(this.auth));const e=await this.getIdToken();return await di(this,tk(this.auth,{idToken:e})),this.stsTokenManager.clearRefreshToken(),this.auth.signOut()}toJSON(){return{uid:this.uid,email:this.email||void 0,emailVerified:this.emailVerified,displayName:this.displayName||void 0,isAnonymous:this.isAnonymous,photoURL:this.photoURL||void 0,phoneNumber:this.phoneNumber||void 0,tenantId:this.tenantId||void 0,providerData:this.providerData.map(e=>({...e})),stsTokenManager:this.stsTokenManager.toJSON(),_redirectEventId:this._redirectEventId,...this.metadata.toJSON(),apiKey:this.auth.config.apiKey,appName:this.auth.name}}get refreshToken(){return this.stsTokenManager.refreshToken||""}static _fromJSON(e,t){const r=t.displayName??void 0,s=t.email??void 0,a=t.phoneNumber??void 0,u=t.photoURL??void 0,d=t.tenantId??void 0,f=t._redirectEventId??void 0,m=t.createdAt??void 0,g=t.lastLoginAt??void 0,{uid:E,emailVerified:w,isAnonymous:A,providerData:O,stsTokenManager:F}=t;ne(E&&F,e,"internal-error");const M=ca.fromJSON(this.name,F);ne(typeof E=="string",e,"internal-error"),Ji(r,e.name),Ji(s,e.name),ne(typeof w=="boolean",e,"internal-error"),ne(typeof A=="boolean",e,"internal-error"),Ji(a,e.name),Ji(u,e.name),Ji(d,e.name),Ji(f,e.name),Ji(m,e.name),Ji(g,e.name);const J=new ar({uid:E,auth:e,email:s,emailVerified:w,displayName:r,isAnonymous:A,photoURL:u,phoneNumber:a,tenantId:d,stsTokenManager:M,createdAt:m,lastLoginAt:g});return O&&Array.isArray(O)&&(J.providerData=O.map(se=>({...se}))),f&&(J._redirectEventId=f),J}static async _fromIdTokenResponse(e,t,r=!1){const s=new ca;s.updateFromServerResponse(t);const a=new ar({uid:t.localId,auth:e,stsTokenManager:s,isAnonymous:r});return await lu(a),a}static async _fromGetAccountInfoResponse(e,t,r){const s=t.users[0];ne(s.localId!==void 0,"internal-error");const a=s.providerUserInfo!==void 0?BT(s.providerUserInfo):[],u=!(s.email&&s.passwordHash)&&!a?.length,d=new ca;d.updateFromIdToken(r);const f=new ar({uid:s.localId,auth:e,stsTokenManager:d,isAnonymous:u}),m={uid:s.localId,displayName:s.displayName||null,photoURL:s.photoUrl||null,email:s.email||null,emailVerified:s.emailVerified||!1,phoneNumber:s.phoneNumber||null,tenantId:s.tenantId||null,providerData:a,metadata:new Zp(s.createdAt,s.lastLoginAt),isAnonymous:!(s.email&&s.passwordHash)&&!a?.length};return Object.assign(f,m),f}}const jv=new Map;function si(n){hi(n instanceof Function,"Expected a class definition");let e=jv.get(n);return e?(hi(e instanceof n,"Instance stored in cache mismatched with class"),e):(e=new n,jv.set(n,e),e)}class $T{constructor(){this.type="NONE",this.storage={}}async _isAvailable(){return!0}async _set(e,t){this.storage[e]=t}async _get(e){const t=this.storage[e];return t===void 0?null:t}async _remove(e){delete this.storage[e]}_addListener(e,t){}_removeListener(e,t){}}$T.type="NONE";const zv=$T;function yh(n,e,t){return`firebase:${n}:${e}:${t}`}class ha{constructor(e,t,r){this.persistence=e,this.auth=t,this.userKey=r;const{config:s,name:a}=this.auth;this.fullUserKey=yh(this.userKey,s.apiKey,a),this.fullPersistenceKey=yh("persistence",s.apiKey,a),this.boundEventHandler=t._onStorageEvent.bind(t),this.persistence._addListener(this.fullUserKey,this.boundEventHandler)}setCurrentUser(e){return this.persistence._set(this.fullUserKey,e.toJSON())}async getCurrentUser(){const e=await this.persistence._get(this.fullUserKey);if(!e)return null;if(typeof e=="string"){const t=await bh(this.auth,{idToken:e}).catch(()=>{});return t?ar._fromGetAccountInfoResponse(this.auth,t,e):null}return ar._fromJSON(this.auth,e)}removeCurrentUser(){return this.persistence._remove(this.fullUserKey)}savePersistenceForRedirect(){return this.persistence._set(this.fullPersistenceKey,this.persistence.type)}async setPersistence(e){if(this.persistence===e)return;const t=await this.getCurrentUser();if(await this.removeCurrentUser(),this.persistence=e,t)return this.setCurrentUser(t)}delete(){this.persistence._removeListener(this.fullUserKey,this.boundEventHandler)}static async create(e,t,r="authUser"){if(!t.length)return new ha(si(zv),e,r);const s=(await Promise.all(t.map(async m=>{if(await m._isAvailable())return m}))).filter(m=>m);let a=s[0]||si(zv);const u=yh(r,e.config.apiKey,e.name);let d=null;for(const m of t)try{const g=await m._get(u);if(g){let E;if(typeof g=="string"){const w=await bh(e,{idToken:g}).catch(()=>{});if(!w)break;E=await ar._fromGetAccountInfoResponse(e,w,g)}else E=ar._fromJSON(e,g);m!==a&&(d=E),a=m;break}}catch{}const f=s.filter(m=>m._shouldAllowMigration);return!a._shouldAllowMigration||!f.length?new ha(a,e,r):(a=f[0],d&&await a._set(u,d.toJSON()),await Promise.all(t.map(async m=>{if(m!==a)try{await m._remove(u)}catch{}})),new ha(a,e,r))}}function Bv(n){const e=n.toLowerCase();if(e.includes("opera/")||e.includes("opr/")||e.includes("opios/"))return"Opera";if(GT(e))return"IEMobile";if(e.includes("msie")||e.includes("trident/"))return"IE";if(e.includes("edge/"))return"Edge";if(HT(e))return"Firefox";if(e.includes("silk/"))return"Silk";if(QT(e))return"Blackberry";if(YT(e))return"Webos";if(qT(e))return"Safari";if((e.includes("chrome/")||WT(e))&&!e.includes("edge/"))return"Chrome";if(KT(e))return"Android";{const t=/([a-zA-Z\d\.]+)\/[a-zA-Z\d\.]*$/,r=n.match(t);if(r?.length===2)return r[1]}return"Other"}function HT(n=en()){return/firefox\//i.test(n)}function qT(n=en()){const e=n.toLowerCase();return e.includes("safari/")&&!e.includes("chrome/")&&!e.includes("crios/")&&!e.includes("android")}function WT(n=en()){return/crios\//i.test(n)}function GT(n=en()){return/iemobile/i.test(n)}function KT(n=en()){return/android/i.test(n)}function QT(n=en()){return/blackberry/i.test(n)}function YT(n=en()){return/webos/i.test(n)}function Mm(n=en()){return/iphone|ipad|ipod/i.test(n)||/macintosh/i.test(n)&&/mobile/i.test(n)}function ck(n=en()){return Mm(n)&&!!window.navigator?.standalone}function hk(){return SP()&&document.documentMode===10}function JT(n=en()){return Mm(n)||KT(n)||YT(n)||QT(n)||/windows phone/i.test(n)||GT(n)}function XT(n,e=[]){let t;switch(n){case"Browser":t=Bv(en());break;case"Worker":t=`${Bv(en())}-${n}`;break;default:t=n}const r=e.length?e.join(","):"FirebaseCore-web";return`${t}/JsCore/${ao}/${r}`}class dk{constructor(e){this.auth=e,this.queue=[]}pushCallback(e,t){const r=a=>new Promise((u,d)=>{try{const f=e(a);u(f)}catch(f){d(f)}});r.onAbort=t,this.queue.push(r);const s=this.queue.length-1;return()=>{this.queue[s]=()=>Promise.resolve()}}async runMiddleware(e){if(this.auth.currentUser===e)return;const t=[];try{for(const r of this.queue)await r(e),r.onAbort&&t.push(r.onAbort)}catch(r){t.reverse();for(const s of t)try{s()}catch{}throw this.auth._errorFactory.create("login-blocked",{originalMessage:r?.message})}}}async function fk(n,e={}){return at(n,"GET","/v2/passwordPolicy",ot(n,e))}const pk=6;class mk{constructor(e){const t=e.customStrengthOptions;this.customStrengthOptions={},this.customStrengthOptions.minPasswordLength=t.minPasswordLength??pk,t.maxPasswordLength&&(this.customStrengthOptions.maxPasswordLength=t.maxPasswordLength),t.containsLowercaseCharacter!==void 0&&(this.customStrengthOptions.containsLowercaseLetter=t.containsLowercaseCharacter),t.containsUppercaseCharacter!==void 0&&(this.customStrengthOptions.containsUppercaseLetter=t.containsUppercaseCharacter),t.containsNumericCharacter!==void 0&&(this.customStrengthOptions.containsNumericCharacter=t.containsNumericCharacter),t.containsNonAlphanumericCharacter!==void 0&&(this.customStrengthOptions.containsNonAlphanumericCharacter=t.containsNonAlphanumericCharacter),this.enforcementState=e.enforcementState,this.enforcementState==="ENFORCEMENT_STATE_UNSPECIFIED"&&(this.enforcementState="OFF"),this.allowedNonAlphanumericCharacters=e.allowedNonAlphanumericCharacters?.join("")??"",this.forceUpgradeOnSignin=e.forceUpgradeOnSignin??!1,this.schemaVersion=e.schemaVersion}validatePassword(e){const t={isValid:!0,passwordPolicy:this};return this.validatePasswordLengthOptions(e,t),this.validatePasswordCharacterOptions(e,t),t.isValid&&(t.isValid=t.meetsMinPasswordLength??!0),t.isValid&&(t.isValid=t.meetsMaxPasswordLength??!0),t.isValid&&(t.isValid=t.containsLowercaseLetter??!0),t.isValid&&(t.isValid=t.containsUppercaseLetter??!0),t.isValid&&(t.isValid=t.containsNumericCharacter??!0),t.isValid&&(t.isValid=t.containsNonAlphanumericCharacter??!0),t}validatePasswordLengthOptions(e,t){const r=this.customStrengthOptions.minPasswordLength,s=this.customStrengthOptions.maxPasswordLength;r&&(t.meetsMinPasswordLength=e.length>=r),s&&(t.meetsMaxPasswordLength=e.length<=s)}validatePasswordCharacterOptions(e,t){this.updatePasswordCharacterOptionsStatuses(t,!1,!1,!1,!1);let r;for(let s=0;s<e.length;s++)r=e.charAt(s),this.updatePasswordCharacterOptionsStatuses(t,r>="a"&&r<="z",r>="A"&&r<="Z",r>="0"&&r<="9",this.allowedNonAlphanumericCharacters.includes(r))}updatePasswordCharacterOptionsStatuses(e,t,r,s,a){this.customStrengthOptions.containsLowercaseLetter&&(e.containsLowercaseLetter||(e.containsLowercaseLetter=t)),this.customStrengthOptions.containsUppercaseLetter&&(e.containsUppercaseLetter||(e.containsUppercaseLetter=r)),this.customStrengthOptions.containsNumericCharacter&&(e.containsNumericCharacter||(e.containsNumericCharacter=s)),this.customStrengthOptions.containsNonAlphanumericCharacter&&(e.containsNonAlphanumericCharacter||(e.containsNonAlphanumericCharacter=a))}}class gk{constructor(e,t,r,s){this.app=e,this.heartbeatServiceProvider=t,this.appCheckServiceProvider=r,this.config=s,this.currentUser=null,this.emulatorConfig=null,this.operations=Promise.resolve(),this.authStateSubscription=new $v(this),this.idTokenSubscription=new $v(this),this.beforeStateQueue=new dk(this),this.redirectUser=null,this.isProactiveRefreshEnabled=!1,this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION=1,this._canInitEmulator=!0,this._isInitialized=!1,this._deleted=!1,this._initializationPromise=null,this._popupRedirectResolver=null,this._errorFactory=VT,this._agentRecaptchaConfig=null,this._tenantRecaptchaConfigs={},this._projectPasswordPolicy=null,this._tenantPasswordPolicies={},this._resolvePersistenceManagerAvailable=void 0,this.lastNotifiedUid=void 0,this.languageCode=null,this.tenantId=null,this.settings={appVerificationDisabledForTesting:!1},this.frameworks=[],this.name=e.name,this.clientVersion=s.sdkClientVersion,this._persistenceManagerAvailable=new Promise(a=>this._resolvePersistenceManagerAvailable=a)}_initializeWithPersistence(e,t){return t&&(this._popupRedirectResolver=si(t)),this._initializationPromise=this.queue(async()=>{if(!this._deleted&&(this.persistenceManager=await ha.create(this,e),this._resolvePersistenceManagerAvailable?.(),!this._deleted)){if(this._popupRedirectResolver?._shouldInitProactively)try{await this._popupRedirectResolver._initialize(this)}catch{}await this.initializeCurrentUser(t),this.lastNotifiedUid=this.currentUser?.uid||null,!this._deleted&&(this._isInitialized=!0)}}),this._initializationPromise}async _onStorageEvent(){if(this._deleted)return;const e=await this.assertedPersistence.getCurrentUser();if(!(!this.currentUser&&!e)){if(this.currentUser&&e&&this.currentUser.uid===e.uid){this._currentUser._assign(e),await this.currentUser.getIdToken();return}await this._updateCurrentUser(e,!0)}}async initializeCurrentUserFromIdToken(e){try{const t=await bh(this,{idToken:e}),r=await ar._fromGetAccountInfoResponse(this,t,e);await this.directlySetCurrentUser(r)}catch(t){console.warn("FirebaseServerApp could not login user with provided authIdToken: ",t),await this.directlySetCurrentUser(null)}}async initializeCurrentUser(e){if(st(this.app)){const a=this.app.settings.authIdToken;return a?new Promise(u=>{setTimeout(()=>this.initializeCurrentUserFromIdToken(a).then(u,u))}):this.directlySetCurrentUser(null)}const t=await this.assertedPersistence.getCurrentUser();let r=t,s=!1;if(e&&this.config.authDomain){await this.getOrInitRedirectPersistenceManager();const a=this.redirectUser?._redirectEventId,u=r?._redirectEventId,d=await this.tryRedirectSignIn(e);(!a||a===u)&&d?.user&&(r=d.user,s=!0)}if(!r)return this.directlySetCurrentUser(null);if(!r._redirectEventId){if(s)try{await this.beforeStateQueue.runMiddleware(r)}catch(a){r=t,this._popupRedirectResolver._overrideRedirectResult(this,()=>Promise.reject(a))}return r?this.reloadAndSetCurrentUserOrClear(r):this.directlySetCurrentUser(null)}return ne(this._popupRedirectResolver,this,"argument-error"),await this.getOrInitRedirectPersistenceManager(),this.redirectUser&&this.redirectUser._redirectEventId===r._redirectEventId?this.directlySetCurrentUser(r):this.reloadAndSetCurrentUserOrClear(r)}async tryRedirectSignIn(e){let t=null;try{t=await this._popupRedirectResolver._completeRedirectFn(this,e,!0)}catch{await this._setRedirectUser(null)}return t}async reloadAndSetCurrentUserOrClear(e){try{await lu(e)}catch(t){if(t?.code!=="auth/network-request-failed")return this.directlySetCurrentUser(null)}return this.directlySetCurrentUser(e)}useDeviceLanguage(){this.languageCode=K1()}async _delete(){this._deleted=!0}async updateCurrentUser(e){if(st(this.app))return Promise.reject(Mt(this));const t=e?ve(e):null;return t&&ne(t.auth.config.apiKey===this.config.apiKey,this,"invalid-user-token"),this._updateCurrentUser(t&&t._clone(this))}async _updateCurrentUser(e,t=!1){if(!this._deleted)return e&&ne(this.tenantId===e.tenantId,this,"tenant-id-mismatch"),t||await this.beforeStateQueue.runMiddleware(e),this.queue(async()=>{await this.directlySetCurrentUser(e),this.notifyAuthListeners()})}async signOut(){return st(this.app)?Promise.reject(Mt(this)):(await this.beforeStateQueue.runMiddleware(null),(this.redirectPersistenceManager||this._popupRedirectResolver)&&await this._setRedirectUser(null),this._updateCurrentUser(null,!0))}setPersistence(e){return st(this.app)?Promise.reject(Mt(this)):this.queue(async()=>{await this.assertedPersistence.setPersistence(si(e))})}_getRecaptchaConfig(){return this.tenantId==null?this._agentRecaptchaConfig:this._tenantRecaptchaConfigs[this.tenantId]}async validatePassword(e){this._getPasswordPolicyInternal()||await this._updatePasswordPolicy();const t=this._getPasswordPolicyInternal();return t.schemaVersion!==this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION?Promise.reject(this._errorFactory.create("unsupported-password-policy-schema-version",{})):t.validatePassword(e)}_getPasswordPolicyInternal(){return this.tenantId===null?this._projectPasswordPolicy:this._tenantPasswordPolicies[this.tenantId]}async _updatePasswordPolicy(){const e=await fk(this),t=new mk(e);this.tenantId===null?this._projectPasswordPolicy=t:this._tenantPasswordPolicies[this.tenantId]=t}_getPersistenceType(){return this.assertedPersistence.persistence.type}_getPersistence(){return this.assertedPersistence.persistence}_updateErrorMap(e){this._errorFactory=new oo("auth","Firebase",e())}onAuthStateChanged(e,t,r){return this.registerStateListener(this.authStateSubscription,e,t,r)}beforeAuthStateChanged(e,t){return this.beforeStateQueue.pushCallback(e,t)}onIdTokenChanged(e,t,r){return this.registerStateListener(this.idTokenSubscription,e,t,r)}authStateReady(){return new Promise((e,t)=>{if(this.currentUser)e();else{const r=this.onAuthStateChanged(()=>{r(),e()},t)}})}async revokeAccessToken(e){if(this.currentUser){const t=await this.currentUser.getIdToken(),r={providerId:"apple.com",tokenType:"ACCESS_TOKEN",token:e,idToken:t};this.tenantId!=null&&(r.tenantId=this.tenantId),await uk(this,r)}}toJSON(){return{apiKey:this.config.apiKey,authDomain:this.config.authDomain,appName:this.name,currentUser:this._currentUser?.toJSON()}}async _setRedirectUser(e,t){const r=await this.getOrInitRedirectPersistenceManager(t);return e===null?r.removeCurrentUser():r.setCurrentUser(e)}async getOrInitRedirectPersistenceManager(e){if(!this.redirectPersistenceManager){const t=e&&si(e)||this._popupRedirectResolver;ne(t,this,"argument-error"),this.redirectPersistenceManager=await ha.create(this,[si(t._redirectPersistence)],"redirectUser"),this.redirectUser=await this.redirectPersistenceManager.getCurrentUser()}return this.redirectPersistenceManager}async _redirectUserForId(e){return this._isInitialized&&await this.queue(async()=>{}),this._currentUser?._redirectEventId===e?this._currentUser:this.redirectUser?._redirectEventId===e?this.redirectUser:null}async _persistUserIfCurrent(e){if(e===this.currentUser)return this.queue(async()=>this.directlySetCurrentUser(e))}_notifyListenersIfCurrent(e){e===this.currentUser&&this.notifyAuthListeners()}_key(){return`${this.config.authDomain}:${this.config.apiKey}:${this.name}`}_startProactiveRefresh(){this.isProactiveRefreshEnabled=!0,this.currentUser&&this._currentUser._startProactiveRefresh()}_stopProactiveRefresh(){this.isProactiveRefreshEnabled=!1,this.currentUser&&this._currentUser._stopProactiveRefresh()}get _currentUser(){return this.currentUser}notifyAuthListeners(){if(!this._isInitialized)return;this.idTokenSubscription.next(this.currentUser);const e=this.currentUser?.uid??null;this.lastNotifiedUid!==e&&(this.lastNotifiedUid=e,this.authStateSubscription.next(this.currentUser))}registerStateListener(e,t,r,s){if(this._deleted)return()=>{};const a=typeof t=="function"?t:t.next.bind(t);let u=!1;const d=this._isInitialized?Promise.resolve():this._initializationPromise;if(ne(d,this,"internal-error"),d.then(()=>{u||a(this.currentUser)}),typeof t=="function"){const f=e.addObserver(t,r,s);return()=>{u=!0,f()}}else{const f=e.addObserver(t);return()=>{u=!0,f()}}}async directlySetCurrentUser(e){this.currentUser&&this.currentUser!==e&&this._currentUser._stopProactiveRefresh(),e&&this.isProactiveRefreshEnabled&&e._startProactiveRefresh(),this.currentUser=e,e?await this.assertedPersistence.setCurrentUser(e):await this.assertedPersistence.removeCurrentUser()}queue(e){return this.operations=this.operations.then(e,e),this.operations}get assertedPersistence(){return ne(this.persistenceManager,this,"internal-error"),this.persistenceManager}_logFramework(e){!e||this.frameworks.includes(e)||(this.frameworks.push(e),this.frameworks.sort(),this.clientVersion=XT(this.config.clientPlatform,this._getFrameworks()))}_getFrameworks(){return this.frameworks}async _getAdditionalHeaders(){const e={"X-Client-Version":this.clientVersion};this.app.options.appId&&(e["X-Firebase-gmpid"]=this.app.options.appId);const t=await this.heartbeatServiceProvider.getImmediate({optional:!0})?.getHeartbeatsHeader();t&&(e["X-Firebase-Client"]=t);const r=await this._getAppCheckToken();return r&&(e["X-Firebase-AppCheck"]=r),e}async _getAppCheckToken(){if(st(this.app)&&this.app.settings.appCheckToken)return this.app.settings.appCheckToken;const e=await this.appCheckServiceProvider.getImmediate({optional:!0})?.getToken();return e?.error&&W1(`Error while retrieving App Check token: ${e.error}`),e?.token}}function yt(n){return ve(n)}class $v{constructor(e){this.auth=e,this.observer=null,this.addObserver=bP(t=>this.observer=t)}get next(){return ne(this.observer,this.auth,"internal-error"),this.observer.next.bind(this.observer)}}let Au={async loadJS(){throw new Error("Unable to load external scripts")},recaptchaV2Script:"",recaptchaEnterpriseScript:"",gapiScript:""};function yk(n){Au=n}function Um(n){return Au.loadJS(n)}function _k(){return Au.recaptchaV2Script}function vk(){return Au.recaptchaEnterpriseScript}function wk(){return Au.gapiScript}function ZT(n){return`__${n}${Math.floor(Math.random()*1e6)}`}const Ek=500,Tk=6e4,rh=1e12;class Ik{constructor(e){this.auth=e,this.counter=rh,this._widgets=new Map}render(e,t){const r=this.counter;return this._widgets.set(r,new Rk(e,this.auth.name,t||{})),this.counter++,r}reset(e){const t=e||rh;this._widgets.get(t)?.delete(),this._widgets.delete(t)}getResponse(e){const t=e||rh;return this._widgets.get(t)?.getResponse()||""}async execute(e){const t=e||rh;return this._widgets.get(t)?.execute(),""}}class Sk{constructor(){this.enterprise=new Ak}ready(e){e()}execute(e,t){return Promise.resolve("token")}render(e,t){return""}}class Ak{ready(e){e()}execute(e,t){return Promise.resolve("token")}render(e,t){return""}}class Rk{constructor(e,t,r){this.params=r,this.timerId=null,this.deleted=!1,this.responseToken=null,this.clickHandler=()=>{this.execute()};const s=typeof e=="string"?document.getElementById(e):e;ne(s,"argument-error",{appName:t}),this.container=s,this.isVisible=this.params.size!=="invisible",this.isVisible?this.execute():this.container.addEventListener("click",this.clickHandler)}getResponse(){return this.checkIfDeleted(),this.responseToken}delete(){this.checkIfDeleted(),this.deleted=!0,this.timerId&&(clearTimeout(this.timerId),this.timerId=null),this.container.removeEventListener("click",this.clickHandler)}execute(){this.checkIfDeleted(),!this.timerId&&(this.timerId=window.setTimeout(()=>{this.responseToken=Pk(50);const{callback:e,"expired-callback":t}=this.params;if(e)try{e(this.responseToken)}catch{}this.timerId=window.setTimeout(()=>{if(this.timerId=null,this.responseToken=null,t)try{t()}catch{}this.isVisible&&this.execute()},Tk)},Ek))}checkIfDeleted(){if(this.deleted)throw new Error("reCAPTCHA mock was already deleted!")}}function Pk(n){const e=[],t="1234567890abcdefghijklmnopqrstuvwxyzABCDEFGHIJKLMNOPQRSTUVWXYZ";for(let r=0;r<n;r++)e.push(t.charAt(Math.floor(Math.random()*t.length)));return e.join("")}const kk="recaptcha-enterprise",Xl="NO_RECAPTCHA";class eI{constructor(e){this.type=kk,this.auth=yt(e)}async verify(e="verify",t=!1){async function r(a){if(!t){if(a.tenantId==null&&a._agentRecaptchaConfig!=null)return a._agentRecaptchaConfig.siteKey;if(a.tenantId!=null&&a._tenantRecaptchaConfigs[a.tenantId]!==void 0)return a._tenantRecaptchaConfigs[a.tenantId].siteKey}return new Promise(async(u,d)=>{zT(a,{clientType:"CLIENT_TYPE_WEB",version:"RECAPTCHA_ENTERPRISE"}).then(f=>{if(f.recaptchaKey===void 0)d(new Error("recaptcha Enterprise site key undefined"));else{const m=new jT(f);return a.tenantId==null?a._agentRecaptchaConfig=m:a._tenantRecaptchaConfigs[a.tenantId]=m,u(m.siteKey)}}).catch(f=>{d(f)})})}function s(a,u,d){const f=window.grecaptcha;Uv(f)?f.enterprise.ready(()=>{f.enterprise.execute(a,{action:e}).then(m=>{u(m)}).catch(()=>{u(Xl)})}):d(Error("No reCAPTCHA enterprise script loaded."))}return this.auth.settings.appVerificationDisabledForTesting?new Sk().execute("siteKey",{action:"verify"}):new Promise((a,u)=>{r(this.auth).then(d=>{if(!t&&Uv(window.grecaptcha))s(d,a,u);else{if(typeof window>"u"){u(new Error("RecaptchaVerifier is only supported in browser"));return}let f=vk();f.length!==0&&(f+=d),Um(f).then(()=>{s(d,a,u)}).catch(m=>{u(m)})}}).catch(d=>{u(d)})})}}async function Ll(n,e,t,r=!1,s=!1){const a=new eI(n);let u;if(s)u=Xl;else try{u=await a.verify(t)}catch{u=await a.verify(t,!0)}const d={...e};if(t==="mfaSmsEnrollment"||t==="mfaSmsSignIn"){if("phoneEnrollmentInfo"in d){const f=d.phoneEnrollmentInfo.phoneNumber,m=d.phoneEnrollmentInfo.recaptchaToken;Object.assign(d,{phoneEnrollmentInfo:{phoneNumber:f,recaptchaToken:m,captchaResponse:u,clientType:"CLIENT_TYPE_WEB",recaptchaVersion:"RECAPTCHA_ENTERPRISE"}})}else if("phoneSignInInfo"in d){const f=d.phoneSignInInfo.recaptchaToken;Object.assign(d,{phoneSignInInfo:{recaptchaToken:f,captchaResponse:u,clientType:"CLIENT_TYPE_WEB",recaptchaVersion:"RECAPTCHA_ENTERPRISE"}})}return d}return r?Object.assign(d,{captchaResp:u}):Object.assign(d,{captchaResponse:u}),Object.assign(d,{clientType:"CLIENT_TYPE_WEB"}),Object.assign(d,{recaptchaVersion:"RECAPTCHA_ENTERPRISE"}),d}async function ss(n,e,t,r,s){if(s==="EMAIL_PASSWORD_PROVIDER")if(n._getRecaptchaConfig()?.isProviderEnabled("EMAIL_PASSWORD_PROVIDER")){const a=await Ll(n,e,t,t==="getOobCode");return r(n,a)}else return r(n,e).catch(async a=>{if(a.code==="auth/missing-recaptcha-token"){console.log(`${t} is protected by reCAPTCHA Enterprise for this project. Automatically triggering the reCAPTCHA flow and restarting the flow.`);const u=await Ll(n,e,t,t==="getOobCode");return r(n,u)}else return Promise.reject(a)});else if(s==="PHONE_PROVIDER")if(n._getRecaptchaConfig()?.isProviderEnabled("PHONE_PROVIDER")){const a=await Ll(n,e,t);return r(n,a).catch(async u=>{if(n._getRecaptchaConfig()?.getProviderEnforcementState("PHONE_PROVIDER")==="AUDIT"&&(u.code==="auth/missing-recaptcha-token"||u.code==="auth/invalid-app-credential")){console.log(`Failed to verify with reCAPTCHA Enterprise. Automatically triggering the reCAPTCHA v2 flow to complete the ${t} flow.`);const d=await Ll(n,e,t,!1,!0);return r(n,d)}return Promise.reject(u)})}else{const a=await Ll(n,e,t,!1,!0);return r(n,a)}else return Promise.reject(s+" provider is not supported.")}async function tI(n){const e=yt(n),t=await zT(e,{clientType:"CLIENT_TYPE_WEB",version:"RECAPTCHA_ENTERPRISE"}),r=new jT(t);e.tenantId==null?e._agentRecaptchaConfig=r:e._tenantRecaptchaConfigs[e.tenantId]=r,r.isAnyProviderEnabled()&&new eI(e).verify()}function Ck(n,e){const t=gi(n,"auth");if(t.isInitialized()){const s=t.getImmediate(),a=t.getOptions();if(ui(a,e??{}))return s;wn(s,"already-initialized")}return t.initialize({options:e})}function bk(n,e){const t=e?.persistence||[],r=(Array.isArray(t)?t:[t]).map(si);e?.errorMap&&n._updateErrorMap(e.errorMap),n._initializeWithPersistence(r,e?.popupRedirectResolver)}function Nk(n,e,t){const r=yt(n);ne(/^https?:\/\//.test(e),r,"invalid-emulator-scheme");const s=!!t?.disableWarnings,a=nI(e),{host:u,port:d}=xk(e),f=d===null?"":`:${d}`,m={url:`${a}//${u}${f}/`},g=Object.freeze({host:u,port:d,protocol:a.replace(":",""),options:Object.freeze({disableWarnings:s})});if(!r._canInitEmulator){ne(r.config.emulator&&r.emulatorConfig,r,"emulator-config-failed"),ne(ui(m,r.config.emulator)&&ui(g,r.emulatorConfig),r,"emulator-config-failed");return}r.config.emulator=m,r.emulatorConfig=g,r.settings.appVerificationDisabledForTesting=!0,Fr(u)?(id(`${a}//${u}${f}`),sd("Auth",!0)):s||Ok()}function nI(n){const e=n.indexOf(":");return e<0?"":n.substr(0,e+1)}function xk(n){const e=nI(n),t=/(\/\/)?([^?#/]+)/.exec(n.substr(e.length));if(!t)return{host:"",port:null};const r=t[2].split("@").pop()||"",s=/^(\[[^\]]+\])(:|$)/.exec(r);if(s){const a=s[1];return{host:a,port:Hv(r.substr(a.length+1))}}else{const[a,u]=r.split(":");return{host:a,port:Hv(u)}}}function Hv(n){if(!n)return null;const e=Number(n);return isNaN(e)?null:e}function Ok(){function n(){const e=document.createElement("p"),t=e.style;e.innerText="Running in emulator mode. Do not use with production credentials.",t.position="fixed",t.width="100%",t.backgroundColor="#ffffff",t.border=".1em solid #000000",t.color="#b50000",t.bottom="0px",t.left="0px",t.margin="0px",t.zIndex="10000",t.textAlign="center",e.classList.add("firebase-emulator-warning"),document.body.appendChild(e)}typeof console<"u"&&typeof console.info=="function"&&console.info("WARNING: You are using the Auth Emulator, which is intended for local testing only.  Do not use with production credentials."),typeof window<"u"&&typeof document<"u"&&(document.readyState==="loading"?window.addEventListener("DOMContentLoaded",n):n())}class Ru{constructor(e,t){this.providerId=e,this.signInMethod=t}toJSON(){return Nr("not implemented")}_getIdTokenResponse(e){return Nr("not implemented")}_linkToIdToken(e,t){return Nr("not implemented")}_getReauthenticationResolver(e){return Nr("not implemented")}}async function rI(n,e){return at(n,"POST","/v1/accounts:resetPassword",ot(n,e))}async function Dk(n,e){return at(n,"POST","/v1/accounts:update",e)}async function Lk(n,e){return at(n,"POST","/v1/accounts:signUp",e)}async function Vk(n,e){return at(n,"POST","/v1/accounts:update",ot(n,e))}async function Mk(n,e){return yi(n,"POST","/v1/accounts:signInWithPassword",ot(n,e))}async function ld(n,e){return at(n,"POST","/v1/accounts:sendOobCode",ot(n,e))}async function Uk(n,e){return ld(n,e)}async function Fk(n,e){return ld(n,e)}async function jk(n,e){return ld(n,e)}async function zk(n,e){return ld(n,e)}async function Bk(n,e){return yi(n,"POST","/v1/accounts:signInWithEmailLink",ot(n,e))}async function $k(n,e){return yi(n,"POST","/v1/accounts:signInWithEmailLink",ot(n,e))}class uu extends Ru{constructor(e,t,r,s=null){super("password",r),this._email=e,this._password=t,this._tenantId=s}static _fromEmailAndPassword(e,t){return new uu(e,t,"password")}static _fromEmailAndCode(e,t,r=null){return new uu(e,t,"emailLink",r)}toJSON(){return{email:this._email,password:this._password,signInMethod:this.signInMethod,tenantId:this._tenantId}}static fromJSON(e){const t=typeof e=="string"?JSON.parse(e):e;if(t?.email&&t?.password){if(t.signInMethod==="password")return this._fromEmailAndPassword(t.email,t.password);if(t.signInMethod==="emailLink")return this._fromEmailAndCode(t.email,t.password,t.tenantId)}return null}async _getIdTokenResponse(e){switch(this.signInMethod){case"password":const t={returnSecureToken:!0,email:this._email,password:this._password,clientType:"CLIENT_TYPE_WEB"};return ss(e,t,"signInWithPassword",Mk,"EMAIL_PASSWORD_PROVIDER");case"emailLink":return Bk(e,{email:this._email,oobCode:this._password});default:wn(e,"internal-error")}}async _linkToIdToken(e,t){switch(this.signInMethod){case"password":const r={idToken:t,returnSecureToken:!0,email:this._email,password:this._password,clientType:"CLIENT_TYPE_WEB"};return ss(e,r,"signUpPassword",Lk,"EMAIL_PASSWORD_PROVIDER");case"emailLink":return $k(e,{idToken:t,email:this._email,oobCode:this._password});default:wn(e,"internal-error")}}_getReauthenticationResolver(e){return this._getIdTokenResponse(e)}}async function ai(n,e){return yi(n,"POST","/v1/accounts:signInWithIdp",ot(n,e))}const Hk="http://localhost";class fi extends Ru{constructor(){super(...arguments),this.pendingToken=null}static _fromParams(e){const t=new fi(e.providerId,e.signInMethod);return e.idToken||e.accessToken?(e.idToken&&(t.idToken=e.idToken),e.accessToken&&(t.accessToken=e.accessToken),e.nonce&&!e.pendingToken&&(t.nonce=e.nonce),e.pendingToken&&(t.pendingToken=e.pendingToken)):e.oauthToken&&e.oauthTokenSecret?(t.accessToken=e.oauthToken,t.secret=e.oauthTokenSecret):wn("argument-error"),t}toJSON(){return{idToken:this.idToken,accessToken:this.accessToken,secret:this.secret,nonce:this.nonce,pendingToken:this.pendingToken,providerId:this.providerId,signInMethod:this.signInMethod}}static fromJSON(e){const t=typeof e=="string"?JSON.parse(e):e,{providerId:r,signInMethod:s,...a}=t;if(!r||!s)return null;const u=new fi(r,s);return u.idToken=a.idToken||void 0,u.accessToken=a.accessToken||void 0,u.secret=a.secret,u.nonce=a.nonce,u.pendingToken=a.pendingToken||null,u}_getIdTokenResponse(e){const t=this.buildRequest();return ai(e,t)}_linkToIdToken(e,t){const r=this.buildRequest();return r.idToken=t,ai(e,r)}_getReauthenticationResolver(e){const t=this.buildRequest();return t.autoCreate=!1,ai(e,t)}buildRequest(){const e={requestUri:Hk,returnSecureToken:!0};if(this.pendingToken)e.pendingToken=this.pendingToken;else{const t={};this.idToken&&(t.id_token=this.idToken),this.accessToken&&(t.access_token=this.accessToken),this.secret&&(t.oauth_token_secret=this.secret),t.providerId=this.providerId,this.nonce&&!this.pendingToken&&(t.nonce=this.nonce),e.postBody=Pa(t)}return e}}async function qv(n,e){return at(n,"POST","/v1/accounts:sendVerificationCode",ot(n,e))}async function qk(n,e){return yi(n,"POST","/v1/accounts:signInWithPhoneNumber",ot(n,e))}async function Wk(n,e){const t=await yi(n,"POST","/v1/accounts:signInWithPhoneNumber",ot(n,e));if(t.temporaryProof)throw $l(n,"account-exists-with-different-credential",t);return t}const Gk={USER_NOT_FOUND:"user-not-found"};async function Kk(n,e){const t={...e,operation:"REAUTH"};return yi(n,"POST","/v1/accounts:signInWithPhoneNumber",ot(n,t),Gk)}class Qs extends Ru{constructor(e){super("phone","phone"),this.params=e}static _fromVerification(e,t){return new Qs({verificationId:e,verificationCode:t})}static _fromTokenResponse(e,t){return new Qs({phoneNumber:e,temporaryProof:t})}_getIdTokenResponse(e){return qk(e,this._makeVerificationRequest())}_linkToIdToken(e,t){return Wk(e,{idToken:t,...this._makeVerificationRequest()})}_getReauthenticationResolver(e){return Kk(e,this._makeVerificationRequest())}_makeVerificationRequest(){const{temporaryProof:e,phoneNumber:t,verificationId:r,verificationCode:s}=this.params;return e&&t?{temporaryProof:e,phoneNumber:t}:{sessionInfo:r,code:s}}toJSON(){const e={providerId:this.providerId};return this.params.phoneNumber&&(e.phoneNumber=this.params.phoneNumber),this.params.temporaryProof&&(e.temporaryProof=this.params.temporaryProof),this.params.verificationCode&&(e.verificationCode=this.params.verificationCode),this.params.verificationId&&(e.verificationId=this.params.verificationId),e}static fromJSON(e){typeof e=="string"&&(e=JSON.parse(e));const{verificationId:t,verificationCode:r,phoneNumber:s,temporaryProof:a}=e;return!r&&!t&&!s&&!a?null:new Qs({verificationId:t,verificationCode:r,phoneNumber:s,temporaryProof:a})}}function Qk(n){switch(n){case"recoverEmail":return"RECOVER_EMAIL";case"resetPassword":return"PASSWORD_RESET";case"signIn":return"EMAIL_SIGNIN";case"verifyEmail":return"VERIFY_EMAIL";case"verifyAndChangeEmail":return"VERIFY_AND_CHANGE_EMAIL";case"revertSecondFactorAddition":return"REVERT_SECOND_FACTOR_ADDITION";default:return null}}function Yk(n){const e=zl(Bl(n)).link,t=e?zl(Bl(e)).deep_link_id:null,r=zl(Bl(n)).deep_link_id;return(r?zl(Bl(r)).link:null)||r||t||e||n}class Pu{constructor(e){const t=zl(Bl(e)),r=t.apiKey??null,s=t.oobCode??null,a=Qk(t.mode??null);ne(r&&s&&a,"argument-error"),this.apiKey=r,this.operation=a,this.code=s,this.continueUrl=t.continueUrl??null,this.languageCode=t.lang??null,this.tenantId=t.tenantId??null}static parseLink(e){const t=Yk(e);try{return new Pu(t)}catch{return null}}}function QU(n){return Pu.parseLink(n)}class lo{constructor(){this.providerId=lo.PROVIDER_ID}static credential(e,t){return uu._fromEmailAndPassword(e,t)}static credentialWithLink(e,t){const r=Pu.parseLink(t);return ne(r,"argument-error"),uu._fromEmailAndCode(e,r.code,r.tenantId)}}lo.PROVIDER_ID="password";lo.EMAIL_PASSWORD_SIGN_IN_METHOD="password";lo.EMAIL_LINK_SIGN_IN_METHOD="emailLink";class _i{constructor(e){this.providerId=e,this.defaultLanguageCode=null,this.customParameters={}}setDefaultLanguage(e){this.defaultLanguageCode=e}setCustomParameters(e){return this.customParameters=e,this}getCustomParameters(){return this.customParameters}}class Ca extends _i{constructor(){super(...arguments),this.scopes=[]}addScope(e){return this.scopes.includes(e)||this.scopes.push(e),this}getScopes(){return[...this.scopes]}}class _h extends Ca{static credentialFromJSON(e){const t=typeof e=="string"?JSON.parse(e):e;return ne("providerId"in t&&"signInMethod"in t,"argument-error"),fi._fromParams(t)}credential(e){return this._credential({...e,nonce:e.rawNonce})}_credential(e){return ne(e.idToken||e.accessToken,"argument-error"),fi._fromParams({...e,providerId:this.providerId,signInMethod:this.providerId})}static credentialFromResult(e){return _h.oauthCredentialFromTaggedObject(e)}static credentialFromError(e){return _h.oauthCredentialFromTaggedObject(e.customData||{})}static oauthCredentialFromTaggedObject({_tokenResponse:e}){if(!e)return null;const{oauthIdToken:t,oauthAccessToken:r,oauthTokenSecret:s,pendingToken:a,nonce:u,providerId:d}=e;if(!r&&!s&&!t&&!a||!d)return null;try{return new _h(d)._credential({idToken:t,accessToken:r,nonce:u,pendingToken:a})}catch{return null}}}class Xi extends Ca{constructor(){super("facebook.com")}static credential(e){return fi._fromParams({providerId:Xi.PROVIDER_ID,signInMethod:Xi.FACEBOOK_SIGN_IN_METHOD,accessToken:e})}static credentialFromResult(e){return Xi.credentialFromTaggedObject(e)}static credentialFromError(e){return Xi.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e||!("oauthAccessToken"in e)||!e.oauthAccessToken)return null;try{return Xi.credential(e.oauthAccessToken)}catch{return null}}}Xi.FACEBOOK_SIGN_IN_METHOD="facebook.com";Xi.PROVIDER_ID="facebook.com";class ii extends Ca{constructor(){super("google.com"),this.addScope("profile")}static credential(e,t){return fi._fromParams({providerId:ii.PROVIDER_ID,signInMethod:ii.GOOGLE_SIGN_IN_METHOD,idToken:e,accessToken:t})}static credentialFromResult(e){return ii.credentialFromTaggedObject(e)}static credentialFromError(e){return ii.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e)return null;const{oauthIdToken:t,oauthAccessToken:r}=e;if(!t&&!r)return null;try{return ii.credential(t,r)}catch{return null}}}ii.GOOGLE_SIGN_IN_METHOD="google.com";ii.PROVIDER_ID="google.com";class Zi extends Ca{constructor(){super("github.com")}static credential(e){return fi._fromParams({providerId:Zi.PROVIDER_ID,signInMethod:Zi.GITHUB_SIGN_IN_METHOD,accessToken:e})}static credentialFromResult(e){return Zi.credentialFromTaggedObject(e)}static credentialFromError(e){return Zi.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e||!("oauthAccessToken"in e)||!e.oauthAccessToken)return null;try{return Zi.credential(e.oauthAccessToken)}catch{return null}}}Zi.GITHUB_SIGN_IN_METHOD="github.com";Zi.PROVIDER_ID="github.com";const Jk="http://localhost";class cu extends Ru{constructor(e,t){super(e,e),this.pendingToken=t}_getIdTokenResponse(e){const t=this.buildRequest();return ai(e,t)}_linkToIdToken(e,t){const r=this.buildRequest();return r.idToken=t,ai(e,r)}_getReauthenticationResolver(e){const t=this.buildRequest();return t.autoCreate=!1,ai(e,t)}toJSON(){return{signInMethod:this.signInMethod,providerId:this.providerId,pendingToken:this.pendingToken}}static fromJSON(e){const t=typeof e=="string"?JSON.parse(e):e,{providerId:r,signInMethod:s,pendingToken:a}=t;return!r||!s||!a||r!==s?null:new cu(r,a)}static _create(e,t){return new cu(e,t)}buildRequest(){return{requestUri:Jk,returnSecureToken:!0,pendingToken:this.pendingToken}}}const Xk="saml.";class em extends _i{constructor(e){ne(e.startsWith(Xk),"argument-error"),super(e)}static credentialFromResult(e){return em.samlCredentialFromTaggedObject(e)}static credentialFromError(e){return em.samlCredentialFromTaggedObject(e.customData||{})}static credentialFromJSON(e){const t=cu.fromJSON(e);return ne(t,"argument-error"),t}static samlCredentialFromTaggedObject({_tokenResponse:e}){if(!e)return null;const{pendingToken:t,providerId:r}=e;if(!t||!r)return null;try{return cu._create(r,t)}catch{return null}}}class es extends Ca{constructor(){super("twitter.com")}static credential(e,t){return fi._fromParams({providerId:es.PROVIDER_ID,signInMethod:es.TWITTER_SIGN_IN_METHOD,oauthToken:e,oauthTokenSecret:t})}static credentialFromResult(e){return es.credentialFromTaggedObject(e)}static credentialFromError(e){return es.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e)return null;const{oauthAccessToken:t,oauthTokenSecret:r}=e;if(!t||!r)return null;try{return es.credential(t,r)}catch{return null}}}es.TWITTER_SIGN_IN_METHOD="twitter.com";es.PROVIDER_ID="twitter.com";async function iI(n,e){return yi(n,"POST","/v1/accounts:signUp",ot(n,e))}class Wn{constructor(e){this.user=e.user,this.providerId=e.providerId,this._tokenResponse=e._tokenResponse,this.operationType=e.operationType}static async _fromIdTokenResponse(e,t,r,s=!1){const a=await ar._fromIdTokenResponse(e,r,s),u=Wv(r);return new Wn({user:a,providerId:u,_tokenResponse:r,operationType:t})}static async _forOperation(e,t,r){await e._updateTokensIfNecessary(r,!0);const s=Wv(r);return new Wn({user:e,providerId:s,_tokenResponse:r,operationType:t})}}function Wv(n){return n.providerId?n.providerId:"phoneNumber"in n?"phone":null}async function YU(n){if(st(n.app))return Promise.reject(Mt(n));const e=yt(n);if(await e._initializationPromise,e.currentUser?.isAnonymous)return new Wn({user:e.currentUser,providerId:null,operationType:"signIn"});const t=await iI(e,{returnSecureToken:!0}),r=await Wn._fromIdTokenResponse(e,"signIn",t,!0);return await e._updateCurrentUser(r.user),r}class Nh extends Dn{constructor(e,t,r,s){super(t.code,t.message),this.operationType=r,this.user=s,Object.setPrototypeOf(this,Nh.prototype),this.customData={appName:e.name,tenantId:e.tenantId??void 0,_serverResponse:t.customData._serverResponse,operationType:r}}static _fromErrorAndOperation(e,t,r,s){return new Nh(e,t,r,s)}}function sI(n,e,t,r){return(e==="reauthenticate"?t._getReauthenticationResolver(n):t._getIdTokenResponse(n)).catch(a=>{throw a.code==="auth/multi-factor-auth-required"?Nh._fromErrorAndOperation(n,a,e,r):a})}function oI(n){return new Set(n.map(({providerId:e})=>e).filter(e=>!!e))}async function JU(n,e){const t=ve(n);await ud(!0,t,e);const{providerUserInfo:r}=await nk(t.auth,{idToken:await t.getIdToken(),deleteProvider:[e]}),s=oI(r||[]);return t.providerData=t.providerData.filter(a=>s.has(a.providerId)),s.has("phone")||(t.phoneNumber=null),await t.auth._persistUserIfCurrent(t),t}async function Fm(n,e,t=!1){const r=await di(n,e._linkToIdToken(n.auth,await n.getIdToken()),t);return Wn._forOperation(n,"link",r)}async function ud(n,e,t){await lu(e);const r=oI(e.providerData),s=n===!1?"provider-already-linked":"no-such-provider";ne(r.has(t)===n,e.auth,s)}async function aI(n,e,t=!1){const{auth:r}=n;if(st(r.app))return Promise.reject(Mt(r));const s="reauthenticate";try{const a=await di(n,sI(r,s,e,n),t);ne(a.idToken,r,"internal-error");const u=ad(a.idToken);ne(u,r,"internal-error");const{sub:d}=u;return ne(n.uid===d,r,"user-mismatch"),Wn._forOperation(n,s,a)}catch(a){throw a?.code==="auth/user-not-found"&&wn(r,"user-mismatch"),a}}async function lI(n,e,t=!1){if(st(n.app))return Promise.reject(Mt(n));const r="signIn",s=await sI(n,r,e),a=await Wn._fromIdTokenResponse(n,r,s);return t||await n._updateCurrentUser(a.user),a}async function jm(n,e){return lI(yt(n),e)}async function Zk(n,e){const t=ve(n);return await ud(!1,t,e.providerId),Fm(t,e)}async function eC(n,e){return aI(ve(n),e)}async function tC(n,e){return yi(n,"POST","/v1/accounts:signInWithCustomToken",ot(n,e))}async function XU(n,e){if(st(n.app))return Promise.reject(Mt(n));const t=yt(n),r=await tC(t,{token:e,returnSecureToken:!0}),s=await Wn._fromIdTokenResponse(t,"signIn",r);return await t._updateCurrentUser(s.user),s}class ku{constructor(e,t){this.factorId=e,this.uid=t.mfaEnrollmentId,this.enrollmentTime=new Date(t.enrolledAt).toUTCString(),this.displayName=t.displayName}static _fromServerResponse(e,t){return"phoneInfo"in t?zm._fromServerResponse(e,t):"totpInfo"in t?Bm._fromServerResponse(e,t):wn(e,"internal-error")}}class zm extends ku{constructor(e){super("phone",e),this.phoneNumber=e.phoneInfo}static _fromServerResponse(e,t){return new zm(t)}}class Bm extends ku{constructor(e){super("totp",e)}static _fromServerResponse(e,t){return new Bm(t)}}function cd(n,e,t){ne(t.url?.length>0,n,"invalid-continue-uri"),ne(typeof t.dynamicLinkDomain>"u"||t.dynamicLinkDomain.length>0,n,"invalid-dynamic-link-domain"),ne(typeof t.linkDomain>"u"||t.linkDomain.length>0,n,"invalid-hosting-link-domain"),e.continueUrl=t.url,e.dynamicLinkDomain=t.dynamicLinkDomain,e.linkDomain=t.linkDomain,e.canHandleCodeInApp=t.handleCodeInApp,t.iOS&&(ne(t.iOS.bundleId.length>0,n,"missing-ios-bundle-id"),e.iOSBundleId=t.iOS.bundleId),t.android&&(ne(t.android.packageName.length>0,n,"missing-android-pkg-name"),e.androidInstallApp=t.android.installApp,e.androidMinimumVersionCode=t.android.minimumVersion,e.androidPackageName=t.android.packageName)}async function $m(n){const e=yt(n);e._getPasswordPolicyInternal()&&await e._updatePasswordPolicy()}async function ZU(n,e,t){const r=yt(n),s={requestType:"PASSWORD_RESET",email:e,clientType:"CLIENT_TYPE_WEB"};t&&cd(r,s,t),await ss(r,s,"getOobCode",Fk,"EMAIL_PASSWORD_PROVIDER")}async function eF(n,e,t){await rI(ve(n),{oobCode:e,newPassword:t}).catch(async r=>{throw r.code==="auth/password-does-not-meet-requirements"&&$m(n),r})}async function tF(n,e){await Vk(ve(n),{oobCode:e})}async function nC(n,e){const t=ve(n),r=await rI(t,{oobCode:e}),s=r.requestType;switch(ne(s,t,"internal-error"),s){case"EMAIL_SIGNIN":break;case"VERIFY_AND_CHANGE_EMAIL":ne(r.newEmail,t,"internal-error");break;case"REVERT_SECOND_FACTOR_ADDITION":ne(r.mfaInfo,t,"internal-error");default:ne(r.email,t,"internal-error")}let a=null;return r.mfaInfo&&(a=ku._fromServerResponse(yt(t),r.mfaInfo)),{data:{email:(r.requestType==="VERIFY_AND_CHANGE_EMAIL"?r.newEmail:r.email)||null,previousEmail:(r.requestType==="VERIFY_AND_CHANGE_EMAIL"?r.email:r.newEmail)||null,multiFactorInfo:a},operation:s}}async function nF(n,e){const{data:t}=await nC(ve(n),e);return t.email}async function rF(n,e,t){if(st(n.app))return Promise.reject(Mt(n));const r=yt(n),u=await ss(r,{returnSecureToken:!0,email:e,password:t,clientType:"CLIENT_TYPE_WEB"},"signUpPassword",iI,"EMAIL_PASSWORD_PROVIDER").catch(f=>{throw f.code==="auth/password-does-not-meet-requirements"&&$m(n),f}),d=await Wn._fromIdTokenResponse(r,"signIn",u);return await r._updateCurrentUser(d.user),d}function iF(n,e,t){return st(n.app)?Promise.reject(Mt(n)):jm(ve(n),lo.credential(e,t)).catch(async r=>{throw r.code==="auth/password-does-not-meet-requirements"&&$m(n),r})}async function sF(n,e,t){const r=yt(n),s={requestType:"EMAIL_SIGNIN",email:e,clientType:"CLIENT_TYPE_WEB"};function a(u,d){ne(d.handleCodeInApp,r,"argument-error"),d&&cd(r,u,d)}a(s,t),await ss(r,s,"getOobCode",jk,"EMAIL_PASSWORD_PROVIDER")}function oF(n,e){return Pu.parseLink(e)?.operation==="EMAIL_SIGNIN"}async function aF(n,e,t){if(st(n.app))return Promise.reject(Mt(n));const r=ve(n),s=lo.credentialWithLink(e,t||au());return ne(s._tenantId===(r.tenantId||null),r,"tenant-id-mismatch"),jm(r,s)}async function rC(n,e){return at(n,"POST","/v1/accounts:createAuthUri",ot(n,e))}async function lF(n,e){const t=Lm()?au():"http://localhost",r={identifier:e,continueUri:t},{signinMethods:s}=await rC(ve(n),r);return s||[]}async function uF(n,e){const t=ve(n),s={requestType:"VERIFY_EMAIL",idToken:await n.getIdToken()};e&&cd(t.auth,s,e);const{email:a}=await Uk(t.auth,s);a!==n.email&&await n.reload()}async function cF(n,e,t){const r=ve(n),a={requestType:"VERIFY_AND_CHANGE_EMAIL",idToken:await n.getIdToken(),newEmail:e};t&&cd(r.auth,a,t);const{email:u}=await zk(r.auth,a);u!==n.email&&await n.reload()}async function iC(n,e){return at(n,"POST","/v1/accounts:update",e)}async function hF(n,{displayName:e,photoURL:t}){if(e===void 0&&t===void 0)return;const r=ve(n),a={idToken:await r.getIdToken(),displayName:e,photoUrl:t,returnSecureToken:!0},u=await di(r,iC(r.auth,a));r.displayName=u.displayName||null,r.photoURL=u.photoUrl||null;const d=r.providerData.find(({providerId:f})=>f==="password");d&&(d.displayName=r.displayName,d.photoURL=r.photoURL),await r._updateTokensIfNecessary(u)}function dF(n,e){const t=ve(n);return st(t.auth.app)?Promise.reject(Mt(t.auth)):uI(t,e,null)}function fF(n,e){return uI(ve(n),null,e)}async function uI(n,e,t){const{auth:r}=n,a={idToken:await n.getIdToken(),returnSecureToken:!0};e&&(a.email=e),t&&(a.password=t);const u=await di(n,Dk(r,a));await n._updateTokensIfNecessary(u,!0)}function sC(n){if(!n)return null;const{providerId:e}=n,t=n.rawUserInfo?JSON.parse(n.rawUserInfo):{},r=n.isNewUser||n.kind==="identitytoolkit#SignupNewUserResponse";if(!e&&n?.idToken){const s=ad(n.idToken)?.firebase?.sign_in_provider;if(s){const a=s!=="anonymous"&&s!=="custom"?s:null;return new da(r,a)}}if(!e)return null;switch(e){case"facebook.com":return new oC(r,t);case"github.com":return new aC(r,t);case"google.com":return new lC(r,t);case"twitter.com":return new uC(r,t,n.screenName||null);case"custom":case"anonymous":return new da(r,null);default:return new da(r,e,t)}}class da{constructor(e,t,r={}){this.isNewUser=e,this.providerId=t,this.profile=r}}class cI extends da{constructor(e,t,r,s){super(e,t,r),this.username=s}}class oC extends da{constructor(e,t){super(e,"facebook.com",t)}}class aC extends cI{constructor(e,t){super(e,"github.com",t,typeof t?.login=="string"?t?.login:null)}}class lC extends da{constructor(e,t){super(e,"google.com",t)}}class uC extends cI{constructor(e,t,r){super(e,"twitter.com",t,r)}}function pF(n){const{user:e,_tokenResponse:t}=n;return e.isAnonymous&&!t?{providerId:null,isNewUser:!1,profile:null}:sC(t)}function mF(n,e){return ve(n).setPersistence(e)}function gF(n){return tI(n)}async function yF(n,e){return yt(n).validatePassword(e)}function cC(n,e,t,r){return ve(n).onIdTokenChanged(e,t,r)}function hC(n,e,t){return ve(n).beforeAuthStateChanged(e,t)}function dC(n,e,t,r){return ve(n).onAuthStateChanged(e,t,r)}function _F(n){ve(n).useDeviceLanguage()}function vF(n,e){return ve(n).updateCurrentUser(e)}function fC(n){return ve(n).signOut()}function wF(n,e){return yt(n).revokeAccessToken(e)}async function EF(n){return ve(n).delete()}class qs{constructor(e,t,r){this.type=e,this.credential=t,this.user=r}static _fromIdtoken(e,t){return new qs("enroll",e,t)}static _fromMfaPendingCredential(e){return new qs("signin",e)}toJSON(){return{multiFactorSession:{[this.type==="enroll"?"idToken":"pendingCredential"]:this.credential}}}static fromJSON(e){if(e?.multiFactorSession){if(e.multiFactorSession?.pendingCredential)return qs._fromMfaPendingCredential(e.multiFactorSession.pendingCredential);if(e.multiFactorSession?.idToken)return qs._fromIdtoken(e.multiFactorSession.idToken)}return null}}class Hm{constructor(e,t,r){this.session=e,this.hints=t,this.signInResolver=r}static _fromError(e,t){const r=yt(e),s=t.customData._serverResponse,a=(s.mfaInfo||[]).map(d=>ku._fromServerResponse(r,d));ne(s.mfaPendingCredential,r,"internal-error");const u=qs._fromMfaPendingCredential(s.mfaPendingCredential);return new Hm(u,a,async d=>{const f=await d._process(r,u);delete s.mfaInfo,delete s.mfaPendingCredential;const m={...s,idToken:f.idToken,refreshToken:f.refreshToken};switch(t.operationType){case"signIn":const g=await Wn._fromIdTokenResponse(r,t.operationType,m);return await r._updateCurrentUser(g.user),g;case"reauthenticate":return ne(t.user,r,"internal-error"),Wn._forOperation(t.user,t.operationType,m);default:wn(r,"internal-error")}})}async resolveSignIn(e){const t=e;return this.signInResolver(t)}}function TF(n,e){const t=ve(n),r=e;return ne(e.customData.operationType,t,"argument-error"),ne(r.customData._serverResponse?.mfaPendingCredential,t,"argument-error"),Hm._fromError(t,r)}function Gv(n,e){return at(n,"POST","/v2/accounts/mfaEnrollment:start",ot(n,e))}function pC(n,e){return at(n,"POST","/v2/accounts/mfaEnrollment:finalize",ot(n,e))}function mC(n,e){return at(n,"POST","/v2/accounts/mfaEnrollment:start",ot(n,e))}function gC(n,e){return at(n,"POST","/v2/accounts/mfaEnrollment:finalize",ot(n,e))}function yC(n,e){return at(n,"POST","/v2/accounts/mfaEnrollment:withdraw",ot(n,e))}class qm{constructor(e){this.user=e,this.enrolledFactors=[],e._onReload(t=>{t.mfaInfo&&(this.enrolledFactors=t.mfaInfo.map(r=>ku._fromServerResponse(e.auth,r)))})}static _fromUser(e){return new qm(e)}async getSession(){return qs._fromIdtoken(await this.user.getIdToken(),this.user)}async enroll(e,t){const r=e,s=await this.getSession(),a=await di(this.user,r._process(this.user.auth,s,t));return await this.user._updateTokensIfNecessary(a),this.user.reload()}async unenroll(e){const t=typeof e=="string"?e:e.uid,r=await this.user.getIdToken();try{const s=await di(this.user,yC(this.user.auth,{idToken:r,mfaEnrollmentId:t}));this.enrolledFactors=this.enrolledFactors.filter(({uid:a})=>a!==t),await this.user._updateTokensIfNecessary(s),await this.user.reload()}catch(s){throw s}}}const Ip=new WeakMap;function IF(n){const e=ve(n);return Ip.has(e)||Ip.set(e,qm._fromUser(e)),Ip.get(e)}const xh="__sak";class hI{constructor(e,t){this.storageRetriever=e,this.type=t}_isAvailable(){try{return this.storage?(this.storage.setItem(xh,"1"),this.storage.removeItem(xh),Promise.resolve(!0)):Promise.resolve(!1)}catch{return Promise.resolve(!1)}}_set(e,t){return this.storage.setItem(e,JSON.stringify(t)),Promise.resolve()}_get(e){const t=this.storage.getItem(e);return Promise.resolve(t?JSON.parse(t):null)}_remove(e){return this.storage.removeItem(e),Promise.resolve()}get storage(){return this.storageRetriever()}}const _C=1e3,vC=10;class dI extends hI{constructor(){super(()=>window.localStorage,"LOCAL"),this.boundEventHandler=(e,t)=>this.onStorageEvent(e,t),this.listeners={},this.localCache={},this.pollTimer=null,this.fallbackToPolling=JT(),this._shouldAllowMigration=!0}forAllChangedKeys(e){for(const t of Object.keys(this.listeners)){const r=this.storage.getItem(t),s=this.localCache[t];r!==s&&e(t,s,r)}}onStorageEvent(e,t=!1){if(!e.key){this.forAllChangedKeys((u,d,f)=>{this.notifyListeners(u,f)});return}const r=e.key;t?this.detachListener():this.stopPolling();const s=()=>{const u=this.storage.getItem(r);!t&&this.localCache[r]===u||this.notifyListeners(r,u)},a=this.storage.getItem(r);hk()&&a!==e.newValue&&e.newValue!==e.oldValue?setTimeout(s,vC):s()}notifyListeners(e,t){this.localCache[e]=t;const r=this.listeners[e];if(r)for(const s of Array.from(r))s(t&&JSON.parse(t))}startPolling(){this.stopPolling(),this.pollTimer=setInterval(()=>{this.forAllChangedKeys((e,t,r)=>{this.onStorageEvent(new StorageEvent("storage",{key:e,oldValue:t,newValue:r}),!0)})},_C)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}attachListener(){window.addEventListener("storage",this.boundEventHandler)}detachListener(){window.removeEventListener("storage",this.boundEventHandler)}_addListener(e,t){Object.keys(this.listeners).length===0&&(this.fallbackToPolling?this.startPolling():this.attachListener()),this.listeners[e]||(this.listeners[e]=new Set,this.localCache[e]=this.storage.getItem(e)),this.listeners[e].add(t)}_removeListener(e,t){this.listeners[e]&&(this.listeners[e].delete(t),this.listeners[e].size===0&&delete this.listeners[e]),Object.keys(this.listeners).length===0&&(this.detachListener(),this.stopPolling())}async _set(e,t){await super._set(e,t),this.localCache[e]=JSON.stringify(t)}async _get(e){const t=await super._get(e);return this.localCache[e]=JSON.stringify(t),t}async _remove(e){await super._remove(e),delete this.localCache[e]}}dI.type="LOCAL";const wC=dI;const EC=1e3;function Sp(n){const e=n.replace(/[\\^$.*+?()[\]{}|]/g,"\\$&"),t=RegExp(`${e}=([^;]+)`);return document.cookie.match(t)?.[1]??null}function Ap(n){return`${window.location.protocol==="http:"?"__dev_":"__HOST-"}FIREBASE_${n.split(":")[3]}`}class fI{constructor(){this.type="COOKIE",this.listenerUnsubscribes=new Map}_getFinalTarget(e){if(typeof window===void 0)return e;const t=new URL(`${window.location.origin}/__cookies__`);return t.searchParams.set("finalTarget",e),t}async _isAvailable(){return typeof isSecureContext=="boolean"&&!isSecureContext||typeof navigator>"u"||typeof document>"u"?!1:navigator.cookieEnabled??!0}async _set(e,t){}async _get(e){if(!this._isAvailable())return null;const t=Ap(e);return window.cookieStore?(await window.cookieStore.get(t))?.value:Sp(t)}async _remove(e){if(!this._isAvailable()||!await this._get(e))return;const r=Ap(e);document.cookie=`${r}=;Max-Age=34560000;Partitioned;Secure;SameSite=Strict;Path=/;Priority=High`,await fetch("/__cookies__",{method:"DELETE"}).catch(()=>{})}_addListener(e,t){if(!this._isAvailable())return;const r=Ap(e);if(window.cookieStore){const d=(m=>{const g=m.changed.find(w=>w.name===r);g&&t(g.value),m.deleted.find(w=>w.name===r)&&t(null)}),f=()=>window.cookieStore.removeEventListener("change",d);return this.listenerUnsubscribes.set(t,f),window.cookieStore.addEventListener("change",d)}let s=Sp(r);const a=setInterval(()=>{const d=Sp(r);d!==s&&(t(d),s=d)},EC),u=()=>clearInterval(a);this.listenerUnsubscribes.set(t,u)}_removeListener(e,t){const r=this.listenerUnsubscribes.get(t);r&&(r(),this.listenerUnsubscribes.delete(t))}}fI.type="COOKIE";const SF=fI;class pI extends hI{constructor(){super(()=>window.sessionStorage,"SESSION")}_addListener(e,t){}_removeListener(e,t){}}pI.type="SESSION";const mI=pI;function TC(n){return Promise.all(n.map(async e=>{try{return{fulfilled:!0,value:await e}}catch(t){return{fulfilled:!1,reason:t}}}))}class hd{constructor(e){this.eventTarget=e,this.handlersMap={},this.boundEventHandler=this.handleEvent.bind(this)}static _getInstance(e){const t=this.receivers.find(s=>s.isListeningto(e));if(t)return t;const r=new hd(e);return this.receivers.push(r),r}isListeningto(e){return this.eventTarget===e}async handleEvent(e){const t=e,{eventId:r,eventType:s,data:a}=t.data,u=this.handlersMap[s];if(!u?.size)return;t.ports[0].postMessage({status:"ack",eventId:r,eventType:s});const d=Array.from(u).map(async m=>m(t.origin,a)),f=await TC(d);t.ports[0].postMessage({status:"done",eventId:r,eventType:s,response:f})}_subscribe(e,t){Object.keys(this.handlersMap).length===0&&this.eventTarget.addEventListener("message",this.boundEventHandler),this.handlersMap[e]||(this.handlersMap[e]=new Set),this.handlersMap[e].add(t)}_unsubscribe(e,t){this.handlersMap[e]&&t&&this.handlersMap[e].delete(t),(!t||this.handlersMap[e].size===0)&&delete this.handlersMap[e],Object.keys(this.handlersMap).length===0&&this.eventTarget.removeEventListener("message",this.boundEventHandler)}}hd.receivers=[];function dd(n="",e=10){let t="";for(let r=0;r<e;r++)t+=Math.floor(Math.random()*10);return n+t}class IC{constructor(e){this.target=e,this.handlers=new Set}removeMessageHandler(e){e.messageChannel&&(e.messageChannel.port1.removeEventListener("message",e.onMessage),e.messageChannel.port1.close()),this.handlers.delete(e)}async _send(e,t,r=50){const s=typeof MessageChannel<"u"?new MessageChannel:null;if(!s)throw new Error("connection_unavailable");let a,u;return new Promise((d,f)=>{const m=dd("",20);s.port1.start();const g=setTimeout(()=>{f(new Error("unsupported_event"))},r);u={messageChannel:s,onMessage(E){const w=E;if(w.data.eventId===m)switch(w.data.status){case"ack":clearTimeout(g),a=setTimeout(()=>{f(new Error("timeout"))},3e3);break;case"done":clearTimeout(a),d(w.data.response);break;default:clearTimeout(g),clearTimeout(a),f(new Error("invalid_response"));break}}},this.handlers.add(u),s.port1.addEventListener("message",u.onMessage),this.target.postMessage({eventType:e,eventId:m,data:t},[s.port2])}).finally(()=>{u&&this.removeMessageHandler(u)})}}function Pt(){return window}function SC(n){Pt().location.href=n}function Wm(){return typeof Pt().WorkerGlobalScope<"u"&&typeof Pt().importScripts=="function"}async function AC(){if(!navigator?.serviceWorker)return null;try{return(await navigator.serviceWorker.ready).active}catch{return null}}function RC(){return navigator?.serviceWorker?.controller||null}function PC(){return Wm()?self:null}const gI="firebaseLocalStorageDb",kC=1,Oh="firebaseLocalStorage",yI="fbase_key";class Cu{constructor(e){this.request=e}toPromise(){return new Promise((e,t)=>{this.request.addEventListener("success",()=>{e(this.request.result)}),this.request.addEventListener("error",()=>{t(this.request.error)})})}}function fd(n,e){return n.transaction([Oh],e?"readwrite":"readonly").objectStore(Oh)}function CC(){const n=indexedDB.deleteDatabase(gI);return new Cu(n).toPromise()}function tm(){const n=indexedDB.open(gI,kC);return new Promise((e,t)=>{n.addEventListener("error",()=>{t(n.error)}),n.addEventListener("upgradeneeded",()=>{const r=n.result;try{r.createObjectStore(Oh,{keyPath:yI})}catch(s){t(s)}}),n.addEventListener("success",async()=>{const r=n.result;r.objectStoreNames.contains(Oh)?e(r):(r.close(),await CC(),e(await tm()))})})}async function Kv(n,e,t){const r=fd(n,!0).put({[yI]:e,value:t});return new Cu(r).toPromise()}async function bC(n,e){const t=fd(n,!1).get(e),r=await new Cu(t).toPromise();return r===void 0?null:r.value}function Qv(n,e){const t=fd(n,!0).delete(e);return new Cu(t).toPromise()}const NC=800,xC=3;class _I{constructor(){this.type="LOCAL",this._shouldAllowMigration=!0,this.listeners={},this.localCache={},this.pollTimer=null,this.pendingWrites=0,this.receiver=null,this.sender=null,this.serviceWorkerReceiverAvailable=!1,this.activeServiceWorker=null,this._workerInitializationPromise=this.initializeServiceWorkerMessaging().then(()=>{},()=>{})}async _openDb(){return this.db?this.db:(this.db=await tm(),this.db)}async _withRetries(e){let t=0;for(;;)try{const r=await this._openDb();return await e(r)}catch(r){if(t++>xC)throw r;this.db&&(this.db.close(),this.db=void 0)}}async initializeServiceWorkerMessaging(){return Wm()?this.initializeReceiver():this.initializeSender()}async initializeReceiver(){this.receiver=hd._getInstance(PC()),this.receiver._subscribe("keyChanged",async(e,t)=>({keyProcessed:(await this._poll()).includes(t.key)})),this.receiver._subscribe("ping",async(e,t)=>["keyChanged"])}async initializeSender(){if(this.activeServiceWorker=await AC(),!this.activeServiceWorker)return;this.sender=new IC(this.activeServiceWorker);const e=await this.sender._send("ping",{},800);e&&e[0]?.fulfilled&&e[0]?.value.includes("keyChanged")&&(this.serviceWorkerReceiverAvailable=!0)}async notifyServiceWorker(e){if(!(!this.sender||!this.activeServiceWorker||RC()!==this.activeServiceWorker))try{await this.sender._send("keyChanged",{key:e},this.serviceWorkerReceiverAvailable?800:50)}catch{}}async _isAvailable(){try{if(!indexedDB)return!1;const e=await tm();return await Kv(e,xh,"1"),await Qv(e,xh),!0}catch{}return!1}async _withPendingWrite(e){this.pendingWrites++;try{await e()}finally{this.pendingWrites--}}async _set(e,t){return this._withPendingWrite(async()=>(await this._withRetries(r=>Kv(r,e,t)),this.localCache[e]=t,this.notifyServiceWorker(e)))}async _get(e){const t=await this._withRetries(r=>bC(r,e));return this.localCache[e]=t,t}async _remove(e){return this._withPendingWrite(async()=>(await this._withRetries(t=>Qv(t,e)),delete this.localCache[e],this.notifyServiceWorker(e)))}async _poll(){const e=await this._withRetries(s=>{const a=fd(s,!1).getAll();return new Cu(a).toPromise()});if(!e)return[];if(this.pendingWrites!==0)return[];const t=[],r=new Set;if(e.length!==0)for(const{fbase_key:s,value:a}of e)r.add(s),JSON.stringify(this.localCache[s])!==JSON.stringify(a)&&(this.notifyListeners(s,a),t.push(s));for(const s of Object.keys(this.localCache))this.localCache[s]&&!r.has(s)&&(this.notifyListeners(s,null),t.push(s));return t}notifyListeners(e,t){this.localCache[e]=t;const r=this.listeners[e];if(r)for(const s of Array.from(r))s(t)}startPolling(){this.stopPolling(),this.pollTimer=setInterval(async()=>this._poll(),NC)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}_addListener(e,t){Object.keys(this.listeners).length===0&&this.startPolling(),this.listeners[e]||(this.listeners[e]=new Set,this._get(e)),this.listeners[e].add(t)}_removeListener(e,t){this.listeners[e]&&(this.listeners[e].delete(t),this.listeners[e].size===0&&delete this.listeners[e]),Object.keys(this.listeners).length===0&&this.stopPolling()}}_I.type="LOCAL";const OC=_I;function Yv(n,e){return at(n,"POST","/v2/accounts/mfaSignIn:start",ot(n,e))}function DC(n,e){return at(n,"POST","/v2/accounts/mfaSignIn:finalize",ot(n,e))}function LC(n,e){return at(n,"POST","/v2/accounts/mfaSignIn:finalize",ot(n,e))}const Rp=ZT("rcb"),VC=new Su(3e4,6e4);class MC{constructor(){this.hostLanguage="",this.counter=0,this.librarySeparatelyLoaded=!!Pt().grecaptcha?.render}load(e,t=""){return ne(UC(t),e,"argument-error"),this.shouldResolveImmediately(t)&&Mv(Pt().grecaptcha)?Promise.resolve(Pt().grecaptcha):new Promise((r,s)=>{const a=Pt().setTimeout(()=>{s(an(e,"network-request-failed"))},VC.get());Pt()[Rp]=()=>{Pt().clearTimeout(a),delete Pt()[Rp];const d=Pt().grecaptcha;if(!d||!Mv(d)){s(an(e,"internal-error"));return}const f=d.render;d.render=(m,g)=>{const E=f(m,g);return this.counter++,E},this.hostLanguage=t,r(d)};const u=`${_k()}?${Pa({onload:Rp,render:"explicit",hl:t})}`;Um(u).catch(()=>{clearTimeout(a),s(an(e,"internal-error"))})})}clearedOneInstance(){this.counter--}shouldResolveImmediately(e){return!!Pt().grecaptcha?.render&&(e===this.hostLanguage||this.counter>0||this.librarySeparatelyLoaded)}}function UC(n){return n.length<=6&&/^\s*[a-zA-Z0-9\-]*\s*$/.test(n)}class FC{async load(e){return new Ik(e)}clearedOneInstance(){}}const Zl="recaptcha",jC={theme:"light",type:"image"};class AF{constructor(e,t,r={...jC}){this.parameters=r,this.type=Zl,this.destroyed=!1,this.widgetId=null,this.tokenChangeListeners=new Set,this.renderPromise=null,this.recaptcha=null,this.auth=yt(e),this.isInvisible=this.parameters.size==="invisible",ne(typeof document<"u",this.auth,"operation-not-supported-in-this-environment");const s=typeof t=="string"?document.getElementById(t):t;ne(s,this.auth,"argument-error"),this.container=s,this.parameters.callback=this.makeTokenCallback(this.parameters.callback),this._recaptchaLoader=this.auth.settings.appVerificationDisabledForTesting?new FC:new MC,this.validateStartingState()}async verify(){this.assertNotDestroyed();const e=await this.render(),t=this.getAssertedRecaptcha(),r=t.getResponse(e);return r||new Promise(s=>{const a=u=>{u&&(this.tokenChangeListeners.delete(a),s(u))};this.tokenChangeListeners.add(a),this.isInvisible&&t.execute(e)})}render(){try{this.assertNotDestroyed()}catch(e){return Promise.reject(e)}return this.renderPromise?this.renderPromise:(this.renderPromise=this.makeRenderPromise().catch(e=>{throw this.renderPromise=null,e}),this.renderPromise)}_reset(){this.assertNotDestroyed(),this.widgetId!==null&&this.getAssertedRecaptcha().reset(this.widgetId)}clear(){this.assertNotDestroyed(),this.destroyed=!0,this._recaptchaLoader.clearedOneInstance(),this.isInvisible||this.container.childNodes.forEach(e=>{this.container.removeChild(e)})}validateStartingState(){ne(!this.parameters.sitekey,this.auth,"argument-error"),ne(this.isInvisible||!this.container.hasChildNodes(),this.auth,"argument-error"),ne(typeof document<"u",this.auth,"operation-not-supported-in-this-environment")}makeTokenCallback(e){return t=>{if(this.tokenChangeListeners.forEach(r=>r(t)),typeof e=="function")e(t);else if(typeof e=="string"){const r=Pt()[e];typeof r=="function"&&r(t)}}}assertNotDestroyed(){ne(!this.destroyed,this.auth,"internal-error")}async makeRenderPromise(){if(await this.init(),!this.widgetId){let e=this.container;if(!this.isInvisible){const t=document.createElement("div");e.appendChild(t),e=t}this.widgetId=this.getAssertedRecaptcha().render(e,this.parameters)}return this.widgetId}async init(){ne(Lm()&&!Wm(),this.auth,"internal-error"),await zC(),this.recaptcha=await this._recaptchaLoader.load(this.auth,this.auth.languageCode||void 0);const e=await ek(this.auth);ne(e,this.auth,"internal-error"),this.parameters.sitekey=e}getAssertedRecaptcha(){return ne(this.recaptcha,this.auth,"internal-error"),this.recaptcha}}function zC(){let n=null;return new Promise(e=>{if(document.readyState==="complete"){e();return}n=()=>e(),window.addEventListener("load",n)}).catch(e=>{throw n&&window.removeEventListener("load",n),e})}class Gm{constructor(e,t){this.verificationId=e,this.onConfirmation=t}confirm(e){const t=Qs._fromVerification(this.verificationId,e);return this.onConfirmation(t)}}async function RF(n,e,t){if(st(n.app))return Promise.reject(Mt(n));const r=yt(n),s=await pd(r,e,ve(t));return new Gm(s,a=>jm(r,a))}async function PF(n,e,t){const r=ve(n);await ud(!1,r,"phone");const s=await pd(r.auth,e,ve(t));return new Gm(s,a=>Zk(r,a))}async function kF(n,e,t){const r=ve(n);if(st(r.auth.app))return Promise.reject(Mt(r.auth));const s=await pd(r.auth,e,ve(t));return new Gm(s,a=>eC(r,a))}async function pd(n,e,t){if(!n._getRecaptchaConfig())try{await tI(n)}catch{console.log("Failed to initialize reCAPTCHA Enterprise config. Triggering the reCAPTCHA v2 verification.")}try{let r;if(typeof e=="string"?r={phoneNumber:e}:r=e,"session"in r){const s=r.session;if("phoneNumber"in r){ne(s.type==="enroll",n,"internal-error");const a={idToken:s.credential,phoneEnrollmentInfo:{phoneNumber:r.phoneNumber,clientType:"CLIENT_TYPE_WEB"}};return(await ss(n,a,"mfaSmsEnrollment",async(m,g)=>{if(g.phoneEnrollmentInfo.captchaResponse===Xl){ne(t?.type===Zl,m,"argument-error");const E=await Pp(m,g,t);return Gv(m,E)}return Gv(m,g)},"PHONE_PROVIDER").catch(m=>Promise.reject(m))).phoneSessionInfo.sessionInfo}else{ne(s.type==="signin",n,"internal-error");const a=r.multiFactorHint?.uid||r.multiFactorUid;ne(a,n,"missing-multi-factor-info");const u={mfaPendingCredential:s.credential,mfaEnrollmentId:a,phoneSignInInfo:{clientType:"CLIENT_TYPE_WEB"}};return(await ss(n,u,"mfaSmsSignIn",async(g,E)=>{if(E.phoneSignInInfo.captchaResponse===Xl){ne(t?.type===Zl,g,"argument-error");const w=await Pp(g,E,t);return Yv(g,w)}return Yv(g,E)},"PHONE_PROVIDER").catch(g=>Promise.reject(g))).phoneResponseInfo.sessionInfo}}else{const s={phoneNumber:r.phoneNumber,clientType:"CLIENT_TYPE_WEB"};return(await ss(n,s,"sendVerificationCode",async(f,m)=>{if(m.captchaResponse===Xl){ne(t?.type===Zl,f,"argument-error");const g=await Pp(f,m,t);return qv(f,g)}return qv(f,m)},"PHONE_PROVIDER").catch(f=>Promise.reject(f))).sessionInfo}}finally{t?._reset()}}async function CF(n,e){const t=ve(n);if(st(t.auth.app))return Promise.reject(Mt(t.auth));await Fm(t,e)}async function Pp(n,e,t){ne(t.type===Zl,n,"argument-error");const r=await t.verify();ne(typeof r=="string",n,"argument-error");const s={...e};if("phoneEnrollmentInfo"in s){const a=s.phoneEnrollmentInfo.phoneNumber,u=s.phoneEnrollmentInfo.captchaResponse,d=s.phoneEnrollmentInfo.clientType,f=s.phoneEnrollmentInfo.recaptchaVersion;return Object.assign(s,{phoneEnrollmentInfo:{phoneNumber:a,recaptchaToken:r,captchaResponse:u,clientType:d,recaptchaVersion:f}}),s}else if("phoneSignInInfo"in s){const a=s.phoneSignInInfo.captchaResponse,u=s.phoneSignInInfo.clientType,d=s.phoneSignInInfo.recaptchaVersion;return Object.assign(s,{phoneSignInInfo:{recaptchaToken:r,captchaResponse:a,clientType:u,recaptchaVersion:d}}),s}else return Object.assign(s,{recaptchaToken:r}),s}class fa{constructor(e){this.providerId=fa.PROVIDER_ID,this.auth=yt(e)}verifyPhoneNumber(e,t){return pd(this.auth,e,ve(t))}static credential(e,t){return Qs._fromVerification(e,t)}static credentialFromResult(e){const t=e;return fa.credentialFromTaggedObject(t)}static credentialFromError(e){return fa.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e)return null;const{phoneNumber:t,temporaryProof:r}=e;return t&&r?Qs._fromTokenResponse(t,r):null}}fa.PROVIDER_ID="phone";fa.PHONE_SIGN_IN_METHOD="phone";function uo(n,e){return e?si(e):(ne(n._popupRedirectResolver,n,"argument-error"),n._popupRedirectResolver)}class Km extends Ru{constructor(e){super("custom","custom"),this.params=e}_getIdTokenResponse(e){return ai(e,this._buildIdpRequest())}_linkToIdToken(e,t){return ai(e,this._buildIdpRequest(t))}_getReauthenticationResolver(e){return ai(e,this._buildIdpRequest())}_buildIdpRequest(e){const t={requestUri:this.params.requestUri,sessionId:this.params.sessionId,postBody:this.params.postBody,tenantId:this.params.tenantId,pendingToken:this.params.pendingToken,returnSecureToken:!0,returnIdpCredential:!0};return e&&(t.idToken=e),t}}function BC(n){return lI(n.auth,new Km(n),n.bypassAuthState)}function $C(n){const{auth:e,user:t}=n;return ne(t,e,"internal-error"),aI(t,new Km(n),n.bypassAuthState)}async function HC(n){const{auth:e,user:t}=n;return ne(t,e,"internal-error"),Fm(t,new Km(n),n.bypassAuthState)}class vI{constructor(e,t,r,s,a=!1){this.auth=e,this.resolver=r,this.user=s,this.bypassAuthState=a,this.pendingPromise=null,this.eventManager=null,this.filter=Array.isArray(t)?t:[t]}execute(){return new Promise(async(e,t)=>{this.pendingPromise={resolve:e,reject:t};try{this.eventManager=await this.resolver._initialize(this.auth),await this.onExecution(),this.eventManager.registerConsumer(this)}catch(r){this.reject(r)}})}async onAuthEvent(e){const{urlResponse:t,sessionId:r,postBody:s,tenantId:a,error:u,type:d}=e;if(u){this.reject(u);return}const f={auth:this.auth,requestUri:t,sessionId:r,tenantId:a||void 0,postBody:s||void 0,user:this.user,bypassAuthState:this.bypassAuthState};try{this.resolve(await this.getIdpTask(d)(f))}catch(m){this.reject(m)}}onError(e){this.reject(e)}getIdpTask(e){switch(e){case"signInViaPopup":case"signInViaRedirect":return BC;case"linkViaPopup":case"linkViaRedirect":return HC;case"reauthViaPopup":case"reauthViaRedirect":return $C;default:wn(this.auth,"internal-error")}}resolve(e){hi(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.resolve(e),this.unregisterAndCleanUp()}reject(e){hi(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.reject(e),this.unregisterAndCleanUp()}unregisterAndCleanUp(){this.eventManager&&this.eventManager.unregisterConsumer(this),this.pendingPromise=null,this.cleanUp()}}const qC=new Su(2e3,1e4);async function bF(n,e,t){if(st(n.app))return Promise.reject(an(n,"operation-not-supported-in-this-environment"));const r=yt(n);ka(n,e,_i);const s=uo(r,t);return new oi(r,"signInViaPopup",e,s).executeNotNull()}async function NF(n,e,t){const r=ve(n);if(st(r.auth.app))return Promise.reject(an(r.auth,"operation-not-supported-in-this-environment"));ka(r.auth,e,_i);const s=uo(r.auth,t);return new oi(r.auth,"reauthViaPopup",e,s,r).executeNotNull()}async function xF(n,e,t){const r=ve(n);ka(r.auth,e,_i);const s=uo(r.auth,t);return new oi(r.auth,"linkViaPopup",e,s,r).executeNotNull()}class oi extends vI{constructor(e,t,r,s,a){super(e,t,s,a),this.provider=r,this.authWindow=null,this.pollId=null,oi.currentPopupAction&&oi.currentPopupAction.cancel(),oi.currentPopupAction=this}async executeNotNull(){const e=await this.execute();return ne(e,this.auth,"internal-error"),e}async onExecution(){hi(this.filter.length===1,"Popup operations only handle one event");const e=dd();this.authWindow=await this.resolver._openPopup(this.auth,this.provider,this.filter[0],e),this.authWindow.associatedEvent=e,this.resolver._originValidation(this.auth).catch(t=>{this.reject(t)}),this.resolver._isIframeWebStorageSupported(this.auth,t=>{t||this.reject(an(this.auth,"web-storage-unsupported"))}),this.pollUserCancellation()}get eventId(){return this.authWindow?.associatedEvent||null}cancel(){this.reject(an(this.auth,"cancelled-popup-request"))}cleanUp(){this.authWindow&&this.authWindow.close(),this.pollId&&window.clearTimeout(this.pollId),this.authWindow=null,this.pollId=null,oi.currentPopupAction=null}pollUserCancellation(){const e=()=>{if(this.authWindow?.window?.closed){this.pollId=window.setTimeout(()=>{this.pollId=null,this.reject(an(this.auth,"popup-closed-by-user"))},8e3);return}this.pollId=window.setTimeout(e,qC.get())};e()}}oi.currentPopupAction=null;const WC="pendingRedirect",vh=new Map;class GC extends vI{constructor(e,t,r=!1){super(e,["signInViaRedirect","linkViaRedirect","reauthViaRedirect","unknown"],t,void 0,r),this.eventId=null}async execute(){let e=vh.get(this.auth._key());if(!e){try{const r=await KC(this.resolver,this.auth)?await super.execute():null;e=()=>Promise.resolve(r)}catch(t){e=()=>Promise.reject(t)}vh.set(this.auth._key(),e)}return this.bypassAuthState||vh.set(this.auth._key(),()=>Promise.resolve(null)),e()}async onAuthEvent(e){if(e.type==="signInViaRedirect")return super.onAuthEvent(e);if(e.type==="unknown"){this.resolve(null);return}if(e.eventId){const t=await this.auth._redirectUserForId(e.eventId);if(t)return this.user=t,super.onAuthEvent(e);this.resolve(null)}}async onExecution(){}cleanUp(){}}async function KC(n,e){const t=EI(e),r=wI(n);if(!await r._isAvailable())return!1;const s=await r._get(t)==="true";return await r._remove(t),s}async function Qm(n,e){return wI(n)._set(EI(e),"true")}function QC(n,e){vh.set(n._key(),e)}function wI(n){return si(n._redirectPersistence)}function EI(n){return yh(WC,n.config.apiKey,n.name)}function OF(n,e,t){return YC(n,e,t)}async function YC(n,e,t){if(st(n.app))return Promise.reject(Mt(n));const r=yt(n);ka(n,e,_i),await r._initializationPromise;const s=uo(r,t);return await Qm(s,r),s._openRedirect(r,e,"signInViaRedirect")}function DF(n,e,t){return JC(n,e,t)}async function JC(n,e,t){const r=ve(n);if(ka(r.auth,e,_i),st(r.auth.app))return Promise.reject(Mt(r.auth));await r.auth._initializationPromise;const s=uo(r.auth,t);await Qm(s,r.auth);const a=await II(r);return s._openRedirect(r.auth,e,"reauthViaRedirect",a)}function LF(n,e,t){return XC(n,e,t)}async function XC(n,e,t){const r=ve(n);ka(r.auth,e,_i),await r.auth._initializationPromise;const s=uo(r.auth,t);await ud(!1,r,e.providerId),await Qm(s,r.auth);const a=await II(r);return s._openRedirect(r.auth,e,"linkViaRedirect",a)}async function VF(n,e){return await yt(n)._initializationPromise,TI(n,e,!1)}async function TI(n,e,t=!1){if(st(n.app))return Promise.reject(Mt(n));const r=yt(n),s=uo(r,e),u=await new GC(r,s,t).execute();return u&&!t&&(delete u.user._redirectEventId,await r._persistUserIfCurrent(u.user),await r._setRedirectUser(null,e)),u}async function II(n){const e=dd(`${n.uid}:::`);return n._redirectEventId=e,await n.auth._setRedirectUser(n),await n.auth._persistUserIfCurrent(n),e}const ZC=600*1e3;class eb{constructor(e){this.auth=e,this.cachedEventUids=new Set,this.consumers=new Set,this.queuedRedirectEvent=null,this.hasHandledPotentialRedirect=!1,this.lastProcessedEventTime=Date.now()}registerConsumer(e){this.consumers.add(e),this.queuedRedirectEvent&&this.isEventForConsumer(this.queuedRedirectEvent,e)&&(this.sendToConsumer(this.queuedRedirectEvent,e),this.saveEventToCache(this.queuedRedirectEvent),this.queuedRedirectEvent=null)}unregisterConsumer(e){this.consumers.delete(e)}onEvent(e){if(this.hasEventBeenHandled(e))return!1;let t=!1;return this.consumers.forEach(r=>{this.isEventForConsumer(e,r)&&(t=!0,this.sendToConsumer(e,r),this.saveEventToCache(e))}),this.hasHandledPotentialRedirect||!tb(e)||(this.hasHandledPotentialRedirect=!0,t||(this.queuedRedirectEvent=e,t=!0)),t}sendToConsumer(e,t){if(e.error&&!SI(e)){const r=e.error.code?.split("auth/")[1]||"internal-error";t.onError(an(this.auth,r))}else t.onAuthEvent(e)}isEventForConsumer(e,t){const r=t.eventId===null||!!e.eventId&&e.eventId===t.eventId;return t.filter.includes(e.type)&&r}hasEventBeenHandled(e){return Date.now()-this.lastProcessedEventTime>=ZC&&this.cachedEventUids.clear(),this.cachedEventUids.has(Jv(e))}saveEventToCache(e){this.cachedEventUids.add(Jv(e)),this.lastProcessedEventTime=Date.now()}}function Jv(n){return[n.type,n.eventId,n.sessionId,n.tenantId].filter(e=>e).join("-")}function SI({type:n,error:e}){return n==="unknown"&&e?.code==="auth/no-auth-event"}function tb(n){switch(n.type){case"signInViaRedirect":case"linkViaRedirect":case"reauthViaRedirect":return!0;case"unknown":return SI(n);default:return!1}}async function nb(n,e={}){return at(n,"GET","/v1/projects",e)}const rb=/^\d{1,3}\.\d{1,3}\.\d{1,3}\.\d{1,3}$/,ib=/^https?/;async function sb(n){if(n.config.emulator)return;const{authorizedDomains:e}=await nb(n);for(const t of e)try{if(ob(t))return}catch{}wn(n,"unauthorized-domain")}function ob(n){const e=au(),{protocol:t,hostname:r}=new URL(e);if(n.startsWith("chrome-extension://")){const u=new URL(n);return u.hostname===""&&r===""?t==="chrome-extension:"&&n.replace("chrome-extension://","")===e.replace("chrome-extension://",""):t==="chrome-extension:"&&u.hostname===r}if(!ib.test(t))return!1;if(rb.test(n))return r===n;const s=n.replace(/\./g,"\\.");return new RegExp("^(.+\\."+s+"|"+s+")$","i").test(r)}const ab=new Su(3e4,6e4);function Xv(){const n=Pt().___jsl;if(n?.H){for(const e of Object.keys(n.H))if(n.H[e].r=n.H[e].r||[],n.H[e].L=n.H[e].L||[],n.H[e].r=[...n.H[e].L],n.CP)for(let t=0;t<n.CP.length;t++)n.CP[t]=null}}function lb(n){return new Promise((e,t)=>{function r(){Xv(),gapi.load("gapi.iframes",{callback:()=>{e(gapi.iframes.getContext())},ontimeout:()=>{Xv(),t(an(n,"network-request-failed"))},timeout:ab.get()})}if(Pt().gapi?.iframes?.Iframe)e(gapi.iframes.getContext());else if(Pt().gapi?.load)r();else{const s=ZT("iframefcb");return Pt()[s]=()=>{gapi.load?r():t(an(n,"network-request-failed"))},Um(`${wk()}?onload=${s}`).catch(a=>t(a))}}).catch(e=>{throw wh=null,e})}let wh=null;function ub(n){return wh=wh||lb(n),wh}const cb=new Su(5e3,15e3),hb="__/auth/iframe",db="emulator/auth/iframe",fb={style:{position:"absolute",top:"-100px",width:"1px",height:"1px"},"aria-hidden":"true",tabindex:"-1"},pb=new Map([["identitytoolkit.googleapis.com","p"],["staging-identitytoolkit.sandbox.googleapis.com","s"],["test-identitytoolkit.sandbox.googleapis.com","t"]]);function mb(n){const e=n.config;ne(e.authDomain,n,"auth-domain-config-required");const t=e.emulator?Vm(e,db):`https://${n.config.authDomain}/${hb}`,r={apiKey:e.apiKey,appName:n.name,v:ao},s=pb.get(n.config.apiHost);s&&(r.eid=s);const a=n._getFrameworks();return a.length&&(r.fw=a.join(",")),`${t}?${Pa(r).slice(1)}`}async function gb(n){const e=await ub(n),t=Pt().gapi;return ne(t,n,"internal-error"),e.open({where:document.body,url:mb(n),messageHandlersFilter:t.iframes.CROSS_ORIGIN_IFRAMES_FILTER,attributes:fb,dontclear:!0},r=>new Promise(async(s,a)=>{await r.restyle({setHideOnLeave:!1});const u=an(n,"network-request-failed"),d=Pt().setTimeout(()=>{a(u)},cb.get());function f(){Pt().clearTimeout(d),s(r)}r.ping(f).then(f,()=>{a(u)})}))}const yb={location:"yes",resizable:"yes",statusbar:"yes",toolbar:"no"},_b=500,vb=600,wb="_blank",Eb="http://localhost";class Zv{constructor(e){this.window=e,this.associatedEvent=null}close(){if(this.window)try{this.window.close()}catch{}}}function Tb(n,e,t,r=_b,s=vb){const a=Math.max((window.screen.availHeight-s)/2,0).toString(),u=Math.max((window.screen.availWidth-r)/2,0).toString();let d="";const f={...yb,width:r.toString(),height:s.toString(),top:a,left:u},m=en().toLowerCase();t&&(d=WT(m)?wb:t),HT(m)&&(e=e||Eb,f.scrollbars="yes");const g=Object.entries(f).reduce((w,[A,O])=>`${w}${A}=${O},`,"");if(ck(m)&&d!=="_self")return Ib(e||"",d),new Zv(null);const E=window.open(e||"",d,g);ne(E,n,"popup-blocked");try{E.focus()}catch{}return new Zv(E)}function Ib(n,e){const t=document.createElement("a");t.href=n,t.target=e;const r=document.createEvent("MouseEvent");r.initMouseEvent("click",!0,!0,window,1,0,0,0,0,!1,!1,!1,!1,1,null),t.dispatchEvent(r)}const Sb="__/auth/handler",Ab="emulator/auth/handler",Rb=encodeURIComponent("fac");async function ew(n,e,t,r,s,a){ne(n.config.authDomain,n,"auth-domain-config-required"),ne(n.config.apiKey,n,"invalid-api-key");const u={apiKey:n.config.apiKey,appName:n.name,authType:t,redirectUrl:r,v:ao,eventId:s};if(e instanceof _i){e.setDefaultLanguage(n.languageCode),u.providerId=e.providerId||"",CP(e.getCustomParameters())||(u.customParameters=JSON.stringify(e.getCustomParameters()));for(const[g,E]of Object.entries({}))u[g]=E}if(e instanceof Ca){const g=e.getScopes().filter(E=>E!=="");g.length>0&&(u.scopes=g.join(","))}n.tenantId&&(u.tid=n.tenantId);const d=u;for(const g of Object.keys(d))d[g]===void 0&&delete d[g];const f=await n._getAppCheckToken(),m=f?`#${Rb}=${encodeURIComponent(f)}`:"";return`${Pb(n)}?${Pa(d).slice(1)}${m}`}function Pb({config:n}){return n.emulator?Vm(n,Ab):`https://${n.authDomain}/${Sb}`}const kp="webStorageSupport";class kb{constructor(){this.eventManagers={},this.iframes={},this.originValidationPromises={},this._redirectPersistence=mI,this._completeRedirectFn=TI,this._overrideRedirectResult=QC}async _openPopup(e,t,r,s){hi(this.eventManagers[e._key()]?.manager,"_initialize() not called before _openPopup()");const a=await ew(e,t,r,au(),s);return Tb(e,a,dd())}async _openRedirect(e,t,r,s){await this._originValidation(e);const a=await ew(e,t,r,au(),s);return SC(a),new Promise(()=>{})}_initialize(e){const t=e._key();if(this.eventManagers[t]){const{manager:s,promise:a}=this.eventManagers[t];return s?Promise.resolve(s):(hi(a,"If manager is not set, promise should be"),a)}const r=this.initAndGetManager(e);return this.eventManagers[t]={promise:r},r.catch(()=>{delete this.eventManagers[t]}),r}async initAndGetManager(e){const t=await gb(e),r=new eb(e);return t.register("authEvent",s=>(ne(s?.authEvent,e,"invalid-auth-event"),{status:r.onEvent(s.authEvent)?"ACK":"ERROR"}),gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER),this.eventManagers[e._key()]={manager:r},this.iframes[e._key()]=t,r}_isIframeWebStorageSupported(e,t){this.iframes[e._key()].send(kp,{type:kp},s=>{const a=s?.[0]?.[kp];a!==void 0&&t(!!a),wn(e,"internal-error")},gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER)}_originValidation(e){const t=e._key();return this.originValidationPromises[t]||(this.originValidationPromises[t]=sb(e)),this.originValidationPromises[t]}get _shouldInitProactively(){return JT()||qT()||Mm()}}const Cb=kb;class AI{constructor(e){this.factorId=e}_process(e,t,r){switch(t.type){case"enroll":return this._finalizeEnroll(e,t.credential,r);case"signin":return this._finalizeSignIn(e,t.credential);default:return Nr("unexpected MultiFactorSessionType")}}}class Ym extends AI{constructor(e){super("phone"),this.credential=e}static _fromCredential(e){return new Ym(e)}_finalizeEnroll(e,t,r){return pC(e,{idToken:t,displayName:r,phoneVerificationInfo:this.credential._makeVerificationRequest()})}_finalizeSignIn(e,t){return DC(e,{mfaPendingCredential:t,phoneVerificationInfo:this.credential._makeVerificationRequest()})}}class bb{constructor(){}static assertion(e){return Ym._fromCredential(e)}}bb.FACTOR_ID="phone";class Nb{static assertionForEnrollment(e,t){return hu._fromSecret(e,t)}static assertionForSignIn(e,t){return hu._fromEnrollmentId(e,t)}static async generateSecret(e){const t=e;ne(typeof t.user?.auth<"u","internal-error");const r=await mC(t.user.auth,{idToken:t.credential,totpEnrollmentInfo:{}});return Jm._fromStartTotpMfaEnrollmentResponse(r,t.user.auth)}}Nb.FACTOR_ID="totp";class hu extends AI{constructor(e,t,r){super("totp"),this.otp=e,this.enrollmentId=t,this.secret=r}static _fromSecret(e,t){return new hu(t,void 0,e)}static _fromEnrollmentId(e,t){return new hu(t,e)}async _finalizeEnroll(e,t,r){return ne(typeof this.secret<"u",e,"argument-error"),gC(e,{idToken:t,displayName:r,totpVerificationInfo:this.secret._makeTotpVerificationInfo(this.otp)})}async _finalizeSignIn(e,t){ne(this.enrollmentId!==void 0&&this.otp!==void 0,e,"argument-error");const r={verificationCode:this.otp};return LC(e,{mfaPendingCredential:t,mfaEnrollmentId:this.enrollmentId,totpVerificationInfo:r})}}class Jm{constructor(e,t,r,s,a,u,d){this.sessionInfo=u,this.auth=d,this.secretKey=e,this.hashingAlgorithm=t,this.codeLength=r,this.codeIntervalSeconds=s,this.enrollmentCompletionDeadline=a}static _fromStartTotpMfaEnrollmentResponse(e,t){return new Jm(e.totpSessionInfo.sharedSecretKey,e.totpSessionInfo.hashingAlgorithm,e.totpSessionInfo.verificationCodeLength,e.totpSessionInfo.periodSec,new Date(e.totpSessionInfo.finalizeEnrollmentTime).toUTCString(),e.totpSessionInfo.sessionInfo,t)}_makeTotpVerificationInfo(e){return{sessionInfo:this.sessionInfo,verificationCode:e}}generateQrCodeUrl(e,t){let r=!1;return(ih(e)||ih(t))&&(r=!0),r&&(ih(e)&&(e=this.auth.currentUser?.email||"unknownuser"),ih(t)&&(t=this.auth.name)),`otpauth://totp/${t}:${e}?secret=${this.secretKey}&issuer=${t}&algorithm=${this.hashingAlgorithm}&digits=${this.codeLength}`}}function ih(n){return typeof n>"u"||n?.length===0}var tw="@firebase/auth",nw="1.12.0";class xb{constructor(e){this.auth=e,this.internalListeners=new Map}getUid(){return this.assertAuthConfigured(),this.auth.currentUser?.uid||null}async getToken(e){return this.assertAuthConfigured(),await this.auth._initializationPromise,this.auth.currentUser?{accessToken:await this.auth.currentUser.getIdToken(e)}:null}addAuthTokenListener(e){if(this.assertAuthConfigured(),this.internalListeners.has(e))return;const t=this.auth.onIdTokenChanged(r=>{e(r?.stsTokenManager.accessToken||null)});this.internalListeners.set(e,t),this.updateProactiveRefresh()}removeAuthTokenListener(e){this.assertAuthConfigured();const t=this.internalListeners.get(e);t&&(this.internalListeners.delete(e),t(),this.updateProactiveRefresh())}assertAuthConfigured(){ne(this.auth._initializationPromise,"dependent-sdk-initialized-before-auth")}updateProactiveRefresh(){this.internalListeners.size>0?this.auth._startProactiveRefresh():this.auth._stopProactiveRefresh()}}function Ob(n){switch(n){case"Node":return"node";case"ReactNative":return"rn";case"Worker":return"webworker";case"Cordova":return"cordova";case"WebExtension":return"web-extension";default:return}}function Db(n){qn(new On("auth",(e,{options:t})=>{const r=e.getProvider("app").getImmediate(),s=e.getProvider("heartbeat"),a=e.getProvider("app-check-internal"),{apiKey:u,authDomain:d}=r.options;ne(u&&!u.includes(":"),"invalid-api-key",{appName:r.name});const f={apiKey:u,authDomain:d,clientPlatform:n,apiHost:"identitytoolkit.googleapis.com",tokenApiHost:"securetoken.googleapis.com",apiScheme:"https",sdkClientVersion:XT(n)},m=new gk(r,s,a,f);return bk(m,t),m},"PUBLIC").setInstantiationMode("EXPLICIT").setInstanceCreatedCallback((e,t,r)=>{e.getProvider("auth-internal").initialize()})),qn(new On("auth-internal",e=>{const t=yt(e.getProvider("auth").getImmediate());return(r=>new xb(r))(t)},"PRIVATE").setInstantiationMode("EXPLICIT")),Zt(tw,nw,Ob(n)),Zt(tw,nw,"esm2020")}const Lb=300,Vb=RT("authIdTokenMaxAge")||Lb;let rw=null;const Mb=n=>async e=>{const t=e&&await e.getIdTokenResult(),r=t&&(new Date().getTime()-Date.parse(t.issuedAtTime))/1e3;if(r&&r>Vb)return;const s=t?.token;rw!==s&&(rw=s,await fetch(n,{method:s?"POST":"DELETE",headers:s?{Authorization:`Bearer ${s}`}:{}}))};function Ub(n=Iu()){const e=gi(n,"auth");if(e.isInitialized())return e.getImmediate();const t=Ck(n,{popupRedirectResolver:Cb,persistence:[OC,wC,mI]}),r=RT("authTokenSyncURL");if(r&&typeof isSecureContext=="boolean"&&isSecureContext){const a=new URL(r,location.origin);if(location.origin===a.origin){const u=Mb(a.toString());hC(t,u,()=>u(t.currentUser)),cC(t,d=>u(d))}}const s=ST("auth");return s&&Nk(t,`http://${s}`),t}function Fb(){return document.getElementsByTagName("head")?.[0]??document}yk({loadJS(n){return new Promise((e,t)=>{const r=document.createElement("script");r.setAttribute("src",n),r.onload=e,r.onerror=s=>{const a=an("internal-error");a.customData=s,t(a)},r.type="text/javascript",r.charset="UTF-8",Fb().appendChild(r)})},gapiScript:"https://apis.google.com/js/api.js",recaptchaV2Script:"https://www.google.com/recaptcha/api.js",recaptchaEnterpriseScript:"https://www.google.com/recaptcha/enterprise.js?render="});Db("Browser");var jb="firebase",zb="12.8.0";Zt(jb,zb,"app");var iw=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};var os,RI;(function(){var n;function e(k,S){function C(){}C.prototype=S.prototype,k.F=S.prototype,k.prototype=new C,k.prototype.constructor=k,k.D=function(V,N,x){for(var P=Array(arguments.length-2),xe=2;xe<arguments.length;xe++)P[xe-2]=arguments[xe];return S.prototype[N].apply(V,P)}}function t(){this.blockSize=-1}function r(){this.blockSize=-1,this.blockSize=64,this.g=Array(4),this.C=Array(this.blockSize),this.o=this.h=0,this.u()}e(r,t),r.prototype.u=function(){this.g[0]=1732584193,this.g[1]=4023233417,this.g[2]=2562383102,this.g[3]=271733878,this.o=this.h=0};function s(k,S,C){C||(C=0);const V=Array(16);if(typeof S=="string")for(var N=0;N<16;++N)V[N]=S.charCodeAt(C++)|S.charCodeAt(C++)<<8|S.charCodeAt(C++)<<16|S.charCodeAt(C++)<<24;else for(N=0;N<16;++N)V[N]=S[C++]|S[C++]<<8|S[C++]<<16|S[C++]<<24;S=k.g[0],C=k.g[1],N=k.g[2];let x=k.g[3],P;P=S+(x^C&(N^x))+V[0]+3614090360&4294967295,S=C+(P<<7&4294967295|P>>>25),P=x+(N^S&(C^N))+V[1]+3905402710&4294967295,x=S+(P<<12&4294967295|P>>>20),P=N+(C^x&(S^C))+V[2]+606105819&4294967295,N=x+(P<<17&4294967295|P>>>15),P=C+(S^N&(x^S))+V[3]+3250441966&4294967295,C=N+(P<<22&4294967295|P>>>10),P=S+(x^C&(N^x))+V[4]+4118548399&4294967295,S=C+(P<<7&4294967295|P>>>25),P=x+(N^S&(C^N))+V[5]+1200080426&4294967295,x=S+(P<<12&4294967295|P>>>20),P=N+(C^x&(S^C))+V[6]+2821735955&4294967295,N=x+(P<<17&4294967295|P>>>15),P=C+(S^N&(x^S))+V[7]+4249261313&4294967295,C=N+(P<<22&4294967295|P>>>10),P=S+(x^C&(N^x))+V[8]+1770035416&4294967295,S=C+(P<<7&4294967295|P>>>25),P=x+(N^S&(C^N))+V[9]+2336552879&4294967295,x=S+(P<<12&4294967295|P>>>20),P=N+(C^x&(S^C))+V[10]+4294925233&4294967295,N=x+(P<<17&4294967295|P>>>15),P=C+(S^N&(x^S))+V[11]+2304563134&4294967295,C=N+(P<<22&4294967295|P>>>10),P=S+(x^C&(N^x))+V[12]+1804603682&4294967295,S=C+(P<<7&4294967295|P>>>25),P=x+(N^S&(C^N))+V[13]+4254626195&4294967295,x=S+(P<<12&4294967295|P>>>20),P=N+(C^x&(S^C))+V[14]+2792965006&4294967295,N=x+(P<<17&4294967295|P>>>15),P=C+(S^N&(x^S))+V[15]+1236535329&4294967295,C=N+(P<<22&4294967295|P>>>10),P=S+(N^x&(C^N))+V[1]+4129170786&4294967295,S=C+(P<<5&4294967295|P>>>27),P=x+(C^N&(S^C))+V[6]+3225465664&4294967295,x=S+(P<<9&4294967295|P>>>23),P=N+(S^C&(x^S))+V[11]+643717713&4294967295,N=x+(P<<14&4294967295|P>>>18),P=C+(x^S&(N^x))+V[0]+3921069994&4294967295,C=N+(P<<20&4294967295|P>>>12),P=S+(N^x&(C^N))+V[5]+3593408605&4294967295,S=C+(P<<5&4294967295|P>>>27),P=x+(C^N&(S^C))+V[10]+38016083&4294967295,x=S+(P<<9&4294967295|P>>>23),P=N+(S^C&(x^S))+V[15]+3634488961&4294967295,N=x+(P<<14&4294967295|P>>>18),P=C+(x^S&(N^x))+V[4]+3889429448&4294967295,C=N+(P<<20&4294967295|P>>>12),P=S+(N^x&(C^N))+V[9]+568446438&4294967295,S=C+(P<<5&4294967295|P>>>27),P=x+(C^N&(S^C))+V[14]+3275163606&4294967295,x=S+(P<<9&4294967295|P>>>23),P=N+(S^C&(x^S))+V[3]+4107603335&4294967295,N=x+(P<<14&4294967295|P>>>18),P=C+(x^S&(N^x))+V[8]+1163531501&4294967295,C=N+(P<<20&4294967295|P>>>12),P=S+(N^x&(C^N))+V[13]+2850285829&4294967295,S=C+(P<<5&4294967295|P>>>27),P=x+(C^N&(S^C))+V[2]+4243563512&4294967295,x=S+(P<<9&4294967295|P>>>23),P=N+(S^C&(x^S))+V[7]+1735328473&4294967295,N=x+(P<<14&4294967295|P>>>18),P=C+(x^S&(N^x))+V[12]+2368359562&4294967295,C=N+(P<<20&4294967295|P>>>12),P=S+(C^N^x)+V[5]+4294588738&4294967295,S=C+(P<<4&4294967295|P>>>28),P=x+(S^C^N)+V[8]+2272392833&4294967295,x=S+(P<<11&4294967295|P>>>21),P=N+(x^S^C)+V[11]+1839030562&4294967295,N=x+(P<<16&4294967295|P>>>16),P=C+(N^x^S)+V[14]+4259657740&4294967295,C=N+(P<<23&4294967295|P>>>9),P=S+(C^N^x)+V[1]+2763975236&4294967295,S=C+(P<<4&4294967295|P>>>28),P=x+(S^C^N)+V[4]+1272893353&4294967295,x=S+(P<<11&4294967295|P>>>21),P=N+(x^S^C)+V[7]+4139469664&4294967295,N=x+(P<<16&4294967295|P>>>16),P=C+(N^x^S)+V[10]+3200236656&4294967295,C=N+(P<<23&4294967295|P>>>9),P=S+(C^N^x)+V[13]+681279174&4294967295,S=C+(P<<4&4294967295|P>>>28),P=x+(S^C^N)+V[0]+3936430074&4294967295,x=S+(P<<11&4294967295|P>>>21),P=N+(x^S^C)+V[3]+3572445317&4294967295,N=x+(P<<16&4294967295|P>>>16),P=C+(N^x^S)+V[6]+76029189&4294967295,C=N+(P<<23&4294967295|P>>>9),P=S+(C^N^x)+V[9]+3654602809&4294967295,S=C+(P<<4&4294967295|P>>>28),P=x+(S^C^N)+V[12]+3873151461&4294967295,x=S+(P<<11&4294967295|P>>>21),P=N+(x^S^C)+V[15]+530742520&4294967295,N=x+(P<<16&4294967295|P>>>16),P=C+(N^x^S)+V[2]+3299628645&4294967295,C=N+(P<<23&4294967295|P>>>9),P=S+(N^(C|~x))+V[0]+4096336452&4294967295,S=C+(P<<6&4294967295|P>>>26),P=x+(C^(S|~N))+V[7]+1126891415&4294967295,x=S+(P<<10&4294967295|P>>>22),P=N+(S^(x|~C))+V[14]+2878612391&4294967295,N=x+(P<<15&4294967295|P>>>17),P=C+(x^(N|~S))+V[5]+4237533241&4294967295,C=N+(P<<21&4294967295|P>>>11),P=S+(N^(C|~x))+V[12]+1700485571&4294967295,S=C+(P<<6&4294967295|P>>>26),P=x+(C^(S|~N))+V[3]+2399980690&4294967295,x=S+(P<<10&4294967295|P>>>22),P=N+(S^(x|~C))+V[10]+4293915773&4294967295,N=x+(P<<15&4294967295|P>>>17),P=C+(x^(N|~S))+V[1]+2240044497&4294967295,C=N+(P<<21&4294967295|P>>>11),P=S+(N^(C|~x))+V[8]+1873313359&4294967295,S=C+(P<<6&4294967295|P>>>26),P=x+(C^(S|~N))+V[15]+4264355552&4294967295,x=S+(P<<10&4294967295|P>>>22),P=N+(S^(x|~C))+V[6]+2734768916&4294967295,N=x+(P<<15&4294967295|P>>>17),P=C+(x^(N|~S))+V[13]+1309151649&4294967295,C=N+(P<<21&4294967295|P>>>11),P=S+(N^(C|~x))+V[4]+4149444226&4294967295,S=C+(P<<6&4294967295|P>>>26),P=x+(C^(S|~N))+V[11]+3174756917&4294967295,x=S+(P<<10&4294967295|P>>>22),P=N+(S^(x|~C))+V[2]+718787259&4294967295,N=x+(P<<15&4294967295|P>>>17),P=C+(x^(N|~S))+V[9]+3951481745&4294967295,k.g[0]=k.g[0]+S&4294967295,k.g[1]=k.g[1]+(N+(P<<21&4294967295|P>>>11))&4294967295,k.g[2]=k.g[2]+N&4294967295,k.g[3]=k.g[3]+x&4294967295}r.prototype.v=function(k,S){S===void 0&&(S=k.length);const C=S-this.blockSize,V=this.C;let N=this.h,x=0;for(;x<S;){if(N==0)for(;x<=C;)s(this,k,x),x+=this.blockSize;if(typeof k=="string"){for(;x<S;)if(V[N++]=k.charCodeAt(x++),N==this.blockSize){s(this,V),N=0;break}}else for(;x<S;)if(V[N++]=k[x++],N==this.blockSize){s(this,V),N=0;break}}this.h=N,this.o+=S},r.prototype.A=function(){var k=Array((this.h<56?this.blockSize:this.blockSize*2)-this.h);k[0]=128;for(var S=1;S<k.length-8;++S)k[S]=0;S=this.o*8;for(var C=k.length-8;C<k.length;++C)k[C]=S&255,S/=256;for(this.v(k),k=Array(16),S=0,C=0;C<4;++C)for(let V=0;V<32;V+=8)k[S++]=this.g[C]>>>V&255;return k};function a(k,S){var C=d;return Object.prototype.hasOwnProperty.call(C,k)?C[k]:C[k]=S(k)}function u(k,S){this.h=S;const C=[];let V=!0;for(let N=k.length-1;N>=0;N--){const x=k[N]|0;V&&x==S||(C[N]=x,V=!1)}this.g=C}var d={};function f(k){return-128<=k&&k<128?a(k,function(S){return new u([S|0],S<0?-1:0)}):new u([k|0],k<0?-1:0)}function m(k){if(isNaN(k)||!isFinite(k))return E;if(k<0)return M(m(-k));const S=[];let C=1;for(let V=0;k>=C;V++)S[V]=k/C|0,C*=4294967296;return new u(S,0)}function g(k,S){if(k.length==0)throw Error("number format error: empty string");if(S=S||10,S<2||36<S)throw Error("radix out of range: "+S);if(k.charAt(0)=="-")return M(g(k.substring(1),S));if(k.indexOf("-")>=0)throw Error('number format error: interior "-" character');const C=m(Math.pow(S,8));let V=E;for(let x=0;x<k.length;x+=8){var N=Math.min(8,k.length-x);const P=parseInt(k.substring(x,x+N),S);N<8?(N=m(Math.pow(S,N)),V=V.j(N).add(m(P))):(V=V.j(C),V=V.add(m(P)))}return V}var E=f(0),w=f(1),A=f(16777216);n=u.prototype,n.m=function(){if(F(this))return-M(this).m();let k=0,S=1;for(let C=0;C<this.g.length;C++){const V=this.i(C);k+=(V>=0?V:4294967296+V)*S,S*=4294967296}return k},n.toString=function(k){if(k=k||10,k<2||36<k)throw Error("radix out of range: "+k);if(O(this))return"0";if(F(this))return"-"+M(this).toString(k);const S=m(Math.pow(k,6));var C=this;let V="";for(;;){const N=re(C,S).g;C=J(C,N.j(S));let x=((C.g.length>0?C.g[0]:C.h)>>>0).toString(k);if(C=N,O(C))return x+V;for(;x.length<6;)x="0"+x;V=x+V}},n.i=function(k){return k<0?0:k<this.g.length?this.g[k]:this.h};function O(k){if(k.h!=0)return!1;for(let S=0;S<k.g.length;S++)if(k.g[S]!=0)return!1;return!0}function F(k){return k.h==-1}n.l=function(k){return k=J(this,k),F(k)?-1:O(k)?0:1};function M(k){const S=k.g.length,C=[];for(let V=0;V<S;V++)C[V]=~k.g[V];return new u(C,~k.h).add(w)}n.abs=function(){return F(this)?M(this):this},n.add=function(k){const S=Math.max(this.g.length,k.g.length),C=[];let V=0;for(let N=0;N<=S;N++){let x=V+(this.i(N)&65535)+(k.i(N)&65535),P=(x>>>16)+(this.i(N)>>>16)+(k.i(N)>>>16);V=P>>>16,x&=65535,P&=65535,C[N]=P<<16|x}return new u(C,C[C.length-1]&-2147483648?-1:0)};function J(k,S){return k.add(M(S))}n.j=function(k){if(O(this)||O(k))return E;if(F(this))return F(k)?M(this).j(M(k)):M(M(this).j(k));if(F(k))return M(this.j(M(k)));if(this.l(A)<0&&k.l(A)<0)return m(this.m()*k.m());const S=this.g.length+k.g.length,C=[];for(var V=0;V<2*S;V++)C[V]=0;for(V=0;V<this.g.length;V++)for(let N=0;N<k.g.length;N++){const x=this.i(V)>>>16,P=this.i(V)&65535,xe=k.i(N)>>>16,B=k.i(N)&65535;C[2*V+2*N]+=P*B,se(C,2*V+2*N),C[2*V+2*N+1]+=x*B,se(C,2*V+2*N+1),C[2*V+2*N+1]+=P*xe,se(C,2*V+2*N+1),C[2*V+2*N+2]+=x*xe,se(C,2*V+2*N+2)}for(k=0;k<S;k++)C[k]=C[2*k+1]<<16|C[2*k];for(k=S;k<2*S;k++)C[k]=0;return new u(C,0)};function se(k,S){for(;(k[S]&65535)!=k[S];)k[S+1]+=k[S]>>>16,k[S]&=65535,S++}function le(k,S){this.g=k,this.h=S}function re(k,S){if(O(S))throw Error("division by zero");if(O(k))return new le(E,E);if(F(k))return S=re(M(k),S),new le(M(S.g),M(S.h));if(F(S))return S=re(k,M(S)),new le(M(S.g),S.h);if(k.g.length>30){if(F(k)||F(S))throw Error("slowDivide_ only works with positive integers.");for(var C=w,V=S;V.l(k)<=0;)C=ce(C),V=ce(V);var N=de(C,1),x=de(V,1);for(V=de(V,2),C=de(C,2);!O(V);){var P=x.add(V);P.l(k)<=0&&(N=N.add(C),x=P),V=de(V,1),C=de(C,1)}return S=J(k,N.j(S)),new le(N,S)}for(N=E;k.l(S)>=0;){for(C=Math.max(1,Math.floor(k.m()/S.m())),V=Math.ceil(Math.log(C)/Math.LN2),V=V<=48?1:Math.pow(2,V-48),x=m(C),P=x.j(S);F(P)||P.l(k)>0;)C-=V,x=m(C),P=x.j(S);O(x)&&(x=w),N=N.add(x),k=J(k,P)}return new le(N,k)}n.B=function(k){return re(this,k).h},n.and=function(k){const S=Math.max(this.g.length,k.g.length),C=[];for(let V=0;V<S;V++)C[V]=this.i(V)&k.i(V);return new u(C,this.h&k.h)},n.or=function(k){const S=Math.max(this.g.length,k.g.length),C=[];for(let V=0;V<S;V++)C[V]=this.i(V)|k.i(V);return new u(C,this.h|k.h)},n.xor=function(k){const S=Math.max(this.g.length,k.g.length),C=[];for(let V=0;V<S;V++)C[V]=this.i(V)^k.i(V);return new u(C,this.h^k.h)};function ce(k){const S=k.g.length+1,C=[];for(let V=0;V<S;V++)C[V]=k.i(V)<<1|k.i(V-1)>>>31;return new u(C,k.h)}function de(k,S){const C=S>>5;S%=32;const V=k.g.length-C,N=[];for(let x=0;x<V;x++)N[x]=S>0?k.i(x+C)>>>S|k.i(x+C+1)<<32-S:k.i(x+C);return new u(N,k.h)}r.prototype.digest=r.prototype.A,r.prototype.reset=r.prototype.u,r.prototype.update=r.prototype.v,RI=r,u.prototype.add=u.prototype.add,u.prototype.multiply=u.prototype.j,u.prototype.modulo=u.prototype.B,u.prototype.compare=u.prototype.l,u.prototype.toNumber=u.prototype.m,u.prototype.toString=u.prototype.toString,u.prototype.getBits=u.prototype.i,u.fromNumber=m,u.fromString=g,os=u}).apply(typeof iw<"u"?iw:typeof self<"u"?self:typeof window<"u"?window:{});var sh=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};var PI,Hl,kI,Eh,nm,CI,bI,NI;(function(){var n,e=Object.defineProperty;function t(c){c=[typeof globalThis=="object"&&globalThis,c,typeof window=="object"&&window,typeof self=="object"&&self,typeof sh=="object"&&sh];for(var _=0;_<c.length;++_){var v=c[_];if(v&&v.Math==Math)return v}throw Error("Cannot find global object")}var r=t(this);function s(c,_){if(_)e:{var v=r;c=c.split(".");for(var I=0;I<c.length-1;I++){var z=c[I];if(!(z in v))break e;v=v[z]}c=c[c.length-1],I=v[c],_=_(I),_!=I&&_!=null&&e(v,c,{configurable:!0,writable:!0,value:_})}}s("Symbol.dispose",function(c){return c||Symbol("Symbol.dispose")}),s("Array.prototype.values",function(c){return c||function(){return this[Symbol.iterator]()}}),s("Object.entries",function(c){return c||function(_){var v=[],I;for(I in _)Object.prototype.hasOwnProperty.call(_,I)&&v.push([I,_[I]]);return v}});var a=a||{},u=this||self;function d(c){var _=typeof c;return _=="object"&&c!=null||_=="function"}function f(c,_,v){return c.call.apply(c.bind,arguments)}function m(c,_,v){return m=f,m.apply(null,arguments)}function g(c,_){var v=Array.prototype.slice.call(arguments,1);return function(){var I=v.slice();return I.push.apply(I,arguments),c.apply(this,I)}}function E(c,_){function v(){}v.prototype=_.prototype,c.Z=_.prototype,c.prototype=new v,c.prototype.constructor=c,c.Ob=function(I,z,q){for(var ae=Array(arguments.length-2),Oe=2;Oe<arguments.length;Oe++)ae[Oe-2]=arguments[Oe];return _.prototype[z].apply(I,ae)}}var w=typeof AsyncContext<"u"&&typeof AsyncContext.Snapshot=="function"?c=>c&&AsyncContext.Snapshot.wrap(c):c=>c;function A(c){const _=c.length;if(_>0){const v=Array(_);for(let I=0;I<_;I++)v[I]=c[I];return v}return[]}function O(c,_){for(let I=1;I<arguments.length;I++){const z=arguments[I];var v=typeof z;if(v=v!="object"?v:z?Array.isArray(z)?"array":v:"null",v=="array"||v=="object"&&typeof z.length=="number"){v=c.length||0;const q=z.length||0;c.length=v+q;for(let ae=0;ae<q;ae++)c[v+ae]=z[ae]}else c.push(z)}}class F{constructor(_,v){this.i=_,this.j=v,this.h=0,this.g=null}get(){let _;return this.h>0?(this.h--,_=this.g,this.g=_.next,_.next=null):_=this.i(),_}}function M(c){u.setTimeout(()=>{throw c},0)}function J(){var c=k;let _=null;return c.g&&(_=c.g,c.g=c.g.next,c.g||(c.h=null),_.next=null),_}class se{constructor(){this.h=this.g=null}add(_,v){const I=le.get();I.set(_,v),this.h?this.h.next=I:this.g=I,this.h=I}}var le=new F(()=>new re,c=>c.reset());class re{constructor(){this.next=this.g=this.h=null}set(_,v){this.h=_,this.g=v,this.next=null}reset(){this.next=this.g=this.h=null}}let ce,de=!1,k=new se,S=()=>{const c=Promise.resolve(void 0);ce=()=>{c.then(C)}};function C(){for(var c;c=J();){try{c.h.call(c.g)}catch(v){M(v)}var _=le;_.j(c),_.h<100&&(_.h++,c.next=_.g,_.g=c)}de=!1}function V(){this.u=this.u,this.C=this.C}V.prototype.u=!1,V.prototype.dispose=function(){this.u||(this.u=!0,this.N())},V.prototype[Symbol.dispose]=function(){this.dispose()},V.prototype.N=function(){if(this.C)for(;this.C.length;)this.C.shift()()};function N(c,_){this.type=c,this.g=this.target=_,this.defaultPrevented=!1}N.prototype.h=function(){this.defaultPrevented=!0};var x=(function(){if(!u.addEventListener||!Object.defineProperty)return!1;var c=!1,_=Object.defineProperty({},"passive",{get:function(){c=!0}});try{const v=()=>{};u.addEventListener("test",v,_),u.removeEventListener("test",v,_)}catch{}return c})();function P(c){return/^[\s\xa0]*$/.test(c)}function xe(c,_){N.call(this,c?c.type:""),this.relatedTarget=this.g=this.target=null,this.button=this.screenY=this.screenX=this.clientY=this.clientX=0,this.key="",this.metaKey=this.shiftKey=this.altKey=this.ctrlKey=!1,this.state=null,this.pointerId=0,this.pointerType="",this.i=null,c&&this.init(c,_)}E(xe,N),xe.prototype.init=function(c,_){const v=this.type=c.type,I=c.changedTouches&&c.changedTouches.length?c.changedTouches[0]:null;this.target=c.target||c.srcElement,this.g=_,_=c.relatedTarget,_||(v=="mouseover"?_=c.fromElement:v=="mouseout"&&(_=c.toElement)),this.relatedTarget=_,I?(this.clientX=I.clientX!==void 0?I.clientX:I.pageX,this.clientY=I.clientY!==void 0?I.clientY:I.pageY,this.screenX=I.screenX||0,this.screenY=I.screenY||0):(this.clientX=c.clientX!==void 0?c.clientX:c.pageX,this.clientY=c.clientY!==void 0?c.clientY:c.pageY,this.screenX=c.screenX||0,this.screenY=c.screenY||0),this.button=c.button,this.key=c.key||"",this.ctrlKey=c.ctrlKey,this.altKey=c.altKey,this.shiftKey=c.shiftKey,this.metaKey=c.metaKey,this.pointerId=c.pointerId||0,this.pointerType=c.pointerType,this.state=c.state,this.i=c,c.defaultPrevented&&xe.Z.h.call(this)},xe.prototype.h=function(){xe.Z.h.call(this);const c=this.i;c.preventDefault?c.preventDefault():c.returnValue=!1};var B="closure_listenable_"+(Math.random()*1e6|0),Q=0;function me(c,_,v,I,z){this.listener=c,this.proxy=null,this.src=_,this.type=v,this.capture=!!I,this.ha=z,this.key=++Q,this.da=this.fa=!1}function W(c){c.da=!0,c.listener=null,c.proxy=null,c.src=null,c.ha=null}function oe(c,_,v){for(const I in c)_.call(v,c[I],I,c)}function Y(c,_){for(const v in c)_.call(void 0,c[v],v,c)}function U(c){const _={};for(const v in c)_[v]=c[v];return _}const X="constructor hasOwnProperty isPrototypeOf propertyIsEnumerable toLocaleString toString valueOf".split(" ");function Ie(c,_){let v,I;for(let z=1;z<arguments.length;z++){I=arguments[z];for(v in I)c[v]=I[v];for(let q=0;q<X.length;q++)v=X[q],Object.prototype.hasOwnProperty.call(I,v)&&(c[v]=I[v])}}function ke(c){this.src=c,this.g={},this.h=0}ke.prototype.add=function(c,_,v,I,z){const q=c.toString();c=this.g[q],c||(c=this.g[q]=[],this.h++);const ae=Me(c,_,I,z);return ae>-1?(_=c[ae],v||(_.fa=!1)):(_=new me(_,this.src,q,!!I,z),_.fa=v,c.push(_)),_};function Ve(c,_){const v=_.type;if(v in c.g){var I=c.g[v],z=Array.prototype.indexOf.call(I,_,void 0),q;(q=z>=0)&&Array.prototype.splice.call(I,z,1),q&&(W(_),c.g[v].length==0&&(delete c.g[v],c.h--))}}function Me(c,_,v,I){for(let z=0;z<c.length;++z){const q=c[z];if(!q.da&&q.listener==_&&q.capture==!!v&&q.ha==I)return z}return-1}var Ge="closure_lm_"+(Math.random()*1e6|0),$e={};function Ye(c,_,v,I,z){if(Array.isArray(_)){for(let q=0;q<_.length;q++)Ye(c,_[q],v,I,z);return null}return v=Fa(v),c&&c[B]?c.J(_,v,d(I)?!!I.capture:!1,z):tn(c,_,v,!1,I,z)}function tn(c,_,v,I,z,q){if(!_)throw Error("Invalid event type");const ae=d(z)?!!z.capture:!!z;let Oe=mo(c);if(Oe||(c[Ge]=Oe=new ke(c)),v=Oe.add(_,v,I,ae,q),v.proxy)return v;if(I=fo(),v.proxy=I,I.src=c,I.listener=v,c.addEventListener)x||(z=ae),z===void 0&&(z=!1),c.addEventListener(_.toString(),I,z);else if(c.attachEvent)c.attachEvent(po(_.toString()),I);else if(c.addListener&&c.removeListener)c.addListener(I);else throw Error("addEventListener and attachEvent are unavailable.");return v}function fo(){function c(v){return _.call(c.src,c.listener,v)}const _=ju;return c}function Ua(c,_,v,I,z){if(Array.isArray(_))for(var q=0;q<_.length;q++)Ua(c,_[q],v,I,z);else I=d(I)?!!I.capture:!!I,v=Fa(v),c&&c[B]?(c=c.i,q=String(_).toString(),q in c.g&&(_=c.g[q],v=Me(_,v,I,z),v>-1&&(W(_[v]),Array.prototype.splice.call(_,v,1),_.length==0&&(delete c.g[q],c.h--)))):c&&(c=mo(c))&&(_=c.g[_.toString()],c=-1,_&&(c=Me(_,v,I,z)),(v=c>-1?_[c]:null)&&Ei(v))}function Ei(c){if(typeof c!="number"&&c&&!c.da){var _=c.src;if(_&&_[B])Ve(_.i,c);else{var v=c.type,I=c.proxy;_.removeEventListener?_.removeEventListener(v,I,c.capture):_.detachEvent?_.detachEvent(po(v),I):_.addListener&&_.removeListener&&_.removeListener(I),(v=mo(_))?(Ve(v,c),v.h==0&&(v.src=null,_[Ge]=null)):W(c)}}}function po(c){return c in $e?$e[c]:$e[c]="on"+c}function ju(c,_){if(c.da)c=!0;else{_=new xe(_,this);const v=c.listener,I=c.ha||c.src;c.fa&&Ei(c),c=v.call(I,_)}return c}function mo(c){return c=c[Ge],c instanceof ke?c:null}var ys="__closure_events_fn_"+(Math.random()*1e9>>>0);function Fa(c){return typeof c=="function"?c:(c[ys]||(c[ys]=function(_){return c.handleEvent(_)}),c[ys])}function It(){V.call(this),this.i=new ke(this),this.M=this,this.G=null}E(It,V),It.prototype[B]=!0,It.prototype.removeEventListener=function(c,_,v,I){Ua(this,c,_,v,I)};function vt(c,_){var v,I=c.G;if(I)for(v=[];I;I=I.G)v.push(I);if(c=c.M,I=_.type||_,typeof _=="string")_=new N(_,c);else if(_ instanceof N)_.target=_.target||c;else{var z=_;_=new N(I,c),Ie(_,z)}z=!0;let q,ae;if(v)for(ae=v.length-1;ae>=0;ae--)q=_.g=v[ae],z=Gn(q,I,!0,_)&&z;if(q=_.g=c,z=Gn(q,I,!0,_)&&z,z=Gn(q,I,!1,_)&&z,v)for(ae=0;ae<v.length;ae++)q=_.g=v[ae],z=Gn(q,I,!1,_)&&z}It.prototype.N=function(){if(It.Z.N.call(this),this.i){var c=this.i;for(const _ in c.g){const v=c.g[_];for(let I=0;I<v.length;I++)W(v[I]);delete c.g[_],c.h--}}this.G=null},It.prototype.J=function(c,_,v,I){return this.i.add(String(c),_,!1,v,I)},It.prototype.K=function(c,_,v,I){return this.i.add(String(c),_,!0,v,I)};function Gn(c,_,v,I){if(_=c.i.g[String(_)],!_)return!0;_=_.concat();let z=!0;for(let q=0;q<_.length;++q){const ae=_[q];if(ae&&!ae.da&&ae.capture==v){const Oe=ae.listener,wt=ae.ha||ae.src;ae.fa&&Ve(c.i,ae),z=Oe.call(wt,I)!==!1&&z}}return z&&!I.defaultPrevented}function ja(c,_){if(typeof c!="function")if(c&&typeof c.handleEvent=="function")c=m(c.handleEvent,c);else throw Error("Invalid listener argument");return Number(_)>2147483647?-1:u.setTimeout(c,_||0)}function za(c){c.g=ja(()=>{c.g=null,c.i&&(c.i=!1,za(c))},c.l);const _=c.h;c.h=null,c.m.apply(null,_)}class zu extends V{constructor(_,v){super(),this.m=_,this.l=v,this.h=null,this.i=!1,this.g=null}j(_){this.h=arguments,this.g?this.i=!0:za(this)}N(){super.N(),this.g&&(u.clearTimeout(this.g),this.g=null,this.i=!1,this.h=null)}}function Ti(c){V.call(this),this.h=c,this.g={}}E(Ti,V);var Ba=[];function go(c){oe(c.g,function(_,v){this.g.hasOwnProperty(v)&&Ei(_)},c),c.g={}}Ti.prototype.N=function(){Ti.Z.N.call(this),go(this)},Ti.prototype.handleEvent=function(){throw Error("EventHandler.handleEvent not implemented")};var Ii=u.JSON.stringify,Bu=u.JSON.parse,_s=class{stringify(c){return u.JSON.stringify(c,void 0)}parse(c){return u.JSON.parse(c,void 0)}};function Si(){}function $u(){}var Ai={OPEN:"a",hb:"b",ERROR:"c",tb:"d"};function yo(){N.call(this,"d")}E(yo,N);function $a(){N.call(this,"c")}E($a,N);var Kn={},_o=null;function Ri(){return _o=_o||new It}Kn.Ia="serverreachability";function vo(c){N.call(this,Kn.Ia,c)}E(vo,N);function jr(c){const _=Ri();vt(_,new vo(_))}Kn.STAT_EVENT="statevent";function zr(c,_){N.call(this,Kn.STAT_EVENT,c),this.stat=_}E(zr,N);function dt(c){const _=Ri();vt(_,new zr(_,c))}Kn.Ja="timingevent";function Ha(c,_){N.call(this,Kn.Ja,c),this.size=_}E(Ha,N);function Pi(c,_){if(typeof c!="function")throw Error("Fn must not be null and must be a function");return u.setTimeout(function(){c()},_)}function ki(){this.g=!0}ki.prototype.ua=function(){this.g=!1};function Hu(c,_,v,I,z,q){c.info(function(){if(c.g)if(q){var ae="",Oe=q.split("&");for(let Qe=0;Qe<Oe.length;Qe++){var wt=Oe[Qe].split("=");if(wt.length>1){const St=wt[0];wt=wt[1];const Rn=St.split("_");ae=Rn.length>=2&&Rn[1]=="type"?ae+(St+"="+wt+"&"):ae+(St+"=redacted&")}}}else ae=null;else ae=q;return"XMLHTTP REQ ("+I+") [attempt "+z+"]: "+_+`
`+v+`
`+ae})}function qu(c,_,v,I,z,q,ae){c.info(function(){return"XMLHTTP RESP ("+I+") [ attempt "+z+"]: "+_+`
`+v+`
`+q+" "+ae})}function cr(c,_,v,I){c.info(function(){return"XMLHTTP TEXT ("+_+"): "+vs(c,v)+(I?" "+I:"")})}function Wu(c,_){c.info(function(){return"TIMEOUT: "+_})}ki.prototype.info=function(){};function vs(c,_){if(!c.g)return _;if(!_)return null;try{const q=JSON.parse(_);if(q){for(c=0;c<q.length;c++)if(Array.isArray(q[c])){var v=q[c];if(!(v.length<2)){var I=v[1];if(Array.isArray(I)&&!(I.length<1)){var z=I[0];if(z!="noop"&&z!="stop"&&z!="close")for(let ae=1;ae<I.length;ae++)I[ae]=""}}}}return Ii(q)}catch{return _}}var Ci={NO_ERROR:0,cb:1,qb:2,pb:3,kb:4,ob:5,rb:6,Ga:7,TIMEOUT:8,ub:9},bi={ib:"complete",Fb:"success",ERROR:"error",Ga:"abort",xb:"ready",yb:"readystatechange",TIMEOUT:"timeout",sb:"incrementaldata",wb:"progress",lb:"downloadprogress",Nb:"uploadprogress"},Gu;function Br(){}E(Br,Si),Br.prototype.g=function(){return new XMLHttpRequest},Gu=new Br;function hr(c){return encodeURIComponent(String(c))}function wo(c){var _=1;c=c.split(":");const v=[];for(;_>0&&c.length;)v.push(c.shift()),_--;return c.length&&v.push(c.join(":")),v}function Ln(c,_,v,I){this.j=c,this.i=_,this.l=v,this.S=I||1,this.V=new Ti(this),this.H=45e3,this.J=null,this.o=!1,this.u=this.B=this.A=this.M=this.F=this.T=this.D=null,this.G=[],this.g=null,this.C=0,this.m=this.v=null,this.X=-1,this.K=!1,this.P=0,this.O=null,this.W=this.L=this.U=this.R=!1,this.h=new Ku}function Ku(){this.i=null,this.g="",this.h=!1}var Qu={},qa={};function Qn(c,_,v){c.M=1,c.A=Hr(Vn(_)),c.u=v,c.R=!0,Wa(c,null)}function Wa(c,_){c.F=Date.now(),ws(c),c.B=Vn(c.A);var v=c.B,I=c.S;Array.isArray(I)||(I=[String(I)]),nl(v.i,"t",I),c.C=0,v=c.j.L,c.h=new Ku,c.g=sc(c.j,v?_:null,!c.u),c.P>0&&(c.O=new zu(m(c.Y,c,c.g),c.P)),_=c.V,v=c.g,I=c.ba;var z="readystatechange";Array.isArray(z)||(z&&(Ba[0]=z.toString()),z=Ba);for(let q=0;q<z.length;q++){const ae=Ye(v,z[q],I||_.handleEvent,!1,_.h||_);if(!ae)break;_.g[ae.key]=ae}_=c.J?U(c.J):{},c.u?(c.v||(c.v="POST"),_["Content-Type"]="application/x-www-form-urlencoded",c.g.ea(c.B,c.v,c.u,_)):(c.v="GET",c.g.ea(c.B,c.v,null,_)),jr(),Hu(c.i,c.v,c.B,c.l,c.S,c.u)}Ln.prototype.ba=function(c){c=c.target;const _=this.O;_&&_r(c)==3?_.j():this.Y(c)},Ln.prototype.Y=function(c){try{if(c==this.g)e:{const Oe=_r(this.g),wt=this.g.ya(),Qe=this.g.ca();if(!(Oe<3)&&(Oe!=3||this.g&&(this.h.h||this.g.la()||rc(this.g)))){this.K||Oe!=4||wt==7||(wt==8||Qe<=0?jr(3):jr(2)),Eo(this);var _=this.g.ca();this.X=_;var v=Yu(this);if(this.o=_==200,qu(this.i,this.v,this.B,this.l,this.S,Oe,_),this.o){if(this.U&&!this.L){t:{if(this.g){var I,z=this.g;if((I=z.g?z.g.getResponseHeader("X-HTTP-Initial-Response"):null)&&!P(I)){var q=I;break t}}q=null}if(c=q)cr(this.i,this.l,c,"Initial handshake response via X-HTTP-Initial-Response"),this.L=!0,tt(this,c);else{this.o=!1,this.m=3,dt(12),$r(this),Es(this);break e}}if(this.R){c=!0;let St;for(;!this.K&&this.C<v.length;)if(St=Xu(this,v),St==qa){Oe==4&&(this.m=4,dt(14),c=!1),cr(this.i,this.l,null,"[Incomplete Response]");break}else if(St==Qu){this.m=4,dt(15),cr(this.i,this.l,v,"[Invalid Chunk]"),c=!1;break}else cr(this.i,this.l,St,null),tt(this,St);if(Ju(this)&&this.C!=0&&(this.h.g=this.h.g.slice(this.C),this.C=0),Oe!=4||v.length!=0||this.h.h||(this.m=1,dt(16),c=!1),this.o=this.o&&c,!c)cr(this.i,this.l,v,"[Invalid Chunked Response]"),$r(this),Es(this);else if(v.length>0&&!this.W){this.W=!0;var ae=this.j;ae.g==this&&ae.aa&&!ae.P&&(ae.j.info("Great, no buffering proxy detected. Bytes received: "+v.length),bs(ae),ae.P=!0,dt(11))}}else cr(this.i,this.l,v,null),tt(this,v);Oe==4&&$r(this),this.o&&!this.K&&(Oe==4?No(this.j,this):(this.o=!1,ws(this)))}else il(this.g),_==400&&v.indexOf("Unknown SID")>0?(this.m=3,dt(12)):(this.m=0,dt(13)),$r(this),Es(this)}}}catch{}};function Yu(c){if(!Ju(c))return c.g.la();const _=rc(c.g);if(_==="")return"";let v="";const I=_.length,z=_r(c.g)==4;if(!c.h.i){if(typeof TextDecoder>"u")return $r(c),Es(c),"";c.h.i=new u.TextDecoder}for(let q=0;q<I;q++)c.h.h=!0,v+=c.h.i.decode(_[q],{stream:!(z&&q==I-1)});return _.length=0,c.h.g+=v,c.C=0,c.h.g}function Ju(c){return c.g?c.v=="GET"&&c.M!=2&&c.j.Aa:!1}function Xu(c,_){var v=c.C,I=_.indexOf(`
`,v);return I==-1?qa:(v=Number(_.substring(v,I)),isNaN(v)?Qu:(I+=1,I+v>_.length?qa:(_=_.slice(I,I+v),c.C=I+v,_)))}Ln.prototype.cancel=function(){this.K=!0,$r(this)};function ws(c){c.T=Date.now()+c.H,Ga(c,c.H)}function Ga(c,_){if(c.D!=null)throw Error("WatchDog timer not null");c.D=Pi(m(c.aa,c),_)}function Eo(c){c.D&&(u.clearTimeout(c.D),c.D=null)}Ln.prototype.aa=function(){this.D=null;const c=Date.now();c-this.T>=0?(Wu(this.i,this.B),this.M!=2&&(jr(),dt(17)),$r(this),this.m=2,Es(this)):Ga(this,this.T-c)};function Es(c){c.j.I==0||c.K||No(c.j,c)}function $r(c){Eo(c);var _=c.O;_&&typeof _.dispose=="function"&&_.dispose(),c.O=null,go(c.V),c.g&&(_=c.g,c.g=null,_.abort(),_.dispose())}function tt(c,_){try{var v=c.j;if(v.I!=0&&(v.g==c||Qa(v.h,c))){if(!c.L&&Qa(v.h,c)&&v.I==3){try{var I=v.Ba.g.parse(_)}catch{I=null}if(Array.isArray(I)&&I.length==3){var z=I;if(z[0]==0){e:if(!v.v){if(v.g)if(v.g.F+3e3<c.F)bo(v),Sn(v);else break e;Er(v),dt(18)}}else v.xa=z[1],0<v.xa-v.K&&z[2]<37500&&v.F&&v.A==0&&!v.C&&(v.C=Pi(m(v.Va,v),6e3));Ts(v.h)<=1&&v.ta&&(v.ta=void 0)}else An(v,11)}else if((c.L||v.g==c)&&bo(v),!P(_))for(z=v.Ba.g.parse(_),_=0;_<z.length;_++){let Qe=z[_];const St=Qe[0];if(!(St<=v.K))if(v.K=St,Qe=Qe[1],v.I==2)if(Qe[0]=="c"){v.M=Qe[1],v.ba=Qe[2];const Rn=Qe[3];Rn!=null&&(v.ka=Rn,v.j.info("VER="+v.ka));const Qr=Qe[4];Qr!=null&&(v.za=Qr,v.j.info("SVER="+v.za));const Tr=Qe[5];Tr!=null&&typeof Tr=="number"&&Tr>0&&(I=1.5*Tr,v.O=I,v.j.info("backChannelRequestTimeoutMs_="+I)),I=v;const Ir=c.g;if(Ir){const Do=Ir.g?Ir.g.getResponseHeader("X-Client-Wire-Protocol"):null;if(Do){var q=I.h;q.g||Do.indexOf("spdy")==-1&&Do.indexOf("quic")==-1&&Do.indexOf("h2")==-1||(q.j=q.l,q.g=new Set,q.h&&(Io(q,q.h),q.h=null))}if(I.G){const al=Ir.g?Ir.g.getResponseHeader("X-HTTP-Session-Id"):null;al&&(I.wa=al,We(I.J,I.G,al))}}v.I=3,v.l&&v.l.ra(),v.aa&&(v.T=Date.now()-c.F,v.j.info("Handshake RTT: "+v.T+"ms")),I=v;var ae=c;if(I.na=ol(I,I.L?I.ba:null,I.W),ae.L){Is(I.h,ae);var Oe=ae,wt=I.O;wt&&(Oe.H=wt),Oe.D&&(Eo(Oe),ws(Oe)),I.g=ae}else qt(I);v.i.length>0&&Kr(v)}else Qe[0]!="stop"&&Qe[0]!="close"||An(v,7);else v.I==3&&(Qe[0]=="stop"||Qe[0]=="close"?Qe[0]=="stop"?An(v,7):ko(v):Qe[0]!="noop"&&v.l&&v.l.qa(Qe),v.A=0)}}jr(4)}catch{}}var Vd=class{constructor(c,_){this.g=c,this.map=_}};function To(c){this.l=c||10,u.PerformanceNavigationTiming?(c=u.performance.getEntriesByType("navigation"),c=c.length>0&&(c[0].nextHopProtocol=="hq"||c[0].nextHopProtocol=="h2")):c=!!(u.chrome&&u.chrome.loadTimes&&u.chrome.loadTimes()&&u.chrome.loadTimes().wasFetchedViaSpdy),this.j=c?this.l:1,this.g=null,this.j>1&&(this.g=new Set),this.h=null,this.i=[]}function Ka(c){return c.h?!0:c.g?c.g.size>=c.j:!1}function Ts(c){return c.h?1:c.g?c.g.size:0}function Qa(c,_){return c.h?c.h==_:c.g?c.g.has(_):!1}function Io(c,_){c.g?c.g.add(_):c.h=_}function Is(c,_){c.h&&c.h==_?c.h=null:c.g&&c.g.has(_)&&c.g.delete(_)}To.prototype.cancel=function(){if(this.i=En(this),this.h)this.h.cancel(),this.h=null;else if(this.g&&this.g.size!==0){for(const c of this.g.values())c.cancel();this.g.clear()}};function En(c){if(c.h!=null)return c.i.concat(c.h.G);if(c.g!=null&&c.g.size!==0){let _=c.i;for(const v of c.g.values())_=_.concat(v.G);return _}return A(c.i)}var Zu=RegExp("^(?:([^:/?#.]+):)?(?://(?:([^\\\\/?#]*)@)?([^\\\\/?#]*?)(?::([0-9]+))?(?=[\\\\/?#]|$))?([^?#]+)?(?:\\?([^#]*))?(?:#([\\s\\S]*))?$");function Tn(c,_){if(c){c=c.split("&");for(let v=0;v<c.length;v++){const I=c[v].indexOf("=");let z,q=null;I>=0?(z=c[v].substring(0,I),q=c[v].substring(I+1)):z=c[v],_(z,q?decodeURIComponent(q.replace(/\+/g," ")):"")}}}function dr(c){this.g=this.o=this.j="",this.u=null,this.m=this.h="",this.l=!1;let _;c instanceof dr?(this.l=c.l,Ss(this,c.j),this.o=c.o,this.g=c.g,fr(this,c.u),this.h=c.h,Ni(this,rl(c.i)),this.m=c.m):c&&(_=String(c).match(Zu))?(this.l=!1,Ss(this,_[1]||"",!0),this.o=As(_[2]||""),this.g=As(_[3]||"",!0),fr(this,_[4]),this.h=As(_[5]||"",!0),Ni(this,_[6]||"",!0),this.m=As(_[7]||"")):(this.l=!1,this.i=new ze(null,this.l))}dr.prototype.toString=function(){const c=[];var _=this.j;_&&c.push(Rs(_,Ja,!0),":");var v=this.g;return(v||_=="file")&&(c.push("//"),(_=this.o)&&c.push(Rs(_,Ja,!0),"@"),c.push(hr(v).replace(/%25([0-9a-fA-F]{2})/g,"%$1")),v=this.u,v!=null&&c.push(":",String(v))),(v=this.h)&&(this.g&&v.charAt(0)!="/"&&c.push("/"),c.push(Rs(v,v.charAt(0)=="/"?Ps:Xa,!0))),(v=this.i.toString())&&c.push("?",v),(v=this.m)&&c.push("#",Rs(v,Za)),c.join("")},dr.prototype.resolve=function(c){const _=Vn(this);let v=!!c.j;v?Ss(_,c.j):v=!!c.o,v?_.o=c.o:v=!!c.g,v?_.g=c.g:v=c.u!=null;var I=c.h;if(v)fr(_,c.u);else if(v=!!c.h){if(I.charAt(0)!="/")if(this.g&&!this.h)I="/"+I;else{var z=_.h.lastIndexOf("/");z!=-1&&(I=_.h.slice(0,z+1)+I)}if(z=I,z==".."||z==".")I="";else if(z.indexOf("./")!=-1||z.indexOf("/.")!=-1){I=z.lastIndexOf("/",0)==0,z=z.split("/");const q=[];for(let ae=0;ae<z.length;){const Oe=z[ae++];Oe=="."?I&&ae==z.length&&q.push(""):Oe==".."?((q.length>1||q.length==1&&q[0]!="")&&q.pop(),I&&ae==z.length&&q.push("")):(q.push(Oe),I=!0)}I=q.join("/")}else I=z}return v?_.h=I:v=c.i.toString()!=="",v?Ni(_,rl(c.i)):v=!!c.m,v&&(_.m=c.m),_};function Vn(c){return new dr(c)}function Ss(c,_,v){c.j=v?As(_,!0):_,c.j&&(c.j=c.j.replace(/:$/,""))}function fr(c,_){if(_){if(_=Number(_),isNaN(_)||_<0)throw Error("Bad port number "+_);c.u=_}else c.u=null}function Ni(c,_,v){_ instanceof ze?(c.i=_,Ao(c.i,c.l)):(v||(_=Rs(_,Md)),c.i=new ze(_,c.l))}function We(c,_,v){c.i.set(_,v)}function Hr(c){return We(c,"zx",Math.floor(Math.random()*2147483648).toString(36)+Math.abs(Math.floor(Math.random()*2147483648)^Date.now()).toString(36)),c}function As(c,_){return c?_?decodeURI(c.replace(/%25/g,"%2525")):decodeURIComponent(c):""}function Rs(c,_,v){return typeof c=="string"?(c=encodeURI(c).replace(_,Ya),v&&(c=c.replace(/%25([0-9a-fA-F]{2})/g,"%$1")),c):null}function Ya(c){return c=c.charCodeAt(0),"%"+(c>>4&15).toString(16)+(c&15).toString(16)}var Ja=/[#\/\?@]/g,Xa=/[#\?:]/g,Ps=/[#\?]/g,Md=/[#\?@]/g,Za=/#/g;function ze(c,_){this.h=this.g=null,this.i=c||null,this.j=!!_}function pr(c){c.g||(c.g=new Map,c.h=0,c.i&&Tn(c.i,function(_,v){c.add(decodeURIComponent(_.replace(/\+/g," ")),v)}))}n=ze.prototype,n.add=function(c,_){pr(this),this.i=null,c=mr(this,c);let v=this.g.get(c);return v||this.g.set(c,v=[]),v.push(_),this.h+=1,this};function el(c,_){pr(c),_=mr(c,_),c.g.has(_)&&(c.i=null,c.h-=c.g.get(_).length,c.g.delete(_))}function So(c,_){return pr(c),_=mr(c,_),c.g.has(_)}n.forEach=function(c,_){pr(this),this.g.forEach(function(v,I){v.forEach(function(z){c.call(_,z,I,this)},this)},this)};function tl(c,_){pr(c);let v=[];if(typeof _=="string")So(c,_)&&(v=v.concat(c.g.get(mr(c,_))));else for(c=Array.from(c.g.values()),_=0;_<c.length;_++)v=v.concat(c[_]);return v}n.set=function(c,_){return pr(this),this.i=null,c=mr(this,c),So(this,c)&&(this.h-=this.g.get(c).length),this.g.set(c,[_]),this.h+=1,this},n.get=function(c,_){return c?(c=tl(this,c),c.length>0?String(c[0]):_):_};function nl(c,_,v){el(c,_),v.length>0&&(c.i=null,c.g.set(mr(c,_),A(v)),c.h+=v.length)}n.toString=function(){if(this.i)return this.i;if(!this.g)return"";const c=[],_=Array.from(this.g.keys());for(let I=0;I<_.length;I++){var v=_[I];const z=hr(v);v=tl(this,v);for(let q=0;q<v.length;q++){let ae=z;v[q]!==""&&(ae+="="+hr(v[q])),c.push(ae)}}return this.i=c.join("&")};function rl(c){const _=new ze;return _.i=c.i,c.g&&(_.g=new Map(c.g),_.h=c.h),_}function mr(c,_){return _=String(_),c.j&&(_=_.toLowerCase()),_}function Ao(c,_){_&&!c.j&&(pr(c),c.i=null,c.g.forEach(function(v,I){const z=I.toLowerCase();I!=z&&(el(this,I),nl(this,z,v))},c)),c.j=_}function gr(c,_){const v=new ki;if(u.Image){const I=new Image;I.onload=g(Ut,v,"TestLoadImage: loaded",!0,_,I),I.onerror=g(Ut,v,"TestLoadImage: error",!1,_,I),I.onabort=g(Ut,v,"TestLoadImage: abort",!1,_,I),I.ontimeout=g(Ut,v,"TestLoadImage: timeout",!1,_,I),u.setTimeout(function(){I.ontimeout&&I.ontimeout()},1e4),I.src=c}else _(!1)}function yr(c,_){const v=new ki,I=new AbortController,z=setTimeout(()=>{I.abort(),Ut(v,"TestPingServer: timeout",!1,_)},1e4);fetch(c,{signal:I.signal}).then(q=>{clearTimeout(z),q.ok?Ut(v,"TestPingServer: ok",!0,_):Ut(v,"TestPingServer: server error",!1,_)}).catch(()=>{clearTimeout(z),Ut(v,"TestPingServer: error",!1,_)})}function Ut(c,_,v,I,z){try{z&&(z.onload=null,z.onerror=null,z.onabort=null,z.ontimeout=null),I(v)}catch{}}function ks(){this.g=new _s}function qr(c){this.i=c.Sb||null,this.h=c.ab||!1}E(qr,Si),qr.prototype.g=function(){return new In(this.i,this.h)};function In(c,_){It.call(this),this.H=c,this.o=_,this.m=void 0,this.status=this.readyState=0,this.responseType=this.responseText=this.response=this.statusText="",this.onreadystatechange=null,this.A=new Headers,this.h=null,this.F="GET",this.D="",this.g=!1,this.B=this.j=this.l=null,this.v=new AbortController}E(In,It),n=In.prototype,n.open=function(c,_){if(this.readyState!=0)throw this.abort(),Error("Error reopening a connection");this.F=c,this.D=_,this.readyState=1,Yn(this)},n.send=function(c){if(this.readyState!=1)throw this.abort(),Error("need to call open() first. ");if(this.v.signal.aborted)throw this.abort(),Error("Request was aborted.");this.g=!0;const _={headers:this.A,method:this.F,credentials:this.m,cache:void 0,signal:this.v.signal};c&&(_.body=c),(this.H||u).fetch(new Request(this.D,_)).then(this.Pa.bind(this),this.ga.bind(this))},n.abort=function(){this.response=this.responseText="",this.A=new Headers,this.status=0,this.v.abort(),this.j&&this.j.cancel("Request was aborted.").catch(()=>{}),this.readyState>=1&&this.g&&this.readyState!=4&&(this.g=!1,xi(this)),this.readyState=0},n.Pa=function(c){if(this.g&&(this.l=c,this.h||(this.status=this.l.status,this.statusText=this.l.statusText,this.h=c.headers,this.readyState=2,Yn(this)),this.g&&(this.readyState=3,Yn(this),this.g)))if(this.responseType==="arraybuffer")c.arrayBuffer().then(this.Na.bind(this),this.ga.bind(this));else if(typeof u.ReadableStream<"u"&&"body"in c){if(this.j=c.body.getReader(),this.o){if(this.responseType)throw Error('responseType must be empty for "streamBinaryChunks" mode responses.');this.response=[]}else this.response=this.responseText="",this.B=new TextDecoder;ec(this)}else c.text().then(this.Oa.bind(this),this.ga.bind(this))};function ec(c){c.j.read().then(c.Ma.bind(c)).catch(c.ga.bind(c))}n.Ma=function(c){if(this.g){if(this.o&&c.value)this.response.push(c.value);else if(!this.o){var _=c.value?c.value:new Uint8Array(0);(_=this.B.decode(_,{stream:!c.done}))&&(this.response=this.responseText+=_)}c.done?xi(this):Yn(this),this.readyState==3&&ec(this)}},n.Oa=function(c){this.g&&(this.response=this.responseText=c,xi(this))},n.Na=function(c){this.g&&(this.response=c,xi(this))},n.ga=function(){this.g&&xi(this)};function xi(c){c.readyState=4,c.l=null,c.j=null,c.B=null,Yn(c)}n.setRequestHeader=function(c,_){this.A.append(c,_)},n.getResponseHeader=function(c){return this.h&&this.h.get(c.toLowerCase())||""},n.getAllResponseHeaders=function(){if(!this.h)return"";const c=[],_=this.h.entries();for(var v=_.next();!v.done;)v=v.value,c.push(v[0]+": "+v[1]),v=_.next();return c.join(`\r
`)};function Yn(c){c.onreadystatechange&&c.onreadystatechange.call(c)}Object.defineProperty(In.prototype,"withCredentials",{get:function(){return this.m==="include"},set:function(c){this.m=c?"include":"same-origin"}});function tc(c){let _="";return oe(c,function(v,I){_+=I,_+=":",_+=v,_+=`\r
`}),_}function Ro(c,_,v){e:{for(I in v){var I=!1;break e}I=!0}I||(v=tc(v),typeof c=="string"?v!=null&&hr(v):We(c,_,v))}function Je(c){It.call(this),this.headers=new Map,this.L=c||null,this.h=!1,this.g=null,this.D="",this.o=0,this.l="",this.j=this.B=this.v=this.A=!1,this.m=null,this.F="",this.H=!1}E(Je,It);var nc=/^https?$/i,Ud=["POST","PUT"];n=Je.prototype,n.Fa=function(c){this.H=c},n.ea=function(c,_,v,I){if(this.g)throw Error("[goog.net.XhrIo] Object is active with another request="+this.D+"; newUri="+c);_=_?_.toUpperCase():"GET",this.D=c,this.l="",this.o=0,this.A=!1,this.h=!0,this.g=this.L?this.L.g():Gu.g(),this.g.onreadystatechange=w(m(this.Ca,this));try{this.B=!0,this.g.open(_,String(c),!0),this.B=!1}catch(q){Oi(this,q);return}if(c=v||"",v=new Map(this.headers),I)if(Object.getPrototypeOf(I)===Object.prototype)for(var z in I)v.set(z,I[z]);else if(typeof I.keys=="function"&&typeof I.get=="function")for(const q of I.keys())v.set(q,I.get(q));else throw Error("Unknown input type for opt_headers: "+String(I));I=Array.from(v.keys()).find(q=>q.toLowerCase()=="content-type"),z=u.FormData&&c instanceof u.FormData,!(Array.prototype.indexOf.call(Ud,_,void 0)>=0)||I||z||v.set("Content-Type","application/x-www-form-urlencoded;charset=utf-8");for(const[q,ae]of v)this.g.setRequestHeader(q,ae);this.F&&(this.g.responseType=this.F),"withCredentials"in this.g&&this.g.withCredentials!==this.H&&(this.g.withCredentials=this.H);try{this.m&&(clearTimeout(this.m),this.m=null),this.v=!0,this.g.send(c),this.v=!1}catch(q){Oi(this,q)}};function Oi(c,_){c.h=!1,c.g&&(c.j=!0,c.g.abort(),c.j=!1),c.l=_,c.o=5,Di(c),Gr(c)}function Di(c){c.A||(c.A=!0,vt(c,"complete"),vt(c,"error"))}n.abort=function(c){this.g&&this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1,this.o=c||7,vt(this,"complete"),vt(this,"abort"),Gr(this))},n.N=function(){this.g&&(this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1),Gr(this,!0)),Je.Z.N.call(this)},n.Ca=function(){this.u||(this.B||this.v||this.j?Wr(this):this.Xa())},n.Xa=function(){Wr(this)};function Wr(c){if(c.h&&typeof a<"u"){if(c.v&&_r(c)==4)setTimeout(c.Ca.bind(c),0);else if(vt(c,"readystatechange"),_r(c)==4){c.h=!1;try{const q=c.ca();e:switch(q){case 200:case 201:case 202:case 204:case 206:case 304:case 1223:var _=!0;break e;default:_=!1}var v;if(!(v=_)){var I;if(I=q===0){let ae=String(c.D).match(Zu)[1]||null;!ae&&u.self&&u.self.location&&(ae=u.self.location.protocol.slice(0,-1)),I=!nc.test(ae?ae.toLowerCase():"")}v=I}if(v)vt(c,"complete"),vt(c,"success");else{c.o=6;try{var z=_r(c)>2?c.g.statusText:""}catch{z=""}c.l=z+" ["+c.ca()+"]",Di(c)}}finally{Gr(c)}}}}function Gr(c,_){if(c.g){c.m&&(clearTimeout(c.m),c.m=null);const v=c.g;c.g=null,_||vt(c,"ready");try{v.onreadystatechange=null}catch{}}}n.isActive=function(){return!!this.g};function _r(c){return c.g?c.g.readyState:0}n.ca=function(){try{return _r(this)>2?this.g.status:-1}catch{return-1}},n.la=function(){try{return this.g?this.g.responseText:""}catch{return""}},n.La=function(c){if(this.g){var _=this.g.responseText;return c&&_.indexOf(c)==0&&(_=_.substring(c.length)),Bu(_)}};function rc(c){try{if(!c.g)return null;if("response"in c.g)return c.g.response;switch(c.F){case"":case"text":return c.g.responseText;case"arraybuffer":if("mozResponseArrayBuffer"in c.g)return c.g.mozResponseArrayBuffer}return null}catch{return null}}function il(c){const _={};c=(c.g&&_r(c)>=2&&c.g.getAllResponseHeaders()||"").split(`\r
`);for(let I=0;I<c.length;I++){if(P(c[I]))continue;var v=wo(c[I]);const z=v[0];if(v=v[1],typeof v!="string")continue;v=v.trim();const q=_[z]||[];_[z]=q,q.push(v)}Y(_,function(I){return I.join(", ")})}n.ya=function(){return this.o},n.Ha=function(){return typeof this.l=="string"?this.l:String(this.l)};function vr(c,_,v){return v&&v.internalChannelParams&&v.internalChannelParams[c]||_}function Po(c){this.za=0,this.i=[],this.j=new ki,this.ba=this.na=this.J=this.W=this.g=this.wa=this.G=this.H=this.u=this.U=this.o=null,this.Ya=this.V=0,this.Sa=vr("failFast",!1,c),this.F=this.C=this.v=this.m=this.l=null,this.X=!0,this.xa=this.K=-1,this.Y=this.A=this.D=0,this.Qa=vr("baseRetryDelayMs",5e3,c),this.Za=vr("retryDelaySeedMs",1e4,c),this.Ta=vr("forwardChannelMaxRetries",2,c),this.va=vr("forwardChannelRequestTimeoutMs",2e4,c),this.ma=c&&c.xmlHttpFactory||void 0,this.Ua=c&&c.Rb||void 0,this.Aa=c&&c.useFetchStreams||!1,this.O=void 0,this.L=c&&c.supportsCrossDomainXhr||!1,this.M="",this.h=new To(c&&c.concurrentRequestLimit),this.Ba=new ks,this.S=c&&c.fastHandshake||!1,this.R=c&&c.encodeInitMessageHeaders||!1,this.S&&this.R&&(this.R=!1),this.Ra=c&&c.Pb||!1,c&&c.ua&&this.j.ua(),c&&c.forceLongPolling&&(this.X=!1),this.aa=!this.S&&this.X&&c&&c.detectBufferingProxy||!1,this.ia=void 0,c&&c.longPollingTimeout&&c.longPollingTimeout>0&&(this.ia=c.longPollingTimeout),this.ta=void 0,this.T=0,this.P=!1,this.ja=this.B=null}n=Po.prototype,n.ka=8,n.I=1,n.connect=function(c,_,v,I){dt(0),this.W=c,this.H=_||{},v&&I!==void 0&&(this.H.OSID=v,this.H.OAID=I),this.F=this.X,this.J=ol(this,null,this.W),Kr(this)};function ko(c){if(Co(c),c.I==3){var _=c.V++,v=Vn(c.J);if(We(v,"SID",c.M),We(v,"RID",_),We(v,"TYPE","terminate"),wr(c,v),_=new Ln(c,c.j,_),_.M=2,_.A=Hr(Vn(v)),v=!1,u.navigator&&u.navigator.sendBeacon)try{v=u.navigator.sendBeacon(_.A.toString(),"")}catch{}!v&&u.Image&&(new Image().src=_.A,v=!0),v||(_.g=sc(_.j,null),_.g.ea(_.A)),_.F=Date.now(),ws(_)}Ns(c)}function Sn(c){c.g&&(bs(c),c.g.cancel(),c.g=null)}function Co(c){Sn(c),c.v&&(u.clearTimeout(c.v),c.v=null),bo(c),c.h.cancel(),c.m&&(typeof c.m=="number"&&u.clearTimeout(c.m),c.m=null)}function Kr(c){if(!Ka(c.h)&&!c.m){c.m=!0;var _=c.Ea;ce||S(),de||(ce(),de=!0),k.add(_,c),c.D=0}}function ic(c,_){return Ts(c.h)>=c.h.j-(c.m?1:0)?!1:c.m?(c.i=_.G.concat(c.i),!0):c.I==1||c.I==2||c.D>=(c.Sa?0:c.Ta)?!1:(c.m=Pi(m(c.Ea,c,_),xo(c,c.D)),c.D++,!0)}n.Ea=function(c){if(this.m)if(this.m=null,this.I==1){if(!c){this.V=Math.floor(Math.random()*1e5),c=this.V++;const z=new Ln(this,this.j,c);let q=this.o;if(this.U&&(q?(q=U(q),Ie(q,this.U)):q=this.U),this.u!==null||this.R||(z.J=q,q=null),this.S)e:{for(var _=0,v=0;v<this.i.length;v++){t:{var I=this.i[v];if("__data__"in I.map&&(I=I.map.__data__,typeof I=="string")){I=I.length;break t}I=void 0}if(I===void 0)break;if(_+=I,_>4096){_=v;break e}if(_===4096||v===this.i.length-1){_=v+1;break e}}_=1e3}else _=1e3;_=sl(this,z,_),v=Vn(this.J),We(v,"RID",c),We(v,"CVER",22),this.G&&We(v,"X-HTTP-Session-Id",this.G),wr(this,v),q&&(this.R?_="headers="+hr(tc(q))+"&"+_:this.u&&Ro(v,this.u,q)),Io(this.h,z),this.Ra&&We(v,"TYPE","init"),this.S?(We(v,"$req",_),We(v,"SID","null"),z.U=!0,Qn(z,v,null)):Qn(z,v,_),this.I=2}}else this.I==3&&(c?Cs(this,c):this.i.length==0||Ka(this.h)||Cs(this))};function Cs(c,_){var v;_?v=_.l:v=c.V++;const I=Vn(c.J);We(I,"SID",c.M),We(I,"RID",v),We(I,"AID",c.K),wr(c,I),c.u&&c.o&&Ro(I,c.u,c.o),v=new Ln(c,c.j,v,c.D+1),c.u===null&&(v.J=c.o),_&&(c.i=_.G.concat(c.i)),_=sl(c,v,1e3),v.H=Math.round(c.va*.5)+Math.round(c.va*.5*Math.random()),Io(c.h,v),Qn(v,I,_)}function wr(c,_){c.H&&oe(c.H,function(v,I){We(_,I,v)}),c.l&&oe({},function(v,I){We(_,I,v)})}function sl(c,_,v){v=Math.min(c.i.length,v);const I=c.l?m(c.l.Ka,c.l,c):null;e:{var z=c.i;let Oe=-1;for(;;){const wt=["count="+v];Oe==-1?v>0?(Oe=z[0].g,wt.push("ofs="+Oe)):Oe=0:wt.push("ofs="+Oe);let Qe=!0;for(let St=0;St<v;St++){var q=z[St].g;const Rn=z[St].map;if(q-=Oe,q<0)Oe=Math.max(0,z[St].g-100),Qe=!1;else try{q="req"+q+"_"||"";try{var ae=Rn instanceof Map?Rn:Object.entries(Rn);for(const[Qr,Tr]of ae){let Ir=Tr;d(Tr)&&(Ir=Ii(Tr)),wt.push(q+Qr+"="+encodeURIComponent(Ir))}}catch(Qr){throw wt.push(q+"type="+encodeURIComponent("_badmap")),Qr}}catch{I&&I(Rn)}}if(Qe){ae=wt.join("&");break e}}ae=void 0}return c=c.i.splice(0,v),_.G=c,ae}function qt(c){if(!c.g&&!c.v){c.Y=1;var _=c.Da;ce||S(),de||(ce(),de=!0),k.add(_,c),c.A=0}}function Er(c){return c.g||c.v||c.A>=3?!1:(c.Y++,c.v=Pi(m(c.Da,c),xo(c,c.A)),c.A++,!0)}n.Da=function(){if(this.v=null,Li(this),this.aa&&!(this.P||this.g==null||this.T<=0)){var c=4*this.T;this.j.info("BP detection timer enabled: "+c),this.B=Pi(m(this.Wa,this),c)}},n.Wa=function(){this.B&&(this.B=null,this.j.info("BP detection timeout reached."),this.j.info("Buffering proxy detected and switch to long-polling!"),this.F=!1,this.P=!0,dt(10),Sn(this),Li(this))};function bs(c){c.B!=null&&(u.clearTimeout(c.B),c.B=null)}function Li(c){c.g=new Ln(c,c.j,"rpc",c.Y),c.u===null&&(c.g.J=c.o),c.g.P=0;var _=Vn(c.na);We(_,"RID","rpc"),We(_,"SID",c.M),We(_,"AID",c.K),We(_,"CI",c.F?"0":"1"),!c.F&&c.ia&&We(_,"TO",c.ia),We(_,"TYPE","xmlhttp"),wr(c,_),c.u&&c.o&&Ro(_,c.u,c.o),c.O&&(c.g.H=c.O);var v=c.g;c=c.ba,v.M=1,v.A=Hr(Vn(_)),v.u=null,v.R=!0,Wa(v,c)}n.Va=function(){this.C!=null&&(this.C=null,Sn(this),Er(this),dt(19))};function bo(c){c.C!=null&&(u.clearTimeout(c.C),c.C=null)}function No(c,_){var v=null;if(c.g==_){bo(c),bs(c),c.g=null;var I=2}else if(Qa(c.h,_))v=_.G,Is(c.h,_),I=1;else return;if(c.I!=0){if(_.o)if(I==1){v=_.u?_.u.length:0,_=Date.now()-_.F;var z=c.D;I=Ri(),vt(I,new Ha(I,v)),Kr(c)}else qt(c);else if(z=_.m,z==3||z==0&&_.X>0||!(I==1&&ic(c,_)||I==2&&Er(c)))switch(v&&v.length>0&&(_=c.h,_.i=_.i.concat(v)),z){case 1:An(c,5);break;case 4:An(c,10);break;case 3:An(c,6);break;default:An(c,2)}}}function xo(c,_){let v=c.Qa+Math.floor(Math.random()*c.Za);return c.isActive()||(v*=2),v*_}function An(c,_){if(c.j.info("Error code "+_),_==2){var v=m(c.bb,c),I=c.Ua;const z=!I;I=new dr(I||"//www.google.com/images/cleardot.gif"),u.location&&u.location.protocol=="http"||Ss(I,"https"),Hr(I),z?gr(I.toString(),v):yr(I.toString(),v)}else dt(2);c.I=0,c.l&&c.l.pa(_),Ns(c),Co(c)}n.bb=function(c){c?(this.j.info("Successfully pinged google.com"),dt(2)):(this.j.info("Failed to ping google.com"),dt(1))};function Ns(c){if(c.I=0,c.ja=[],c.l){const _=En(c.h);(_.length!=0||c.i.length!=0)&&(O(c.ja,_),O(c.ja,c.i),c.h.i.length=0,A(c.i),c.i.length=0),c.l.oa()}}function ol(c,_,v){var I=v instanceof dr?Vn(v):new dr(v);if(I.g!="")_&&(I.g=_+"."+I.g),fr(I,I.u);else{var z=u.location;I=z.protocol,_=_?_+"."+z.hostname:z.hostname,z=+z.port;const q=new dr(null);I&&Ss(q,I),_&&(q.g=_),z&&fr(q,z),v&&(q.h=v),I=q}return v=c.G,_=c.wa,v&&_&&We(I,v,_),We(I,"VER",c.ka),wr(c,I),I}function sc(c,_,v){if(_&&!c.L)throw Error("Can't create secondary domain capable XhrIo object.");return _=c.Aa&&!c.ma?new Je(new qr({ab:v})):new Je(c.ma),_.Fa(c.L),_}n.isActive=function(){return!!this.l&&this.l.isActive(this)};function oc(){}n=oc.prototype,n.ra=function(){},n.qa=function(){},n.pa=function(){},n.oa=function(){},n.isActive=function(){return!0},n.Ka=function(){};function Oo(){}Oo.prototype.g=function(c,_){return new Ft(c,_)};function Ft(c,_){It.call(this),this.g=new Po(_),this.l=c,this.h=_&&_.messageUrlParams||null,c=_&&_.messageHeaders||null,_&&_.clientProtocolHeaderRequired&&(c?c["X-Client-Protocol"]="webchannel":c={"X-Client-Protocol":"webchannel"}),this.g.o=c,c=_&&_.initMessageHeaders||null,_&&_.messageContentType&&(c?c["X-WebChannel-Content-Type"]=_.messageContentType:c={"X-WebChannel-Content-Type":_.messageContentType}),_&&_.sa&&(c?c["X-WebChannel-Client-Profile"]=_.sa:c={"X-WebChannel-Client-Profile":_.sa}),this.g.U=c,(c=_&&_.Qb)&&!P(c)&&(this.g.u=c),this.A=_&&_.supportsCrossDomainXhr||!1,this.v=_&&_.sendRawJson||!1,(_=_&&_.httpSessionIdParam)&&!P(_)&&(this.g.G=_,c=this.h,c!==null&&_ in c&&(c=this.h,_ in c&&delete c[_])),this.j=new Vi(this)}E(Ft,It),Ft.prototype.m=function(){this.g.l=this.j,this.A&&(this.g.L=!0),this.g.connect(this.l,this.h||void 0)},Ft.prototype.close=function(){ko(this.g)},Ft.prototype.o=function(c){var _=this.g;if(typeof c=="string"){var v={};v.__data__=c,c=v}else this.v&&(v={},v.__data__=Ii(c),c=v);_.i.push(new Vd(_.Ya++,c)),_.I==3&&Kr(_)},Ft.prototype.N=function(){this.g.l=null,delete this.j,ko(this.g),delete this.g,Ft.Z.N.call(this)};function ac(c){yo.call(this),c.__headers__&&(this.headers=c.__headers__,this.statusCode=c.__status__,delete c.__headers__,delete c.__status__);var _=c.__sm__;if(_){e:{for(const v in _){c=v;break e}c=void 0}(this.i=c)&&(c=this.i,_=_!==null&&c in _?_[c]:void 0),this.data=_}else this.data=c}E(ac,yo);function lc(){$a.call(this),this.status=1}E(lc,$a);function Vi(c){this.g=c}E(Vi,oc),Vi.prototype.ra=function(){vt(this.g,"a")},Vi.prototype.qa=function(c){vt(this.g,new ac(c))},Vi.prototype.pa=function(c){vt(this.g,new lc)},Vi.prototype.oa=function(){vt(this.g,"b")},Oo.prototype.createWebChannel=Oo.prototype.g,Ft.prototype.send=Ft.prototype.o,Ft.prototype.open=Ft.prototype.m,Ft.prototype.close=Ft.prototype.close,NI=function(){return new Oo},bI=function(){return Ri()},CI=Kn,nm={jb:0,mb:1,nb:2,Hb:3,Mb:4,Jb:5,Kb:6,Ib:7,Gb:8,Lb:9,PROXY:10,NOPROXY:11,Eb:12,Ab:13,Bb:14,zb:15,Cb:16,Db:17,fb:18,eb:19,gb:20},Ci.NO_ERROR=0,Ci.TIMEOUT=8,Ci.HTTP_ERROR=6,Eh=Ci,bi.COMPLETE="complete",kI=bi,$u.EventType=Ai,Ai.OPEN="a",Ai.CLOSE="b",Ai.ERROR="c",Ai.MESSAGE="d",It.prototype.listen=It.prototype.J,Hl=$u,Je.prototype.listenOnce=Je.prototype.K,Je.prototype.getLastError=Je.prototype.Ha,Je.prototype.getLastErrorCode=Je.prototype.ya,Je.prototype.getStatus=Je.prototype.ca,Je.prototype.getResponseJson=Je.prototype.La,Je.prototype.getResponseText=Je.prototype.la,Je.prototype.send=Je.prototype.ea,Je.prototype.setWithCredentials=Je.prototype.Fa,PI=Je}).apply(typeof sh<"u"?sh:typeof self<"u"?self:typeof window<"u"?window:{});class Jt{constructor(e){this.uid=e}isAuthenticated(){return this.uid!=null}toKey(){return this.isAuthenticated()?"uid:"+this.uid:"anonymous-user"}isEqual(e){return e.uid===this.uid}}Jt.UNAUTHENTICATED=new Jt(null),Jt.GOOGLE_CREDENTIALS=new Jt("google-credentials-uid"),Jt.FIRST_PARTY=new Jt("first-party-uid"),Jt.MOCK_USER=new Jt("mock-user");let ba="12.8.0";function Bb(n){ba=n}const Zs=new od("@firebase/firestore");function ia(){return Zs.logLevel}function ge(n,...e){if(Zs.logLevel<=Ue.DEBUG){const t=e.map(Xm);Zs.debug(`Firestore (${ba}): ${n}`,...t)}}function pi(n,...e){if(Zs.logLevel<=Ue.ERROR){const t=e.map(Xm);Zs.error(`Firestore (${ba}): ${n}`,...t)}}function ya(n,...e){if(Zs.logLevel<=Ue.WARN){const t=e.map(Xm);Zs.warn(`Firestore (${ba}): ${n}`,...t)}}function Xm(n){if(typeof n=="string")return n;try{return(function(t){return JSON.stringify(t)})(n)}catch{return n}}function Pe(n,e,t){let r="Unexpected state";typeof e=="string"?r=e:t=e,xI(n,r,t)}function xI(n,e,t){let r=`FIRESTORE (${ba}) INTERNAL ASSERTION FAILED: ${e} (ID: ${n.toString(16)})`;if(t!==void 0)try{r+=" CONTEXT: "+JSON.stringify(t)}catch{r+=" CONTEXT: "+t}throw pi(r),new Error(r)}function Ke(n,e,t,r){let s="Unexpected state";typeof t=="string"?s=t:r=t,n||xI(e,s,r)}function De(n,e){return n}const G={OK:"ok",CANCELLED:"cancelled",UNKNOWN:"unknown",INVALID_ARGUMENT:"invalid-argument",DEADLINE_EXCEEDED:"deadline-exceeded",NOT_FOUND:"not-found",ALREADY_EXISTS:"already-exists",PERMISSION_DENIED:"permission-denied",UNAUTHENTICATED:"unauthenticated",RESOURCE_EXHAUSTED:"resource-exhausted",FAILED_PRECONDITION:"failed-precondition",ABORTED:"aborted",OUT_OF_RANGE:"out-of-range",UNIMPLEMENTED:"unimplemented",INTERNAL:"internal",UNAVAILABLE:"unavailable",DATA_LOSS:"data-loss"};class ue extends Dn{constructor(e,t){super(e,t),this.code=e,this.message=t,this.toString=()=>`${this.name}: [code=${this.code}]: ${this.message}`}}class li{constructor(){this.promise=new Promise(((e,t)=>{this.resolve=e,this.reject=t}))}}class OI{constructor(e,t){this.user=t,this.type="OAuth",this.headers=new Map,this.headers.set("Authorization",`Bearer ${e}`)}}class $b{getToken(){return Promise.resolve(null)}invalidateToken(){}start(e,t){e.enqueueRetryable((()=>t(Jt.UNAUTHENTICATED)))}shutdown(){}}class Hb{constructor(e){this.token=e,this.changeListener=null}getToken(){return Promise.resolve(this.token)}invalidateToken(){}start(e,t){this.changeListener=t,e.enqueueRetryable((()=>t(this.token.user)))}shutdown(){this.changeListener=null}}class qb{constructor(e){this.t=e,this.currentUser=Jt.UNAUTHENTICATED,this.i=0,this.forceRefresh=!1,this.auth=null}start(e,t){Ke(this.o===void 0,42304);let r=this.i;const s=f=>this.i!==r?(r=this.i,t(f)):Promise.resolve();let a=new li;this.o=()=>{this.i++,this.currentUser=this.u(),a.resolve(),a=new li,e.enqueueRetryable((()=>s(this.currentUser)))};const u=()=>{const f=a;e.enqueueRetryable((async()=>{await f.promise,await s(this.currentUser)}))},d=f=>{ge("FirebaseAuthCredentialsProvider","Auth detected"),this.auth=f,this.o&&(this.auth.addAuthTokenListener(this.o),u())};this.t.onInit((f=>d(f))),setTimeout((()=>{if(!this.auth){const f=this.t.getImmediate({optional:!0});f?d(f):(ge("FirebaseAuthCredentialsProvider","Auth not yet detected"),a.resolve(),a=new li)}}),0),u()}getToken(){const e=this.i,t=this.forceRefresh;return this.forceRefresh=!1,this.auth?this.auth.getToken(t).then((r=>this.i!==e?(ge("FirebaseAuthCredentialsProvider","getToken aborted due to token change."),this.getToken()):r?(Ke(typeof r.accessToken=="string",31837,{l:r}),new OI(r.accessToken,this.currentUser)):null)):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.auth&&this.o&&this.auth.removeAuthTokenListener(this.o),this.o=void 0}u(){const e=this.auth&&this.auth.getUid();return Ke(e===null||typeof e=="string",2055,{h:e}),new Jt(e)}}class Wb{constructor(e,t,r){this.P=e,this.T=t,this.I=r,this.type="FirstParty",this.user=Jt.FIRST_PARTY,this.R=new Map}A(){return this.I?this.I():null}get headers(){this.R.set("X-Goog-AuthUser",this.P);const e=this.A();return e&&this.R.set("Authorization",e),this.T&&this.R.set("X-Goog-Iam-Authorization-Token",this.T),this.R}}class Gb{constructor(e,t,r){this.P=e,this.T=t,this.I=r}getToken(){return Promise.resolve(new Wb(this.P,this.T,this.I))}start(e,t){e.enqueueRetryable((()=>t(Jt.FIRST_PARTY)))}shutdown(){}invalidateToken(){}}class sw{constructor(e){this.value=e,this.type="AppCheck",this.headers=new Map,e&&e.length>0&&this.headers.set("x-firebase-appcheck",this.value)}}class Kb{constructor(e,t){this.V=t,this.forceRefresh=!1,this.appCheck=null,this.m=null,this.p=null,st(e)&&e.settings.appCheckToken&&(this.p=e.settings.appCheckToken)}start(e,t){Ke(this.o===void 0,3512);const r=a=>{a.error!=null&&ge("FirebaseAppCheckTokenProvider",`Error getting App Check token; using placeholder token instead. Error: ${a.error.message}`);const u=a.token!==this.m;return this.m=a.token,ge("FirebaseAppCheckTokenProvider",`Received ${u?"new":"existing"} token.`),u?t(a.token):Promise.resolve()};this.o=a=>{e.enqueueRetryable((()=>r(a)))};const s=a=>{ge("FirebaseAppCheckTokenProvider","AppCheck detected"),this.appCheck=a,this.o&&this.appCheck.addTokenListener(this.o)};this.V.onInit((a=>s(a))),setTimeout((()=>{if(!this.appCheck){const a=this.V.getImmediate({optional:!0});a?s(a):ge("FirebaseAppCheckTokenProvider","AppCheck not yet detected")}}),0)}getToken(){if(this.p)return Promise.resolve(new sw(this.p));const e=this.forceRefresh;return this.forceRefresh=!1,this.appCheck?this.appCheck.getToken(e).then((t=>t?(Ke(typeof t.token=="string",44558,{tokenResult:t}),this.m=t.token,new sw(t.token)):null)):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.appCheck&&this.o&&this.appCheck.removeTokenListener(this.o),this.o=void 0}}function Qb(n){const e=typeof self<"u"&&(self.crypto||self.msCrypto),t=new Uint8Array(n);if(e&&typeof e.getRandomValues=="function")e.getRandomValues(t);else for(let r=0;r<n;r++)t[r]=Math.floor(256*Math.random());return t}class Zm{static newId(){const e="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",t=62*Math.floor(4.129032258064516);let r="";for(;r.length<20;){const s=Qb(40);for(let a=0;a<s.length;++a)r.length<20&&s[a]<t&&(r+=e.charAt(s[a]%62))}return r}}function Fe(n,e){return n<e?-1:n>e?1:0}function rm(n,e){const t=Math.min(n.length,e.length);for(let r=0;r<t;r++){const s=n.charAt(r),a=e.charAt(r);if(s!==a)return Cp(s)===Cp(a)?Fe(s,a):Cp(s)?1:-1}return Fe(n.length,e.length)}const Yb=55296,Jb=57343;function Cp(n){const e=n.charCodeAt(0);return e>=Yb&&e<=Jb}function _a(n,e,t){return n.length===e.length&&n.every(((r,s)=>t(r,e[s])))}const ow="__name__";class Cr{constructor(e,t,r){t===void 0?t=0:t>e.length&&Pe(637,{offset:t,range:e.length}),r===void 0?r=e.length-t:r>e.length-t&&Pe(1746,{length:r,range:e.length-t}),this.segments=e,this.offset=t,this.len=r}get length(){return this.len}isEqual(e){return Cr.comparator(this,e)===0}child(e){const t=this.segments.slice(this.offset,this.limit());return e instanceof Cr?e.forEach((r=>{t.push(r)})):t.push(e),this.construct(t)}limit(){return this.offset+this.length}popFirst(e){return e=e===void 0?1:e,this.construct(this.segments,this.offset+e,this.length-e)}popLast(){return this.construct(this.segments,this.offset,this.length-1)}firstSegment(){return this.segments[this.offset]}lastSegment(){return this.get(this.length-1)}get(e){return this.segments[this.offset+e]}isEmpty(){return this.length===0}isPrefixOf(e){if(e.length<this.length)return!1;for(let t=0;t<this.length;t++)if(this.get(t)!==e.get(t))return!1;return!0}isImmediateParentOf(e){if(this.length+1!==e.length)return!1;for(let t=0;t<this.length;t++)if(this.get(t)!==e.get(t))return!1;return!0}forEach(e){for(let t=this.offset,r=this.limit();t<r;t++)e(this.segments[t])}toArray(){return this.segments.slice(this.offset,this.limit())}static comparator(e,t){const r=Math.min(e.length,t.length);for(let s=0;s<r;s++){const a=Cr.compareSegments(e.get(s),t.get(s));if(a!==0)return a}return Fe(e.length,t.length)}static compareSegments(e,t){const r=Cr.isNumericId(e),s=Cr.isNumericId(t);return r&&!s?-1:!r&&s?1:r&&s?Cr.extractNumericId(e).compare(Cr.extractNumericId(t)):rm(e,t)}static isNumericId(e){return e.startsWith("__id")&&e.endsWith("__")}static extractNumericId(e){return os.fromString(e.substring(4,e.length-2))}}class et extends Cr{construct(e,t,r){return new et(e,t,r)}canonicalString(){return this.toArray().join("/")}toString(){return this.canonicalString()}toUriEncodedString(){return this.toArray().map(encodeURIComponent).join("/")}static fromString(...e){const t=[];for(const r of e){if(r.indexOf("//")>=0)throw new ue(G.INVALID_ARGUMENT,`Invalid segment (${r}). Paths must not contain // in them.`);t.push(...r.split("/").filter((s=>s.length>0)))}return new et(t)}static emptyPath(){return new et([])}}const Xb=/^[_a-zA-Z][_a-zA-Z0-9]*$/;class $t extends Cr{construct(e,t,r){return new $t(e,t,r)}static isValidIdentifier(e){return Xb.test(e)}canonicalString(){return this.toArray().map((e=>(e=e.replace(/\\/g,"\\\\").replace(/`/g,"\\`"),$t.isValidIdentifier(e)||(e="`"+e+"`"),e))).join(".")}toString(){return this.canonicalString()}isKeyField(){return this.length===1&&this.get(0)===ow}static keyField(){return new $t([ow])}static fromServerFormat(e){const t=[];let r="",s=0;const a=()=>{if(r.length===0)throw new ue(G.INVALID_ARGUMENT,`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`);t.push(r),r=""};let u=!1;for(;s<e.length;){const d=e[s];if(d==="\\"){if(s+1===e.length)throw new ue(G.INVALID_ARGUMENT,"Path has trailing escape character: "+e);const f=e[s+1];if(f!=="\\"&&f!=="."&&f!=="`")throw new ue(G.INVALID_ARGUMENT,"Path has invalid escape sequence: "+e);r+=f,s+=2}else d==="`"?(u=!u,s++):d!=="."||u?(r+=d,s++):(a(),s++)}if(a(),u)throw new ue(G.INVALID_ARGUMENT,"Unterminated ` in path: "+e);return new $t(t)}static emptyPath(){return new $t([])}}class Se{constructor(e){this.path=e}static fromPath(e){return new Se(et.fromString(e))}static fromName(e){return new Se(et.fromString(e).popFirst(5))}static empty(){return new Se(et.emptyPath())}get collectionGroup(){return this.path.popLast().lastSegment()}hasCollectionId(e){return this.path.length>=2&&this.path.get(this.path.length-2)===e}getCollectionGroup(){return this.path.get(this.path.length-2)}getCollectionPath(){return this.path.popLast()}isEqual(e){return e!==null&&et.comparator(this.path,e.path)===0}toString(){return this.path.toString()}static comparator(e,t){return et.comparator(e.path,t.path)}static isDocumentKey(e){return e.length%2==0}static fromSegments(e){return new Se(new et(e.slice()))}}function DI(n,e,t){if(!t)throw new ue(G.INVALID_ARGUMENT,`Function ${n}() cannot be called with an empty ${e}.`)}function Zb(n,e,t,r){if(e===!0&&r===!0)throw new ue(G.INVALID_ARGUMENT,`${n} and ${t} cannot be used together.`)}function aw(n){if(!Se.isDocumentKey(n))throw new ue(G.INVALID_ARGUMENT,`Invalid document reference. Document references must have an even number of segments, but ${n} has ${n.length}.`)}function lw(n){if(Se.isDocumentKey(n))throw new ue(G.INVALID_ARGUMENT,`Invalid collection reference. Collection references must have an odd number of segments, but ${n} has ${n.length}.`)}function LI(n){return typeof n=="object"&&n!==null&&(Object.getPrototypeOf(n)===Object.prototype||Object.getPrototypeOf(n)===null)}function md(n){if(n===void 0)return"undefined";if(n===null)return"null";if(typeof n=="string")return n.length>20&&(n=`${n.substring(0,20)}...`),JSON.stringify(n);if(typeof n=="number"||typeof n=="boolean")return""+n;if(typeof n=="object"){if(n instanceof Array)return"an array";{const e=(function(r){return r.constructor?r.constructor.name:null})(n);return e?`a custom ${e} object`:"an object"}}return typeof n=="function"?"a function":Pe(12329,{type:typeof n})}function ln(n,e){if("_delegate"in n&&(n=n._delegate),!(n instanceof e)){if(e.name===n.constructor.name)throw new ue(G.INVALID_ARGUMENT,"Type does not match the expected instance. Did you pass a reference from a different Firestore SDK?");{const t=md(n);throw new ue(G.INVALID_ARGUMENT,`Expected type '${e.name}', but it was: ${t}`)}}return n}function eN(n,e){if(e<=0)throw new ue(G.INVALID_ARGUMENT,`Function ${n}() requires a positive number, but it was: ${e}.`)}function Ct(n,e){const t={typeString:n};return e&&(t.value=e),t}function bu(n,e){if(!LI(n))throw new ue(G.INVALID_ARGUMENT,"JSON must be an object");let t;for(const r in e)if(e[r]){const s=e[r].typeString,a="value"in e[r]?{value:e[r].value}:void 0;if(!(r in n)){t=`JSON missing required field: '${r}'`;break}const u=n[r];if(s&&typeof u!==s){t=`JSON field '${r}' must be a ${s}.`;break}if(a!==void 0&&u!==a.value){t=`Expected '${r}' field to equal '${a.value}'`;break}}if(t)throw new ue(G.INVALID_ARGUMENT,t);return!0}const uw=-62135596800,cw=1e6;class it{static now(){return it.fromMillis(Date.now())}static fromDate(e){return it.fromMillis(e.getTime())}static fromMillis(e){const t=Math.floor(e/1e3),r=Math.floor((e-1e3*t)*cw);return new it(t,r)}constructor(e,t){if(this.seconds=e,this.nanoseconds=t,t<0)throw new ue(G.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+t);if(t>=1e9)throw new ue(G.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+t);if(e<uw)throw new ue(G.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e);if(e>=253402300800)throw new ue(G.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e)}toDate(){return new Date(this.toMillis())}toMillis(){return 1e3*this.seconds+this.nanoseconds/cw}_compareTo(e){return this.seconds===e.seconds?Fe(this.nanoseconds,e.nanoseconds):Fe(this.seconds,e.seconds)}isEqual(e){return e.seconds===this.seconds&&e.nanoseconds===this.nanoseconds}toString(){return"Timestamp(seconds="+this.seconds+", nanoseconds="+this.nanoseconds+")"}toJSON(){return{type:it._jsonSchemaVersion,seconds:this.seconds,nanoseconds:this.nanoseconds}}static fromJSON(e){if(bu(e,it._jsonSchema))return new it(e.seconds,e.nanoseconds)}valueOf(){const e=this.seconds-uw;return String(e).padStart(12,"0")+"."+String(this.nanoseconds).padStart(9,"0")}}it._jsonSchemaVersion="firestore/timestamp/1.0",it._jsonSchema={type:Ct("string",it._jsonSchemaVersion),seconds:Ct("number"),nanoseconds:Ct("number")};class Ne{static fromTimestamp(e){return new Ne(e)}static min(){return new Ne(new it(0,0))}static max(){return new Ne(new it(253402300799,999999999))}constructor(e){this.timestamp=e}compareTo(e){return this.timestamp._compareTo(e.timestamp)}isEqual(e){return this.timestamp.isEqual(e.timestamp)}toMicroseconds(){return 1e6*this.timestamp.seconds+this.timestamp.nanoseconds/1e3}toString(){return"SnapshotVersion("+this.timestamp.toString()+")"}toTimestamp(){return this.timestamp}}const du=-1;function tN(n,e){const t=n.toTimestamp().seconds,r=n.toTimestamp().nanoseconds+1,s=Ne.fromTimestamp(r===1e9?new it(t+1,0):new it(t,r));return new ls(s,Se.empty(),e)}function nN(n){return new ls(n.readTime,n.key,du)}class ls{constructor(e,t,r){this.readTime=e,this.documentKey=t,this.largestBatchId=r}static min(){return new ls(Ne.min(),Se.empty(),du)}static max(){return new ls(Ne.max(),Se.empty(),du)}}function rN(n,e){let t=n.readTime.compareTo(e.readTime);return t!==0?t:(t=Se.comparator(n.documentKey,e.documentKey),t!==0?t:Fe(n.largestBatchId,e.largestBatchId))}const iN="The current tab is not in the required state to perform this operation. It might be necessary to refresh the browser tab.";class sN{constructor(){this.onCommittedListeners=[]}addOnCommittedListener(e){this.onCommittedListeners.push(e)}raiseOnCommittedEvent(){this.onCommittedListeners.forEach((e=>e()))}}async function Na(n){if(n.code!==G.FAILED_PRECONDITION||n.message!==iN)throw n;ge("LocalStore","Unexpectedly lost primary lease")}class K{constructor(e){this.nextCallback=null,this.catchCallback=null,this.result=void 0,this.error=void 0,this.isDone=!1,this.callbackAttached=!1,e((t=>{this.isDone=!0,this.result=t,this.nextCallback&&this.nextCallback(t)}),(t=>{this.isDone=!0,this.error=t,this.catchCallback&&this.catchCallback(t)}))}catch(e){return this.next(void 0,e)}next(e,t){return this.callbackAttached&&Pe(59440),this.callbackAttached=!0,this.isDone?this.error?this.wrapFailure(t,this.error):this.wrapSuccess(e,this.result):new K(((r,s)=>{this.nextCallback=a=>{this.wrapSuccess(e,a).next(r,s)},this.catchCallback=a=>{this.wrapFailure(t,a).next(r,s)}}))}toPromise(){return new Promise(((e,t)=>{this.next(e,t)}))}wrapUserFunction(e){try{const t=e();return t instanceof K?t:K.resolve(t)}catch(t){return K.reject(t)}}wrapSuccess(e,t){return e?this.wrapUserFunction((()=>e(t))):K.resolve(t)}wrapFailure(e,t){return e?this.wrapUserFunction((()=>e(t))):K.reject(t)}static resolve(e){return new K(((t,r)=>{t(e)}))}static reject(e){return new K(((t,r)=>{r(e)}))}static waitFor(e){return new K(((t,r)=>{let s=0,a=0,u=!1;e.forEach((d=>{++s,d.next((()=>{++a,u&&a===s&&t()}),(f=>r(f)))})),u=!0,a===s&&t()}))}static or(e){let t=K.resolve(!1);for(const r of e)t=t.next((s=>s?K.resolve(s):r()));return t}static forEach(e,t){const r=[];return e.forEach(((s,a)=>{r.push(t.call(this,s,a))})),this.waitFor(r)}static mapArray(e,t){return new K(((r,s)=>{const a=e.length,u=new Array(a);let d=0;for(let f=0;f<a;f++){const m=f;t(e[m]).next((g=>{u[m]=g,++d,d===a&&r(u)}),(g=>s(g)))}}))}static doWhile(e,t){return new K(((r,s)=>{const a=()=>{e()===!0?t().next((()=>{a()}),s):r()};a()}))}}function oN(n){const e=n.match(/Android ([\d.]+)/i),t=e?e[1].split(".").slice(0,2).join("."):"-1";return Number(t)}function xa(n){return n.name==="IndexedDbTransactionError"}class gd{constructor(e,t){this.previousValue=e,t&&(t.sequenceNumberHandler=r=>this.ae(r),this.ue=r=>t.writeSequenceNumber(r))}ae(e){return this.previousValue=Math.max(e,this.previousValue),this.previousValue}next(){const e=++this.previousValue;return this.ue&&this.ue(e),e}}gd.ce=-1;const eg=-1;function yd(n){return n==null}function Dh(n){return n===0&&1/n==-1/0}function aN(n){return typeof n=="number"&&Number.isInteger(n)&&!Dh(n)&&n<=Number.MAX_SAFE_INTEGER&&n>=Number.MIN_SAFE_INTEGER}const VI="";function lN(n){let e="";for(let t=0;t<n.length;t++)e.length>0&&(e=hw(e)),e=uN(n.get(t),e);return hw(e)}function uN(n,e){let t=e;const r=n.length;for(let s=0;s<r;s++){const a=n.charAt(s);switch(a){case"\0":t+="";break;case VI:t+="";break;default:t+=a}}return t}function hw(n){return n+VI+""}function dw(n){let e=0;for(const t in n)Object.prototype.hasOwnProperty.call(n,t)&&e++;return e}function ms(n,e){for(const t in n)Object.prototype.hasOwnProperty.call(n,t)&&e(t,n[t])}function MI(n){for(const e in n)if(Object.prototype.hasOwnProperty.call(n,e))return!1;return!0}class ht{constructor(e,t){this.comparator=e,this.root=t||Bt.EMPTY}insert(e,t){return new ht(this.comparator,this.root.insert(e,t,this.comparator).copy(null,null,Bt.BLACK,null,null))}remove(e){return new ht(this.comparator,this.root.remove(e,this.comparator).copy(null,null,Bt.BLACK,null,null))}get(e){let t=this.root;for(;!t.isEmpty();){const r=this.comparator(e,t.key);if(r===0)return t.value;r<0?t=t.left:r>0&&(t=t.right)}return null}indexOf(e){let t=0,r=this.root;for(;!r.isEmpty();){const s=this.comparator(e,r.key);if(s===0)return t+r.left.size;s<0?r=r.left:(t+=r.left.size+1,r=r.right)}return-1}isEmpty(){return this.root.isEmpty()}get size(){return this.root.size}minKey(){return this.root.minKey()}maxKey(){return this.root.maxKey()}inorderTraversal(e){return this.root.inorderTraversal(e)}forEach(e){this.inorderTraversal(((t,r)=>(e(t,r),!1)))}toString(){const e=[];return this.inorderTraversal(((t,r)=>(e.push(`${t}:${r}`),!1))),`{${e.join(", ")}}`}reverseTraversal(e){return this.root.reverseTraversal(e)}getIterator(){return new oh(this.root,null,this.comparator,!1)}getIteratorFrom(e){return new oh(this.root,e,this.comparator,!1)}getReverseIterator(){return new oh(this.root,null,this.comparator,!0)}getReverseIteratorFrom(e){return new oh(this.root,e,this.comparator,!0)}}class oh{constructor(e,t,r,s){this.isReverse=s,this.nodeStack=[];let a=1;for(;!e.isEmpty();)if(a=t?r(e.key,t):1,t&&s&&(a*=-1),a<0)e=this.isReverse?e.left:e.right;else{if(a===0){this.nodeStack.push(e);break}this.nodeStack.push(e),e=this.isReverse?e.right:e.left}}getNext(){let e=this.nodeStack.pop();const t={key:e.key,value:e.value};if(this.isReverse)for(e=e.left;!e.isEmpty();)this.nodeStack.push(e),e=e.right;else for(e=e.right;!e.isEmpty();)this.nodeStack.push(e),e=e.left;return t}hasNext(){return this.nodeStack.length>0}peek(){if(this.nodeStack.length===0)return null;const e=this.nodeStack[this.nodeStack.length-1];return{key:e.key,value:e.value}}}class Bt{constructor(e,t,r,s,a){this.key=e,this.value=t,this.color=r??Bt.RED,this.left=s??Bt.EMPTY,this.right=a??Bt.EMPTY,this.size=this.left.size+1+this.right.size}copy(e,t,r,s,a){return new Bt(e??this.key,t??this.value,r??this.color,s??this.left,a??this.right)}isEmpty(){return!1}inorderTraversal(e){return this.left.inorderTraversal(e)||e(this.key,this.value)||this.right.inorderTraversal(e)}reverseTraversal(e){return this.right.reverseTraversal(e)||e(this.key,this.value)||this.left.reverseTraversal(e)}min(){return this.left.isEmpty()?this:this.left.min()}minKey(){return this.min().key}maxKey(){return this.right.isEmpty()?this.key:this.right.maxKey()}insert(e,t,r){let s=this;const a=r(e,s.key);return s=a<0?s.copy(null,null,null,s.left.insert(e,t,r),null):a===0?s.copy(null,t,null,null,null):s.copy(null,null,null,null,s.right.insert(e,t,r)),s.fixUp()}removeMin(){if(this.left.isEmpty())return Bt.EMPTY;let e=this;return e.left.isRed()||e.left.left.isRed()||(e=e.moveRedLeft()),e=e.copy(null,null,null,e.left.removeMin(),null),e.fixUp()}remove(e,t){let r,s=this;if(t(e,s.key)<0)s.left.isEmpty()||s.left.isRed()||s.left.left.isRed()||(s=s.moveRedLeft()),s=s.copy(null,null,null,s.left.remove(e,t),null);else{if(s.left.isRed()&&(s=s.rotateRight()),s.right.isEmpty()||s.right.isRed()||s.right.left.isRed()||(s=s.moveRedRight()),t(e,s.key)===0){if(s.right.isEmpty())return Bt.EMPTY;r=s.right.min(),s=s.copy(r.key,r.value,null,null,s.right.removeMin())}s=s.copy(null,null,null,null,s.right.remove(e,t))}return s.fixUp()}isRed(){return this.color}fixUp(){let e=this;return e.right.isRed()&&!e.left.isRed()&&(e=e.rotateLeft()),e.left.isRed()&&e.left.left.isRed()&&(e=e.rotateRight()),e.left.isRed()&&e.right.isRed()&&(e=e.colorFlip()),e}moveRedLeft(){let e=this.colorFlip();return e.right.left.isRed()&&(e=e.copy(null,null,null,null,e.right.rotateRight()),e=e.rotateLeft(),e=e.colorFlip()),e}moveRedRight(){let e=this.colorFlip();return e.left.left.isRed()&&(e=e.rotateRight(),e=e.colorFlip()),e}rotateLeft(){const e=this.copy(null,null,Bt.RED,null,this.right.left);return this.right.copy(null,null,this.color,e,null)}rotateRight(){const e=this.copy(null,null,Bt.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,e)}colorFlip(){const e=this.left.copy(null,null,!this.left.color,null,null),t=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,e,t)}checkMaxDepth(){const e=this.check();return Math.pow(2,e)<=this.size+1}check(){if(this.isRed()&&this.left.isRed())throw Pe(43730,{key:this.key,value:this.value});if(this.right.isRed())throw Pe(14113,{key:this.key,value:this.value});const e=this.left.check();if(e!==this.right.check())throw Pe(27949);return e+(this.isRed()?0:1)}}Bt.EMPTY=null,Bt.RED=!0,Bt.BLACK=!1;Bt.EMPTY=new class{constructor(){this.size=0}get key(){throw Pe(57766)}get value(){throw Pe(16141)}get color(){throw Pe(16727)}get left(){throw Pe(29726)}get right(){throw Pe(36894)}copy(e,t,r,s,a){return this}insert(e,t,r){return new Bt(e,t)}remove(e,t){return this}isEmpty(){return!0}inorderTraversal(e){return!1}reverseTraversal(e){return!1}minKey(){return null}maxKey(){return null}isRed(){return!1}checkMaxDepth(){return!0}check(){return 0}};class xt{constructor(e){this.comparator=e,this.data=new ht(this.comparator)}has(e){return this.data.get(e)!==null}first(){return this.data.minKey()}last(){return this.data.maxKey()}get size(){return this.data.size}indexOf(e){return this.data.indexOf(e)}forEach(e){this.data.inorderTraversal(((t,r)=>(e(t),!1)))}forEachInRange(e,t){const r=this.data.getIteratorFrom(e[0]);for(;r.hasNext();){const s=r.getNext();if(this.comparator(s.key,e[1])>=0)return;t(s.key)}}forEachWhile(e,t){let r;for(r=t!==void 0?this.data.getIteratorFrom(t):this.data.getIterator();r.hasNext();)if(!e(r.getNext().key))return}firstAfterOrEqual(e){const t=this.data.getIteratorFrom(e);return t.hasNext()?t.getNext().key:null}getIterator(){return new fw(this.data.getIterator())}getIteratorFrom(e){return new fw(this.data.getIteratorFrom(e))}add(e){return this.copy(this.data.remove(e).insert(e,!0))}delete(e){return this.has(e)?this.copy(this.data.remove(e)):this}isEmpty(){return this.data.isEmpty()}unionWith(e){let t=this;return t.size<e.size&&(t=e,e=this),e.forEach((r=>{t=t.add(r)})),t}isEqual(e){if(!(e instanceof xt)||this.size!==e.size)return!1;const t=this.data.getIterator(),r=e.data.getIterator();for(;t.hasNext();){const s=t.getNext().key,a=r.getNext().key;if(this.comparator(s,a)!==0)return!1}return!0}toArray(){const e=[];return this.forEach((t=>{e.push(t)})),e}toString(){const e=[];return this.forEach((t=>e.push(t))),"SortedSet("+e.toString()+")"}copy(e){const t=new xt(this.comparator);return t.data=e,t}}class fw{constructor(e){this.iter=e}getNext(){return this.iter.getNext().key}hasNext(){return this.iter.hasNext()}}class bn{constructor(e){this.fields=e,e.sort($t.comparator)}static empty(){return new bn([])}unionWith(e){let t=new xt($t.comparator);for(const r of this.fields)t=t.add(r);for(const r of e)t=t.add(r);return new bn(t.toArray())}covers(e){for(const t of this.fields)if(t.isPrefixOf(e))return!0;return!1}isEqual(e){return _a(this.fields,e.fields,((t,r)=>t.isEqual(r)))}}class UI extends Error{constructor(){super(...arguments),this.name="Base64DecodeError"}}class Ht{constructor(e){this.binaryString=e}static fromBase64String(e){const t=(function(s){try{return atob(s)}catch(a){throw typeof DOMException<"u"&&a instanceof DOMException?new UI("Invalid base64 string: "+a):a}})(e);return new Ht(t)}static fromUint8Array(e){const t=(function(s){let a="";for(let u=0;u<s.length;++u)a+=String.fromCharCode(s[u]);return a})(e);return new Ht(t)}[Symbol.iterator](){let e=0;return{next:()=>e<this.binaryString.length?{value:this.binaryString.charCodeAt(e++),done:!1}:{value:void 0,done:!0}}}toBase64(){return(function(t){return btoa(t)})(this.binaryString)}toUint8Array(){return(function(t){const r=new Uint8Array(t.length);for(let s=0;s<t.length;s++)r[s]=t.charCodeAt(s);return r})(this.binaryString)}approximateByteSize(){return 2*this.binaryString.length}compareTo(e){return Fe(this.binaryString,e.binaryString)}isEqual(e){return this.binaryString===e.binaryString}}Ht.EMPTY_BYTE_STRING=new Ht("");const cN=new RegExp(/^\d{4}-\d\d-\d\dT\d\d:\d\d:\d\d(?:\.(\d+))?Z$/);function us(n){if(Ke(!!n,39018),typeof n=="string"){let e=0;const t=cN.exec(n);if(Ke(!!t,46558,{timestamp:n}),t[1]){let s=t[1];s=(s+"000000000").substr(0,9),e=Number(s)}const r=new Date(n);return{seconds:Math.floor(r.getTime()/1e3),nanos:e}}return{seconds:Tt(n.seconds),nanos:Tt(n.nanos)}}function Tt(n){return typeof n=="number"?n:typeof n=="string"?Number(n):0}function cs(n){return typeof n=="string"?Ht.fromBase64String(n):Ht.fromUint8Array(n)}const FI="server_timestamp",jI="__type__",zI="__previous_value__",BI="__local_write_time__";function tg(n){return(n?.mapValue?.fields||{})[jI]?.stringValue===FI}function _d(n){const e=n.mapValue.fields[zI];return tg(e)?_d(e):e}function fu(n){const e=us(n.mapValue.fields[BI].timestampValue);return new it(e.seconds,e.nanos)}class hN{constructor(e,t,r,s,a,u,d,f,m,g,E){this.databaseId=e,this.appId=t,this.persistenceKey=r,this.host=s,this.ssl=a,this.forceLongPolling=u,this.autoDetectLongPolling=d,this.longPollingOptions=f,this.useFetchStreams=m,this.isUsingEmulator=g,this.apiKey=E}}const Lh="(default)";class pu{constructor(e,t){this.projectId=e,this.database=t||Lh}static empty(){return new pu("","")}get isDefaultDatabase(){return this.database===Lh}isEqual(e){return e instanceof pu&&e.projectId===this.projectId&&e.database===this.database}}function dN(n,e){if(!Object.prototype.hasOwnProperty.apply(n.options,["projectId"]))throw new ue(G.INVALID_ARGUMENT,'"projectId" not provided in firebase.initializeApp.');return new pu(n.options.projectId,e)}const $I="__type__",fN="__max__",ah={mapValue:{}},HI="__vector__",Vh="value";function hs(n){return"nullValue"in n?0:"booleanValue"in n?1:"integerValue"in n||"doubleValue"in n?2:"timestampValue"in n?3:"stringValue"in n?5:"bytesValue"in n?6:"referenceValue"in n?7:"geoPointValue"in n?8:"arrayValue"in n?9:"mapValue"in n?tg(n)?4:mN(n)?9007199254740991:pN(n)?10:11:Pe(28295,{value:n})}function Mr(n,e){if(n===e)return!0;const t=hs(n);if(t!==hs(e))return!1;switch(t){case 0:case 9007199254740991:return!0;case 1:return n.booleanValue===e.booleanValue;case 4:return fu(n).isEqual(fu(e));case 3:return(function(s,a){if(typeof s.timestampValue=="string"&&typeof a.timestampValue=="string"&&s.timestampValue.length===a.timestampValue.length)return s.timestampValue===a.timestampValue;const u=us(s.timestampValue),d=us(a.timestampValue);return u.seconds===d.seconds&&u.nanos===d.nanos})(n,e);case 5:return n.stringValue===e.stringValue;case 6:return(function(s,a){return cs(s.bytesValue).isEqual(cs(a.bytesValue))})(n,e);case 7:return n.referenceValue===e.referenceValue;case 8:return(function(s,a){return Tt(s.geoPointValue.latitude)===Tt(a.geoPointValue.latitude)&&Tt(s.geoPointValue.longitude)===Tt(a.geoPointValue.longitude)})(n,e);case 2:return(function(s,a){if("integerValue"in s&&"integerValue"in a)return Tt(s.integerValue)===Tt(a.integerValue);if("doubleValue"in s&&"doubleValue"in a){const u=Tt(s.doubleValue),d=Tt(a.doubleValue);return u===d?Dh(u)===Dh(d):isNaN(u)&&isNaN(d)}return!1})(n,e);case 9:return _a(n.arrayValue.values||[],e.arrayValue.values||[],Mr);case 10:case 11:return(function(s,a){const u=s.mapValue.fields||{},d=a.mapValue.fields||{};if(dw(u)!==dw(d))return!1;for(const f in u)if(u.hasOwnProperty(f)&&(d[f]===void 0||!Mr(u[f],d[f])))return!1;return!0})(n,e);default:return Pe(52216,{left:n})}}function mu(n,e){return(n.values||[]).find((t=>Mr(t,e)))!==void 0}function va(n,e){if(n===e)return 0;const t=hs(n),r=hs(e);if(t!==r)return Fe(t,r);switch(t){case 0:case 9007199254740991:return 0;case 1:return Fe(n.booleanValue,e.booleanValue);case 2:return(function(a,u){const d=Tt(a.integerValue||a.doubleValue),f=Tt(u.integerValue||u.doubleValue);return d<f?-1:d>f?1:d===f?0:isNaN(d)?isNaN(f)?0:-1:1})(n,e);case 3:return pw(n.timestampValue,e.timestampValue);case 4:return pw(fu(n),fu(e));case 5:return rm(n.stringValue,e.stringValue);case 6:return(function(a,u){const d=cs(a),f=cs(u);return d.compareTo(f)})(n.bytesValue,e.bytesValue);case 7:return(function(a,u){const d=a.split("/"),f=u.split("/");for(let m=0;m<d.length&&m<f.length;m++){const g=Fe(d[m],f[m]);if(g!==0)return g}return Fe(d.length,f.length)})(n.referenceValue,e.referenceValue);case 8:return(function(a,u){const d=Fe(Tt(a.latitude),Tt(u.latitude));return d!==0?d:Fe(Tt(a.longitude),Tt(u.longitude))})(n.geoPointValue,e.geoPointValue);case 9:return mw(n.arrayValue,e.arrayValue);case 10:return(function(a,u){const d=a.fields||{},f=u.fields||{},m=d[Vh]?.arrayValue,g=f[Vh]?.arrayValue,E=Fe(m?.values?.length||0,g?.values?.length||0);return E!==0?E:mw(m,g)})(n.mapValue,e.mapValue);case 11:return(function(a,u){if(a===ah.mapValue&&u===ah.mapValue)return 0;if(a===ah.mapValue)return 1;if(u===ah.mapValue)return-1;const d=a.fields||{},f=Object.keys(d),m=u.fields||{},g=Object.keys(m);f.sort(),g.sort();for(let E=0;E<f.length&&E<g.length;++E){const w=rm(f[E],g[E]);if(w!==0)return w;const A=va(d[f[E]],m[g[E]]);if(A!==0)return A}return Fe(f.length,g.length)})(n.mapValue,e.mapValue);default:throw Pe(23264,{he:t})}}function pw(n,e){if(typeof n=="string"&&typeof e=="string"&&n.length===e.length)return Fe(n,e);const t=us(n),r=us(e),s=Fe(t.seconds,r.seconds);return s!==0?s:Fe(t.nanos,r.nanos)}function mw(n,e){const t=n.values||[],r=e.values||[];for(let s=0;s<t.length&&s<r.length;++s){const a=va(t[s],r[s]);if(a)return a}return Fe(t.length,r.length)}function wa(n){return im(n)}function im(n){return"nullValue"in n?"null":"booleanValue"in n?""+n.booleanValue:"integerValue"in n?""+n.integerValue:"doubleValue"in n?""+n.doubleValue:"timestampValue"in n?(function(t){const r=us(t);return`time(${r.seconds},${r.nanos})`})(n.timestampValue):"stringValue"in n?n.stringValue:"bytesValue"in n?(function(t){return cs(t).toBase64()})(n.bytesValue):"referenceValue"in n?(function(t){return Se.fromName(t).toString()})(n.referenceValue):"geoPointValue"in n?(function(t){return`geo(${t.latitude},${t.longitude})`})(n.geoPointValue):"arrayValue"in n?(function(t){let r="[",s=!0;for(const a of t.values||[])s?s=!1:r+=",",r+=im(a);return r+"]"})(n.arrayValue):"mapValue"in n?(function(t){const r=Object.keys(t.fields||{}).sort();let s="{",a=!0;for(const u of r)a?a=!1:s+=",",s+=`${u}:${im(t.fields[u])}`;return s+"}"})(n.mapValue):Pe(61005,{value:n})}function Th(n){switch(hs(n)){case 0:case 1:return 4;case 2:return 8;case 3:case 8:return 16;case 4:const e=_d(n);return e?16+Th(e):16;case 5:return 2*n.stringValue.length;case 6:return cs(n.bytesValue).approximateByteSize();case 7:return n.referenceValue.length;case 9:return(function(r){return(r.values||[]).reduce(((s,a)=>s+Th(a)),0)})(n.arrayValue);case 10:case 11:return(function(r){let s=0;return ms(r.fields,((a,u)=>{s+=a.length+Th(u)})),s})(n.mapValue);default:throw Pe(13486,{value:n})}}function gw(n,e){return{referenceValue:`projects/${n.projectId}/databases/${n.database}/documents/${e.path.canonicalString()}`}}function sm(n){return!!n&&"integerValue"in n}function ng(n){return!!n&&"arrayValue"in n}function yw(n){return!!n&&"nullValue"in n}function _w(n){return!!n&&"doubleValue"in n&&isNaN(Number(n.doubleValue))}function Ih(n){return!!n&&"mapValue"in n}function pN(n){return(n?.mapValue?.fields||{})[$I]?.stringValue===HI}function eu(n){if(n.geoPointValue)return{geoPointValue:{...n.geoPointValue}};if(n.timestampValue&&typeof n.timestampValue=="object")return{timestampValue:{...n.timestampValue}};if(n.mapValue){const e={mapValue:{fields:{}}};return ms(n.mapValue.fields,((t,r)=>e.mapValue.fields[t]=eu(r))),e}if(n.arrayValue){const e={arrayValue:{values:[]}};for(let t=0;t<(n.arrayValue.values||[]).length;++t)e.arrayValue.values[t]=eu(n.arrayValue.values[t]);return e}return{...n}}function mN(n){return(((n.mapValue||{}).fields||{}).__type__||{}).stringValue===fN}class _n{constructor(e){this.value=e}static empty(){return new _n({mapValue:{}})}field(e){if(e.isEmpty())return this.value;{let t=this.value;for(let r=0;r<e.length-1;++r)if(t=(t.mapValue.fields||{})[e.get(r)],!Ih(t))return null;return t=(t.mapValue.fields||{})[e.lastSegment()],t||null}}set(e,t){this.getFieldsMap(e.popLast())[e.lastSegment()]=eu(t)}setAll(e){let t=$t.emptyPath(),r={},s=[];e.forEach(((u,d)=>{if(!t.isImmediateParentOf(d)){const f=this.getFieldsMap(t);this.applyChanges(f,r,s),r={},s=[],t=d.popLast()}u?r[d.lastSegment()]=eu(u):s.push(d.lastSegment())}));const a=this.getFieldsMap(t);this.applyChanges(a,r,s)}delete(e){const t=this.field(e.popLast());Ih(t)&&t.mapValue.fields&&delete t.mapValue.fields[e.lastSegment()]}isEqual(e){return Mr(this.value,e.value)}getFieldsMap(e){let t=this.value;t.mapValue.fields||(t.mapValue={fields:{}});for(let r=0;r<e.length;++r){let s=t.mapValue.fields[e.get(r)];Ih(s)&&s.mapValue.fields||(s={mapValue:{fields:{}}},t.mapValue.fields[e.get(r)]=s),t=s}return t.mapValue.fields}applyChanges(e,t,r){ms(t,((s,a)=>e[s]=a));for(const s of r)delete e[s]}clone(){return new _n(eu(this.value))}}function qI(n){const e=[];return ms(n.fields,((t,r)=>{const s=new $t([t]);if(Ih(r)){const a=qI(r.mapValue).fields;if(a.length===0)e.push(s);else for(const u of a)e.push(s.child(u))}else e.push(s)})),new bn(e)}class Xt{constructor(e,t,r,s,a,u,d){this.key=e,this.documentType=t,this.version=r,this.readTime=s,this.createTime=a,this.data=u,this.documentState=d}static newInvalidDocument(e){return new Xt(e,0,Ne.min(),Ne.min(),Ne.min(),_n.empty(),0)}static newFoundDocument(e,t,r,s){return new Xt(e,1,t,Ne.min(),r,s,0)}static newNoDocument(e,t){return new Xt(e,2,t,Ne.min(),Ne.min(),_n.empty(),0)}static newUnknownDocument(e,t){return new Xt(e,3,t,Ne.min(),Ne.min(),_n.empty(),2)}convertToFoundDocument(e,t){return!this.createTime.isEqual(Ne.min())||this.documentType!==2&&this.documentType!==0||(this.createTime=e),this.version=e,this.documentType=1,this.data=t,this.documentState=0,this}convertToNoDocument(e){return this.version=e,this.documentType=2,this.data=_n.empty(),this.documentState=0,this}convertToUnknownDocument(e){return this.version=e,this.documentType=3,this.data=_n.empty(),this.documentState=2,this}setHasCommittedMutations(){return this.documentState=2,this}setHasLocalMutations(){return this.documentState=1,this.version=Ne.min(),this}setReadTime(e){return this.readTime=e,this}get hasLocalMutations(){return this.documentState===1}get hasCommittedMutations(){return this.documentState===2}get hasPendingWrites(){return this.hasLocalMutations||this.hasCommittedMutations}isValidDocument(){return this.documentType!==0}isFoundDocument(){return this.documentType===1}isNoDocument(){return this.documentType===2}isUnknownDocument(){return this.documentType===3}isEqual(e){return e instanceof Xt&&this.key.isEqual(e.key)&&this.version.isEqual(e.version)&&this.documentType===e.documentType&&this.documentState===e.documentState&&this.data.isEqual(e.data)}mutableCopy(){return new Xt(this.key,this.documentType,this.version,this.readTime,this.createTime,this.data.clone(),this.documentState)}toString(){return`Document(${this.key}, ${this.version}, ${JSON.stringify(this.data.value)}, {createTime: ${this.createTime}}), {documentType: ${this.documentType}}), {documentState: ${this.documentState}})`}}class Mh{constructor(e,t){this.position=e,this.inclusive=t}}function vw(n,e,t){let r=0;for(let s=0;s<n.position.length;s++){const a=e[s],u=n.position[s];if(a.field.isKeyField()?r=Se.comparator(Se.fromName(u.referenceValue),t.key):r=va(u,t.data.field(a.field)),a.dir==="desc"&&(r*=-1),r!==0)break}return r}function ww(n,e){if(n===null)return e===null;if(e===null||n.inclusive!==e.inclusive||n.position.length!==e.position.length)return!1;for(let t=0;t<n.position.length;t++)if(!Mr(n.position[t],e.position[t]))return!1;return!0}class gu{constructor(e,t="asc"){this.field=e,this.dir=t}}function gN(n,e){return n.dir===e.dir&&n.field.isEqual(e.field)}class WI{}class kt extends WI{constructor(e,t,r){super(),this.field=e,this.op=t,this.value=r}static create(e,t,r){return e.isKeyField()?t==="in"||t==="not-in"?this.createKeyFieldInFilter(e,t,r):new _N(e,t,r):t==="array-contains"?new EN(e,r):t==="in"?new TN(e,r):t==="not-in"?new IN(e,r):t==="array-contains-any"?new SN(e,r):new kt(e,t,r)}static createKeyFieldInFilter(e,t,r){return t==="in"?new vN(e,r):new wN(e,r)}matches(e){const t=e.data.field(this.field);return this.op==="!="?t!==null&&t.nullValue===void 0&&this.matchesComparison(va(t,this.value)):t!==null&&hs(this.value)===hs(t)&&this.matchesComparison(va(t,this.value))}matchesComparison(e){switch(this.op){case"<":return e<0;case"<=":return e<=0;case"==":return e===0;case"!=":return e!==0;case">":return e>0;case">=":return e>=0;default:return Pe(47266,{operator:this.op})}}isInequality(){return["<","<=",">",">=","!=","not-in"].indexOf(this.op)>=0}getFlattenedFilters(){return[this]}getFilters(){return[this]}}class ur extends WI{constructor(e,t){super(),this.filters=e,this.op=t,this.Pe=null}static create(e,t){return new ur(e,t)}matches(e){return GI(this)?this.filters.find((t=>!t.matches(e)))===void 0:this.filters.find((t=>t.matches(e)))!==void 0}getFlattenedFilters(){return this.Pe!==null||(this.Pe=this.filters.reduce(((e,t)=>e.concat(t.getFlattenedFilters())),[])),this.Pe}getFilters(){return Object.assign([],this.filters)}}function GI(n){return n.op==="and"}function KI(n){return yN(n)&&GI(n)}function yN(n){for(const e of n.filters)if(e instanceof ur)return!1;return!0}function om(n){if(n instanceof kt)return n.field.canonicalString()+n.op.toString()+wa(n.value);if(KI(n))return n.filters.map((e=>om(e))).join(",");{const e=n.filters.map((t=>om(t))).join(",");return`${n.op}(${e})`}}function QI(n,e){return n instanceof kt?(function(r,s){return s instanceof kt&&r.op===s.op&&r.field.isEqual(s.field)&&Mr(r.value,s.value)})(n,e):n instanceof ur?(function(r,s){return s instanceof ur&&r.op===s.op&&r.filters.length===s.filters.length?r.filters.reduce(((a,u,d)=>a&&QI(u,s.filters[d])),!0):!1})(n,e):void Pe(19439)}function YI(n){return n instanceof kt?(function(t){return`${t.field.canonicalString()} ${t.op} ${wa(t.value)}`})(n):n instanceof ur?(function(t){return t.op.toString()+" {"+t.getFilters().map(YI).join(" ,")+"}"})(n):"Filter"}class _N extends kt{constructor(e,t,r){super(e,t,r),this.key=Se.fromName(r.referenceValue)}matches(e){const t=Se.comparator(e.key,this.key);return this.matchesComparison(t)}}class vN extends kt{constructor(e,t){super(e,"in",t),this.keys=JI("in",t)}matches(e){return this.keys.some((t=>t.isEqual(e.key)))}}class wN extends kt{constructor(e,t){super(e,"not-in",t),this.keys=JI("not-in",t)}matches(e){return!this.keys.some((t=>t.isEqual(e.key)))}}function JI(n,e){return(e.arrayValue?.values||[]).map((t=>Se.fromName(t.referenceValue)))}class EN extends kt{constructor(e,t){super(e,"array-contains",t)}matches(e){const t=e.data.field(this.field);return ng(t)&&mu(t.arrayValue,this.value)}}class TN extends kt{constructor(e,t){super(e,"in",t)}matches(e){const t=e.data.field(this.field);return t!==null&&mu(this.value.arrayValue,t)}}class IN extends kt{constructor(e,t){super(e,"not-in",t)}matches(e){if(mu(this.value.arrayValue,{nullValue:"NULL_VALUE"}))return!1;const t=e.data.field(this.field);return t!==null&&t.nullValue===void 0&&!mu(this.value.arrayValue,t)}}class SN extends kt{constructor(e,t){super(e,"array-contains-any",t)}matches(e){const t=e.data.field(this.field);return!(!ng(t)||!t.arrayValue.values)&&t.arrayValue.values.some((r=>mu(this.value.arrayValue,r)))}}class AN{constructor(e,t=null,r=[],s=[],a=null,u=null,d=null){this.path=e,this.collectionGroup=t,this.orderBy=r,this.filters=s,this.limit=a,this.startAt=u,this.endAt=d,this.Te=null}}function Ew(n,e=null,t=[],r=[],s=null,a=null,u=null){return new AN(n,e,t,r,s,a,u)}function rg(n){const e=De(n);if(e.Te===null){let t=e.path.canonicalString();e.collectionGroup!==null&&(t+="|cg:"+e.collectionGroup),t+="|f:",t+=e.filters.map((r=>om(r))).join(","),t+="|ob:",t+=e.orderBy.map((r=>(function(a){return a.field.canonicalString()+a.dir})(r))).join(","),yd(e.limit)||(t+="|l:",t+=e.limit),e.startAt&&(t+="|lb:",t+=e.startAt.inclusive?"b:":"a:",t+=e.startAt.position.map((r=>wa(r))).join(",")),e.endAt&&(t+="|ub:",t+=e.endAt.inclusive?"a:":"b:",t+=e.endAt.position.map((r=>wa(r))).join(",")),e.Te=t}return e.Te}function ig(n,e){if(n.limit!==e.limit||n.orderBy.length!==e.orderBy.length)return!1;for(let t=0;t<n.orderBy.length;t++)if(!gN(n.orderBy[t],e.orderBy[t]))return!1;if(n.filters.length!==e.filters.length)return!1;for(let t=0;t<n.filters.length;t++)if(!QI(n.filters[t],e.filters[t]))return!1;return n.collectionGroup===e.collectionGroup&&!!n.path.isEqual(e.path)&&!!ww(n.startAt,e.startAt)&&ww(n.endAt,e.endAt)}function am(n){return Se.isDocumentKey(n.path)&&n.collectionGroup===null&&n.filters.length===0}class Oa{constructor(e,t=null,r=[],s=[],a=null,u="F",d=null,f=null){this.path=e,this.collectionGroup=t,this.explicitOrderBy=r,this.filters=s,this.limit=a,this.limitType=u,this.startAt=d,this.endAt=f,this.Ie=null,this.Ee=null,this.Re=null,this.startAt,this.endAt}}function RN(n,e,t,r,s,a,u,d){return new Oa(n,e,t,r,s,a,u,d)}function vd(n){return new Oa(n)}function Tw(n){return n.filters.length===0&&n.limit===null&&n.startAt==null&&n.endAt==null&&(n.explicitOrderBy.length===0||n.explicitOrderBy.length===1&&n.explicitOrderBy[0].field.isKeyField())}function PN(n){return Se.isDocumentKey(n.path)&&n.collectionGroup===null&&n.filters.length===0}function XI(n){return n.collectionGroup!==null}function tu(n){const e=De(n);if(e.Ie===null){e.Ie=[];const t=new Set;for(const a of e.explicitOrderBy)e.Ie.push(a),t.add(a.field.canonicalString());const r=e.explicitOrderBy.length>0?e.explicitOrderBy[e.explicitOrderBy.length-1].dir:"asc";(function(u){let d=new xt($t.comparator);return u.filters.forEach((f=>{f.getFlattenedFilters().forEach((m=>{m.isInequality()&&(d=d.add(m.field))}))})),d})(e).forEach((a=>{t.has(a.canonicalString())||a.isKeyField()||e.Ie.push(new gu(a,r))})),t.has($t.keyField().canonicalString())||e.Ie.push(new gu($t.keyField(),r))}return e.Ie}function Dr(n){const e=De(n);return e.Ee||(e.Ee=kN(e,tu(n))),e.Ee}function kN(n,e){if(n.limitType==="F")return Ew(n.path,n.collectionGroup,e,n.filters,n.limit,n.startAt,n.endAt);{e=e.map((s=>{const a=s.dir==="desc"?"asc":"desc";return new gu(s.field,a)}));const t=n.endAt?new Mh(n.endAt.position,n.endAt.inclusive):null,r=n.startAt?new Mh(n.startAt.position,n.startAt.inclusive):null;return Ew(n.path,n.collectionGroup,e,n.filters,n.limit,t,r)}}function lm(n,e){const t=n.filters.concat([e]);return new Oa(n.path,n.collectionGroup,n.explicitOrderBy.slice(),t,n.limit,n.limitType,n.startAt,n.endAt)}function CN(n,e){const t=n.explicitOrderBy.concat([e]);return new Oa(n.path,n.collectionGroup,t,n.filters.slice(),n.limit,n.limitType,n.startAt,n.endAt)}function Uh(n,e,t){return new Oa(n.path,n.collectionGroup,n.explicitOrderBy.slice(),n.filters.slice(),e,t,n.startAt,n.endAt)}function wd(n,e){return ig(Dr(n),Dr(e))&&n.limitType===e.limitType}function ZI(n){return`${rg(Dr(n))}|lt:${n.limitType}`}function sa(n){return`Query(target=${(function(t){let r=t.path.canonicalString();return t.collectionGroup!==null&&(r+=" collectionGroup="+t.collectionGroup),t.filters.length>0&&(r+=`, filters: [${t.filters.map((s=>YI(s))).join(", ")}]`),yd(t.limit)||(r+=", limit: "+t.limit),t.orderBy.length>0&&(r+=`, orderBy: [${t.orderBy.map((s=>(function(u){return`${u.field.canonicalString()} (${u.dir})`})(s))).join(", ")}]`),t.startAt&&(r+=", startAt: ",r+=t.startAt.inclusive?"b:":"a:",r+=t.startAt.position.map((s=>wa(s))).join(",")),t.endAt&&(r+=", endAt: ",r+=t.endAt.inclusive?"a:":"b:",r+=t.endAt.position.map((s=>wa(s))).join(",")),`Target(${r})`})(Dr(n))}; limitType=${n.limitType})`}function Ed(n,e){return e.isFoundDocument()&&(function(r,s){const a=s.key.path;return r.collectionGroup!==null?s.key.hasCollectionId(r.collectionGroup)&&r.path.isPrefixOf(a):Se.isDocumentKey(r.path)?r.path.isEqual(a):r.path.isImmediateParentOf(a)})(n,e)&&(function(r,s){for(const a of tu(r))if(!a.field.isKeyField()&&s.data.field(a.field)===null)return!1;return!0})(n,e)&&(function(r,s){for(const a of r.filters)if(!a.matches(s))return!1;return!0})(n,e)&&(function(r,s){return!(r.startAt&&!(function(u,d,f){const m=vw(u,d,f);return u.inclusive?m<=0:m<0})(r.startAt,tu(r),s)||r.endAt&&!(function(u,d,f){const m=vw(u,d,f);return u.inclusive?m>=0:m>0})(r.endAt,tu(r),s))})(n,e)}function bN(n){return n.collectionGroup||(n.path.length%2==1?n.path.lastSegment():n.path.get(n.path.length-2))}function e0(n){return(e,t)=>{let r=!1;for(const s of tu(n)){const a=NN(s,e,t);if(a!==0)return a;r=r||s.field.isKeyField()}return 0}}function NN(n,e,t){const r=n.field.isKeyField()?Se.comparator(e.key,t.key):(function(a,u,d){const f=u.data.field(a),m=d.data.field(a);return f!==null&&m!==null?va(f,m):Pe(42886)})(n.field,e,t);switch(n.dir){case"asc":return r;case"desc":return-1*r;default:return Pe(19790,{direction:n.dir})}}class co{constructor(e,t){this.mapKeyFn=e,this.equalsFn=t,this.inner={},this.innerSize=0}get(e){const t=this.mapKeyFn(e),r=this.inner[t];if(r!==void 0){for(const[s,a]of r)if(this.equalsFn(s,e))return a}}has(e){return this.get(e)!==void 0}set(e,t){const r=this.mapKeyFn(e),s=this.inner[r];if(s===void 0)return this.inner[r]=[[e,t]],void this.innerSize++;for(let a=0;a<s.length;a++)if(this.equalsFn(s[a][0],e))return void(s[a]=[e,t]);s.push([e,t]),this.innerSize++}delete(e){const t=this.mapKeyFn(e),r=this.inner[t];if(r===void 0)return!1;for(let s=0;s<r.length;s++)if(this.equalsFn(r[s][0],e))return r.length===1?delete this.inner[t]:r.splice(s,1),this.innerSize--,!0;return!1}forEach(e){ms(this.inner,((t,r)=>{for(const[s,a]of r)e(s,a)}))}isEmpty(){return MI(this.inner)}size(){return this.innerSize}}const xN=new ht(Se.comparator);function mi(){return xN}const t0=new ht(Se.comparator);function ql(...n){let e=t0;for(const t of n)e=e.insert(t.key,t);return e}function n0(n){let e=t0;return n.forEach(((t,r)=>e=e.insert(t,r.overlayedDocument))),e}function Ws(){return nu()}function r0(){return nu()}function nu(){return new co((n=>n.toString()),((n,e)=>n.isEqual(e)))}const ON=new ht(Se.comparator),DN=new xt(Se.comparator);function je(...n){let e=DN;for(const t of n)e=e.add(t);return e}const LN=new xt(Fe);function VN(){return LN}function sg(n,e){if(n.useProto3Json){if(isNaN(e))return{doubleValue:"NaN"};if(e===1/0)return{doubleValue:"Infinity"};if(e===-1/0)return{doubleValue:"-Infinity"}}return{doubleValue:Dh(e)?"-0":e}}function i0(n){return{integerValue:""+n}}function s0(n,e){return aN(e)?i0(e):sg(n,e)}class Td{constructor(){this._=void 0}}function MN(n,e,t){return n instanceof yu?(function(s,a){const u={fields:{[jI]:{stringValue:FI},[BI]:{timestampValue:{seconds:s.seconds,nanos:s.nanoseconds}}}};return a&&tg(a)&&(a=_d(a)),a&&(u.fields[zI]=a),{mapValue:u}})(t,e):n instanceof Ea?a0(n,e):n instanceof _u?l0(n,e):(function(s,a){const u=o0(s,a),d=Iw(u)+Iw(s.Ae);return sm(u)&&sm(s.Ae)?i0(d):sg(s.serializer,d)})(n,e)}function UN(n,e,t){return n instanceof Ea?a0(n,e):n instanceof _u?l0(n,e):t}function o0(n,e){return n instanceof vu?(function(r){return sm(r)||(function(a){return!!a&&"doubleValue"in a})(r)})(e)?e:{integerValue:0}:null}class yu extends Td{}class Ea extends Td{constructor(e){super(),this.elements=e}}function a0(n,e){const t=u0(e);for(const r of n.elements)t.some((s=>Mr(s,r)))||t.push(r);return{arrayValue:{values:t}}}class _u extends Td{constructor(e){super(),this.elements=e}}function l0(n,e){let t=u0(e);for(const r of n.elements)t=t.filter((s=>!Mr(s,r)));return{arrayValue:{values:t}}}class vu extends Td{constructor(e,t){super(),this.serializer=e,this.Ae=t}}function Iw(n){return Tt(n.integerValue||n.doubleValue)}function u0(n){return ng(n)&&n.arrayValue.values?n.arrayValue.values.slice():[]}class og{constructor(e,t){this.field=e,this.transform=t}}function FN(n,e){return n.field.isEqual(e.field)&&(function(r,s){return r instanceof Ea&&s instanceof Ea||r instanceof _u&&s instanceof _u?_a(r.elements,s.elements,Mr):r instanceof vu&&s instanceof vu?Mr(r.Ae,s.Ae):r instanceof yu&&s instanceof yu})(n.transform,e.transform)}class jN{constructor(e,t){this.version=e,this.transformResults=t}}class un{constructor(e,t){this.updateTime=e,this.exists=t}static none(){return new un}static exists(e){return new un(void 0,e)}static updateTime(e){return new un(e)}get isNone(){return this.updateTime===void 0&&this.exists===void 0}isEqual(e){return this.exists===e.exists&&(this.updateTime?!!e.updateTime&&this.updateTime.isEqual(e.updateTime):!e.updateTime)}}function Sh(n,e){return n.updateTime!==void 0?e.isFoundDocument()&&e.version.isEqual(n.updateTime):n.exists===void 0||n.exists===e.isFoundDocument()}class Id{}function c0(n,e){if(!n.hasLocalMutations||e&&e.fields.length===0)return null;if(e===null)return n.isNoDocument()?new Sd(n.key,un.none()):new Nu(n.key,n.data,un.none());{const t=n.data,r=_n.empty();let s=new xt($t.comparator);for(let a of e.fields)if(!s.has(a)){let u=t.field(a);u===null&&a.length>1&&(a=a.popLast(),u=t.field(a)),u===null?r.delete(a):r.set(a,u),s=s.add(a)}return new gs(n.key,r,new bn(s.toArray()),un.none())}}function zN(n,e,t){n instanceof Nu?(function(s,a,u){const d=s.value.clone(),f=Aw(s.fieldTransforms,a,u.transformResults);d.setAll(f),a.convertToFoundDocument(u.version,d).setHasCommittedMutations()})(n,e,t):n instanceof gs?(function(s,a,u){if(!Sh(s.precondition,a))return void a.convertToUnknownDocument(u.version);const d=Aw(s.fieldTransforms,a,u.transformResults),f=a.data;f.setAll(h0(s)),f.setAll(d),a.convertToFoundDocument(u.version,f).setHasCommittedMutations()})(n,e,t):(function(s,a,u){a.convertToNoDocument(u.version).setHasCommittedMutations()})(0,e,t)}function ru(n,e,t,r){return n instanceof Nu?(function(a,u,d,f){if(!Sh(a.precondition,u))return d;const m=a.value.clone(),g=Rw(a.fieldTransforms,f,u);return m.setAll(g),u.convertToFoundDocument(u.version,m).setHasLocalMutations(),null})(n,e,t,r):n instanceof gs?(function(a,u,d,f){if(!Sh(a.precondition,u))return d;const m=Rw(a.fieldTransforms,f,u),g=u.data;return g.setAll(h0(a)),g.setAll(m),u.convertToFoundDocument(u.version,g).setHasLocalMutations(),d===null?null:d.unionWith(a.fieldMask.fields).unionWith(a.fieldTransforms.map((E=>E.field)))})(n,e,t,r):(function(a,u,d){return Sh(a.precondition,u)?(u.convertToNoDocument(u.version).setHasLocalMutations(),null):d})(n,e,t)}function BN(n,e){let t=null;for(const r of n.fieldTransforms){const s=e.data.field(r.field),a=o0(r.transform,s||null);a!=null&&(t===null&&(t=_n.empty()),t.set(r.field,a))}return t||null}function Sw(n,e){return n.type===e.type&&!!n.key.isEqual(e.key)&&!!n.precondition.isEqual(e.precondition)&&!!(function(r,s){return r===void 0&&s===void 0||!(!r||!s)&&_a(r,s,((a,u)=>FN(a,u)))})(n.fieldTransforms,e.fieldTransforms)&&(n.type===0?n.value.isEqual(e.value):n.type!==1||n.data.isEqual(e.data)&&n.fieldMask.isEqual(e.fieldMask))}class Nu extends Id{constructor(e,t,r,s=[]){super(),this.key=e,this.value=t,this.precondition=r,this.fieldTransforms=s,this.type=0}getFieldMask(){return null}}class gs extends Id{constructor(e,t,r,s,a=[]){super(),this.key=e,this.data=t,this.fieldMask=r,this.precondition=s,this.fieldTransforms=a,this.type=1}getFieldMask(){return this.fieldMask}}function h0(n){const e=new Map;return n.fieldMask.fields.forEach((t=>{if(!t.isEmpty()){const r=n.data.field(t);e.set(t,r)}})),e}function Aw(n,e,t){const r=new Map;Ke(n.length===t.length,32656,{Ve:t.length,de:n.length});for(let s=0;s<t.length;s++){const a=n[s],u=a.transform,d=e.data.field(a.field);r.set(a.field,UN(u,d,t[s]))}return r}function Rw(n,e,t){const r=new Map;for(const s of n){const a=s.transform,u=t.data.field(s.field);r.set(s.field,MN(a,u,e))}return r}class Sd extends Id{constructor(e,t){super(),this.key=e,this.precondition=t,this.type=2,this.fieldTransforms=[]}getFieldMask(){return null}}class $N extends Id{constructor(e,t){super(),this.key=e,this.precondition=t,this.type=3,this.fieldTransforms=[]}getFieldMask(){return null}}class HN{constructor(e,t,r,s){this.batchId=e,this.localWriteTime=t,this.baseMutations=r,this.mutations=s}applyToRemoteDocument(e,t){const r=t.mutationResults;for(let s=0;s<this.mutations.length;s++){const a=this.mutations[s];a.key.isEqual(e.key)&&zN(a,e,r[s])}}applyToLocalView(e,t){for(const r of this.baseMutations)r.key.isEqual(e.key)&&(t=ru(r,e,t,this.localWriteTime));for(const r of this.mutations)r.key.isEqual(e.key)&&(t=ru(r,e,t,this.localWriteTime));return t}applyToLocalDocumentSet(e,t){const r=r0();return this.mutations.forEach((s=>{const a=e.get(s.key),u=a.overlayedDocument;let d=this.applyToLocalView(u,a.mutatedFields);d=t.has(s.key)?null:d;const f=c0(u,d);f!==null&&r.set(s.key,f),u.isValidDocument()||u.convertToNoDocument(Ne.min())})),r}keys(){return this.mutations.reduce(((e,t)=>e.add(t.key)),je())}isEqual(e){return this.batchId===e.batchId&&_a(this.mutations,e.mutations,((t,r)=>Sw(t,r)))&&_a(this.baseMutations,e.baseMutations,((t,r)=>Sw(t,r)))}}class ag{constructor(e,t,r,s){this.batch=e,this.commitVersion=t,this.mutationResults=r,this.docVersions=s}static from(e,t,r){Ke(e.mutations.length===r.length,58842,{me:e.mutations.length,fe:r.length});let s=(function(){return ON})();const a=e.mutations;for(let u=0;u<a.length;u++)s=s.insert(a[u].key,r[u].version);return new ag(e,t,r,s)}}class qN{constructor(e,t){this.largestBatchId=e,this.mutation=t}getKey(){return this.mutation.key}isEqual(e){return e!==null&&this.mutation===e.mutation}toString(){return`Overlay{
      largestBatchId: ${this.largestBatchId},
      mutation: ${this.mutation.toString()}
    }`}}class WN{constructor(e,t){this.count=e,this.unchangedNames=t}}var Rt,Be;function GN(n){switch(n){case G.OK:return Pe(64938);case G.CANCELLED:case G.UNKNOWN:case G.DEADLINE_EXCEEDED:case G.RESOURCE_EXHAUSTED:case G.INTERNAL:case G.UNAVAILABLE:case G.UNAUTHENTICATED:return!1;case G.INVALID_ARGUMENT:case G.NOT_FOUND:case G.ALREADY_EXISTS:case G.PERMISSION_DENIED:case G.FAILED_PRECONDITION:case G.ABORTED:case G.OUT_OF_RANGE:case G.UNIMPLEMENTED:case G.DATA_LOSS:return!0;default:return Pe(15467,{code:n})}}function d0(n){if(n===void 0)return pi("GRPC error has no .code"),G.UNKNOWN;switch(n){case Rt.OK:return G.OK;case Rt.CANCELLED:return G.CANCELLED;case Rt.UNKNOWN:return G.UNKNOWN;case Rt.DEADLINE_EXCEEDED:return G.DEADLINE_EXCEEDED;case Rt.RESOURCE_EXHAUSTED:return G.RESOURCE_EXHAUSTED;case Rt.INTERNAL:return G.INTERNAL;case Rt.UNAVAILABLE:return G.UNAVAILABLE;case Rt.UNAUTHENTICATED:return G.UNAUTHENTICATED;case Rt.INVALID_ARGUMENT:return G.INVALID_ARGUMENT;case Rt.NOT_FOUND:return G.NOT_FOUND;case Rt.ALREADY_EXISTS:return G.ALREADY_EXISTS;case Rt.PERMISSION_DENIED:return G.PERMISSION_DENIED;case Rt.FAILED_PRECONDITION:return G.FAILED_PRECONDITION;case Rt.ABORTED:return G.ABORTED;case Rt.OUT_OF_RANGE:return G.OUT_OF_RANGE;case Rt.UNIMPLEMENTED:return G.UNIMPLEMENTED;case Rt.DATA_LOSS:return G.DATA_LOSS;default:return Pe(39323,{code:n})}}(Be=Rt||(Rt={}))[Be.OK=0]="OK",Be[Be.CANCELLED=1]="CANCELLED",Be[Be.UNKNOWN=2]="UNKNOWN",Be[Be.INVALID_ARGUMENT=3]="INVALID_ARGUMENT",Be[Be.DEADLINE_EXCEEDED=4]="DEADLINE_EXCEEDED",Be[Be.NOT_FOUND=5]="NOT_FOUND",Be[Be.ALREADY_EXISTS=6]="ALREADY_EXISTS",Be[Be.PERMISSION_DENIED=7]="PERMISSION_DENIED",Be[Be.UNAUTHENTICATED=16]="UNAUTHENTICATED",Be[Be.RESOURCE_EXHAUSTED=8]="RESOURCE_EXHAUSTED",Be[Be.FAILED_PRECONDITION=9]="FAILED_PRECONDITION",Be[Be.ABORTED=10]="ABORTED",Be[Be.OUT_OF_RANGE=11]="OUT_OF_RANGE",Be[Be.UNIMPLEMENTED=12]="UNIMPLEMENTED",Be[Be.INTERNAL=13]="INTERNAL",Be[Be.UNAVAILABLE=14]="UNAVAILABLE",Be[Be.DATA_LOSS=15]="DATA_LOSS";function KN(){return new TextEncoder}const QN=new os([4294967295,4294967295],0);function Pw(n){const e=KN().encode(n),t=new RI;return t.update(e),new Uint8Array(t.digest())}function kw(n){const e=new DataView(n.buffer),t=e.getUint32(0,!0),r=e.getUint32(4,!0),s=e.getUint32(8,!0),a=e.getUint32(12,!0);return[new os([t,r],0),new os([s,a],0)]}class lg{constructor(e,t,r){if(this.bitmap=e,this.padding=t,this.hashCount=r,t<0||t>=8)throw new Wl(`Invalid padding: ${t}`);if(r<0)throw new Wl(`Invalid hash count: ${r}`);if(e.length>0&&this.hashCount===0)throw new Wl(`Invalid hash count: ${r}`);if(e.length===0&&t!==0)throw new Wl(`Invalid padding when bitmap length is 0: ${t}`);this.ge=8*e.length-t,this.pe=os.fromNumber(this.ge)}ye(e,t,r){let s=e.add(t.multiply(os.fromNumber(r)));return s.compare(QN)===1&&(s=new os([s.getBits(0),s.getBits(1)],0)),s.modulo(this.pe).toNumber()}we(e){return!!(this.bitmap[Math.floor(e/8)]&1<<e%8)}mightContain(e){if(this.ge===0)return!1;const t=Pw(e),[r,s]=kw(t);for(let a=0;a<this.hashCount;a++){const u=this.ye(r,s,a);if(!this.we(u))return!1}return!0}static create(e,t,r){const s=e%8==0?0:8-e%8,a=new Uint8Array(Math.ceil(e/8)),u=new lg(a,s,t);return r.forEach((d=>u.insert(d))),u}insert(e){if(this.ge===0)return;const t=Pw(e),[r,s]=kw(t);for(let a=0;a<this.hashCount;a++){const u=this.ye(r,s,a);this.be(u)}}be(e){const t=Math.floor(e/8),r=e%8;this.bitmap[t]|=1<<r}}class Wl extends Error{constructor(){super(...arguments),this.name="BloomFilterError"}}class Ad{constructor(e,t,r,s,a){this.snapshotVersion=e,this.targetChanges=t,this.targetMismatches=r,this.documentUpdates=s,this.resolvedLimboDocuments=a}static createSynthesizedRemoteEventForCurrentChange(e,t,r){const s=new Map;return s.set(e,xu.createSynthesizedTargetChangeForCurrentChange(e,t,r)),new Ad(Ne.min(),s,new ht(Fe),mi(),je())}}class xu{constructor(e,t,r,s,a){this.resumeToken=e,this.current=t,this.addedDocuments=r,this.modifiedDocuments=s,this.removedDocuments=a}static createSynthesizedTargetChangeForCurrentChange(e,t,r){return new xu(r,t,je(),je(),je())}}class Ah{constructor(e,t,r,s){this.Se=e,this.removedTargetIds=t,this.key=r,this.De=s}}class f0{constructor(e,t){this.targetId=e,this.Ce=t}}class p0{constructor(e,t,r=Ht.EMPTY_BYTE_STRING,s=null){this.state=e,this.targetIds=t,this.resumeToken=r,this.cause=s}}class Cw{constructor(){this.ve=0,this.Fe=bw(),this.Me=Ht.EMPTY_BYTE_STRING,this.xe=!1,this.Oe=!0}get current(){return this.xe}get resumeToken(){return this.Me}get Ne(){return this.ve!==0}get Be(){return this.Oe}Le(e){e.approximateByteSize()>0&&(this.Oe=!0,this.Me=e)}ke(){let e=je(),t=je(),r=je();return this.Fe.forEach(((s,a)=>{switch(a){case 0:e=e.add(s);break;case 2:t=t.add(s);break;case 1:r=r.add(s);break;default:Pe(38017,{changeType:a})}})),new xu(this.Me,this.xe,e,t,r)}Ke(){this.Oe=!1,this.Fe=bw()}qe(e,t){this.Oe=!0,this.Fe=this.Fe.insert(e,t)}Ue(e){this.Oe=!0,this.Fe=this.Fe.remove(e)}$e(){this.ve+=1}We(){this.ve-=1,Ke(this.ve>=0,3241,{ve:this.ve})}Qe(){this.Oe=!0,this.xe=!0}}class YN{constructor(e){this.Ge=e,this.ze=new Map,this.je=mi(),this.He=lh(),this.Je=lh(),this.Ze=new ht(Fe)}Xe(e){for(const t of e.Se)e.De&&e.De.isFoundDocument()?this.Ye(t,e.De):this.et(t,e.key,e.De);for(const t of e.removedTargetIds)this.et(t,e.key,e.De)}tt(e){this.forEachTarget(e,(t=>{const r=this.nt(t);switch(e.state){case 0:this.rt(t)&&r.Le(e.resumeToken);break;case 1:r.We(),r.Ne||r.Ke(),r.Le(e.resumeToken);break;case 2:r.We(),r.Ne||this.removeTarget(t);break;case 3:this.rt(t)&&(r.Qe(),r.Le(e.resumeToken));break;case 4:this.rt(t)&&(this.it(t),r.Le(e.resumeToken));break;default:Pe(56790,{state:e.state})}}))}forEachTarget(e,t){e.targetIds.length>0?e.targetIds.forEach(t):this.ze.forEach(((r,s)=>{this.rt(s)&&t(s)}))}st(e){const t=e.targetId,r=e.Ce.count,s=this.ot(t);if(s){const a=s.target;if(am(a))if(r===0){const u=new Se(a.path);this.et(t,u,Xt.newNoDocument(u,Ne.min()))}else Ke(r===1,20013,{expectedCount:r});else{const u=this._t(t);if(u!==r){const d=this.ut(e),f=d?this.ct(d,e,u):1;if(f!==0){this.it(t);const m=f===2?"TargetPurposeExistenceFilterMismatchBloom":"TargetPurposeExistenceFilterMismatch";this.Ze=this.Ze.insert(t,m)}}}}}ut(e){const t=e.Ce.unchangedNames;if(!t||!t.bits)return null;const{bits:{bitmap:r="",padding:s=0},hashCount:a=0}=t;let u,d;try{u=cs(r).toUint8Array()}catch(f){if(f instanceof UI)return ya("Decoding the base64 bloom filter in existence filter failed ("+f.message+"); ignoring the bloom filter and falling back to full re-query."),null;throw f}try{d=new lg(u,s,a)}catch(f){return ya(f instanceof Wl?"BloomFilter error: ":"Applying bloom filter failed: ",f),null}return d.ge===0?null:d}ct(e,t,r){return t.Ce.count===r-this.Pt(e,t.targetId)?0:2}Pt(e,t){const r=this.Ge.getRemoteKeysForTarget(t);let s=0;return r.forEach((a=>{const u=this.Ge.ht(),d=`projects/${u.projectId}/databases/${u.database}/documents/${a.path.canonicalString()}`;e.mightContain(d)||(this.et(t,a,null),s++)})),s}Tt(e){const t=new Map;this.ze.forEach(((a,u)=>{const d=this.ot(u);if(d){if(a.current&&am(d.target)){const f=new Se(d.target.path);this.It(f).has(u)||this.Et(u,f)||this.et(u,f,Xt.newNoDocument(f,e))}a.Be&&(t.set(u,a.ke()),a.Ke())}}));let r=je();this.Je.forEach(((a,u)=>{let d=!0;u.forEachWhile((f=>{const m=this.ot(f);return!m||m.purpose==="TargetPurposeLimboResolution"||(d=!1,!1)})),d&&(r=r.add(a))})),this.je.forEach(((a,u)=>u.setReadTime(e)));const s=new Ad(e,t,this.Ze,this.je,r);return this.je=mi(),this.He=lh(),this.Je=lh(),this.Ze=new ht(Fe),s}Ye(e,t){if(!this.rt(e))return;const r=this.Et(e,t.key)?2:0;this.nt(e).qe(t.key,r),this.je=this.je.insert(t.key,t),this.He=this.He.insert(t.key,this.It(t.key).add(e)),this.Je=this.Je.insert(t.key,this.Rt(t.key).add(e))}et(e,t,r){if(!this.rt(e))return;const s=this.nt(e);this.Et(e,t)?s.qe(t,1):s.Ue(t),this.Je=this.Je.insert(t,this.Rt(t).delete(e)),this.Je=this.Je.insert(t,this.Rt(t).add(e)),r&&(this.je=this.je.insert(t,r))}removeTarget(e){this.ze.delete(e)}_t(e){const t=this.nt(e).ke();return this.Ge.getRemoteKeysForTarget(e).size+t.addedDocuments.size-t.removedDocuments.size}$e(e){this.nt(e).$e()}nt(e){let t=this.ze.get(e);return t||(t=new Cw,this.ze.set(e,t)),t}Rt(e){let t=this.Je.get(e);return t||(t=new xt(Fe),this.Je=this.Je.insert(e,t)),t}It(e){let t=this.He.get(e);return t||(t=new xt(Fe),this.He=this.He.insert(e,t)),t}rt(e){const t=this.ot(e)!==null;return t||ge("WatchChangeAggregator","Detected inactive target",e),t}ot(e){const t=this.ze.get(e);return t&&t.Ne?null:this.Ge.At(e)}it(e){this.ze.set(e,new Cw),this.Ge.getRemoteKeysForTarget(e).forEach((t=>{this.et(e,t,null)}))}Et(e,t){return this.Ge.getRemoteKeysForTarget(e).has(t)}}function lh(){return new ht(Se.comparator)}function bw(){return new ht(Se.comparator)}const JN={asc:"ASCENDING",desc:"DESCENDING"},XN={"<":"LESS_THAN","<=":"LESS_THAN_OR_EQUAL",">":"GREATER_THAN",">=":"GREATER_THAN_OR_EQUAL","==":"EQUAL","!=":"NOT_EQUAL","array-contains":"ARRAY_CONTAINS",in:"IN","not-in":"NOT_IN","array-contains-any":"ARRAY_CONTAINS_ANY"},ZN={and:"AND",or:"OR"};class ex{constructor(e,t){this.databaseId=e,this.useProto3Json=t}}function um(n,e){return n.useProto3Json||yd(e)?e:{value:e}}function Fh(n,e){return n.useProto3Json?`${new Date(1e3*e.seconds).toISOString().replace(/\.\d*/,"").replace("Z","")}.${("000000000"+e.nanoseconds).slice(-9)}Z`:{seconds:""+e.seconds,nanos:e.nanoseconds}}function m0(n,e){return n.useProto3Json?e.toBase64():e.toUint8Array()}function tx(n,e){return Fh(n,e.toTimestamp())}function Lr(n){return Ke(!!n,49232),Ne.fromTimestamp((function(t){const r=us(t);return new it(r.seconds,r.nanos)})(n))}function ug(n,e){return cm(n,e).canonicalString()}function cm(n,e){const t=(function(s){return new et(["projects",s.projectId,"databases",s.database])})(n).child("documents");return e===void 0?t:t.child(e)}function g0(n){const e=et.fromString(n);return Ke(E0(e),10190,{key:e.toString()}),e}function hm(n,e){return ug(n.databaseId,e.path)}function bp(n,e){const t=g0(e);if(t.get(1)!==n.databaseId.projectId)throw new ue(G.INVALID_ARGUMENT,"Tried to deserialize key from different project: "+t.get(1)+" vs "+n.databaseId.projectId);if(t.get(3)!==n.databaseId.database)throw new ue(G.INVALID_ARGUMENT,"Tried to deserialize key from different database: "+t.get(3)+" vs "+n.databaseId.database);return new Se(_0(t))}function y0(n,e){return ug(n.databaseId,e)}function nx(n){const e=g0(n);return e.length===4?et.emptyPath():_0(e)}function dm(n){return new et(["projects",n.databaseId.projectId,"databases",n.databaseId.database]).canonicalString()}function _0(n){return Ke(n.length>4&&n.get(4)==="documents",29091,{key:n.toString()}),n.popFirst(5)}function Nw(n,e,t){return{name:hm(n,e),fields:t.value.mapValue.fields}}function rx(n,e){let t;if("targetChange"in e){e.targetChange;const r=(function(m){return m==="NO_CHANGE"?0:m==="ADD"?1:m==="REMOVE"?2:m==="CURRENT"?3:m==="RESET"?4:Pe(39313,{state:m})})(e.targetChange.targetChangeType||"NO_CHANGE"),s=e.targetChange.targetIds||[],a=(function(m,g){return m.useProto3Json?(Ke(g===void 0||typeof g=="string",58123),Ht.fromBase64String(g||"")):(Ke(g===void 0||g instanceof Buffer||g instanceof Uint8Array,16193),Ht.fromUint8Array(g||new Uint8Array))})(n,e.targetChange.resumeToken),u=e.targetChange.cause,d=u&&(function(m){const g=m.code===void 0?G.UNKNOWN:d0(m.code);return new ue(g,m.message||"")})(u);t=new p0(r,s,a,d||null)}else if("documentChange"in e){e.documentChange;const r=e.documentChange;r.document,r.document.name,r.document.updateTime;const s=bp(n,r.document.name),a=Lr(r.document.updateTime),u=r.document.createTime?Lr(r.document.createTime):Ne.min(),d=new _n({mapValue:{fields:r.document.fields}}),f=Xt.newFoundDocument(s,a,u,d),m=r.targetIds||[],g=r.removedTargetIds||[];t=new Ah(m,g,f.key,f)}else if("documentDelete"in e){e.documentDelete;const r=e.documentDelete;r.document;const s=bp(n,r.document),a=r.readTime?Lr(r.readTime):Ne.min(),u=Xt.newNoDocument(s,a),d=r.removedTargetIds||[];t=new Ah([],d,u.key,u)}else if("documentRemove"in e){e.documentRemove;const r=e.documentRemove;r.document;const s=bp(n,r.document),a=r.removedTargetIds||[];t=new Ah([],a,s,null)}else{if(!("filter"in e))return Pe(11601,{Vt:e});{e.filter;const r=e.filter;r.targetId;const{count:s=0,unchangedNames:a}=r,u=new WN(s,a),d=r.targetId;t=new f0(d,u)}}return t}function ix(n,e){let t;if(e instanceof Nu)t={update:Nw(n,e.key,e.value)};else if(e instanceof Sd)t={delete:hm(n,e.key)};else if(e instanceof gs)t={update:Nw(n,e.key,e.data),updateMask:fx(e.fieldMask)};else{if(!(e instanceof $N))return Pe(16599,{dt:e.type});t={verify:hm(n,e.key)}}return e.fieldTransforms.length>0&&(t.updateTransforms=e.fieldTransforms.map((r=>(function(a,u){const d=u.transform;if(d instanceof yu)return{fieldPath:u.field.canonicalString(),setToServerValue:"REQUEST_TIME"};if(d instanceof Ea)return{fieldPath:u.field.canonicalString(),appendMissingElements:{values:d.elements}};if(d instanceof _u)return{fieldPath:u.field.canonicalString(),removeAllFromArray:{values:d.elements}};if(d instanceof vu)return{fieldPath:u.field.canonicalString(),increment:d.Ae};throw Pe(20930,{transform:u.transform})})(0,r)))),e.precondition.isNone||(t.currentDocument=(function(s,a){return a.updateTime!==void 0?{updateTime:tx(s,a.updateTime)}:a.exists!==void 0?{exists:a.exists}:Pe(27497)})(n,e.precondition)),t}function sx(n,e){return n&&n.length>0?(Ke(e!==void 0,14353),n.map((t=>(function(s,a){let u=s.updateTime?Lr(s.updateTime):Lr(a);return u.isEqual(Ne.min())&&(u=Lr(a)),new jN(u,s.transformResults||[])})(t,e)))):[]}function ox(n,e){return{documents:[y0(n,e.path)]}}function ax(n,e){const t={structuredQuery:{}},r=e.path;let s;e.collectionGroup!==null?(s=r,t.structuredQuery.from=[{collectionId:e.collectionGroup,allDescendants:!0}]):(s=r.popLast(),t.structuredQuery.from=[{collectionId:r.lastSegment()}]),t.parent=y0(n,s);const a=(function(m){if(m.length!==0)return w0(ur.create(m,"and"))})(e.filters);a&&(t.structuredQuery.where=a);const u=(function(m){if(m.length!==0)return m.map((g=>(function(w){return{field:oa(w.field),direction:cx(w.dir)}})(g)))})(e.orderBy);u&&(t.structuredQuery.orderBy=u);const d=um(n,e.limit);return d!==null&&(t.structuredQuery.limit=d),e.startAt&&(t.structuredQuery.startAt=(function(m){return{before:m.inclusive,values:m.position}})(e.startAt)),e.endAt&&(t.structuredQuery.endAt=(function(m){return{before:!m.inclusive,values:m.position}})(e.endAt)),{ft:t,parent:s}}function lx(n){let e=nx(n.parent);const t=n.structuredQuery,r=t.from?t.from.length:0;let s=null;if(r>0){Ke(r===1,65062);const g=t.from[0];g.allDescendants?s=g.collectionId:e=e.child(g.collectionId)}let a=[];t.where&&(a=(function(E){const w=v0(E);return w instanceof ur&&KI(w)?w.getFilters():[w]})(t.where));let u=[];t.orderBy&&(u=(function(E){return E.map((w=>(function(O){return new gu(aa(O.field),(function(M){switch(M){case"ASCENDING":return"asc";case"DESCENDING":return"desc";default:return}})(O.direction))})(w)))})(t.orderBy));let d=null;t.limit&&(d=(function(E){let w;return w=typeof E=="object"?E.value:E,yd(w)?null:w})(t.limit));let f=null;t.startAt&&(f=(function(E){const w=!!E.before,A=E.values||[];return new Mh(A,w)})(t.startAt));let m=null;return t.endAt&&(m=(function(E){const w=!E.before,A=E.values||[];return new Mh(A,w)})(t.endAt)),RN(e,s,u,a,d,"F",f,m)}function ux(n,e){const t=(function(s){switch(s){case"TargetPurposeListen":return null;case"TargetPurposeExistenceFilterMismatch":return"existence-filter-mismatch";case"TargetPurposeExistenceFilterMismatchBloom":return"existence-filter-mismatch-bloom";case"TargetPurposeLimboResolution":return"limbo-document";default:return Pe(28987,{purpose:s})}})(e.purpose);return t==null?null:{"goog-listen-tags":t}}function v0(n){return n.unaryFilter!==void 0?(function(t){switch(t.unaryFilter.op){case"IS_NAN":const r=aa(t.unaryFilter.field);return kt.create(r,"==",{doubleValue:NaN});case"IS_NULL":const s=aa(t.unaryFilter.field);return kt.create(s,"==",{nullValue:"NULL_VALUE"});case"IS_NOT_NAN":const a=aa(t.unaryFilter.field);return kt.create(a,"!=",{doubleValue:NaN});case"IS_NOT_NULL":const u=aa(t.unaryFilter.field);return kt.create(u,"!=",{nullValue:"NULL_VALUE"});case"OPERATOR_UNSPECIFIED":return Pe(61313);default:return Pe(60726)}})(n):n.fieldFilter!==void 0?(function(t){return kt.create(aa(t.fieldFilter.field),(function(s){switch(s){case"EQUAL":return"==";case"NOT_EQUAL":return"!=";case"GREATER_THAN":return">";case"GREATER_THAN_OR_EQUAL":return">=";case"LESS_THAN":return"<";case"LESS_THAN_OR_EQUAL":return"<=";case"ARRAY_CONTAINS":return"array-contains";case"IN":return"in";case"NOT_IN":return"not-in";case"ARRAY_CONTAINS_ANY":return"array-contains-any";case"OPERATOR_UNSPECIFIED":return Pe(58110);default:return Pe(50506)}})(t.fieldFilter.op),t.fieldFilter.value)})(n):n.compositeFilter!==void 0?(function(t){return ur.create(t.compositeFilter.filters.map((r=>v0(r))),(function(s){switch(s){case"AND":return"and";case"OR":return"or";default:return Pe(1026)}})(t.compositeFilter.op))})(n):Pe(30097,{filter:n})}function cx(n){return JN[n]}function hx(n){return XN[n]}function dx(n){return ZN[n]}function oa(n){return{fieldPath:n.canonicalString()}}function aa(n){return $t.fromServerFormat(n.fieldPath)}function w0(n){return n instanceof kt?(function(t){if(t.op==="=="){if(_w(t.value))return{unaryFilter:{field:oa(t.field),op:"IS_NAN"}};if(yw(t.value))return{unaryFilter:{field:oa(t.field),op:"IS_NULL"}}}else if(t.op==="!="){if(_w(t.value))return{unaryFilter:{field:oa(t.field),op:"IS_NOT_NAN"}};if(yw(t.value))return{unaryFilter:{field:oa(t.field),op:"IS_NOT_NULL"}}}return{fieldFilter:{field:oa(t.field),op:hx(t.op),value:t.value}}})(n):n instanceof ur?(function(t){const r=t.getFilters().map((s=>w0(s)));return r.length===1?r[0]:{compositeFilter:{op:dx(t.op),filters:r}}})(n):Pe(54877,{filter:n})}function fx(n){const e=[];return n.fields.forEach((t=>e.push(t.canonicalString()))),{fieldPaths:e}}function E0(n){return n.length>=4&&n.get(0)==="projects"&&n.get(2)==="databases"}function T0(n){return!!n&&typeof n._toProto=="function"&&n._protoValueType==="ProtoValue"}class ns{constructor(e,t,r,s,a=Ne.min(),u=Ne.min(),d=Ht.EMPTY_BYTE_STRING,f=null){this.target=e,this.targetId=t,this.purpose=r,this.sequenceNumber=s,this.snapshotVersion=a,this.lastLimboFreeSnapshotVersion=u,this.resumeToken=d,this.expectedCount=f}withSequenceNumber(e){return new ns(this.target,this.targetId,this.purpose,e,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,this.expectedCount)}withResumeToken(e,t){return new ns(this.target,this.targetId,this.purpose,this.sequenceNumber,t,this.lastLimboFreeSnapshotVersion,e,null)}withExpectedCount(e){return new ns(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,e)}withLastLimboFreeSnapshotVersion(e){return new ns(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,e,this.resumeToken,this.expectedCount)}}class px{constructor(e){this.yt=e}}function mx(n){const e=lx({parent:n.parent,structuredQuery:n.structuredQuery});return n.limitType==="LAST"?Uh(e,e.limit,"L"):e}class gx{constructor(){this.Sn=new yx}addToCollectionParentIndex(e,t){return this.Sn.add(t),K.resolve()}getCollectionParents(e,t){return K.resolve(this.Sn.getEntries(t))}addFieldIndex(e,t){return K.resolve()}deleteFieldIndex(e,t){return K.resolve()}deleteAllFieldIndexes(e){return K.resolve()}createTargetIndexes(e,t){return K.resolve()}getDocumentsMatchingTarget(e,t){return K.resolve(null)}getIndexType(e,t){return K.resolve(0)}getFieldIndexes(e,t){return K.resolve([])}getNextCollectionGroupToUpdate(e){return K.resolve(null)}getMinOffset(e,t){return K.resolve(ls.min())}getMinOffsetFromCollectionGroup(e,t){return K.resolve(ls.min())}updateCollectionGroup(e,t,r){return K.resolve()}updateIndexEntries(e,t){return K.resolve()}}class yx{constructor(){this.index={}}add(e){const t=e.lastSegment(),r=e.popLast(),s=this.index[t]||new xt(et.comparator),a=!s.has(r);return this.index[t]=s.add(r),a}has(e){const t=e.lastSegment(),r=e.popLast(),s=this.index[t];return s&&s.has(r)}getEntries(e){return(this.index[e]||new xt(et.comparator)).toArray()}}const xw={didRun:!1,sequenceNumbersCollected:0,targetsRemoved:0,documentsRemoved:0},I0=41943040;class yn{static withCacheSize(e){return new yn(e,yn.DEFAULT_COLLECTION_PERCENTILE,yn.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT)}constructor(e,t,r){this.cacheSizeCollectionThreshold=e,this.percentileToCollect=t,this.maximumSequenceNumbersToCollect=r}}yn.DEFAULT_COLLECTION_PERCENTILE=10,yn.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT=1e3,yn.DEFAULT=new yn(I0,yn.DEFAULT_COLLECTION_PERCENTILE,yn.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT),yn.DISABLED=new yn(-1,0,0);class Ta{constructor(e){this.sr=e}next(){return this.sr+=2,this.sr}static _r(){return new Ta(0)}static ar(){return new Ta(-1)}}const Ow="LruGarbageCollector",_x=1048576;function Dw([n,e],[t,r]){const s=Fe(n,t);return s===0?Fe(e,r):s}class vx{constructor(e){this.Pr=e,this.buffer=new xt(Dw),this.Tr=0}Ir(){return++this.Tr}Er(e){const t=[e,this.Ir()];if(this.buffer.size<this.Pr)this.buffer=this.buffer.add(t);else{const r=this.buffer.last();Dw(t,r)<0&&(this.buffer=this.buffer.delete(r).add(t))}}get maxValue(){return this.buffer.last()[0]}}class wx{constructor(e,t,r){this.garbageCollector=e,this.asyncQueue=t,this.localStore=r,this.Rr=null}start(){this.garbageCollector.params.cacheSizeCollectionThreshold!==-1&&this.Ar(6e4)}stop(){this.Rr&&(this.Rr.cancel(),this.Rr=null)}get started(){return this.Rr!==null}Ar(e){ge(Ow,`Garbage collection scheduled in ${e}ms`),this.Rr=this.asyncQueue.enqueueAfterDelay("lru_garbage_collection",e,(async()=>{this.Rr=null;try{await this.localStore.collectGarbage(this.garbageCollector)}catch(t){xa(t)?ge(Ow,"Ignoring IndexedDB error during garbage collection: ",t):await Na(t)}await this.Ar(3e5)}))}}class Ex{constructor(e,t){this.Vr=e,this.params=t}calculateTargetCount(e,t){return this.Vr.dr(e).next((r=>Math.floor(t/100*r)))}nthSequenceNumber(e,t){if(t===0)return K.resolve(gd.ce);const r=new vx(t);return this.Vr.forEachTarget(e,(s=>r.Er(s.sequenceNumber))).next((()=>this.Vr.mr(e,(s=>r.Er(s))))).next((()=>r.maxValue))}removeTargets(e,t,r){return this.Vr.removeTargets(e,t,r)}removeOrphanedDocuments(e,t){return this.Vr.removeOrphanedDocuments(e,t)}collect(e,t){return this.params.cacheSizeCollectionThreshold===-1?(ge("LruGarbageCollector","Garbage collection skipped; disabled"),K.resolve(xw)):this.getCacheSize(e).next((r=>r<this.params.cacheSizeCollectionThreshold?(ge("LruGarbageCollector",`Garbage collection skipped; Cache size ${r} is lower than threshold ${this.params.cacheSizeCollectionThreshold}`),xw):this.gr(e,t)))}getCacheSize(e){return this.Vr.getCacheSize(e)}gr(e,t){let r,s,a,u,d,f,m;const g=Date.now();return this.calculateTargetCount(e,this.params.percentileToCollect).next((E=>(E>this.params.maximumSequenceNumbersToCollect?(ge("LruGarbageCollector",`Capping sequence numbers to collect down to the maximum of ${this.params.maximumSequenceNumbersToCollect} from ${E}`),s=this.params.maximumSequenceNumbersToCollect):s=E,u=Date.now(),this.nthSequenceNumber(e,s)))).next((E=>(r=E,d=Date.now(),this.removeTargets(e,r,t)))).next((E=>(a=E,f=Date.now(),this.removeOrphanedDocuments(e,r)))).next((E=>(m=Date.now(),ia()<=Ue.DEBUG&&ge("LruGarbageCollector",`LRU Garbage Collection
	Counted targets in ${u-g}ms
	Determined least recently used ${s} in `+(d-u)+`ms
	Removed ${a} targets in `+(f-d)+`ms
	Removed ${E} documents in `+(m-f)+`ms
Total Duration: ${m-g}ms`),K.resolve({didRun:!0,sequenceNumbersCollected:s,targetsRemoved:a,documentsRemoved:E}))))}}function Tx(n,e){return new Ex(n,e)}class Ix{constructor(){this.changes=new co((e=>e.toString()),((e,t)=>e.isEqual(t))),this.changesApplied=!1}addEntry(e){this.assertNotApplied(),this.changes.set(e.key,e)}removeEntry(e,t){this.assertNotApplied(),this.changes.set(e,Xt.newInvalidDocument(e).setReadTime(t))}getEntry(e,t){this.assertNotApplied();const r=this.changes.get(t);return r!==void 0?K.resolve(r):this.getFromCache(e,t)}getEntries(e,t){return this.getAllFromCache(e,t)}apply(e){return this.assertNotApplied(),this.changesApplied=!0,this.applyChanges(e)}assertNotApplied(){}}class Sx{constructor(e,t){this.overlayedDocument=e,this.mutatedFields=t}}class Ax{constructor(e,t,r,s){this.remoteDocumentCache=e,this.mutationQueue=t,this.documentOverlayCache=r,this.indexManager=s}getDocument(e,t){let r=null;return this.documentOverlayCache.getOverlay(e,t).next((s=>(r=s,this.remoteDocumentCache.getEntry(e,t)))).next((s=>(r!==null&&ru(r.mutation,s,bn.empty(),it.now()),s)))}getDocuments(e,t){return this.remoteDocumentCache.getEntries(e,t).next((r=>this.getLocalViewOfDocuments(e,r,je()).next((()=>r))))}getLocalViewOfDocuments(e,t,r=je()){const s=Ws();return this.populateOverlays(e,s,t).next((()=>this.computeViews(e,t,s,r).next((a=>{let u=ql();return a.forEach(((d,f)=>{u=u.insert(d,f.overlayedDocument)})),u}))))}getOverlayedDocuments(e,t){const r=Ws();return this.populateOverlays(e,r,t).next((()=>this.computeViews(e,t,r,je())))}populateOverlays(e,t,r){const s=[];return r.forEach((a=>{t.has(a)||s.push(a)})),this.documentOverlayCache.getOverlays(e,s).next((a=>{a.forEach(((u,d)=>{t.set(u,d)}))}))}computeViews(e,t,r,s){let a=mi();const u=nu(),d=(function(){return nu()})();return t.forEach(((f,m)=>{const g=r.get(m.key);s.has(m.key)&&(g===void 0||g.mutation instanceof gs)?a=a.insert(m.key,m):g!==void 0?(u.set(m.key,g.mutation.getFieldMask()),ru(g.mutation,m,g.mutation.getFieldMask(),it.now())):u.set(m.key,bn.empty())})),this.recalculateAndSaveOverlays(e,a).next((f=>(f.forEach(((m,g)=>u.set(m,g))),t.forEach(((m,g)=>d.set(m,new Sx(g,u.get(m)??null)))),d)))}recalculateAndSaveOverlays(e,t){const r=nu();let s=new ht(((u,d)=>u-d)),a=je();return this.mutationQueue.getAllMutationBatchesAffectingDocumentKeys(e,t).next((u=>{for(const d of u)d.keys().forEach((f=>{const m=t.get(f);if(m===null)return;let g=r.get(f)||bn.empty();g=d.applyToLocalView(m,g),r.set(f,g);const E=(s.get(d.batchId)||je()).add(f);s=s.insert(d.batchId,E)}))})).next((()=>{const u=[],d=s.getReverseIterator();for(;d.hasNext();){const f=d.getNext(),m=f.key,g=f.value,E=r0();g.forEach((w=>{if(!a.has(w)){const A=c0(t.get(w),r.get(w));A!==null&&E.set(w,A),a=a.add(w)}})),u.push(this.documentOverlayCache.saveOverlays(e,m,E))}return K.waitFor(u)})).next((()=>r))}recalculateAndSaveOverlaysForDocumentKeys(e,t){return this.remoteDocumentCache.getEntries(e,t).next((r=>this.recalculateAndSaveOverlays(e,r)))}getDocumentsMatchingQuery(e,t,r,s){return PN(t)?this.getDocumentsMatchingDocumentQuery(e,t.path):XI(t)?this.getDocumentsMatchingCollectionGroupQuery(e,t,r,s):this.getDocumentsMatchingCollectionQuery(e,t,r,s)}getNextDocuments(e,t,r,s){return this.remoteDocumentCache.getAllFromCollectionGroup(e,t,r,s).next((a=>{const u=s-a.size>0?this.documentOverlayCache.getOverlaysForCollectionGroup(e,t,r.largestBatchId,s-a.size):K.resolve(Ws());let d=du,f=a;return u.next((m=>K.forEach(m,((g,E)=>(d<E.largestBatchId&&(d=E.largestBatchId),a.get(g)?K.resolve():this.remoteDocumentCache.getEntry(e,g).next((w=>{f=f.insert(g,w)}))))).next((()=>this.populateOverlays(e,m,a))).next((()=>this.computeViews(e,f,m,je()))).next((g=>({batchId:d,changes:n0(g)})))))}))}getDocumentsMatchingDocumentQuery(e,t){return this.getDocument(e,new Se(t)).next((r=>{let s=ql();return r.isFoundDocument()&&(s=s.insert(r.key,r)),s}))}getDocumentsMatchingCollectionGroupQuery(e,t,r,s){const a=t.collectionGroup;let u=ql();return this.indexManager.getCollectionParents(e,a).next((d=>K.forEach(d,(f=>{const m=(function(E,w){return new Oa(w,null,E.explicitOrderBy.slice(),E.filters.slice(),E.limit,E.limitType,E.startAt,E.endAt)})(t,f.child(a));return this.getDocumentsMatchingCollectionQuery(e,m,r,s).next((g=>{g.forEach(((E,w)=>{u=u.insert(E,w)}))}))})).next((()=>u))))}getDocumentsMatchingCollectionQuery(e,t,r,s){let a;return this.documentOverlayCache.getOverlaysForCollection(e,t.path,r.largestBatchId).next((u=>(a=u,this.remoteDocumentCache.getDocumentsMatchingQuery(e,t,r,a,s)))).next((u=>{a.forEach(((f,m)=>{const g=m.getKey();u.get(g)===null&&(u=u.insert(g,Xt.newInvalidDocument(g)))}));let d=ql();return u.forEach(((f,m)=>{const g=a.get(f);g!==void 0&&ru(g.mutation,m,bn.empty(),it.now()),Ed(t,m)&&(d=d.insert(f,m))})),d}))}}class Rx{constructor(e){this.serializer=e,this.Nr=new Map,this.Br=new Map}getBundleMetadata(e,t){return K.resolve(this.Nr.get(t))}saveBundleMetadata(e,t){return this.Nr.set(t.id,(function(s){return{id:s.id,version:s.version,createTime:Lr(s.createTime)}})(t)),K.resolve()}getNamedQuery(e,t){return K.resolve(this.Br.get(t))}saveNamedQuery(e,t){return this.Br.set(t.name,(function(s){return{name:s.name,query:mx(s.bundledQuery),readTime:Lr(s.readTime)}})(t)),K.resolve()}}class Px{constructor(){this.overlays=new ht(Se.comparator),this.Lr=new Map}getOverlay(e,t){return K.resolve(this.overlays.get(t))}getOverlays(e,t){const r=Ws();return K.forEach(t,(s=>this.getOverlay(e,s).next((a=>{a!==null&&r.set(s,a)})))).next((()=>r))}saveOverlays(e,t,r){return r.forEach(((s,a)=>{this.bt(e,t,a)})),K.resolve()}removeOverlaysForBatchId(e,t,r){const s=this.Lr.get(r);return s!==void 0&&(s.forEach((a=>this.overlays=this.overlays.remove(a))),this.Lr.delete(r)),K.resolve()}getOverlaysForCollection(e,t,r){const s=Ws(),a=t.length+1,u=new Se(t.child("")),d=this.overlays.getIteratorFrom(u);for(;d.hasNext();){const f=d.getNext().value,m=f.getKey();if(!t.isPrefixOf(m.path))break;m.path.length===a&&f.largestBatchId>r&&s.set(f.getKey(),f)}return K.resolve(s)}getOverlaysForCollectionGroup(e,t,r,s){let a=new ht(((m,g)=>m-g));const u=this.overlays.getIterator();for(;u.hasNext();){const m=u.getNext().value;if(m.getKey().getCollectionGroup()===t&&m.largestBatchId>r){let g=a.get(m.largestBatchId);g===null&&(g=Ws(),a=a.insert(m.largestBatchId,g)),g.set(m.getKey(),m)}}const d=Ws(),f=a.getIterator();for(;f.hasNext()&&(f.getNext().value.forEach(((m,g)=>d.set(m,g))),!(d.size()>=s)););return K.resolve(d)}bt(e,t,r){const s=this.overlays.get(r.key);if(s!==null){const u=this.Lr.get(s.largestBatchId).delete(r.key);this.Lr.set(s.largestBatchId,u)}this.overlays=this.overlays.insert(r.key,new qN(t,r));let a=this.Lr.get(t);a===void 0&&(a=je(),this.Lr.set(t,a)),this.Lr.set(t,a.add(r.key))}}class kx{constructor(){this.sessionToken=Ht.EMPTY_BYTE_STRING}getSessionToken(e){return K.resolve(this.sessionToken)}setSessionToken(e,t){return this.sessionToken=t,K.resolve()}}class cg{constructor(){this.kr=new xt(Vt.Kr),this.qr=new xt(Vt.Ur)}isEmpty(){return this.kr.isEmpty()}addReference(e,t){const r=new Vt(e,t);this.kr=this.kr.add(r),this.qr=this.qr.add(r)}$r(e,t){e.forEach((r=>this.addReference(r,t)))}removeReference(e,t){this.Wr(new Vt(e,t))}Qr(e,t){e.forEach((r=>this.removeReference(r,t)))}Gr(e){const t=new Se(new et([])),r=new Vt(t,e),s=new Vt(t,e+1),a=[];return this.qr.forEachInRange([r,s],(u=>{this.Wr(u),a.push(u.key)})),a}zr(){this.kr.forEach((e=>this.Wr(e)))}Wr(e){this.kr=this.kr.delete(e),this.qr=this.qr.delete(e)}jr(e){const t=new Se(new et([])),r=new Vt(t,e),s=new Vt(t,e+1);let a=je();return this.qr.forEachInRange([r,s],(u=>{a=a.add(u.key)})),a}containsKey(e){const t=new Vt(e,0),r=this.kr.firstAfterOrEqual(t);return r!==null&&e.isEqual(r.key)}}class Vt{constructor(e,t){this.key=e,this.Hr=t}static Kr(e,t){return Se.comparator(e.key,t.key)||Fe(e.Hr,t.Hr)}static Ur(e,t){return Fe(e.Hr,t.Hr)||Se.comparator(e.key,t.key)}}class Cx{constructor(e,t){this.indexManager=e,this.referenceDelegate=t,this.mutationQueue=[],this.Yn=1,this.Jr=new xt(Vt.Kr)}checkEmpty(e){return K.resolve(this.mutationQueue.length===0)}addMutationBatch(e,t,r,s){const a=this.Yn;this.Yn++,this.mutationQueue.length>0&&this.mutationQueue[this.mutationQueue.length-1];const u=new HN(a,t,r,s);this.mutationQueue.push(u);for(const d of s)this.Jr=this.Jr.add(new Vt(d.key,a)),this.indexManager.addToCollectionParentIndex(e,d.key.path.popLast());return K.resolve(u)}lookupMutationBatch(e,t){return K.resolve(this.Zr(t))}getNextMutationBatchAfterBatchId(e,t){const r=t+1,s=this.Xr(r),a=s<0?0:s;return K.resolve(this.mutationQueue.length>a?this.mutationQueue[a]:null)}getHighestUnacknowledgedBatchId(){return K.resolve(this.mutationQueue.length===0?eg:this.Yn-1)}getAllMutationBatches(e){return K.resolve(this.mutationQueue.slice())}getAllMutationBatchesAffectingDocumentKey(e,t){const r=new Vt(t,0),s=new Vt(t,Number.POSITIVE_INFINITY),a=[];return this.Jr.forEachInRange([r,s],(u=>{const d=this.Zr(u.Hr);a.push(d)})),K.resolve(a)}getAllMutationBatchesAffectingDocumentKeys(e,t){let r=new xt(Fe);return t.forEach((s=>{const a=new Vt(s,0),u=new Vt(s,Number.POSITIVE_INFINITY);this.Jr.forEachInRange([a,u],(d=>{r=r.add(d.Hr)}))})),K.resolve(this.Yr(r))}getAllMutationBatchesAffectingQuery(e,t){const r=t.path,s=r.length+1;let a=r;Se.isDocumentKey(a)||(a=a.child(""));const u=new Vt(new Se(a),0);let d=new xt(Fe);return this.Jr.forEachWhile((f=>{const m=f.key.path;return!!r.isPrefixOf(m)&&(m.length===s&&(d=d.add(f.Hr)),!0)}),u),K.resolve(this.Yr(d))}Yr(e){const t=[];return e.forEach((r=>{const s=this.Zr(r);s!==null&&t.push(s)})),t}removeMutationBatch(e,t){Ke(this.ei(t.batchId,"removed")===0,55003),this.mutationQueue.shift();let r=this.Jr;return K.forEach(t.mutations,(s=>{const a=new Vt(s.key,t.batchId);return r=r.delete(a),this.referenceDelegate.markPotentiallyOrphaned(e,s.key)})).next((()=>{this.Jr=r}))}nr(e){}containsKey(e,t){const r=new Vt(t,0),s=this.Jr.firstAfterOrEqual(r);return K.resolve(t.isEqual(s&&s.key))}performConsistencyCheck(e){return this.mutationQueue.length,K.resolve()}ei(e,t){return this.Xr(e)}Xr(e){return this.mutationQueue.length===0?0:e-this.mutationQueue[0].batchId}Zr(e){const t=this.Xr(e);return t<0||t>=this.mutationQueue.length?null:this.mutationQueue[t]}}class bx{constructor(e){this.ti=e,this.docs=(function(){return new ht(Se.comparator)})(),this.size=0}setIndexManager(e){this.indexManager=e}addEntry(e,t){const r=t.key,s=this.docs.get(r),a=s?s.size:0,u=this.ti(t);return this.docs=this.docs.insert(r,{document:t.mutableCopy(),size:u}),this.size+=u-a,this.indexManager.addToCollectionParentIndex(e,r.path.popLast())}removeEntry(e){const t=this.docs.get(e);t&&(this.docs=this.docs.remove(e),this.size-=t.size)}getEntry(e,t){const r=this.docs.get(t);return K.resolve(r?r.document.mutableCopy():Xt.newInvalidDocument(t))}getEntries(e,t){let r=mi();return t.forEach((s=>{const a=this.docs.get(s);r=r.insert(s,a?a.document.mutableCopy():Xt.newInvalidDocument(s))})),K.resolve(r)}getDocumentsMatchingQuery(e,t,r,s){let a=mi();const u=t.path,d=new Se(u.child("__id-9223372036854775808__")),f=this.docs.getIteratorFrom(d);for(;f.hasNext();){const{key:m,value:{document:g}}=f.getNext();if(!u.isPrefixOf(m.path))break;m.path.length>u.length+1||rN(nN(g),r)<=0||(s.has(g.key)||Ed(t,g))&&(a=a.insert(g.key,g.mutableCopy()))}return K.resolve(a)}getAllFromCollectionGroup(e,t,r,s){Pe(9500)}ni(e,t){return K.forEach(this.docs,(r=>t(r)))}newChangeBuffer(e){return new Nx(this)}getSize(e){return K.resolve(this.size)}}class Nx extends Ix{constructor(e){super(),this.Mr=e}applyChanges(e){const t=[];return this.changes.forEach(((r,s)=>{s.isValidDocument()?t.push(this.Mr.addEntry(e,s)):this.Mr.removeEntry(r)})),K.waitFor(t)}getFromCache(e,t){return this.Mr.getEntry(e,t)}getAllFromCache(e,t){return this.Mr.getEntries(e,t)}}class xx{constructor(e){this.persistence=e,this.ri=new co((t=>rg(t)),ig),this.lastRemoteSnapshotVersion=Ne.min(),this.highestTargetId=0,this.ii=0,this.si=new cg,this.targetCount=0,this.oi=Ta._r()}forEachTarget(e,t){return this.ri.forEach(((r,s)=>t(s))),K.resolve()}getLastRemoteSnapshotVersion(e){return K.resolve(this.lastRemoteSnapshotVersion)}getHighestSequenceNumber(e){return K.resolve(this.ii)}allocateTargetId(e){return this.highestTargetId=this.oi.next(),K.resolve(this.highestTargetId)}setTargetsMetadata(e,t,r){return r&&(this.lastRemoteSnapshotVersion=r),t>this.ii&&(this.ii=t),K.resolve()}lr(e){this.ri.set(e.target,e);const t=e.targetId;t>this.highestTargetId&&(this.oi=new Ta(t),this.highestTargetId=t),e.sequenceNumber>this.ii&&(this.ii=e.sequenceNumber)}addTargetData(e,t){return this.lr(t),this.targetCount+=1,K.resolve()}updateTargetData(e,t){return this.lr(t),K.resolve()}removeTargetData(e,t){return this.ri.delete(t.target),this.si.Gr(t.targetId),this.targetCount-=1,K.resolve()}removeTargets(e,t,r){let s=0;const a=[];return this.ri.forEach(((u,d)=>{d.sequenceNumber<=t&&r.get(d.targetId)===null&&(this.ri.delete(u),a.push(this.removeMatchingKeysForTargetId(e,d.targetId)),s++)})),K.waitFor(a).next((()=>s))}getTargetCount(e){return K.resolve(this.targetCount)}getTargetData(e,t){const r=this.ri.get(t)||null;return K.resolve(r)}addMatchingKeys(e,t,r){return this.si.$r(t,r),K.resolve()}removeMatchingKeys(e,t,r){this.si.Qr(t,r);const s=this.persistence.referenceDelegate,a=[];return s&&t.forEach((u=>{a.push(s.markPotentiallyOrphaned(e,u))})),K.waitFor(a)}removeMatchingKeysForTargetId(e,t){return this.si.Gr(t),K.resolve()}getMatchingKeysForTargetId(e,t){const r=this.si.jr(t);return K.resolve(r)}containsKey(e,t){return K.resolve(this.si.containsKey(t))}}class S0{constructor(e,t){this._i={},this.overlays={},this.ai=new gd(0),this.ui=!1,this.ui=!0,this.ci=new kx,this.referenceDelegate=e(this),this.li=new xx(this),this.indexManager=new gx,this.remoteDocumentCache=(function(s){return new bx(s)})((r=>this.referenceDelegate.hi(r))),this.serializer=new px(t),this.Pi=new Rx(this.serializer)}start(){return Promise.resolve()}shutdown(){return this.ui=!1,Promise.resolve()}get started(){return this.ui}setDatabaseDeletedListener(){}setNetworkEnabled(){}getIndexManager(e){return this.indexManager}getDocumentOverlayCache(e){let t=this.overlays[e.toKey()];return t||(t=new Px,this.overlays[e.toKey()]=t),t}getMutationQueue(e,t){let r=this._i[e.toKey()];return r||(r=new Cx(t,this.referenceDelegate),this._i[e.toKey()]=r),r}getGlobalsCache(){return this.ci}getTargetCache(){return this.li}getRemoteDocumentCache(){return this.remoteDocumentCache}getBundleCache(){return this.Pi}runTransaction(e,t,r){ge("MemoryPersistence","Starting transaction:",e);const s=new Ox(this.ai.next());return this.referenceDelegate.Ti(),r(s).next((a=>this.referenceDelegate.Ii(s).next((()=>a)))).toPromise().then((a=>(s.raiseOnCommittedEvent(),a)))}Ei(e,t){return K.or(Object.values(this._i).map((r=>()=>r.containsKey(e,t))))}}class Ox extends sN{constructor(e){super(),this.currentSequenceNumber=e}}class hg{constructor(e){this.persistence=e,this.Ri=new cg,this.Ai=null}static Vi(e){return new hg(e)}get di(){if(this.Ai)return this.Ai;throw Pe(60996)}addReference(e,t,r){return this.Ri.addReference(r,t),this.di.delete(r.toString()),K.resolve()}removeReference(e,t,r){return this.Ri.removeReference(r,t),this.di.add(r.toString()),K.resolve()}markPotentiallyOrphaned(e,t){return this.di.add(t.toString()),K.resolve()}removeTarget(e,t){this.Ri.Gr(t.targetId).forEach((s=>this.di.add(s.toString())));const r=this.persistence.getTargetCache();return r.getMatchingKeysForTargetId(e,t.targetId).next((s=>{s.forEach((a=>this.di.add(a.toString())))})).next((()=>r.removeTargetData(e,t)))}Ti(){this.Ai=new Set}Ii(e){const t=this.persistence.getRemoteDocumentCache().newChangeBuffer();return K.forEach(this.di,(r=>{const s=Se.fromPath(r);return this.mi(e,s).next((a=>{a||t.removeEntry(s,Ne.min())}))})).next((()=>(this.Ai=null,t.apply(e))))}updateLimboDocument(e,t){return this.mi(e,t).next((r=>{r?this.di.delete(t.toString()):this.di.add(t.toString())}))}hi(e){return 0}mi(e,t){return K.or([()=>K.resolve(this.Ri.containsKey(t)),()=>this.persistence.getTargetCache().containsKey(e,t),()=>this.persistence.Ei(e,t)])}}class jh{constructor(e,t){this.persistence=e,this.fi=new co((r=>lN(r.path)),((r,s)=>r.isEqual(s))),this.garbageCollector=Tx(this,t)}static Vi(e,t){return new jh(e,t)}Ti(){}Ii(e){return K.resolve()}forEachTarget(e,t){return this.persistence.getTargetCache().forEachTarget(e,t)}dr(e){const t=this.pr(e);return this.persistence.getTargetCache().getTargetCount(e).next((r=>t.next((s=>r+s))))}pr(e){let t=0;return this.mr(e,(r=>{t++})).next((()=>t))}mr(e,t){return K.forEach(this.fi,((r,s)=>this.wr(e,r,s).next((a=>a?K.resolve():t(s)))))}removeTargets(e,t,r){return this.persistence.getTargetCache().removeTargets(e,t,r)}removeOrphanedDocuments(e,t){let r=0;const s=this.persistence.getRemoteDocumentCache(),a=s.newChangeBuffer();return s.ni(e,(u=>this.wr(e,u,t).next((d=>{d||(r++,a.removeEntry(u,Ne.min()))})))).next((()=>a.apply(e))).next((()=>r))}markPotentiallyOrphaned(e,t){return this.fi.set(t,e.currentSequenceNumber),K.resolve()}removeTarget(e,t){const r=t.withSequenceNumber(e.currentSequenceNumber);return this.persistence.getTargetCache().updateTargetData(e,r)}addReference(e,t,r){return this.fi.set(r,e.currentSequenceNumber),K.resolve()}removeReference(e,t,r){return this.fi.set(r,e.currentSequenceNumber),K.resolve()}updateLimboDocument(e,t){return this.fi.set(t,e.currentSequenceNumber),K.resolve()}hi(e){let t=e.key.toString().length;return e.isFoundDocument()&&(t+=Th(e.data.value)),t}wr(e,t,r){return K.or([()=>this.persistence.Ei(e,t),()=>this.persistence.getTargetCache().containsKey(e,t),()=>{const s=this.fi.get(t);return K.resolve(s!==void 0&&s>r)}])}getCacheSize(e){return this.persistence.getRemoteDocumentCache().getSize(e)}}class dg{constructor(e,t,r,s){this.targetId=e,this.fromCache=t,this.Ts=r,this.Is=s}static Es(e,t){let r=je(),s=je();for(const a of t.docChanges)switch(a.type){case 0:r=r.add(a.doc.key);break;case 1:s=s.add(a.doc.key)}return new dg(e,t.fromCache,r,s)}}class Dx{constructor(){this._documentReadCount=0}get documentReadCount(){return this._documentReadCount}incrementDocumentReadCount(e){this._documentReadCount+=e}}class Lx{constructor(){this.Rs=!1,this.As=!1,this.Vs=100,this.ds=(function(){return AP()?8:oN(en())>0?6:4})()}initialize(e,t){this.fs=e,this.indexManager=t,this.Rs=!0}getDocumentsMatchingQuery(e,t,r,s){const a={result:null};return this.gs(e,t).next((u=>{a.result=u})).next((()=>{if(!a.result)return this.ps(e,t,s,r).next((u=>{a.result=u}))})).next((()=>{if(a.result)return;const u=new Dx;return this.ys(e,t,u).next((d=>{if(a.result=d,this.As)return this.ws(e,t,u,d.size)}))})).next((()=>a.result))}ws(e,t,r,s){return r.documentReadCount<this.Vs?(ia()<=Ue.DEBUG&&ge("QueryEngine","SDK will not create cache indexes for query:",sa(t),"since it only creates cache indexes for collection contains","more than or equal to",this.Vs,"documents"),K.resolve()):(ia()<=Ue.DEBUG&&ge("QueryEngine","Query:",sa(t),"scans",r.documentReadCount,"local documents and returns",s,"documents as results."),r.documentReadCount>this.ds*s?(ia()<=Ue.DEBUG&&ge("QueryEngine","The SDK decides to create cache indexes for query:",sa(t),"as using cache indexes may help improve performance."),this.indexManager.createTargetIndexes(e,Dr(t))):K.resolve())}gs(e,t){if(Tw(t))return K.resolve(null);let r=Dr(t);return this.indexManager.getIndexType(e,r).next((s=>s===0?null:(t.limit!==null&&s===1&&(t=Uh(t,null,"F"),r=Dr(t)),this.indexManager.getDocumentsMatchingTarget(e,r).next((a=>{const u=je(...a);return this.fs.getDocuments(e,u).next((d=>this.indexManager.getMinOffset(e,r).next((f=>{const m=this.bs(t,d);return this.Ss(t,m,u,f.readTime)?this.gs(e,Uh(t,null,"F")):this.Ds(e,m,t,f)}))))})))))}ps(e,t,r,s){return Tw(t)||s.isEqual(Ne.min())?K.resolve(null):this.fs.getDocuments(e,r).next((a=>{const u=this.bs(t,a);return this.Ss(t,u,r,s)?K.resolve(null):(ia()<=Ue.DEBUG&&ge("QueryEngine","Re-using previous result from %s to execute query: %s",s.toString(),sa(t)),this.Ds(e,u,t,tN(s,du)).next((d=>d)))}))}bs(e,t){let r=new xt(e0(e));return t.forEach(((s,a)=>{Ed(e,a)&&(r=r.add(a))})),r}Ss(e,t,r,s){if(e.limit===null)return!1;if(r.size!==t.size)return!0;const a=e.limitType==="F"?t.last():t.first();return!!a&&(a.hasPendingWrites||a.version.compareTo(s)>0)}ys(e,t,r){return ia()<=Ue.DEBUG&&ge("QueryEngine","Using full collection scan to execute query:",sa(t)),this.fs.getDocumentsMatchingQuery(e,t,ls.min(),r)}Ds(e,t,r,s){return this.fs.getDocumentsMatchingQuery(e,r,s).next((a=>(t.forEach((u=>{a=a.insert(u.key,u)})),a)))}}const fg="LocalStore",Vx=3e8;class Mx{constructor(e,t,r,s){this.persistence=e,this.Cs=t,this.serializer=s,this.vs=new ht(Fe),this.Fs=new co((a=>rg(a)),ig),this.Ms=new Map,this.xs=e.getRemoteDocumentCache(),this.li=e.getTargetCache(),this.Pi=e.getBundleCache(),this.Os(r)}Os(e){this.documentOverlayCache=this.persistence.getDocumentOverlayCache(e),this.indexManager=this.persistence.getIndexManager(e),this.mutationQueue=this.persistence.getMutationQueue(e,this.indexManager),this.localDocuments=new Ax(this.xs,this.mutationQueue,this.documentOverlayCache,this.indexManager),this.xs.setIndexManager(this.indexManager),this.Cs.initialize(this.localDocuments,this.indexManager)}collectGarbage(e){return this.persistence.runTransaction("Collect garbage","readwrite-primary",(t=>e.collect(t,this.vs)))}}function Ux(n,e,t,r){return new Mx(n,e,t,r)}async function A0(n,e){const t=De(n);return await t.persistence.runTransaction("Handle user change","readonly",(r=>{let s;return t.mutationQueue.getAllMutationBatches(r).next((a=>(s=a,t.Os(e),t.mutationQueue.getAllMutationBatches(r)))).next((a=>{const u=[],d=[];let f=je();for(const m of s){u.push(m.batchId);for(const g of m.mutations)f=f.add(g.key)}for(const m of a){d.push(m.batchId);for(const g of m.mutations)f=f.add(g.key)}return t.localDocuments.getDocuments(r,f).next((m=>({Ns:m,removedBatchIds:u,addedBatchIds:d})))}))}))}function Fx(n,e){const t=De(n);return t.persistence.runTransaction("Acknowledge batch","readwrite-primary",(r=>{const s=e.batch.keys(),a=t.xs.newChangeBuffer({trackRemovals:!0});return(function(d,f,m,g){const E=m.batch,w=E.keys();let A=K.resolve();return w.forEach((O=>{A=A.next((()=>g.getEntry(f,O))).next((F=>{const M=m.docVersions.get(O);Ke(M!==null,48541),F.version.compareTo(M)<0&&(E.applyToRemoteDocument(F,m),F.isValidDocument()&&(F.setReadTime(m.commitVersion),g.addEntry(F)))}))})),A.next((()=>d.mutationQueue.removeMutationBatch(f,E)))})(t,r,e,a).next((()=>a.apply(r))).next((()=>t.mutationQueue.performConsistencyCheck(r))).next((()=>t.documentOverlayCache.removeOverlaysForBatchId(r,s,e.batch.batchId))).next((()=>t.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(r,(function(d){let f=je();for(let m=0;m<d.mutationResults.length;++m)d.mutationResults[m].transformResults.length>0&&(f=f.add(d.batch.mutations[m].key));return f})(e)))).next((()=>t.localDocuments.getDocuments(r,s)))}))}function R0(n){const e=De(n);return e.persistence.runTransaction("Get last remote snapshot version","readonly",(t=>e.li.getLastRemoteSnapshotVersion(t)))}function jx(n,e){const t=De(n),r=e.snapshotVersion;let s=t.vs;return t.persistence.runTransaction("Apply remote event","readwrite-primary",(a=>{const u=t.xs.newChangeBuffer({trackRemovals:!0});s=t.vs;const d=[];e.targetChanges.forEach(((g,E)=>{const w=s.get(E);if(!w)return;d.push(t.li.removeMatchingKeys(a,g.removedDocuments,E).next((()=>t.li.addMatchingKeys(a,g.addedDocuments,E))));let A=w.withSequenceNumber(a.currentSequenceNumber);e.targetMismatches.get(E)!==null?A=A.withResumeToken(Ht.EMPTY_BYTE_STRING,Ne.min()).withLastLimboFreeSnapshotVersion(Ne.min()):g.resumeToken.approximateByteSize()>0&&(A=A.withResumeToken(g.resumeToken,r)),s=s.insert(E,A),(function(F,M,J){return F.resumeToken.approximateByteSize()===0||M.snapshotVersion.toMicroseconds()-F.snapshotVersion.toMicroseconds()>=Vx?!0:J.addedDocuments.size+J.modifiedDocuments.size+J.removedDocuments.size>0})(w,A,g)&&d.push(t.li.updateTargetData(a,A))}));let f=mi(),m=je();if(e.documentUpdates.forEach((g=>{e.resolvedLimboDocuments.has(g)&&d.push(t.persistence.referenceDelegate.updateLimboDocument(a,g))})),d.push(zx(a,u,e.documentUpdates).next((g=>{f=g.Bs,m=g.Ls}))),!r.isEqual(Ne.min())){const g=t.li.getLastRemoteSnapshotVersion(a).next((E=>t.li.setTargetsMetadata(a,a.currentSequenceNumber,r)));d.push(g)}return K.waitFor(d).next((()=>u.apply(a))).next((()=>t.localDocuments.getLocalViewOfDocuments(a,f,m))).next((()=>f))})).then((a=>(t.vs=s,a)))}function zx(n,e,t){let r=je(),s=je();return t.forEach((a=>r=r.add(a))),e.getEntries(n,r).next((a=>{let u=mi();return t.forEach(((d,f)=>{const m=a.get(d);f.isFoundDocument()!==m.isFoundDocument()&&(s=s.add(d)),f.isNoDocument()&&f.version.isEqual(Ne.min())?(e.removeEntry(d,f.readTime),u=u.insert(d,f)):!m.isValidDocument()||f.version.compareTo(m.version)>0||f.version.compareTo(m.version)===0&&m.hasPendingWrites?(e.addEntry(f),u=u.insert(d,f)):ge(fg,"Ignoring outdated watch update for ",d,". Current version:",m.version," Watch version:",f.version)})),{Bs:u,Ls:s}}))}function Bx(n,e){const t=De(n);return t.persistence.runTransaction("Get next mutation batch","readonly",(r=>(e===void 0&&(e=eg),t.mutationQueue.getNextMutationBatchAfterBatchId(r,e))))}function $x(n,e){const t=De(n);return t.persistence.runTransaction("Allocate target","readwrite",(r=>{let s;return t.li.getTargetData(r,e).next((a=>a?(s=a,K.resolve(s)):t.li.allocateTargetId(r).next((u=>(s=new ns(e,u,"TargetPurposeListen",r.currentSequenceNumber),t.li.addTargetData(r,s).next((()=>s)))))))})).then((r=>{const s=t.vs.get(r.targetId);return(s===null||r.snapshotVersion.compareTo(s.snapshotVersion)>0)&&(t.vs=t.vs.insert(r.targetId,r),t.Fs.set(e,r.targetId)),r}))}async function fm(n,e,t){const r=De(n),s=r.vs.get(e),a=t?"readwrite":"readwrite-primary";try{t||await r.persistence.runTransaction("Release target",a,(u=>r.persistence.referenceDelegate.removeTarget(u,s)))}catch(u){if(!xa(u))throw u;ge(fg,`Failed to update sequence numbers for target ${e}: ${u}`)}r.vs=r.vs.remove(e),r.Fs.delete(s.target)}function Lw(n,e,t){const r=De(n);let s=Ne.min(),a=je();return r.persistence.runTransaction("Execute query","readwrite",(u=>(function(f,m,g){const E=De(f),w=E.Fs.get(g);return w!==void 0?K.resolve(E.vs.get(w)):E.li.getTargetData(m,g)})(r,u,Dr(e)).next((d=>{if(d)return s=d.lastLimboFreeSnapshotVersion,r.li.getMatchingKeysForTargetId(u,d.targetId).next((f=>{a=f}))})).next((()=>r.Cs.getDocumentsMatchingQuery(u,e,t?s:Ne.min(),t?a:je()))).next((d=>(Hx(r,bN(e),d),{documents:d,ks:a})))))}function Hx(n,e,t){let r=n.Ms.get(e)||Ne.min();t.forEach(((s,a)=>{a.readTime.compareTo(r)>0&&(r=a.readTime)})),n.Ms.set(e,r)}class Vw{constructor(){this.activeTargetIds=VN()}Qs(e){this.activeTargetIds=this.activeTargetIds.add(e)}Gs(e){this.activeTargetIds=this.activeTargetIds.delete(e)}Ws(){const e={activeTargetIds:this.activeTargetIds.toArray(),updateTimeMs:Date.now()};return JSON.stringify(e)}}class qx{constructor(){this.vo=new Vw,this.Fo={},this.onlineStateHandler=null,this.sequenceNumberHandler=null}addPendingMutation(e){}updateMutationState(e,t,r){}addLocalQueryTarget(e,t=!0){return t&&this.vo.Qs(e),this.Fo[e]||"not-current"}updateQueryState(e,t,r){this.Fo[e]=t}removeLocalQueryTarget(e){this.vo.Gs(e)}isLocalQueryTarget(e){return this.vo.activeTargetIds.has(e)}clearQueryState(e){delete this.Fo[e]}getAllActiveQueryTargets(){return this.vo.activeTargetIds}isActiveQueryTarget(e){return this.vo.activeTargetIds.has(e)}start(){return this.vo=new Vw,Promise.resolve()}handleUserChange(e,t,r){}setOnlineState(e){}shutdown(){}writeSequenceNumber(e){}notifyBundleLoaded(e){}}class Wx{Mo(e){}shutdown(){}}const Mw="ConnectivityMonitor";class Uw{constructor(){this.xo=()=>this.Oo(),this.No=()=>this.Bo(),this.Lo=[],this.ko()}Mo(e){this.Lo.push(e)}shutdown(){window.removeEventListener("online",this.xo),window.removeEventListener("offline",this.No)}ko(){window.addEventListener("online",this.xo),window.addEventListener("offline",this.No)}Oo(){ge(Mw,"Network connectivity changed: AVAILABLE");for(const e of this.Lo)e(0)}Bo(){ge(Mw,"Network connectivity changed: UNAVAILABLE");for(const e of this.Lo)e(1)}static v(){return typeof window<"u"&&window.addEventListener!==void 0&&window.removeEventListener!==void 0}}let uh=null;function pm(){return uh===null?uh=(function(){return 268435456+Math.round(2147483648*Math.random())})():uh++,"0x"+uh.toString(16)}const Np="RestConnection",Gx={BatchGetDocuments:"batchGet",Commit:"commit",RunQuery:"runQuery",RunAggregationQuery:"runAggregationQuery",ExecutePipeline:"executePipeline"};class Kx{get Ko(){return!1}constructor(e){this.databaseInfo=e,this.databaseId=e.databaseId;const t=e.ssl?"https":"http",r=encodeURIComponent(this.databaseId.projectId),s=encodeURIComponent(this.databaseId.database);this.qo=t+"://"+e.host,this.Uo=`projects/${r}/databases/${s}`,this.$o=this.databaseId.database===Lh?`project_id=${r}`:`project_id=${r}&database_id=${s}`}Wo(e,t,r,s,a){const u=pm(),d=this.Qo(e,t.toUriEncodedString());ge(Np,`Sending RPC '${e}' ${u}:`,d,r);const f={"google-cloud-resource-prefix":this.Uo,"x-goog-request-params":this.$o};this.Go(f,s,a);const{host:m}=new URL(d),g=Fr(m);return this.zo(e,d,f,r,g).then((E=>(ge(Np,`Received RPC '${e}' ${u}: `,E),E)),(E=>{throw ya(Np,`RPC '${e}' ${u} failed with error: `,E,"url: ",d,"request:",r),E}))}jo(e,t,r,s,a,u){return this.Wo(e,t,r,s,a)}Go(e,t,r){e["X-Goog-Api-Client"]=(function(){return"gl-js/ fire/"+ba})(),e["Content-Type"]="text/plain",this.databaseInfo.appId&&(e["X-Firebase-GMPID"]=this.databaseInfo.appId),t&&t.headers.forEach(((s,a)=>e[a]=s)),r&&r.headers.forEach(((s,a)=>e[a]=s))}Qo(e,t){const r=Gx[e];let s=`${this.qo}/v1/${t}:${r}`;return this.databaseInfo.apiKey&&(s=`${s}?key=${encodeURIComponent(this.databaseInfo.apiKey)}`),s}terminate(){}}class Qx{constructor(e){this.Ho=e.Ho,this.Jo=e.Jo}Zo(e){this.Xo=e}Yo(e){this.e_=e}t_(e){this.n_=e}onMessage(e){this.r_=e}close(){this.Jo()}send(e){this.Ho(e)}i_(){this.Xo()}s_(){this.e_()}o_(e){this.n_(e)}__(e){this.r_(e)}}const Yt="WebChannelConnection",Vl=(n,e,t)=>{n.listen(e,(r=>{try{t(r)}catch(s){setTimeout((()=>{throw s}),0)}}))};class pa extends Kx{constructor(e){super(e),this.a_=[],this.forceLongPolling=e.forceLongPolling,this.autoDetectLongPolling=e.autoDetectLongPolling,this.useFetchStreams=e.useFetchStreams,this.longPollingOptions=e.longPollingOptions}static u_(){if(!pa.c_){const e=bI();Vl(e,CI.STAT_EVENT,(t=>{t.stat===nm.PROXY?ge(Yt,"STAT_EVENT: detected buffering proxy"):t.stat===nm.NOPROXY&&ge(Yt,"STAT_EVENT: detected no buffering proxy")})),pa.c_=!0}}zo(e,t,r,s,a){const u=pm();return new Promise(((d,f)=>{const m=new PI;m.setWithCredentials(!0),m.listenOnce(kI.COMPLETE,(()=>{try{switch(m.getLastErrorCode()){case Eh.NO_ERROR:const E=m.getResponseJson();ge(Yt,`XHR for RPC '${e}' ${u} received:`,JSON.stringify(E)),d(E);break;case Eh.TIMEOUT:ge(Yt,`RPC '${e}' ${u} timed out`),f(new ue(G.DEADLINE_EXCEEDED,"Request time out"));break;case Eh.HTTP_ERROR:const w=m.getStatus();if(ge(Yt,`RPC '${e}' ${u} failed with status:`,w,"response text:",m.getResponseText()),w>0){let A=m.getResponseJson();Array.isArray(A)&&(A=A[0]);const O=A?.error;if(O&&O.status&&O.message){const F=(function(J){const se=J.toLowerCase().replace(/_/g,"-");return Object.values(G).indexOf(se)>=0?se:G.UNKNOWN})(O.status);f(new ue(F,O.message))}else f(new ue(G.UNKNOWN,"Server responded with status "+m.getStatus()))}else f(new ue(G.UNAVAILABLE,"Connection failed."));break;default:Pe(9055,{l_:e,streamId:u,h_:m.getLastErrorCode(),P_:m.getLastError()})}}finally{ge(Yt,`RPC '${e}' ${u} completed.`)}}));const g=JSON.stringify(s);ge(Yt,`RPC '${e}' ${u} sending request:`,s),m.send(t,"POST",g,r,15)}))}T_(e,t,r){const s=pm(),a=[this.qo,"/","google.firestore.v1.Firestore","/",e,"/channel"],u=this.createWebChannelTransport(),d={httpSessionIdParam:"gsessionid",initMessageHeaders:{},messageUrlParams:{database:`projects/${this.databaseId.projectId}/databases/${this.databaseId.database}`},sendRawJson:!0,supportsCrossDomainXhr:!0,internalChannelParams:{forwardChannelRequestTimeoutMs:6e5},forceLongPolling:this.forceLongPolling,detectBufferingProxy:this.autoDetectLongPolling},f=this.longPollingOptions.timeoutSeconds;f!==void 0&&(d.longPollingTimeout=Math.round(1e3*f)),this.useFetchStreams&&(d.useFetchStreams=!0),this.Go(d.initMessageHeaders,t,r),d.encodeInitMessageHeaders=!0;const m=a.join("");ge(Yt,`Creating RPC '${e}' stream ${s}: ${m}`,d);const g=u.createWebChannel(m,d);this.I_(g);let E=!1,w=!1;const A=new Qx({Ho:O=>{w?ge(Yt,`Not sending because RPC '${e}' stream ${s} is closed:`,O):(E||(ge(Yt,`Opening RPC '${e}' stream ${s} transport.`),g.open(),E=!0),ge(Yt,`RPC '${e}' stream ${s} sending:`,O),g.send(O))},Jo:()=>g.close()});return Vl(g,Hl.EventType.OPEN,(()=>{w||(ge(Yt,`RPC '${e}' stream ${s} transport opened.`),A.i_())})),Vl(g,Hl.EventType.CLOSE,(()=>{w||(w=!0,ge(Yt,`RPC '${e}' stream ${s} transport closed`),A.o_(),this.E_(g))})),Vl(g,Hl.EventType.ERROR,(O=>{w||(w=!0,ya(Yt,`RPC '${e}' stream ${s} transport errored. Name:`,O.name,"Message:",O.message),A.o_(new ue(G.UNAVAILABLE,"The operation could not be completed")))})),Vl(g,Hl.EventType.MESSAGE,(O=>{if(!w){const F=O.data[0];Ke(!!F,16349);const M=F,J=M?.error||M[0]?.error;if(J){ge(Yt,`RPC '${e}' stream ${s} received error:`,J);const se=J.status;let le=(function(de){const k=Rt[de];if(k!==void 0)return d0(k)})(se),re=J.message;le===void 0&&(le=G.INTERNAL,re="Unknown error status: "+se+" with message "+J.message),w=!0,A.o_(new ue(le,re)),g.close()}else ge(Yt,`RPC '${e}' stream ${s} received:`,F),A.__(F)}})),pa.u_(),setTimeout((()=>{A.s_()}),0),A}terminate(){this.a_.forEach((e=>e.close())),this.a_=[]}I_(e){this.a_.push(e)}E_(e){this.a_=this.a_.filter((t=>t===e))}Go(e,t,r){super.Go(e,t,r),this.databaseInfo.apiKey&&(e["x-goog-api-key"]=this.databaseInfo.apiKey)}createWebChannelTransport(){return NI()}}function Yx(n){return new pa(n)}function xp(){return typeof document<"u"?document:null}function Rd(n){return new ex(n,!0)}pa.c_=!1;class P0{constructor(e,t,r=1e3,s=1.5,a=6e4){this.Ci=e,this.timerId=t,this.R_=r,this.A_=s,this.V_=a,this.d_=0,this.m_=null,this.f_=Date.now(),this.reset()}reset(){this.d_=0}g_(){this.d_=this.V_}p_(e){this.cancel();const t=Math.floor(this.d_+this.y_()),r=Math.max(0,Date.now()-this.f_),s=Math.max(0,t-r);s>0&&ge("ExponentialBackoff",`Backing off for ${s} ms (base delay: ${this.d_} ms, delay with jitter: ${t} ms, last attempt: ${r} ms ago)`),this.m_=this.Ci.enqueueAfterDelay(this.timerId,s,(()=>(this.f_=Date.now(),e()))),this.d_*=this.A_,this.d_<this.R_&&(this.d_=this.R_),this.d_>this.V_&&(this.d_=this.V_)}w_(){this.m_!==null&&(this.m_.skipDelay(),this.m_=null)}cancel(){this.m_!==null&&(this.m_.cancel(),this.m_=null)}y_(){return(Math.random()-.5)*this.d_}}const Fw="PersistentStream";class k0{constructor(e,t,r,s,a,u,d,f){this.Ci=e,this.b_=r,this.S_=s,this.connection=a,this.authCredentialsProvider=u,this.appCheckCredentialsProvider=d,this.listener=f,this.state=0,this.D_=0,this.C_=null,this.v_=null,this.stream=null,this.F_=0,this.M_=new P0(e,t)}x_(){return this.state===1||this.state===5||this.O_()}O_(){return this.state===2||this.state===3}start(){this.F_=0,this.state!==4?this.auth():this.N_()}async stop(){this.x_()&&await this.close(0)}B_(){this.state=0,this.M_.reset()}L_(){this.O_()&&this.C_===null&&(this.C_=this.Ci.enqueueAfterDelay(this.b_,6e4,(()=>this.k_())))}K_(e){this.q_(),this.stream.send(e)}async k_(){if(this.O_())return this.close(0)}q_(){this.C_&&(this.C_.cancel(),this.C_=null)}U_(){this.v_&&(this.v_.cancel(),this.v_=null)}async close(e,t){this.q_(),this.U_(),this.M_.cancel(),this.D_++,e!==4?this.M_.reset():t&&t.code===G.RESOURCE_EXHAUSTED?(pi(t.toString()),pi("Using maximum backoff delay to prevent overloading the backend."),this.M_.g_()):t&&t.code===G.UNAUTHENTICATED&&this.state!==3&&(this.authCredentialsProvider.invalidateToken(),this.appCheckCredentialsProvider.invalidateToken()),this.stream!==null&&(this.W_(),this.stream.close(),this.stream=null),this.state=e,await this.listener.t_(t)}W_(){}auth(){this.state=1;const e=this.Q_(this.D_),t=this.D_;Promise.all([this.authCredentialsProvider.getToken(),this.appCheckCredentialsProvider.getToken()]).then((([r,s])=>{this.D_===t&&this.G_(r,s)}),(r=>{e((()=>{const s=new ue(G.UNKNOWN,"Fetching auth token failed: "+r.message);return this.z_(s)}))}))}G_(e,t){const r=this.Q_(this.D_);this.stream=this.j_(e,t),this.stream.Zo((()=>{r((()=>this.listener.Zo()))})),this.stream.Yo((()=>{r((()=>(this.state=2,this.v_=this.Ci.enqueueAfterDelay(this.S_,1e4,(()=>(this.O_()&&(this.state=3),Promise.resolve()))),this.listener.Yo())))})),this.stream.t_((s=>{r((()=>this.z_(s)))})),this.stream.onMessage((s=>{r((()=>++this.F_==1?this.H_(s):this.onNext(s)))}))}N_(){this.state=5,this.M_.p_((async()=>{this.state=0,this.start()}))}z_(e){return ge(Fw,`close with error: ${e}`),this.stream=null,this.close(4,e)}Q_(e){return t=>{this.Ci.enqueueAndForget((()=>this.D_===e?t():(ge(Fw,"stream callback skipped by getCloseGuardedDispatcher."),Promise.resolve())))}}}class Jx extends k0{constructor(e,t,r,s,a,u){super(e,"listen_stream_connection_backoff","listen_stream_idle","health_check_timeout",t,r,s,u),this.serializer=a}j_(e,t){return this.connection.T_("Listen",e,t)}H_(e){return this.onNext(e)}onNext(e){this.M_.reset();const t=rx(this.serializer,e),r=(function(a){if(!("targetChange"in a))return Ne.min();const u=a.targetChange;return u.targetIds&&u.targetIds.length?Ne.min():u.readTime?Lr(u.readTime):Ne.min()})(e);return this.listener.J_(t,r)}Z_(e){const t={};t.database=dm(this.serializer),t.addTarget=(function(a,u){let d;const f=u.target;if(d=am(f)?{documents:ox(a,f)}:{query:ax(a,f).ft},d.targetId=u.targetId,u.resumeToken.approximateByteSize()>0){d.resumeToken=m0(a,u.resumeToken);const m=um(a,u.expectedCount);m!==null&&(d.expectedCount=m)}else if(u.snapshotVersion.compareTo(Ne.min())>0){d.readTime=Fh(a,u.snapshotVersion.toTimestamp());const m=um(a,u.expectedCount);m!==null&&(d.expectedCount=m)}return d})(this.serializer,e);const r=ux(this.serializer,e);r&&(t.labels=r),this.K_(t)}X_(e){const t={};t.database=dm(this.serializer),t.removeTarget=e,this.K_(t)}}class Xx extends k0{constructor(e,t,r,s,a,u){super(e,"write_stream_connection_backoff","write_stream_idle","health_check_timeout",t,r,s,u),this.serializer=a}get Y_(){return this.F_>0}start(){this.lastStreamToken=void 0,super.start()}W_(){this.Y_&&this.ea([])}j_(e,t){return this.connection.T_("Write",e,t)}H_(e){return Ke(!!e.streamToken,31322),this.lastStreamToken=e.streamToken,Ke(!e.writeResults||e.writeResults.length===0,55816),this.listener.ta()}onNext(e){Ke(!!e.streamToken,12678),this.lastStreamToken=e.streamToken,this.M_.reset();const t=sx(e.writeResults,e.commitTime),r=Lr(e.commitTime);return this.listener.na(r,t)}ra(){const e={};e.database=dm(this.serializer),this.K_(e)}ea(e){const t={streamToken:this.lastStreamToken,writes:e.map((r=>ix(this.serializer,r)))};this.K_(t)}}class Zx{}class eO extends Zx{constructor(e,t,r,s){super(),this.authCredentials=e,this.appCheckCredentials=t,this.connection=r,this.serializer=s,this.ia=!1}sa(){if(this.ia)throw new ue(G.FAILED_PRECONDITION,"The client has already been terminated.")}Wo(e,t,r,s){return this.sa(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then((([a,u])=>this.connection.Wo(e,cm(t,r),s,a,u))).catch((a=>{throw a.name==="FirebaseError"?(a.code===G.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),a):new ue(G.UNKNOWN,a.toString())}))}jo(e,t,r,s,a){return this.sa(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then((([u,d])=>this.connection.jo(e,cm(t,r),s,u,d,a))).catch((u=>{throw u.name==="FirebaseError"?(u.code===G.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),u):new ue(G.UNKNOWN,u.toString())}))}terminate(){this.ia=!0,this.connection.terminate()}}function tO(n,e,t,r){return new eO(n,e,t,r)}class nO{constructor(e,t){this.asyncQueue=e,this.onlineStateHandler=t,this.state="Unknown",this.oa=0,this._a=null,this.aa=!0}ua(){this.oa===0&&(this.ca("Unknown"),this._a=this.asyncQueue.enqueueAfterDelay("online_state_timeout",1e4,(()=>(this._a=null,this.la("Backend didn't respond within 10 seconds."),this.ca("Offline"),Promise.resolve()))))}ha(e){this.state==="Online"?this.ca("Unknown"):(this.oa++,this.oa>=1&&(this.Pa(),this.la(`Connection failed 1 times. Most recent error: ${e.toString()}`),this.ca("Offline")))}set(e){this.Pa(),this.oa=0,e==="Online"&&(this.aa=!1),this.ca(e)}ca(e){e!==this.state&&(this.state=e,this.onlineStateHandler(e))}la(e){const t=`Could not reach Cloud Firestore backend. ${e}
This typically indicates that your device does not have a healthy Internet connection at the moment. The client will operate in offline mode until it is able to successfully connect to the backend.`;this.aa?(pi(t),this.aa=!1):ge("OnlineStateTracker",t)}Pa(){this._a!==null&&(this._a.cancel(),this._a=null)}}const eo="RemoteStore";class rO{constructor(e,t,r,s,a){this.localStore=e,this.datastore=t,this.asyncQueue=r,this.remoteSyncer={},this.Ta=[],this.Ia=new Map,this.Ea=new Set,this.Ra=[],this.Aa=a,this.Aa.Mo((u=>{r.enqueueAndForget((async()=>{ho(this)&&(ge(eo,"Restarting streams for network reachability change."),await(async function(f){const m=De(f);m.Ea.add(4),await Ou(m),m.Va.set("Unknown"),m.Ea.delete(4),await Pd(m)})(this))}))})),this.Va=new nO(r,s)}}async function Pd(n){if(ho(n))for(const e of n.Ra)await e(!0)}async function Ou(n){for(const e of n.Ra)await e(!1)}function C0(n,e){const t=De(n);t.Ia.has(e.targetId)||(t.Ia.set(e.targetId,e),yg(t)?gg(t):Da(t).O_()&&mg(t,e))}function pg(n,e){const t=De(n),r=Da(t);t.Ia.delete(e),r.O_()&&b0(t,e),t.Ia.size===0&&(r.O_()?r.L_():ho(t)&&t.Va.set("Unknown"))}function mg(n,e){if(n.da.$e(e.targetId),e.resumeToken.approximateByteSize()>0||e.snapshotVersion.compareTo(Ne.min())>0){const t=n.remoteSyncer.getRemoteKeysForTarget(e.targetId).size;e=e.withExpectedCount(t)}Da(n).Z_(e)}function b0(n,e){n.da.$e(e),Da(n).X_(e)}function gg(n){n.da=new YN({getRemoteKeysForTarget:e=>n.remoteSyncer.getRemoteKeysForTarget(e),At:e=>n.Ia.get(e)||null,ht:()=>n.datastore.serializer.databaseId}),Da(n).start(),n.Va.ua()}function yg(n){return ho(n)&&!Da(n).x_()&&n.Ia.size>0}function ho(n){return De(n).Ea.size===0}function N0(n){n.da=void 0}async function iO(n){n.Va.set("Online")}async function sO(n){n.Ia.forEach(((e,t)=>{mg(n,e)}))}async function oO(n,e){N0(n),yg(n)?(n.Va.ha(e),gg(n)):n.Va.set("Unknown")}async function aO(n,e,t){if(n.Va.set("Online"),e instanceof p0&&e.state===2&&e.cause)try{await(async function(s,a){const u=a.cause;for(const d of a.targetIds)s.Ia.has(d)&&(await s.remoteSyncer.rejectListen(d,u),s.Ia.delete(d),s.da.removeTarget(d))})(n,e)}catch(r){ge(eo,"Failed to remove targets %s: %s ",e.targetIds.join(","),r),await zh(n,r)}else if(e instanceof Ah?n.da.Xe(e):e instanceof f0?n.da.st(e):n.da.tt(e),!t.isEqual(Ne.min()))try{const r=await R0(n.localStore);t.compareTo(r)>=0&&await(function(a,u){const d=a.da.Tt(u);return d.targetChanges.forEach(((f,m)=>{if(f.resumeToken.approximateByteSize()>0){const g=a.Ia.get(m);g&&a.Ia.set(m,g.withResumeToken(f.resumeToken,u))}})),d.targetMismatches.forEach(((f,m)=>{const g=a.Ia.get(f);if(!g)return;a.Ia.set(f,g.withResumeToken(Ht.EMPTY_BYTE_STRING,g.snapshotVersion)),b0(a,f);const E=new ns(g.target,f,m,g.sequenceNumber);mg(a,E)})),a.remoteSyncer.applyRemoteEvent(d)})(n,t)}catch(r){ge(eo,"Failed to raise snapshot:",r),await zh(n,r)}}async function zh(n,e,t){if(!xa(e))throw e;n.Ea.add(1),await Ou(n),n.Va.set("Offline"),t||(t=()=>R0(n.localStore)),n.asyncQueue.enqueueRetryable((async()=>{ge(eo,"Retrying IndexedDB access"),await t(),n.Ea.delete(1),await Pd(n)}))}function x0(n,e){return e().catch((t=>zh(n,t,e)))}async function kd(n){const e=De(n),t=ds(e);let r=e.Ta.length>0?e.Ta[e.Ta.length-1].batchId:eg;for(;lO(e);)try{const s=await Bx(e.localStore,r);if(s===null){e.Ta.length===0&&t.L_();break}r=s.batchId,uO(e,s)}catch(s){await zh(e,s)}O0(e)&&D0(e)}function lO(n){return ho(n)&&n.Ta.length<10}function uO(n,e){n.Ta.push(e);const t=ds(n);t.O_()&&t.Y_&&t.ea(e.mutations)}function O0(n){return ho(n)&&!ds(n).x_()&&n.Ta.length>0}function D0(n){ds(n).start()}async function cO(n){ds(n).ra()}async function hO(n){const e=ds(n);for(const t of n.Ta)e.ea(t.mutations)}async function dO(n,e,t){const r=n.Ta.shift(),s=ag.from(r,e,t);await x0(n,(()=>n.remoteSyncer.applySuccessfulWrite(s))),await kd(n)}async function fO(n,e){e&&ds(n).Y_&&await(async function(r,s){if((function(u){return GN(u)&&u!==G.ABORTED})(s.code)){const a=r.Ta.shift();ds(r).B_(),await x0(r,(()=>r.remoteSyncer.rejectFailedWrite(a.batchId,s))),await kd(r)}})(n,e),O0(n)&&D0(n)}async function jw(n,e){const t=De(n);t.asyncQueue.verifyOperationInProgress(),ge(eo,"RemoteStore received new credentials");const r=ho(t);t.Ea.add(3),await Ou(t),r&&t.Va.set("Unknown"),await t.remoteSyncer.handleCredentialChange(e),t.Ea.delete(3),await Pd(t)}async function pO(n,e){const t=De(n);e?(t.Ea.delete(2),await Pd(t)):e||(t.Ea.add(2),await Ou(t),t.Va.set("Unknown"))}function Da(n){return n.ma||(n.ma=(function(t,r,s){const a=De(t);return a.sa(),new Jx(r,a.connection,a.authCredentials,a.appCheckCredentials,a.serializer,s)})(n.datastore,n.asyncQueue,{Zo:iO.bind(null,n),Yo:sO.bind(null,n),t_:oO.bind(null,n),J_:aO.bind(null,n)}),n.Ra.push((async e=>{e?(n.ma.B_(),yg(n)?gg(n):n.Va.set("Unknown")):(await n.ma.stop(),N0(n))}))),n.ma}function ds(n){return n.fa||(n.fa=(function(t,r,s){const a=De(t);return a.sa(),new Xx(r,a.connection,a.authCredentials,a.appCheckCredentials,a.serializer,s)})(n.datastore,n.asyncQueue,{Zo:()=>Promise.resolve(),Yo:cO.bind(null,n),t_:fO.bind(null,n),ta:hO.bind(null,n),na:dO.bind(null,n)}),n.Ra.push((async e=>{e?(n.fa.B_(),await kd(n)):(await n.fa.stop(),n.Ta.length>0&&(ge(eo,`Stopping write stream with ${n.Ta.length} pending writes`),n.Ta=[]))}))),n.fa}class _g{constructor(e,t,r,s,a){this.asyncQueue=e,this.timerId=t,this.targetTimeMs=r,this.op=s,this.removalCallback=a,this.deferred=new li,this.then=this.deferred.promise.then.bind(this.deferred.promise),this.deferred.promise.catch((u=>{}))}get promise(){return this.deferred.promise}static createAndSchedule(e,t,r,s,a){const u=Date.now()+r,d=new _g(e,t,u,s,a);return d.start(r),d}start(e){this.timerHandle=setTimeout((()=>this.handleDelayElapsed()),e)}skipDelay(){return this.handleDelayElapsed()}cancel(e){this.timerHandle!==null&&(this.clearTimeout(),this.deferred.reject(new ue(G.CANCELLED,"Operation cancelled"+(e?": "+e:""))))}handleDelayElapsed(){this.asyncQueue.enqueueAndForget((()=>this.timerHandle!==null?(this.clearTimeout(),this.op().then((e=>this.deferred.resolve(e)))):Promise.resolve()))}clearTimeout(){this.timerHandle!==null&&(this.removalCallback(this),clearTimeout(this.timerHandle),this.timerHandle=null)}}function vg(n,e){if(pi("AsyncQueue",`${e}: ${n}`),xa(n))return new ue(G.UNAVAILABLE,`${e}: ${n}`);throw n}class ma{static emptySet(e){return new ma(e.comparator)}constructor(e){this.comparator=e?(t,r)=>e(t,r)||Se.comparator(t.key,r.key):(t,r)=>Se.comparator(t.key,r.key),this.keyedMap=ql(),this.sortedSet=new ht(this.comparator)}has(e){return this.keyedMap.get(e)!=null}get(e){return this.keyedMap.get(e)}first(){return this.sortedSet.minKey()}last(){return this.sortedSet.maxKey()}isEmpty(){return this.sortedSet.isEmpty()}indexOf(e){const t=this.keyedMap.get(e);return t?this.sortedSet.indexOf(t):-1}get size(){return this.sortedSet.size}forEach(e){this.sortedSet.inorderTraversal(((t,r)=>(e(t),!1)))}add(e){const t=this.delete(e.key);return t.copy(t.keyedMap.insert(e.key,e),t.sortedSet.insert(e,null))}delete(e){const t=this.get(e);return t?this.copy(this.keyedMap.remove(e),this.sortedSet.remove(t)):this}isEqual(e){if(!(e instanceof ma)||this.size!==e.size)return!1;const t=this.sortedSet.getIterator(),r=e.sortedSet.getIterator();for(;t.hasNext();){const s=t.getNext().key,a=r.getNext().key;if(!s.isEqual(a))return!1}return!0}toString(){const e=[];return this.forEach((t=>{e.push(t.toString())})),e.length===0?"DocumentSet ()":`DocumentSet (
  `+e.join(`  
`)+`
)`}copy(e,t){const r=new ma;return r.comparator=this.comparator,r.keyedMap=e,r.sortedSet=t,r}}class zw{constructor(){this.ga=new ht(Se.comparator)}track(e){const t=e.doc.key,r=this.ga.get(t);r?e.type!==0&&r.type===3?this.ga=this.ga.insert(t,e):e.type===3&&r.type!==1?this.ga=this.ga.insert(t,{type:r.type,doc:e.doc}):e.type===2&&r.type===2?this.ga=this.ga.insert(t,{type:2,doc:e.doc}):e.type===2&&r.type===0?this.ga=this.ga.insert(t,{type:0,doc:e.doc}):e.type===1&&r.type===0?this.ga=this.ga.remove(t):e.type===1&&r.type===2?this.ga=this.ga.insert(t,{type:1,doc:r.doc}):e.type===0&&r.type===1?this.ga=this.ga.insert(t,{type:2,doc:e.doc}):Pe(63341,{Vt:e,pa:r}):this.ga=this.ga.insert(t,e)}ya(){const e=[];return this.ga.inorderTraversal(((t,r)=>{e.push(r)})),e}}class Ia{constructor(e,t,r,s,a,u,d,f,m){this.query=e,this.docs=t,this.oldDocs=r,this.docChanges=s,this.mutatedKeys=a,this.fromCache=u,this.syncStateChanged=d,this.excludesMetadataChanges=f,this.hasCachedResults=m}static fromInitialDocuments(e,t,r,s,a){const u=[];return t.forEach((d=>{u.push({type:0,doc:d})})),new Ia(e,t,ma.emptySet(t),u,r,s,!0,!1,a)}get hasPendingWrites(){return!this.mutatedKeys.isEmpty()}isEqual(e){if(!(this.fromCache===e.fromCache&&this.hasCachedResults===e.hasCachedResults&&this.syncStateChanged===e.syncStateChanged&&this.mutatedKeys.isEqual(e.mutatedKeys)&&wd(this.query,e.query)&&this.docs.isEqual(e.docs)&&this.oldDocs.isEqual(e.oldDocs)))return!1;const t=this.docChanges,r=e.docChanges;if(t.length!==r.length)return!1;for(let s=0;s<t.length;s++)if(t[s].type!==r[s].type||!t[s].doc.isEqual(r[s].doc))return!1;return!0}}class mO{constructor(){this.wa=void 0,this.ba=[]}Sa(){return this.ba.some((e=>e.Da()))}}class gO{constructor(){this.queries=Bw(),this.onlineState="Unknown",this.Ca=new Set}terminate(){(function(t,r){const s=De(t),a=s.queries;s.queries=Bw(),a.forEach(((u,d)=>{for(const f of d.ba)f.onError(r)}))})(this,new ue(G.ABORTED,"Firestore shutting down"))}}function Bw(){return new co((n=>ZI(n)),wd)}async function wg(n,e){const t=De(n);let r=3;const s=e.query;let a=t.queries.get(s);a?!a.Sa()&&e.Da()&&(r=2):(a=new mO,r=e.Da()?0:1);try{switch(r){case 0:a.wa=await t.onListen(s,!0);break;case 1:a.wa=await t.onListen(s,!1);break;case 2:await t.onFirstRemoteStoreListen(s)}}catch(u){const d=vg(u,`Initialization of query '${sa(e.query)}' failed`);return void e.onError(d)}t.queries.set(s,a),a.ba.push(e),e.va(t.onlineState),a.wa&&e.Fa(a.wa)&&Tg(t)}async function Eg(n,e){const t=De(n),r=e.query;let s=3;const a=t.queries.get(r);if(a){const u=a.ba.indexOf(e);u>=0&&(a.ba.splice(u,1),a.ba.length===0?s=e.Da()?0:1:!a.Sa()&&e.Da()&&(s=2))}switch(s){case 0:return t.queries.delete(r),t.onUnlisten(r,!0);case 1:return t.queries.delete(r),t.onUnlisten(r,!1);case 2:return t.onLastRemoteStoreUnlisten(r);default:return}}function yO(n,e){const t=De(n);let r=!1;for(const s of e){const a=s.query,u=t.queries.get(a);if(u){for(const d of u.ba)d.Fa(s)&&(r=!0);u.wa=s}}r&&Tg(t)}function _O(n,e,t){const r=De(n),s=r.queries.get(e);if(s)for(const a of s.ba)a.onError(t);r.queries.delete(e)}function Tg(n){n.Ca.forEach((e=>{e.next()}))}var mm,$w;($w=mm||(mm={})).Ma="default",$w.Cache="cache";class Ig{constructor(e,t,r){this.query=e,this.xa=t,this.Oa=!1,this.Na=null,this.onlineState="Unknown",this.options=r||{}}Fa(e){if(!this.options.includeMetadataChanges){const r=[];for(const s of e.docChanges)s.type!==3&&r.push(s);e=new Ia(e.query,e.docs,e.oldDocs,r,e.mutatedKeys,e.fromCache,e.syncStateChanged,!0,e.hasCachedResults)}let t=!1;return this.Oa?this.Ba(e)&&(this.xa.next(e),t=!0):this.La(e,this.onlineState)&&(this.ka(e),t=!0),this.Na=e,t}onError(e){this.xa.error(e)}va(e){this.onlineState=e;let t=!1;return this.Na&&!this.Oa&&this.La(this.Na,e)&&(this.ka(this.Na),t=!0),t}La(e,t){if(!e.fromCache||!this.Da())return!0;const r=t!=="Offline";return(!this.options.Ka||!r)&&(!e.docs.isEmpty()||e.hasCachedResults||t==="Offline")}Ba(e){if(e.docChanges.length>0)return!0;const t=this.Na&&this.Na.hasPendingWrites!==e.hasPendingWrites;return!(!e.syncStateChanged&&!t)&&this.options.includeMetadataChanges===!0}ka(e){e=Ia.fromInitialDocuments(e.query,e.docs,e.mutatedKeys,e.fromCache,e.hasCachedResults),this.Oa=!0,this.xa.next(e)}Da(){return this.options.source!==mm.Cache}}class L0{constructor(e){this.key=e}}class V0{constructor(e){this.key=e}}class vO{constructor(e,t){this.query=e,this.Za=t,this.Xa=null,this.hasCachedResults=!1,this.current=!1,this.Ya=je(),this.mutatedKeys=je(),this.eu=e0(e),this.tu=new ma(this.eu)}get nu(){return this.Za}ru(e,t){const r=t?t.iu:new zw,s=t?t.tu:this.tu;let a=t?t.mutatedKeys:this.mutatedKeys,u=s,d=!1;const f=this.query.limitType==="F"&&s.size===this.query.limit?s.last():null,m=this.query.limitType==="L"&&s.size===this.query.limit?s.first():null;if(e.inorderTraversal(((g,E)=>{const w=s.get(g),A=Ed(this.query,E)?E:null,O=!!w&&this.mutatedKeys.has(w.key),F=!!A&&(A.hasLocalMutations||this.mutatedKeys.has(A.key)&&A.hasCommittedMutations);let M=!1;w&&A?w.data.isEqual(A.data)?O!==F&&(r.track({type:3,doc:A}),M=!0):this.su(w,A)||(r.track({type:2,doc:A}),M=!0,(f&&this.eu(A,f)>0||m&&this.eu(A,m)<0)&&(d=!0)):!w&&A?(r.track({type:0,doc:A}),M=!0):w&&!A&&(r.track({type:1,doc:w}),M=!0,(f||m)&&(d=!0)),M&&(A?(u=u.add(A),a=F?a.add(g):a.delete(g)):(u=u.delete(g),a=a.delete(g)))})),this.query.limit!==null)for(;u.size>this.query.limit;){const g=this.query.limitType==="F"?u.last():u.first();u=u.delete(g.key),a=a.delete(g.key),r.track({type:1,doc:g})}return{tu:u,iu:r,Ss:d,mutatedKeys:a}}su(e,t){return e.hasLocalMutations&&t.hasCommittedMutations&&!t.hasLocalMutations}applyChanges(e,t,r,s){const a=this.tu;this.tu=e.tu,this.mutatedKeys=e.mutatedKeys;const u=e.iu.ya();u.sort(((g,E)=>(function(A,O){const F=M=>{switch(M){case 0:return 1;case 2:case 3:return 2;case 1:return 0;default:return Pe(20277,{Vt:M})}};return F(A)-F(O)})(g.type,E.type)||this.eu(g.doc,E.doc))),this.ou(r),s=s??!1;const d=t&&!s?this._u():[],f=this.Ya.size===0&&this.current&&!s?1:0,m=f!==this.Xa;return this.Xa=f,u.length!==0||m?{snapshot:new Ia(this.query,e.tu,a,u,e.mutatedKeys,f===0,m,!1,!!r&&r.resumeToken.approximateByteSize()>0),au:d}:{au:d}}va(e){return this.current&&e==="Offline"?(this.current=!1,this.applyChanges({tu:this.tu,iu:new zw,mutatedKeys:this.mutatedKeys,Ss:!1},!1)):{au:[]}}uu(e){return!this.Za.has(e)&&!!this.tu.has(e)&&!this.tu.get(e).hasLocalMutations}ou(e){e&&(e.addedDocuments.forEach((t=>this.Za=this.Za.add(t))),e.modifiedDocuments.forEach((t=>{})),e.removedDocuments.forEach((t=>this.Za=this.Za.delete(t))),this.current=e.current)}_u(){if(!this.current)return[];const e=this.Ya;this.Ya=je(),this.tu.forEach((r=>{this.uu(r.key)&&(this.Ya=this.Ya.add(r.key))}));const t=[];return e.forEach((r=>{this.Ya.has(r)||t.push(new V0(r))})),this.Ya.forEach((r=>{e.has(r)||t.push(new L0(r))})),t}cu(e){this.Za=e.ks,this.Ya=je();const t=this.ru(e.documents);return this.applyChanges(t,!0)}lu(){return Ia.fromInitialDocuments(this.query,this.tu,this.mutatedKeys,this.Xa===0,this.hasCachedResults)}}const Sg="SyncEngine";class wO{constructor(e,t,r){this.query=e,this.targetId=t,this.view=r}}class EO{constructor(e){this.key=e,this.hu=!1}}class TO{constructor(e,t,r,s,a,u){this.localStore=e,this.remoteStore=t,this.eventManager=r,this.sharedClientState=s,this.currentUser=a,this.maxConcurrentLimboResolutions=u,this.Pu={},this.Tu=new co((d=>ZI(d)),wd),this.Iu=new Map,this.Eu=new Set,this.Ru=new ht(Se.comparator),this.Au=new Map,this.Vu=new cg,this.du={},this.mu=new Map,this.fu=Ta.ar(),this.onlineState="Unknown",this.gu=void 0}get isPrimaryClient(){return this.gu===!0}}async function IO(n,e,t=!0){const r=B0(n);let s;const a=r.Tu.get(e);return a?(r.sharedClientState.addLocalQueryTarget(a.targetId),s=a.view.lu()):s=await M0(r,e,t,!0),s}async function SO(n,e){const t=B0(n);await M0(t,e,!0,!1)}async function M0(n,e,t,r){const s=await $x(n.localStore,Dr(e)),a=s.targetId,u=n.sharedClientState.addLocalQueryTarget(a,t);let d;return r&&(d=await AO(n,e,a,u==="current",s.resumeToken)),n.isPrimaryClient&&t&&C0(n.remoteStore,s),d}async function AO(n,e,t,r,s){n.pu=(E,w,A)=>(async function(F,M,J,se){let le=M.view.ru(J);le.Ss&&(le=await Lw(F.localStore,M.query,!1).then((({documents:k})=>M.view.ru(k,le))));const re=se&&se.targetChanges.get(M.targetId),ce=se&&se.targetMismatches.get(M.targetId)!=null,de=M.view.applyChanges(le,F.isPrimaryClient,re,ce);return qw(F,M.targetId,de.au),de.snapshot})(n,E,w,A);const a=await Lw(n.localStore,e,!0),u=new vO(e,a.ks),d=u.ru(a.documents),f=xu.createSynthesizedTargetChangeForCurrentChange(t,r&&n.onlineState!=="Offline",s),m=u.applyChanges(d,n.isPrimaryClient,f);qw(n,t,m.au);const g=new wO(e,t,u);return n.Tu.set(e,g),n.Iu.has(t)?n.Iu.get(t).push(e):n.Iu.set(t,[e]),m.snapshot}async function RO(n,e,t){const r=De(n),s=r.Tu.get(e),a=r.Iu.get(s.targetId);if(a.length>1)return r.Iu.set(s.targetId,a.filter((u=>!wd(u,e)))),void r.Tu.delete(e);r.isPrimaryClient?(r.sharedClientState.removeLocalQueryTarget(s.targetId),r.sharedClientState.isActiveQueryTarget(s.targetId)||await fm(r.localStore,s.targetId,!1).then((()=>{r.sharedClientState.clearQueryState(s.targetId),t&&pg(r.remoteStore,s.targetId),gm(r,s.targetId)})).catch(Na)):(gm(r,s.targetId),await fm(r.localStore,s.targetId,!0))}async function PO(n,e){const t=De(n),r=t.Tu.get(e),s=t.Iu.get(r.targetId);t.isPrimaryClient&&s.length===1&&(t.sharedClientState.removeLocalQueryTarget(r.targetId),pg(t.remoteStore,r.targetId))}async function kO(n,e,t){const r=LO(n);try{const s=await(function(u,d){const f=De(u),m=it.now(),g=d.reduce(((A,O)=>A.add(O.key)),je());let E,w;return f.persistence.runTransaction("Locally write mutations","readwrite",(A=>{let O=mi(),F=je();return f.xs.getEntries(A,g).next((M=>{O=M,O.forEach(((J,se)=>{se.isValidDocument()||(F=F.add(J))}))})).next((()=>f.localDocuments.getOverlayedDocuments(A,O))).next((M=>{E=M;const J=[];for(const se of d){const le=BN(se,E.get(se.key).overlayedDocument);le!=null&&J.push(new gs(se.key,le,qI(le.value.mapValue),un.exists(!0)))}return f.mutationQueue.addMutationBatch(A,m,J,d)})).next((M=>{w=M;const J=M.applyToLocalDocumentSet(E,F);return f.documentOverlayCache.saveOverlays(A,M.batchId,J)}))})).then((()=>({batchId:w.batchId,changes:n0(E)})))})(r.localStore,e);r.sharedClientState.addPendingMutation(s.batchId),(function(u,d,f){let m=u.du[u.currentUser.toKey()];m||(m=new ht(Fe)),m=m.insert(d,f),u.du[u.currentUser.toKey()]=m})(r,s.batchId,t),await Du(r,s.changes),await kd(r.remoteStore)}catch(s){const a=vg(s,"Failed to persist write");t.reject(a)}}async function U0(n,e){const t=De(n);try{const r=await jx(t.localStore,e);e.targetChanges.forEach(((s,a)=>{const u=t.Au.get(a);u&&(Ke(s.addedDocuments.size+s.modifiedDocuments.size+s.removedDocuments.size<=1,22616),s.addedDocuments.size>0?u.hu=!0:s.modifiedDocuments.size>0?Ke(u.hu,14607):s.removedDocuments.size>0&&(Ke(u.hu,42227),u.hu=!1))})),await Du(t,r,e)}catch(r){await Na(r)}}function Hw(n,e,t){const r=De(n);if(r.isPrimaryClient&&t===0||!r.isPrimaryClient&&t===1){const s=[];r.Tu.forEach(((a,u)=>{const d=u.view.va(e);d.snapshot&&s.push(d.snapshot)})),(function(u,d){const f=De(u);f.onlineState=d;let m=!1;f.queries.forEach(((g,E)=>{for(const w of E.ba)w.va(d)&&(m=!0)})),m&&Tg(f)})(r.eventManager,e),s.length&&r.Pu.J_(s),r.onlineState=e,r.isPrimaryClient&&r.sharedClientState.setOnlineState(e)}}async function CO(n,e,t){const r=De(n);r.sharedClientState.updateQueryState(e,"rejected",t);const s=r.Au.get(e),a=s&&s.key;if(a){let u=new ht(Se.comparator);u=u.insert(a,Xt.newNoDocument(a,Ne.min()));const d=je().add(a),f=new Ad(Ne.min(),new Map,new ht(Fe),u,d);await U0(r,f),r.Ru=r.Ru.remove(a),r.Au.delete(e),Ag(r)}else await fm(r.localStore,e,!1).then((()=>gm(r,e,t))).catch(Na)}async function bO(n,e){const t=De(n),r=e.batch.batchId;try{const s=await Fx(t.localStore,e);j0(t,r,null),F0(t,r),t.sharedClientState.updateMutationState(r,"acknowledged"),await Du(t,s)}catch(s){await Na(s)}}async function NO(n,e,t){const r=De(n);try{const s=await(function(u,d){const f=De(u);return f.persistence.runTransaction("Reject batch","readwrite-primary",(m=>{let g;return f.mutationQueue.lookupMutationBatch(m,d).next((E=>(Ke(E!==null,37113),g=E.keys(),f.mutationQueue.removeMutationBatch(m,E)))).next((()=>f.mutationQueue.performConsistencyCheck(m))).next((()=>f.documentOverlayCache.removeOverlaysForBatchId(m,g,d))).next((()=>f.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(m,g))).next((()=>f.localDocuments.getDocuments(m,g)))}))})(r.localStore,e);j0(r,e,t),F0(r,e),r.sharedClientState.updateMutationState(e,"rejected",t),await Du(r,s)}catch(s){await Na(s)}}function F0(n,e){(n.mu.get(e)||[]).forEach((t=>{t.resolve()})),n.mu.delete(e)}function j0(n,e,t){const r=De(n);let s=r.du[r.currentUser.toKey()];if(s){const a=s.get(e);a&&(t?a.reject(t):a.resolve(),s=s.remove(e)),r.du[r.currentUser.toKey()]=s}}function gm(n,e,t=null){n.sharedClientState.removeLocalQueryTarget(e);for(const r of n.Iu.get(e))n.Tu.delete(r),t&&n.Pu.yu(r,t);n.Iu.delete(e),n.isPrimaryClient&&n.Vu.Gr(e).forEach((r=>{n.Vu.containsKey(r)||z0(n,r)}))}function z0(n,e){n.Eu.delete(e.path.canonicalString());const t=n.Ru.get(e);t!==null&&(pg(n.remoteStore,t),n.Ru=n.Ru.remove(e),n.Au.delete(t),Ag(n))}function qw(n,e,t){for(const r of t)r instanceof L0?(n.Vu.addReference(r.key,e),xO(n,r)):r instanceof V0?(ge(Sg,"Document no longer in limbo: "+r.key),n.Vu.removeReference(r.key,e),n.Vu.containsKey(r.key)||z0(n,r.key)):Pe(19791,{wu:r})}function xO(n,e){const t=e.key,r=t.path.canonicalString();n.Ru.get(t)||n.Eu.has(r)||(ge(Sg,"New document in limbo: "+t),n.Eu.add(r),Ag(n))}function Ag(n){for(;n.Eu.size>0&&n.Ru.size<n.maxConcurrentLimboResolutions;){const e=n.Eu.values().next().value;n.Eu.delete(e);const t=new Se(et.fromString(e)),r=n.fu.next();n.Au.set(r,new EO(t)),n.Ru=n.Ru.insert(t,r),C0(n.remoteStore,new ns(Dr(vd(t.path)),r,"TargetPurposeLimboResolution",gd.ce))}}async function Du(n,e,t){const r=De(n),s=[],a=[],u=[];r.Tu.isEmpty()||(r.Tu.forEach(((d,f)=>{u.push(r.pu(f,e,t).then((m=>{if((m||t)&&r.isPrimaryClient){const g=m?!m.fromCache:t?.targetChanges.get(f.targetId)?.current;r.sharedClientState.updateQueryState(f.targetId,g?"current":"not-current")}if(m){s.push(m);const g=dg.Es(f.targetId,m);a.push(g)}})))})),await Promise.all(u),r.Pu.J_(s),await(async function(f,m){const g=De(f);try{await g.persistence.runTransaction("notifyLocalViewChanges","readwrite",(E=>K.forEach(m,(w=>K.forEach(w.Ts,(A=>g.persistence.referenceDelegate.addReference(E,w.targetId,A))).next((()=>K.forEach(w.Is,(A=>g.persistence.referenceDelegate.removeReference(E,w.targetId,A)))))))))}catch(E){if(!xa(E))throw E;ge(fg,"Failed to update sequence numbers: "+E)}for(const E of m){const w=E.targetId;if(!E.fromCache){const A=g.vs.get(w),O=A.snapshotVersion,F=A.withLastLimboFreeSnapshotVersion(O);g.vs=g.vs.insert(w,F)}}})(r.localStore,a))}async function OO(n,e){const t=De(n);if(!t.currentUser.isEqual(e)){ge(Sg,"User change. New user:",e.toKey());const r=await A0(t.localStore,e);t.currentUser=e,(function(a,u){a.mu.forEach((d=>{d.forEach((f=>{f.reject(new ue(G.CANCELLED,u))}))})),a.mu.clear()})(t,"'waitForPendingWrites' promise is rejected due to a user change."),t.sharedClientState.handleUserChange(e,r.removedBatchIds,r.addedBatchIds),await Du(t,r.Ns)}}function DO(n,e){const t=De(n),r=t.Au.get(e);if(r&&r.hu)return je().add(r.key);{let s=je();const a=t.Iu.get(e);if(!a)return s;for(const u of a){const d=t.Tu.get(u);s=s.unionWith(d.view.nu)}return s}}function B0(n){const e=De(n);return e.remoteStore.remoteSyncer.applyRemoteEvent=U0.bind(null,e),e.remoteStore.remoteSyncer.getRemoteKeysForTarget=DO.bind(null,e),e.remoteStore.remoteSyncer.rejectListen=CO.bind(null,e),e.Pu.J_=yO.bind(null,e.eventManager),e.Pu.yu=_O.bind(null,e.eventManager),e}function LO(n){const e=De(n);return e.remoteStore.remoteSyncer.applySuccessfulWrite=bO.bind(null,e),e.remoteStore.remoteSyncer.rejectFailedWrite=NO.bind(null,e),e}class Bh{constructor(){this.kind="memory",this.synchronizeTabs=!1}async initialize(e){this.serializer=Rd(e.databaseInfo.databaseId),this.sharedClientState=this.Du(e),this.persistence=this.Cu(e),await this.persistence.start(),this.localStore=this.vu(e),this.gcScheduler=this.Fu(e,this.localStore),this.indexBackfillerScheduler=this.Mu(e,this.localStore)}Fu(e,t){return null}Mu(e,t){return null}vu(e){return Ux(this.persistence,new Lx,e.initialUser,this.serializer)}Cu(e){return new S0(hg.Vi,this.serializer)}Du(e){return new qx}async terminate(){this.gcScheduler?.stop(),this.indexBackfillerScheduler?.stop(),this.sharedClientState.shutdown(),await this.persistence.shutdown()}}Bh.provider={build:()=>new Bh};class VO extends Bh{constructor(e){super(),this.cacheSizeBytes=e}Fu(e,t){Ke(this.persistence.referenceDelegate instanceof jh,46915);const r=this.persistence.referenceDelegate.garbageCollector;return new wx(r,e.asyncQueue,t)}Cu(e){const t=this.cacheSizeBytes!==void 0?yn.withCacheSize(this.cacheSizeBytes):yn.DEFAULT;return new S0((r=>jh.Vi(r,t)),this.serializer)}}class ym{async initialize(e,t){this.localStore||(this.localStore=e.localStore,this.sharedClientState=e.sharedClientState,this.datastore=this.createDatastore(t),this.remoteStore=this.createRemoteStore(t),this.eventManager=this.createEventManager(t),this.syncEngine=this.createSyncEngine(t,!e.synchronizeTabs),this.sharedClientState.onlineStateHandler=r=>Hw(this.syncEngine,r,1),this.remoteStore.remoteSyncer.handleCredentialChange=OO.bind(null,this.syncEngine),await pO(this.remoteStore,this.syncEngine.isPrimaryClient))}createEventManager(e){return(function(){return new gO})()}createDatastore(e){const t=Rd(e.databaseInfo.databaseId),r=Yx(e.databaseInfo);return tO(e.authCredentials,e.appCheckCredentials,r,t)}createRemoteStore(e){return(function(r,s,a,u,d){return new rO(r,s,a,u,d)})(this.localStore,this.datastore,e.asyncQueue,(t=>Hw(this.syncEngine,t,0)),(function(){return Uw.v()?new Uw:new Wx})())}createSyncEngine(e,t){return(function(s,a,u,d,f,m,g){const E=new TO(s,a,u,d,f,m);return g&&(E.gu=!0),E})(this.localStore,this.remoteStore,this.eventManager,this.sharedClientState,e.initialUser,e.maxConcurrentLimboResolutions,t)}async terminate(){await(async function(t){const r=De(t);ge(eo,"RemoteStore shutting down."),r.Ea.add(5),await Ou(r),r.Aa.shutdown(),r.Va.set("Unknown")})(this.remoteStore),this.datastore?.terminate(),this.eventManager?.terminate()}}ym.provider={build:()=>new ym};class Rg{constructor(e){this.observer=e,this.muted=!1}next(e){this.muted||this.observer.next&&this.Ou(this.observer.next,e)}error(e){this.muted||(this.observer.error?this.Ou(this.observer.error,e):pi("Uncaught Error in snapshot listener:",e.toString()))}Nu(){this.muted=!0}Ou(e,t){setTimeout((()=>{this.muted||e(t)}),0)}}const fs="FirestoreClient";class MO{constructor(e,t,r,s,a){this.authCredentials=e,this.appCheckCredentials=t,this.asyncQueue=r,this._databaseInfo=s,this.user=Jt.UNAUTHENTICATED,this.clientId=Zm.newId(),this.authCredentialListener=()=>Promise.resolve(),this.appCheckCredentialListener=()=>Promise.resolve(),this._uninitializedComponentsProvider=a,this.authCredentials.start(r,(async u=>{ge(fs,"Received user=",u.uid),await this.authCredentialListener(u),this.user=u})),this.appCheckCredentials.start(r,(u=>(ge(fs,"Received new app check token=",u),this.appCheckCredentialListener(u,this.user))))}get configuration(){return{asyncQueue:this.asyncQueue,databaseInfo:this._databaseInfo,clientId:this.clientId,authCredentials:this.authCredentials,appCheckCredentials:this.appCheckCredentials,initialUser:this.user,maxConcurrentLimboResolutions:100}}setCredentialChangeListener(e){this.authCredentialListener=e}setAppCheckTokenChangeListener(e){this.appCheckCredentialListener=e}terminate(){this.asyncQueue.enterRestrictedMode();const e=new li;return this.asyncQueue.enqueueAndForgetEvenWhileRestricted((async()=>{try{this._onlineComponents&&await this._onlineComponents.terminate(),this._offlineComponents&&await this._offlineComponents.terminate(),this.authCredentials.shutdown(),this.appCheckCredentials.shutdown(),e.resolve()}catch(t){const r=vg(t,"Failed to shutdown persistence");e.reject(r)}})),e.promise}}async function Op(n,e){n.asyncQueue.verifyOperationInProgress(),ge(fs,"Initializing OfflineComponentProvider");const t=n.configuration;await e.initialize(t);let r=t.initialUser;n.setCredentialChangeListener((async s=>{r.isEqual(s)||(await A0(e.localStore,s),r=s)})),e.persistence.setDatabaseDeletedListener((()=>n.terminate())),n._offlineComponents=e}async function Ww(n,e){n.asyncQueue.verifyOperationInProgress();const t=await UO(n);ge(fs,"Initializing OnlineComponentProvider"),await e.initialize(t,n.configuration),n.setCredentialChangeListener((r=>jw(e.remoteStore,r))),n.setAppCheckTokenChangeListener(((r,s)=>jw(e.remoteStore,s))),n._onlineComponents=e}async function UO(n){if(!n._offlineComponents)if(n._uninitializedComponentsProvider){ge(fs,"Using user provided OfflineComponentProvider");try{await Op(n,n._uninitializedComponentsProvider._offline)}catch(e){const t=e;if(!(function(s){return s.name==="FirebaseError"?s.code===G.FAILED_PRECONDITION||s.code===G.UNIMPLEMENTED:!(typeof DOMException<"u"&&s instanceof DOMException)||s.code===22||s.code===20||s.code===11})(t))throw t;ya("Error using user provided cache. Falling back to memory cache: "+t),await Op(n,new Bh)}}else ge(fs,"Using default OfflineComponentProvider"),await Op(n,new VO(void 0));return n._offlineComponents}async function $0(n){return n._onlineComponents||(n._uninitializedComponentsProvider?(ge(fs,"Using user provided OnlineComponentProvider"),await Ww(n,n._uninitializedComponentsProvider._online)):(ge(fs,"Using default OnlineComponentProvider"),await Ww(n,new ym))),n._onlineComponents}function FO(n){return $0(n).then((e=>e.syncEngine))}async function $h(n){const e=await $0(n),t=e.eventManager;return t.onListen=IO.bind(null,e.syncEngine),t.onUnlisten=RO.bind(null,e.syncEngine),t.onFirstRemoteStoreListen=SO.bind(null,e.syncEngine),t.onLastRemoteStoreUnlisten=PO.bind(null,e.syncEngine),t}function jO(n,e,t,r){const s=new Rg(r),a=new Ig(e,s,t);return n.asyncQueue.enqueueAndForget((async()=>wg(await $h(n),a))),()=>{s.Nu(),n.asyncQueue.enqueueAndForget((async()=>Eg(await $h(n),a)))}}function zO(n,e,t={}){const r=new li;return n.asyncQueue.enqueueAndForget((async()=>(function(a,u,d,f,m){const g=new Rg({next:w=>{g.Nu(),u.enqueueAndForget((()=>Eg(a,E)));const A=w.docs.has(d);!A&&w.fromCache?m.reject(new ue(G.UNAVAILABLE,"Failed to get document because the client is offline.")):A&&w.fromCache&&f&&f.source==="server"?m.reject(new ue(G.UNAVAILABLE,'Failed to get document from server. (However, this document does exist in the local cache. Run again without setting source to "server" to retrieve the cached document.)')):m.resolve(w)},error:w=>m.reject(w)}),E=new Ig(vd(d.path),g,{includeMetadataChanges:!0,Ka:!0});return wg(a,E)})(await $h(n),n.asyncQueue,e,t,r))),r.promise}function BO(n,e,t={}){const r=new li;return n.asyncQueue.enqueueAndForget((async()=>(function(a,u,d,f,m){const g=new Rg({next:w=>{g.Nu(),u.enqueueAndForget((()=>Eg(a,E))),w.fromCache&&f.source==="server"?m.reject(new ue(G.UNAVAILABLE,'Failed to get documents from server. (However, these documents may exist in the local cache. Run again without setting source to "server" to retrieve the cached documents.)')):m.resolve(w)},error:w=>m.reject(w)}),E=new Ig(d,g,{includeMetadataChanges:!0,Ka:!0});return wg(a,E)})(await $h(n),n.asyncQueue,e,t,r))),r.promise}function $O(n,e){const t=new li;return n.asyncQueue.enqueueAndForget((async()=>kO(await FO(n),e,t))),t.promise}function H0(n){const e={};return n.timeoutSeconds!==void 0&&(e.timeoutSeconds=n.timeoutSeconds),e}const HO="ComponentProvider",Gw=new Map;function qO(n,e,t,r,s){return new hN(n,e,t,s.host,s.ssl,s.experimentalForceLongPolling,s.experimentalAutoDetectLongPolling,H0(s.experimentalLongPollingOptions),s.useFetchStreams,s.isUsingEmulator,r)}const q0="firestore.googleapis.com",Kw=!0;class Qw{constructor(e){if(e.host===void 0){if(e.ssl!==void 0)throw new ue(G.INVALID_ARGUMENT,"Can't provide ssl option if host option is not set");this.host=q0,this.ssl=Kw}else this.host=e.host,this.ssl=e.ssl??Kw;if(this.isUsingEmulator=e.emulatorOptions!==void 0,this.credentials=e.credentials,this.ignoreUndefinedProperties=!!e.ignoreUndefinedProperties,this.localCache=e.localCache,e.cacheSizeBytes===void 0)this.cacheSizeBytes=I0;else{if(e.cacheSizeBytes!==-1&&e.cacheSizeBytes<_x)throw new ue(G.INVALID_ARGUMENT,"cacheSizeBytes must be at least 1048576");this.cacheSizeBytes=e.cacheSizeBytes}Zb("experimentalForceLongPolling",e.experimentalForceLongPolling,"experimentalAutoDetectLongPolling",e.experimentalAutoDetectLongPolling),this.experimentalForceLongPolling=!!e.experimentalForceLongPolling,this.experimentalForceLongPolling?this.experimentalAutoDetectLongPolling=!1:e.experimentalAutoDetectLongPolling===void 0?this.experimentalAutoDetectLongPolling=!0:this.experimentalAutoDetectLongPolling=!!e.experimentalAutoDetectLongPolling,this.experimentalLongPollingOptions=H0(e.experimentalLongPollingOptions??{}),(function(r){if(r.timeoutSeconds!==void 0){if(isNaN(r.timeoutSeconds))throw new ue(G.INVALID_ARGUMENT,`invalid long polling timeout: ${r.timeoutSeconds} (must not be NaN)`);if(r.timeoutSeconds<5)throw new ue(G.INVALID_ARGUMENT,`invalid long polling timeout: ${r.timeoutSeconds} (minimum allowed value is 5)`);if(r.timeoutSeconds>30)throw new ue(G.INVALID_ARGUMENT,`invalid long polling timeout: ${r.timeoutSeconds} (maximum allowed value is 30)`)}})(this.experimentalLongPollingOptions),this.useFetchStreams=!!e.useFetchStreams}isEqual(e){return this.host===e.host&&this.ssl===e.ssl&&this.credentials===e.credentials&&this.cacheSizeBytes===e.cacheSizeBytes&&this.experimentalForceLongPolling===e.experimentalForceLongPolling&&this.experimentalAutoDetectLongPolling===e.experimentalAutoDetectLongPolling&&(function(r,s){return r.timeoutSeconds===s.timeoutSeconds})(this.experimentalLongPollingOptions,e.experimentalLongPollingOptions)&&this.ignoreUndefinedProperties===e.ignoreUndefinedProperties&&this.useFetchStreams===e.useFetchStreams}}class Cd{constructor(e,t,r,s){this._authCredentials=e,this._appCheckCredentials=t,this._databaseId=r,this._app=s,this.type="firestore-lite",this._persistenceKey="(lite)",this._settings=new Qw({}),this._settingsFrozen=!1,this._emulatorOptions={},this._terminateTask="notTerminated"}get app(){if(!this._app)throw new ue(G.FAILED_PRECONDITION,"Firestore was not initialized using the Firebase SDK. 'app' is not available");return this._app}get _initialized(){return this._settingsFrozen}get _terminated(){return this._terminateTask!=="notTerminated"}_setSettings(e){if(this._settingsFrozen)throw new ue(G.FAILED_PRECONDITION,"Firestore has already been started and its settings can no longer be changed. You can only modify settings before calling any other methods on a Firestore object.");this._settings=new Qw(e),this._emulatorOptions=e.emulatorOptions||{},e.credentials!==void 0&&(this._authCredentials=(function(r){if(!r)return new $b;switch(r.type){case"firstParty":return new Gb(r.sessionIndex||"0",r.iamToken||null,r.authTokenFactory||null);case"provider":return r.client;default:throw new ue(G.INVALID_ARGUMENT,"makeAuthCredentialsProvider failed due to invalid credential type")}})(e.credentials))}_getSettings(){return this._settings}_getEmulatorOptions(){return this._emulatorOptions}_freezeSettings(){return this._settingsFrozen=!0,this._settings}_delete(){return this._terminateTask==="notTerminated"&&(this._terminateTask=this._terminate()),this._terminateTask}async _restart(){this._terminateTask==="notTerminated"?await this._terminate():this._terminateTask="notTerminated"}toJSON(){return{app:this._app,databaseId:this._databaseId,settings:this._settings}}_terminate(){return(function(t){const r=Gw.get(t);r&&(ge(HO,"Removing Datastore"),Gw.delete(t),r.terminate())})(this),Promise.resolve()}}function WO(n,e,t,r={}){n=ln(n,Cd);const s=Fr(e),a=n._getSettings(),u={...a,emulatorOptions:n._getEmulatorOptions()},d=`${e}:${t}`;s&&(id(`https://${d}`),sd("Firestore",!0)),a.host!==q0&&a.host!==d&&ya("Host has been set in both settings() and connectFirestoreEmulator(), emulator host will be used.");const f={...a,host:d,ssl:s,emulatorOptions:r};if(!ui(f,u)&&(n._setSettings(f),r.mockUserToken)){let m,g;if(typeof r.mockUserToken=="string")m=r.mockUserToken,g=Jt.MOCK_USER;else{m=PT(r.mockUserToken,n._app?.options.projectId);const E=r.mockUserToken.sub||r.mockUserToken.user_id;if(!E)throw new ue(G.INVALID_ARGUMENT,"mockUserToken must contain 'sub' or 'user_id' field!");g=new Jt(E)}n._authCredentials=new Hb(new OI(m,g))}}class vi{constructor(e,t,r){this.converter=t,this._query=r,this.type="query",this.firestore=e}withConverter(e){return new vi(this.firestore,e,this._query)}}class mt{constructor(e,t,r){this.converter=t,this._key=r,this.type="document",this.firestore=e}get _path(){return this._key.path}get id(){return this._key.path.lastSegment()}get path(){return this._key.path.canonicalString()}get parent(){return new as(this.firestore,this.converter,this._key.path.popLast())}withConverter(e){return new mt(this.firestore,e,this._key)}toJSON(){return{type:mt._jsonSchemaVersion,referencePath:this._key.toString()}}static fromJSON(e,t,r){if(bu(t,mt._jsonSchema))return new mt(e,r||null,new Se(et.fromString(t.referencePath)))}}mt._jsonSchemaVersion="firestore/documentReference/1.0",mt._jsonSchema={type:Ct("string",mt._jsonSchemaVersion),referencePath:Ct("string")};class as extends vi{constructor(e,t,r){super(e,t,vd(r)),this._path=r,this.type="collection"}get id(){return this._query.path.lastSegment()}get path(){return this._query.path.canonicalString()}get parent(){const e=this._path.popLast();return e.isEmpty()?null:new mt(this.firestore,null,new Se(e))}withConverter(e){return new as(this.firestore,e,this._path)}}function ir(n,e,...t){if(n=ve(n),DI("collection","path",e),n instanceof Cd){const r=et.fromString(e,...t);return lw(r),new as(n,null,r)}{if(!(n instanceof mt||n instanceof as))throw new ue(G.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const r=n._path.child(et.fromString(e,...t));return lw(r),new as(n.firestore,null,r)}}function on(n,e,...t){if(n=ve(n),arguments.length===1&&(e=Zm.newId()),DI("doc","path",e),n instanceof Cd){const r=et.fromString(e,...t);return aw(r),new mt(n,null,new Se(r))}{if(!(n instanceof mt||n instanceof as))throw new ue(G.INVALID_ARGUMENT,"Expected first argument to doc() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const r=n._path.child(et.fromString(e,...t));return aw(r),new mt(n.firestore,n instanceof as?n.converter:null,new Se(r))}}const Yw="AsyncQueue";class Jw{constructor(e=Promise.resolve()){this.Yu=[],this.ec=!1,this.tc=[],this.nc=null,this.rc=!1,this.sc=!1,this.oc=[],this.M_=new P0(this,"async_queue_retry"),this._c=()=>{const r=xp();r&&ge(Yw,"Visibility state changed to "+r.visibilityState),this.M_.w_()},this.ac=e;const t=xp();t&&typeof t.addEventListener=="function"&&t.addEventListener("visibilitychange",this._c)}get isShuttingDown(){return this.ec}enqueueAndForget(e){this.enqueue(e)}enqueueAndForgetEvenWhileRestricted(e){this.uc(),this.cc(e)}enterRestrictedMode(e){if(!this.ec){this.ec=!0,this.sc=e||!1;const t=xp();t&&typeof t.removeEventListener=="function"&&t.removeEventListener("visibilitychange",this._c)}}enqueue(e){if(this.uc(),this.ec)return new Promise((()=>{}));const t=new li;return this.cc((()=>this.ec&&this.sc?Promise.resolve():(e().then(t.resolve,t.reject),t.promise))).then((()=>t.promise))}enqueueRetryable(e){this.enqueueAndForget((()=>(this.Yu.push(e),this.lc())))}async lc(){if(this.Yu.length!==0){try{await this.Yu[0](),this.Yu.shift(),this.M_.reset()}catch(e){if(!xa(e))throw e;ge(Yw,"Operation failed with retryable error: "+e)}this.Yu.length>0&&this.M_.p_((()=>this.lc()))}}cc(e){const t=this.ac.then((()=>(this.rc=!0,e().catch((r=>{throw this.nc=r,this.rc=!1,pi("INTERNAL UNHANDLED ERROR: ",Xw(r)),r})).then((r=>(this.rc=!1,r))))));return this.ac=t,t}enqueueAfterDelay(e,t,r){this.uc(),this.oc.indexOf(e)>-1&&(t=0);const s=_g.createAndSchedule(this,e,t,r,(a=>this.hc(a)));return this.tc.push(s),s}uc(){this.nc&&Pe(47125,{Pc:Xw(this.nc)})}verifyOperationInProgress(){}async Tc(){let e;do e=this.ac,await e;while(e!==this.ac)}Ic(e){for(const t of this.tc)if(t.timerId===e)return!0;return!1}Ec(e){return this.Tc().then((()=>{this.tc.sort(((t,r)=>t.targetTimeMs-r.targetTimeMs));for(const t of this.tc)if(t.skipDelay(),e!=="all"&&t.timerId===e)break;return this.Tc()}))}Rc(e){this.oc.push(e)}hc(e){const t=this.tc.indexOf(e);this.tc.splice(t,1)}}function Xw(n){let e=n.message||"";return n.stack&&(e=n.stack.includes(n.message)?n.stack:n.message+`
`+n.stack),e}class Ur extends Cd{constructor(e,t,r,s){super(e,t,r,s),this.type="firestore",this._queue=new Jw,this._persistenceKey=s?.name||"[DEFAULT]"}async _terminate(){if(this._firestoreClient){const e=this._firestoreClient.terminate();this._queue=new Jw(e),this._firestoreClient=void 0,await e}}}function GO(n,e){const t=typeof n=="object"?n:Iu(),r=typeof n=="string"?n:Lh,s=gi(t,"firestore").getImmediate({identifier:r});if(!s._initialized){const a=km("firestore");a&&WO(s,...a)}return s}function Lu(n){if(n._terminated)throw new ue(G.FAILED_PRECONDITION,"The client has already been terminated.");return n._firestoreClient||KO(n),n._firestoreClient}function KO(n){const e=n._freezeSettings(),t=qO(n._databaseId,n._app?.options.appId||"",n._persistenceKey,n._app?.options.apiKey,e);n._componentsProvider||e.localCache?._offlineComponentProvider&&e.localCache?._onlineComponentProvider&&(n._componentsProvider={_offline:e.localCache._offlineComponentProvider,_online:e.localCache._onlineComponentProvider}),n._firestoreClient=new MO(n._authCredentials,n._appCheckCredentials,n._queue,t,n._componentsProvider&&(function(s){const a=s?._online.build();return{_offline:s?._offline.build(a),_online:a}})(n._componentsProvider))}class Hn{constructor(e){this._byteString=e}static fromBase64String(e){try{return new Hn(Ht.fromBase64String(e))}catch(t){throw new ue(G.INVALID_ARGUMENT,"Failed to construct data from Base64 string: "+t)}}static fromUint8Array(e){return new Hn(Ht.fromUint8Array(e))}toBase64(){return this._byteString.toBase64()}toUint8Array(){return this._byteString.toUint8Array()}toString(){return"Bytes(base64: "+this.toBase64()+")"}isEqual(e){return this._byteString.isEqual(e._byteString)}toJSON(){return{type:Hn._jsonSchemaVersion,bytes:this.toBase64()}}static fromJSON(e){if(bu(e,Hn._jsonSchema))return Hn.fromBase64String(e.bytes)}}Hn._jsonSchemaVersion="firestore/bytes/1.0",Hn._jsonSchema={type:Ct("string",Hn._jsonSchemaVersion),bytes:Ct("string")};class bd{constructor(...e){for(let t=0;t<e.length;++t)if(e[t].length===0)throw new ue(G.INVALID_ARGUMENT,"Invalid field name at argument $(i + 1). Field names must not be empty.");this._internalPath=new $t(e)}isEqual(e){return this._internalPath.isEqual(e._internalPath)}}class La{constructor(e){this._methodName=e}}class Vr{constructor(e,t){if(!isFinite(e)||e<-90||e>90)throw new ue(G.INVALID_ARGUMENT,"Latitude must be a number between -90 and 90, but was: "+e);if(!isFinite(t)||t<-180||t>180)throw new ue(G.INVALID_ARGUMENT,"Longitude must be a number between -180 and 180, but was: "+t);this._lat=e,this._long=t}get latitude(){return this._lat}get longitude(){return this._long}isEqual(e){return this._lat===e._lat&&this._long===e._long}_compareTo(e){return Fe(this._lat,e._lat)||Fe(this._long,e._long)}toJSON(){return{latitude:this._lat,longitude:this._long,type:Vr._jsonSchemaVersion}}static fromJSON(e){if(bu(e,Vr._jsonSchema))return new Vr(e.latitude,e.longitude)}}Vr._jsonSchemaVersion="firestore/geoPoint/1.0",Vr._jsonSchema={type:Ct("string",Vr._jsonSchemaVersion),latitude:Ct("number"),longitude:Ct("number")};class lr{constructor(e){this._values=(e||[]).map((t=>t))}toArray(){return this._values.map((e=>e))}isEqual(e){return(function(r,s){if(r.length!==s.length)return!1;for(let a=0;a<r.length;++a)if(r[a]!==s[a])return!1;return!0})(this._values,e._values)}toJSON(){return{type:lr._jsonSchemaVersion,vectorValues:this._values}}static fromJSON(e){if(bu(e,lr._jsonSchema)){if(Array.isArray(e.vectorValues)&&e.vectorValues.every((t=>typeof t=="number")))return new lr(e.vectorValues);throw new ue(G.INVALID_ARGUMENT,"Expected 'vectorValues' field to be a number array")}}}lr._jsonSchemaVersion="firestore/vectorValue/1.0",lr._jsonSchema={type:Ct("string",lr._jsonSchemaVersion),vectorValues:Ct("object")};const QO=/^__.*__$/;class YO{constructor(e,t,r){this.data=e,this.fieldMask=t,this.fieldTransforms=r}toMutation(e,t){return this.fieldMask!==null?new gs(e,this.data,this.fieldMask,t,this.fieldTransforms):new Nu(e,this.data,t,this.fieldTransforms)}}class W0{constructor(e,t,r){this.data=e,this.fieldMask=t,this.fieldTransforms=r}toMutation(e,t){return new gs(e,this.data,this.fieldMask,t,this.fieldTransforms)}}function G0(n){switch(n){case 0:case 2:case 1:return!0;case 3:case 4:return!1;default:throw Pe(40011,{dataSource:n})}}class Nd{constructor(e,t,r,s,a,u){this.settings=e,this.databaseId=t,this.serializer=r,this.ignoreUndefinedProperties=s,a===void 0&&this.validatePath(),this.fieldTransforms=a||[],this.fieldMask=u||[]}get path(){return this.settings.path}get dataSource(){return this.settings.dataSource}contextWith(e){return new Nd({...this.settings,...e},this.databaseId,this.serializer,this.ignoreUndefinedProperties,this.fieldTransforms,this.fieldMask)}childContextForField(e){const t=this.path?.child(e),r=this.contextWith({path:t,arrayElement:!1});return r.validatePathSegment(e),r}childContextForFieldPath(e){const t=this.path?.child(e),r=this.contextWith({path:t,arrayElement:!1});return r.validatePath(),r}childContextForArray(e){return this.contextWith({path:void 0,arrayElement:!0})}createError(e){return Hh(e,this.settings.methodName,this.settings.hasConverter||!1,this.path,this.settings.targetDoc)}contains(e){return this.fieldMask.find((t=>e.isPrefixOf(t)))!==void 0||this.fieldTransforms.find((t=>e.isPrefixOf(t.field)))!==void 0}validatePath(){if(this.path)for(let e=0;e<this.path.length;e++)this.validatePathSegment(this.path.get(e))}validatePathSegment(e){if(e.length===0)throw this.createError("Document fields must not be empty");if(G0(this.dataSource)&&QO.test(e))throw this.createError('Document fields cannot begin and end with "__"')}}class JO{constructor(e,t,r){this.databaseId=e,this.ignoreUndefinedProperties=t,this.serializer=r||Rd(e)}createContext(e,t,r,s=!1){return new Nd({dataSource:e,methodName:t,targetDoc:r,path:$t.emptyPath(),arrayElement:!1,hasConverter:s},this.databaseId,this.serializer,this.ignoreUndefinedProperties)}}function Vu(n){const e=n._freezeSettings(),t=Rd(n._databaseId);return new JO(n._databaseId,!!e.ignoreUndefinedProperties,t)}function Pg(n,e,t,r,s,a={}){const u=n.createContext(a.merge||a.mergeFields?2:0,e,t,s);Ng("Data must be an object, but it was:",u,r);const d=Y0(r,u);let f,m;if(a.merge)f=new bn(u.fieldMask),m=u.fieldTransforms;else if(a.mergeFields){const g=[];for(const E of a.mergeFields){const w=to(e,E,t);if(!u.contains(w))throw new ue(G.INVALID_ARGUMENT,`Field '${w}' is specified in your field mask but missing from your input data.`);Z0(g,w)||g.push(w)}f=new bn(g),m=u.fieldTransforms.filter((E=>f.covers(E.field)))}else f=null,m=u.fieldTransforms;return new YO(new _n(d),f,m)}class Mu extends La{_toFieldTransform(e){if(e.dataSource!==2)throw e.dataSource===1?e.createError(`${this._methodName}() can only appear at the top level of your update data`):e.createError(`${this._methodName}() cannot be used with set() unless you pass {merge:true}`);return e.fieldMask.push(e.path),null}isEqual(e){return e instanceof Mu}}function XO(n,e,t){return new Nd({dataSource:3,targetDoc:e.settings.targetDoc,methodName:n._methodName,arrayElement:t},e.databaseId,e.serializer,e.ignoreUndefinedProperties)}class kg extends La{_toFieldTransform(e){return new og(e.path,new yu)}isEqual(e){return e instanceof kg}}class Cg extends La{constructor(e,t){super(e),this.Ac=t}_toFieldTransform(e){const t=XO(this,e,!0),r=this.Ac.map((a=>Va(a,t))),s=new Ea(r);return new og(e.path,s)}isEqual(e){return e instanceof Cg&&ui(this.Ac,e.Ac)}}class bg extends La{constructor(e,t){super(e),this.Vc=t}_toFieldTransform(e){const t=new vu(e.serializer,s0(e.serializer,this.Vc));return new og(e.path,t)}isEqual(e){return e instanceof bg&&this.Vc===e.Vc}}function K0(n,e,t,r){const s=n.createContext(1,e,t);Ng("Data must be an object, but it was:",s,r);const a=[],u=_n.empty();ms(r,((f,m)=>{const g=X0(e,f,t);m=ve(m);const E=s.childContextForFieldPath(g);if(m instanceof Mu)a.push(g);else{const w=Va(m,E);w!=null&&(a.push(g),u.set(g,w))}}));const d=new bn(a);return new W0(u,d,s.fieldTransforms)}function Q0(n,e,t,r,s,a){const u=n.createContext(1,e,t),d=[to(e,r,t)],f=[s];if(a.length%2!=0)throw new ue(G.INVALID_ARGUMENT,`Function ${e}() needs to be called with an even number of arguments that alternate between field names and values.`);for(let w=0;w<a.length;w+=2)d.push(to(e,a[w])),f.push(a[w+1]);const m=[],g=_n.empty();for(let w=d.length-1;w>=0;--w)if(!Z0(m,d[w])){const A=d[w];let O=f[w];O=ve(O);const F=u.childContextForFieldPath(A);if(O instanceof Mu)m.push(A);else{const M=Va(O,F);M!=null&&(m.push(A),g.set(A,M))}}const E=new bn(m);return new W0(g,E,u.fieldTransforms)}function ZO(n,e,t,r=!1){return Va(t,n.createContext(r?4:3,e))}function Va(n,e){if(J0(n=ve(n)))return Ng("Unsupported field value:",e,n),Y0(n,e);if(n instanceof La)return(function(r,s){if(!G0(s.dataSource))throw s.createError(`${r._methodName}() can only be used with update() and set()`);if(!s.path)throw s.createError(`${r._methodName}() is not currently supported inside arrays`);const a=r._toFieldTransform(s);a&&s.fieldTransforms.push(a)})(n,e),null;if(n===void 0&&e.ignoreUndefinedProperties)return null;if(e.path&&e.fieldMask.push(e.path),n instanceof Array){if(e.settings.arrayElement&&e.dataSource!==4)throw e.createError("Nested arrays are not supported");return(function(r,s){const a=[];let u=0;for(const d of r){let f=Va(d,s.childContextForArray(u));f==null&&(f={nullValue:"NULL_VALUE"}),a.push(f),u++}return{arrayValue:{values:a}}})(n,e)}return(function(r,s){if((r=ve(r))===null)return{nullValue:"NULL_VALUE"};if(typeof r=="number")return s0(s.serializer,r);if(typeof r=="boolean")return{booleanValue:r};if(typeof r=="string")return{stringValue:r};if(r instanceof Date){const a=it.fromDate(r);return{timestampValue:Fh(s.serializer,a)}}if(r instanceof it){const a=new it(r.seconds,1e3*Math.floor(r.nanoseconds/1e3));return{timestampValue:Fh(s.serializer,a)}}if(r instanceof Vr)return{geoPointValue:{latitude:r.latitude,longitude:r.longitude}};if(r instanceof Hn)return{bytesValue:m0(s.serializer,r._byteString)};if(r instanceof mt){const a=s.databaseId,u=r.firestore._databaseId;if(!u.isEqual(a))throw s.createError(`Document reference is for database ${u.projectId}/${u.database} but should be for database ${a.projectId}/${a.database}`);return{referenceValue:ug(r.firestore._databaseId||s.databaseId,r._key.path)}}if(r instanceof lr)return(function(u,d){const f=u instanceof lr?u.toArray():u;return{mapValue:{fields:{[$I]:{stringValue:HI},[Vh]:{arrayValue:{values:f.map((g=>{if(typeof g!="number")throw d.createError("VectorValues must only contain numeric values.");return sg(d.serializer,g)}))}}}}}})(r,s);if(T0(r))return r._toProto(s.serializer);throw s.createError(`Unsupported field value: ${md(r)}`)})(n,e)}function Y0(n,e){const t={};return MI(n)?e.path&&e.path.length>0&&e.fieldMask.push(e.path):ms(n,((r,s)=>{const a=Va(s,e.childContextForField(r));a!=null&&(t[r]=a)})),{mapValue:{fields:t}}}function J0(n){return!(typeof n!="object"||n===null||n instanceof Array||n instanceof Date||n instanceof it||n instanceof Vr||n instanceof Hn||n instanceof mt||n instanceof La||n instanceof lr||T0(n))}function Ng(n,e,t){if(!J0(t)||!LI(t)){const r=md(t);throw r==="an object"?e.createError(n+" a custom object"):e.createError(n+" "+r)}}function to(n,e,t){if((e=ve(e))instanceof bd)return e._internalPath;if(typeof e=="string")return X0(n,e);throw Hh("Field path arguments must be of type string or ",n,!1,void 0,t)}const eD=new RegExp("[~\\*/\\[\\]]");function X0(n,e,t){if(e.search(eD)>=0)throw Hh(`Invalid field path (${e}). Paths must not contain '~', '*', '/', '[', or ']'`,n,!1,void 0,t);try{return new bd(...e.split("."))._internalPath}catch{throw Hh(`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`,n,!1,void 0,t)}}function Hh(n,e,t,r,s){const a=r&&!r.isEmpty(),u=s!==void 0;let d=`Function ${e}() called with invalid data`;t&&(d+=" (via `toFirestore()`)"),d+=". ";let f="";return(a||u)&&(f+=" (found",a&&(f+=` in field ${r}`),u&&(f+=` in document ${s}`),f+=")"),new ue(G.INVALID_ARGUMENT,d+n+f)}function Z0(n,e){return n.some((t=>t.isEqual(e)))}class tD{convertValue(e,t="none"){switch(hs(e)){case 0:return null;case 1:return e.booleanValue;case 2:return Tt(e.integerValue||e.doubleValue);case 3:return this.convertTimestamp(e.timestampValue);case 4:return this.convertServerTimestamp(e,t);case 5:return e.stringValue;case 6:return this.convertBytes(cs(e.bytesValue));case 7:return this.convertReference(e.referenceValue);case 8:return this.convertGeoPoint(e.geoPointValue);case 9:return this.convertArray(e.arrayValue,t);case 11:return this.convertObject(e.mapValue,t);case 10:return this.convertVectorValue(e.mapValue);default:throw Pe(62114,{value:e})}}convertObject(e,t){return this.convertObjectMap(e.fields,t)}convertObjectMap(e,t="none"){const r={};return ms(e,((s,a)=>{r[s]=this.convertValue(a,t)})),r}convertVectorValue(e){const t=e.fields?.[Vh].arrayValue?.values?.map((r=>Tt(r.doubleValue)));return new lr(t)}convertGeoPoint(e){return new Vr(Tt(e.latitude),Tt(e.longitude))}convertArray(e,t){return(e.values||[]).map((r=>this.convertValue(r,t)))}convertServerTimestamp(e,t){switch(t){case"previous":const r=_d(e);return r==null?null:this.convertValue(r,t);case"estimate":return this.convertTimestamp(fu(e));default:return null}}convertTimestamp(e){const t=us(e);return new it(t.seconds,t.nanos)}convertDocumentKey(e,t){const r=et.fromString(e);Ke(E0(r),9688,{name:e});const s=new pu(r.get(1),r.get(3)),a=new Se(r.popFirst(5));return s.isEqual(t)||pi(`Document ${a} contains a document reference within a different database (${s.projectId}/${s.database}) which is not supported. It will be treated as a reference in the current database (${t.projectId}/${t.database}) instead.`),a}}class xg extends tD{constructor(e){super(),this.firestore=e}convertBytes(e){return new Hn(e)}convertReference(e){const t=this.convertDocumentKey(e,this.firestore._databaseId);return new mt(this.firestore,null,t)}}function UF(){return new Mu("deleteField")}function sr(){return new kg("serverTimestamp")}function FF(...n){return new Cg("arrayUnion",n)}function eS(n){return new bg("increment",n)}const Zw="@firebase/firestore",eE="4.10.0";function tE(n){return(function(t,r){if(typeof t!="object"||t===null)return!1;const s=t;for(const a of r)if(a in s&&typeof s[a]=="function")return!0;return!1})(n,["next","error","complete"])}class tS{constructor(e,t,r,s,a){this._firestore=e,this._userDataWriter=t,this._key=r,this._document=s,this._converter=a}get id(){return this._key.path.lastSegment()}get ref(){return new mt(this._firestore,this._converter,this._key)}exists(){return this._document!==null}data(){if(this._document){if(this._converter){const e=new nD(this._firestore,this._userDataWriter,this._key,this._document,null);return this._converter.fromFirestore(e)}return this._userDataWriter.convertValue(this._document.data.value)}}_fieldsProto(){return this._document?.data.clone().value.mapValue.fields??void 0}get(e){if(this._document){const t=this._document.data.field(to("DocumentSnapshot.get",e));if(t!==null)return this._userDataWriter.convertValue(t)}}}class nD extends tS{data(){return super.data()}}function nS(n){if(n.limitType==="L"&&n.explicitOrderBy.length===0)throw new ue(G.UNIMPLEMENTED,"limitToLast() queries require specifying at least one orderBy() clause")}class Og{}class Dg extends Og{}function rS(n,e,...t){let r=[];e instanceof Og&&r.push(e),r=r.concat(t),(function(a){const u=a.filter((f=>f instanceof Lg)).length,d=a.filter((f=>f instanceof xd)).length;if(u>1||u>0&&d>0)throw new ue(G.INVALID_ARGUMENT,"InvalidQuery. When using composite filters, you cannot use more than one filter at the top level. Consider nesting the multiple filters within an `and(...)` statement. For example: change `query(query, where(...), or(...))` to `query(query, and(where(...), or(...)))`.")})(r);for(const s of r)n=s._apply(n);return n}class xd extends Dg{constructor(e,t,r){super(),this._field=e,this._op=t,this._value=r,this.type="where"}static _create(e,t,r){return new xd(e,t,r)}_apply(e){const t=this._parse(e);return sS(e._query,t),new vi(e.firestore,e.converter,lm(e._query,t))}_parse(e){const t=Vu(e.firestore);return(function(a,u,d,f,m,g,E){let w;if(m.isKeyField()){if(g==="array-contains"||g==="array-contains-any")throw new ue(G.INVALID_ARGUMENT,`Invalid Query. You can't perform '${g}' queries on documentId().`);if(g==="in"||g==="not-in"){rE(E,g);const O=[];for(const F of E)O.push(nE(f,a,F));w={arrayValue:{values:O}}}else w=nE(f,a,E)}else g!=="in"&&g!=="not-in"&&g!=="array-contains-any"||rE(E,g),w=ZO(d,u,E,g==="in"||g==="not-in");return kt.create(m,g,w)})(e._query,"where",t,e.firestore._databaseId,this._field,this._op,this._value)}}function jF(n,e,t){const r=e,s=to("where",n);return xd._create(s,r,t)}class Lg extends Og{constructor(e,t){super(),this.type=e,this._queryConstraints=t}static _create(e,t){return new Lg(e,t)}_parse(e){const t=this._queryConstraints.map((r=>r._parse(e))).filter((r=>r.getFilters().length>0));return t.length===1?t[0]:ur.create(t,this._getOperator())}_apply(e){const t=this._parse(e);return t.getFilters().length===0?e:((function(s,a){let u=s;const d=a.getFlattenedFilters();for(const f of d)sS(u,f),u=lm(u,f)})(e._query,t),new vi(e.firestore,e.converter,lm(e._query,t)))}_getQueryConstraints(){return this._queryConstraints}_getOperator(){return this.type==="and"?"and":"or"}}class Vg extends Dg{constructor(e,t){super(),this._field=e,this._direction=t,this.type="orderBy"}static _create(e,t){return new Vg(e,t)}_apply(e){const t=(function(s,a,u){if(s.startAt!==null)throw new ue(G.INVALID_ARGUMENT,"Invalid query. You must not call startAt() or startAfter() before calling orderBy().");if(s.endAt!==null)throw new ue(G.INVALID_ARGUMENT,"Invalid query. You must not call endAt() or endBefore() before calling orderBy().");return new gu(a,u)})(e._query,this._field,this._direction);return new vi(e.firestore,e.converter,CN(e._query,t))}}function iS(n,e="asc"){const t=e,r=to("orderBy",n);return Vg._create(r,t)}class Mg extends Dg{constructor(e,t,r){super(),this.type=e,this._limit=t,this._limitType=r}static _create(e,t,r){return new Mg(e,t,r)}_apply(e){return new vi(e.firestore,e.converter,Uh(e._query,this._limit,this._limitType))}}function zF(n){return eN("limit",n),Mg._create("limit",n,"F")}function nE(n,e,t){if(typeof(t=ve(t))=="string"){if(t==="")throw new ue(G.INVALID_ARGUMENT,"Invalid query. When querying with documentId(), you must provide a valid document ID, but it was an empty string.");if(!XI(e)&&t.indexOf("/")!==-1)throw new ue(G.INVALID_ARGUMENT,`Invalid query. When querying a collection by documentId(), you must provide a plain document ID, but '${t}' contains a '/' character.`);const r=e.path.child(et.fromString(t));if(!Se.isDocumentKey(r))throw new ue(G.INVALID_ARGUMENT,`Invalid query. When querying a collection group by documentId(), the value provided must result in a valid document path, but '${r}' is not because it has an odd number of segments (${r.length}).`);return gw(n,new Se(r))}if(t instanceof mt)return gw(n,t._key);throw new ue(G.INVALID_ARGUMENT,`Invalid query. When querying with documentId(), you must provide a valid string or a DocumentReference, but it was: ${md(t)}.`)}function rE(n,e){if(!Array.isArray(n)||n.length===0)throw new ue(G.INVALID_ARGUMENT,`Invalid Query. A non-empty array is required for '${e.toString()}' filters.`)}function sS(n,e){const t=(function(s,a){for(const u of s)for(const d of u.getFlattenedFilters())if(a.indexOf(d.op)>=0)return d.op;return null})(n.filters,(function(s){switch(s){case"!=":return["!=","not-in"];case"array-contains-any":case"in":return["not-in"];case"not-in":return["array-contains-any","in","not-in","!="];default:return[]}})(e.op));if(t!==null)throw t===e.op?new ue(G.INVALID_ARGUMENT,`Invalid query. You cannot use more than one '${e.op.toString()}' filter.`):new ue(G.INVALID_ARGUMENT,`Invalid query. You cannot use '${e.op.toString()}' filters with '${t.toString()}' filters.`)}function Ug(n,e,t){let r;return r=n?t&&(t.merge||t.mergeFields)?n.toFirestore(e,t):n.toFirestore(e):e,r}class Gl{constructor(e,t){this.hasPendingWrites=e,this.fromCache=t}isEqual(e){return this.hasPendingWrites===e.hasPendingWrites&&this.fromCache===e.fromCache}}class Ys extends tS{constructor(e,t,r,s,a,u){super(e,t,r,s,u),this._firestore=e,this._firestoreImpl=e,this.metadata=a}exists(){return super.exists()}data(e={}){if(this._document){if(this._converter){const t=new Rh(this._firestore,this._userDataWriter,this._key,this._document,this.metadata,null);return this._converter.fromFirestore(t,e)}return this._userDataWriter.convertValue(this._document.data.value,e.serverTimestamps)}}get(e,t={}){if(this._document){const r=this._document.data.field(to("DocumentSnapshot.get",e));if(r!==null)return this._userDataWriter.convertValue(r,t.serverTimestamps)}}toJSON(){if(this.metadata.hasPendingWrites)throw new ue(G.FAILED_PRECONDITION,"DocumentSnapshot.toJSON() attempted to serialize a document with pending writes. Await waitForPendingWrites() before invoking toJSON().");const e=this._document,t={};return t.type=Ys._jsonSchemaVersion,t.bundle="",t.bundleSource="DocumentSnapshot",t.bundleName=this._key.toString(),!e||!e.isValidDocument()||!e.isFoundDocument()?t:(this._userDataWriter.convertObjectMap(e.data.value.mapValue.fields,"previous"),t.bundle=(this._firestore,this.ref.path,"NOT SUPPORTED"),t)}}Ys._jsonSchemaVersion="firestore/documentSnapshot/1.0",Ys._jsonSchema={type:Ct("string",Ys._jsonSchemaVersion),bundleSource:Ct("string","DocumentSnapshot"),bundleName:Ct("string"),bundle:Ct("string")};class Rh extends Ys{data(e={}){return super.data(e)}}class Js{constructor(e,t,r,s){this._firestore=e,this._userDataWriter=t,this._snapshot=s,this.metadata=new Gl(s.hasPendingWrites,s.fromCache),this.query=r}get docs(){const e=[];return this.forEach((t=>e.push(t))),e}get size(){return this._snapshot.docs.size}get empty(){return this.size===0}forEach(e,t){this._snapshot.docs.forEach((r=>{e.call(t,new Rh(this._firestore,this._userDataWriter,r.key,r,new Gl(this._snapshot.mutatedKeys.has(r.key),this._snapshot.fromCache),this.query.converter))}))}docChanges(e={}){const t=!!e.includeMetadataChanges;if(t&&this._snapshot.excludesMetadataChanges)throw new ue(G.INVALID_ARGUMENT,"To include metadata changes with your document changes, you must also pass { includeMetadataChanges:true } to onSnapshot().");return this._cachedChanges&&this._cachedChangesIncludeMetadataChanges===t||(this._cachedChanges=(function(s,a){if(s._snapshot.oldDocs.isEmpty()){let u=0;return s._snapshot.docChanges.map((d=>{const f=new Rh(s._firestore,s._userDataWriter,d.doc.key,d.doc,new Gl(s._snapshot.mutatedKeys.has(d.doc.key),s._snapshot.fromCache),s.query.converter);return d.doc,{type:"added",doc:f,oldIndex:-1,newIndex:u++}}))}{let u=s._snapshot.oldDocs;return s._snapshot.docChanges.filter((d=>a||d.type!==3)).map((d=>{const f=new Rh(s._firestore,s._userDataWriter,d.doc.key,d.doc,new Gl(s._snapshot.mutatedKeys.has(d.doc.key),s._snapshot.fromCache),s.query.converter);let m=-1,g=-1;return d.type!==0&&(m=u.indexOf(d.doc.key),u=u.delete(d.doc.key)),d.type!==1&&(u=u.add(d.doc),g=u.indexOf(d.doc.key)),{type:rD(d.type),doc:f,oldIndex:m,newIndex:g}}))}})(this,t),this._cachedChangesIncludeMetadataChanges=t),this._cachedChanges}toJSON(){if(this.metadata.hasPendingWrites)throw new ue(G.FAILED_PRECONDITION,"QuerySnapshot.toJSON() attempted to serialize a document with pending writes. Await waitForPendingWrites() before invoking toJSON().");const e={};e.type=Js._jsonSchemaVersion,e.bundleSource="QuerySnapshot",e.bundleName=Zm.newId(),this._firestore._databaseId.database,this._firestore._databaseId.projectId;const t=[],r=[],s=[];return this.docs.forEach((a=>{a._document!==null&&(t.push(a._document),r.push(this._userDataWriter.convertObjectMap(a._document.data.value.mapValue.fields,"previous")),s.push(a.ref.path))})),e.bundle=(this._firestore,this.query._query,e.bundleName,"NOT SUPPORTED"),e}}function rD(n){switch(n){case 0:return"added";case 2:case 3:return"modified";case 1:return"removed";default:return Pe(61501,{type:n})}}Js._jsonSchemaVersion="firestore/querySnapshot/1.0",Js._jsonSchema={type:Ct("string",Js._jsonSchemaVersion),bundleSource:Ct("string","QuerySnapshot"),bundleName:Ct("string"),bundle:Ct("string")};class iD{constructor(e,t){this._firestore=e,this._commitHandler=t,this._mutations=[],this._committed=!1,this._dataReader=Vu(e)}set(e,t,r){this._verifyNotCommitted();const s=Dp(e,this._firestore),a=Ug(s.converter,t,r),u=Pg(this._dataReader,"WriteBatch.set",s._key,a,s.converter!==null,r);return this._mutations.push(u.toMutation(s._key,un.none())),this}update(e,t,r,...s){this._verifyNotCommitted();const a=Dp(e,this._firestore);let u;return u=typeof(t=ve(t))=="string"||t instanceof bd?Q0(this._dataReader,"WriteBatch.update",a._key,t,r,s):K0(this._dataReader,"WriteBatch.update",a._key,t),this._mutations.push(u.toMutation(a._key,un.exists(!0))),this}delete(e){this._verifyNotCommitted();const t=Dp(e,this._firestore);return this._mutations=this._mutations.concat(new Sd(t._key,un.none())),this}commit(){return this._verifyNotCommitted(),this._committed=!0,this._mutations.length>0?this._commitHandler(this._mutations):Promise.resolve()}_verifyNotCommitted(){if(this._committed)throw new ue(G.FAILED_PRECONDITION,"A write batch can no longer be used after commit() has been called.")}}function Dp(n,e){if((n=ve(n)).firestore!==e)throw new ue(G.INVALID_ARGUMENT,"Provided document reference is from a different Firestore instance.");return n}function Kl(n){n=ln(n,mt);const e=ln(n.firestore,Ur),t=Lu(e);return zO(t,n._key).then((r=>aS(e,n,r)))}function sD(n){n=ln(n,vi);const e=ln(n.firestore,Ur),t=Lu(e),r=new xg(e);return nS(n._query),BO(t,n._query).then((s=>new Js(e,r,n,s)))}function Fg(n,e,t){n=ln(n,mt);const r=ln(n.firestore,Ur),s=Ug(n.converter,e,t),a=Vu(r);return Uu(r,[Pg(a,"setDoc",n._key,s,n.converter!==null,t).toMutation(n._key,un.none())])}function qh(n,e,t,...r){n=ln(n,mt);const s=ln(n.firestore,Ur),a=Vu(s);let u;return u=typeof(e=ve(e))=="string"||e instanceof bd?Q0(a,"updateDoc",n._key,e,t,r):K0(a,"updateDoc",n._key,e),Uu(s,[u.toMutation(n._key,un.exists(!0))])}function oS(n){return Uu(ln(n.firestore,Ur),[new Sd(n._key,un.none())])}function Gs(n,e){const t=ln(n.firestore,Ur),r=on(n),s=Ug(n.converter,e),a=Vu(n.firestore);return Uu(t,[Pg(a,"addDoc",r._key,s,n.converter!==null,{}).toMutation(r._key,un.exists(!1))]).then((()=>r))}function Wh(n,...e){n=ve(n);let t={includeMetadataChanges:!1,source:"default"},r=0;typeof e[r]!="object"||tE(e[r])||(t=e[r++]);const s={includeMetadataChanges:t.includeMetadataChanges,source:t.source};if(tE(e[r])){const m=e[r];e[r]=m.next?.bind(m),e[r+1]=m.error?.bind(m),e[r+2]=m.complete?.bind(m)}let a,u,d;if(n instanceof mt)u=ln(n.firestore,Ur),d=vd(n._key.path),a={next:m=>{e[r]&&e[r](aS(u,n,m))},error:e[r+1],complete:e[r+2]};else{const m=ln(n,vi);u=ln(m.firestore,Ur),d=m._query;const g=new xg(u);a={next:E=>{e[r]&&e[r](new Js(u,g,m,E))},error:e[r+1],complete:e[r+2]},nS(n._query)}const f=Lu(u);return jO(f,d,s,a)}function Uu(n,e){const t=Lu(n);return $O(t,e)}function aS(n,e,t){const r=t.docs.get(e._key),s=new xg(n);return new Ys(n,s,e._key,r,new Gl(t.hasPendingWrites,t.fromCache),e.converter)}function lS(n){return n=ln(n,Ur),Lu(n),new iD(n,(e=>Uu(n,e)))}(function(e,t=!0){Bb(ao),qn(new On("firestore",((r,{instanceIdentifier:s,options:a})=>{const u=r.getProvider("app").getImmediate(),d=new Ur(new qb(r.getProvider("auth-internal")),new Kb(u,r.getProvider("app-check-internal")),dN(u,s),u);return a={useFetchStreams:t,...a},d._setSettings(a),d}),"PUBLIC").setMultipleInstances(!0)),Zt(Zw,eE,e),Zt(Zw,eE,"esm2020")})();const uS="firebasestorage.googleapis.com",cS="storageBucket",oD=120*1e3,aD=600*1e3;class _t extends Dn{constructor(e,t,r=0){super(Lp(e),`Firebase Storage: ${t} (${Lp(e)})`),this.status_=r,this.customData={serverResponse:null},this._baseMessage=this.message,Object.setPrototypeOf(this,_t.prototype)}get status(){return this.status_}set status(e){this.status_=e}_codeEquals(e){return Lp(e)===this.code}get serverResponse(){return this.customData.serverResponse}set serverResponse(e){this.customData.serverResponse=e,this.customData.serverResponse?this.message=`${this._baseMessage}
${this.customData.serverResponse}`:this.message=this._baseMessage}}var gt;(function(n){n.UNKNOWN="unknown",n.OBJECT_NOT_FOUND="object-not-found",n.BUCKET_NOT_FOUND="bucket-not-found",n.PROJECT_NOT_FOUND="project-not-found",n.QUOTA_EXCEEDED="quota-exceeded",n.UNAUTHENTICATED="unauthenticated",n.UNAUTHORIZED="unauthorized",n.UNAUTHORIZED_APP="unauthorized-app",n.RETRY_LIMIT_EXCEEDED="retry-limit-exceeded",n.INVALID_CHECKSUM="invalid-checksum",n.CANCELED="canceled",n.INVALID_EVENT_NAME="invalid-event-name",n.INVALID_URL="invalid-url",n.INVALID_DEFAULT_BUCKET="invalid-default-bucket",n.NO_DEFAULT_BUCKET="no-default-bucket",n.CANNOT_SLICE_BLOB="cannot-slice-blob",n.SERVER_FILE_WRONG_SIZE="server-file-wrong-size",n.NO_DOWNLOAD_URL="no-download-url",n.INVALID_ARGUMENT="invalid-argument",n.INVALID_ARGUMENT_COUNT="invalid-argument-count",n.APP_DELETED="app-deleted",n.INVALID_ROOT_OPERATION="invalid-root-operation",n.INVALID_FORMAT="invalid-format",n.INTERNAL_ERROR="internal-error",n.UNSUPPORTED_ENVIRONMENT="unsupported-environment"})(gt||(gt={}));function Lp(n){return"storage/"+n}function jg(){const n="An unknown error occurred, please check the error payload for server response.";return new _t(gt.UNKNOWN,n)}function lD(n){return new _t(gt.OBJECT_NOT_FOUND,"Object '"+n+"' does not exist.")}function uD(n){return new _t(gt.QUOTA_EXCEEDED,"Quota for bucket '"+n+"' exceeded, please view quota on https://firebase.google.com/pricing/.")}function cD(){const n="User is not authenticated, please authenticate using Firebase Authentication and try again.";return new _t(gt.UNAUTHENTICATED,n)}function hD(){return new _t(gt.UNAUTHORIZED_APP,"This app does not have permission to access Firebase Storage on this project.")}function dD(n){return new _t(gt.UNAUTHORIZED,"User does not have permission to access '"+n+"'.")}function fD(){return new _t(gt.RETRY_LIMIT_EXCEEDED,"Max retry time for operation exceeded, please try again.")}function pD(){return new _t(gt.CANCELED,"User canceled the upload/download.")}function mD(n){return new _t(gt.INVALID_URL,"Invalid URL '"+n+"'.")}function gD(n){return new _t(gt.INVALID_DEFAULT_BUCKET,"Invalid default bucket '"+n+"'.")}function yD(){return new _t(gt.NO_DEFAULT_BUCKET,"No default bucket found. Did you set the '"+cS+"' property when initializing the app?")}function _D(){return new _t(gt.CANNOT_SLICE_BLOB,"Cannot slice blob for upload. Please retry the upload.")}function vD(){return new _t(gt.NO_DOWNLOAD_URL,"The given file does not have any download URLs.")}function wD(n){return new _t(gt.UNSUPPORTED_ENVIRONMENT,`${n} is missing. Make sure to install the required polyfills. See https://firebase.google.com/docs/web/environments-js-sdk#polyfills for more information.`)}function _m(n){return new _t(gt.INVALID_ARGUMENT,n)}function hS(){return new _t(gt.APP_DELETED,"The Firebase app was deleted.")}function ED(n){return new _t(gt.INVALID_ROOT_OPERATION,"The operation '"+n+"' cannot be performed on a root reference, create a non-root reference using child, such as .child('file.png').")}function iu(n,e){return new _t(gt.INVALID_FORMAT,"String does not match format '"+n+"': "+e)}function Ml(n){throw new _t(gt.INTERNAL_ERROR,"Internal error: "+n)}class Nn{constructor(e,t){this.bucket=e,this.path_=t}get path(){return this.path_}get isRoot(){return this.path.length===0}fullServerUrl(){const e=encodeURIComponent;return"/b/"+e(this.bucket)+"/o/"+e(this.path)}bucketOnlyServerUrl(){return"/b/"+encodeURIComponent(this.bucket)+"/o"}static makeFromBucketSpec(e,t){let r;try{r=Nn.makeFromUrl(e,t)}catch{return new Nn(e,"")}if(r.path==="")return r;throw gD(e)}static makeFromUrl(e,t){let r=null;const s="([A-Za-z0-9.\\-_]+)";function a(re){re.path.charAt(re.path.length-1)==="/"&&(re.path_=re.path_.slice(0,-1))}const u="(/(.*))?$",d=new RegExp("^gs://"+s+u,"i"),f={bucket:1,path:3};function m(re){re.path_=decodeURIComponent(re.path)}const g="v[A-Za-z0-9_]+",E=t.replace(/[.]/g,"\\."),w="(/([^?#]*).*)?$",A=new RegExp(`^https?://${E}/${g}/b/${s}/o${w}`,"i"),O={bucket:1,path:3},F=t===uS?"(?:storage.googleapis.com|storage.cloud.google.com)":t,M="([^?#]*)",J=new RegExp(`^https?://${F}/${s}/${M}`,"i"),le=[{regex:d,indices:f,postModify:a},{regex:A,indices:O,postModify:m},{regex:J,indices:{bucket:1,path:2},postModify:m}];for(let re=0;re<le.length;re++){const ce=le[re],de=ce.regex.exec(e);if(de){const k=de[ce.indices.bucket];let S=de[ce.indices.path];S||(S=""),r=new Nn(k,S),ce.postModify(r);break}}if(r==null)throw mD(e);return r}}class TD{constructor(e){this.promise_=Promise.reject(e)}getPromise(){return this.promise_}cancel(e=!1){}}function ID(n,e,t){let r=1,s=null,a=null,u=!1,d=0;function f(){return d===2}let m=!1;function g(...M){m||(m=!0,e.apply(null,M))}function E(M){s=setTimeout(()=>{s=null,n(A,f())},M)}function w(){a&&clearTimeout(a)}function A(M,...J){if(m){w();return}if(M){w(),g.call(null,M,...J);return}if(f()||u){w(),g.call(null,M,...J);return}r<64&&(r*=2);let le;d===1?(d=2,le=0):le=(r+Math.random())*1e3,E(le)}let O=!1;function F(M){O||(O=!0,w(),!m&&(s!==null?(M||(d=2),clearTimeout(s),E(0)):M||(d=1)))}return E(0),a=setTimeout(()=>{u=!0,F(!0)},t),F}function SD(n){n(!1)}function AD(n){return n!==void 0}function RD(n){return typeof n=="object"&&!Array.isArray(n)}function zg(n){return typeof n=="string"||n instanceof String}function iE(n){return Bg()&&n instanceof Blob}function Bg(){return typeof Blob<"u"}function sE(n,e,t,r){if(r<e)throw _m(`Invalid value for '${n}'. Expected ${e} or greater.`);if(r>t)throw _m(`Invalid value for '${n}'. Expected ${t} or less.`)}function $g(n,e,t){let r=e;return t==null&&(r=`https://${e}`),`${t}://${r}/v0${n}`}function dS(n){const e=encodeURIComponent;let t="?";for(const r in n)if(n.hasOwnProperty(r)){const s=e(r)+"="+e(n[r]);t=t+s+"&"}return t=t.slice(0,-1),t}var Xs;(function(n){n[n.NO_ERROR=0]="NO_ERROR",n[n.NETWORK_ERROR=1]="NETWORK_ERROR",n[n.ABORT=2]="ABORT"})(Xs||(Xs={}));function PD(n,e){const t=n>=500&&n<600,s=[408,429].indexOf(n)!==-1,a=e.indexOf(n)!==-1;return t||s||a}class kD{constructor(e,t,r,s,a,u,d,f,m,g,E,w=!0,A=!1){this.url_=e,this.method_=t,this.headers_=r,this.body_=s,this.successCodes_=a,this.additionalRetryCodes_=u,this.callback_=d,this.errorCallback_=f,this.timeout_=m,this.progressCallback_=g,this.connectionFactory_=E,this.retry=w,this.isUsingEmulator=A,this.pendingConnection_=null,this.backoffId_=null,this.canceled_=!1,this.appDelete_=!1,this.promise_=new Promise((O,F)=>{this.resolve_=O,this.reject_=F,this.start_()})}start_(){const e=(r,s)=>{if(s){r(!1,new ch(!1,null,!0));return}const a=this.connectionFactory_();this.pendingConnection_=a;const u=d=>{const f=d.loaded,m=d.lengthComputable?d.total:-1;this.progressCallback_!==null&&this.progressCallback_(f,m)};this.progressCallback_!==null&&a.addUploadProgressListener(u),a.send(this.url_,this.method_,this.isUsingEmulator,this.body_,this.headers_).then(()=>{this.progressCallback_!==null&&a.removeUploadProgressListener(u),this.pendingConnection_=null;const d=a.getErrorCode()===Xs.NO_ERROR,f=a.getStatus();if(!d||PD(f,this.additionalRetryCodes_)&&this.retry){const g=a.getErrorCode()===Xs.ABORT;r(!1,new ch(!1,null,g));return}const m=this.successCodes_.indexOf(f)!==-1;r(!0,new ch(m,a))})},t=(r,s)=>{const a=this.resolve_,u=this.reject_,d=s.connection;if(s.wasSuccessCode)try{const f=this.callback_(d,d.getResponse());AD(f)?a(f):a()}catch(f){u(f)}else if(d!==null){const f=jg();f.serverResponse=d.getErrorText(),this.errorCallback_?u(this.errorCallback_(d,f)):u(f)}else if(s.canceled){const f=this.appDelete_?hS():pD();u(f)}else{const f=fD();u(f)}};this.canceled_?t(!1,new ch(!1,null,!0)):this.backoffId_=ID(e,t,this.timeout_)}getPromise(){return this.promise_}cancel(e){this.canceled_=!0,this.appDelete_=e||!1,this.backoffId_!==null&&SD(this.backoffId_),this.pendingConnection_!==null&&this.pendingConnection_.abort()}}class ch{constructor(e,t,r){this.wasSuccessCode=e,this.connection=t,this.canceled=!!r}}function CD(n,e){e!==null&&e.length>0&&(n.Authorization="Firebase "+e)}function bD(n,e){n["X-Firebase-Storage-Version"]="webjs/"+(e??"AppManager")}function ND(n,e){e&&(n["X-Firebase-GMPID"]=e)}function xD(n,e){e!==null&&(n["X-Firebase-AppCheck"]=e)}function OD(n,e,t,r,s,a,u=!0,d=!1){const f=dS(n.urlParams),m=n.url+f,g=Object.assign({},n.headers);return ND(g,e),CD(g,t),bD(g,a),xD(g,r),new kD(m,n.method,g,n.body,n.successCodes,n.additionalRetryCodes,n.handler,n.errorHandler,n.timeout,n.progressCallback,s,u,d)}function DD(){return typeof BlobBuilder<"u"?BlobBuilder:typeof WebKitBlobBuilder<"u"?WebKitBlobBuilder:void 0}function LD(...n){const e=DD();if(e!==void 0){const t=new e;for(let r=0;r<n.length;r++)t.append(n[r]);return t.getBlob()}else{if(Bg())return new Blob(n);throw new _t(gt.UNSUPPORTED_ENVIRONMENT,"This browser doesn't seem to support creating Blobs")}}function VD(n,e,t){return n.webkitSlice?n.webkitSlice(e,t):n.mozSlice?n.mozSlice(e,t):n.slice?n.slice(e,t):null}function MD(n){if(typeof atob>"u")throw wD("base-64");return atob(n)}const xr={RAW:"raw",BASE64:"base64",BASE64URL:"base64url",DATA_URL:"data_url"};class Vp{constructor(e,t){this.data=e,this.contentType=t||null}}function UD(n,e){switch(n){case xr.RAW:return new Vp(fS(e));case xr.BASE64:case xr.BASE64URL:return new Vp(pS(n,e));case xr.DATA_URL:return new Vp(jD(e),zD(e))}throw jg()}function fS(n){const e=[];for(let t=0;t<n.length;t++){let r=n.charCodeAt(t);if(r<=127)e.push(r);else if(r<=2047)e.push(192|r>>6,128|r&63);else if((r&64512)===55296)if(!(t<n.length-1&&(n.charCodeAt(t+1)&64512)===56320))e.push(239,191,189);else{const a=r,u=n.charCodeAt(++t);r=65536|(a&1023)<<10|u&1023,e.push(240|r>>18,128|r>>12&63,128|r>>6&63,128|r&63)}else(r&64512)===56320?e.push(239,191,189):e.push(224|r>>12,128|r>>6&63,128|r&63)}return new Uint8Array(e)}function FD(n){let e;try{e=decodeURIComponent(n)}catch{throw iu(xr.DATA_URL,"Malformed data URL.")}return fS(e)}function pS(n,e){switch(n){case xr.BASE64:{const s=e.indexOf("-")!==-1,a=e.indexOf("_")!==-1;if(s||a)throw iu(n,"Invalid character '"+(s?"-":"_")+"' found: is it base64url encoded?");break}case xr.BASE64URL:{const s=e.indexOf("+")!==-1,a=e.indexOf("/")!==-1;if(s||a)throw iu(n,"Invalid character '"+(s?"+":"/")+"' found: is it base64 encoded?");e=e.replace(/-/g,"+").replace(/_/g,"/");break}}let t;try{t=MD(e)}catch(s){throw s.message.includes("polyfill")?s:iu(n,"Invalid character found")}const r=new Uint8Array(t.length);for(let s=0;s<t.length;s++)r[s]=t.charCodeAt(s);return r}class mS{constructor(e){this.base64=!1,this.contentType=null;const t=e.match(/^data:([^,]+)?,/);if(t===null)throw iu(xr.DATA_URL,"Must be formatted 'data:[<mediatype>][;base64],<data>");const r=t[1]||null;r!=null&&(this.base64=BD(r,";base64"),this.contentType=this.base64?r.substring(0,r.length-7):r),this.rest=e.substring(e.indexOf(",")+1)}}function jD(n){const e=new mS(n);return e.base64?pS(xr.BASE64,e.rest):FD(e.rest)}function zD(n){return new mS(n).contentType}function BD(n,e){return n.length>=e.length?n.substring(n.length-e.length)===e:!1}class ts{constructor(e,t){let r=0,s="";iE(e)?(this.data_=e,r=e.size,s=e.type):e instanceof ArrayBuffer?(t?this.data_=new Uint8Array(e):(this.data_=new Uint8Array(e.byteLength),this.data_.set(new Uint8Array(e))),r=this.data_.length):e instanceof Uint8Array&&(t?this.data_=e:(this.data_=new Uint8Array(e.length),this.data_.set(e)),r=e.length),this.size_=r,this.type_=s}size(){return this.size_}type(){return this.type_}slice(e,t){if(iE(this.data_)){const r=this.data_,s=VD(r,e,t);return s===null?null:new ts(s)}else{const r=new Uint8Array(this.data_.buffer,e,t-e);return new ts(r,!0)}}static getBlob(...e){if(Bg()){const t=e.map(r=>r instanceof ts?r.data_:r);return new ts(LD.apply(null,t))}else{const t=e.map(u=>zg(u)?UD(xr.RAW,u).data:u.data_);let r=0;t.forEach(u=>{r+=u.byteLength});const s=new Uint8Array(r);let a=0;return t.forEach(u=>{for(let d=0;d<u.length;d++)s[a++]=u[d]}),new ts(s,!0)}}uploadData(){return this.data_}}function gS(n){let e;try{e=JSON.parse(n)}catch{return null}return RD(e)?e:null}function $D(n){if(n.length===0)return null;const e=n.lastIndexOf("/");return e===-1?"":n.slice(0,e)}function HD(n,e){const t=e.split("/").filter(r=>r.length>0).join("/");return n.length===0?t:n+"/"+t}function yS(n){const e=n.lastIndexOf("/",n.length-2);return e===-1?n:n.slice(e+1)}function qD(n,e){return e}class sn{constructor(e,t,r,s){this.server=e,this.local=t||e,this.writable=!!r,this.xform=s||qD}}let hh=null;function WD(n){return!zg(n)||n.length<2?n:yS(n)}function _S(){if(hh)return hh;const n=[];n.push(new sn("bucket")),n.push(new sn("generation")),n.push(new sn("metageneration")),n.push(new sn("name","fullPath",!0));function e(a,u){return WD(u)}const t=new sn("name");t.xform=e,n.push(t);function r(a,u){return u!==void 0?Number(u):u}const s=new sn("size");return s.xform=r,n.push(s),n.push(new sn("timeCreated")),n.push(new sn("updated")),n.push(new sn("md5Hash",null,!0)),n.push(new sn("cacheControl",null,!0)),n.push(new sn("contentDisposition",null,!0)),n.push(new sn("contentEncoding",null,!0)),n.push(new sn("contentLanguage",null,!0)),n.push(new sn("contentType",null,!0)),n.push(new sn("metadata","customMetadata",!0)),hh=n,hh}function GD(n,e){function t(){const r=n.bucket,s=n.fullPath,a=new Nn(r,s);return e._makeStorageReference(a)}Object.defineProperty(n,"ref",{get:t})}function KD(n,e,t){const r={};r.type="file";const s=t.length;for(let a=0;a<s;a++){const u=t[a];r[u.local]=u.xform(r,e[u.server])}return GD(r,n),r}function vS(n,e,t){const r=gS(e);return r===null?null:KD(n,r,t)}function QD(n,e,t,r){const s=gS(e);if(s===null||!zg(s.downloadTokens))return null;const a=s.downloadTokens;if(a.length===0)return null;const u=encodeURIComponent;return a.split(",").map(m=>{const g=n.bucket,E=n.fullPath,w="/b/"+u(g)+"/o/"+u(E),A=$g(w,t,r),O=dS({alt:"media",token:m});return A+O})[0]}function YD(n,e){const t={},r=e.length;for(let s=0;s<r;s++){const a=e[s];a.writable&&(t[a.server]=n[a.local])}return JSON.stringify(t)}class wS{constructor(e,t,r,s){this.url=e,this.method=t,this.handler=r,this.timeout=s,this.urlParams={},this.headers={},this.body=null,this.errorHandler=null,this.progressCallback=null,this.successCodes=[200],this.additionalRetryCodes=[]}}function ES(n){if(!n)throw jg()}function JD(n,e){function t(r,s){const a=vS(n,s,e);return ES(a!==null),a}return t}function XD(n,e){function t(r,s){const a=vS(n,s,e);return ES(a!==null),QD(a,s,n.host,n._protocol)}return t}function TS(n){function e(t,r){let s;return t.getStatus()===401?t.getErrorText().includes("Firebase App Check token is invalid")?s=hD():s=cD():t.getStatus()===402?s=uD(n.bucket):t.getStatus()===403?s=dD(n.path):s=r,s.status=t.getStatus(),s.serverResponse=r.serverResponse,s}return e}function ZD(n){const e=TS(n);function t(r,s){let a=e(r,s);return r.getStatus()===404&&(a=lD(n.path)),a.serverResponse=s.serverResponse,a}return t}function eL(n,e,t){const r=e.fullServerUrl(),s=$g(r,n.host,n._protocol),a="GET",u=n.maxOperationRetryTime,d=new wS(s,a,XD(n,t),u);return d.errorHandler=ZD(e),d}function tL(n,e){return n&&n.contentType||e&&e.type()||"application/octet-stream"}function nL(n,e,t){const r=Object.assign({},t);return r.fullPath=n.path,r.size=e.size(),r.contentType||(r.contentType=tL(null,e)),r}function rL(n,e,t,r,s){const a=e.bucketOnlyServerUrl(),u={"X-Goog-Upload-Protocol":"multipart"};function d(){let le="";for(let re=0;re<2;re++)le=le+Math.random().toString().slice(2);return le}const f=d();u["Content-Type"]="multipart/related; boundary="+f;const m=nL(e,r,s),g=YD(m,t),E="--"+f+`\r
Content-Type: application/json; charset=utf-8\r
\r
`+g+`\r
--`+f+`\r
Content-Type: `+m.contentType+`\r
\r
`,w=`\r
--`+f+"--",A=ts.getBlob(E,r,w);if(A===null)throw _D();const O={name:m.fullPath},F=$g(a,n.host,n._protocol),M="POST",J=n.maxUploadRetryTime,se=new wS(F,M,JD(n,t),J);return se.urlParams=O,se.headers=u,se.body=A.uploadData(),se.errorHandler=TS(e),se}class iL{constructor(){this.sent_=!1,this.xhr_=new XMLHttpRequest,this.initXhr(),this.errorCode_=Xs.NO_ERROR,this.sendPromise_=new Promise(e=>{this.xhr_.addEventListener("abort",()=>{this.errorCode_=Xs.ABORT,e()}),this.xhr_.addEventListener("error",()=>{this.errorCode_=Xs.NETWORK_ERROR,e()}),this.xhr_.addEventListener("load",()=>{e()})})}send(e,t,r,s,a){if(this.sent_)throw Ml("cannot .send() more than once");if(Fr(e)&&r&&(this.xhr_.withCredentials=!0),this.sent_=!0,this.xhr_.open(t,e,!0),a!==void 0)for(const u in a)a.hasOwnProperty(u)&&this.xhr_.setRequestHeader(u,a[u].toString());return s!==void 0?this.xhr_.send(s):this.xhr_.send(),this.sendPromise_}getErrorCode(){if(!this.sent_)throw Ml("cannot .getErrorCode() before sending");return this.errorCode_}getStatus(){if(!this.sent_)throw Ml("cannot .getStatus() before sending");try{return this.xhr_.status}catch{return-1}}getResponse(){if(!this.sent_)throw Ml("cannot .getResponse() before sending");return this.xhr_.response}getErrorText(){if(!this.sent_)throw Ml("cannot .getErrorText() before sending");return this.xhr_.statusText}abort(){this.xhr_.abort()}getResponseHeader(e){return this.xhr_.getResponseHeader(e)}addUploadProgressListener(e){this.xhr_.upload!=null&&this.xhr_.upload.addEventListener("progress",e)}removeUploadProgressListener(e){this.xhr_.upload!=null&&this.xhr_.upload.removeEventListener("progress",e)}}class sL extends iL{initXhr(){this.xhr_.responseType="text"}}function IS(){return new sL}class no{constructor(e,t){this._service=e,t instanceof Nn?this._location=t:this._location=Nn.makeFromUrl(t,e.host)}toString(){return"gs://"+this._location.bucket+"/"+this._location.path}_newRef(e,t){return new no(e,t)}get root(){const e=new Nn(this._location.bucket,"");return this._newRef(this._service,e)}get bucket(){return this._location.bucket}get fullPath(){return this._location.path}get name(){return yS(this._location.path)}get storage(){return this._service}get parent(){const e=$D(this._location.path);if(e===null)return null;const t=new Nn(this._location.bucket,e);return new no(this._service,t)}_throwIfRoot(e){if(this._location.path==="")throw ED(e)}}function oL(n,e,t){n._throwIfRoot("uploadBytes");const r=rL(n.storage,n._location,_S(),new ts(e,!0),t);return n.storage.makeRequestWithTokens(r,IS).then(s=>({metadata:s,ref:n}))}function aL(n){n._throwIfRoot("getDownloadURL");const e=eL(n.storage,n._location,_S());return n.storage.makeRequestWithTokens(e,IS).then(t=>{if(t===null)throw vD();return t})}function lL(n,e){const t=HD(n._location.path,e),r=new Nn(n._location.bucket,t);return new no(n.storage,r)}function uL(n){return/^[A-Za-z]+:\/\//.test(n)}function cL(n,e){return new no(n,e)}function SS(n,e){if(n instanceof Hg){const t=n;if(t._bucket==null)throw yD();const r=new no(t,t._bucket);return e!=null?SS(r,e):r}else return e!==void 0?lL(n,e):n}function hL(n,e){if(e&&uL(e)){if(n instanceof Hg)return cL(n,e);throw _m("To use ref(service, url), the first argument must be a Storage instance.")}else return SS(n,e)}function oE(n,e){const t=e?.[cS];return t==null?null:Nn.makeFromBucketSpec(t,n)}function dL(n,e,t,r={}){n.host=`${e}:${t}`;const s=Fr(e);s&&(id(`https://${n.host}/b`),sd("Storage",!0)),n._isUsingEmulator=!0,n._protocol=s?"https":"http";const{mockUserToken:a}=r;a&&(n._overrideAuthToken=typeof a=="string"?a:PT(a,n.app.options.projectId))}class Hg{constructor(e,t,r,s,a,u=!1){this.app=e,this._authProvider=t,this._appCheckProvider=r,this._url=s,this._firebaseVersion=a,this._isUsingEmulator=u,this._bucket=null,this._host=uS,this._protocol="https",this._appId=null,this._deleted=!1,this._maxOperationRetryTime=oD,this._maxUploadRetryTime=aD,this._requests=new Set,s!=null?this._bucket=Nn.makeFromBucketSpec(s,this._host):this._bucket=oE(this._host,this.app.options)}get host(){return this._host}set host(e){this._host=e,this._url!=null?this._bucket=Nn.makeFromBucketSpec(this._url,e):this._bucket=oE(e,this.app.options)}get maxUploadRetryTime(){return this._maxUploadRetryTime}set maxUploadRetryTime(e){sE("time",0,Number.POSITIVE_INFINITY,e),this._maxUploadRetryTime=e}get maxOperationRetryTime(){return this._maxOperationRetryTime}set maxOperationRetryTime(e){sE("time",0,Number.POSITIVE_INFINITY,e),this._maxOperationRetryTime=e}async _getAuthToken(){if(this._overrideAuthToken)return this._overrideAuthToken;const e=this._authProvider.getImmediate({optional:!0});if(e){const t=await e.getToken();if(t!==null)return t.accessToken}return null}async _getAppCheckToken(){if(st(this.app)&&this.app.settings.appCheckToken)return this.app.settings.appCheckToken;const e=this._appCheckProvider.getImmediate({optional:!0});return e?(await e.getToken()).token:null}_delete(){return this._deleted||(this._deleted=!0,this._requests.forEach(e=>e.cancel()),this._requests.clear()),Promise.resolve()}_makeStorageReference(e){return new no(this,e)}_makeRequest(e,t,r,s,a=!0){if(this._deleted)return new TD(hS());{const u=OD(e,this._appId,r,s,t,this._firebaseVersion,a,this._isUsingEmulator);return this._requests.add(u),u.getPromise().then(()=>this._requests.delete(u),()=>this._requests.delete(u)),u}}async makeRequestWithTokens(e,t){const[r,s]=await Promise.all([this._getAuthToken(),this._getAppCheckToken()]);return this._makeRequest(e,t,r,s).getPromise()}}const aE="@firebase/storage",lE="0.14.0";const AS="storage";function BF(n,e,t){return n=ve(n),oL(n,e,t)}function $F(n){return n=ve(n),aL(n)}function HF(n,e){return n=ve(n),hL(n,e)}function fL(n=Iu(),e){n=ve(n);const r=gi(n,AS).getImmediate({identifier:e}),s=km("storage");return s&&pL(r,...s),r}function pL(n,e,t,r={}){dL(n,e,t,r)}function mL(n,{instanceIdentifier:e}){const t=n.getProvider("app").getImmediate(),r=n.getProvider("auth-internal"),s=n.getProvider("app-check-internal");return new Hg(t,r,s,e,ao)}function gL(){qn(new On(AS,mL,"PUBLIC").setMultipleInstances(!0)),Zt(aE,lE,""),Zt(aE,lE,"esm2020")}gL();const RS="@firebase/installations",qg="0.6.19";const PS=1e4,kS=`w:${qg}`,CS="FIS_v2",yL="https://firebaseinstallations.googleapis.com/v1",_L=3600*1e3,vL="installations",wL="Installations";const EL={"missing-app-config-values":'Missing App configuration value: "{$valueName}"',"not-registered":"Firebase Installation is not registered.","installation-not-found":"Firebase Installation not found.","request-failed":'{$requestName} request failed with error "{$serverCode} {$serverStatus}: {$serverMessage}"',"app-offline":"Could not process request. Application offline.","delete-pending-registration":"Can't delete installation while there is a pending registration request."},ro=new oo(vL,wL,EL);function bS(n){return n instanceof Dn&&n.code.includes("request-failed")}function NS({projectId:n}){return`${yL}/projects/${n}/installations`}function xS(n){return{token:n.token,requestStatus:2,expiresIn:IL(n.expiresIn),creationTime:Date.now()}}async function OS(n,e){const r=(await e.json()).error;return ro.create("request-failed",{requestName:n,serverCode:r.code,serverMessage:r.message,serverStatus:r.status})}function DS({apiKey:n}){return new Headers({"Content-Type":"application/json",Accept:"application/json","x-goog-api-key":n})}function TL(n,{refreshToken:e}){const t=DS(n);return t.append("Authorization",SL(e)),t}async function LS(n){const e=await n();return e.status>=500&&e.status<600?n():e}function IL(n){return Number(n.replace("s","000"))}function SL(n){return`${CS} ${n}`}async function AL({appConfig:n,heartbeatServiceProvider:e},{fid:t}){const r=NS(n),s=DS(n),a=e.getImmediate({optional:!0});if(a){const m=await a.getHeartbeatsHeader();m&&s.append("x-firebase-client",m)}const u={fid:t,authVersion:CS,appId:n.appId,sdkVersion:kS},d={method:"POST",headers:s,body:JSON.stringify(u)},f=await LS(()=>fetch(r,d));if(f.ok){const m=await f.json();return{fid:m.fid||t,registrationStatus:2,refreshToken:m.refreshToken,authToken:xS(m.authToken)}}else throw await OS("Create Installation",f)}function VS(n){return new Promise(e=>{setTimeout(e,n)})}function RL(n){return btoa(String.fromCharCode(...n)).replace(/\+/g,"-").replace(/\//g,"_")}const PL=/^[cdef][\w-]{21}$/,vm="";function kL(){try{const n=new Uint8Array(17);(self.crypto||self.msCrypto).getRandomValues(n),n[0]=112+n[0]%16;const t=CL(n);return PL.test(t)?t:vm}catch{return vm}}function CL(n){return RL(n).substr(0,22)}function Od(n){return`${n.appName}!${n.appId}`}const MS=new Map;function US(n,e){const t=Od(n);FS(t,e),bL(t,e)}function FS(n,e){const t=MS.get(n);if(t)for(const r of t)r(e)}function bL(n,e){const t=NL();t&&t.postMessage({key:n,fid:e}),xL()}let Ks=null;function NL(){return!Ks&&"BroadcastChannel"in self&&(Ks=new BroadcastChannel("[Firebase] FID Change"),Ks.onmessage=n=>{FS(n.data.key,n.data.fid)}),Ks}function xL(){MS.size===0&&Ks&&(Ks.close(),Ks=null)}const OL="firebase-installations-database",DL=1,io="firebase-installations-store";let Mp=null;function Wg(){return Mp||(Mp=NT(OL,DL,{upgrade:(n,e)=>{e===0&&n.createObjectStore(io)}})),Mp}async function Gh(n,e){const t=Od(n),s=(await Wg()).transaction(io,"readwrite"),a=s.objectStore(io),u=await a.get(t);return await a.put(e,t),await s.done,(!u||u.fid!==e.fid)&&US(n,e.fid),e}async function jS(n){const e=Od(n),r=(await Wg()).transaction(io,"readwrite");await r.objectStore(io).delete(e),await r.done}async function Dd(n,e){const t=Od(n),s=(await Wg()).transaction(io,"readwrite"),a=s.objectStore(io),u=await a.get(t),d=e(u);return d===void 0?await a.delete(t):await a.put(d,t),await s.done,d&&(!u||u.fid!==d.fid)&&US(n,d.fid),d}async function Gg(n){let e;const t=await Dd(n.appConfig,r=>{const s=LL(r),a=VL(n,s);return e=a.registrationPromise,a.installationEntry});return t.fid===vm?{installationEntry:await e}:{installationEntry:t,registrationPromise:e}}function LL(n){const e=n||{fid:kL(),registrationStatus:0};return zS(e)}function VL(n,e){if(e.registrationStatus===0){if(!navigator.onLine){const s=Promise.reject(ro.create("app-offline"));return{installationEntry:e,registrationPromise:s}}const t={fid:e.fid,registrationStatus:1,registrationTime:Date.now()},r=ML(n,t);return{installationEntry:t,registrationPromise:r}}else return e.registrationStatus===1?{installationEntry:e,registrationPromise:UL(n)}:{installationEntry:e}}async function ML(n,e){try{const t=await AL(n,e);return Gh(n.appConfig,t)}catch(t){throw bS(t)&&t.customData.serverCode===409?await jS(n.appConfig):await Gh(n.appConfig,{fid:e.fid,registrationStatus:0}),t}}async function UL(n){let e=await uE(n.appConfig);for(;e.registrationStatus===1;)await VS(100),e=await uE(n.appConfig);if(e.registrationStatus===0){const{installationEntry:t,registrationPromise:r}=await Gg(n);return r||t}return e}function uE(n){return Dd(n,e=>{if(!e)throw ro.create("installation-not-found");return zS(e)})}function zS(n){return FL(n)?{fid:n.fid,registrationStatus:0}:n}function FL(n){return n.registrationStatus===1&&n.registrationTime+PS<Date.now()}async function jL({appConfig:n,heartbeatServiceProvider:e},t){const r=zL(n,t),s=TL(n,t),a=e.getImmediate({optional:!0});if(a){const m=await a.getHeartbeatsHeader();m&&s.append("x-firebase-client",m)}const u={installation:{sdkVersion:kS,appId:n.appId}},d={method:"POST",headers:s,body:JSON.stringify(u)},f=await LS(()=>fetch(r,d));if(f.ok){const m=await f.json();return xS(m)}else throw await OS("Generate Auth Token",f)}function zL(n,{fid:e}){return`${NS(n)}/${e}/authTokens:generate`}async function Kg(n,e=!1){let t;const r=await Dd(n.appConfig,a=>{if(!BS(a))throw ro.create("not-registered");const u=a.authToken;if(!e&&HL(u))return a;if(u.requestStatus===1)return t=BL(n,e),a;{if(!navigator.onLine)throw ro.create("app-offline");const d=WL(a);return t=$L(n,d),d}});return t?await t:r.authToken}async function BL(n,e){let t=await cE(n.appConfig);for(;t.authToken.requestStatus===1;)await VS(100),t=await cE(n.appConfig);const r=t.authToken;return r.requestStatus===0?Kg(n,e):r}function cE(n){return Dd(n,e=>{if(!BS(e))throw ro.create("not-registered");const t=e.authToken;return GL(t)?{...e,authToken:{requestStatus:0}}:e})}async function $L(n,e){try{const t=await jL(n,e),r={...e,authToken:t};return await Gh(n.appConfig,r),t}catch(t){if(bS(t)&&(t.customData.serverCode===401||t.customData.serverCode===404))await jS(n.appConfig);else{const r={...e,authToken:{requestStatus:0}};await Gh(n.appConfig,r)}throw t}}function BS(n){return n!==void 0&&n.registrationStatus===2}function HL(n){return n.requestStatus===2&&!qL(n)}function qL(n){const e=Date.now();return e<n.creationTime||n.creationTime+n.expiresIn<e+_L}function WL(n){const e={requestStatus:1,requestTime:Date.now()};return{...n,authToken:e}}function GL(n){return n.requestStatus===1&&n.requestTime+PS<Date.now()}async function KL(n){const e=n,{installationEntry:t,registrationPromise:r}=await Gg(e);return r?r.catch(console.error):Kg(e).catch(console.error),t.fid}async function QL(n,e=!1){const t=n;return await YL(t),(await Kg(t,e)).token}async function YL(n){const{registrationPromise:e}=await Gg(n);e&&await e}function JL(n){if(!n||!n.options)throw Up("App Configuration");if(!n.name)throw Up("App Name");const e=["projectId","apiKey","appId"];for(const t of e)if(!n.options[t])throw Up(t);return{appName:n.name,projectId:n.options.projectId,apiKey:n.options.apiKey,appId:n.options.appId}}function Up(n){return ro.create("missing-app-config-values",{valueName:n})}const $S="installations",XL="installations-internal",ZL=n=>{const e=n.getProvider("app").getImmediate(),t=JL(e),r=gi(e,"heartbeat");return{app:e,appConfig:t,heartbeatServiceProvider:r,_delete:()=>Promise.resolve()}},e2=n=>{const e=n.getProvider("app").getImmediate(),t=gi(e,$S).getImmediate();return{getId:()=>KL(t),getToken:s=>QL(t,s)}};function t2(){qn(new On($S,ZL,"PUBLIC")),qn(new On(XL,e2,"PRIVATE"))}t2();Zt(RS,qg);Zt(RS,qg,"esm2020");const Kh="analytics",n2="firebase_id",r2="origin",i2=60*1e3,s2="https://firebase.googleapis.com/v1alpha/projects/-/apps/{app-id}/webConfig",Qg="https://www.googletagmanager.com/gtag/js";const cn=new od("@firebase/analytics");const o2={"already-exists":"A Firebase Analytics instance with the appId {$id}  already exists. Only one Firebase Analytics instance can be created for each appId.","already-initialized":"initializeAnalytics() cannot be called again with different options than those it was initially called with. It can be called again with the same options to return the existing instance, or getAnalytics() can be used to get a reference to the already-initialized instance.","already-initialized-settings":"Firebase Analytics has already been initialized.settings() must be called before initializing any Analytics instanceor it will have no effect.","interop-component-reg-failed":"Firebase Analytics Interop Component failed to instantiate: {$reason}","invalid-analytics-context":"Firebase Analytics is not supported in this environment. Wrap initialization of analytics in analytics.isSupported() to prevent initialization in unsupported environments. Details: {$errorInfo}","indexeddb-unavailable":"IndexedDB unavailable or restricted in this environment. Wrap initialization of analytics in analytics.isSupported() to prevent initialization in unsupported environments. Details: {$errorInfo}","fetch-throttle":"The config fetch request timed out while in an exponential backoff state. Unix timestamp in milliseconds when fetch request throttling ends: {$throttleEndTimeMillis}.","config-fetch-failed":"Dynamic config fetch failed: [{$httpStatus}] {$responseMessage}","no-api-key":'The "apiKey" field is empty in the local Firebase config. Firebase Analytics requires this field tocontain a valid API key.',"no-app-id":'The "appId" field is empty in the local Firebase config. Firebase Analytics requires this field tocontain a valid app ID.',"no-client-id":'The "client_id" field is empty.',"invalid-gtag-resource":"Trusted Types detected an invalid gtag resource: {$gtagURL}."},xn=new oo("analytics","Analytics",o2);function a2(n){if(!n.startsWith(Qg)){const e=xn.create("invalid-gtag-resource",{gtagURL:n});return cn.warn(e.message),""}return n}function HS(n){return Promise.all(n.map(e=>e.catch(t=>t)))}function l2(n,e){let t;return window.trustedTypes&&(t=window.trustedTypes.createPolicy(n,e)),t}function u2(n,e){const t=l2("firebase-js-sdk-policy",{createScriptURL:a2}),r=document.createElement("script"),s=`${Qg}?l=${n}&id=${e}`;r.src=t?t?.createScriptURL(s):s,r.async=!0,document.head.appendChild(r)}function c2(n){let e=[];return Array.isArray(window[n])?e=window[n]:window[n]=e,e}async function h2(n,e,t,r,s,a){const u=r[s];try{if(u)await e[u];else{const f=(await HS(t)).find(m=>m.measurementId===s);f&&await e[f.appId]}}catch(d){cn.error(d)}n("config",s,a)}async function d2(n,e,t,r,s){try{let a=[];if(s&&s.send_to){let u=s.send_to;Array.isArray(u)||(u=[u]);const d=await HS(t);for(const f of u){const m=d.find(E=>E.measurementId===f),g=m&&e[m.appId];if(g)a.push(g);else{a=[];break}}}a.length===0&&(a=Object.values(e)),await Promise.all(a),n("event",r,s||{})}catch(a){cn.error(a)}}function f2(n,e,t,r){async function s(a,...u){try{if(a==="event"){const[d,f]=u;await d2(n,e,t,d,f)}else if(a==="config"){const[d,f]=u;await h2(n,e,t,r,d,f)}else if(a==="consent"){const[d,f]=u;n("consent",d,f)}else if(a==="get"){const[d,f,m]=u;n("get",d,f,m)}else if(a==="set"){const[d]=u;n("set",d)}else n(a,...u)}catch(d){cn.error(d)}}return s}function p2(n,e,t,r,s){let a=function(...u){window[r].push(arguments)};return window[s]&&typeof window[s]=="function"&&(a=window[s]),window[s]=f2(a,n,e,t),{gtagCore:a,wrappedGtag:window[s]}}function m2(n){const e=window.document.getElementsByTagName("script");for(const t of Object.values(e))if(t.src&&t.src.includes(Qg)&&t.src.includes(n))return t;return null}const g2=30,y2=1e3;class _2{constructor(e={},t=y2){this.throttleMetadata=e,this.intervalMillis=t}getThrottleMetadata(e){return this.throttleMetadata[e]}setThrottleMetadata(e,t){this.throttleMetadata[e]=t}deleteThrottleMetadata(e){delete this.throttleMetadata[e]}}const qS=new _2;function v2(n){return new Headers({Accept:"application/json","x-goog-api-key":n})}async function w2(n){const{appId:e,apiKey:t}=n,r={method:"GET",headers:v2(t)},s=s2.replace("{app-id}",e),a=await fetch(s,r);if(a.status!==200&&a.status!==304){let u="";try{const d=await a.json();d.error?.message&&(u=d.error.message)}catch{}throw xn.create("config-fetch-failed",{httpStatus:a.status,responseMessage:u})}return a.json()}async function E2(n,e=qS,t){const{appId:r,apiKey:s,measurementId:a}=n.options;if(!r)throw xn.create("no-app-id");if(!s){if(a)return{measurementId:a,appId:r};throw xn.create("no-api-key")}const u=e.getThrottleMetadata(r)||{backoffCount:0,throttleEndTimeMillis:Date.now()},d=new S2;return setTimeout(async()=>{d.abort()},i2),WS({appId:r,apiKey:s,measurementId:a},u,d,e)}async function WS(n,{throttleEndTimeMillis:e,backoffCount:t},r,s=qS){const{appId:a,measurementId:u}=n;try{await T2(r,e)}catch(d){if(u)return cn.warn(`Timed out fetching this Firebase app's measurement ID from the server. Falling back to the measurement ID ${u} provided in the "measurementId" field in the local Firebase config. [${d?.message}]`),{appId:a,measurementId:u};throw d}try{const d=await w2(n);return s.deleteThrottleMetadata(a),d}catch(d){const f=d;if(!I2(f)){if(s.deleteThrottleMetadata(a),u)return cn.warn(`Failed to fetch this Firebase app's measurement ID from the server. Falling back to the measurement ID ${u} provided in the "measurementId" field in the local Firebase config. [${f?.message}]`),{appId:a,measurementId:u};throw d}const m=Number(f?.customData?.httpStatus)===503?Pv(t,s.intervalMillis,g2):Pv(t,s.intervalMillis),g={throttleEndTimeMillis:Date.now()+m,backoffCount:t+1};return s.setThrottleMetadata(a,g),cn.debug(`Calling attemptFetch again in ${m} millis`),WS(n,g,r,s)}}function T2(n,e){return new Promise((t,r)=>{const s=Math.max(e-Date.now(),0),a=setTimeout(t,s);n.addEventListener(()=>{clearTimeout(a),r(xn.create("fetch-throttle",{throttleEndTimeMillis:e}))})})}function I2(n){if(!(n instanceof Dn)||!n.customData)return!1;const e=Number(n.customData.httpStatus);return e===429||e===500||e===503||e===504}class S2{constructor(){this.listeners=[]}addEventListener(e){this.listeners.push(e)}abort(){this.listeners.forEach(e=>e())}}async function A2(n,e,t,r,s){if(s&&s.global){n("event",t,r);return}else{const a=await e,u={...r,send_to:a};n("event",t,u)}}async function R2(n,e,t,r){if(r&&r.global){const s={};for(const a of Object.keys(t))s[`user_properties.${a}`]=t[a];return n("set",s),Promise.resolve()}else{const s=await e;n("config",s,{update:!0,user_properties:t})}}async function P2(){if(bm())try{await Nm()}catch(n){return cn.warn(xn.create("indexeddb-unavailable",{errorInfo:n?.toString()}).message),!1}else return cn.warn(xn.create("indexeddb-unavailable",{errorInfo:"IndexedDB is not available in this environment."}).message),!1;return!0}async function k2(n,e,t,r,s,a,u){const d=E2(n);d.then(w=>{t[w.measurementId]=w.appId,n.options.measurementId&&w.measurementId!==n.options.measurementId&&cn.warn(`The measurement ID in the local Firebase config (${n.options.measurementId}) does not match the measurement ID fetched from the server (${w.measurementId}). To ensure analytics events are always sent to the correct Analytics property, update the measurement ID field in the local config or remove it from the local config.`)}).catch(w=>cn.error(w)),e.push(d);const f=P2().then(w=>{if(w)return r.getId()}),[m,g]=await Promise.all([d,f]);m2(a)||u2(a,m.measurementId),s("js",new Date);const E=u?.config??{};return E[r2]="firebase",E.update=!0,g!=null&&(E[n2]=g),s("config",m.measurementId,E),m.measurementId}class C2{constructor(e){this.app=e}_delete(){return delete ga[this.app.options.appId],Promise.resolve()}}let ga={},hE=[];const dE={};let Fp="dataLayer",b2="gtag",fE,Yg,pE=!1;function N2(){const n=[];if(Cm()&&n.push("This is a browser extension environment."),kT()||n.push("Cookies are not available."),n.length>0){const e=n.map((r,s)=>`(${s+1}) ${r}`).join(" "),t=xn.create("invalid-analytics-context",{errorInfo:e});cn.warn(t.message)}}function x2(n,e,t){N2();const r=n.options.appId;if(!r)throw xn.create("no-app-id");if(!n.options.apiKey)if(n.options.measurementId)cn.warn(`The "apiKey" field is empty in the local Firebase config. This is needed to fetch the latest measurement ID for this Firebase app. Falling back to the measurement ID ${n.options.measurementId} provided in the "measurementId" field in the local Firebase config.`);else throw xn.create("no-api-key");if(ga[r]!=null)throw xn.create("already-exists",{id:r});if(!pE){c2(Fp);const{wrappedGtag:a,gtagCore:u}=p2(ga,hE,dE,Fp,b2);Yg=a,fE=u,pE=!0}return ga[r]=k2(n,hE,dE,e,fE,Fp,t),new C2(n)}function O2(n=Iu()){n=ve(n);const e=gi(n,Kh);return e.isInitialized()?e.getImmediate():D2(n)}function D2(n,e={}){const t=gi(n,Kh);if(t.isInitialized()){const s=t.getImmediate();if(ui(e,t.getOptions()))return s;throw xn.create("already-initialized")}return t.initialize({options:e})}async function L2(){if(Cm()||!kT()||!bm())return!1;try{return await Nm()}catch{return!1}}function V2(n,e,t){n=ve(n),R2(Yg,ga[n.app.options.appId],e,t).catch(r=>cn.error(r))}function wm(n,e,t,r){n=ve(n),A2(Yg,ga[n.app.options.appId],e,t,r).catch(s=>cn.error(s))}const mE="@firebase/analytics",gE="0.10.19";function M2(){qn(new On(Kh,(e,{options:t})=>{const r=e.getProvider("app").getImmediate(),s=e.getProvider("installations-internal").getImmediate();return x2(r,s,t)},"PUBLIC")),qn(new On("analytics-internal",n,"PRIVATE")),Zt(mE,gE),Zt(mE,gE,"esm2020");function n(e){try{const t=e.getProvider(Kh).getImmediate();return{logEvent:(r,s,a)=>wm(t,r,s,a),setUserProperties:(r,s)=>V2(t,r,s)}}catch(t){throw xn.create("interop-component-reg-failed",{reason:t})}}}M2();const U2="type.googleapis.com/google.protobuf.Int64Value",F2="type.googleapis.com/google.protobuf.UInt64Value";function GS(n,e){const t={};for(const r in n)n.hasOwnProperty(r)&&(t[r]=e(n[r]));return t}function Qh(n){if(n==null)return null;if(n instanceof Number&&(n=n.valueOf()),typeof n=="number"&&isFinite(n)||n===!0||n===!1||Object.prototype.toString.call(n)==="[object String]")return n;if(n instanceof Date)return n.toISOString();if(Array.isArray(n))return n.map(e=>Qh(e));if(typeof n=="function"||typeof n=="object")return GS(n,e=>Qh(e));throw new Error("Data cannot be encoded in JSON: "+n)}function Sa(n){if(n==null)return n;if(n["@type"])switch(n["@type"]){case U2:case F2:{const e=Number(n.value);if(isNaN(e))throw new Error("Data cannot be decoded from JSON: "+n);return e}default:throw new Error("Data cannot be decoded from JSON: "+n)}return Array.isArray(n)?n.map(e=>Sa(e)):typeof n=="function"||typeof n=="object"?GS(n,e=>Sa(e)):n}const Jg="functions";const yE={OK:"ok",CANCELLED:"cancelled",UNKNOWN:"unknown",INVALID_ARGUMENT:"invalid-argument",DEADLINE_EXCEEDED:"deadline-exceeded",NOT_FOUND:"not-found",ALREADY_EXISTS:"already-exists",PERMISSION_DENIED:"permission-denied",UNAUTHENTICATED:"unauthenticated",RESOURCE_EXHAUSTED:"resource-exhausted",FAILED_PRECONDITION:"failed-precondition",ABORTED:"aborted",OUT_OF_RANGE:"out-of-range",UNIMPLEMENTED:"unimplemented",INTERNAL:"internal",UNAVAILABLE:"unavailable",DATA_LOSS:"data-loss"};class vn extends Dn{constructor(e,t,r){super(`${Jg}/${e}`,t||""),this.details=r,Object.setPrototypeOf(this,vn.prototype)}}function j2(n){if(n>=200&&n<300)return"ok";switch(n){case 0:return"internal";case 400:return"invalid-argument";case 401:return"unauthenticated";case 403:return"permission-denied";case 404:return"not-found";case 409:return"aborted";case 429:return"resource-exhausted";case 499:return"cancelled";case 500:return"internal";case 501:return"unimplemented";case 503:return"unavailable";case 504:return"deadline-exceeded"}return"unknown"}function Yh(n,e){let t=j2(n),r=t,s;try{const a=e&&e.error;if(a){const u=a.status;if(typeof u=="string"){if(!yE[u])return new vn("internal","internal");t=yE[u],r=u}const d=a.message;typeof d=="string"&&(r=d),s=a.details,s!==void 0&&(s=Sa(s))}}catch{}return t==="ok"?null:new vn(t,r,s)}class z2{constructor(e,t,r,s){this.app=e,this.auth=null,this.messaging=null,this.appCheck=null,this.serverAppAppCheckToken=null,st(e)&&e.settings.appCheckToken&&(this.serverAppAppCheckToken=e.settings.appCheckToken),this.auth=t.getImmediate({optional:!0}),this.messaging=r.getImmediate({optional:!0}),this.auth||t.get().then(a=>this.auth=a,()=>{}),this.messaging||r.get().then(a=>this.messaging=a,()=>{}),this.appCheck||s?.get().then(a=>this.appCheck=a,()=>{})}async getAuthToken(){if(this.auth)try{return(await this.auth.getToken())?.accessToken}catch{return}}async getMessagingToken(){if(!(!this.messaging||!("Notification"in self)||Notification.permission!=="granted"))try{return await this.messaging.getToken()}catch{return}}async getAppCheckToken(e){if(this.serverAppAppCheckToken)return this.serverAppAppCheckToken;if(this.appCheck){const t=e?await this.appCheck.getLimitedUseToken():await this.appCheck.getToken();return t.error?null:t.token}return null}async getContext(e){const t=await this.getAuthToken(),r=await this.getMessagingToken(),s=await this.getAppCheckToken(e);return{authToken:t,messagingToken:r,appCheckToken:s}}}const Em="us-central1",B2=/^data: (.*?)(?:\n|$)/;function $2(n){let e=null;return{promise:new Promise((t,r)=>{e=setTimeout(()=>{r(new vn("deadline-exceeded","deadline-exceeded"))},n)}),cancel:()=>{e&&clearTimeout(e)}}}class H2{constructor(e,t,r,s,a=Em,u=(...d)=>fetch(...d)){this.app=e,this.fetchImpl=u,this.emulatorOrigin=null,this.contextProvider=new z2(e,t,r,s),this.cancelAllRequests=new Promise(d=>{this.deleteService=()=>Promise.resolve(d())});try{const d=new URL(a);this.customDomain=d.origin+(d.pathname==="/"?"":d.pathname),this.region=Em}catch{this.customDomain=null,this.region=a}}_delete(){return this.deleteService()}_url(e){const t=this.app.options.projectId;return this.emulatorOrigin!==null?`${this.emulatorOrigin}/${t}/${this.region}/${e}`:this.customDomain!==null?`${this.customDomain}/${e}`:`https://${this.region}-${t}.cloudfunctions.net/${e}`}}function q2(n,e,t){const r=Fr(e);n.emulatorOrigin=`http${r?"s":""}://${e}:${t}`,r&&(id(n.emulatorOrigin+"/backends"),sd("Functions",!0))}function W2(n,e,t){const r=s=>Q2(n,e,s,t||{});return r.stream=(s,a)=>Y2(n,e,s,a),r}function G2(n,e,t){const r=s=>YS(n,e,s,t||{});return r.stream=(s,a)=>JS(n,e,s,a||{}),r}function KS(n){return n.emulatorOrigin&&Fr(n.emulatorOrigin)?"include":void 0}async function K2(n,e,t,r,s){t["Content-Type"]="application/json";let a;try{a=await r(n,{method:"POST",body:JSON.stringify(e),headers:t,credentials:KS(s)})}catch{return{status:0,json:null}}let u=null;try{u=await a.json()}catch{}return{status:a.status,json:u}}async function QS(n,e){const t={},r=await n.contextProvider.getContext(e.limitedUseAppCheckTokens);return r.authToken&&(t.Authorization="Bearer "+r.authToken),r.messagingToken&&(t["Firebase-Instance-ID-Token"]=r.messagingToken),r.appCheckToken!==null&&(t["X-Firebase-AppCheck"]=r.appCheckToken),t}function Q2(n,e,t,r){const s=n._url(e);return YS(n,s,t,r)}async function YS(n,e,t,r){t=Qh(t);const s={data:t},a=await QS(n,r),u=r.timeout||7e4,d=$2(u),f=await Promise.race([K2(e,s,a,n.fetchImpl,n),d.promise,n.cancelAllRequests]);if(d.cancel(),!f)throw new vn("cancelled","Firebase Functions instance was deleted.");const m=Yh(f.status,f.json);if(m)throw m;if(!f.json)throw new vn("internal","Response is not valid JSON object.");let g=f.json.data;if(typeof g>"u"&&(g=f.json.result),typeof g>"u")throw new vn("internal","Response is missing data field.");return{data:Sa(g)}}function Y2(n,e,t,r){const s=n._url(e);return JS(n,s,t,r||{})}async function JS(n,e,t,r){t=Qh(t);const s={data:t},a=await QS(n,r);a["Content-Type"]="application/json",a.Accept="text/event-stream";let u;try{u=await n.fetchImpl(e,{method:"POST",body:JSON.stringify(s),headers:a,signal:r?.signal,credentials:KS(n)})}catch(w){if(w instanceof Error&&w.name==="AbortError"){const O=new vn("cancelled","Request was cancelled.");return{data:Promise.reject(O),stream:{[Symbol.asyncIterator](){return{next(){return Promise.reject(O)}}}}}}const A=Yh(0,null);return{data:Promise.reject(A),stream:{[Symbol.asyncIterator](){return{next(){return Promise.reject(A)}}}}}}let d,f;const m=new Promise((w,A)=>{d=w,f=A});r?.signal?.addEventListener("abort",()=>{const w=new vn("cancelled","Request was cancelled.");f(w)});const g=u.body.getReader(),E=J2(g,d,f,r?.signal);return{stream:{[Symbol.asyncIterator](){const w=E.getReader();return{async next(){const{value:A,done:O}=await w.read();return{value:A,done:O}},async return(){return await w.cancel(),{done:!0,value:void 0}}}}},data:m}}function J2(n,e,t,r){const s=(u,d)=>{const f=u.match(B2);if(!f)return;const m=f[1];try{const g=JSON.parse(m);if("result"in g){e(Sa(g.result));return}if("message"in g){d.enqueue(Sa(g.message));return}if("error"in g){const E=Yh(0,g);d.error(E),t(E);return}}catch(g){if(g instanceof vn){d.error(g),t(g);return}}},a=new TextDecoder;return new ReadableStream({start(u){let d="";return f();async function f(){if(r?.aborted){const m=new vn("cancelled","Request was cancelled");return u.error(m),t(m),Promise.resolve()}try{const{value:m,done:g}=await n.read();if(g){d.trim()&&s(d.trim(),u),u.close();return}if(r?.aborted){const w=new vn("cancelled","Request was cancelled");u.error(w),t(w),await n.cancel();return}d+=a.decode(m,{stream:!0});const E=d.split(`
`);d=E.pop()||"";for(const w of E)w.trim()&&s(w.trim(),u);return f()}catch(m){const g=m instanceof vn?m:Yh(0,null);u.error(g),t(g)}}},cancel(){return n.cancel()}})}const _E="@firebase/functions",vE="0.13.1";const X2="auth-internal",Z2="app-check-internal",eV="messaging-internal";function tV(n){const e=(t,{instanceIdentifier:r})=>{const s=t.getProvider("app").getImmediate(),a=t.getProvider(X2),u=t.getProvider(eV),d=t.getProvider(Z2);return new H2(s,a,u,d,r)};qn(new On(Jg,e,"PUBLIC").setMultipleInstances(!0)),Zt(_E,vE,n),Zt(_E,vE,"esm2020")}function nV(n=Iu(),e=Em){const r=gi(ve(n),Jg).getImmediate({identifier:e}),s=km("functions");return s&&rV(r,...s),r}function rV(n,e,t){q2(ve(n),e,t)}function qF(n,e,t){return W2(ve(n),e,t)}function WF(n,e,t){return G2(ve(n),e,t)}tV();const iV={apiKey:"AIzaSyDoFoPoaPMi6HkqsA1vn6oDPokG9btVJ3g",authDomain:"jastalk-firebase.firebaseapp.com",databaseURL:"https://jastalk-firebase-default-rtdb.firebaseio.com",projectId:"jastalk-firebase",storageBucket:"jastalk-firebase.firebasestorage.app",messagingSenderId:"371634100960",appId:"1:371634100960:web:8ef53e663b37e14b9f0e85",measurementId:"G-BTZ1F392FM"},Fu=xT(iV),sV=L2().then(n=>n?O2(Fu):null),wE=Ub(Fu),Xe=GO(Fu),GF=fL(Fu),KF=nV(Fu,"us-west1"),QF=new ii,oV=["resume_generate_prompt","resume_suggestion","interview_analysis","question_generation","job_prep_generation","job_prep_regeneration","job_parse_description","resume_match_analysis","portfolio_generation","portfolio_refinement","image_generation","ai_assistant_query"],aV=async(n,e,t={})=>{if(!n){console.error("[TrackUsage] Called without userId! Event:",e);return}try{await Gs(ir(Xe,"usage_logs"),{userId:n,eventType:e,timestamp:sr(),...t})}catch{}try{const r=await sV;r&&(t.tokenUsage&&wm(r,"token_usage",{category:e,value:t.tokenUsage}),e==="resume_download"&&wm(r,"resume_download",{format:t.format}))}catch{}if(oV.includes(e))try{const{incrementAIUsage:r}=await Ee(async()=>{const{incrementAIUsage:s}=await import("./aiUsageService-DOhjmJ3X.js");return{incrementAIUsage:s}},[]);await r(n)}catch(r){console.error(`Failed to deduct credit for ${e}:`,r)}},YF=async n=>{try{const e=on(Xe,"analytics","demo_page_events");await Fg(e,{[n]:eS(1)},{merge:!0})}catch(e){console.error(`Error tracking demo event (${n}):`,e)}},JF=async n=>{try{const e=on(Xe,"analytics","demo_page_events");await Fg(e,{[n]:eS(1)},{merge:!0})}catch(e){console.error(`Error tracking demo conversion (${n}):`,e)}},lV={jobTitle:"Software Developer",photo:"",firstName:"John",lastName:"Doe",email:"john.doe@example.com",phone:"555-123-4567",address:"123 Main Street",city:"Anytown",postalCode:"12345",country:"USA"},uV="A highly skilled and experienced IT professional adept at managing and overseeing complex server infrastructure, ensuring high availability and optimal performance. Proficient in system security and system monitoring. Experienced in implementing disaster recovery plans and conducting regular system audits to ensure compliance with industry standards. Well-versed in a variety of operating systems, including Windows and Linux, and skilled in virtualization technologies, user management, Active Directory administration, Group policy management, IIS, and MSSQL databases. Seeking to leverage my skills and experience in a challenging IT leadership role.",cV=[{id:"1",label:"LinkedIn",url:"linkedin.com/in/johndoe",icon:"linkedin"}],hV=[{id:"1",name:"System administration",level:"Expert"},{id:"2",name:"Operating systems",level:"Expert"},{id:"3",name:"Network administration",level:"Expert"}],dV=[{id:"1",name:"English",level:"Native"},{id:"2",name:"Spanish",level:"Intermediate"}],fV=[{id:"1",jobTitle:"Web Developer",employer:"Tech Solutions Inc.",city:"Anytown",startDate:"Jan 2019",endDate:"Apr 2021",description:"Led a team in developing and maintaining web applications. Improved system efficiency by 25%."}],pV=[{id:"1",school:"State University",degree:"Bachelor of Science in Computer Science",city:"Anytown",startDate:"Aug 2015",endDate:"May 2019",description:"Focused on software development and algorithms. Graduated with honors."}],XS={contact:"Contact",profile:"Profile",skills:"Skills",experience:"Experience",education:"Education",languages:"Languages",websites:"Websites & Social Links"},ZS={email:"mail",phone:"phone",location:"map-pin"},XF=()=>({id:Date.now().toString(),title:"Untitled Resume",updatedAt:new Date().toISOString(),templateId:"Modern",personalDetails:{...lV},professionalSummary:uV,websites:[...cV.map(e=>({...e,id:crypto.randomUUID()}))],skills:[...hV.map(e=>({...e,id:crypto.randomUUID()}))],employmentHistory:[...fV.map(e=>({...e,id:crypto.randomUUID()}))],education:[...pV.map(e=>({...e,id:crypto.randomUUID()}))],languages:[...dV.map(e=>({...e,id:crypto.randomUUID()}))],themeColor:"#2c3e50",titleFont:"Montserrat",bodyFont:"Crimson Text",language:"English",sectionTitles:{...XS},customIcons:{...ZS}}),EE=()=>({id:Date.now().toString(),title:"Untitled Resume",updatedAt:new Date().toISOString(),templateId:"Modern",personalDetails:{jobTitle:"",photo:"",firstName:"",lastName:"",email:"",phone:"",address:"",city:"",postalCode:"",country:""},professionalSummary:"",websites:[],skills:[],employmentHistory:[],education:[],languages:[],themeColor:"#2c3e50",titleFont:"Montserrat",bodyFont:"Crimson Text",language:"English",sectionTitles:{...XS},customIcons:{...ZS}}),ZF=["Montserrat","Lato","Roboto","Open Sans","Merriweather","Playfair Display","Oswald","Raleway","Poppins","Nunito Sans","Crimson Text","Source Sans Pro","Tajawal"],e4=["Native","Fluent","Proficient","Intermediate","Basic"],t4=[{id:"mail",label:"Email"},{id:"phone",label:"Phone"},{id:"map-pin",label:"Location"},{id:"globe",label:"Website"},{id:"linkedin",label:"LinkedIn"},{id:"github",label:"GitHub"},{id:"facebook",label:"Facebook"},{id:"twitter",label:"Twitter/X"},{id:"instagram",label:"Instagram"},{id:"youtube",label:"YouTube"},{id:"video",label:"TikTok"},{id:"at-sign",label:"Gmail"},{id:"briefcase",label:"Portfolio"},{id:"send",label:"Telegram"},{id:"link",label:"Link"},{id:"yahoo",label:"Yahoo"}],Jh=[{code:"en",name:"English",nativeName:"English"},{code:"es",name:"Spanish",nativeName:"Espaol"},{code:"fr",name:"French",nativeName:"Franais"},{code:"de",name:"German",nativeName:"Deutsch"},{code:"zh",name:"Chinese",nativeName:""},{code:"ja",name:"Japanese",nativeName:""},{code:"ko",name:"Korean",nativeName:""}],n4=[{code:"en",name:"English"},{code:"es",name:"Spanish"},{code:"fr",name:"French"},{code:"de",name:"German"},{code:"zh-CN",name:"Chinese (Simplified)"},{code:"ja",name:"Japanese"},{code:"ar",name:"Arabic"},{code:"ru",name:"Russian"},{code:"pt",name:"Portuguese"},{code:"it",name:"Italian"},{code:"ko",name:"Korean"},{code:"nl",name:"Dutch"},{code:"hi",name:"Hindi"},{code:"sv",name:"Swedish"},{code:"tr",name:"Turkish"},{code:"pl",name:"Polish"},{code:"vi",name:"Vietnamese"},{code:"id",name:"Indonesian"},{code:"el",name:"Greek"},{code:"cs",name:"Czech"},{code:"ro",name:"Romanian"},{code:"hu",name:"Hungarian"},{code:"th",name:"Thai"},{code:"fi",name:"Finnish"},{code:"da",name:"Danish"},{code:"no",name:"Norwegian"},{code:"he",name:"Hebrew"},{code:"uk",name:"Ukrainian"},{code:"ms",name:"Malay"},{code:"sk",name:"Slovak"},{code:"af",name:"Afrikaans"},{code:"sq",name:"Albanian"},{code:"am",name:"Amharic"},{code:"hy",name:"Armenian"},{code:"az",name:"Azerbaijani"},{code:"eu",name:"Basque"},{code:"be",name:"Belarusian"},{code:"bn",name:"Bengali"},{code:"bs",name:"Bosnian"},{code:"bg",name:"Bulgarian"},{code:"ca",name:"Catalan"},{code:"ceb",name:"Cebuano"},{code:"ny",name:"Chichewa"},{code:"zh-TW",name:"Chinese (Traditional)"},{code:"co",name:"Corsican"},{code:"hr",name:"Croatian"},{code:"eo",name:"Esperanto"},{code:"et",name:"Estonian"},{code:"tl",name:"Filipino"},{code:"fy",name:"Frisian"},{code:"gl",name:"Galician"},{code:"ka",name:"Georgian"},{code:"gu",name:"Gujarati"},{code:"ht",name:"Haitian Creole"},{code:"ha",name:"Hausa"},{code:"haw",name:"Hawaiian"},{code:"is",name:"Icelandic"},{code:"ig",name:"Igbo"},{code:"ga",name:"Irish"},{code:"jw",name:"Javanese"},{code:"kn",name:"Kannada"},{code:"kk",name:"Kazakh"},{code:"km",name:"Khmer"},{code:"ku",name:"Kurdish (Kurmanji)"},{code:"ky",name:"Kyrgyz"},{code:"lo",name:"Lao"},{code:"la",name:"Latin"},{code:"lv",name:"Latvian"},{code:"lt",name:"Lithuanian"},{code:"lb",name:"Luxembourgish"},{code:"mk",name:"Macedonian"},{code:"mg",name:"Malagasy"},{code:"ml",name:"Malayalam"},{code:"mt",name:"Maltese"},{code:"mi",name:"Maori"},{code:"mr",name:"Marathi"},{code:"mn",name:"Mongolian"},{code:"my",name:"Myanmar (Burmese)"},{code:"ne",name:"Nepali"},{code:"ps",name:"Pashto"},{code:"fa",name:"Persian"},{code:"pa",name:"Punjabi"},{code:"sm",name:"Samoan"},{code:"gd",name:"Scots Gaelic"},{code:"sr",name:"Serbian"},{code:"st",name:"Sesotho"},{code:"sn",name:"Shona"},{code:"sd",name:"Sindhi"},{code:"si",name:"Sinhala"},{code:"sl",name:"Slovenian"},{code:"so",name:"Somali"},{code:"su",name:"Sundanese"},{code:"sw",name:"Swahili"},{code:"tg",name:"Tajik"},{code:"ta",name:"Tamil"},{code:"te",name:"Telugu"},{code:"ur",name:"Urdu"},{code:"uz",name:"Uzbek"},{code:"cy",name:"Welsh"},{code:"xh",name:"Xhosa"},{code:"yi",name:"Yiddish"},{code:"yo",name:"Yoruba"},{code:"zu",name:"Zulu"}],r4=[{id:"pdf",name:"PDF Document",recommendation:"Best for job applications and professional sharing."},{id:"png",name:"PNG Image (Full)",recommendation:"High-quality image of the entire resume."},{id:"1:1",name:"Square Image (1:1)",recommendation:"Ideal for profile pictures or social media posts."},{id:"16:9",name:"Widescreen Image (16:9)",recommendation:"Great for presentation slides or banners."},{id:"9:16",name:"Story Image (9:16)",recommendation:"Perfect for sharing on mobile stories."},{id:"4:5",name:"Portrait Image (4:5)",recommendation:"Optimized for social media feeds."}],be=n=>typeof n=="string",Ul=()=>{let n,e;const t=new Promise((r,s)=>{n=r,e=s});return t.resolve=n,t.reject=e,t},TE=n=>n==null?"":""+n,mV=(n,e,t)=>{n.forEach(r=>{e[r]&&(t[r]=e[r])})},gV=/###/g,IE=n=>n&&n.indexOf("###")>-1?n.replace(gV,"."):n,SE=n=>!n||be(n),su=(n,e,t)=>{const r=be(e)?e.split("."):e;let s=0;for(;s<r.length-1;){if(SE(n))return{};const a=IE(r[s]);!n[a]&&t&&(n[a]=new t),Object.prototype.hasOwnProperty.call(n,a)?n=n[a]:n={},++s}return SE(n)?{}:{obj:n,k:IE(r[s])}},AE=(n,e,t)=>{const{obj:r,k:s}=su(n,e,Object);if(r!==void 0||e.length===1){r[s]=t;return}let a=e[e.length-1],u=e.slice(0,e.length-1),d=su(n,u,Object);for(;d.obj===void 0&&u.length;)a=`${u[u.length-1]}.${a}`,u=u.slice(0,u.length-1),d=su(n,u,Object),d&&d.obj&&typeof d.obj[`${d.k}.${a}`]<"u"&&(d.obj=void 0);d.obj[`${d.k}.${a}`]=t},yV=(n,e,t,r)=>{const{obj:s,k:a}=su(n,e,Object);s[a]=s[a]||[],s[a].push(t)},Xh=(n,e)=>{const{obj:t,k:r}=su(n,e);if(t)return t[r]},_V=(n,e,t)=>{const r=Xh(n,t);return r!==void 0?r:Xh(e,t)},eA=(n,e,t)=>{for(const r in e)r!=="__proto__"&&r!=="constructor"&&(r in n?be(n[r])||n[r]instanceof String||be(e[r])||e[r]instanceof String?t&&(n[r]=e[r]):eA(n[r],e[r],t):n[r]=e[r]);return n},na=n=>n.replace(/[\-\[\]\/\{\}\(\)\*\+\?\.\\\^\$\|]/g,"\\$&");var vV={"&":"&amp;","<":"&lt;",">":"&gt;",'"':"&quot;","'":"&#39;","/":"&#x2F;"};const wV=n=>be(n)?n.replace(/[&<>"'\/]/g,e=>vV[e]):n;class EV{constructor(e){this.capacity=e,this.regExpMap=new Map,this.regExpQueue=[]}getRegExp(e){const t=this.regExpMap.get(e);if(t!==void 0)return t;const r=new RegExp(e);return this.regExpQueue.length===this.capacity&&this.regExpMap.delete(this.regExpQueue.shift()),this.regExpMap.set(e,r),this.regExpQueue.push(e),r}}const TV=[" ",",","?","!",";"],IV=new EV(20),SV=(n,e,t)=>{e=e||"",t=t||"";const r=TV.filter(u=>e.indexOf(u)<0&&t.indexOf(u)<0);if(r.length===0)return!0;const s=IV.getRegExp(`(${r.map(u=>u==="?"?"\\?":u).join("|")})`);let a=!s.test(n);if(!a){const u=n.indexOf(t);u>0&&!s.test(n.substring(0,u))&&(a=!0)}return a},Tm=function(n,e){let t=arguments.length>2&&arguments[2]!==void 0?arguments[2]:".";if(!n)return;if(n[e])return n[e];const r=e.split(t);let s=n;for(let a=0;a<r.length;){if(!s||typeof s!="object")return;let u,d="";for(let f=a;f<r.length;++f)if(f!==a&&(d+=t),d+=r[f],u=s[d],u!==void 0){if(["string","number","boolean"].indexOf(typeof u)>-1&&f<r.length-1)continue;a+=f-a+1;break}s=u}return s},Zh=n=>n&&n.replace("_","-"),AV={type:"logger",log(n){this.output("log",n)},warn(n){this.output("warn",n)},error(n){this.output("error",n)},output(n,e){console&&console[n]&&console[n].apply(console,e)}};class ed{constructor(e){let t=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};this.init(e,t)}init(e){let t=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};this.prefix=t.prefix||"i18next:",this.logger=e||AV,this.options=t,this.debug=t.debug}log(){for(var e=arguments.length,t=new Array(e),r=0;r<e;r++)t[r]=arguments[r];return this.forward(t,"log","",!0)}warn(){for(var e=arguments.length,t=new Array(e),r=0;r<e;r++)t[r]=arguments[r];return this.forward(t,"warn","",!0)}error(){for(var e=arguments.length,t=new Array(e),r=0;r<e;r++)t[r]=arguments[r];return this.forward(t,"error","")}deprecate(){for(var e=arguments.length,t=new Array(e),r=0;r<e;r++)t[r]=arguments[r];return this.forward(t,"warn","WARNING DEPRECATED: ",!0)}forward(e,t,r,s){return s&&!this.debug?null:(be(e[0])&&(e[0]=`${r}${this.prefix} ${e[0]}`),this.logger[t](e))}create(e){return new ed(this.logger,{prefix:`${this.prefix}:${e}:`,...this.options})}clone(e){return e=e||this.options,e.prefix=e.prefix||this.prefix,new ed(this.logger,e)}}var Or=new ed;class Ld{constructor(){this.observers={}}on(e,t){return e.split(" ").forEach(r=>{this.observers[r]||(this.observers[r]=new Map);const s=this.observers[r].get(t)||0;this.observers[r].set(t,s+1)}),this}off(e,t){if(this.observers[e]){if(!t){delete this.observers[e];return}this.observers[e].delete(t)}}emit(e){for(var t=arguments.length,r=new Array(t>1?t-1:0),s=1;s<t;s++)r[s-1]=arguments[s];this.observers[e]&&Array.from(this.observers[e].entries()).forEach(u=>{let[d,f]=u;for(let m=0;m<f;m++)d(...r)}),this.observers["*"]&&Array.from(this.observers["*"].entries()).forEach(u=>{let[d,f]=u;for(let m=0;m<f;m++)d.apply(d,[e,...r])})}}class RE extends Ld{constructor(e){let t=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{ns:["translation"],defaultNS:"translation"};super(),this.data=e||{},this.options=t,this.options.keySeparator===void 0&&(this.options.keySeparator="."),this.options.ignoreJSONStructure===void 0&&(this.options.ignoreJSONStructure=!0)}addNamespaces(e){this.options.ns.indexOf(e)<0&&this.options.ns.push(e)}removeNamespaces(e){const t=this.options.ns.indexOf(e);t>-1&&this.options.ns.splice(t,1)}getResource(e,t,r){let s=arguments.length>3&&arguments[3]!==void 0?arguments[3]:{};const a=s.keySeparator!==void 0?s.keySeparator:this.options.keySeparator,u=s.ignoreJSONStructure!==void 0?s.ignoreJSONStructure:this.options.ignoreJSONStructure;let d;e.indexOf(".")>-1?d=e.split("."):(d=[e,t],r&&(Array.isArray(r)?d.push(...r):be(r)&&a?d.push(...r.split(a)):d.push(r)));const f=Xh(this.data,d);return!f&&!t&&!r&&e.indexOf(".")>-1&&(e=d[0],t=d[1],r=d.slice(2).join(".")),f||!u||!be(r)?f:Tm(this.data&&this.data[e]&&this.data[e][t],r,a)}addResource(e,t,r,s){let a=arguments.length>4&&arguments[4]!==void 0?arguments[4]:{silent:!1};const u=a.keySeparator!==void 0?a.keySeparator:this.options.keySeparator;let d=[e,t];r&&(d=d.concat(u?r.split(u):r)),e.indexOf(".")>-1&&(d=e.split("."),s=t,t=d[1]),this.addNamespaces(t),AE(this.data,d,s),a.silent||this.emit("added",e,t,r,s)}addResources(e,t,r){let s=arguments.length>3&&arguments[3]!==void 0?arguments[3]:{silent:!1};for(const a in r)(be(r[a])||Array.isArray(r[a]))&&this.addResource(e,t,a,r[a],{silent:!0});s.silent||this.emit("added",e,t,r)}addResourceBundle(e,t,r,s,a){let u=arguments.length>5&&arguments[5]!==void 0?arguments[5]:{silent:!1,skipCopy:!1},d=[e,t];e.indexOf(".")>-1&&(d=e.split("."),s=r,r=t,t=d[1]),this.addNamespaces(t);let f=Xh(this.data,d)||{};u.skipCopy||(r=JSON.parse(JSON.stringify(r))),s?eA(f,r,a):f={...f,...r},AE(this.data,d,f),u.silent||this.emit("added",e,t,r)}removeResourceBundle(e,t){this.hasResourceBundle(e,t)&&delete this.data[e][t],this.removeNamespaces(t),this.emit("removed",e,t)}hasResourceBundle(e,t){return this.getResource(e,t)!==void 0}getResourceBundle(e,t){return t||(t=this.options.defaultNS),this.options.compatibilityAPI==="v1"?{...this.getResource(e,t)}:this.getResource(e,t)}getDataByLanguage(e){return this.data[e]}hasLanguageSomeTranslations(e){const t=this.getDataByLanguage(e);return!!(t&&Object.keys(t)||[]).find(s=>t[s]&&Object.keys(t[s]).length>0)}toJSON(){return this.data}}var tA={processors:{},addPostProcessor(n){this.processors[n.name]=n},handle(n,e,t,r,s){return n.forEach(a=>{this.processors[a]&&(e=this.processors[a].process(e,t,r,s))}),e}};const PE={};class td extends Ld{constructor(e){let t=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};super(),mV(["resourceStore","languageUtils","pluralResolver","interpolator","backendConnector","i18nFormat","utils"],e,this),this.options=t,this.options.keySeparator===void 0&&(this.options.keySeparator="."),this.logger=Or.create("translator")}changeLanguage(e){e&&(this.language=e)}exists(e){let t=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{interpolation:{}};if(e==null)return!1;const r=this.resolve(e,t);return r&&r.res!==void 0}extractFromKey(e,t){let r=t.nsSeparator!==void 0?t.nsSeparator:this.options.nsSeparator;r===void 0&&(r=":");const s=t.keySeparator!==void 0?t.keySeparator:this.options.keySeparator;let a=t.ns||this.options.defaultNS||[];const u=r&&e.indexOf(r)>-1,d=!this.options.userDefinedKeySeparator&&!t.keySeparator&&!this.options.userDefinedNsSeparator&&!t.nsSeparator&&!SV(e,r,s);if(u&&!d){const f=e.match(this.interpolator.nestingRegexp);if(f&&f.length>0)return{key:e,namespaces:be(a)?[a]:a};const m=e.split(r);(r!==s||r===s&&this.options.ns.indexOf(m[0])>-1)&&(a=m.shift()),e=m.join(s)}return{key:e,namespaces:be(a)?[a]:a}}translate(e,t,r){if(typeof t!="object"&&this.options.overloadTranslationOptionHandler&&(t=this.options.overloadTranslationOptionHandler(arguments)),typeof t=="object"&&(t={...t}),t||(t={}),e==null)return"";Array.isArray(e)||(e=[String(e)]);const s=t.returnDetails!==void 0?t.returnDetails:this.options.returnDetails,a=t.keySeparator!==void 0?t.keySeparator:this.options.keySeparator,{key:u,namespaces:d}=this.extractFromKey(e[e.length-1],t),f=d[d.length-1],m=t.lng||this.language,g=t.appendNamespaceToCIMode||this.options.appendNamespaceToCIMode;if(m&&m.toLowerCase()==="cimode"){if(g){const re=t.nsSeparator||this.options.nsSeparator;return s?{res:`${f}${re}${u}`,usedKey:u,exactUsedKey:u,usedLng:m,usedNS:f,usedParams:this.getUsedParamsDetails(t)}:`${f}${re}${u}`}return s?{res:u,usedKey:u,exactUsedKey:u,usedLng:m,usedNS:f,usedParams:this.getUsedParamsDetails(t)}:u}const E=this.resolve(e,t);let w=E&&E.res;const A=E&&E.usedKey||u,O=E&&E.exactUsedKey||u,F=Object.prototype.toString.apply(w),M=["[object Number]","[object Function]","[object RegExp]"],J=t.joinArrays!==void 0?t.joinArrays:this.options.joinArrays,se=!this.i18nFormat||this.i18nFormat.handleAsObject,le=!be(w)&&typeof w!="boolean"&&typeof w!="number";if(se&&w&&le&&M.indexOf(F)<0&&!(be(J)&&Array.isArray(w))){if(!t.returnObjects&&!this.options.returnObjects){this.options.returnedObjectHandler||this.logger.warn("accessing an object - but returnObjects options is not enabled!");const re=this.options.returnedObjectHandler?this.options.returnedObjectHandler(A,w,{...t,ns:d}):`key '${u} (${this.language})' returned an object instead of string.`;return s?(E.res=re,E.usedParams=this.getUsedParamsDetails(t),E):re}if(a){const re=Array.isArray(w),ce=re?[]:{},de=re?O:A;for(const k in w)if(Object.prototype.hasOwnProperty.call(w,k)){const S=`${de}${a}${k}`;ce[k]=this.translate(S,{...t,joinArrays:!1,ns:d}),ce[k]===S&&(ce[k]=w[k])}w=ce}}else if(se&&be(J)&&Array.isArray(w))w=w.join(J),w&&(w=this.extendTranslation(w,e,t,r));else{let re=!1,ce=!1;const de=t.count!==void 0&&!be(t.count),k=td.hasDefaultValue(t),S=de?this.pluralResolver.getSuffix(m,t.count,t):"",C=t.ordinal&&de?this.pluralResolver.getSuffix(m,t.count,{ordinal:!1}):"",V=de&&!t.ordinal&&t.count===0&&this.pluralResolver.shouldUseIntlApi(),N=V&&t[`defaultValue${this.options.pluralSeparator}zero`]||t[`defaultValue${S}`]||t[`defaultValue${C}`]||t.defaultValue;!this.isValidLookup(w)&&k&&(re=!0,w=N),this.isValidLookup(w)||(ce=!0,w=u);const P=(t.missingKeyNoValueFallbackToKey||this.options.missingKeyNoValueFallbackToKey)&&ce?void 0:w,xe=k&&N!==w&&this.options.updateMissing;if(ce||re||xe){if(this.logger.log(xe?"updateKey":"missingKey",m,f,u,xe?N:w),a){const W=this.resolve(u,{...t,keySeparator:!1});W&&W.res&&this.logger.warn("Seems the loaded translations were in flat JSON format instead of nested. Either set keySeparator: false on init or make sure your translations are published in nested format.")}let B=[];const Q=this.languageUtils.getFallbackCodes(this.options.fallbackLng,t.lng||this.language);if(this.options.saveMissingTo==="fallback"&&Q&&Q[0])for(let W=0;W<Q.length;W++)B.push(Q[W]);else this.options.saveMissingTo==="all"?B=this.languageUtils.toResolveHierarchy(t.lng||this.language):B.push(t.lng||this.language);const me=(W,oe,Y)=>{const U=k&&Y!==w?Y:P;this.options.missingKeyHandler?this.options.missingKeyHandler(W,f,oe,U,xe,t):this.backendConnector&&this.backendConnector.saveMissing&&this.backendConnector.saveMissing(W,f,oe,U,xe,t),this.emit("missingKey",W,f,oe,w)};this.options.saveMissing&&(this.options.saveMissingPlurals&&de?B.forEach(W=>{const oe=this.pluralResolver.getSuffixes(W,t);V&&t[`defaultValue${this.options.pluralSeparator}zero`]&&oe.indexOf(`${this.options.pluralSeparator}zero`)<0&&oe.push(`${this.options.pluralSeparator}zero`),oe.forEach(Y=>{me([W],u+Y,t[`defaultValue${Y}`]||N)})}):me(B,u,N))}w=this.extendTranslation(w,e,t,E,r),ce&&w===u&&this.options.appendNamespaceToMissingKey&&(w=`${f}:${u}`),(ce||re)&&this.options.parseMissingKeyHandler&&(this.options.compatibilityAPI!=="v1"?w=this.options.parseMissingKeyHandler(this.options.appendNamespaceToMissingKey?`${f}:${u}`:u,re?w:void 0):w=this.options.parseMissingKeyHandler(w))}return s?(E.res=w,E.usedParams=this.getUsedParamsDetails(t),E):w}extendTranslation(e,t,r,s,a){var u=this;if(this.i18nFormat&&this.i18nFormat.parse)e=this.i18nFormat.parse(e,{...this.options.interpolation.defaultVariables,...r},r.lng||this.language||s.usedLng,s.usedNS,s.usedKey,{resolved:s});else if(!r.skipInterpolation){r.interpolation&&this.interpolator.init({...r,interpolation:{...this.options.interpolation,...r.interpolation}});const m=be(e)&&(r&&r.interpolation&&r.interpolation.skipOnVariables!==void 0?r.interpolation.skipOnVariables:this.options.interpolation.skipOnVariables);let g;if(m){const w=e.match(this.interpolator.nestingRegexp);g=w&&w.length}let E=r.replace&&!be(r.replace)?r.replace:r;if(this.options.interpolation.defaultVariables&&(E={...this.options.interpolation.defaultVariables,...E}),e=this.interpolator.interpolate(e,E,r.lng||this.language||s.usedLng,r),m){const w=e.match(this.interpolator.nestingRegexp),A=w&&w.length;g<A&&(r.nest=!1)}!r.lng&&this.options.compatibilityAPI!=="v1"&&s&&s.res&&(r.lng=this.language||s.usedLng),r.nest!==!1&&(e=this.interpolator.nest(e,function(){for(var w=arguments.length,A=new Array(w),O=0;O<w;O++)A[O]=arguments[O];return a&&a[0]===A[0]&&!r.context?(u.logger.warn(`It seems you are nesting recursively key: ${A[0]} in key: ${t[0]}`),null):u.translate(...A,t)},r)),r.interpolation&&this.interpolator.reset()}const d=r.postProcess||this.options.postProcess,f=be(d)?[d]:d;return e!=null&&f&&f.length&&r.applyPostProcessor!==!1&&(e=tA.handle(f,e,t,this.options&&this.options.postProcessPassResolved?{i18nResolved:{...s,usedParams:this.getUsedParamsDetails(r)},...r}:r,this)),e}resolve(e){let t=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},r,s,a,u,d;return be(e)&&(e=[e]),e.forEach(f=>{if(this.isValidLookup(r))return;const m=this.extractFromKey(f,t),g=m.key;s=g;let E=m.namespaces;this.options.fallbackNS&&(E=E.concat(this.options.fallbackNS));const w=t.count!==void 0&&!be(t.count),A=w&&!t.ordinal&&t.count===0&&this.pluralResolver.shouldUseIntlApi(),O=t.context!==void 0&&(be(t.context)||typeof t.context=="number")&&t.context!=="",F=t.lngs?t.lngs:this.languageUtils.toResolveHierarchy(t.lng||this.language,t.fallbackLng);E.forEach(M=>{this.isValidLookup(r)||(d=M,!PE[`${F[0]}-${M}`]&&this.utils&&this.utils.hasLoadedNamespace&&!this.utils.hasLoadedNamespace(d)&&(PE[`${F[0]}-${M}`]=!0,this.logger.warn(`key "${s}" for languages "${F.join(", ")}" won't get resolved as namespace "${d}" was not yet loaded`,"This means something IS WRONG in your setup. You access the t function before i18next.init / i18next.loadNamespace / i18next.changeLanguage was done. Wait for the callback or Promise to resolve before accessing it!!!")),F.forEach(J=>{if(this.isValidLookup(r))return;u=J;const se=[g];if(this.i18nFormat&&this.i18nFormat.addLookupKeys)this.i18nFormat.addLookupKeys(se,g,J,M,t);else{let re;w&&(re=this.pluralResolver.getSuffix(J,t.count,t));const ce=`${this.options.pluralSeparator}zero`,de=`${this.options.pluralSeparator}ordinal${this.options.pluralSeparator}`;if(w&&(se.push(g+re),t.ordinal&&re.indexOf(de)===0&&se.push(g+re.replace(de,this.options.pluralSeparator)),A&&se.push(g+ce)),O){const k=`${g}${this.options.contextSeparator}${t.context}`;se.push(k),w&&(se.push(k+re),t.ordinal&&re.indexOf(de)===0&&se.push(k+re.replace(de,this.options.pluralSeparator)),A&&se.push(k+ce))}}let le;for(;le=se.pop();)this.isValidLookup(r)||(a=le,r=this.getResource(J,M,le,t))}))})}),{res:r,usedKey:s,exactUsedKey:a,usedLng:u,usedNS:d}}isValidLookup(e){return e!==void 0&&!(!this.options.returnNull&&e===null)&&!(!this.options.returnEmptyString&&e==="")}getResource(e,t,r){let s=arguments.length>3&&arguments[3]!==void 0?arguments[3]:{};return this.i18nFormat&&this.i18nFormat.getResource?this.i18nFormat.getResource(e,t,r,s):this.resourceStore.getResource(e,t,r,s)}getUsedParamsDetails(){let e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{};const t=["defaultValue","ordinal","context","replace","lng","lngs","fallbackLng","ns","keySeparator","nsSeparator","returnObjects","returnDetails","joinArrays","postProcess","interpolation"],r=e.replace&&!be(e.replace);let s=r?e.replace:e;if(r&&typeof e.count<"u"&&(s.count=e.count),this.options.interpolation.defaultVariables&&(s={...this.options.interpolation.defaultVariables,...s}),!r){s={...s};for(const a of t)delete s[a]}return s}static hasDefaultValue(e){const t="defaultValue";for(const r in e)if(Object.prototype.hasOwnProperty.call(e,r)&&t===r.substring(0,t.length)&&e[r]!==void 0)return!0;return!1}}const jp=n=>n.charAt(0).toUpperCase()+n.slice(1);class kE{constructor(e){this.options=e,this.supportedLngs=this.options.supportedLngs||!1,this.logger=Or.create("languageUtils")}getScriptPartFromCode(e){if(e=Zh(e),!e||e.indexOf("-")<0)return null;const t=e.split("-");return t.length===2||(t.pop(),t[t.length-1].toLowerCase()==="x")?null:this.formatLanguageCode(t.join("-"))}getLanguagePartFromCode(e){if(e=Zh(e),!e||e.indexOf("-")<0)return e;const t=e.split("-");return this.formatLanguageCode(t[0])}formatLanguageCode(e){if(be(e)&&e.indexOf("-")>-1){if(typeof Intl<"u"&&typeof Intl.getCanonicalLocales<"u")try{let s=Intl.getCanonicalLocales(e)[0];if(s&&this.options.lowerCaseLng&&(s=s.toLowerCase()),s)return s}catch{}const t=["hans","hant","latn","cyrl","cans","mong","arab"];let r=e.split("-");return this.options.lowerCaseLng?r=r.map(s=>s.toLowerCase()):r.length===2?(r[0]=r[0].toLowerCase(),r[1]=r[1].toUpperCase(),t.indexOf(r[1].toLowerCase())>-1&&(r[1]=jp(r[1].toLowerCase()))):r.length===3&&(r[0]=r[0].toLowerCase(),r[1].length===2&&(r[1]=r[1].toUpperCase()),r[0]!=="sgn"&&r[2].length===2&&(r[2]=r[2].toUpperCase()),t.indexOf(r[1].toLowerCase())>-1&&(r[1]=jp(r[1].toLowerCase())),t.indexOf(r[2].toLowerCase())>-1&&(r[2]=jp(r[2].toLowerCase()))),r.join("-")}return this.options.cleanCode||this.options.lowerCaseLng?e.toLowerCase():e}isSupportedCode(e){return(this.options.load==="languageOnly"||this.options.nonExplicitSupportedLngs)&&(e=this.getLanguagePartFromCode(e)),!this.supportedLngs||!this.supportedLngs.length||this.supportedLngs.indexOf(e)>-1}getBestMatchFromCodes(e){if(!e)return null;let t;return e.forEach(r=>{if(t)return;const s=this.formatLanguageCode(r);(!this.options.supportedLngs||this.isSupportedCode(s))&&(t=s)}),!t&&this.options.supportedLngs&&e.forEach(r=>{if(t)return;const s=this.getLanguagePartFromCode(r);if(this.isSupportedCode(s))return t=s;t=this.options.supportedLngs.find(a=>{if(a===s)return a;if(!(a.indexOf("-")<0&&s.indexOf("-")<0)&&(a.indexOf("-")>0&&s.indexOf("-")<0&&a.substring(0,a.indexOf("-"))===s||a.indexOf(s)===0&&s.length>1))return a})}),t||(t=this.getFallbackCodes(this.options.fallbackLng)[0]),t}getFallbackCodes(e,t){if(!e)return[];if(typeof e=="function"&&(e=e(t)),be(e)&&(e=[e]),Array.isArray(e))return e;if(!t)return e.default||[];let r=e[t];return r||(r=e[this.getScriptPartFromCode(t)]),r||(r=e[this.formatLanguageCode(t)]),r||(r=e[this.getLanguagePartFromCode(t)]),r||(r=e.default),r||[]}toResolveHierarchy(e,t){const r=this.getFallbackCodes(t||this.options.fallbackLng||[],e),s=[],a=u=>{u&&(this.isSupportedCode(u)?s.push(u):this.logger.warn(`rejecting language code not found in supportedLngs: ${u}`))};return be(e)&&(e.indexOf("-")>-1||e.indexOf("_")>-1)?(this.options.load!=="languageOnly"&&a(this.formatLanguageCode(e)),this.options.load!=="languageOnly"&&this.options.load!=="currentOnly"&&a(this.getScriptPartFromCode(e)),this.options.load!=="currentOnly"&&a(this.getLanguagePartFromCode(e))):be(e)&&a(this.formatLanguageCode(e)),r.forEach(u=>{s.indexOf(u)<0&&a(this.formatLanguageCode(u))}),s}}let RV=[{lngs:["ach","ak","am","arn","br","fil","gun","ln","mfe","mg","mi","oc","pt","pt-BR","tg","tl","ti","tr","uz","wa"],nr:[1,2],fc:1},{lngs:["af","an","ast","az","bg","bn","ca","da","de","dev","el","en","eo","es","et","eu","fi","fo","fur","fy","gl","gu","ha","hi","hu","hy","ia","it","kk","kn","ku","lb","mai","ml","mn","mr","nah","nap","nb","ne","nl","nn","no","nso","pa","pap","pms","ps","pt-PT","rm","sco","se","si","so","son","sq","sv","sw","ta","te","tk","ur","yo"],nr:[1,2],fc:2},{lngs:["ay","bo","cgg","fa","ht","id","ja","jbo","ka","km","ko","ky","lo","ms","sah","su","th","tt","ug","vi","wo","zh"],nr:[1],fc:3},{lngs:["be","bs","cnr","dz","hr","ru","sr","uk"],nr:[1,2,5],fc:4},{lngs:["ar"],nr:[0,1,2,3,11,100],fc:5},{lngs:["cs","sk"],nr:[1,2,5],fc:6},{lngs:["csb","pl"],nr:[1,2,5],fc:7},{lngs:["cy"],nr:[1,2,3,8],fc:8},{lngs:["fr"],nr:[1,2],fc:9},{lngs:["ga"],nr:[1,2,3,7,11],fc:10},{lngs:["gd"],nr:[1,2,3,20],fc:11},{lngs:["is"],nr:[1,2],fc:12},{lngs:["jv"],nr:[0,1],fc:13},{lngs:["kw"],nr:[1,2,3,4],fc:14},{lngs:["lt"],nr:[1,2,10],fc:15},{lngs:["lv"],nr:[1,2,0],fc:16},{lngs:["mk"],nr:[1,2],fc:17},{lngs:["mnk"],nr:[0,1,2],fc:18},{lngs:["mt"],nr:[1,2,11,20],fc:19},{lngs:["or"],nr:[2,1],fc:2},{lngs:["ro"],nr:[1,2,20],fc:20},{lngs:["sl"],nr:[5,1,2,3],fc:21},{lngs:["he","iw"],nr:[1,2,20,21],fc:22}],PV={1:n=>+(n>1),2:n=>+(n!=1),3:n=>0,4:n=>n%10==1&&n%100!=11?0:n%10>=2&&n%10<=4&&(n%100<10||n%100>=20)?1:2,5:n=>n==0?0:n==1?1:n==2?2:n%100>=3&&n%100<=10?3:n%100>=11?4:5,6:n=>n==1?0:n>=2&&n<=4?1:2,7:n=>n==1?0:n%10>=2&&n%10<=4&&(n%100<10||n%100>=20)?1:2,8:n=>n==1?0:n==2?1:n!=8&&n!=11?2:3,9:n=>+(n>=2),10:n=>n==1?0:n==2?1:n<7?2:n<11?3:4,11:n=>n==1||n==11?0:n==2||n==12?1:n>2&&n<20?2:3,12:n=>+(n%10!=1||n%100==11),13:n=>+(n!==0),14:n=>n==1?0:n==2?1:n==3?2:3,15:n=>n%10==1&&n%100!=11?0:n%10>=2&&(n%100<10||n%100>=20)?1:2,16:n=>n%10==1&&n%100!=11?0:n!==0?1:2,17:n=>n==1||n%10==1&&n%100!=11?0:1,18:n=>n==0?0:n==1?1:2,19:n=>n==1?0:n==0||n%100>1&&n%100<11?1:n%100>10&&n%100<20?2:3,20:n=>n==1?0:n==0||n%100>0&&n%100<20?1:2,21:n=>n%100==1?1:n%100==2?2:n%100==3||n%100==4?3:0,22:n=>n==1?0:n==2?1:(n<0||n>10)&&n%10==0?2:3};const kV=["v1","v2","v3"],CV=["v4"],CE={zero:0,one:1,two:2,few:3,many:4,other:5},bV=()=>{const n={};return RV.forEach(e=>{e.lngs.forEach(t=>{n[t]={numbers:e.nr,plurals:PV[e.fc]}})}),n};class NV{constructor(e){let t=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};this.languageUtils=e,this.options=t,this.logger=Or.create("pluralResolver"),(!this.options.compatibilityJSON||CV.includes(this.options.compatibilityJSON))&&(typeof Intl>"u"||!Intl.PluralRules)&&(this.options.compatibilityJSON="v3",this.logger.error("Your environment seems not to be Intl API compatible, use an Intl.PluralRules polyfill. Will fallback to the compatibilityJSON v3 format handling.")),this.rules=bV(),this.pluralRulesCache={}}addRule(e,t){this.rules[e]=t}clearCache(){this.pluralRulesCache={}}getRule(e){let t=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};if(this.shouldUseIntlApi()){const r=Zh(e==="dev"?"en":e),s=t.ordinal?"ordinal":"cardinal",a=JSON.stringify({cleanedCode:r,type:s});if(a in this.pluralRulesCache)return this.pluralRulesCache[a];let u;try{u=new Intl.PluralRules(r,{type:s})}catch{if(!e.match(/-|_/))return;const f=this.languageUtils.getLanguagePartFromCode(e);u=this.getRule(f,t)}return this.pluralRulesCache[a]=u,u}return this.rules[e]||this.rules[this.languageUtils.getLanguagePartFromCode(e)]}needsPlural(e){let t=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};const r=this.getRule(e,t);return this.shouldUseIntlApi()?r&&r.resolvedOptions().pluralCategories.length>1:r&&r.numbers.length>1}getPluralFormsOfKey(e,t){let r=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{};return this.getSuffixes(e,r).map(s=>`${t}${s}`)}getSuffixes(e){let t=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};const r=this.getRule(e,t);return r?this.shouldUseIntlApi()?r.resolvedOptions().pluralCategories.sort((s,a)=>CE[s]-CE[a]).map(s=>`${this.options.prepend}${t.ordinal?`ordinal${this.options.prepend}`:""}${s}`):r.numbers.map(s=>this.getSuffix(e,s,t)):[]}getSuffix(e,t){let r=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{};const s=this.getRule(e,r);return s?this.shouldUseIntlApi()?`${this.options.prepend}${r.ordinal?`ordinal${this.options.prepend}`:""}${s.select(t)}`:this.getSuffixRetroCompatible(s,t):(this.logger.warn(`no plural rule found for: ${e}`),"")}getSuffixRetroCompatible(e,t){const r=e.noAbs?e.plurals(t):e.plurals(Math.abs(t));let s=e.numbers[r];this.options.simplifyPluralSuffix&&e.numbers.length===2&&e.numbers[0]===1&&(s===2?s="plural":s===1&&(s=""));const a=()=>this.options.prepend&&s.toString()?this.options.prepend+s.toString():s.toString();return this.options.compatibilityJSON==="v1"?s===1?"":typeof s=="number"?`_plural_${s.toString()}`:a():this.options.compatibilityJSON==="v2"||this.options.simplifyPluralSuffix&&e.numbers.length===2&&e.numbers[0]===1?a():this.options.prepend&&r.toString()?this.options.prepend+r.toString():r.toString()}shouldUseIntlApi(){return!kV.includes(this.options.compatibilityJSON)}}const bE=function(n,e,t){let r=arguments.length>3&&arguments[3]!==void 0?arguments[3]:".",s=arguments.length>4&&arguments[4]!==void 0?arguments[4]:!0,a=_V(n,e,t);return!a&&s&&be(t)&&(a=Tm(n,t,r),a===void 0&&(a=Tm(e,t,r))),a},zp=n=>n.replace(/\$/g,"$$$$");class xV{constructor(){let e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{};this.logger=Or.create("interpolator"),this.options=e,this.format=e.interpolation&&e.interpolation.format||(t=>t),this.init(e)}init(){let e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{};e.interpolation||(e.interpolation={escapeValue:!0});const{escape:t,escapeValue:r,useRawValueToEscape:s,prefix:a,prefixEscaped:u,suffix:d,suffixEscaped:f,formatSeparator:m,unescapeSuffix:g,unescapePrefix:E,nestingPrefix:w,nestingPrefixEscaped:A,nestingSuffix:O,nestingSuffixEscaped:F,nestingOptionsSeparator:M,maxReplaces:J,alwaysFormat:se}=e.interpolation;this.escape=t!==void 0?t:wV,this.escapeValue=r!==void 0?r:!0,this.useRawValueToEscape=s!==void 0?s:!1,this.prefix=a?na(a):u||"{{",this.suffix=d?na(d):f||"}}",this.formatSeparator=m||",",this.unescapePrefix=g?"":E||"-",this.unescapeSuffix=this.unescapePrefix?"":g||"",this.nestingPrefix=w?na(w):A||na("$t("),this.nestingSuffix=O?na(O):F||na(")"),this.nestingOptionsSeparator=M||",",this.maxReplaces=J||1e3,this.alwaysFormat=se!==void 0?se:!1,this.resetRegExp()}reset(){this.options&&this.init(this.options)}resetRegExp(){const e=(t,r)=>t&&t.source===r?(t.lastIndex=0,t):new RegExp(r,"g");this.regexp=e(this.regexp,`${this.prefix}(.+?)${this.suffix}`),this.regexpUnescape=e(this.regexpUnescape,`${this.prefix}${this.unescapePrefix}(.+?)${this.unescapeSuffix}${this.suffix}`),this.nestingRegexp=e(this.nestingRegexp,`${this.nestingPrefix}(.+?)${this.nestingSuffix}`)}interpolate(e,t,r,s){let a,u,d;const f=this.options&&this.options.interpolation&&this.options.interpolation.defaultVariables||{},m=A=>{if(A.indexOf(this.formatSeparator)<0){const J=bE(t,f,A,this.options.keySeparator,this.options.ignoreJSONStructure);return this.alwaysFormat?this.format(J,void 0,r,{...s,...t,interpolationkey:A}):J}const O=A.split(this.formatSeparator),F=O.shift().trim(),M=O.join(this.formatSeparator).trim();return this.format(bE(t,f,F,this.options.keySeparator,this.options.ignoreJSONStructure),M,r,{...s,...t,interpolationkey:F})};this.resetRegExp();const g=s&&s.missingInterpolationHandler||this.options.missingInterpolationHandler,E=s&&s.interpolation&&s.interpolation.skipOnVariables!==void 0?s.interpolation.skipOnVariables:this.options.interpolation.skipOnVariables;return[{regex:this.regexpUnescape,safeValue:A=>zp(A)},{regex:this.regexp,safeValue:A=>this.escapeValue?zp(this.escape(A)):zp(A)}].forEach(A=>{for(d=0;a=A.regex.exec(e);){const O=a[1].trim();if(u=m(O),u===void 0)if(typeof g=="function"){const M=g(e,a,s);u=be(M)?M:""}else if(s&&Object.prototype.hasOwnProperty.call(s,O))u="";else if(E){u=a[0];continue}else this.logger.warn(`missed to pass in variable ${O} for interpolating ${e}`),u="";else!be(u)&&!this.useRawValueToEscape&&(u=TE(u));const F=A.safeValue(u);if(e=e.replace(a[0],F),E?(A.regex.lastIndex+=u.length,A.regex.lastIndex-=a[0].length):A.regex.lastIndex=0,d++,d>=this.maxReplaces)break}}),e}nest(e,t){let r=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{},s,a,u;const d=(f,m)=>{const g=this.nestingOptionsSeparator;if(f.indexOf(g)<0)return f;const E=f.split(new RegExp(`${g}[ ]*{`));let w=`{${E[1]}`;f=E[0],w=this.interpolate(w,u);const A=w.match(/'/g),O=w.match(/"/g);(A&&A.length%2===0&&!O||O.length%2!==0)&&(w=w.replace(/'/g,'"'));try{u=JSON.parse(w),m&&(u={...m,...u})}catch(F){return this.logger.warn(`failed parsing options string in nesting for key ${f}`,F),`${f}${g}${w}`}return u.defaultValue&&u.defaultValue.indexOf(this.prefix)>-1&&delete u.defaultValue,f};for(;s=this.nestingRegexp.exec(e);){let f=[];u={...r},u=u.replace&&!be(u.replace)?u.replace:u,u.applyPostProcessor=!1,delete u.defaultValue;let m=!1;if(s[0].indexOf(this.formatSeparator)!==-1&&!/{.*}/.test(s[1])){const g=s[1].split(this.formatSeparator).map(E=>E.trim());s[1]=g.shift(),f=g,m=!0}if(a=t(d.call(this,s[1].trim(),u),u),a&&s[0]===e&&!be(a))return a;be(a)||(a=TE(a)),a||(this.logger.warn(`missed to resolve ${s[1]} for nesting ${e}`),a=""),m&&(a=f.reduce((g,E)=>this.format(g,E,r.lng,{...r,interpolationkey:s[1].trim()}),a.trim())),e=e.replace(s[0],a),this.regexp.lastIndex=0}return e}}const OV=n=>{let e=n.toLowerCase().trim();const t={};if(n.indexOf("(")>-1){const r=n.split("(");e=r[0].toLowerCase().trim();const s=r[1].substring(0,r[1].length-1);e==="currency"&&s.indexOf(":")<0?t.currency||(t.currency=s.trim()):e==="relativetime"&&s.indexOf(":")<0?t.range||(t.range=s.trim()):s.split(";").forEach(u=>{if(u){const[d,...f]=u.split(":"),m=f.join(":").trim().replace(/^'+|'+$/g,""),g=d.trim();t[g]||(t[g]=m),m==="false"&&(t[g]=!1),m==="true"&&(t[g]=!0),isNaN(m)||(t[g]=parseInt(m,10))}})}return{formatName:e,formatOptions:t}},ra=n=>{const e={};return(t,r,s)=>{let a=s;s&&s.interpolationkey&&s.formatParams&&s.formatParams[s.interpolationkey]&&s[s.interpolationkey]&&(a={...a,[s.interpolationkey]:void 0});const u=r+JSON.stringify(a);let d=e[u];return d||(d=n(Zh(r),s),e[u]=d),d(t)}};class DV{constructor(){let e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{};this.logger=Or.create("formatter"),this.options=e,this.formats={number:ra((t,r)=>{const s=new Intl.NumberFormat(t,{...r});return a=>s.format(a)}),currency:ra((t,r)=>{const s=new Intl.NumberFormat(t,{...r,style:"currency"});return a=>s.format(a)}),datetime:ra((t,r)=>{const s=new Intl.DateTimeFormat(t,{...r});return a=>s.format(a)}),relativetime:ra((t,r)=>{const s=new Intl.RelativeTimeFormat(t,{...r});return a=>s.format(a,r.range||"day")}),list:ra((t,r)=>{const s=new Intl.ListFormat(t,{...r});return a=>s.format(a)})},this.init(e)}init(e){let t=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{interpolation:{}};this.formatSeparator=t.interpolation.formatSeparator||","}add(e,t){this.formats[e.toLowerCase().trim()]=t}addCached(e,t){this.formats[e.toLowerCase().trim()]=ra(t)}format(e,t,r){let s=arguments.length>3&&arguments[3]!==void 0?arguments[3]:{};const a=t.split(this.formatSeparator);if(a.length>1&&a[0].indexOf("(")>1&&a[0].indexOf(")")<0&&a.find(d=>d.indexOf(")")>-1)){const d=a.findIndex(f=>f.indexOf(")")>-1);a[0]=[a[0],...a.splice(1,d)].join(this.formatSeparator)}return a.reduce((d,f)=>{const{formatName:m,formatOptions:g}=OV(f);if(this.formats[m]){let E=d;try{const w=s&&s.formatParams&&s.formatParams[s.interpolationkey]||{},A=w.locale||w.lng||s.locale||s.lng||r;E=this.formats[m](d,A,{...g,...s,...w})}catch(w){this.logger.warn(w)}return E}else this.logger.warn(`there was no format function for ${m}`);return d},e)}}const LV=(n,e)=>{n.pending[e]!==void 0&&(delete n.pending[e],n.pendingCount--)};class VV extends Ld{constructor(e,t,r){let s=arguments.length>3&&arguments[3]!==void 0?arguments[3]:{};super(),this.backend=e,this.store=t,this.services=r,this.languageUtils=r.languageUtils,this.options=s,this.logger=Or.create("backendConnector"),this.waitingReads=[],this.maxParallelReads=s.maxParallelReads||10,this.readingCalls=0,this.maxRetries=s.maxRetries>=0?s.maxRetries:5,this.retryTimeout=s.retryTimeout>=1?s.retryTimeout:350,this.state={},this.queue=[],this.backend&&this.backend.init&&this.backend.init(r,s.backend,s)}queueLoad(e,t,r,s){const a={},u={},d={},f={};return e.forEach(m=>{let g=!0;t.forEach(E=>{const w=`${m}|${E}`;!r.reload&&this.store.hasResourceBundle(m,E)?this.state[w]=2:this.state[w]<0||(this.state[w]===1?u[w]===void 0&&(u[w]=!0):(this.state[w]=1,g=!1,u[w]===void 0&&(u[w]=!0),a[w]===void 0&&(a[w]=!0),f[E]===void 0&&(f[E]=!0)))}),g||(d[m]=!0)}),(Object.keys(a).length||Object.keys(u).length)&&this.queue.push({pending:u,pendingCount:Object.keys(u).length,loaded:{},errors:[],callback:s}),{toLoad:Object.keys(a),pending:Object.keys(u),toLoadLanguages:Object.keys(d),toLoadNamespaces:Object.keys(f)}}loaded(e,t,r){const s=e.split("|"),a=s[0],u=s[1];t&&this.emit("failedLoading",a,u,t),!t&&r&&this.store.addResourceBundle(a,u,r,void 0,void 0,{skipCopy:!0}),this.state[e]=t?-1:2,t&&r&&(this.state[e]=0);const d={};this.queue.forEach(f=>{yV(f.loaded,[a],u),LV(f,e),t&&f.errors.push(t),f.pendingCount===0&&!f.done&&(Object.keys(f.loaded).forEach(m=>{d[m]||(d[m]={});const g=f.loaded[m];g.length&&g.forEach(E=>{d[m][E]===void 0&&(d[m][E]=!0)})}),f.done=!0,f.errors.length?f.callback(f.errors):f.callback())}),this.emit("loaded",d),this.queue=this.queue.filter(f=>!f.done)}read(e,t,r){let s=arguments.length>3&&arguments[3]!==void 0?arguments[3]:0,a=arguments.length>4&&arguments[4]!==void 0?arguments[4]:this.retryTimeout,u=arguments.length>5?arguments[5]:void 0;if(!e.length)return u(null,{});if(this.readingCalls>=this.maxParallelReads){this.waitingReads.push({lng:e,ns:t,fcName:r,tried:s,wait:a,callback:u});return}this.readingCalls++;const d=(m,g)=>{if(this.readingCalls--,this.waitingReads.length>0){const E=this.waitingReads.shift();this.read(E.lng,E.ns,E.fcName,E.tried,E.wait,E.callback)}if(m&&g&&s<this.maxRetries){setTimeout(()=>{this.read.call(this,e,t,r,s+1,a*2,u)},a);return}u(m,g)},f=this.backend[r].bind(this.backend);if(f.length===2){try{const m=f(e,t);m&&typeof m.then=="function"?m.then(g=>d(null,g)).catch(d):d(null,m)}catch(m){d(m)}return}return f(e,t,d)}prepareLoading(e,t){let r=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{},s=arguments.length>3?arguments[3]:void 0;if(!this.backend)return this.logger.warn("No backend was added via i18next.use. Will not load resources."),s&&s();be(e)&&(e=this.languageUtils.toResolveHierarchy(e)),be(t)&&(t=[t]);const a=this.queueLoad(e,t,r,s);if(!a.toLoad.length)return a.pending.length||s(),null;a.toLoad.forEach(u=>{this.loadOne(u)})}load(e,t,r){this.prepareLoading(e,t,{},r)}reload(e,t,r){this.prepareLoading(e,t,{reload:!0},r)}loadOne(e){let t=arguments.length>1&&arguments[1]!==void 0?arguments[1]:"";const r=e.split("|"),s=r[0],a=r[1];this.read(s,a,"read",void 0,void 0,(u,d)=>{u&&this.logger.warn(`${t}loading namespace ${a} for language ${s} failed`,u),!u&&d&&this.logger.log(`${t}loaded namespace ${a} for language ${s}`,d),this.loaded(e,u,d)})}saveMissing(e,t,r,s,a){let u=arguments.length>5&&arguments[5]!==void 0?arguments[5]:{},d=arguments.length>6&&arguments[6]!==void 0?arguments[6]:()=>{};if(this.services.utils&&this.services.utils.hasLoadedNamespace&&!this.services.utils.hasLoadedNamespace(t)){this.logger.warn(`did not save key "${r}" as the namespace "${t}" was not yet loaded`,"This means something IS WRONG in your setup. You access the t function before i18next.init / i18next.loadNamespace / i18next.changeLanguage was done. Wait for the callback or Promise to resolve before accessing it!!!");return}if(!(r==null||r==="")){if(this.backend&&this.backend.create){const f={...u,isUpdate:a},m=this.backend.create.bind(this.backend);if(m.length<6)try{let g;m.length===5?g=m(e,t,r,s,f):g=m(e,t,r,s),g&&typeof g.then=="function"?g.then(E=>d(null,E)).catch(d):d(null,g)}catch(g){d(g)}else m(e,t,r,s,d,f)}!e||!e[0]||this.store.addResource(e[0],t,r,s)}}}const NE=()=>({debug:!1,initImmediate:!0,ns:["translation"],defaultNS:["translation"],fallbackLng:["dev"],fallbackNS:!1,supportedLngs:!1,nonExplicitSupportedLngs:!1,load:"all",preload:!1,simplifyPluralSuffix:!0,keySeparator:".",nsSeparator:":",pluralSeparator:"_",contextSeparator:"_",partialBundledLanguages:!1,saveMissing:!1,updateMissing:!1,saveMissingTo:"fallback",saveMissingPlurals:!0,missingKeyHandler:!1,missingInterpolationHandler:!1,postProcess:!1,postProcessPassResolved:!1,returnNull:!1,returnEmptyString:!0,returnObjects:!1,joinArrays:!1,returnedObjectHandler:!1,parseMissingKeyHandler:!1,appendNamespaceToMissingKey:!1,appendNamespaceToCIMode:!1,overloadTranslationOptionHandler:n=>{let e={};if(typeof n[1]=="object"&&(e=n[1]),be(n[1])&&(e.defaultValue=n[1]),be(n[2])&&(e.tDescription=n[2]),typeof n[2]=="object"||typeof n[3]=="object"){const t=n[3]||n[2];Object.keys(t).forEach(r=>{e[r]=t[r]})}return e},interpolation:{escapeValue:!0,format:n=>n,prefix:"{{",suffix:"}}",formatSeparator:",",unescapePrefix:"-",nestingPrefix:"$t(",nestingSuffix:")",nestingOptionsSeparator:",",maxReplaces:1e3,skipOnVariables:!0}}),xE=n=>(be(n.ns)&&(n.ns=[n.ns]),be(n.fallbackLng)&&(n.fallbackLng=[n.fallbackLng]),be(n.fallbackNS)&&(n.fallbackNS=[n.fallbackNS]),n.supportedLngs&&n.supportedLngs.indexOf("cimode")<0&&(n.supportedLngs=n.supportedLngs.concat(["cimode"])),n),dh=()=>{},MV=n=>{Object.getOwnPropertyNames(Object.getPrototypeOf(n)).forEach(t=>{typeof n[t]=="function"&&(n[t]=n[t].bind(n))})};class wu extends Ld{constructor(){let e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{},t=arguments.length>1?arguments[1]:void 0;if(super(),this.options=xE(e),this.services={},this.logger=Or,this.modules={external:[]},MV(this),t&&!this.isInitialized&&!e.isClone){if(!this.options.initImmediate)return this.init(e,t),this;setTimeout(()=>{this.init(e,t)},0)}}init(){var e=this;let t=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{},r=arguments.length>1?arguments[1]:void 0;this.isInitializing=!0,typeof t=="function"&&(r=t,t={}),!t.defaultNS&&t.defaultNS!==!1&&t.ns&&(be(t.ns)?t.defaultNS=t.ns:t.ns.indexOf("translation")<0&&(t.defaultNS=t.ns[0]));const s=NE();this.options={...s,...this.options,...xE(t)},this.options.compatibilityAPI!=="v1"&&(this.options.interpolation={...s.interpolation,...this.options.interpolation}),t.keySeparator!==void 0&&(this.options.userDefinedKeySeparator=t.keySeparator),t.nsSeparator!==void 0&&(this.options.userDefinedNsSeparator=t.nsSeparator);const a=g=>g?typeof g=="function"?new g:g:null;if(!this.options.isClone){this.modules.logger?Or.init(a(this.modules.logger),this.options):Or.init(null,this.options);let g;this.modules.formatter?g=this.modules.formatter:typeof Intl<"u"&&(g=DV);const E=new kE(this.options);this.store=new RE(this.options.resources,this.options);const w=this.services;w.logger=Or,w.resourceStore=this.store,w.languageUtils=E,w.pluralResolver=new NV(E,{prepend:this.options.pluralSeparator,compatibilityJSON:this.options.compatibilityJSON,simplifyPluralSuffix:this.options.simplifyPluralSuffix}),g&&(!this.options.interpolation.format||this.options.interpolation.format===s.interpolation.format)&&(w.formatter=a(g),w.formatter.init(w,this.options),this.options.interpolation.format=w.formatter.format.bind(w.formatter)),w.interpolator=new xV(this.options),w.utils={hasLoadedNamespace:this.hasLoadedNamespace.bind(this)},w.backendConnector=new VV(a(this.modules.backend),w.resourceStore,w,this.options),w.backendConnector.on("*",function(A){for(var O=arguments.length,F=new Array(O>1?O-1:0),M=1;M<O;M++)F[M-1]=arguments[M];e.emit(A,...F)}),this.modules.languageDetector&&(w.languageDetector=a(this.modules.languageDetector),w.languageDetector.init&&w.languageDetector.init(w,this.options.detection,this.options)),this.modules.i18nFormat&&(w.i18nFormat=a(this.modules.i18nFormat),w.i18nFormat.init&&w.i18nFormat.init(this)),this.translator=new td(this.services,this.options),this.translator.on("*",function(A){for(var O=arguments.length,F=new Array(O>1?O-1:0),M=1;M<O;M++)F[M-1]=arguments[M];e.emit(A,...F)}),this.modules.external.forEach(A=>{A.init&&A.init(this)})}if(this.format=this.options.interpolation.format,r||(r=dh),this.options.fallbackLng&&!this.services.languageDetector&&!this.options.lng){const g=this.services.languageUtils.getFallbackCodes(this.options.fallbackLng);g.length>0&&g[0]!=="dev"&&(this.options.lng=g[0])}!this.services.languageDetector&&!this.options.lng&&this.logger.warn("init: no languageDetector is used and no lng is defined"),["getResource","hasResourceBundle","getResourceBundle","getDataByLanguage"].forEach(g=>{this[g]=function(){return e.store[g](...arguments)}}),["addResource","addResources","addResourceBundle","removeResourceBundle"].forEach(g=>{this[g]=function(){return e.store[g](...arguments),e}});const f=Ul(),m=()=>{const g=(E,w)=>{this.isInitializing=!1,this.isInitialized&&!this.initializedStoreOnce&&this.logger.warn("init: i18next is already initialized. You should call init just once!"),this.isInitialized=!0,this.options.isClone||this.logger.log("initialized",this.options),this.emit("initialized",this.options),f.resolve(w),r(E,w)};if(this.languages&&this.options.compatibilityAPI!=="v1"&&!this.isInitialized)return g(null,this.t.bind(this));this.changeLanguage(this.options.lng,g)};return this.options.resources||!this.options.initImmediate?m():setTimeout(m,0),f}loadResources(e){let r=arguments.length>1&&arguments[1]!==void 0?arguments[1]:dh;const s=be(e)?e:this.language;if(typeof e=="function"&&(r=e),!this.options.resources||this.options.partialBundledLanguages){if(s&&s.toLowerCase()==="cimode"&&(!this.options.preload||this.options.preload.length===0))return r();const a=[],u=d=>{if(!d||d==="cimode")return;this.services.languageUtils.toResolveHierarchy(d).forEach(m=>{m!=="cimode"&&a.indexOf(m)<0&&a.push(m)})};s?u(s):this.services.languageUtils.getFallbackCodes(this.options.fallbackLng).forEach(f=>u(f)),this.options.preload&&this.options.preload.forEach(d=>u(d)),this.services.backendConnector.load(a,this.options.ns,d=>{!d&&!this.resolvedLanguage&&this.language&&this.setResolvedLanguage(this.language),r(d)})}else r(null)}reloadResources(e,t,r){const s=Ul();return typeof e=="function"&&(r=e,e=void 0),typeof t=="function"&&(r=t,t=void 0),e||(e=this.languages),t||(t=this.options.ns),r||(r=dh),this.services.backendConnector.reload(e,t,a=>{s.resolve(),r(a)}),s}use(e){if(!e)throw new Error("You are passing an undefined module! Please check the object you are passing to i18next.use()");if(!e.type)throw new Error("You are passing a wrong module! Please check the object you are passing to i18next.use()");return e.type==="backend"&&(this.modules.backend=e),(e.type==="logger"||e.log&&e.warn&&e.error)&&(this.modules.logger=e),e.type==="languageDetector"&&(this.modules.languageDetector=e),e.type==="i18nFormat"&&(this.modules.i18nFormat=e),e.type==="postProcessor"&&tA.addPostProcessor(e),e.type==="formatter"&&(this.modules.formatter=e),e.type==="3rdParty"&&this.modules.external.push(e),this}setResolvedLanguage(e){if(!(!e||!this.languages)&&!(["cimode","dev"].indexOf(e)>-1))for(let t=0;t<this.languages.length;t++){const r=this.languages[t];if(!(["cimode","dev"].indexOf(r)>-1)&&this.store.hasLanguageSomeTranslations(r)){this.resolvedLanguage=r;break}}}changeLanguage(e,t){var r=this;this.isLanguageChangingTo=e;const s=Ul();this.emit("languageChanging",e);const a=f=>{this.language=f,this.languages=this.services.languageUtils.toResolveHierarchy(f),this.resolvedLanguage=void 0,this.setResolvedLanguage(f)},u=(f,m)=>{m?(a(m),this.translator.changeLanguage(m),this.isLanguageChangingTo=void 0,this.emit("languageChanged",m),this.logger.log("languageChanged",m)):this.isLanguageChangingTo=void 0,s.resolve(function(){return r.t(...arguments)}),t&&t(f,function(){return r.t(...arguments)})},d=f=>{!e&&!f&&this.services.languageDetector&&(f=[]);const m=be(f)?f:this.services.languageUtils.getBestMatchFromCodes(f);m&&(this.language||a(m),this.translator.language||this.translator.changeLanguage(m),this.services.languageDetector&&this.services.languageDetector.cacheUserLanguage&&this.services.languageDetector.cacheUserLanguage(m)),this.loadResources(m,g=>{u(g,m)})};return!e&&this.services.languageDetector&&!this.services.languageDetector.async?d(this.services.languageDetector.detect()):!e&&this.services.languageDetector&&this.services.languageDetector.async?this.services.languageDetector.detect.length===0?this.services.languageDetector.detect().then(d):this.services.languageDetector.detect(d):d(e),s}getFixedT(e,t,r){var s=this;const a=function(u,d){let f;if(typeof d!="object"){for(var m=arguments.length,g=new Array(m>2?m-2:0),E=2;E<m;E++)g[E-2]=arguments[E];f=s.options.overloadTranslationOptionHandler([u,d].concat(g))}else f={...d};f.lng=f.lng||a.lng,f.lngs=f.lngs||a.lngs,f.ns=f.ns||a.ns,f.keyPrefix!==""&&(f.keyPrefix=f.keyPrefix||r||a.keyPrefix);const w=s.options.keySeparator||".";let A;return f.keyPrefix&&Array.isArray(u)?A=u.map(O=>`${f.keyPrefix}${w}${O}`):A=f.keyPrefix?`${f.keyPrefix}${w}${u}`:u,s.t(A,f)};return be(e)?a.lng=e:a.lngs=e,a.ns=t,a.keyPrefix=r,a}t(){return this.translator&&this.translator.translate(...arguments)}exists(){return this.translator&&this.translator.exists(...arguments)}setDefaultNamespace(e){this.options.defaultNS=e}hasLoadedNamespace(e){let t=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};if(!this.isInitialized)return this.logger.warn("hasLoadedNamespace: i18next was not initialized",this.languages),!1;if(!this.languages||!this.languages.length)return this.logger.warn("hasLoadedNamespace: i18n.languages were undefined or empty",this.languages),!1;const r=t.lng||this.resolvedLanguage||this.languages[0],s=this.options?this.options.fallbackLng:!1,a=this.languages[this.languages.length-1];if(r.toLowerCase()==="cimode")return!0;const u=(d,f)=>{const m=this.services.backendConnector.state[`${d}|${f}`];return m===-1||m===0||m===2};if(t.precheck){const d=t.precheck(this,u);if(d!==void 0)return d}return!!(this.hasResourceBundle(r,e)||!this.services.backendConnector.backend||this.options.resources&&!this.options.partialBundledLanguages||u(r,e)&&(!s||u(a,e)))}loadNamespaces(e,t){const r=Ul();return this.options.ns?(be(e)&&(e=[e]),e.forEach(s=>{this.options.ns.indexOf(s)<0&&this.options.ns.push(s)}),this.loadResources(s=>{r.resolve(),t&&t(s)}),r):(t&&t(),Promise.resolve())}loadLanguages(e,t){const r=Ul();be(e)&&(e=[e]);const s=this.options.preload||[],a=e.filter(u=>s.indexOf(u)<0&&this.services.languageUtils.isSupportedCode(u));return a.length?(this.options.preload=s.concat(a),this.loadResources(u=>{r.resolve(),t&&t(u)}),r):(t&&t(),Promise.resolve())}dir(e){if(e||(e=this.resolvedLanguage||(this.languages&&this.languages.length>0?this.languages[0]:this.language)),!e)return"rtl";const t=["ar","shu","sqr","ssh","xaa","yhd","yud","aao","abh","abv","acm","acq","acw","acx","acy","adf","ads","aeb","aec","afb","ajp","apc","apd","arb","arq","ars","ary","arz","auz","avl","ayh","ayl","ayn","ayp","bbz","pga","he","iw","ps","pbt","pbu","pst","prp","prd","ug","ur","ydd","yds","yih","ji","yi","hbo","men","xmn","fa","jpr","peo","pes","prs","dv","sam","ckb"],r=this.services&&this.services.languageUtils||new kE(NE());return t.indexOf(r.getLanguagePartFromCode(e))>-1||e.toLowerCase().indexOf("-arab")>1?"rtl":"ltr"}static createInstance(){let e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{},t=arguments.length>1?arguments[1]:void 0;return new wu(e,t)}cloneInstance(){let e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{},t=arguments.length>1&&arguments[1]!==void 0?arguments[1]:dh;const r=e.forkResourceStore;r&&delete e.forkResourceStore;const s={...this.options,...e,isClone:!0},a=new wu(s);return(e.debug!==void 0||e.prefix!==void 0)&&(a.logger=a.logger.clone(e)),["store","services","language"].forEach(d=>{a[d]=this[d]}),a.services={...this.services},a.services.utils={hasLoadedNamespace:a.hasLoadedNamespace.bind(a)},r&&(a.store=new RE(this.store.data,s),a.services.resourceStore=a.store),a.translator=new td(a.services,s),a.translator.on("*",function(d){for(var f=arguments.length,m=new Array(f>1?f-1:0),g=1;g<f;g++)m[g-1]=arguments[g];a.emit(d,...m)}),a.init(s,t),a.translator.options=s,a.translator.backendConnector.services.utils={hasLoadedNamespace:a.hasLoadedNamespace.bind(a)},a}toJSON(){return{options:this.options,store:this.store,language:this.language,languages:this.languages,resolvedLanguage:this.resolvedLanguage}}}const pt=wu.createInstance();pt.createInstance=wu.createInstance;pt.createInstance;pt.dir;pt.init;pt.loadResources;pt.reloadResources;pt.use;pt.changeLanguage;pt.getFixedT;pt.t;pt.exists;pt.setDefaultNamespace;pt.hasLoadedNamespace;pt.loadNamespaces;pt.loadLanguages;const UV=/&(?:amp|#38|lt|#60|gt|#62|apos|#39|quot|#34|nbsp|#160|copy|#169|reg|#174|hellip|#8230|#x2F|#47);/g,FV={"&amp;":"&","&#38;":"&","&lt;":"<","&#60;":"<","&gt;":">","&#62;":">","&apos;":"'","&#39;":"'","&quot;":'"',"&#34;":'"',"&nbsp;":" ","&#160;":" ","&copy;":"","&#169;":"","&reg;":"","&#174;":"","&hellip;":"","&#8230;":"","&#x2F;":"/","&#47;":"/"},jV=n=>FV[n],zV=n=>n.replace(UV,jV);let Im={bindI18n:"languageChanged",bindI18nStore:"",transEmptyNodeValue:"",transSupportBasicHtmlNodes:!0,transWrapTextNodes:"",transKeepBasicHtmlNodesFor:["br","strong","i","p"],useSuspense:!0,unescape:zV};const BV=function(){let n=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{};Im={...Im,...n}},i4=()=>Im;let nA;const $V=n=>{nA=n},s4=()=>nA,HV={type:"3rdParty",init(n){BV(n.options.react),$V(n)}};function Sm(n){"@babel/helpers - typeof";return Sm=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Sm(n)}function rA(){return typeof XMLHttpRequest=="function"||(typeof XMLHttpRequest>"u"?"undefined":Sm(XMLHttpRequest))==="object"}function qV(n){return!!n&&typeof n.then=="function"}function WV(n){return qV(n)?n:Promise.resolve(n)}function GV(n){throw new Error('Could not dynamically require "'+n+'". Please configure the dynamicRequireTargets or/and ignoreDynamicRequires option of @rollup/plugin-commonjs appropriately for this require call to work.')}var fh={exports:{}},ph={exports:{}},OE;function KV(){return OE||(OE=1,(function(n,e){var t=typeof globalThis<"u"&&globalThis||typeof self<"u"&&self||typeof Ql<"u"&&Ql,r=(function(){function a(){this.fetch=!1,this.DOMException=t.DOMException}return a.prototype=t,new a})();(function(a){(function(u){var d=typeof a<"u"&&a||typeof self<"u"&&self||typeof d<"u"&&d,f={searchParams:"URLSearchParams"in d,iterable:"Symbol"in d&&"iterator"in Symbol,blob:"FileReader"in d&&"Blob"in d&&(function(){try{return new Blob,!0}catch{return!1}})(),formData:"FormData"in d,arrayBuffer:"ArrayBuffer"in d};function m(B){return B&&DataView.prototype.isPrototypeOf(B)}if(f.arrayBuffer)var g=["[object Int8Array]","[object Uint8Array]","[object Uint8ClampedArray]","[object Int16Array]","[object Uint16Array]","[object Int32Array]","[object Uint32Array]","[object Float32Array]","[object Float64Array]"],E=ArrayBuffer.isView||function(B){return B&&g.indexOf(Object.prototype.toString.call(B))>-1};function w(B){if(typeof B!="string"&&(B=String(B)),/[^a-z0-9\-#$%&'*+.^_`|~!]/i.test(B)||B==="")throw new TypeError('Invalid character in header field name: "'+B+'"');return B.toLowerCase()}function A(B){return typeof B!="string"&&(B=String(B)),B}function O(B){var Q={next:function(){var me=B.shift();return{done:me===void 0,value:me}}};return f.iterable&&(Q[Symbol.iterator]=function(){return Q}),Q}function F(B){this.map={},B instanceof F?B.forEach(function(Q,me){this.append(me,Q)},this):Array.isArray(B)?B.forEach(function(Q){this.append(Q[0],Q[1])},this):B&&Object.getOwnPropertyNames(B).forEach(function(Q){this.append(Q,B[Q])},this)}F.prototype.append=function(B,Q){B=w(B),Q=A(Q);var me=this.map[B];this.map[B]=me?me+", "+Q:Q},F.prototype.delete=function(B){delete this.map[w(B)]},F.prototype.get=function(B){return B=w(B),this.has(B)?this.map[B]:null},F.prototype.has=function(B){return this.map.hasOwnProperty(w(B))},F.prototype.set=function(B,Q){this.map[w(B)]=A(Q)},F.prototype.forEach=function(B,Q){for(var me in this.map)this.map.hasOwnProperty(me)&&B.call(Q,this.map[me],me,this)},F.prototype.keys=function(){var B=[];return this.forEach(function(Q,me){B.push(me)}),O(B)},F.prototype.values=function(){var B=[];return this.forEach(function(Q){B.push(Q)}),O(B)},F.prototype.entries=function(){var B=[];return this.forEach(function(Q,me){B.push([me,Q])}),O(B)},f.iterable&&(F.prototype[Symbol.iterator]=F.prototype.entries);function M(B){if(B.bodyUsed)return Promise.reject(new TypeError("Already read"));B.bodyUsed=!0}function J(B){return new Promise(function(Q,me){B.onload=function(){Q(B.result)},B.onerror=function(){me(B.error)}})}function se(B){var Q=new FileReader,me=J(Q);return Q.readAsArrayBuffer(B),me}function le(B){var Q=new FileReader,me=J(Q);return Q.readAsText(B),me}function re(B){for(var Q=new Uint8Array(B),me=new Array(Q.length),W=0;W<Q.length;W++)me[W]=String.fromCharCode(Q[W]);return me.join("")}function ce(B){if(B.slice)return B.slice(0);var Q=new Uint8Array(B.byteLength);return Q.set(new Uint8Array(B)),Q.buffer}function de(){return this.bodyUsed=!1,this._initBody=function(B){this.bodyUsed=this.bodyUsed,this._bodyInit=B,B?typeof B=="string"?this._bodyText=B:f.blob&&Blob.prototype.isPrototypeOf(B)?this._bodyBlob=B:f.formData&&FormData.prototype.isPrototypeOf(B)?this._bodyFormData=B:f.searchParams&&URLSearchParams.prototype.isPrototypeOf(B)?this._bodyText=B.toString():f.arrayBuffer&&f.blob&&m(B)?(this._bodyArrayBuffer=ce(B.buffer),this._bodyInit=new Blob([this._bodyArrayBuffer])):f.arrayBuffer&&(ArrayBuffer.prototype.isPrototypeOf(B)||E(B))?this._bodyArrayBuffer=ce(B):this._bodyText=B=Object.prototype.toString.call(B):this._bodyText="",this.headers.get("content-type")||(typeof B=="string"?this.headers.set("content-type","text/plain;charset=UTF-8"):this._bodyBlob&&this._bodyBlob.type?this.headers.set("content-type",this._bodyBlob.type):f.searchParams&&URLSearchParams.prototype.isPrototypeOf(B)&&this.headers.set("content-type","application/x-www-form-urlencoded;charset=UTF-8"))},f.blob&&(this.blob=function(){var B=M(this);if(B)return B;if(this._bodyBlob)return Promise.resolve(this._bodyBlob);if(this._bodyArrayBuffer)return Promise.resolve(new Blob([this._bodyArrayBuffer]));if(this._bodyFormData)throw new Error("could not read FormData body as blob");return Promise.resolve(new Blob([this._bodyText]))},this.arrayBuffer=function(){if(this._bodyArrayBuffer){var B=M(this);return B||(ArrayBuffer.isView(this._bodyArrayBuffer)?Promise.resolve(this._bodyArrayBuffer.buffer.slice(this._bodyArrayBuffer.byteOffset,this._bodyArrayBuffer.byteOffset+this._bodyArrayBuffer.byteLength)):Promise.resolve(this._bodyArrayBuffer))}else return this.blob().then(se)}),this.text=function(){var B=M(this);if(B)return B;if(this._bodyBlob)return le(this._bodyBlob);if(this._bodyArrayBuffer)return Promise.resolve(re(this._bodyArrayBuffer));if(this._bodyFormData)throw new Error("could not read FormData body as text");return Promise.resolve(this._bodyText)},f.formData&&(this.formData=function(){return this.text().then(V)}),this.json=function(){return this.text().then(JSON.parse)},this}var k=["DELETE","GET","HEAD","OPTIONS","POST","PUT"];function S(B){var Q=B.toUpperCase();return k.indexOf(Q)>-1?Q:B}function C(B,Q){if(!(this instanceof C))throw new TypeError('Please use the "new" operator, this DOM object constructor cannot be called as a function.');Q=Q||{};var me=Q.body;if(B instanceof C){if(B.bodyUsed)throw new TypeError("Already read");this.url=B.url,this.credentials=B.credentials,Q.headers||(this.headers=new F(B.headers)),this.method=B.method,this.mode=B.mode,this.signal=B.signal,!me&&B._bodyInit!=null&&(me=B._bodyInit,B.bodyUsed=!0)}else this.url=String(B);if(this.credentials=Q.credentials||this.credentials||"same-origin",(Q.headers||!this.headers)&&(this.headers=new F(Q.headers)),this.method=S(Q.method||this.method||"GET"),this.mode=Q.mode||this.mode||null,this.signal=Q.signal||this.signal,this.referrer=null,(this.method==="GET"||this.method==="HEAD")&&me)throw new TypeError("Body not allowed for GET or HEAD requests");if(this._initBody(me),(this.method==="GET"||this.method==="HEAD")&&(Q.cache==="no-store"||Q.cache==="no-cache")){var W=/([?&])_=[^&]*/;if(W.test(this.url))this.url=this.url.replace(W,"$1_="+new Date().getTime());else{var oe=/\?/;this.url+=(oe.test(this.url)?"&":"?")+"_="+new Date().getTime()}}}C.prototype.clone=function(){return new C(this,{body:this._bodyInit})};function V(B){var Q=new FormData;return B.trim().split("&").forEach(function(me){if(me){var W=me.split("="),oe=W.shift().replace(/\+/g," "),Y=W.join("=").replace(/\+/g," ");Q.append(decodeURIComponent(oe),decodeURIComponent(Y))}}),Q}function N(B){var Q=new F,me=B.replace(/\r?\n[\t ]+/g," ");return me.split("\r").map(function(W){return W.indexOf(`
`)===0?W.substr(1,W.length):W}).forEach(function(W){var oe=W.split(":"),Y=oe.shift().trim();if(Y){var U=oe.join(":").trim();Q.append(Y,U)}}),Q}de.call(C.prototype);function x(B,Q){if(!(this instanceof x))throw new TypeError('Please use the "new" operator, this DOM object constructor cannot be called as a function.');Q||(Q={}),this.type="default",this.status=Q.status===void 0?200:Q.status,this.ok=this.status>=200&&this.status<300,this.statusText=Q.statusText===void 0?"":""+Q.statusText,this.headers=new F(Q.headers),this.url=Q.url||"",this._initBody(B)}de.call(x.prototype),x.prototype.clone=function(){return new x(this._bodyInit,{status:this.status,statusText:this.statusText,headers:new F(this.headers),url:this.url})},x.error=function(){var B=new x(null,{status:0,statusText:""});return B.type="error",B};var P=[301,302,303,307,308];x.redirect=function(B,Q){if(P.indexOf(Q)===-1)throw new RangeError("Invalid status code");return new x(null,{status:Q,headers:{location:B}})},u.DOMException=d.DOMException;try{new u.DOMException}catch{u.DOMException=function(Q,me){this.message=Q,this.name=me;var W=Error(Q);this.stack=W.stack},u.DOMException.prototype=Object.create(Error.prototype),u.DOMException.prototype.constructor=u.DOMException}function xe(B,Q){return new Promise(function(me,W){var oe=new C(B,Q);if(oe.signal&&oe.signal.aborted)return W(new u.DOMException("Aborted","AbortError"));var Y=new XMLHttpRequest;function U(){Y.abort()}Y.onload=function(){var Ie={status:Y.status,statusText:Y.statusText,headers:N(Y.getAllResponseHeaders()||"")};Ie.url="responseURL"in Y?Y.responseURL:Ie.headers.get("X-Request-URL");var ke="response"in Y?Y.response:Y.responseText;setTimeout(function(){me(new x(ke,Ie))},0)},Y.onerror=function(){setTimeout(function(){W(new TypeError("Network request failed"))},0)},Y.ontimeout=function(){setTimeout(function(){W(new TypeError("Network request failed"))},0)},Y.onabort=function(){setTimeout(function(){W(new u.DOMException("Aborted","AbortError"))},0)};function X(Ie){try{return Ie===""&&d.location.href?d.location.href:Ie}catch{return Ie}}Y.open(oe.method,X(oe.url),!0),oe.credentials==="include"?Y.withCredentials=!0:oe.credentials==="omit"&&(Y.withCredentials=!1),"responseType"in Y&&(f.blob?Y.responseType="blob":f.arrayBuffer&&oe.headers.get("Content-Type")&&oe.headers.get("Content-Type").indexOf("application/octet-stream")!==-1&&(Y.responseType="arraybuffer")),Q&&typeof Q.headers=="object"&&!(Q.headers instanceof F)?Object.getOwnPropertyNames(Q.headers).forEach(function(Ie){Y.setRequestHeader(Ie,A(Q.headers[Ie]))}):oe.headers.forEach(function(Ie,ke){Y.setRequestHeader(ke,Ie)}),oe.signal&&(oe.signal.addEventListener("abort",U),Y.onreadystatechange=function(){Y.readyState===4&&oe.signal.removeEventListener("abort",U)}),Y.send(typeof oe._bodyInit>"u"?null:oe._bodyInit)})}return xe.polyfill=!0,d.fetch||(d.fetch=xe,d.Headers=F,d.Request=C,d.Response=x),u.Headers=F,u.Request=C,u.Response=x,u.fetch=xe,u})({})})(r),r.fetch.ponyfill=!0,delete r.fetch.polyfill;var s=t.fetch?t:r;e=s.fetch,e.default=s.fetch,e.fetch=s.fetch,e.Headers=s.Headers,e.Request=s.Request,e.Response=s.Response,n.exports=e})(ph,ph.exports)),ph.exports}var DE;function QV(){return DE||(DE=1,(function(n,e){var t=typeof fetch=="function"?fetch:void 0;if(typeof Ql<"u"&&Ql.fetch?t=Ql.fetch:typeof window<"u"&&window.fetch&&(t=window.fetch),typeof GV<"u"&&typeof window>"u"){var r=t||KV();r.default&&(r=r.default),e.default=r,n.exports=e.default}})(fh,fh.exports)),fh.exports}var iA=QV();const sA=Ra(iA),LE=cT({__proto__:null,default:sA},[iA]);function VE(n,e){var t=Object.keys(n);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(n);e&&(r=r.filter(function(s){return Object.getOwnPropertyDescriptor(n,s).enumerable})),t.push.apply(t,r)}return t}function ME(n){for(var e=1;e<arguments.length;e++){var t=arguments[e]!=null?arguments[e]:{};e%2?VE(Object(t),!0).forEach(function(r){YV(n,r,t[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(n,Object.getOwnPropertyDescriptors(t)):VE(Object(t)).forEach(function(r){Object.defineProperty(n,r,Object.getOwnPropertyDescriptor(t,r))})}return n}function YV(n,e,t){return(e=JV(e))in n?Object.defineProperty(n,e,{value:t,enumerable:!0,configurable:!0,writable:!0}):n[e]=t,n}function JV(n){var e=XV(n,"string");return so(e)=="symbol"?e:e+""}function XV(n,e){if(so(n)!="object"||!n)return n;var t=n[Symbol.toPrimitive];if(t!==void 0){var r=t.call(n,e);if(so(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(n)}function so(n){"@babel/helpers - typeof";return so=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},so(n)}var ps=typeof fetch=="function"?fetch:void 0;typeof global<"u"&&global.fetch?ps=global.fetch:typeof window<"u"&&window.fetch&&(ps=window.fetch);var Eu;rA()&&(typeof global<"u"&&global.XMLHttpRequest?Eu=global.XMLHttpRequest:typeof window<"u"&&window.XMLHttpRequest&&(Eu=window.XMLHttpRequest));var nd;typeof ActiveXObject=="function"&&(typeof global<"u"&&global.ActiveXObject?nd=global.ActiveXObject:typeof window<"u"&&window.ActiveXObject&&(nd=window.ActiveXObject));!ps&&LE&&!Eu&&!nd&&(ps=sA||LE);typeof ps!="function"&&(ps=void 0);var Am=function(e,t){if(t&&so(t)==="object"){var r="";for(var s in t)r+="&"+encodeURIComponent(s)+"="+encodeURIComponent(t[s]);if(!r)return e;e=e+(e.indexOf("?")!==-1?"&":"?")+r.slice(1)}return e},UE=function(e,t,r,s){var a=function(f){if(!f.ok)return r(f.statusText||"Error",{status:f.status});f.text().then(function(m){r(null,{status:f.status,data:m})}).catch(r)};if(s){var u=s(e,t);if(u instanceof Promise){u.then(a).catch(r);return}}typeof fetch=="function"?fetch(e,t).then(a).catch(r):ps(e,t).then(a).catch(r)},FE=!1,ZV=function(e,t,r,s){e.queryStringParams&&(t=Am(t,e.queryStringParams));var a=ME({},typeof e.customHeaders=="function"?e.customHeaders():e.customHeaders);typeof window>"u"&&typeof global<"u"&&typeof global.process<"u"&&global.process.versions&&global.process.versions.node&&(a["User-Agent"]="i18next-http-backend (node/".concat(global.process.version,"; ").concat(global.process.platform," ").concat(global.process.arch,")")),r&&(a["Content-Type"]="application/json");var u=typeof e.requestOptions=="function"?e.requestOptions(r):e.requestOptions,d=ME({method:r?"POST":"GET",body:r?e.stringify(r):void 0,headers:a},FE?{}:u),f=typeof e.alternateFetch=="function"&&e.alternateFetch.length>=1?e.alternateFetch:void 0;try{UE(t,d,s,f)}catch(m){if(!u||Object.keys(u).length===0||!m.message||m.message.indexOf("not implemented")<0)return s(m);try{Object.keys(u).forEach(function(g){delete d[g]}),UE(t,d,s,f),FE=!0}catch(g){s(g)}}},eM=function(e,t,r,s){r&&so(r)==="object"&&(r=Am("",r).slice(1)),e.queryStringParams&&(t=Am(t,e.queryStringParams));try{var a;Eu?a=new Eu:a=new nd("MSXML2.XMLHTTP.3.0"),a.open(r?"POST":"GET",t,1),e.crossDomain||a.setRequestHeader("X-Requested-With","XMLHttpRequest"),a.withCredentials=!!e.withCredentials,r&&a.setRequestHeader("Content-Type","application/x-www-form-urlencoded"),a.overrideMimeType&&a.overrideMimeType("application/json");var u=e.customHeaders;if(u=typeof u=="function"?u():u,u)for(var d in u)a.setRequestHeader(d,u[d]);a.onreadystatechange=function(){a.readyState>3&&s(a.status>=400?a.statusText:null,{status:a.status,data:a.responseText})},a.send(r)}catch(f){console&&console.log(f)}},tM=function(e,t,r,s){if(typeof r=="function"&&(s=r,r=void 0),s=s||function(){},ps&&t.indexOf("file:")!==0)return ZV(e,t,r,s);if(rA()||typeof ActiveXObject=="function")return eM(e,t,r,s);s(new Error("No fetch and no xhr implementation found!"))};function Aa(n){"@babel/helpers - typeof";return Aa=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Aa(n)}function jE(n,e){var t=Object.keys(n);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(n);e&&(r=r.filter(function(s){return Object.getOwnPropertyDescriptor(n,s).enumerable})),t.push.apply(t,r)}return t}function Bp(n){for(var e=1;e<arguments.length;e++){var t=arguments[e]!=null?arguments[e]:{};e%2?jE(Object(t),!0).forEach(function(r){oA(n,r,t[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(n,Object.getOwnPropertyDescriptors(t)):jE(Object(t)).forEach(function(r){Object.defineProperty(n,r,Object.getOwnPropertyDescriptor(t,r))})}return n}function nM(n,e){if(!(n instanceof e))throw new TypeError("Cannot call a class as a function")}function rM(n,e){for(var t=0;t<e.length;t++){var r=e[t];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(n,aA(r.key),r)}}function iM(n,e,t){return e&&rM(n.prototype,e),Object.defineProperty(n,"prototype",{writable:!1}),n}function oA(n,e,t){return(e=aA(e))in n?Object.defineProperty(n,e,{value:t,enumerable:!0,configurable:!0,writable:!0}):n[e]=t,n}function aA(n){var e=sM(n,"string");return Aa(e)=="symbol"?e:e+""}function sM(n,e){if(Aa(n)!="object"||!n)return n;var t=n[Symbol.toPrimitive];if(t!==void 0){var r=t.call(n,e);if(Aa(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(n)}var oM=function(){return{loadPath:"/locales/{{lng}}/{{ns}}.json",addPath:"/locales/add/{{lng}}/{{ns}}",parse:function(t){return JSON.parse(t)},stringify:JSON.stringify,parsePayload:function(t,r,s){return oA({},r,s||"")},parseLoadPayload:function(t,r){},request:tM,reloadInterval:typeof window<"u"?!1:3600*1e3,customHeaders:{},queryStringParams:{},crossDomain:!1,withCredentials:!1,overrideMimeType:!1,requestOptions:{mode:"cors",credentials:"same-origin",cache:"default"}}},lA=(function(){function n(e){var t=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},r=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{};nM(this,n),this.services=e,this.options=t,this.allOptions=r,this.type="backend",this.init(e,t,r)}return iM(n,[{key:"init",value:function(t){var r=this,s=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},a=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{};if(this.services=t,this.options=Bp(Bp(Bp({},oM()),this.options||{}),s),this.allOptions=a,this.services&&this.options.reloadInterval){var u=setInterval(function(){return r.reload()},this.options.reloadInterval);Aa(u)==="object"&&typeof u.unref=="function"&&u.unref()}}},{key:"readMulti",value:function(t,r,s){this._readAny(t,t,r,r,s)}},{key:"read",value:function(t,r,s){this._readAny([t],t,[r],r,s)}},{key:"_readAny",value:function(t,r,s,a,u){var d=this,f=this.options.loadPath;typeof this.options.loadPath=="function"&&(f=this.options.loadPath(t,s)),f=WV(f),f.then(function(m){if(!m)return u(null,{});var g=d.services.interpolator.interpolate(m,{lng:t.join("+"),ns:s.join("+")});d.loadUrl(g,u,r,a)})}},{key:"loadUrl",value:function(t,r,s,a){var u=this,d=typeof s=="string"?[s]:s,f=typeof a=="string"?[a]:a,m=this.options.parseLoadPayload(d,f);this.options.request(this.options,t,m,function(g,E){if(E&&(E.status>=500&&E.status<600||!E.status))return r("failed loading "+t+"; status code: "+E.status,!0);if(E&&E.status>=400&&E.status<500)return r("failed loading "+t+"; status code: "+E.status,!1);if(!E&&g&&g.message){var w=g.message.toLowerCase(),A=["failed","fetch","network","load"].find(function(M){return w.indexOf(M)>-1});if(A)return r("failed loading "+t+": "+g.message,!0)}if(g)return r(g,!1);var O,F;try{typeof E.data=="string"?O=u.options.parse(E.data,s,a):O=E.data}catch{F="failed parsing "+t+" to json"}if(F)return r(F,!1);r(null,O)})}},{key:"create",value:function(t,r,s,a,u){var d=this;if(this.options.addPath){typeof t=="string"&&(t=[t]);var f=this.options.parsePayload(r,s,a),m=0,g=[],E=[];t.forEach(function(w){var A=d.options.addPath;typeof d.options.addPath=="function"&&(A=d.options.addPath(w,r));var O=d.services.interpolator.interpolate(A,{lng:w,ns:r});d.options.request(d.options,O,f,function(F,M){m+=1,g.push(F),E.push(M),m===t.length&&typeof u=="function"&&u(g,E)})})}}},{key:"reload",value:function(){var t=this,r=this.services,s=r.backendConnector,a=r.languageUtils,u=r.logger,d=s.language;if(!(d&&d.toLowerCase()==="cimode")){var f=[],m=function(E){var w=a.toResolveHierarchy(E);w.forEach(function(A){f.indexOf(A)<0&&f.push(A)})};m(d),this.allOptions.preload&&this.allOptions.preload.forEach(function(g){return m(g)}),f.forEach(function(g){t.allOptions.ns.forEach(function(E){s.read(g,E,"read",null,null,function(w,A){w&&u.warn("loading namespace ".concat(E," for language ").concat(g," failed"),w),!w&&A&&u.log("loaded namespace ".concat(E," for language ").concat(g),A),s.loaded("".concat(g,"|").concat(E),w,A)})})})}}}])})();lA.type="backend";function aM(n,e){if(!(n instanceof e))throw new TypeError("Cannot call a class as a function")}function Tu(n){"@babel/helpers - typeof";return Tu=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Tu(n)}function lM(n,e){if(Tu(n)!="object"||!n)return n;var t=n[Symbol.toPrimitive];if(t!==void 0){var r=t.call(n,e);if(Tu(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(n)}function uM(n){var e=lM(n,"string");return Tu(e)=="symbol"?e:e+""}function cM(n,e){for(var t=0;t<e.length;t++){var r=e[t];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(n,uM(r.key),r)}}function hM(n,e,t){return e&&cM(n.prototype,e),Object.defineProperty(n,"prototype",{writable:!1}),n}var uA=[],dM=uA.forEach,fM=uA.slice;function pM(n){return dM.call(fM.call(arguments,1),function(e){if(e)for(var t in e)n[t]===void 0&&(n[t]=e[t])}),n}var zE=/^[\u0009\u0020-\u007e\u0080-\u00ff]+$/,mM=function(e,t,r){var s=r||{};s.path=s.path||"/";var a=encodeURIComponent(t),u="".concat(e,"=").concat(a);if(s.maxAge>0){var d=s.maxAge-0;if(Number.isNaN(d))throw new Error("maxAge should be a Number");u+="; Max-Age=".concat(Math.floor(d))}if(s.domain){if(!zE.test(s.domain))throw new TypeError("option domain is invalid");u+="; Domain=".concat(s.domain)}if(s.path){if(!zE.test(s.path))throw new TypeError("option path is invalid");u+="; Path=".concat(s.path)}if(s.expires){if(typeof s.expires.toUTCString!="function")throw new TypeError("option expires is invalid");u+="; Expires=".concat(s.expires.toUTCString())}if(s.httpOnly&&(u+="; HttpOnly"),s.secure&&(u+="; Secure"),s.sameSite){var f=typeof s.sameSite=="string"?s.sameSite.toLowerCase():s.sameSite;switch(f){case!0:u+="; SameSite=Strict";break;case"lax":u+="; SameSite=Lax";break;case"strict":u+="; SameSite=Strict";break;case"none":u+="; SameSite=None";break;default:throw new TypeError("option sameSite is invalid")}}return u},BE={create:function(e,t,r,s){var a=arguments.length>4&&arguments[4]!==void 0?arguments[4]:{path:"/",sameSite:"strict"};r&&(a.expires=new Date,a.expires.setTime(a.expires.getTime()+r*60*1e3)),s&&(a.domain=s),document.cookie=mM(e,encodeURIComponent(t),a)},read:function(e){for(var t="".concat(e,"="),r=document.cookie.split(";"),s=0;s<r.length;s++){for(var a=r[s];a.charAt(0)===" ";)a=a.substring(1,a.length);if(a.indexOf(t)===0)return a.substring(t.length,a.length)}return null},remove:function(e){this.create(e,"",-1)}},gM={name:"cookie",lookup:function(e){var t;if(e.lookupCookie&&typeof document<"u"){var r=BE.read(e.lookupCookie);r&&(t=r)}return t},cacheUserLanguage:function(e,t){t.lookupCookie&&typeof document<"u"&&BE.create(t.lookupCookie,e,t.cookieMinutes,t.cookieDomain,t.cookieOptions)}},yM={name:"querystring",lookup:function(e){var t;if(typeof window<"u"){var r=window.location.search;!window.location.search&&window.location.hash&&window.location.hash.indexOf("?")>-1&&(r=window.location.hash.substring(window.location.hash.indexOf("?")));for(var s=r.substring(1),a=s.split("&"),u=0;u<a.length;u++){var d=a[u].indexOf("=");if(d>0){var f=a[u].substring(0,d);f===e.lookupQuerystring&&(t=a[u].substring(d+1))}}}return t}},Fl=null,$E=function(){if(Fl!==null)return Fl;try{Fl=window!=="undefined"&&window.localStorage!==null;var e="i18next.translate.boo";window.localStorage.setItem(e,"foo"),window.localStorage.removeItem(e)}catch{Fl=!1}return Fl},_M={name:"localStorage",lookup:function(e){var t;if(e.lookupLocalStorage&&$E()){var r=window.localStorage.getItem(e.lookupLocalStorage);r&&(t=r)}return t},cacheUserLanguage:function(e,t){t.lookupLocalStorage&&$E()&&window.localStorage.setItem(t.lookupLocalStorage,e)}},jl=null,HE=function(){if(jl!==null)return jl;try{jl=window!=="undefined"&&window.sessionStorage!==null;var e="i18next.translate.boo";window.sessionStorage.setItem(e,"foo"),window.sessionStorage.removeItem(e)}catch{jl=!1}return jl},vM={name:"sessionStorage",lookup:function(e){var t;if(e.lookupSessionStorage&&HE()){var r=window.sessionStorage.getItem(e.lookupSessionStorage);r&&(t=r)}return t},cacheUserLanguage:function(e,t){t.lookupSessionStorage&&HE()&&window.sessionStorage.setItem(t.lookupSessionStorage,e)}},wM={name:"navigator",lookup:function(e){var t=[];if(typeof navigator<"u"){if(navigator.languages)for(var r=0;r<navigator.languages.length;r++)t.push(navigator.languages[r]);navigator.userLanguage&&t.push(navigator.userLanguage),navigator.language&&t.push(navigator.language)}return t.length>0?t:void 0}},EM={name:"htmlTag",lookup:function(e){var t,r=e.htmlTag||(typeof document<"u"?document.documentElement:null);return r&&typeof r.getAttribute=="function"&&(t=r.getAttribute("lang")),t}},TM={name:"path",lookup:function(e){var t;if(typeof window<"u"){var r=window.location.pathname.match(/\/([a-zA-Z-]*)/g);if(r instanceof Array)if(typeof e.lookupFromPathIndex=="number"){if(typeof r[e.lookupFromPathIndex]!="string")return;t=r[e.lookupFromPathIndex].replace("/","")}else t=r[0].replace("/","")}return t}},IM={name:"subdomain",lookup:function(e){var t=typeof e.lookupFromSubdomainIndex=="number"?e.lookupFromSubdomainIndex+1:1,r=typeof window<"u"&&window.location&&window.location.hostname&&window.location.hostname.match(/^(\w{2,5})\.(([a-z0-9-]{1,63}\.[a-z]{2,6})|localhost)/i);if(r)return r[t]}},cA=!1;try{document.cookie,cA=!0}catch{}var hA=["querystring","cookie","localStorage","sessionStorage","navigator","htmlTag"];cA||hA.splice(1,1);function SM(){return{order:hA,lookupQuerystring:"lng",lookupCookie:"i18next",lookupLocalStorage:"i18nextLng",lookupSessionStorage:"i18nextLng",caches:["localStorage"],excludeCacheFor:["cimode"],convertDetectedLanguage:function(e){return e}}}var dA=(function(){function n(e){var t=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};aM(this,n),this.type="languageDetector",this.detectors={},this.init(e,t)}return hM(n,[{key:"init",value:function(t){var r=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},s=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{};this.services=t||{languageUtils:{}},this.options=pM(r,this.options||{},SM()),typeof this.options.convertDetectedLanguage=="string"&&this.options.convertDetectedLanguage.indexOf("15897")>-1&&(this.options.convertDetectedLanguage=function(a){return a.replace("-","_")}),this.options.lookupFromUrlIndex&&(this.options.lookupFromPathIndex=this.options.lookupFromUrlIndex),this.i18nOptions=s,this.addDetector(gM),this.addDetector(yM),this.addDetector(_M),this.addDetector(vM),this.addDetector(wM),this.addDetector(EM),this.addDetector(TM),this.addDetector(IM)}},{key:"addDetector",value:function(t){return this.detectors[t.name]=t,this}},{key:"detect",value:function(t){var r=this;t||(t=this.options.order);var s=[];return t.forEach(function(a){if(r.detectors[a]){var u=r.detectors[a].lookup(r.options);u&&typeof u=="string"&&(u=[u]),u&&(s=s.concat(u))}}),s=s.map(function(a){return r.options.convertDetectedLanguage(a)}),this.services.languageUtils.getBestMatchFromCodes?s:s.length>0?s[0]:null}},{key:"cacheUserLanguage",value:function(t,r){var s=this;r||(r=this.options.caches),r&&(this.options.excludeCacheFor&&this.options.excludeCacheFor.indexOf(t)>-1||r.forEach(function(a){s.detectors[a]&&s.detectors[a].cacheUserLanguage(t,s.options)}))}}])})();dA.type="languageDetector";const fA=Jh.map(n=>n.code),AM=()=>{if(typeof window>"u")return;const e=window.location.pathname.split("/").filter(t=>t);return e.length>0&&fA.includes(e[0])?e[0]:"en"};pt.use(lA).use(dA).use(HV).init({lng:AM(),fallbackLng:"en",supportedLngs:fA,load:"languageOnly",debug:!1,ns:["translation"],defaultNS:"translation",backend:{loadPath:"/locales/{{lng}}/translation.json?v="+new Date().getTime()},detection:{order:["path","navigator","htmlTag"],lookupFromPathIndex:0},interpolation:{escapeValue:!1},react:{useSuspense:!1}});const $p=()=>{let n=window.location.pathname;n.startsWith("/")&&(n=n.substring(1));const e=n.split("/");if(e.length>0&&Jh.some(t=>t.code===e[0])){const t=e[0];if(t==="en"){pt.language!=="en"&&pt.changeLanguage("en");const r="/"+e.slice(1).join("/");return window.history.replaceState({},"",r+window.location.search+window.location.hash),r}return pt.language!==t&&pt.changeLanguage(t),"/"+e.slice(1).join("/")}return pt.language!=="en"&&n.startsWith("assets/"),"/"+n},br=n=>{const e=n.split("/").filter(d=>d);if(e.length>0&&Jh.some(d=>d.code===e[0])){window.history.pushState({},"",n),window.dispatchEvent(new PopStateEvent("popstate"));return}const r=(pt.language||"en").substring(0,2),s=Jh.some(d=>d.code===r)?r:"en",a=n.startsWith("/")?n:"/"+n;let u;s==="en"?u=a:u=`/${s}${a}`,window.history.pushState({},"",u),window.dispatchEvent(new PopStateEvent("popstate"))},pA=he.createContext({currentUser:null,userProfile:null,loading:!0,isAdmin:!1,isAdminLoading:!0,isEmailVerified:!1,isPremium:!1,aiUsage:null,refreshAIUsage:async()=>{},logOut:()=>{},updateUserProfile:async()=>{}}),Ma=()=>he.useContext(pA),RM=({children:n})=>{const[e,t]=he.useState(null),[r,s]=he.useState(null),[a,u]=he.useState(!0),[d,f]=he.useState(!1),[m,g]=he.useState(!0),[E,w]=he.useState(!1),[A,O]=he.useState(!1),[F,M]=he.useState(null);he.useEffect(()=>{const ce=dC(wE,async de=>{t(de),w(de?de.emailVerified:!1),de||(f(!1),O(!1),s(null),g(!1),u(!1))});return()=>ce()},[]),he.useEffect(()=>{if(!e)return;let ce=!1,de=!1;const k=()=>{ce&&de&&u(!1)},S=on(Xe,"users",e.uid),C=Wh(S,async N=>{if(N.exists()){const x=N.data();s(x);const P=Date.now(),xe=x.expiresAt?.toMillis?x.expiresAt.toMillis():null,B=x.plan==="pro_sprint"&&xe!==null?xe>P:!1,Q=x.plan==="pro_monthly"&&(xe!==null?xe>P:x.stripeSubscriptionStatus==="active"||x.stripeSubscriptionStatus==="trialing"),me=xe===null&&x.promotions?.isPremium===!0,W=B||Q||me;O(W);const oe=x.aiUsage||{count:0,monthlyLimit:10};let Y=10;if(W&&x?.plan&&(x.plan==="pro_sprint"?Y=100:x.plan==="pro_monthly"?Y=300:Y=oe.monthlyLimit||10),M({count:oe.count,limit:Y}),!W&&(x.plan==="pro_sprint"||x.plan==="pro_monthly")&&xe!==null&&xe<P)try{await qh(S,{plan:"free",role:"user",stripeSubscriptionStatus:null,promotions:{...x.promotions,isPremium:!1}}),console.log("Auto-cleanup: Reset expired plan/role to free/user")}catch(U){console.error("Failed to reset expired plan:",U)}}else O(!1),s(null);ce=!0,k()});return(async()=>{if(g(!0),e.email==="evan@jastalk.com"||e.uid==="n95XpkySLMhwcHcpKTOpFAqrOPi2"){f(!0);try{const x=on(Xe,"admins",e.uid);await Fg(x,{role:"admin",email:e.email},{merge:!0})}catch(x){console.warn("Self-healing admin check failed (likely permissions), but UI access is granted via hardcode.",x)}g(!1),de=!0,k();return}try{const x=on(Xe,"admins",e.uid),P=await Kl(x);f(P.exists())}catch(x){console.error("Error checking admin status:",x),f(!1)}finally{g(!1),de=!0,k()}})(),()=>C()},[e]);const re={currentUser:e,userProfile:r,loading:a,isAdmin:d,isAdminLoading:m,isEmailVerified:E,isPremium:A,aiUsage:F,refreshAIUsage:async()=>{if(e)try{const{getAIUsage:ce}=await Ee(async()=>{const{getAIUsage:S}=await import("./aiUsageService-DOhjmJ3X.js");return{getAIUsage:S}},[]),de=await ce(e.uid);let k=10;r?.plan&&(r.plan==="pro_sprint"?k=100:r.plan==="pro_monthly"&&(k=300)),M({count:de.count,limit:k})}catch(ce){console.error("Failed to refresh AI usage:",ce)}},logOut:()=>{aV(e?.uid||"","sign_out"),fC(wE),br("/")},updateUserProfile:async ce=>{if(!e)return;const de=on(Xe,"users",e.uid);await qh(de,ce)}};return D.jsx(pA.Provider,{value:re,children:n})},mA=he.createContext(void 0),PM=({children:n})=>{const[e,t]=he.useState([]);he.useEffect(()=>{try{const m=localStorage.getItem("stitch_cart");m&&t(JSON.parse(m))}catch(m){console.error("Failed to load cart from local storage",m)}},[]),he.useEffect(()=>{try{localStorage.setItem("stitch_cart",JSON.stringify(e))}catch(m){console.error("Failed to save cart to local storage",m)}},[e]);const r=(m,g=1)=>{t(E=>E.find(A=>A.id===m.id)?E.map(A=>A.id===m.id?{...A,quantity:A.quantity+g}:A):[...E,{...m,quantity:g}])},s=m=>{t(g=>g.filter(E=>E.id!==m))},a=(m,g)=>{if(g<=0){s(m);return}t(E=>E.map(w=>w.id===m?{...w,quantity:g}:w))},u=()=>t([]),d=e.reduce((m,g)=>m+g.price*g.quantity,0),f=e.reduce((m,g)=>m+g.quantity,0);return D.jsx(mA.Provider,{value:{items:e,addToCart:r,removeFromCart:s,updateQuantity:a,clearCart:u,cartTotal:d,itemCount:f},children:n})},o4=()=>{const n=he.useContext(mA);if(!n)throw new Error("useCart must be used within a CartProvider");return n};var kM={xmlns:"http://www.w3.org/2000/svg",width:24,height:24,viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:2,strokeLinecap:"round",strokeLinejoin:"round"};const CM=n=>n.replace(/([a-z0-9])([A-Z])/g,"$1-$2").toLowerCase().trim(),wi=(n,e)=>{const t=he.forwardRef(({color:r="currentColor",size:s=24,strokeWidth:a=2,absoluteStrokeWidth:u,className:d="",children:f,...m},g)=>he.createElement("svg",{ref:g,...kM,width:s,height:s,stroke:r,strokeWidth:u?Number(a)*24/Number(s):a,className:["lucide",`lucide-${CM(n)}`,d].join(" "),...m},[...e.map(([E,w])=>he.createElement(E,w)),...Array.isArray(f)?f:[f]]));return t.displayName=`${n}`,t};const bM=wi("BarChart3",[["path",{d:"M3 3v18h18",key:"1s2lah"}],["path",{d:"M18 17V9",key:"2bz60n"}],["path",{d:"M13 17V5",key:"1frdt8"}],["path",{d:"M8 17v-3",key:"17ska0"}]]);const NM=wi("Briefcase",[["rect",{width:"20",height:"14",x:"2",y:"7",rx:"2",ry:"2",key:"eto64e"}],["path",{d:"M16 21V5a2 2 0 0 0-2-2h-4a2 2 0 0 0-2 2v16",key:"zwj3tp"}]]);const xM=wi("ExternalLink",[["path",{d:"M15 3h6v6",key:"1q9fwt"}],["path",{d:"M10 14 21 3",key:"gplh6r"}],["path",{d:"M18 13v6a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2V8a2 2 0 0 1 2-2h6",key:"a6xqqp"}]]);const gA=wi("FileText",[["path",{d:"M15 2H6a2 2 0 0 0-2 2v16a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2V7Z",key:"1rqfz7"}],["path",{d:"M14 2v4a2 2 0 0 0 2 2h4",key:"tnqrlb"}],["path",{d:"M10 9H8",key:"b1mrlr"}],["path",{d:"M16 13H8",key:"t4e002"}],["path",{d:"M16 17H8",key:"z1uh3a"}]]);const OM=wi("Loader2",[["path",{d:"M21 12a9 9 0 1 1-6.219-8.56",key:"13zald"}]]);const yA=wi("Mic",[["path",{d:"M12 2a3 3 0 0 0-3 3v7a3 3 0 0 0 6 0V5a3 3 0 0 0-3-3Z",key:"131961"}],["path",{d:"M19 10v2a7 7 0 0 1-14 0v-2",key:"1vc78b"}],["line",{x1:"12",x2:"12",y1:"19",y2:"22",key:"x3vr5v"}]]);const qE=wi("Plus",[["path",{d:"M5 12h14",key:"1ays0h"}],["path",{d:"M12 5v14",key:"s699le"}]]);const DM=wi("Settings",[["path",{d:"M12.22 2h-.44a2 2 0 0 0-2 2v.18a2 2 0 0 1-1 1.73l-.43.25a2 2 0 0 1-2 0l-.15-.08a2 2 0 0 0-2.73.73l-.22.38a2 2 0 0 0 .73 2.73l.15.1a2 2 0 0 1 1 1.72v.51a2 2 0 0 1-1 1.74l-.15.09a2 2 0 0 0-.73 2.73l.22.38a2 2 0 0 0 2.73.73l.15-.08a2 2 0 0 1 2 0l.43.25a2 2 0 0 1 1 1.73V20a2 2 0 0 0 2 2h.44a2 2 0 0 0 2-2v-.18a2 2 0 0 1 1-1.73l.43-.25a2 2 0 0 1 2 0l.15.08a2 2 0 0 0 2.73-.73l.22-.39a2 2 0 0 0-.73-2.73l-.15-.08a2 2 0 0 1-1-1.74v-.5a2 2 0 0 1 1-1.74l.15-.09a2 2 0 0 0 .73-2.73l-.22-.38a2 2 0 0 0-2.73-.73l-.15.08a2 2 0 0 1-2 0l-.43-.25a2 2 0 0 1-1-1.73V4a2 2 0 0 0-2-2z",key:"1qme2f"}],["circle",{cx:"12",cy:"12",r:"3",key:"1v7zrd"}]]);const LM=wi("Wand2",[["path",{d:"m21.64 3.64-1.28-1.28a1.21 1.21 0 0 0-1.72 0L2.36 18.64a1.21 1.21 0 0 0 0 1.72l1.28 1.28a1.2 1.2 0 0 0 1.72 0L21.64 5.36a1.2 1.2 0 0 0 0-1.72Z",key:"1bcowg"}],["path",{d:"m14 7 3 3",key:"1r5n42"}],["path",{d:"M5 6v4",key:"ilb8ba"}],["path",{d:"M19 14v4",key:"blhpug"}],["path",{d:"M10 2v2",key:"7u0qdc"}],["path",{d:"M7 8H3",key:"zfb6yr"}],["path",{d:"M21 16h-4",key:"1cnmox"}],["path",{d:"M11 3H9",key:"1obp7u"}]]);function VM(){return typeof chrome<"u"&&!!chrome.runtime?.id}const MM="https://firebasestorage.googleapis.com/v0/b/jastalk-firebase.firebasestorage.app/o/public%2Flogo_assets%2Flogo_light_mode.png?alt=media&token=627ec9de-a950-41f7-9138-dd7a33518c55",UM="https://firebasestorage.googleapis.com/v0/b/jastalk-firebase.firebasestorage.app/o/public%2Flogo_assets%2Flogo_dark_mode.png?alt=media&token=25d3963d-2c64-4bfc-bb96-41bc305cf1e5",FM=()=>{const{theme:n}=wT(),e=n==="dark",t=e?UM:MM,r=s=>{typeof chrome<"u"&&chrome.tabs?chrome.tabs.create({url:`https://careervivid.app${s}`}):window.open(`https://careervivid.app${s}`,"_blank")};return D.jsxs("div",{className:`min-h-[520px] w-[380px] flex flex-col ${e?"bg-gray-900":"bg-gradient-to-b from-gray-50 to-white"}`,children:[D.jsxs("div",{className:"flex-1 flex flex-col items-center justify-center px-8 py-10",children:[D.jsx("div",{className:"mb-6",children:D.jsx("img",{src:t,alt:"CareerVivid",className:"h-12 w-auto object-contain",onError:s=>{s.currentTarget.style.display="none"}})}),D.jsx("p",{className:`text-sm text-center mb-8 max-w-[260px] leading-relaxed ${e?"text-gray-400":"text-gray-500"}`,children:"Your AI-powered career copilot. Create resumes, practice interviews, and land your dream job."}),D.jsxs("div",{className:"flex flex-wrap justify-center gap-2 mb-8",children:[D.jsxs("button",{onClick:()=>r("/newresume"),className:`inline-flex items-center gap-1.5 px-3 py-1.5 rounded-full border shadow-sm text-xs font-medium transition-all ${e?"bg-gray-800 border-gray-700 text-gray-300 hover:border-primary-500 hover:shadow-md":"bg-white border-gray-100 text-gray-600 hover:border-primary-200 hover:shadow-md"}`,children:[D.jsx(gA,{size:12,className:"text-primary-500"}),"AI Resumes"]}),D.jsxs("button",{onClick:()=>r("/interview-studio"),className:`inline-flex items-center gap-1.5 px-3 py-1.5 rounded-full border shadow-sm text-xs font-medium transition-all ${e?"bg-gray-800 border-gray-700 text-gray-300 hover:border-pink-500 hover:shadow-md":"bg-white border-gray-100 text-gray-600 hover:border-pink-200 hover:shadow-md"}`,children:[D.jsx(yA,{size:12,className:"text-pink-500"}),"Mock Interviews"]}),D.jsxs("button",{onClick:()=>r("/tracker"),className:`inline-flex items-center gap-1.5 px-3 py-1.5 rounded-full border shadow-sm text-xs font-medium transition-all ${e?"bg-gray-800 border-gray-700 text-gray-300 hover:border-purple-500 hover:shadow-md":"bg-white border-gray-100 text-gray-600 hover:border-purple-200 hover:shadow-md"}`,children:[D.jsx(bM,{size:12,className:"text-purple-500"}),"Job Tracker"]})]}),D.jsxs("div",{className:"w-full max-w-[280px] space-y-3",children:[D.jsx("button",{onClick:()=>r("/signin"),className:`w-full py-3.5 px-4 font-semibold rounded-xl shadow-lg transition-all hover:scale-[1.02] active:scale-[0.98] ${e?"bg-white text-gray-900 hover:bg-gray-100":"bg-gray-900 text-white hover:bg-black shadow-gray-200"}`,children:"Sign In"}),D.jsx("button",{onClick:()=>r("/signup"),className:`w-full py-3.5 px-4 font-semibold rounded-xl border transition-all ${e?"bg-gray-800 text-gray-200 border-gray-700 hover:bg-gray-700":"bg-white text-gray-700 border-gray-200 hover:bg-gray-50 hover:border-gray-300"}`,children:"Create Free Account"})]})]}),D.jsx("div",{className:`px-8 py-4 text-center border-t ${e?"border-gray-800":"border-gray-100"}`,children:D.jsx("p",{className:`text-[10px] ${e?"text-gray-500":"text-gray-400"}`,children:"By continuing, you agree to our Terms of Service"})})]})},jM=()=>{const{currentUser:n}=Ma(),[e,t]=he.useState([]),[r,s]=he.useState(!0);he.useEffect(()=>{if(!n?.uid){t([]),s(!1);return}s(!0);const O=ir(Xe,"users",n.uid,"resumes"),F=rS(O,iS("updatedAt","desc")),M=Wh(F,J=>{const se=[],le=EE();J.forEach(re=>{const ce=re.data(),de={...le,...ce,id:re.id,section:ce.section||"resumes",personalDetails:{...le.personalDetails,...ce.personalDetails||{}},websites:ce.websites||[],skills:ce.skills||[],employmentHistory:ce.employmentHistory||[],education:ce.education||[],languages:ce.languages||[],updatedAt:ce.updatedAt?.toDate?ce.updatedAt.toDate().toISOString():ce.updatedAt||new Date().toISOString()};se.push(de)}),t(se),s(!1)},J=>{console.error("Error fetching resumes:",J),s(!1)});return()=>M()},[n?.uid]);const a=he.useCallback(O=>e.find(F=>F.id===O),[e]),u=he.useCallback(()=>{br("/newresume")},[]),d=he.useCallback(async()=>{if(n)try{const O=on(Xe,"users",n.uid),M=(await Kl(O)).data(),se=M?.promotions?.isPremium===!0?999:M?.resumeLimit||2;if(e.length>=se)throw new Error("RESUME_LIMIT_REACHED");const le=EE();if(n.displayName){const k=n.displayName.split(" ");le.personalDetails.firstName=k.shift()||"",le.personalDetails.lastName=k.join(" ")||""}n.email&&(le.personalDetails.email=n.email),n.photoURL&&(le.personalDetails.photo=n.photoURL),le.personalDetails.firstName&&(le.title=`${le.personalDetails.firstName}'s Resume`);const{id:re,...ce}=le,de=await Gs(ir(Xe,"users",n.uid,"resumes"),{...ce,section:"resumes",updatedAt:sr()});br(`/edit/${de.id}`)}catch(O){O.message==="RESUME_LIMIT_REACHED"?alert("You have reached your resume storage limit. Please upgrade your plan to create more resumes."):console.error("Error adding blank resume:",O)}},[n,e.length]),f=he.useCallback(async(O,F)=>{if(n)try{const M=on(Xe,"users",n.uid),se=(await Kl(M)).data(),re=se?.promotions?.isPremium===!0?999:se?.resumeLimit||2;if(e.length>=re)throw new Error("RESUME_LIMIT_REACHED");const de={title:F||"AI Generated Resume",templateId:"Modern",personalDetails:{...{jobTitle:"",photo:"",firstName:"",lastName:"",email:"",phone:"",address:"",city:"",postalCode:"",country:""},...O.personalDetails},professionalSummary:O.professionalSummary||"",websites:O.websites||[],skills:O.skills||[],employmentHistory:O.employmentHistory||[],education:O.education||[],languages:O.languages||[],themeColor:"#000000",titleFont:"Montserrat",bodyFont:"Crimson Text",language:"English",section:"resumes"},k=await Gs(ir(Xe,"users",n.uid,"resumes"),{...de,updatedAt:sr()});br(`/edit/${k.id}`)}catch(M){M.message==="RESUME_LIMIT_REACHED"?alert("You have reached your resume storage limit. Please upgrade your plan to create more resumes."):console.error("Error adding AI resume:",M)}},[n,e.length]),m=he.useCallback(async O=>{if(n)try{const F=on(Xe,"users",n.uid),J=(await Kl(F)).data(),le=J?.promotions?.isPremium===!0?999:J?.resumeLimit||2;if(e.length>=le)throw new Error("RESUME_LIMIT_REACHED");const{id:re,...ce}=O;await Gs(ir(Xe,"users",n.uid,"resumes"),{...ce,updatedAt:sr()})}catch(F){F.message==="RESUME_LIMIT_REACHED"?alert("You have reached your resume storage limit. Please upgrade your plan to create more resumes."):console.error("Error saving AI resume:",F)}},[n,e.length]),g=he.useCallback(async(O,F)=>{if(n)try{const M=JSON.parse(JSON.stringify(F));delete M.id,delete M.updatedAt;const J=on(Xe,"users",n.uid,"resumes",O);await qh(J,{...M,updatedAt:sr()})}catch(M){console.error("Error updating resume:",M),M instanceof TypeError&&M.message.includes("circular structure")&&console.error("A circular reference was detected in the data being saved:",F)}},[n]),E=he.useCallback(async O=>{if(!n)return;const F=on(Xe,"users",n.uid,"resumes",O);try{await oS(F),e.length===1?br("/newresume"):br("/")}catch(M){console.error("Error deleting resume:",M)}},[n,e.length]),w=he.useCallback(async O=>{if(!n)return;const F=a(O);if(F)try{const M=on(Xe,"users",n.uid),se=(await Kl(M)).data();let le=se?.resumeLimit||2;const re=se?.plan,ce=se?.promotions?.isPremium===!0;if(re==="pro_monthly"?le=9999:re==="pro_sprint"?le=100:ce&&(le=Math.max(le,9999)),e.length>=le)throw new Error("RESUME_LIMIT_REACHED");const{id:de,...k}=F,S=await Gs(ir(Xe,"users",n.uid,"resumes"),{...k,title:`${F.title} (Copy)`,updatedAt:sr()});br(`/edit/${S.id}`)}catch(M){M.message==="RESUME_LIMIT_REACHED"?alert("You have reached your resume storage limit. Please upgrade your plan to create more resumes."):console.error("Error duplicating resume:",M)}},[n,a,e.length]),A=he.useCallback(async()=>{if(n)try{const O=ir(Xe,"users",n.uid,"resumes"),F=await sD(O),M=lS(Xe);F.docs.forEach(J=>{M.delete(J.ref)}),await M.commit()}catch(O){throw console.error("Error deleting all resumes:",O),O}},[n]);return{resumes:e,isLoading:r,getResumeById:a,addResume:u,updateResume:g,deleteResume:E,duplicateResume:w,addAIGeneratedResume:f,saveAIGeneratedResume:m,addBlankResume:d,deleteAllResumes:A}},zM=()=>{const{userProfile:n,currentUser:e}=Ma(),{resumes:t}=jM(),[r,s]=he.useState(null),[a,u]=he.useState(!1),[d,f]=he.useState(null);he.useEffect(()=>{const g=E=>{E.type==="AUTH_STATE_CHANGED"&&window.location.reload()};return chrome.runtime.onMessage.addListener(g),()=>chrome.runtime.onMessage.removeListener(g)},[]),he.useEffect(()=>{typeof chrome<"u"&&chrome.tabs&&chrome.tabs.query({active:!0,currentWindow:!0},g=>{const E=g[0];E?.url&&(s({url:E.url,title:E.title||""}),(E.url.includes("linkedin.com/jobs")||E.url.includes("indeed.com"))&&(u(!0),E.id&&chrome.tabs.sendMessage(E.id,{type:"EXTRACT_JOB_DATA"},w=>{w?.job&&f(w.job)})))})},[]);const m=g=>{if(g==="save_job"&&r?.url&&d)Ee(()=>import("./userJobService-CGcrsc0f.js"),[]).then(async({userJobService:E})=>{if(e)try{await E.addJob(e.uid,{companyName:d.company,jobTitle:d.title,jobPostURL:r.url,applicationStatus:"To Apply",jobDescription:d.description||"",location:""}),alert("Job Saved to Dashboard!")}catch{}});else if(g==="tailor_resume"&&d)chrome.storage.local.set({pending_tailor_jd:d.description||""},()=>{window.open(`https://careervivid.app/newresume?source=extension_tailor&jobTitle=${encodeURIComponent(d.title)}`,"_blank")});else if(g==="practice_interview"&&d){const E=d.title?encodeURIComponent(d.title.replace(/\(.*\)/,"").trim()):"General";window.open(`https://careervivid.app/interview-studio/new?role=${E}`,"_blank")}else g==="new_resume"&&window.open("https://careervivid.app/newresume","_blank")};return D.jsxs("div",{className:"min-h-[520px] w-[380px] bg-gray-50 flex flex-col font-sans text-gray-900",children:[D.jsxs("header",{className:"flex items-center justify-between px-5 py-4 bg-white border-b border-gray-100 shadow-sm sticky top-0 z-10",children:[D.jsxs("div",{className:"flex items-center gap-3",children:[D.jsx("div",{className:"h-9 w-9 rounded-full bg-gradient-to-tr from-primary-400 to-primary-600 shadow ring-2 ring-white flex items-center justify-center text-white font-bold text-sm",children:n?.displayName?.[0]||n?.email?.[0]||"U"}),D.jsxs("div",{children:[D.jsx("h1",{className:"text-sm font-bold text-gray-900 leading-tight",children:n?.displayName||"CareerVivid User"}),D.jsx("p",{className:"text-[10px] uppercase tracking-wide text-primary-600 font-semibold",children:"Pro Plan"})]})]}),D.jsx("button",{onClick:()=>window.open("https://careervivid.app/profile","_blank"),className:"p-2 rounded-full hover:bg-gray-100 text-gray-400 hover:text-gray-600 transition-colors",children:D.jsx(DM,{size:18})})]}),D.jsxs("main",{className:"flex-1 p-5 space-y-6 overflow-y-auto",children:[D.jsxs("div",{className:"bg-white rounded-2xl p-5 shadow-[0_4px_12px_rgba(0,0,0,0.03)] border border-gray-100",children:[D.jsxs("div",{className:"flex items-start justify-between mb-2",children:[D.jsxs("div",{children:[D.jsx("span",{className:"inline-flex items-center gap-1.5 px-2.5 py-1 rounded-full bg-primary-50 text-primary-700 text-[10px] font-bold uppercase tracking-wider mb-2",children:a?"Job Detected":"Ready to Apply"}),D.jsx("h2",{className:"text-lg font-bold text-gray-900 leading-tight",children:a&&d?d.title:"Boost Your Career"}),a&&d&&D.jsx("p",{className:"text-sm text-gray-500 mt-0.5",children:d.company})]}),a&&D.jsx("div",{className:"h-8 w-8 rounded-full bg-blue-50 flex items-center justify-center text-blue-600",children:D.jsx(NM,{size:16})})]}),a?D.jsxs("button",{onClick:()=>m("save_job"),className:"mt-4 w-full flex items-center justify-center gap-2 bg-gray-900 hover:bg-black text-white py-3.5 rounded-xl font-semibold shadow-lg shadow-gray-200 transition-all hover:scale-[1.02] active:scale-[0.98]",children:[D.jsx(qE,{size:18}),D.jsx("span",{children:"Save Job to Tracker"})]}):D.jsxs("button",{onClick:()=>m("new_resume"),className:"mt-4 w-full flex items-center justify-center gap-2 bg-primary-600 hover:bg-primary-700 text-white py-3.5 rounded-xl font-semibold shadow-lg shadow-primary-200 transition-all hover:scale-[1.02] active:scale-[0.98]",children:[D.jsx(qE,{size:18}),D.jsx("span",{children:"Create New Resume"})]})]}),D.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[D.jsxs("button",{onClick:()=>m(a?"tailor_resume":"new_resume"),className:"group flex flex-col items-start p-4 bg-white rounded-2xl border border-gray-100 shadow-[0_2px_8px_rgba(0,0,0,0.02)] hover:shadow-[0_8px_16px_rgba(0,0,0,0.06)] hover:border-primary-100 transition-all duration-300",children:[D.jsx("div",{className:"p-2.5 rounded-xl bg-purple-50 text-purple-600 mb-3 group-hover:scale-110 transition-transform",children:D.jsx(LM,{size:20})}),D.jsx("span",{className:"font-bold text-gray-900 text-sm",children:"Tailor Resume"}),D.jsx("span",{className:"text-[10px] text-gray-500 mt-1",children:"Match keywords"})]}),D.jsxs("button",{onClick:()=>m("practice_interview"),className:"group flex flex-col items-start p-4 bg-white rounded-2xl border border-gray-100 shadow-[0_2px_8px_rgba(0,0,0,0.02)] hover:shadow-[0_8px_16px_rgba(0,0,0,0.06)] hover:border-pink-100 transition-all duration-300",children:[D.jsx("div",{className:"p-2.5 rounded-xl bg-pink-50 text-pink-600 mb-3 group-hover:scale-110 transition-transform",children:D.jsx(yA,{size:20})}),D.jsx("span",{className:"font-bold text-gray-900 text-sm",children:"Practice"}),D.jsx("span",{className:"text-[10px] text-gray-500 mt-1",children:"AI Mock Interview"})]})]}),D.jsxs("div",{children:[D.jsx("div",{className:"flex items-center justify-between mb-3",children:D.jsx("h3",{className:"text-xs font-bold text-gray-400 uppercase tracking-wider",children:"Recent Drafts"})}),D.jsxs("div",{className:"space-y-2",children:[t.slice(0,2).map(g=>D.jsxs("div",{onClick:()=>window.open(`https://careervivid.app/edit/${g.id}`,"_blank"),className:"flex items-center gap-3 p-3 bg-white rounded-xl border border-gray-100 hover:border-primary-300 transition-all cursor-pointer shadow-sm group",children:[D.jsx("div",{className:"h-8 w-8 rounded-lg bg-gray-50 flex items-center justify-center text-gray-400 group-hover:text-primary-600",children:D.jsx(gA,{size:16})}),D.jsxs("div",{className:"flex-1 min-w-0",children:[D.jsx("div",{className:"text-sm font-bold text-gray-900 truncate",children:g.title||"Untitled"}),D.jsxs("div",{className:"text-[10px] text-gray-500",children:["Edited ",g.updatedAt?new Date(g.updatedAt.seconds?g.updatedAt.seconds*1e3:g.updatedAt).toLocaleDateString():"Just now"]})]})]},g.id)),t.length===0&&D.jsx("div",{className:"text-center py-4 bg-gray-50 rounded-xl border border-dashed border-gray-200",children:D.jsx("p",{className:"text-[10px] text-gray-400",children:"No recent resumes."})})]})]})]}),D.jsx("footer",{className:"p-4 bg-white border-t border-gray-100 text-center sticky bottom-0 z-10",children:D.jsxs("button",{onClick:()=>window.open("https://careervivid.app/dashboard","_blank"),className:"text-sm font-semibold text-gray-500 hover:text-primary-600 transition-colors flex items-center justify-center gap-2 w-full",children:[D.jsx("span",{children:"Go to Dashboard"}),D.jsx(xM,{size:14})]})})]})},WE=["__session","session","token"],BM="https://careervivid.app",$M=()=>{const{currentUser:n,loading:e}=Ma(),{theme:t}=wT(),[r,s]=he.useState(null),[a,u]=he.useState(!0);he.useEffect(()=>{(()=>{if(typeof chrome>"u"||!chrome.cookies){u(!1);return}let E=0;const w=WE.length;WE.forEach(A=>{chrome.cookies.get({url:BM,name:A},O=>{if(E++,O&&r!==!0){s(!0),u(!1);return}E===w&&r===null&&(s(!1),u(!1))})})})();const g=E=>{E.type==="AUTH_STATE_CHANGED"&&s(E.isAuthenticated)};if(typeof chrome<"u"&&chrome.runtime)return chrome.runtime.onMessage.addListener(g),()=>chrome.runtime.onMessage.removeListener(g)},[]);const d=n||r===!0;return e&&r===null||a?D.jsx("div",{className:"min-h-[520px] w-[380px] bg-gray-50 flex items-center justify-center",children:D.jsxs("div",{className:"flex flex-col items-center gap-3",children:[D.jsx("div",{className:"h-8 w-8 border-2 border-primary-500 border-t-transparent rounded-full animate-spin"}),D.jsx("p",{className:"text-xs text-gray-400",children:"Loading..."})]})}):d?D.jsx("div",{className:`min-h-[520px] w-[380px] ${t==="dark"?"dark":""}`,children:D.jsx("div",{className:"bg-gray-50 min-h-[520px] text-gray-900",children:D.jsx(zM,{})})}):D.jsx("div",{className:`min-h-[520px] w-[380px] ${t==="dark"?"dark":""}`,children:D.jsx("div",{className:"bg-white min-h-[520px] text-gray-900",children:D.jsx(FM,{})})})},HM=()=>{const{currentUser:n}=Ma(),[e,t]=he.useState([]),[r,s]=he.useState(!0);he.useEffect(()=>{if(!n){t([]),s(!1);return}s(!0);const E=ir(Xe,"users",n.uid,"portfolios"),w=rS(E,iS("updatedAt","desc")),A=Wh(w,O=>{const F=[];O.forEach(M=>{const J=M.data(),se=re=>re?typeof re=="number"?re:typeof re.toMillis=="function"?re.toMillis():re instanceof Date?re.getTime():Date.now():Date.now(),le={id:M.id,userId:J.userId||n.uid,title:J.title||"Untitled Portfolio",templateId:J.templateId||"minimalist",section:J.section||"portfolios",mode:J.mode||"portfolio",linkInBio:J.linkInBio,hero:J.hero||{headline:"",subheadline:"",ctaPrimaryLabel:"",ctaPrimaryUrl:"",ctaSecondaryLabel:"",ctaSecondaryUrl:""},about:J.about||"",timeline:J.timeline||[],education:J.education||[],techStack:J.techStack||[],projects:J.projects||[],socialLinks:J.socialLinks||[],contactEmail:J.contactEmail||"",theme:J.theme||{primaryColor:"#2563eb",darkMode:!1},createdAt:se(J.createdAt),updatedAt:se(J.updatedAt)};F.push(le)}),t(F),s(!1)},O=>{console.error("Error fetching portfolios:",O),s(!1)});return()=>A()},[n]);const a=he.useCallback(E=>e.find(w=>w.id===E),[e]),u=he.useCallback(async E=>{if(n)try{const{id:w,...A}=E,O=await Gs(ir(Xe,"users",n.uid,"portfolios"),{...A,userId:n.uid,section:"portfolios",createdAt:sr(),updatedAt:sr()});return console.log("[usePortfolios] Created portfolio:",O.id),O.id}catch(w){throw console.error("Error creating portfolio:",w),w}},[n]),d=he.useCallback(async(E,w)=>{if(n)try{const A=JSON.parse(JSON.stringify(w));delete A.id,delete A.createdAt,delete A.updatedAt;const O=on(Xe,"users",n.uid,"portfolios",E);await qh(O,{...A,updatedAt:sr()})}catch(A){console.error("Error updating portfolio:",A)}},[n]),f=he.useCallback(async E=>{if(!n)return;const w=on(Xe,"users",n.uid,"portfolios",E);try{await oS(w),console.log("[usePortfolios] Deleted portfolio:",E)}catch(A){console.error("Error deleting portfolio:",A)}},[n]),m=he.useCallback(async E=>{if(!n)return;const w=a(E);if(w)try{const{id:A,createdAt:O,updatedAt:F,...M}=w,J=await Gs(ir(Xe,"users",n.uid,"portfolios"),{...M,title:`${w.title} (Copy)`,section:w.section||"portfolios",createdAt:sr(),updatedAt:sr()});br(`/portfolio/edit/${J.id}`)}catch(A){console.error("Error duplicating portfolio:",A)}},[n,a]),g=he.useCallback(async()=>{if(n)try{const E=ir(Xe,"users",n.uid,"portfolios"),w=lS(Xe),A=await Wh(E,O=>{O.docs.forEach(F=>{w.delete(F.ref)})});await w.commit()}catch(E){throw console.error("Error deleting all portfolios:",E),E}},[n]);return{portfolios:e,isLoading:r,getPortfolioById:a,createPortfolio:u,updatePortfolio:d,deletePortfolio:f,duplicatePortfolio:m,deleteAllPortfolios:g}},qM=()=>{const{currentUser:n}=Ma(),{createPortfolio:e}=HM();he.useEffect(()=>{if(!n)return;(async()=>{for(let r=0;r<localStorage.length;r++){const s=localStorage.key(r);if(s&&s.startsWith("portfolio_"))try{const a=localStorage.getItem(s);if(a){const u=JSON.parse(a);if(u.title&&u.hero){const{id:d,userId:f,...m}=u;await e({...u,userId:n.uid}),localStorage.removeItem(s),console.log(`[Migration] Successfully migrated portfolio: ${s}`)}}}catch(a){console.error(`[Migration] Failed to migrate portfolio ${s}:`,a)}}})()},[n,e])},WM=()=>(he.useEffect(()=>{const n=()=>{const e=window.location.origin+window.location.pathname;let t=document.querySelector("link[rel='canonical']");t||(t=document.createElement("link"),t.setAttribute("rel","canonical"),document.head.appendChild(t)),t.setAttribute("href",e);let r=document.querySelector("meta[property='og:url']");r||(r=document.createElement("meta"),r.setAttribute("property","og:url"),document.head.appendChild(r)),r.setAttribute("content",e)};return n(),window.addEventListener("popstate",n),()=>{window.removeEventListener("popstate",n)}}),null),GM=pe.lazy(()=>Ee(()=>import("./Dashboard-DHpuJeD4.js"),__vite__mapDeps([0,1,2,3,4,5,6,7,8,9,10,11,12,13,14,15,16,17,18,19,20,21,22,23,24,25,26,27,28,29,30,31,32,33,34,35,36,37,38,39,40,41,42,43,44,45,46,47,48,49,50,51,52,53,54,55,56,57,58,59,60,61,62,63,64,65,66,67,68,69,70,71,72,73,74,75,76,77,78,79,80,81,82,83,84,85,86,87,88,89,90,91,92,93,94,95,96,97,98,99,100,101,102,103,104,105,106,107,108,109,110,111,112,113,114,115,116,117]))),GE=pe.lazy(()=>Ee(()=>import("./Editor-DJLUd0Qt.js"),__vite__mapDeps([118,119,17,7,82,107,94,111,6,5,8,120,101,100,11,114,36,29,27,62,15,56,49,58,117,3,25,26,77,28,108,44,45,46,31,39,50,10,54,52,14,22,23,12,53,84,33,72,30,19,4,121,122,123,106,124,38,125,126,112,127,51,105,9,59,89,86,16,92,128,129,73,18]))),KM=pe.lazy(()=>Ee(()=>import("./GenerationHub-CGSmgngB.js"),__vite__mapDeps([130,4,131,113,125,126,112,127,12,51,105,75,16,58]))),QM=pe.lazy(()=>Ee(()=>import("./InterviewStudio-CZUdXxag.js"),__vite__mapDeps([132,131,4,133,1,7,55,107,102,54,9,10,11,12,75,16,58]))),YM=pe.lazy(()=>Ee(()=>import("./ProfilePage-B4kfq69b.js"),__vite__mapDeps([134,1,28,12,53,107,74,63,15]))),JM=pe.lazy(()=>Ee(()=>import("./ChatBot-N4qep5QS.js"),__vite__mapDeps([135,4,7,82,55,100,70,94])));pe.lazy(()=>Ee(()=>import("./AuthPage-DbMidzV9.js"),__vite__mapDeps([136,113,12,53,28,27,66,33,38])));const KE=pe.lazy(()=>Ee(()=>import("./SignInPage-C_XoGWGd.js"),__vite__mapDeps([137,113,12,53,28,27,66,33,38]))),XM=pe.lazy(()=>Ee(()=>import("./SignUpPage-CqjFR19p.js"),__vite__mapDeps([138,113,12,53,28,27,66,33,38]))),ZM=pe.lazy(()=>Ee(()=>import("./LandingPage-C9ShdBM4.js"),__vite__mapDeps([139,140,113,116,12,29,19,11,23,7,81,10,77,141,6,13,80,142,16,101,57,76]))),eU=pe.lazy(()=>Ee(()=>import("./TechLandingPage-ChBXesTA.js"),__vite__mapDeps([143,140,113,116,12,29,19,11,23,7,81,10,77,141,16,100,76,105,57]))),tU=pe.lazy(()=>Ee(()=>import("./PricingPage-C5LzztB_.js"),__vite__mapDeps([144,140,113,116,12,29,19,11,23,7,81,10,77,141,17]))),nU=pe.lazy(()=>Ee(()=>import("./AdminLoginPage-Dg15Ewfg.js"),__vite__mapDeps([145,97,66,33]))),rU=pe.lazy(()=>Ee(()=>import("./AdminPage-DnULgg4c.js"),__vite__mapDeps([146,111,6,59,19,7,122,4,100,17,123,121,106,11,30,72,105,39,15,77,26,104,33,87,101,94,32,107,51,92,28,50,56,142,97,54,82,8]))),iU=pe.lazy(()=>Ee(()=>import("./StrategyDashboard-DW5AeiMY.js"),__vite__mapDeps([147,48,43,96,129,128,6,10,32,8,17,97,60]))),sU=pe.lazy(()=>Ee(()=>import("./AcademicPartnerDashboard-BCC2e1Gg.js"),__vite__mapDeps([148,36,32,47,83,10,30,53,97,11,62,93,49]))),QE=pe.lazy(()=>Ee(()=>import("./VerifyEmailPage-Cfn8oUb4.js"),__vite__mapDeps([149,79]))),oU=pe.lazy(()=>Ee(()=>import("./JobTrackerPage-6w9ioxuD.js"),__vite__mapDeps([150,21,2,3,4,5,6,7,8,9,10,11,12,13,14,15,16,17,18,19,20,53,89]))),aU=pe.lazy(()=>Ee(()=>import("./DemoPage-DpWQqf7v.js"),__vite__mapDeps([151,4,131,7,12,53,93,38]))),lU=pe.lazy(()=>Ee(()=>import("./PdfPreviewPage-DmXXAqt0.js"),__vite__mapDeps([152,117,3,25,26,77,28,94,108,44,45,46,29,31,39,107,50,101]))),YE=pe.lazy(()=>Ee(()=>import("./ContactPage-Ded-VZEF.js"),__vite__mapDeps([153,140,113,116,12,29,19,11,23,7,81,10,77,141,154,70,94,63,48,17]))),JE=pe.lazy(()=>Ee(()=>import("./BlogListPage-BD57tP6b.js"),__vite__mapDeps([155,140,113,116,12,29,19,11,23,7,81,10,77,141,51,49,60,16]))),XE=pe.lazy(()=>Ee(()=>import("./BlogPostPage-CAGRVrkS.js"),__vite__mapDeps([156,140,113,116,12,29,19,11,23,7,81,10,77,141,53,107,49,45,46]))),uU=pe.lazy(()=>Ee(()=>import("./PublicResumePage-CJJ_NBql.js"),__vite__mapDeps([157,140,113,116,12,29,19,11,23,7,81,10,77,141,22,119,17,82,107,94,51,75,78]))),cU=pe.lazy(()=>Ee(()=>import("./SubscriptionPage-Dw8yDlt2.js"),__vite__mapDeps([158,5,6,7,8,16,88,69,82,12,17,100,11,71,53]))),hU=pe.lazy(()=>Ee(()=>import("./PortfolioHub-CTOnwy42.js"),__vite__mapDeps([159,133,126,112,127,12,51,105,9,7,10,11,5,6,8,75,100,61,16,67,58]))),ZE=pe.lazy(()=>Ee(()=>import("./PortfolioEditor-Djj_kYhL.js"),__vite__mapDeps([160,121,110,9,7,10,11,58,83,42,23,85,36,52,86,40,41,14,24,25,26,6,27,16,28,29,30,20,31,32,33,34,35,37,38,39,43,44,45,46,47,48,49,50,51,8,53,54,55,56,57,17,19,59,60,61,62,63,64,65,66,67,68,69,70,71,72,73,74,75,76,77,78,79,80,81,82,84,87,88,89,90,91,92,93,94,95,96,97,98,99,100,101,102,103,15,104,105,106,107,108,13,18,109,111,112,115,5,124,161,162,123,4]))),eT=pe.lazy(()=>Ee(()=>import("./PortfolioBuilderPage-BTiisjEA.js"),__vite__mapDeps([163,100,53,83,42,133]))),dU=pe.lazy(()=>Ee(()=>import("./PublicPortfolioPage-D_kRSaxP.js"),__vite__mapDeps([164,24,25,26,6,7,27,23,16,28,29,30,20,31,32,33,34,35,36,37,38,10,39,40,41,42,43,44,45,46,47,48,49,50,51,8,52,53,54,55,56,57,17,11,19,58,59,60,61,62,63,64,65,66,67,68,69,70,71,72,73,74,75,76,77,78,79,80,81,82,14,83,84,85,86,87,88,89,90,91,92,93,94,95,96,97,98,99,100,101,102,103,15,104,105,106,107,108,13,18,109,110,111,112,161]))),fU=pe.lazy(()=>Ee(()=>import("./PartnerLandingPage-eW2oo_lB.js"),__vite__mapDeps([165,140,113,116,12,29,19,11,23,7,81,10,77,141,91,16,50,56,32,47]))),pU=pe.lazy(()=>Ee(()=>import("./CheckoutSummary-CdJakATe.js"),__vite__mapDeps([166,167]))),mU=pe.lazy(()=>Ee(()=>import("./DropProductGallery-BSQJiEqs.js"),[])),gU=pe.lazy(()=>Ee(()=>import("./AssemblyLinePacking-CThPBZ0h.js"),[])),yU=pe.lazy(()=>Ee(()=>import("./CreateNewDrop-8ebv8Xc4.js"),[])),_U=pe.lazy(()=>Ee(()=>import("./UpcomingDropsFeed-DVZAHP9u.js"),__vite__mapDeps([168,167]))),tT=pe.lazy(()=>Ee(()=>import("./BusinessCardPage-CrYVIWfr.js"),__vite__mapDeps([169,113,129,11,40,41,154,12,70,19,16,10,96]))),nT=pe.lazy(()=>Ee(()=>import("./OrderNfcCardPage-Bm-LP6nc.js"),__vite__mapDeps([170,121,12,53,7,106,73]))),vU=pe.lazy(()=>Ee(()=>import("./AcademicPartnerPage-BQVrhNad.js"),__vite__mapDeps([171,140,113,116,12,29,19,11,23,7,81,10,77,141,50,32,60]))),wU=pe.lazy(()=>Ee(()=>import("./BusinessPartnerPage-CDR35024.js"),__vite__mapDeps([172,140,113,116,12,29,19,11,23,7,81,10,77,141,56,93,103]))),EU=pe.lazy(()=>Ee(()=>import("./StudentAmbassadorPage-CNiTzAjn.js"),__vite__mapDeps([173,140,113,116,12,29,19,11,23,7,81,10,77,141,32,69,34,47]))),TU=pe.lazy(()=>Ee(()=>import("./PartnerApplicationPage-CSxZigs8.js"),__vite__mapDeps([174,140,113,116,12,29,19,11,23,7,81,10,77,141,57,91,50,32,56]))),rT=pe.lazy(()=>Ee(()=>import("./PolicyPage-Ube3Z2zt.js"),__vite__mapDeps([175,140,113,116,12,29,19,11,23,7,81,10,77,141,63,97]))),iT=pe.lazy(()=>Ee(()=>import("./TermsOfServicePage-DNtyEb2p.js"),__vite__mapDeps([176,140,113,116,12,29,19,11,23,7,81,10,77,141,48,63,97,8]))),sT=pe.lazy(()=>Ee(()=>import("./PrivacyPolicyPage-aTJC6z6k.js"),__vite__mapDeps([177,140,113,116,12,29,19,11,23,7,81,10,77,141,33,42,27,17]))),IU=pe.lazy(()=>Ee(()=>import("./HRPartnerPage-jCqRxVZ6.js"),__vite__mapDeps([178,140,113,116,12,29,19,11,23,7,81,10,77,141,16,103,57,32]))),SU=pe.lazy(()=>Ee(()=>import("./BusinessPartnerDashboard-BcbsEqxj.js"),__vite__mapDeps([179,3,180,181,4,113,32,61,33,26,15,7,59,19,17,18,28,49]))),oT=pe.lazy(()=>Ee(()=>import("./JobPostingEditor-DJJEVL9N.js"),__vite__mapDeps([182,180,113,53,92,33,7]))),AU=pe.lazy(()=>Ee(()=>import("./index-By9rQiXV.js"),__vite__mapDeps([183,180,21,1,9,7,10,11,181,15,56,31,65,60,57,89,12,93,90,75,70,94]))),RU=pe.lazy(()=>Ee(()=>import("./IntegrationsPage-DDfx0mYr.js"),__vite__mapDeps([184,141,113,108,17,32,35,90,27,49]))),PU=pe.lazy(()=>Ee(()=>import("./NotFoundPage-Bpa98bPi.js"),__vite__mapDeps([185,140,113,116,12,29,19,11,23,7,81,10,77,141,68,71,53,93]))),aT=pe.lazy(()=>Ee(()=>import("./PermissionDeniedPage-BD3VCTsr.js"),__vite__mapDeps([186,140,113,116,12,29,19,11,23,7,81,10,77,141,95,71,53,28]))),kU=pe.lazy(()=>Ee(()=>import("./ReferralLandingPage-CkHbZYdq.js"),__vite__mapDeps([187,140,113,116,12,29,19,11,23,7,81,10,77,141,69,57,51,100,103]))),CU=pe.lazy(()=>Ee(()=>import("./ReferralPage-wK_wVRKy.js"),__vite__mapDeps([188,12,69,11,62,32,49]))),lT=pe.lazy(()=>Ee(()=>import("./BioLinksPage-ByAMF9iY.js"),__vite__mapDeps([189,12,17,44,45,16,110,41,140,113,116,29,19,11,23,7,81,10,77,141,100,5,6,8]))),bU=pe.lazy(()=>Ee(()=>import("./CommerceDashboard-LBXrU-LY.js"),__vite__mapDeps([162,98,121,7,85,72,106,53,63,34,26,15]))),NU=pe.lazy(()=>Ee(()=>import("./ProductPage-CIeN74R1.js"),__vite__mapDeps([190,98,109,17,53]))),xU=pe.lazy(()=>Ee(()=>import("./GetMoreReview01-D8PsmLPM.js"),__vite__mapDeps([191,64,126,112,105,129,107,20,128,7,93,59]))),uT=pe.lazy(()=>Ee(()=>import("./ServicePortfolioPage-COPaf1dH.js"),__vite__mapDeps([192,129,17,16,37,87,29,94,20,13]))),OU=pe.lazy(()=>Ee(()=>import("./MerchantProductSubmission-C2jKe4O5.js"),[])),rr=()=>D.jsx("div",{className:"flex flex-col justify-center items-center h-screen bg-gray-100 dark:bg-gray-900",children:D.jsx(OM,{className:"w-12 h-12 text-primary-500 animate-spin"})}),DU=({target:n})=>(he.useEffect(()=>{br(n)},[n]),D.jsx(rr,{})),LU=()=>{const{currentUser:n,userProfile:e,loading:t,isAdmin:r,isAdminLoading:s,isEmailVerified:a}=Ma();if(qM(),VM())return D.jsx(kr,{children:D.jsx($M,{})});const[u,d]=he.useState($p());if(he.useEffect(()=>{const w=()=>{d($p())};if(window.addEventListener("popstate",w),w(),window.location.hash&&(window.location.hash.startsWith("#/shared/")||window.location.hash.startsWith("#/portfolio/"))){const A=window.location.hash.substring(1);window.history.replaceState(null,"",A),d($p())}return()=>window.removeEventListener("popstate",w)},[]),u==="/pdf-preview")return D.jsx(kr,{children:D.jsx(he.Suspense,{fallback:D.jsx(rr,{}),children:D.jsx(lU,{})})});if(u.startsWith("/shared/"))return D.jsx(kr,{children:D.jsx(he.Suspense,{fallback:D.jsx(rr,{}),children:D.jsx(uU,{})})});const f=/^\/portfolio\/([^/]+\/)?edit\//.test(u);if(u.startsWith("/portfolio/")&&!f)return D.jsx(kr,{children:D.jsx(he.Suspense,{fallback:D.jsx(rr,{}),children:D.jsx(dU,{})})});if(t||s)return D.jsx(rr,{});if(u.startsWith("/admin")){if(u==="/admin/login"){if(n&&r)return he.useEffect(()=>br("/admin"),[]),null;const w=!!n&&!r;return D.jsx(kr,{children:D.jsx(he.Suspense,{fallback:D.jsx(rr,{}),children:D.jsx(nU,{accessDenied:w})})})}return n&&r?!a&&n.providerData[0]?.providerId==="password"?D.jsx(kr,{children:D.jsx(he.Suspense,{fallback:D.jsx(rr,{}),children:D.jsx(QE,{})})}):u==="/admin/strategy"?D.jsx(kr,{children:D.jsx(he.Suspense,{fallback:D.jsx(rr,{}),children:D.jsx(iU,{})})}):D.jsx(kr,{children:D.jsx(he.Suspense,{fallback:D.jsx(rr,{}),children:D.jsx(rU,{})})}):D.jsx(kr,{children:D.jsx(he.Suspense,{fallback:D.jsx(rr,{}),children:D.jsx(aT,{requiredRole:"Administrator",message:"You need administrator privileges to access this page."})})})}let g,E=!1;if(n)if(!a&&n.providerData[0]?.providerId==="password")g=D.jsx(QE,{});else if(E=!0,u==="/signin"||u.startsWith("/signin?")||u==="/signup"){const A=new URLSearchParams(window.location.search).get("redirect");g=D.jsx(DU,{target:A?decodeURIComponent(A):"/"})}else if(u.startsWith("/edit/")){const w=u.split("/")[2];g=D.jsx(GE,{resumeId:w})}else if(u==="/newresume")g=D.jsx(KM,{});else if(u==="/portfolio")g=D.jsx(hU,{});else if(f)g=D.jsx(ZE,{});else if(u==="/portfolio-builder")g=D.jsx(eT,{});else if(u.startsWith("/interview-studio")){const A=u.split("/")[2];g=D.jsx(QM,{jobId:A})}else if(u==="/tracker")g=D.jsx(oU,{});else if(u==="/profile")g=D.jsx(YM,{});else if(u==="/referrals")g=D.jsx(CU,{});else if(u==="/subscription")g=D.jsx(cU,{});else if(u==="/contact")g=D.jsx(YE,{});else if(u==="/services")g=D.jsx(uT,{});else if(u==="/policy")g=D.jsx(rT,{});else if(u==="/terms")g=D.jsx(iT,{});else if(u==="/privacy")g=D.jsx(sT,{});else if(u==="/business-partner/dashboard")g=D.jsx(SU,{});else if(u.toLowerCase()==="/jobmarket"||u==="/job-market")g=D.jsx(AU,{});else if(u==="/business-partner/jobs/new")g=D.jsx(oT,{});else if(u.startsWith("/business-partner/jobs/")&&u.endsWith("/edit")){const w=u.split("/")[3];g=D.jsx(oT,{jobId:w})}else if(u==="/blog")g=D.jsx(JE,{});else if(u==="/dashboard/integrations")g=D.jsx(RU,{});else if(u.startsWith("/blog/")){const w=u.split("/")[2];g=D.jsx(XE,{postId:w})}else u==="/commerce"?g=D.jsx(bU,{}):u==="/checkout"?g=D.jsx(pU,{}):u.startsWith("/drop/")?g=D.jsx(mU,{}):u==="/merchant/packing"?g=D.jsx(gU,{}):u==="/merchant/new-drop"?g=D.jsx(yU,{}):u==="/feed"?g=D.jsx(_U,{}):u==="/merchant/submit"?g=D.jsx(OU,{}):u==="/academic-partner"?e?.role==="academic_partner"||r?g=D.jsx(sU,{}):g=D.jsx(aT,{requiredRole:"Academic Partner",message:"This page is only accessible to academic partners."}):u==="/order-nfc-card"?g=D.jsx(nT,{}):u==="/bio-links"?g=D.jsx(lT,{}):u==="/business-card"?g=D.jsx(tT,{}):g=D.jsx(GM,{});else if(u==="/signin")g=D.jsx(KE,{});else if(u==="/signup")g=D.jsx(XM,{});else if(u==="/auth")window.location.href="/signin",g=D.jsx(KE,{});else if(u==="/pricing")g=D.jsx(tU,{});else if(u==="/demo")g=D.jsx(aU,{});else if(u==="/contact")g=D.jsx(YE,{});else if(u==="/services")g=D.jsx(uT,{});else if(u==="/policy")g=D.jsx(rT,{});else if(u==="/terms")g=D.jsx(iT,{});else if(u==="/privacy")g=D.jsx(sT,{});else if(u==="/referral")g=D.jsx(kU,{});else if(u==="/bio-links")g=D.jsx(lT,{});else if(u==="/bio-links/template/ticktok/get-more-review01")g=D.jsx(xU,{});else if(f)g=D.jsx(ZE,{});else if(u==="/portfolio-builder")g=D.jsx(eT,{});else if(u==="/blog")g=D.jsx(JE,{});else if(u.startsWith("/blog/")){const w=u.split("/")[2];g=D.jsx(XE,{postId:w})}else u.startsWith("/edit/guest")?g=D.jsx(GE,{resumeId:"guest"}):u==="/tech-preview"?g=D.jsx(eU,{}):u==="/partners"?g=D.jsx(fU,{}):u==="/partners/academic"?g=D.jsx(vU,{}):u==="/partners/business"?g=D.jsx(wU,{}):u==="/partners/students"?g=D.jsx(EU,{}):u==="/partners/hiring"?g=D.jsx(IU,{}):u==="/partners/apply"?g=D.jsx(TU,{}):u==="/business-card"?g=D.jsx(tT,{}):u==="/order-nfc-card"?g=D.jsx(nT,{}):u==="/"||u===""?g=D.jsx(ZM,{}):u.startsWith("/p/")?g=D.jsx(NU,{}):g=D.jsx(PU,{});return D.jsx(kr,{children:D.jsx(PM,{children:D.jsxs("div",{className:"min-h-screen bg-gray-100 dark:bg-gray-950 text-gray-800 dark:text-gray-200 font-sans",children:[D.jsx(WM,{}),D.jsxs(he.Suspense,{fallback:D.jsx(rr,{}),children:[g,E&&D.jsx(JM,{})]})]})})})},_A=document.getElementById("root");if(!_A)throw new Error("Could not find root element to mount to");const VU=DR.createRoot(_A);VU.render(D.jsx(pe.StrictMode,{children:D.jsx(yT,{children:D.jsx(RM,{children:D.jsx(LU,{})})})}));export{UF as $,iS as A,qh as B,FF as C,oS as D,xM as E,gA as F,lS as G,Ra as H,NR as I,qF as J,KF as K,OM as L,yA as M,HF as N,GF as O,BF as P,$F as Q,pe as R,Jh as S,it as T,NM as U,o4 as V,LM as W,nV as X,bM as Y,qE as Z,Ee as _,jM as a,pF as a$,eS as a0,lo as a1,eC as a2,fF as a3,EF as a4,FU as a5,dC as a6,YF as a7,EE as a8,HM as a9,Xi as aA,zU as aB,Zi as aC,fi as aD,_h as aE,HU as aF,Qs as aG,fa as aH,bb as aI,BU as aJ,AF as aK,em as aL,$U as aM,Nb as aN,Jm as aO,es as aP,tF as aQ,hC as aR,SF as aS,wC as aT,Cb as aU,mI as aV,nC as aW,eF as aX,Nk as aY,WU as aZ,lF as a_,zF as aa,i4 as ab,s4 as ac,DM as ad,JF as ae,Tu as af,r4 as ag,n4 as ah,t4 as ai,e4 as aj,ZF as ak,MU as al,Rm as am,XF as an,ii as ao,Ql as ap,uM as aq,GV as ar,UU as as,Ub as at,XU as au,qU as av,Pu as aw,Ru as ax,GU as ay,uu as az,wE as b,Se as b$,KU as b0,rk as b1,TF as b2,VF as b3,zv as b4,OC as b5,Ck as b6,gF as b7,oF as b8,Zk as b9,yF as bA,cF as bB,nF as bC,tD as bD,Hn as bE,as as bF,mt as bG,Ys as bH,bd as bI,La as bJ,Ur as bK,ue as bL,Vr as bM,vi as bN,Lg as bO,Dg as bP,Rh as bQ,xd as bR,Mg as bS,Vg as bT,Js as bU,Gl as bV,lr as bW,iD as bX,Zm as bY,Ht as bZ,pu as b_,PF as ba,xF as bb,LF as bc,IF as bd,cC as be,QU as bf,q1 as bg,kF as bh,NF as bi,DF as bj,ok as bk,wF as bl,sF as bm,mF as bn,YU as bo,jm as bp,aF as bq,RF as br,OF as bs,fC as bt,JU as bu,vF as bv,dF as bw,CF as bx,hF as by,_F as bz,rF as c,$b as c0,$t as c1,ln as c2,ya as c3,Zb as c4,WO as c5,Lu as c6,Uu as c7,GO as c8,vn as c9,rV as ca,WF as cb,uF as d,Fg as e,on as f,Xe as g,sr as h,ZU as i,D as j,bF as k,QF as l,Kl as m,ir as n,sD as o,br as p,rS as q,he as r,iF as s,aV as t,Ma as u,Wh as v,jF as w,Gs as x,wT as y,wi as z};
