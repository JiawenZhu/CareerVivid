const __vite__mapDeps=(i,m=__vite__mapDeps,d=(m.f||(m.f=["assets/InterviewReportModal-DHFxkgf9.js","assets/main-Bi0Ei0w3.js","assets/FeedbackModal-BwqKd_an.js","assets/x-BVB0Dpji.js","assets/check-circle-D957SXgC.js","assets/star-DKH07wdV.js","assets/bot-DSb0l_Gf.js","assets/bar-chart-Cxzz4oii.js","assets/download-D6SFpw_f.js"])))=>i.map(i=>d[i]);
import{r as o,j as e,p as P,R as We,a9 as gr,u as ur,f as q,g as W,v as xr,L as Ee,a as pr,M as ze,F as fr,W as Ae,U as hr,ad as Oe,e as Fe,D as br,G as yr,_ as vr}from"./main-Bi0Ei0w3.js";import{u as kr}from"./useResumes-B7mK0cuD.js";import{u as jr}from"./useJobHistory-EOzqIq_m.js";import{S as wr,K as Nr,J as Sr}from"./KanbanBoard-C_B16urf.js";import{u as Cr}from"./useJobTracker-Dx1sdM-d.js";import{T as Tr}from"./ThemeToggle-BBy-4iWl.js";import{C as Je}from"./ConfirmationModal-B6wF7Rbq.js";import{T as Ue,a as Dr,P as Ge,F as $e}from"./index-JvRjm1I4.js";import{g as Rr}from"./index-DZXmDlCI.js";import{C as Ve}from"./copy-Ctg5viPO.js";import{T as Q}from"./trash-2-DdUTv7KT.js";import{S as Ye}from"./share-2-5k-1k_RB.js";import{S as Ir}from"./ShareResumeModal-B2Hplybl.js";import{u as Pr,a as He,D as _r,c as Mr,S as Lr,v as Er,b as zr,s as Ar,K as Or,P as Fr,d as Jr,C as Ur,e as $r}from"./sortable.esm-oIT0bQ0I.js";import{X as Hr}from"./x-BVB0Dpji.js";import{C as Br}from"./check-B3yF-HgQ.js";import{G as Xe}from"./undo-kci31eRs.js";import{L as Kr}from"./LanguageSelect-Cj0_3R1W.js";import{S as je}from"./sparkles-DKtVAHMK.js";import{R as Wr}from"./ResumePreview-DDWIOQcJ.js";import{E as Gr}from"./external-link-neXkVJuu.js";import{B as Vr}from"./bar-chart-Cxzz4oii.js";import{u as Yr}from"./useTranslation-B90S8UVY.js";import{P as ke}from"./plus-circle-BID7K_rJ.js";import{C as Xr}from"./chevron-down-Ca9bpypi.js";import{G as qr}from"./globe-cx_xjewK.js";import{L as Qr}from"./layout-dashboard-ByEmL4ZA.js";import"./types-C3IBSKjb.js";import"./geminiService-BYmLfnZm.js";import"./useAICreditCheck-BMgBfCvH.js";import"./zap-BQ5sSLdF.js";import"./volume-2-CWjJsluY.js";import"./square-C379bsky.js";import"./wand-2-DAhyBf_Z.js";import"./arrow-right-6YPb1yqF.js";import"./check-circle-D957SXgC.js";import"./x-circle-CxMxRQAw.js";import"./play-DVOSIuGe.js";import"./sun-g71IOdRO.js";import"./index-DcFGchuU.js";import"./alert-triangle-MW47iQO1.js";import"./InlineEdit-DZd6Scr2.js";import"./pen-BDBs_6MJ.js";import"./lock-U6skUTSX.js";import"./mail-TURoK-Rd.js";import"./download-D6SFpw_f.js";import"./map-pin-DPpu8ZWV.js";import"./users-DagC7-ml.js";import"./eye-Ks_VpovG.js";import"./trending-up-D0rHZCji.js";import"./music-CD4LfeBt.js";import"./terminal-gy7eb2-N.js";import"./code-ClBPHmQt.js";import"./cardTemplates-B0OrrjBc.js";import"./stockPhotos-DkxhX0el.js";import"./smartphone-Bs9I7iS9.js";import"./layout-grid-PVPD0WxJ.js";import"./youtube-DPssPfR1.js";import"./twitter-BrsgoJMC.js";import"./linkedin-DJ3yEV_I.js";import"./award-BNfQ991F.js";import"./activity-K-54Ez0K.js";import"./calendar-CutJ-oMs.js";import"./graduation-cap-e9Lh-ZpC.js";import"./alert-circle-C27T-kzG.js";import"./arrow-left-TCHtPuDE.js";import"./bar-chart-3-C3Jx8ryh.js";import"./bot-DSb0l_Gf.js";import"./building-2-CIHjYkPv.js";import"./check-circle-2-34LvQiKB.js";import"./chevron-left-BjtlRDE1.js";import"./chevron-up-CiErZQw3.js";import"./clock-D1CHQ9zP.js";import"./code-2-Dkc7GTNQ.js";import"./credit-card-NEFea8JW.js";import"./confetti.module-DVGOVhuI.js";import"./dollar-sign-DzNdP9uA.js";import"./eye-off-BT8a98df.js";import"./file-code-uG6uZ0_e.js";import"./file-question-CnSMxmzP.js";import"./gift-DBAgIoc1.js";import"./help-circle-BUBwBwEx.js";import"./image-D5NNOkEx.js";import"./info-DhHZJmFp.js";import"./key-round-Bi0Etawh.js";import"./layout-template-Cb8aid89.js";import"./link-BhQT70ww.js";import"./log-out-N5sficnl.js";import"./mail-check-Ca-XmVtE.js";import"./volume-x-DOVC_tw9.js";import"./menu-DdXwCEL7.js";import"./message-square-B3pLJ_-8.js";import"./monitor-BNQ-AdM8.js";import"./more-vertical-5K-OMTGr.js";import"./store-KdD1zq5_.js";import"./palette-CgeLfhC3.js";import"./pen-tool-CJ0S_gCC.js";import"./percent-B43c6ypi.js";import"./refresh-cw-DY32XjOM.js";import"./rocket-Dq-QQe-O.js";import"./save-CJeSVVE0.js";import"./search-81kCQAS9.js";import"./send-B-WXdUxM.js";import"./thumbs-up-DIZO9jd_.js";import"./shield-alert-CR3cD6gc.js";import"./shield-check-XdvqUlmA.js";import"./shield-D8jVxe4m.js";import"./productService-BhTKM8RX.js";import"./star-DKH07wdV.js";import"./stop-circle-D01e3zZi.js";import"./target-DF6wfNVB.js";import"./unlink-F8-J2xYy.js";import"./upload-cloud-FT8IZRv8.js";import"./upload-B4M7IYxU.js";import"./video-DvvOWLCy.js";import"./stripeService-ByGudE7C.js";import"./AlertModal-CxmE_u7v.js";import"./index-Chjiymov.js";const Zr=({portfolio:t,onUpdate:c,onDuplicate:k,onDelete:w,onShare:p,onDragStart:h})=>{const[g,b]=o.useState(!1),[j,y]=o.useState(t.title),T=o.useRef(null),[E,_]=o.useState(.15),D=t.mode==="linkinbio",A=D?"aspect-[9/16]":"aspect-video",N=D?430:1200,J=D?932:675;o.useLayoutEffect(()=>{const L=()=>{if(T.current){const Z=T.current.offsetWidth;Z>0&&_(Z/N)}};L();const C=new ResizeObserver(L);return T.current&&C.observe(T.current),()=>C.disconnect()},[N]);const S=()=>{P(`/portfolio/edit/${t.id}`)},U=()=>{j.trim()===""?y(t.title):c(t.id,{title:j}),b(!1)},G=Ue[t.templateId]||Ue.minimalist,ne=D&&t.linkInBio?.themeId?Rr(t.linkInBio.themeId):void 0;return e.jsxs("div",{draggable:!0,onDragStart:h,className:"bg-white dark:bg-gray-800 rounded-xl shadow-soft hover:shadow-lg transition-all duration-300 flex flex-col cursor-grab active:cursor-grabbing transform hover:-translate-y-1",children:[e.jsxs("div",{onClick:g?void 0:S,className:"block p-4 border-b border-gray-200 dark:border-gray-700 hover:bg-gray-50 dark:hover:bg-gray-800/40 flex-grow cursor-pointer rounded-t-xl",children:[e.jsx("div",{ref:T,className:`w-full ${A} bg-gray-200 dark:bg-gray-700 rounded-lg mb-4 overflow-hidden relative`,children:e.jsx("div",{style:{position:"absolute",top:0,left:0,width:`${N}px`,height:`${J}px`,transform:`scale(${E})`,transformOrigin:"top left"},children:D&&t.linkInBio&&ne?e.jsx(Dr,{data:t}):e.jsx(G,{data:t})})}),g?e.jsx("input",{type:"text",value:j,onChange:L=>y(L.target.value),onBlur:U,onKeyDown:L=>{L.key==="Enter"&&U(),L.key==="Escape"&&(y(t.title),b(!1))},autoFocus:!0,className:"font-bold text-lg text-gray-800 dark:text-gray-100 truncate w-full border rounded-md px-2 py-0.5 bg-gray-100 dark:bg-gray-700 border-gray-300 dark:border-gray-600 focus:ring-2 focus:ring-primary-500 focus:outline-none"}):e.jsx("h3",{onDoubleClick:L=>{L.stopPropagation(),b(!0)},className:"font-bold text-lg text-gray-800 dark:text-gray-100 truncate",title:"Double-click to rename",children:t.title}),e.jsxs("p",{className:"text-sm text-gray-500 dark:text-gray-400",children:["Updated ",new Date(t.updatedAt).toLocaleString()]})]}),e.jsxs("div",{className:"p-2 flex justify-between items-center bg-gray-50 dark:bg-gray-800/50 rounded-b-xl",children:[e.jsxs("div",{className:"flex gap-1",children:[e.jsx("button",{onClick:S,title:"Edit Portfolio",className:"p-2 block rounded-md hover:bg-gray-200 dark:hover:bg-gray-700 text-gray-600 dark:text-gray-300 transition-colors",children:e.jsx(Ge,{size:16})}),e.jsx("button",{onClick:()=>k(t.id),title:"Duplicate Portfolio",className:"p-2 rounded-md hover:bg-gray-200 dark:hover:bg-gray-700 text-gray-600 dark:text-gray-300 transition-colors",children:e.jsx(Ve,{size:16})}),e.jsx("button",{onClick:()=>w(t.id),title:"Delete Portfolio",className:"p-2 rounded-md hover:bg-red-100 dark:hover:bg-red-900/50 text-red-600 dark:text-red-400 transition-colors",children:e.jsx(Q,{size:16})})]}),e.jsx("button",{onClick:()=>p(t),title:"Share Portfolio",className:"p-2 rounded-md hover:bg-primary-100 dark:hover:bg-primary-900/30 text-gray-600 dark:text-gray-300 hover:text-primary-600 dark:hover:text-primary-400 transition-colors",children:e.jsx(Ye,{size:16})})]})]})},et=({id:t,title:c})=>{const{attributes:k,listeners:w,setNodeRef:p,transform:h,transition:g,isDragging:b}=Jr({id:t}),j={transform:Ur.Transform.toString(h),transition:g,zIndex:b?10:1,opacity:b?.8:1};return e.jsxs("div",{ref:p,style:j,...k,...w,className:`flex items-center gap-3 p-4 bg-white dark:bg-gray-800 border border-gray-200 dark:border-gray-700 rounded-lg shadow-sm mb-2 touch-none cursor-grab active:cursor-grabbing ${b?"shadow-lg ring-2 ring-primary-500":""}`,children:[e.jsx(Xe,{className:"text-gray-400",size:20}),e.jsx("span",{className:"text-gray-900 dark:text-gray-100 font-medium",children:c})]})},rt=({isOpen:t,onClose:c,folders:k,onSave:w})=>{const[p,h]=o.useState(k);We.useEffect(()=>{h(k)},[k,t]);const g=Pr(He(Fr),He(Or,{coordinateGetter:Ar})),b=y=>{const{active:T,over:E}=y;T.id!==E?.id&&h(_=>{const D=_.findIndex(N=>N.id===T.id),A=_.findIndex(N=>N.id===E?.id);return zr(_,D,A)})},j=()=>{w(p),c()};return t?e.jsx("div",{className:"fixed inset-0 z-50 flex items-center justify-center bg-black/50 backdrop-blur-sm p-4",children:e.jsxs("div",{className:"bg-white dark:bg-gray-900 rounded-2xl w-full max-w-md max-h-[80vh] flex flex-col shadow-2xl animate-fade-in-up",children:[e.jsxs("div",{className:"flex justify-between items-center p-6 border-b border-gray-100 dark:border-gray-800",children:[e.jsx("h2",{className:"text-xl font-bold text-gray-900 dark:text-white",children:"Reorder Folders"}),e.jsx("button",{onClick:c,className:"text-gray-500 hover:text-gray-700 dark:text-gray-400 dark:hover:text-gray-200 transition-colors",children:e.jsx(Hr,{size:24})})]}),e.jsxs("div",{className:"p-6 overflow-y-auto flex-1",children:[e.jsx("p",{className:"text-sm text-gray-500 dark:text-gray-400 mb-4",children:"Drag and drop items to reorder your folders."}),e.jsx(_r,{sensors:g,collisionDetection:Mr,onDragEnd:b,children:e.jsx(Lr,{items:p.map(y=>y.id),strategy:Er,children:p.map(y=>e.jsx(et,{id:y.id,title:y.title},y.id))})})]}),e.jsxs("div",{className:"p-6 border-t border-gray-100 dark:border-gray-800 bg-gray-50 dark:bg-gray-800/50 rounded-b-2xl flex justify-end gap-3 transition-colors",children:[e.jsx("button",{onClick:c,className:"px-5 py-2.5 rounded-xl text-gray-700 dark:text-gray-300 font-medium hover:bg-gray-200 dark:hover:bg-gray-700 transition-colors",children:"Cancel"}),e.jsxs("button",{onClick:j,className:"px-5 py-2.5 rounded-xl bg-primary-600 hover:bg-primary-700 text-white font-medium shadow-lg shadow-primary-500/20 transition-all active:scale-95 flex items-center gap-2",children:[e.jsx(Br,{size:18}),"Save Changes"]})]})]})}):null},Be=({used:t,limit:c,isPremium:k,onUpgradeClick:w,variant:p="default"})=>{const h=c>0?t/c*100:0,g=c-t,b=()=>h>=90?"from-red-500 to-red-600":h>=70?"from-orange-500 to-orange-600":"from-blue-500 to-purple-600",j=()=>h>=90?"text-red-600 dark:text-red-400":h>=70?"text-orange-600 dark:text-orange-400":"text-gray-700 dark:text-gray-400";if(p==="compact")return e.jsxs("button",{onClick:w,className:"flex items-center gap-1.5 px-2.5 py-1.5 bg-gray-100 dark:bg-gray-800 rounded-full border border-gray-200 dark:border-gray-700 hover:bg-gray-200 dark:hover:bg-gray-700 transition-colors",title:`${g} credits remaining`,children:[e.jsx(je,{className:"text-blue-500 dark:text-blue-400",size:14}),e.jsxs("span",{className:`text-xs font-semibold ${j()}`,children:[t,"/",c]})]});if(p==="mobile-line")return e.jsxs("div",{className:"w-full flex flex-col gap-1 py-1",onClick:w,children:[e.jsxs("div",{className:"flex items-center justify-between px-1",children:[e.jsx("span",{className:"text-[10px] font-semibold text-gray-500 dark:text-gray-400 uppercase tracking-wider",children:"AI Credits"}),e.jsxs("span",{className:`text-[10px] font-bold ${j()}`,children:[t,"/",c]})]}),e.jsx("div",{className:"relative w-full h-1.5 bg-gray-200 dark:bg-gray-700 rounded-full overflow-hidden",children:e.jsx("div",{className:`h-full bg-gradient-to-r ${b()} transition-all duration-300`,style:{width:`${Math.min(h,100)}%`}})})]});const y=p==="default"?"bg-white dark:bg-gray-800/50 border border-gray-200 dark:border-gray-700 rounded-lg p-3 shadow-sm":"w-full";return e.jsxs("div",{className:y,children:[e.jsxs("div",{className:`flex items-center justify-between ${p==="default"?"mb-1.5":"mb-1"}`,children:[e.jsxs("div",{className:"flex items-center gap-1.5",children:[e.jsx(je,{className:"text-blue-500 dark:text-blue-400",size:14}),e.jsx("span",{className:"text-xs font-semibold text-gray-900 dark:text-white",children:"AI Credits"})]}),g<=Math.min(c*.3,10)&&g>0&&!k&&e.jsx("button",{onClick:w,className:"text-[10px] px-1.5 py-0.5 bg-gradient-to-r from-amber-500 to-amber-600 text-white rounded hover:from-amber-600 hover:to-amber-700 transition-all font-semibold",children:"Upgrade"})]}),e.jsx("div",{className:`relative w-full ${p==="default"?"h-1.5 mb-1.5":"h-1.5 mb-1"} bg-gray-200 dark:bg-gray-700 rounded-full overflow-hidden`,children:e.jsx("div",{className:`h-full bg-gradient-to-r ${b()} transition-all duration-300`,style:{width:`${Math.min(h,100)}%`}})}),e.jsxs("div",{className:"flex items-center justify-between text-[10px]",children:[e.jsxs("span",{className:`font-medium ${j()}`,children:[t,"/",c," used"]}),g>0?e.jsxs("span",{className:"text-gray-500 dark:text-gray-500",children:[g," left"]}):e.jsx("span",{className:"text-red-600 dark:text-red-400 font-semibold",children:"Limit reached"})]})]})},tt=({resume:t,onUpdate:c,onDuplicate:k,onDelete:w,onShare:p,onDragStart:h})=>{const[g,b]=o.useState(!1),[j,y]=o.useState(t.title),T=o.useRef(null),[E,_]=o.useState(.2);o.useLayoutEffect(()=>{const N=()=>{if(T.current){const S=T.current.offsetWidth;S>0&&_(S/824)}};N();const J=new ResizeObserver(N);return T.current&&J.observe(T.current),()=>J.disconnect()},[]);const D=()=>{P(`/edit/${t.id}`)},A=()=>{j.trim()===""?y(t.title):c(t.id,{title:j}),b(!1)};return e.jsxs("div",{draggable:!0,onDragStart:h,className:"bg-white dark:bg-gray-800 rounded-xl shadow-soft hover:shadow-lg transition-all duration-300 flex flex-col cursor-grab active:cursor-grabbing transform hover:-translate-y-1",children:[e.jsxs("div",{onClick:g?void 0:D,className:"block p-4 border-b border-gray-200 dark:border-gray-700 hover:bg-gray-50 dark:hover:bg-gray-800/40 flex-grow cursor-pointer rounded-t-xl",children:[e.jsx("div",{ref:T,className:"w-full aspect-[210/297] bg-gray-200 dark:bg-gray-700 rounded-lg mb-4 overflow-hidden relative",children:e.jsx("div",{style:{position:"absolute",top:0,left:0,width:"824px",height:"1165px",transform:`scale(${E})`,transformOrigin:"top left"},children:e.jsx(Wr,{resume:t,template:t.templateId})})}),g?e.jsx("input",{type:"text",value:j,onChange:N=>y(N.target.value),onBlur:A,onKeyDown:N=>{N.key==="Enter"&&A(),N.key==="Escape"&&(y(t.title),b(!1))},autoFocus:!0,className:"font-bold text-lg text-gray-800 dark:text-gray-100 truncate w-full border rounded-md px-2 py-0.5 bg-gray-100 dark:bg-gray-700 border-gray-300 dark:border-gray-600 focus:ring-2 focus:ring-primary-500 focus:outline-none"}):e.jsx("h3",{onDoubleClick:N=>{N.stopPropagation(),b(!0)},className:"font-bold text-lg text-gray-800 dark:text-gray-100 truncate",title:"Double-click to rename",children:t.title}),e.jsxs("p",{className:"text-sm text-gray-500 dark:text-gray-400",children:["Updated ",new Date(t.updatedAt).toLocaleString()]})]}),e.jsxs("div",{className:"p-2 flex justify-between items-center bg-gray-50 dark:bg-gray-800/50 rounded-b-xl",children:[e.jsxs("div",{className:"flex gap-1",children:[e.jsx("button",{onClick:D,title:"Edit Resume",className:"p-2 block rounded-md hover:bg-gray-200 dark:hover:bg-gray-700 text-gray-600 dark:text-gray-300 transition-colors",children:e.jsx(Ge,{size:16})}),e.jsx("button",{onClick:()=>k(t.id),title:"Duplicate Resume",className:"p-2 rounded-md hover:bg-gray-200 dark:hover:bg-gray-700 text-gray-600 dark:text-gray-300 transition-colors",children:e.jsx(Ve,{size:16})}),e.jsx("button",{onClick:()=>w(t.id),title:"Delete Resume",className:"p-2 rounded-md hover:bg-red-100 dark:hover:bg-red-900/50 text-red-600 dark:text-red-400 transition-colors",children:e.jsx(Q,{size:16})})]}),e.jsx("button",{onClick:()=>p(t),title:"Share Resume",className:"p-2 rounded-md hover:bg-primary-100 dark:hover:bg-primary-900/30 text-gray-600 dark:text-gray-300 hover:text-primary-600 dark:hover:text-primary-400 transition-colors",children:e.jsx(Ye,{size:16})})]})]})},at=({entry:t,onShowReport:c,onDelete:k,onDragStart:w})=>{const p=()=>{sessionStorage.setItem("practiceJob",JSON.stringify(t)),P("/interview-studio")},h=g=>g?(g.toDate?g.toDate():new Date(g)).toLocaleDateString():"N/A";return e.jsxs("div",{draggable:!0,onDragStart:w,className:"bg-white dark:bg-gray-800 rounded-xl shadow-soft hover:shadow-lg transition-all duration-300 flex flex-col p-4 relative group cursor-grab active:cursor-grabbing transform hover:-translate-y-1",children:[e.jsxs("div",{className:"flex justify-between items-start mb-2",children:[e.jsxs("div",{children:[e.jsxs("h3",{className:"font-bold text-lg text-gray-800 dark:text-gray-100 flex items-center",children:[t.job.title,t.job.url&&e.jsx("a",{href:t.job.url,target:"_blank",rel:"noopener noreferrer",className:"ml-2 text-gray-400 hover:text-primary-500",children:e.jsx(Gr,{size:16})})]}),e.jsx("p",{className:"text-sm text-gray-600 dark:text-gray-300",children:t.job.company})]}),t.interviewHistory?.length>0&&e.jsxs("div",{className:"bg-primary-100 text-primary-800 dark:bg-primary-900/50 dark:text-primary-300 text-xs font-semibold px-2.5 py-1 rounded-full",children:[t.interviewHistory.length," practice",t.interviewHistory.length>1?"s":""]})]}),e.jsxs("p",{className:"text-xs text-gray-500 dark:text-gray-400 mb-4",children:["Last activity: ",h(t.timestamp)]}),e.jsxs("div",{className:"mt-auto flex justify-between items-center",children:[e.jsx("button",{onClick:()=>k(t.id),className:"p-2 rounded-full text-gray-500 dark:text-gray-400 hover:bg-red-100 dark:hover:bg-red-900/50 hover:text-red-600 dark:hover:text-red-400 transition-colors",title:"Delete this history entry",children:e.jsx(Q,{size:18})}),e.jsxs("div",{className:"flex gap-2",children:[e.jsxs("button",{onClick:p,className:"flex items-center gap-2 text-sm font-semibold bg-gray-100 dark:bg-gray-700 hover:bg-gray-200 dark:hover:bg-gray-600 px-3 py-2 rounded-lg transition-colors",children:[e.jsx(je,{size:16})," Practice Again"]}),e.jsxs("button",{onClick:()=>c(t),disabled:!t.interviewHistory||t.interviewHistory.length===0,className:"flex items-center gap-2 text-sm font-semibold bg-indigo-100 text-indigo-800 dark:bg-indigo-900/50 dark:text-indigo-300 hover:bg-indigo-200 dark:hover:bg-indigo-900/80 px-3 py-2 rounded-lg transition-colors disabled:opacity-50 disabled:cursor-not-allowed",children:[e.jsx(Vr,{size:16})," Report"]})]})]})]})},st=({job:t,onClick:c,onDelete:k,onDragStart:w})=>e.jsxs("div",{draggable:!0,onDragStart:w,onClick:c,className:"bg-white dark:bg-gray-800 rounded-xl shadow-soft hover:shadow-lg transition-all duration-300 flex flex-col p-4 relative group cursor-pointer transform hover:-translate-y-1",children:[e.jsxs("div",{className:"flex justify-between items-start mb-2",children:[e.jsxs("div",{children:[e.jsx("h3",{className:"font-bold text-lg text-gray-800 dark:text-gray-100",children:t.jobTitle}),e.jsx("p",{className:"text-sm text-gray-600 dark:text-gray-300",children:t.companyName})]}),e.jsx("div",{className:"bg-gray-100 text-gray-800 dark:bg-gray-700 dark:text-gray-300 text-xs font-semibold px-2.5 py-1 rounded-full",children:t.applicationStatus})]}),e.jsxs("p",{className:"text-xs text-gray-500 dark:text-gray-400 mb-4",children:["Updated: ",t.updatedAt?.toDate?t.updatedAt.toDate().toLocaleDateString():new Date(t.updatedAt).toLocaleDateString()]}),e.jsx("div",{className:"mt-auto flex justify-end",children:e.jsx("button",{onClick:p=>{p.stopPropagation(),k(t.id)},className:"p-2 rounded-full text-gray-500 dark:text-gray-400 hover:bg-red-100 dark:hover:bg-red-900/50 hover:text-red-600 dark:hover:text-red-400 transition-opacity opacity-0 group-hover:opacity-100",title:"Delete this job application",children:e.jsx(Q,{size:18})})})]}),ot=({title:t,onSave:c,isEditable:k})=>{const[w,p]=o.useState(!1),[h,g]=o.useState(t);o.useEffect(()=>{g(t)},[t]);const b=()=>{h.trim()&&h.trim()!==t?c(h.trim()):g(t),p(!1)},j=y=>{y.key==="Enter"&&b(),y.key==="Escape"&&(g(t),p(!1))};return w&&k?e.jsx("input",{type:"text",value:h,onChange:y=>g(y.target.value),onBlur:b,onKeyDown:j,autoFocus:!0,className:"text-2xl font-bold text-gray-800 dark:text-gray-100 bg-transparent border-b-2 border-primary-500 focus:outline-none"}):e.jsx("h2",{onDoubleClick:()=>k&&p(!0),className:`text-2xl font-bold text-gray-800 dark:text-gray-100 ${k?"cursor-text":""}`,title:k?"Double-click to rename":"",children:h})},Ke=()=>e.jsxs("div",{className:"bg-white dark:bg-gray-800 rounded-xl shadow-soft flex flex-col",children:[e.jsxs("div",{className:"p-4 border-b border-gray-200 dark:border-gray-700",children:[e.jsx("div",{className:"w-full aspect-[210/297] bg-gray-200 dark:bg-gray-700 rounded-lg mb-4 animate-pulse"}),e.jsx("div",{className:"h-5 w-3/4 bg-gray-300 dark:bg-gray-700 rounded animate-pulse mb-2"}),e.jsx("div",{className:"h-4 w-1/2 bg-gray-200 dark:bg-gray-700 rounded animate-pulse"})]}),e.jsxs("div",{className:"p-2 flex justify-between items-center bg-gray-50 dark:bg-gray-800/50 rounded-b-xl",children:[e.jsxs("div",{className:"flex gap-1",children:[e.jsx("div",{className:"w-8 h-8 bg-gray-300 dark:bg-gray-700 rounded-md animate-pulse"}),e.jsx("div",{className:"w-8 h-8 bg-gray-300 dark:bg-gray-700 rounded-md animate-pulse"}),e.jsx("div",{className:"w-8 h-8 bg-gray-300 dark:bg-gray-700 rounded-md animate-pulse"})]}),e.jsx("div",{className:"w-8 h-8 bg-gray-300 dark:bg-gray-700 rounded-md animate-pulse"})]})]}),it=()=>e.jsxs("div",{className:"bg-white dark:bg-gray-800 rounded-xl shadow-soft p-4 animate-pulse",children:[e.jsxs("div",{className:"flex justify-between items-start mb-2",children:[e.jsxs("div",{children:[e.jsx("div",{className:"h-5 w-40 bg-gray-300 dark:bg-gray-700 rounded mb-2"}),e.jsx("div",{className:"h-4 w-24 bg-gray-300 dark:bg-gray-700 rounded"})]}),e.jsx("div",{className:"h-5 w-20 bg-gray-300 dark:bg-gray-700 rounded-full"})]}),e.jsx("div",{className:"h-3 w-32 bg-gray-300 dark:bg-gray-700 rounded mb-4"}),e.jsxs("div",{className:"mt-auto flex justify-between items-center",children:[e.jsx("div",{className:"w-9 h-9 bg-gray-300 dark:bg-gray-700 rounded-full"}),e.jsxs("div",{className:"flex gap-2",children:[e.jsx("div",{className:"h-9 w-32 bg-gray-300 dark:bg-gray-700 rounded-md"}),e.jsx("div",{className:"h-9 w-24 bg-gray-300 dark:bg-gray-700 rounded-md"})]})]})]}),nt=We.lazy(()=>vr(()=>import("./InterviewReportModal-DHFxkgf9.js"),__vite__mapDeps([0,1,2,3,4,5,6,7,8]))),bs=()=>{const{resumes:t,isLoading:c,deleteResume:k,duplicateResume:w,updateResume:p,addBlankResume:h,saveAIGeneratedResume:g}=kr(),{portfolios:b,isLoading:j,deletePortfolio:y,duplicatePortfolio:T,updatePortfolio:E}=gr(),{practiceHistory:_,isLoading:D,deletePracticeHistory:A,updatePracticeHistory:N,addCompletedPractice:J}=jr(),{jobApplications:S,isLoading:U,updateJobApplication:G,deleteJobApplication:ne,deleteAllJobApplications:L}=Cr(),{currentUser:C,logOut:Z,isAdmin:qe,userProfile:ee,isPremium:O,aiUsage:H}=ur(),{t:v}=Yr(),[we,Ne]=o.useState(null),[Se,re]=o.useState(null),[le,Ce]=o.useState(null),[V,Te]=o.useState(null),[Qe,te]=o.useState(!1),[B,ae]=o.useState({isOpen:!1,title:"",message:"",onConfirm:()=>{},confirmText:"Confirm"}),Ze=b.filter(r=>r.mode==="linkinbio").length,De=b.length,[er,de]=o.useState("You have reached your site limit. Please upgrade your plan to create more."),rr=async r=>{const s=b.find(i=>i.id===r);if(s){if(!O&&De>=2){de("Free users can only create up to 2 sites. Please upgrade your plan to create more."),te(!0);return}if(s.mode==="linkinbio"&&!O&&Ze>=1){de("You have reached your Bio-Link limit. Please upgrade your plan to create more."),te(!0);return}await T(r)}},tr=()=>{if(!O&&De>=2){de("Free users can only create up to 2 sites. Please upgrade your plan to create more."),te(!0);return}P("/portfolio")},[Re,Ie]=o.useState(!1),[Pe,F]=o.useState(!1),ce=o.useRef(null),me=o.useRef(null),[R,se]=o.useState([]),[ge,ue]=o.useState(!0),[ar,xe]=o.useState(null),[sr,pe]=o.useState(!1),[fe,z]=o.useState(null),M=o.useRef(null),I=o.useRef(null),[oe,he]=o.useState(()=>{const r=localStorage.getItem("upgrade_guide_step");return r?parseInt(r):0});o.useEffect(()=>{const r=()=>{he(1)};return window.addEventListener("trigger-upgrade-guide",r),()=>window.removeEventListener("trigger-upgrade-guide",r)},[]);const or=()=>{Ie(!Re),oe===1&&(localStorage.setItem("upgrade_guide_step","2"),he(2))},ir=()=>{oe===2&&(localStorage.setItem("upgrade_guide_step","3"),he(3))},be=o.useRef(0),ye=o.useRef(0),ve=o.useRef(0),_e=o.useRef(!0);o.useEffect(()=>{!c&&t.length===0&&P("/new")},[t,c]),o.useEffect(()=>{if(!C)return;const s=setTimeout(async()=>{const i=localStorage.getItem("guestResume");if(i)try{const m=JSON.parse(i);await g(m),localStorage.removeItem("guestResume"),console.log("Successfully imported guest resume."),Oe("convertedResumeUsers")}catch(m){console.error("Failed to import guest resume:",m),localStorage.removeItem("guestResume")}const u=localStorage.getItem("guestInterview");if(u)try{const m=JSON.parse(u);await J(m),localStorage.removeItem("guestInterview"),console.log("Successfully imported guest interview."),Oe("convertedInterviewUsers")}catch(m){console.error("Failed to import guest interview:",m),localStorage.removeItem("guestInterview")}},500);return()=>clearTimeout(s)},[C,g,J]),o.useEffect(()=>{const r=s=>{ce.current&&!ce.current.contains(s.target)&&Ie(!1),me.current&&!me.current.contains(s.target)&&F(!1)};return document.addEventListener("mousedown",r),()=>{document.removeEventListener("mousedown",r)}},[]),o.useEffect(()=>{if(!C)return;const r=q(W,"users",C.uid,"settings","dashboard");return xr(r,i=>{const u=[{id:"resumes",title:v("dashboard.my_resumes"),order:0},{id:"portfolios",title:"My Portfolios",order:1},{id:"interviews",title:v("dashboard.interview_sessions"),order:2}];if(i.exists()){const m=i.data();ue(m.jobTrackerShowPreview!==!1);let d=m.folders||[];u.forEach(f=>{d.some(n=>n.id===f.id)||d.push({...f,order:d.length})}),m.folders?se([...d].sort((f,n)=>f.order-n.order)):(se(u),Fe(r,{folders:u},{merge:!0}).catch(console.error))}else{const m={folders:u,jobTrackerShowPreview:!0};se(u),ue(!0),Fe(r,m).catch(console.error)}})},[C]),o.useEffect(()=>{if(S.length>0&&!R.some(r=>r.id==="jobTracker")){const r={id:"jobTracker",title:v("dashboard.job_tracker"),order:R.length};$([...R,r])}else S.length===0&&R.some(r=>r.id==="jobTracker")},[S.length,R]),o.useEffect(()=>{if(c||D||U||R.length===0)return;const r=(d,f)=>!d||d.length===0?0:Math.max(...d.map(n=>{const x=n[f];return x?typeof x=="object"&&"toMillis"in x?x.toMillis():x instanceof Date?x.getTime():new Date(x).getTime():0})),s=r(t,"updatedAt"),i=r(_,"timestamp"),u=r(S,"updatedAt");if(_e.current){be.current=s,ye.current=i,ve.current=u,_e.current=!1;return}let m=null;if(s>be.current){const d=t.find(f=>{const n=f.updatedAt;let x=0;return n&&typeof n=="object"&&"toMillis"in n?x=n.toMillis():n instanceof Date?x=n.getTime():n&&(x=new Date(n).getTime()),x===s});d&&(m=d.section||"resumes"),be.current=s}if(i>ye.current){const d=_.find(f=>{const n=f.timestamp;let x=0;return n&&typeof n=="object"&&"toMillis"in n?x=n.toMillis():n instanceof Date?x=n.getTime():n&&(x=new Date(n).getTime()),x===i});d&&(m=d.section||"interviews"),ye.current=i}if(u>ve.current){const d=S.find(f=>{const n=f.updatedAt;let x=0;return n&&typeof n=="object"&&"toMillis"in n?x=n.toMillis():n instanceof Date?x=n.getTime():n&&(x=new Date(n).getTime()),x===u});d&&(m=d.section||"jobTracker"),ve.current=u}if(m){const d=R.findIndex(f=>f.id===m);if(d>0){const f=[...R],[n]=f.splice(d,1);f.unshift(n),$(f)}}},[t,_,S,c,D,U]);const Me=async r=>{if(!C)return;const s=q(W,"users",C.uid,"settings","dashboard");await br(s,r)},$=async r=>{const s=r.map((i,u)=>({...i,order:u}));se(s),await Me({folders:s})},nr=r=>{const s=r.target.checked;ue(s),Me({jobTrackerShowPreview:s})},lr=(r,s)=>{const i=R.map(u=>u.id===r?{...u,title:s}:u);$(i)},Le=()=>{const r={id:`folder_${Date.now()}`,title:v("dashboard.new_folder"),order:R.length};$([...R,r])},ie=()=>ae({...B,isOpen:!1}),Y=(r,s)=>{ae({isOpen:!0,title:v("dashboard.confirm_delete_title",{type:s}),message:v("dashboard.confirm_delete_message",{type:s}),onConfirm:()=>{s==="resume"&&k(r),s==="portfolio"&&y(r),s==="practice"&&A(r),s==="job"&&ne(r),ie()},confirmText:v("dashboard.delete")})},dr=async r=>{ae({isOpen:!0,title:v("dashboard.confirm_folder_delete_title"),message:v("dashboard.confirm_folder_delete_message"),onConfirm:async()=>{if(!C)return;const s=yr(W);t.forEach(i=>{(i.section||"resumes")===r&&s.update(q(W,"users",C.uid,"resumes",i.id),{section:"resumes"})}),_.forEach(i=>{(i.section||"interviews")===r&&s.update(q(W,"users",C.uid,"practiceHistory",i.id),{section:"interviews"})}),S.forEach(i=>{i.section===r&&s.update(q(W,"users",C.uid,"jobTracker",i.id),{section:"jobTracker"})});try{await s.commit();const i=R.filter(u=>u.id!==r);await $(i)}catch(i){console.error("Error moving items and deleting folder:",i)}ie()},confirmText:v("dashboard.delete")})},cr=async()=>{ae({isOpen:!0,title:v("dashboard.delete_all_jobs_title"),message:v("dashboard.delete_all_jobs_message"),onConfirm:async()=>{try{await L()}catch(r){console.error("Error deleting all job applications:",r)}ie()},confirmText:v("dashboard.yes_delete_all")})},mr=(r,s)=>{r.preventDefault(),xe(null);try{const i=r.dataTransfer.getData("application/json");if(!i)return;const u=JSON.parse(i);if(u.type==="folder"){const m=u.id;if(m===s)return;const d=[...R],f=d.findIndex(a=>a.id===m),n=d.findIndex(a=>a.id===s);if(f===-1||n===-1)return;const[x]=d.splice(f,1);d.splice(n,0,x),$(d)}else{const{id:m,type:d}=u;if(s==="jobTracker"&&d!=="jobApplication"||s!=="jobTracker"&&d==="jobApplication"&&!R.some(f=>f.id===s))return;d==="resume"&&p(m,{section:s}),d==="portfolio"&&E(m,{section:s}),d==="interview"&&N(m,{section:s}),d==="jobApplication"&&G(m,{section:s})}}catch(i){console.error("Failed to handle drop:",i)}},X=(r,s,i)=>{r.dataTransfer.setData("application/job-id",JSON.stringify({id:s,type:i})),r.dataTransfer.setData("application/json",JSON.stringify({id:s,type:i})),i!=="folder"&&r.stopPropagation()};return c||!c&&t.length===0?e.jsxs("div",{className:"flex flex-col justify-center items-center h-screen bg-gray-100 dark:bg-gray-950",children:[e.jsx(Ee,{className:"w-12 h-12 text-primary-500 animate-spin"}),e.jsx("p",{className:"dark:text-white mt-4",children:v("dashboard.loading")})]}):e.jsxs("div",{className:"bg-gray-100 dark:bg-gray-950 min-h-screen",children:[e.jsx(Je,{isOpen:Qe,onCancel:()=>te(!1),onConfirm:()=>P("/subscription"),title:"Limit Reached",message:er,confirmText:"Upgrade Now",cancelText:"Maybe Later",variant:"default"}),e.jsx("header",{className:"bg-white/80 dark:bg-gray-900/80 backdrop-blur-sm border-b border-gray-200 dark:border-gray-800 shadow-sm sticky top-0 z-20",children:e.jsxs("div",{className:"max-w-screen-2xl mx-auto px-4 sm:px-6 lg:px-8",children:[e.jsxs("div",{className:"flex justify-between items-center h-16 sm:h-20",children:[e.jsx("div",{className:"flex items-center gap-4",children:e.jsxs("a",{href:"/",className:"flex items-center gap-2",children:[e.jsx(pr,{className:"h-8 w-8"}),e.jsx("span",{className:"text-xl font-bold text-gray-900 dark:text-white hidden sm:inline",children:"CareerVivid"})]})}),e.jsxs("div",{className:"flex items-center gap-2 md:gap-4",children:[e.jsx("span",{className:"text-sm font-medium text-gray-600 dark:text-gray-300 hidden lg:block",children:C?.email}),H&&e.jsx("div",{className:"hidden xl:block w-48",children:e.jsx(Be,{used:H.count,limit:H.limit,isPremium:O,onUpgradeClick:()=>P("/subscription"),variant:"minimal"})}),e.jsx(Kr,{}),e.jsx(Tr,{}),e.jsxs("button",{onClick:()=>P("/interview-studio"),className:"flex items-center gap-2 bg-indigo-100 text-indigo-800 dark:bg-indigo-900/50 dark:text-indigo-300 font-semibold py-2 px-3 rounded-lg hover:bg-indigo-200 dark:hover:bg-indigo-900/80 transition-colors",children:[e.jsx(ze,{size:20})," ",e.jsx("span",{className:"hidden md:inline",children:v("nav.interview_studio")})]}),e.jsxs("div",{className:"relative",ref:me,children:[e.jsxs("button",{onClick:()=>F(!Pe),className:"flex items-center gap-2 bg-primary-600 text-white font-semibold py-2 px-3 rounded-lg shadow-soft hover:bg-primary-700 transition-colors",children:[e.jsx(ke,{size:20})," ",e.jsx("span",{className:"hidden md:inline",children:v("dashboard.create_new")})," ",e.jsx(Xr,{size:20})]}),Pe&&e.jsx("div",{className:"absolute right-0 mt-2 w-56 bg-white dark:bg-gray-800 rounded-lg shadow-lg z-20 border dark:border-gray-700",children:e.jsxs("div",{className:"py-1",children:[e.jsxs("button",{onClick:()=>{P("/new"),F(!1)},className:"w-full text-left flex items-center gap-3 px-4 py-2 text-sm text-gray-700 dark:text-gray-200 hover:bg-gray-100 dark:hover:bg-gray-700",children:[e.jsx(fr,{size:16})," ",v("dashboard.new_resume")]}),e.jsxs("button",{onClick:()=>{P("/portfolio"),F(!1)},className:"w-full text-left flex items-center gap-3 px-4 py-2 text-sm text-gray-700 dark:text-gray-200 hover:bg-gray-100 dark:hover:bg-gray-700",children:[e.jsx(qr,{size:16})," New Portfolio"]}),e.jsxs("button",{onClick:()=>{P("/interview-studio"),F(!1)},className:"w-full text-left flex items-center gap-3 px-4 py-2 text-sm text-gray-700 dark:text-gray-200 hover:bg-gray-100 dark:hover:bg-gray-700",children:[e.jsx(ze,{size:16})," ",v("dashboard.interview_practice")]}),e.jsxs("button",{onClick:()=>{P("/job-market"),F(!1)},className:"w-full text-left flex items-center gap-3 px-4 py-2 text-sm text-gray-700 dark:text-gray-200 hover:bg-gray-100 dark:hover:bg-gray-700",children:[e.jsx(Ae,{size:16})," Find Jobs (Professional)"]}),e.jsxs("button",{onClick:()=>{P("/tracker"),F(!1)},className:"w-full text-left flex items-center gap-3 px-4 py-2 text-sm text-gray-700 dark:text-gray-200 hover:bg-gray-100 dark:hover:bg-gray-700",children:[e.jsx(Ae,{size:16})," ",v("dashboard.track_new_job")]}),e.jsx("div",{className:"border-t my-1 border-gray-200 dark:border-gray-600"}),e.jsxs("button",{onClick:()=>{Le(),F(!1)},className:"w-full text-left flex items-center gap-3 px-4 py-2 text-sm text-gray-700 dark:text-gray-200 hover:bg-gray-100 dark:hover:bg-gray-700",children:[e.jsx($e,{size:16})," ",v("dashboard.new_folder")]})]})})]}),e.jsxs("div",{className:"relative",ref:ce,children:[e.jsxs("button",{onClick:or,className:"relative w-10 h-10 rounded-full bg-gray-200 dark:bg-gray-700 flex items-center justify-center text-gray-600 dark:text-gray-300",children:[C?.photoURL?e.jsx("img",{src:C.photoURL,alt:"User",className:"w-full h-full rounded-full object-cover"}):e.jsx(hr,{size:20}),!O&&oe===1&&e.jsxs("div",{className:"absolute top-full mt-2 left-1/2 -translate-x-1/2 flex flex-col items-center animate-bounce-vertical pointer-events-none z-50",children:[e.jsx("svg",{className:"w-8 h-8 text-orange-500 transform -rotate-90",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:e.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M14 5l7 7m0 0l-7 7m7-7H3"})}),e.jsx("span",{className:"text-orange-500 font-bold text-sm whitespace-nowrap bg-white dark:bg-gray-800 px-1 rounded shadow-sm",children:"Click on Profile"})]})]}),Re&&e.jsx("div",{className:"absolute right-0 mt-2 w-48 bg-white dark:bg-gray-800 rounded-lg shadow-lg z-20 border dark:border-gray-700",children:e.jsxs("div",{className:"py-1",children:[e.jsxs("a",{href:"/profile",onClick:ir,className:"relative block px-4 py-2 text-sm text-gray-700 dark:text-gray-200 hover:bg-gray-100 dark:hover:bg-gray-700",children:[v("dashboard.profile"),!O&&oe===2&&e.jsxs("div",{className:"absolute right-2 top-1/2 -translate-y-1/2 flex items-center gap-1 animate-bounce-horizontal pointer-events-none",children:[e.jsx("svg",{className:"w-6 h-6 text-orange-500 transform rotate-180",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:e.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M14 5l7 7m0 0l-7 7m7-7H3"})}),e.jsx("span",{className:"text-orange-500 font-bold text-xs whitespace-nowrap",children:"Click Here"})]})]}),O&&e.jsx("a",{href:"/referrals",className:"block px-4 py-2 text-sm text-gray-700 dark:text-gray-200 hover:bg-gray-100 dark:hover:bg-gray-700",children:"Referrals"}),(ee?.roles?.includes("academic_partner")||ee?.role==="academic_partner")&&e.jsx("a",{href:"/academic-partner",className:"block px-4 py-2 text-sm text-gray-700 dark:text-gray-200 hover:bg-gray-100 dark:hover:bg-gray-700",children:v("dashboard.academic_partner")}),(ee?.roles?.includes("business_partner")||ee?.role==="business_partner")&&e.jsx("a",{href:"/business-partner/dashboard",className:"block px-4 py-2 text-sm text-gray-700 dark:text-gray-200 hover:bg-gray-100 dark:hover:bg-gray-700",children:"Business Partner"}),qe&&e.jsx("a",{href:"/admin",className:"block px-4 py-2 text-sm text-gray-700 dark:text-gray-200 hover:bg-gray-100 dark:hover:bg-gray-700",children:v("dashboard.admin")}),e.jsx("button",{onClick:Z,className:"w-full text-left block px-4 py-2 text-sm text-gray-700 dark:text-gray-200 hover:bg-gray-100 dark:hover:bg-gray-700",children:v("dashboard.sign_out")})]})})]})]})]}),H&&e.jsx("div",{className:"block xl:hidden pb-3 -mt-2",children:e.jsx(Be,{used:H.count,limit:H.limit,isPremium:O,onUpgradeClick:()=>P("/subscription"),variant:"mobile-line"})})]})}),e.jsxs("main",{className:"py-10",children:[R.map(r=>{const s=(a,l)=>{const K=a[l];return K?typeof K.toMillis=="function"?K.toMillis():K instanceof Date?K.getTime():new Date(K).getTime():0},i=t.filter(a=>(a.section||"resumes")===r.id).sort((a,l)=>s(l,"updatedAt")-s(a,"updatedAt")),u=b.filter(a=>(a.section||"portfolios")===r.id).sort((a,l)=>l.updatedAt-a.updatedAt),m=_.filter(a=>(a.section||"interviews")===r.id).sort((a,l)=>s(l,"timestamp")-s(a,"timestamp")),d=S.filter(a=>(a.section||"jobTracker")===r.id).sort((a,l)=>s(l,"updatedAt")-s(a,"updatedAt")),f=r.id==="jobTracker",n=!c&&!j&&!D&&i.length===0&&u.length===0&&m.length===0&&d.length===0&&!f,x=S.length;return r.id==="interviews"&&_.length===0&&!D||f&&x===0&&!U?null:e.jsxs("div",{draggable:!0,onDragStart:a=>X(a,r.id,"folder"),onDragOver:a=>{a.preventDefault(),xe({id:r.id,position:"middle"})},onDragLeave:()=>xe(null),onDrop:a=>mr(a,r.id),className:`max-w-screen-2xl mx-auto sm:px-6 lg:px-8 p-4 rounded-xl transition-colors duration-300 mt-12 ${ar?.id===r.id?"bg-primary-100/50 dark:bg-primary-900/20":""}`,children:[e.jsxs("div",{className:"flex justify-between items-center mb-6",children:[e.jsxs("div",{className:"flex items-center gap-3",children:[e.jsxs("div",{className:"cursor-grab text-gray-400 hover:text-gray-600 dark:hover:text-gray-200 relative group",onMouseDown:a=>{M.current&&clearTimeout(M.current),I.current&&clearInterval(I.current),z({id:r.id,count:3}),I.current=setInterval(()=>{z(l=>!l||l.count<=1?l:{...l,count:l.count-1})},1e3),M.current=setTimeout(()=>{pe(!0),I.current&&clearInterval(I.current),z(null)},3e3)},onMouseUp:()=>{M.current&&clearTimeout(M.current),I.current&&clearInterval(I.current),z(null)},onMouseLeave:()=>{M.current&&clearTimeout(M.current),I.current&&clearInterval(I.current),z(null)},onTouchStart:()=>{M.current&&clearTimeout(M.current),I.current&&clearInterval(I.current),z({id:r.id,count:3}),I.current=setInterval(()=>{z(a=>!a||a.count<=1?a:{...a,count:a.count-1})},1e3),M.current=setTimeout(()=>{pe(!0),I.current&&clearInterval(I.current),z(null)},3e3)},onTouchEnd:()=>{M.current&&clearTimeout(M.current),I.current&&clearInterval(I.current),z(null)},children:[e.jsx(Xe,{size:24}),e.jsxs("div",{className:`absolute -top-10 left-1/2 -translate-x-1/2 bg-black/90 dark:bg-white/90 text-white dark:text-gray-900 text-xs font-bold px-3 py-1.5 rounded-lg shadow-xl whitespace-nowrap pointer-events-none transition-all duration-200 z-50 ${fe?.id===r.id?"opacity-100 scale-100 translate-y-0":"opacity-0 scale-95 translate-y-2"}`,children:["Hold to Reorder... ",fe?.id===r.id?fe.count:3,e.jsx("div",{className:"absolute -bottom-1 left-1/2 -translate-x-1/2 border-4 border-transparent border-t-black/90 dark:border-t-white/90"})]})]}),e.jsx(ot,{title:r.title,onSave:a=>lr(r.id,a),isEditable:!0})]}),!["resumes","interviews"].includes(r.id)&&e.jsx("button",{onClick:()=>{r.id==="jobTracker"?cr():dr(r.id)},className:"text-gray-400 hover:text-red-500 p-1 rounded-full",children:e.jsx(Q,{size:16})})]}),f?e.jsxs(e.Fragment,{children:[e.jsxs("div",{onClick:()=>P("/tracker"),className:"bg-white dark:bg-gray-800 rounded-xl shadow-soft hover:shadow-lg transition-all duration-300 flex items-center justify-between p-6 cursor-pointer border-2 border-transparent hover:border-primary-500 transform hover:-translate-y-1",children:[e.jsxs("div",{className:"flex items-center gap-4",children:[e.jsx(Qr,{className:"w-10 h-10 text-primary-500"}),e.jsxs("div",{children:[e.jsx("h3",{className:"font-bold text-xl text-gray-800 dark:text-gray-100",children:"Job Application Tracker"}),e.jsx("p",{className:"text-gray-500 dark:text-gray-400",children:"View your Kanban board"})]})]}),e.jsxs("div",{className:"flex items-center gap-6",children:[e.jsxs("div",{className:"flex items-center gap-2",onClick:a=>a.stopPropagation(),title:ge?"Hide preview on dashboard":"Show preview on dashboard",children:[e.jsx("label",{htmlFor:"show-overview-toggle",className:"text-xs font-medium text-gray-500 dark:text-gray-400 cursor-pointer",children:"Show Preview"}),e.jsxs("label",{htmlFor:"show-overview-toggle",className:"relative inline-flex items-center cursor-pointer",children:[e.jsx("input",{type:"checkbox",id:"show-overview-toggle",className:"sr-only peer",checked:ge,onChange:nr}),e.jsx("div",{className:"w-9 h-5 bg-gray-200 peer-focus:outline-none peer-focus:ring-2 peer-focus:ring-primary-300 dark:peer-focus:ring-primary-800 rounded-full peer dark:bg-gray-700 peer-checked:after:translate-x-full peer-checked:after:border-white after:content-[''] after:absolute after:top-[2px] after:left-[2px] after:bg-white after:border-gray-300 after:border after:rounded-full after:h-4 after:w-4 after:transition-all dark:border-gray-600 peer-checked:bg-primary-600"})]})]}),e.jsxs("div",{className:"text-right",children:[e.jsx("p",{className:"text-3xl font-bold text-gray-800 dark:text-gray-100",children:x}),e.jsx("p",{className:"text-sm text-gray-500 dark:text-gray-400",children:"Jobs Tracked"})]})]})]}),ge&&x>0&&e.jsxs("div",{className:"mt-8 space-y-8",children:[e.jsx(wr,{applications:S}),e.jsx(Nr,{applications:S,onCardClick:a=>re(a),onUpdateApplication:G})]})]}):n?e.jsx("div",{className:"text-center py-10 border-2 border-dashed border-gray-300 dark:border-gray-700 rounded-xl",children:e.jsx("p",{className:"text-gray-500 dark:text-gray-400",children:"Drag items here to organize them."})}):e.jsxs("div",{className:"grid grid-cols-1 sm:grid-cols-2 md:grid-cols-3 lg:grid-cols-4 gap-8",children:[c&&r.id==="resumes"?Array.from({length:4}).map((a,l)=>e.jsx(Ke,{},`resume_skel_${l}`)):i.map(a=>e.jsx(tt,{resume:a,onUpdate:p,onDuplicate:w,onDelete:l=>Y(l,"resume"),onShare:Ce,onDragStart:l=>X(l,a.id,"resume")},a.id)),j&&r.id==="portfolios"?Array.from({length:3}).map((a,l)=>e.jsx(Ke,{},`portfolio_skel_${l}`)):u.map(a=>e.jsx(Zr,{portfolio:a,onUpdate:E,onDuplicate:rr,onDelete:l=>Y(l,"portfolio"),onShare:Te,onDragStart:l=>X(l,a.id,"portfolio")},a.id)),D&&r.id==="interviews"?Array.from({length:3}).map((a,l)=>e.jsx(it,{},`interview_skel_${l}`)):m.map(a=>e.jsx(at,{entry:a,onShowReport:Ne,onDelete:l=>Y(l,"practice"),onDragStart:l=>X(l,a.id,"interview")},a.id)),d.map(a=>e.jsx(st,{job:a,onClick:()=>re(a),onDelete:l=>Y(l,"job"),onDragStart:l=>X(l,a.id,"jobApplication")},a.id)),r.id==="resumes"&&e.jsxs("div",{onClick:h,className:"border-2 border-dashed border-gray-300 dark:border-gray-700 rounded-xl flex flex-col items-center justify-center p-4 text-gray-500 dark:text-gray-400 hover:border-primary-500 hover:text-primary-600 dark:hover:text-primary-400 transition-all duration-300 cursor-pointer min-h-[340px] transform hover:-translate-y-1 hover:shadow-lg",children:[e.jsx(ke,{size:48}),e.jsx("span",{className:"mt-2 font-semibold",children:"Create a New Resume"})]}),r.id==="portfolios"&&e.jsxs("div",{onClick:tr,className:"border-2 border-dashed border-gray-300 dark:border-gray-700 rounded-xl flex flex-col items-center justify-center p-4 text-gray-500 dark:text-gray-400 hover:border-primary-500 hover:text-primary-600 dark:hover:text-primary-400 transition-all duration-300 cursor-pointer min-h-[340px] transform hover:-translate-y-1 hover:shadow-lg",children:[e.jsx(ke,{size:48}),e.jsx("span",{className:"mt-2 font-semibold",children:"Create a New Portfolio"})]})]})]},r.id)}),e.jsx("div",{className:"max-w-screen-2xl mx-auto sm:px-6 lg:px-8 mt-8",children:e.jsxs("button",{onClick:Le,className:"w-full text-center py-4 border-2 border-dashed border-gray-300 dark:border-gray-700 rounded-xl text-gray-500 dark:text-gray-400 hover:border-primary-500 hover:text-primary-600 dark:hover:text-primary-400 transition-colors font-semibold flex items-center justify-center gap-2",children:[e.jsx($e,{size:20})," Add New Folder"]})})]}),e.jsx(o.Suspense,{fallback:e.jsx("div",{className:"fixed inset-0 z-50 flex items-center justify-center bg-black/50",children:e.jsx(Ee,{className:"animate-spin text-white"})}),children:we&&e.jsx(nt,{jobHistoryEntry:we,onClose:()=>Ne(null)})}),Se&&e.jsx(Sr,{job:Se,onClose:()=>re(null),onUpdate:G,onDelete:r=>{Y(r,"job"),re(null)}}),e.jsx(Je,{isOpen:B.isOpen,title:B.title,message:B.message,onConfirm:B.onConfirm,onCancel:ie,confirmText:B.confirmText}),le&&e.jsx(Ir,{isOpen:!!le,onClose:()=>Ce(null),resume:le,onUpdate:p}),V&&e.jsx($r,{isOpen:!!V,onClose:()=>Te(null),portfolioId:V.id,portfolioTitle:V.title,portfolioData:V}),e.jsx(rt,{isOpen:sr,onClose:()=>pe(!1),folders:R,onSave:$})]})};export{bs as default};
