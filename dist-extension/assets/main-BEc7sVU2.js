const __vite__mapDeps=(i,m=__vite__mapDeps,d=(m.f||(m.f=["assets/Dashboard-D8KjI1B8.js","assets/useResumes-C_g1Kxnt.js","assets/useJobHistory-0D2lQDUB.js","assets/KanbanBoard-CJQx1zcb.js","assets/types-C3IBSKjb.js","assets/geminiService-BsYmV8kM.js","assets/ConfirmationModal-BqGzcl3g.js","assets/index-Bgwdp8d1.js","assets/x-CgpMcjbW.js","assets/alert-triangle-BabHdlci.js","assets/useAICreditCheck-BiAjIaoo.js","assets/zap-DGAIHcfp.js","assets/check-BXDTBbZe.js","assets/useTranslation-CNH1DPc_.js","assets/briefcase-BA81y1Cf.js","assets/volume-2-Ci9QXAiK.js","assets/square-B5VCCcX7.js","assets/plus-BybH-_bu.js","assets/trash-2-9UIW2m7q.js","assets/wand-2-BNdNGVzL.js","assets/arrow-right-CSdrhpF5.js","assets/check-circle-DqYJ7obf.js","assets/x-circle-DiIKiu2H.js","assets/chevron-down-Eiq7K4ut.js","assets/play-Bdt-AzR7.js","assets/useJobTracker-Cq3ZcLQo.js","assets/ThemeToggle-B6w_6zEP.js","assets/sun-BCC2DW0J.js","assets/index-clrG2gCl.js","assets/InlineEdit-LXaiIIc8.js","assets/pen-CDP9jQDD.js","assets/lock-DyNzxupw.js","assets/file-text-D4qk8Tzm.js","assets/external-link-B-pRlJeA.js","assets/mail-C8AWi2yh.js","assets/globe-DgZdGzus.js","assets/download-BBBdX7JV.js","assets/map-pin-OOBizwV5.js","assets/users-CW7lwuWe.js","assets/eye-DBT7NYFb.js","assets/trending-up-BN9QEfSx.js","assets/music-D29n3e9e.js","assets/share-2-DwMXQtQg.js","assets/terminal-CUfv7bRQ.js","assets/chevron-right-C0A4zoBG.js","assets/code-DFGvkwP7.js","assets/cardTemplates-CL03FX0S.js","assets/stockPhotos-DkxhX0el.js","assets/smartphone-BeLO5XxV.js","assets/layout-grid-D0eCvmb4.js","assets/youtube-DXIyuMbX.js","assets/twitter-BkzJSFqN.js","assets/linkedin-KoM4kuTt.js","assets/award-BkImyAxc.js","assets/activity-CQyBVydU.js","assets/calendar-BlywvGr0.js","assets/graduation-cap-CWgYxLce.js","assets/alert-circle-gw7bsKwP.js","assets/undo-Zx6Thk0Z.js","assets/arrow-left-jQ4_17tq.js","assets/bar-chart-3-Bibb30BA.js","assets/bar-chart-DqtOAY8p.js","assets/bot-CZVkuU1E.js","assets/building-2-BttomyIW.js","assets/check-circle-2-Y-7OBTyF.js","assets/chevron-left-fFcpqHUE.js","assets/chevron-up-DzRpdu-v.js","assets/clock-BtKrYrPy.js","assets/code-2-CCMqSW_o.js","assets/copy-BbzbJe7R.js","assets/credit-card-BsVMY62g.js","assets/confetti.module-eBrm92lW.js","assets/dollar-sign-DcjytobZ.js","assets/eye-off-eUDXhHXq.js","assets/file-code--JYI6on6.js","assets/file-question-Dj6fz501.js","assets/gift-CgF2-90B.js","assets/help-circle-CCgyfrIA.js","assets/home-CXxkeF76.js","assets/image-DpFBMrjV.js","assets/info-D00vMt1z.js","assets/key-round-Cd3I_bbx.js","assets/layout-dashboard-BUznMAJN.js","assets/layout-template-WpqPmEBC.js","assets/link-fr0uO6pY.js","assets/log-out-ByZuvNdb.js","assets/mail-check-DJ0o7HYM.js","assets/volume-x-BMPj_cPW.js","assets/menu-C_yhoOtt.js","assets/message-square-Rf8MUyuS.js","assets/mic-aRUYVZ6D.js","assets/monitor-DnVXU59Y.js","assets/more-vertical-17dfMr7j.js","assets/store-BElqzBKt.js","assets/palette-BXPG-S57.js","assets/pen-tool-CPcodvGT.js","assets/percent-CJb4_4R_.js","assets/plus-circle-C7ZueYbE.js","assets/refresh-cw-DfJf90V0.js","assets/rocket-bNzdNsw1.js","assets/save-DuHFw_gZ.js","assets/search-C4vZZ5u7.js","assets/send-BU04lBHk.js","assets/thumbs-up-BedDGc-v.js","assets/shield-alert-CACf201H.js","assets/shield-check-B9I5OclO.js","assets/shield-DouoAU4I.js","assets/productService-DubTcc4o.js","assets/sparkles-Br3FZYhV.js","assets/star-D73ZxPTB.js","assets/stop-circle-D_kwlGPz.js","assets/target-C38gmVKJ.js","assets/unlink-BN-ijyOT.js","assets/upload-cloud-Bz-Uhqq1.js","assets/upload-ph_HrLW-.js","assets/user-z_w8hJb6.js","assets/video-n-qxSk9V.js","assets/stripeService-DcCXEwTE.js","assets/index-DZXmDlCI.js","assets/AlertModal-DHZrFFpO.js","assets/index-Chjiymov.js","assets/Logo-BDxZX0-1.js","assets/ShareResumeModal-B63SY0cd.js","assets/sortable.esm-BxHzed3x.js","assets/LanguageSelect-CCdOsNqL.js","assets/ResumePreview-CGTy__pj.js","assets/Editor-BwHZHY7l.js","assets/CommentsPanel-CxBx2vsj.js","assets/FeedbackModal-Bd0OE5Gp.js","assets/storageService-DclJIdxx.js","assets/AIImprovementPanel-DpI3U-fW.js","assets/AIImageEditModal-C20ok1Se.js","assets/MonthYearPicker-CRwHlo4q.js","assets/ResumeImport-SyIQpOwm.js","assets/index-CScl1Xt6.js","assets/pdf.worker.min-NjiBXALH.js","assets/index-DDV-88Q9.js","assets/proxy-CygPNp2F.js","assets/GenerationHub-B9G5o2CR.js","assets/careers-BCiR7pDl.js","assets/InterviewStudio-BGsa_kbV.js","assets/index-DUexRrDI.js","assets/ProfilePage-BN9ktAxz.js","assets/ChatBot-C0hKWHBk.js","assets/AuthPage-D-6qK8u8.js","assets/SignInPage-Bf58GmZC.js","assets/SignUpPage-DviWExwY.js","assets/LandingPage-Ctn8diP5.js","assets/PublicHeader-e7Eo0q90.js","assets/Footer-CKpWmWAh.js","assets/systemSettingsService-D8eZe6-g.js","assets/TechLandingPage-DZExIcJo.js","assets/PricingPage-fCRvV_Uc.js","assets/AdminLoginPage-ChaXt6Vu.js","assets/AdminPage-B_ABxgH6.js","assets/StrategyDashboard-C0Zt5IBI.js","assets/AcademicPartnerDashboard-jh7cdz7_.js","assets/VerifyEmailPage-Cr9G4oj8.js","assets/JobTrackerPage-BSu6OSH_.js","assets/DemoPage-CHhBjkeO.js","assets/PdfPreviewPage-DGhfk6Ny.js","assets/ContactPage-CZjJzhsQ.js","assets/FAQSection-BHYeS2xG.js","assets/BlogListPage-fJF2QwiY.js","assets/BlogPostPage-B0vLpEhM.js","assets/PublicResumePage-DGc5DLUe.js","assets/SubscriptionPage-CPmkQQJN.js","assets/PortfolioHub-DzU5cjds.js","assets/PortfolioEditor-Do65Q2y9.js","assets/IntroOverlay-DapoW2Eb.js","assets/CommerceDashboard-BSZa5cbV.js","assets/PortfolioBuilderPage-CGqHTRD4.js","assets/PublicPortfolioPage-DcsBdmw3.js","assets/PartnerLandingPage-hS8aTZYN.js","assets/CheckoutSummary-QmmQutCX.js","assets/stitchService-VEo7ZZ6V.js","assets/UpcomingDropsFeed-qMgpwUj1.js","assets/BusinessCardPage-BEJuNYiM.js","assets/OrderNfcCardPage-B1Wp6Wud.js","assets/AcademicPartnerPage-CdmZ_anH.js","assets/BusinessPartnerPage-BH53bIWp.js","assets/StudentAmbassadorPage-BQiKIXjr.js","assets/PartnerApplicationPage-CVZAC-Em.js","assets/PolicyPage-DeGb_fOj.js","assets/TermsOfServicePage-czEU1IQP.js","assets/PrivacyPolicyPage-BpI2Q_UL.js","assets/HRPartnerPage-CBdzg-eF.js","assets/BusinessPartnerDashboard-BpKRl0lH.js","assets/jobService-DkL2qb1A.js","assets/applicationService-CkZXj48l.js","assets/JobPostingEditor-CIVhV5ld.js","assets/index-B42ucaH6.js","assets/IntegrationsPage-DEG1FYbS.js","assets/NotFoundPage-JwAB4njB.js","assets/PermissionDeniedPage-lb9KByTn.js","assets/ReferralLandingPage-B0IMV5M6.js","assets/ReferralPage-BbfHE7-x.js","assets/BioLinksPage-CTLcFJ8S.js","assets/ProductPage-BGoJ5orL.js","assets/GetMoreReview01-H7W6WsOg.js","assets/ServicePortfolioPage-XKq2MmtO.js"])))=>i.map(i=>d[i]);
function sT(n,e){for(var t=0;t<e.length;t++){const r=e[t];if(typeof r!="string"&&!Array.isArray(r)){for(const s in r)if(s!=="default"&&!(s in n)){const a=Object.getOwnPropertyDescriptor(r,s);a&&Object.defineProperty(n,s,a.get?a:{enumerable:!0,get:()=>r[s]})}}}return Object.freeze(Object.defineProperty(n,Symbol.toStringTag,{value:"Module"}))}(function(){const e=document.createElement("link").relList;if(e&&e.supports&&e.supports("modulepreload"))return;for(const s of document.querySelectorAll('link[rel="modulepreload"]'))r(s);new MutationObserver(s=>{for(const a of s)if(a.type==="childList")for(const u of a.addedNodes)u.tagName==="LINK"&&u.rel==="modulepreload"&&r(u)}).observe(document,{childList:!0,subtree:!0});function t(s){const a={};return s.integrity&&(a.integrity=s.integrity),s.referrerPolicy&&(a.referrerPolicy=s.referrerPolicy),s.crossOrigin==="use-credentials"?a.credentials="include":s.crossOrigin==="anonymous"?a.credentials="omit":a.credentials="same-origin",a}function r(s){if(s.ep)return;s.ep=!0;const a=t(s);fetch(s.href,a)}})();var Hl=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};function Ta(n){return n&&n.__esModule&&Object.prototype.hasOwnProperty.call(n,"default")?n.default:n}function yU(n){if(Object.prototype.hasOwnProperty.call(n,"__esModule"))return n;var e=n.default;if(typeof e=="function"){var t=function r(){var s=!1;try{s=this instanceof r}catch{}return s?Reflect.construct(e,arguments,this.constructor):e.apply(this,arguments)};t.prototype=e.prototype}else t={};return Object.defineProperty(t,"__esModule",{value:!0}),Object.keys(n).forEach(function(r){var s=Object.getOwnPropertyDescriptor(n,r);Object.defineProperty(t,r,s.get?s:{enumerable:!0,get:function(){return n[r]}})}),t}var ep={exports:{}},Pl={},tp={exports:{}},Le={};var iv;function fR(){if(iv)return Le;iv=1;var n=Symbol.for("react.element"),e=Symbol.for("react.portal"),t=Symbol.for("react.fragment"),r=Symbol.for("react.strict_mode"),s=Symbol.for("react.profiler"),a=Symbol.for("react.provider"),u=Symbol.for("react.context"),d=Symbol.for("react.forward_ref"),f=Symbol.for("react.suspense"),m=Symbol.for("react.memo"),g=Symbol.for("react.lazy"),w=Symbol.iterator;function E(L){return L===null||typeof L!="object"?null:(L=w&&L[w]||L["@@iterator"],typeof L=="function"?L:null)}var R={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},V=Object.assign,B={};function z(L,J,Te){this.props=L,this.context=J,this.refs=B,this.updater=Te||R}z.prototype.isReactComponent={},z.prototype.setState=function(L,J){if(typeof L!="object"&&typeof L!="function"&&L!=null)throw Error("setState(...): takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,L,J,"setState")},z.prototype.forceUpdate=function(L){this.updater.enqueueForceUpdate(this,L,"forceUpdate")};function te(){}te.prototype=z.prototype;function le(L,J,Te){this.props=L,this.context=J,this.refs=B,this.updater=Te||R}var ve=le.prototype=new te;ve.constructor=le,V(ve,z.prototype),ve.isPureReactComponent=!0;var oe=Array.isArray,we=Object.prototype.hasOwnProperty,pe={current:null},k={key:!0,ref:!0,__self:!0,__source:!0};function S(L,J,Te){var Ce,Ve={},Me=null,Ge=null;if(J!=null)for(Ce in J.ref!==void 0&&(Ge=J.ref),J.key!==void 0&&(Me=""+J.key),J)we.call(J,Ce)&&!k.hasOwnProperty(Ce)&&(Ve[Ce]=J[Ce]);var $e=arguments.length-2;if($e===1)Ve.children=Te;else if(1<$e){for(var Ye=Array($e),en=0;en<$e;en++)Ye[en]=arguments[en+2];Ve.children=Ye}if(L&&L.defaultProps)for(Ce in $e=L.defaultProps,$e)Ve[Ce]===void 0&&(Ve[Ce]=$e[Ce]);return{$$typeof:n,type:L,key:Me,ref:Ge,props:Ve,_owner:pe.current}}function C(L,J){return{$$typeof:n,type:L.type,key:J,ref:L.ref,props:L.props,_owner:L._owner}}function x(L){return typeof L=="object"&&L!==null&&L.$$typeof===n}function O(L){var J={"=":"=0",":":"=2"};return"$"+L.replace(/[=:]/g,function(Te){return J[Te]})}var N=/\/+/g;function P(L,J){return typeof L=="object"&&L!==null&&L.key!=null?O(""+L.key):J.toString(36)}function Ne(L,J,Te,Ce,Ve){var Me=typeof L;(Me==="undefined"||Me==="boolean")&&(L=null);var Ge=!1;if(L===null)Ge=!0;else switch(Me){case"string":case"number":Ge=!0;break;case"object":switch(L.$$typeof){case n:case e:Ge=!0}}if(Ge)return Ge=L,Ve=Ve(Ge),L=Ce===""?"."+P(Ge,0):Ce,oe(Ve)?(Te="",L!=null&&(Te=L.replace(N,"$&/")+"/"),Ne(Ve,J,Te,"",function(en){return en})):Ve!=null&&(x(Ve)&&(Ve=C(Ve,Te+(!Ve.key||Ge&&Ge.key===Ve.key?"":(""+Ve.key).replace(N,"$&/")+"/")+L)),J.push(Ve)),1;if(Ge=0,Ce=Ce===""?".":Ce+":",oe(L))for(var $e=0;$e<L.length;$e++){Me=L[$e];var Ye=Ce+P(Me,$e);Ge+=Ne(Me,J,Te,Ye,Ve)}else if(Ye=E(L),typeof Ye=="function")for(L=Ye.call(L),$e=0;!(Me=L.next()).done;)Me=Me.value,Ye=Ce+P(Me,$e++),Ge+=Ne(Me,J,Te,Ye,Ve);else if(Me==="object")throw J=String(L),Error("Objects are not valid as a React child (found: "+(J==="[object Object]"?"object with keys {"+Object.keys(L).join(", ")+"}":J)+"). If you meant to render a collection of children, use an array instead.");return Ge}function F(L,J,Te){if(L==null)return L;var Ce=[],Ve=0;return Ne(L,Ce,"","",function(Me){return J.call(Te,Me,Ve++)}),Ce}function Q(L){if(L._status===-1){var J=L._result;J=J(),J.then(function(Te){(L._status===0||L._status===-1)&&(L._status=1,L._result=Te)},function(Te){(L._status===0||L._status===-1)&&(L._status=2,L._result=Te)}),L._status===-1&&(L._status=0,L._result=J)}if(L._status===1)return L._result.default;throw L._result}var he={current:null},q={transition:null},ie={ReactCurrentDispatcher:he,ReactCurrentBatchConfig:q,ReactCurrentOwner:pe};function Y(){throw Error("act(...) is not supported in production builds of React.")}return Le.Children={map:F,forEach:function(L,J,Te){F(L,function(){J.apply(this,arguments)},Te)},count:function(L){var J=0;return F(L,function(){J++}),J},toArray:function(L){return F(L,function(J){return J})||[]},only:function(L){if(!x(L))throw Error("React.Children.only expected to receive a single React element child.");return L}},Le.Component=z,Le.Fragment=t,Le.Profiler=s,Le.PureComponent=le,Le.StrictMode=r,Le.Suspense=f,Le.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=ie,Le.act=Y,Le.cloneElement=function(L,J,Te){if(L==null)throw Error("React.cloneElement(...): The argument must be a React element, but you passed "+L+".");var Ce=V({},L.props),Ve=L.key,Me=L.ref,Ge=L._owner;if(J!=null){if(J.ref!==void 0&&(Me=J.ref,Ge=pe.current),J.key!==void 0&&(Ve=""+J.key),L.type&&L.type.defaultProps)var $e=L.type.defaultProps;for(Ye in J)we.call(J,Ye)&&!k.hasOwnProperty(Ye)&&(Ce[Ye]=J[Ye]===void 0&&$e!==void 0?$e[Ye]:J[Ye])}var Ye=arguments.length-2;if(Ye===1)Ce.children=Te;else if(1<Ye){$e=Array(Ye);for(var en=0;en<Ye;en++)$e[en]=arguments[en+2];Ce.children=$e}return{$$typeof:n,type:L.type,key:Ve,ref:Me,props:Ce,_owner:Ge}},Le.createContext=function(L){return L={$$typeof:u,_currentValue:L,_currentValue2:L,_threadCount:0,Provider:null,Consumer:null,_defaultValue:null,_globalName:null},L.Provider={$$typeof:a,_context:L},L.Consumer=L},Le.createElement=S,Le.createFactory=function(L){var J=S.bind(null,L);return J.type=L,J},Le.createRef=function(){return{current:null}},Le.forwardRef=function(L){return{$$typeof:d,render:L}},Le.isValidElement=x,Le.lazy=function(L){return{$$typeof:g,_payload:{_status:-1,_result:L},_init:Q}},Le.memo=function(L,J){return{$$typeof:m,type:L,compare:J===void 0?null:J}},Le.startTransition=function(L){var J=q.transition;q.transition={};try{L()}finally{q.transition=J}},Le.unstable_act=Y,Le.useCallback=function(L,J){return he.current.useCallback(L,J)},Le.useContext=function(L){return he.current.useContext(L)},Le.useDebugValue=function(){},Le.useDeferredValue=function(L){return he.current.useDeferredValue(L)},Le.useEffect=function(L,J){return he.current.useEffect(L,J)},Le.useId=function(){return he.current.useId()},Le.useImperativeHandle=function(L,J,Te){return he.current.useImperativeHandle(L,J,Te)},Le.useInsertionEffect=function(L,J){return he.current.useInsertionEffect(L,J)},Le.useLayoutEffect=function(L,J){return he.current.useLayoutEffect(L,J)},Le.useMemo=function(L,J){return he.current.useMemo(L,J)},Le.useReducer=function(L,J,Te){return he.current.useReducer(L,J,Te)},Le.useRef=function(L){return he.current.useRef(L)},Le.useState=function(L){return he.current.useState(L)},Le.useSyncExternalStore=function(L,J,Te){return he.current.useSyncExternalStore(L,J,Te)},Le.useTransition=function(){return he.current.useTransition()},Le.version="18.3.1",Le}var sv;function Im(){return sv||(sv=1,tp.exports=fR()),tp.exports}var ov;function pR(){if(ov)return Pl;ov=1;var n=Im(),e=Symbol.for("react.element"),t=Symbol.for("react.fragment"),r=Object.prototype.hasOwnProperty,s=n.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED.ReactCurrentOwner,a={key:!0,ref:!0,__self:!0,__source:!0};function u(d,f,m){var g,w={},E=null,R=null;m!==void 0&&(E=""+m),f.key!==void 0&&(E=""+f.key),f.ref!==void 0&&(R=f.ref);for(g in f)r.call(f,g)&&!a.hasOwnProperty(g)&&(w[g]=f[g]);if(d&&d.defaultProps)for(g in f=d.defaultProps,f)w[g]===void 0&&(w[g]=f[g]);return{$$typeof:e,type:d,key:E,ref:R,props:w,_owner:s.current}}return Pl.Fragment=t,Pl.jsx=u,Pl.jsxs=u,Pl}var av;function mR(){return av||(av=1,ep.exports=pR()),ep.exports}var G=mR(),Se=Im();const ce=Ta(Se),_U=sT({__proto__:null,default:ce},[Se]);var Yc={},np={exports:{}},pn={},rp={exports:{}},ip={};var lv;function gR(){return lv||(lv=1,(function(n){function e(q,ie){var Y=q.length;q.push(ie);e:for(;0<Y;){var L=Y-1>>>1,J=q[L];if(0<s(J,ie))q[L]=ie,q[Y]=J,Y=L;else break e}}function t(q){return q.length===0?null:q[0]}function r(q){if(q.length===0)return null;var ie=q[0],Y=q.pop();if(Y!==ie){q[0]=Y;e:for(var L=0,J=q.length,Te=J>>>1;L<Te;){var Ce=2*(L+1)-1,Ve=q[Ce],Me=Ce+1,Ge=q[Me];if(0>s(Ve,Y))Me<J&&0>s(Ge,Ve)?(q[L]=Ge,q[Me]=Y,L=Me):(q[L]=Ve,q[Ce]=Y,L=Ce);else if(Me<J&&0>s(Ge,Y))q[L]=Ge,q[Me]=Y,L=Me;else break e}}return ie}function s(q,ie){var Y=q.sortIndex-ie.sortIndex;return Y!==0?Y:q.id-ie.id}if(typeof performance=="object"&&typeof performance.now=="function"){var a=performance;n.unstable_now=function(){return a.now()}}else{var u=Date,d=u.now();n.unstable_now=function(){return u.now()-d}}var f=[],m=[],g=1,w=null,E=3,R=!1,V=!1,B=!1,z=typeof setTimeout=="function"?setTimeout:null,te=typeof clearTimeout=="function"?clearTimeout:null,le=typeof setImmediate<"u"?setImmediate:null;typeof navigator<"u"&&navigator.scheduling!==void 0&&navigator.scheduling.isInputPending!==void 0&&navigator.scheduling.isInputPending.bind(navigator.scheduling);function ve(q){for(var ie=t(m);ie!==null;){if(ie.callback===null)r(m);else if(ie.startTime<=q)r(m),ie.sortIndex=ie.expirationTime,e(f,ie);else break;ie=t(m)}}function oe(q){if(B=!1,ve(q),!V)if(t(f)!==null)V=!0,Q(we);else{var ie=t(m);ie!==null&&he(oe,ie.startTime-q)}}function we(q,ie){V=!1,B&&(B=!1,te(S),S=-1),R=!0;var Y=E;try{for(ve(ie),w=t(f);w!==null&&(!(w.expirationTime>ie)||q&&!O());){var L=w.callback;if(typeof L=="function"){w.callback=null,E=w.priorityLevel;var J=L(w.expirationTime<=ie);ie=n.unstable_now(),typeof J=="function"?w.callback=J:w===t(f)&&r(f),ve(ie)}else r(f);w=t(f)}if(w!==null)var Te=!0;else{var Ce=t(m);Ce!==null&&he(oe,Ce.startTime-ie),Te=!1}return Te}finally{w=null,E=Y,R=!1}}var pe=!1,k=null,S=-1,C=5,x=-1;function O(){return!(n.unstable_now()-x<C)}function N(){if(k!==null){var q=n.unstable_now();x=q;var ie=!0;try{ie=k(!0,q)}finally{ie?P():(pe=!1,k=null)}}else pe=!1}var P;if(typeof le=="function")P=function(){le(N)};else if(typeof MessageChannel<"u"){var Ne=new MessageChannel,F=Ne.port2;Ne.port1.onmessage=N,P=function(){F.postMessage(null)}}else P=function(){z(N,0)};function Q(q){k=q,pe||(pe=!0,P())}function he(q,ie){S=z(function(){q(n.unstable_now())},ie)}n.unstable_IdlePriority=5,n.unstable_ImmediatePriority=1,n.unstable_LowPriority=4,n.unstable_NormalPriority=3,n.unstable_Profiling=null,n.unstable_UserBlockingPriority=2,n.unstable_cancelCallback=function(q){q.callback=null},n.unstable_continueExecution=function(){V||R||(V=!0,Q(we))},n.unstable_forceFrameRate=function(q){0>q||125<q?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):C=0<q?Math.floor(1e3/q):5},n.unstable_getCurrentPriorityLevel=function(){return E},n.unstable_getFirstCallbackNode=function(){return t(f)},n.unstable_next=function(q){switch(E){case 1:case 2:case 3:var ie=3;break;default:ie=E}var Y=E;E=ie;try{return q()}finally{E=Y}},n.unstable_pauseExecution=function(){},n.unstable_requestPaint=function(){},n.unstable_runWithPriority=function(q,ie){switch(q){case 1:case 2:case 3:case 4:case 5:break;default:q=3}var Y=E;E=q;try{return ie()}finally{E=Y}},n.unstable_scheduleCallback=function(q,ie,Y){var L=n.unstable_now();switch(typeof Y=="object"&&Y!==null?(Y=Y.delay,Y=typeof Y=="number"&&0<Y?L+Y:L):Y=L,q){case 1:var J=-1;break;case 2:J=250;break;case 5:J=1073741823;break;case 4:J=1e4;break;default:J=5e3}return J=Y+J,q={id:g++,callback:ie,priorityLevel:q,startTime:Y,expirationTime:J,sortIndex:-1},Y>L?(q.sortIndex=Y,e(m,q),t(f)===null&&q===t(m)&&(B?(te(S),S=-1):B=!0,he(oe,Y-L))):(q.sortIndex=J,e(f,q),V||R||(V=!0,Q(we))),q},n.unstable_shouldYield=O,n.unstable_wrapCallback=function(q){var ie=E;return function(){var Y=E;E=ie;try{return q.apply(this,arguments)}finally{E=Y}}}})(ip)),ip}var uv;function yR(){return uv||(uv=1,rp.exports=gR()),rp.exports}var cv;function _R(){if(cv)return pn;cv=1;var n=Im(),e=yR();function t(i){for(var o="https://reactjs.org/docs/error-decoder.html?invariant="+i,l=1;l<arguments.length;l++)o+="&args[]="+encodeURIComponent(arguments[l]);return"Minified React error #"+i+"; visit "+o+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}var r=new Set,s={};function a(i,o){u(i,o),u(i+"Capture",o)}function u(i,o){for(s[i]=o,i=0;i<o.length;i++)r.add(o[i])}var d=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),f=Object.prototype.hasOwnProperty,m=/^[:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD][:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD\-.0-9\u00B7\u0300-\u036F\u203F-\u2040]*$/,g={},w={};function E(i){return f.call(w,i)?!0:f.call(g,i)?!1:m.test(i)?w[i]=!0:(g[i]=!0,!1)}function R(i,o,l,h){if(l!==null&&l.type===0)return!1;switch(typeof o){case"function":case"symbol":return!0;case"boolean":return h?!1:l!==null?!l.acceptsBooleans:(i=i.toLowerCase().slice(0,5),i!=="data-"&&i!=="aria-");default:return!1}}function V(i,o,l,h){if(o===null||typeof o>"u"||R(i,o,l,h))return!0;if(h)return!1;if(l!==null)switch(l.type){case 3:return!o;case 4:return o===!1;case 5:return isNaN(o);case 6:return isNaN(o)||1>o}return!1}function B(i,o,l,h,p,y,T){this.acceptsBooleans=o===2||o===3||o===4,this.attributeName=h,this.attributeNamespace=p,this.mustUseProperty=l,this.propertyName=i,this.type=o,this.sanitizeURL=y,this.removeEmptyString=T}var z={};"children dangerouslySetInnerHTML defaultValue defaultChecked innerHTML suppressContentEditableWarning suppressHydrationWarning style".split(" ").forEach(function(i){z[i]=new B(i,0,!1,i,null,!1,!1)}),[["acceptCharset","accept-charset"],["className","class"],["htmlFor","for"],["httpEquiv","http-equiv"]].forEach(function(i){var o=i[0];z[o]=new B(o,1,!1,i[1],null,!1,!1)}),["contentEditable","draggable","spellCheck","value"].forEach(function(i){z[i]=new B(i,2,!1,i.toLowerCase(),null,!1,!1)}),["autoReverse","externalResourcesRequired","focusable","preserveAlpha"].forEach(function(i){z[i]=new B(i,2,!1,i,null,!1,!1)}),"allowFullScreen async autoFocus autoPlay controls default defer disabled disablePictureInPicture disableRemotePlayback formNoValidate hidden loop noModule noValidate open playsInline readOnly required reversed scoped seamless itemScope".split(" ").forEach(function(i){z[i]=new B(i,3,!1,i.toLowerCase(),null,!1,!1)}),["checked","multiple","muted","selected"].forEach(function(i){z[i]=new B(i,3,!0,i,null,!1,!1)}),["capture","download"].forEach(function(i){z[i]=new B(i,4,!1,i,null,!1,!1)}),["cols","rows","size","span"].forEach(function(i){z[i]=new B(i,6,!1,i,null,!1,!1)}),["rowSpan","start"].forEach(function(i){z[i]=new B(i,5,!1,i.toLowerCase(),null,!1,!1)});var te=/[\-:]([a-z])/g;function le(i){return i[1].toUpperCase()}"accent-height alignment-baseline arabic-form baseline-shift cap-height clip-path clip-rule color-interpolation color-interpolation-filters color-profile color-rendering dominant-baseline enable-background fill-opacity fill-rule flood-color flood-opacity font-family font-size font-size-adjust font-stretch font-style font-variant font-weight glyph-name glyph-orientation-horizontal glyph-orientation-vertical horiz-adv-x horiz-origin-x image-rendering letter-spacing lighting-color marker-end marker-mid marker-start overline-position overline-thickness paint-order panose-1 pointer-events rendering-intent shape-rendering stop-color stop-opacity strikethrough-position strikethrough-thickness stroke-dasharray stroke-dashoffset stroke-linecap stroke-linejoin stroke-miterlimit stroke-opacity stroke-width text-anchor text-decoration text-rendering underline-position underline-thickness unicode-bidi unicode-range units-per-em v-alphabetic v-hanging v-ideographic v-mathematical vector-effect vert-adv-y vert-origin-x vert-origin-y word-spacing writing-mode xmlns:xlink x-height".split(" ").forEach(function(i){var o=i.replace(te,le);z[o]=new B(o,1,!1,i,null,!1,!1)}),"xlink:actuate xlink:arcrole xlink:role xlink:show xlink:title xlink:type".split(" ").forEach(function(i){var o=i.replace(te,le);z[o]=new B(o,1,!1,i,"http://www.w3.org/1999/xlink",!1,!1)}),["xml:base","xml:lang","xml:space"].forEach(function(i){var o=i.replace(te,le);z[o]=new B(o,1,!1,i,"http://www.w3.org/XML/1998/namespace",!1,!1)}),["tabIndex","crossOrigin"].forEach(function(i){z[i]=new B(i,1,!1,i.toLowerCase(),null,!1,!1)}),z.xlinkHref=new B("xlinkHref",1,!1,"xlink:href","http://www.w3.org/1999/xlink",!0,!1),["src","href","action","formAction"].forEach(function(i){z[i]=new B(i,1,!1,i.toLowerCase(),null,!0,!0)});function ve(i,o,l,h){var p=z.hasOwnProperty(o)?z[o]:null;(p!==null?p.type!==0:h||!(2<o.length)||o[0]!=="o"&&o[0]!=="O"||o[1]!=="n"&&o[1]!=="N")&&(V(o,l,p,h)&&(l=null),h||p===null?E(o)&&(l===null?i.removeAttribute(o):i.setAttribute(o,""+l)):p.mustUseProperty?i[p.propertyName]=l===null?p.type===3?!1:"":l:(o=p.attributeName,h=p.attributeNamespace,l===null?i.removeAttribute(o):(p=p.type,l=p===3||p===4&&l===!0?"":""+l,h?i.setAttributeNS(h,o,l):i.setAttribute(o,l))))}var oe=n.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED,we=Symbol.for("react.element"),pe=Symbol.for("react.portal"),k=Symbol.for("react.fragment"),S=Symbol.for("react.strict_mode"),C=Symbol.for("react.profiler"),x=Symbol.for("react.provider"),O=Symbol.for("react.context"),N=Symbol.for("react.forward_ref"),P=Symbol.for("react.suspense"),Ne=Symbol.for("react.suspense_list"),F=Symbol.for("react.memo"),Q=Symbol.for("react.lazy"),he=Symbol.for("react.offscreen"),q=Symbol.iterator;function ie(i){return i===null||typeof i!="object"?null:(i=q&&i[q]||i["@@iterator"],typeof i=="function"?i:null)}var Y=Object.assign,L;function J(i){if(L===void 0)try{throw Error()}catch(l){var o=l.stack.trim().match(/\n( *(at )?)/);L=o&&o[1]||""}return`
`+L+i}var Te=!1;function Ce(i,o){if(!i||Te)return"";Te=!0;var l=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{if(o)if(o=function(){throw Error()},Object.defineProperty(o.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(o,[])}catch($){var h=$}Reflect.construct(i,[],o)}else{try{o.call()}catch($){h=$}i.call(o.prototype)}else{try{throw Error()}catch($){h=$}i()}}catch($){if($&&h&&typeof $.stack=="string"){for(var p=$.stack.split(`
`),y=h.stack.split(`
`),T=p.length-1,A=y.length-1;1<=T&&0<=A&&p[T]!==y[A];)A--;for(;1<=T&&0<=A;T--,A--)if(p[T]!==y[A]){if(T!==1||A!==1)do if(T--,A--,0>A||p[T]!==y[A]){var b=`
`+p[T].replace(" at new "," at ");return i.displayName&&b.includes("<anonymous>")&&(b=b.replace("<anonymous>",i.displayName)),b}while(1<=T&&0<=A);break}}}finally{Te=!1,Error.prepareStackTrace=l}return(i=i?i.displayName||i.name:"")?J(i):""}function Ve(i){switch(i.tag){case 5:return J(i.type);case 16:return J("Lazy");case 13:return J("Suspense");case 19:return J("SuspenseList");case 0:case 2:case 15:return i=Ce(i.type,!1),i;case 11:return i=Ce(i.type.render,!1),i;case 1:return i=Ce(i.type,!0),i;default:return""}}function Me(i){if(i==null)return null;if(typeof i=="function")return i.displayName||i.name||null;if(typeof i=="string")return i;switch(i){case k:return"Fragment";case pe:return"Portal";case C:return"Profiler";case S:return"StrictMode";case P:return"Suspense";case Ne:return"SuspenseList"}if(typeof i=="object")switch(i.$$typeof){case O:return(i.displayName||"Context")+".Consumer";case x:return(i._context.displayName||"Context")+".Provider";case N:var o=i.render;return i=i.displayName,i||(i=o.displayName||o.name||"",i=i!==""?"ForwardRef("+i+")":"ForwardRef"),i;case F:return o=i.displayName||null,o!==null?o:Me(i.type)||"Memo";case Q:o=i._payload,i=i._init;try{return Me(i(o))}catch{}}return null}function Ge(i){var o=i.type;switch(i.tag){case 24:return"Cache";case 9:return(o.displayName||"Context")+".Consumer";case 10:return(o._context.displayName||"Context")+".Provider";case 18:return"DehydratedFragment";case 11:return i=o.render,i=i.displayName||i.name||"",o.displayName||(i!==""?"ForwardRef("+i+")":"ForwardRef");case 7:return"Fragment";case 5:return o;case 4:return"Portal";case 3:return"Root";case 6:return"Text";case 16:return Me(o);case 8:return o===S?"StrictMode":"Mode";case 22:return"Offscreen";case 12:return"Profiler";case 21:return"Scope";case 13:return"Suspense";case 19:return"SuspenseList";case 25:return"TracingMarker";case 1:case 0:case 17:case 2:case 14:case 15:if(typeof o=="function")return o.displayName||o.name||null;if(typeof o=="string")return o}return null}function $e(i){switch(typeof i){case"boolean":case"number":case"string":case"undefined":return i;case"object":return i;default:return""}}function Ye(i){var o=i.type;return(i=i.nodeName)&&i.toLowerCase()==="input"&&(o==="checkbox"||o==="radio")}function en(i){var o=Ye(i)?"checked":"value",l=Object.getOwnPropertyDescriptor(i.constructor.prototype,o),h=""+i[o];if(!i.hasOwnProperty(o)&&typeof l<"u"&&typeof l.get=="function"&&typeof l.set=="function"){var p=l.get,y=l.set;return Object.defineProperty(i,o,{configurable:!0,get:function(){return p.call(this)},set:function(T){h=""+T,y.call(this,T)}}),Object.defineProperty(i,o,{enumerable:l.enumerable}),{getValue:function(){return h},setValue:function(T){h=""+T},stopTracking:function(){i._valueTracker=null,delete i[o]}}}}function ao(i){i._valueTracker||(i._valueTracker=en(i))}function Da(i){if(!i)return!1;var o=i._valueTracker;if(!o)return!0;var l=o.getValue(),h="";return i&&(h=Ye(i)?i.checked?"true":"false":i.value),i=h,i!==l?(o.setValue(i),!0):!1}function yi(i){if(i=i||(typeof document<"u"?document:void 0),typeof i>"u")return null;try{return i.activeElement||i.body}catch{return i.body}}function lo(i,o){var l=o.checked;return Y({},o,{defaultChecked:void 0,defaultValue:void 0,value:void 0,checked:l??i._wrapperState.initialChecked})}function Lu(i,o){var l=o.defaultValue==null?"":o.defaultValue,h=o.checked!=null?o.checked:o.defaultChecked;l=$e(o.value!=null?o.value:l),i._wrapperState={initialChecked:h,initialValue:l,controlled:o.type==="checkbox"||o.type==="radio"?o.checked!=null:o.value!=null}}function uo(i,o){o=o.checked,o!=null&&ve(i,"checked",o,!1)}function fs(i,o){uo(i,o);var l=$e(o.value),h=o.type;if(l!=null)h==="number"?(l===0&&i.value===""||i.value!=l)&&(i.value=""+l):i.value!==""+l&&(i.value=""+l);else if(h==="submit"||h==="reset"){i.removeAttribute("value");return}o.hasOwnProperty("value")?Tt(i,o.type,l):o.hasOwnProperty("defaultValue")&&Tt(i,o.type,$e(o.defaultValue)),o.checked==null&&o.defaultChecked!=null&&(i.defaultChecked=!!o.defaultChecked)}function xa(i,o,l){if(o.hasOwnProperty("value")||o.hasOwnProperty("defaultValue")){var h=o.type;if(!(h!=="submit"&&h!=="reset"||o.value!==void 0&&o.value!==null))return;o=""+i._wrapperState.initialValue,l||o===i.value||(i.value=o),i.defaultValue=o}l=i.name,l!==""&&(i.name=""),i.defaultChecked=!!i._wrapperState.initialChecked,l!==""&&(i.name=l)}function Tt(i,o,l){(o!=="number"||yi(i.ownerDocument)!==i)&&(l==null?i.defaultValue=""+i._wrapperState.initialValue:i.defaultValue!==""+l&&(i.defaultValue=""+l))}var _t=Array.isArray;function Wn(i,o,l,h){if(i=i.options,o){o={};for(var p=0;p<l.length;p++)o["$"+l[p]]=!0;for(l=0;l<i.length;l++)p=o.hasOwnProperty("$"+i[l].value),i[l].selected!==p&&(i[l].selected=p),p&&h&&(i[l].defaultSelected=!0)}else{for(l=""+$e(l),o=null,p=0;p<i.length;p++){if(i[p].value===l){i[p].selected=!0,h&&(i[p].defaultSelected=!0);return}o!==null||i[p].disabled||(o=i[p])}o!==null&&(o.selected=!0)}}function La(i,o){if(o.dangerouslySetInnerHTML!=null)throw Error(t(91));return Y({},o,{value:void 0,defaultValue:void 0,children:""+i._wrapperState.initialValue})}function Va(i,o){var l=o.value;if(l==null){if(l=o.children,o=o.defaultValue,l!=null){if(o!=null)throw Error(t(92));if(_t(l)){if(1<l.length)throw Error(t(93));l=l[0]}o=l}o==null&&(o=""),l=o}i._wrapperState={initialValue:$e(l)}}function Vu(i,o){var l=$e(o.value),h=$e(o.defaultValue);l!=null&&(l=""+l,l!==i.value&&(i.value=l),o.defaultValue==null&&i.defaultValue!==l&&(i.defaultValue=l)),h!=null&&(i.defaultValue=""+h)}function _i(i){var o=i.textContent;o===i._wrapperState.initialValue&&o!==""&&o!==null&&(i.value=o)}function Ma(i){switch(i){case"svg":return"http://www.w3.org/2000/svg";case"math":return"http://www.w3.org/1998/Math/MathML";default:return"http://www.w3.org/1999/xhtml"}}function co(i,o){return i==null||i==="http://www.w3.org/1999/xhtml"?Ma(o):i==="http://www.w3.org/2000/svg"&&o==="foreignObject"?"http://www.w3.org/1999/xhtml":i}var vi,Mu=(function(i){return typeof MSApp<"u"&&MSApp.execUnsafeLocalFunction?function(o,l,h,p){MSApp.execUnsafeLocalFunction(function(){return i(o,l,h,p)})}:i})(function(i,o){if(i.namespaceURI!=="http://www.w3.org/2000/svg"||"innerHTML"in i)i.innerHTML=o;else{for(vi=vi||document.createElement("div"),vi.innerHTML="<svg>"+o.valueOf().toString()+"</svg>",o=vi.firstChild;i.firstChild;)i.removeChild(i.firstChild);for(;o.firstChild;)i.appendChild(o.firstChild)}});function ps(i,o){if(o){var l=i.firstChild;if(l&&l===i.lastChild&&l.nodeType===3){l.nodeValue=o;return}}i.textContent=o}var Ei={animationIterationCount:!0,aspectRatio:!0,borderImageOutset:!0,borderImageSlice:!0,borderImageWidth:!0,boxFlex:!0,boxFlexGroup:!0,boxOrdinalGroup:!0,columnCount:!0,columns:!0,flex:!0,flexGrow:!0,flexPositive:!0,flexShrink:!0,flexNegative:!0,flexOrder:!0,gridArea:!0,gridRow:!0,gridRowEnd:!0,gridRowSpan:!0,gridRowStart:!0,gridColumn:!0,gridColumnEnd:!0,gridColumnSpan:!0,gridColumnStart:!0,fontWeight:!0,lineClamp:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,tabSize:!0,widows:!0,zIndex:!0,zoom:!0,fillOpacity:!0,floodOpacity:!0,stopOpacity:!0,strokeDasharray:!0,strokeDashoffset:!0,strokeMiterlimit:!0,strokeOpacity:!0,strokeWidth:!0},Uu=["Webkit","ms","Moz","O"];Object.keys(Ei).forEach(function(i){Uu.forEach(function(o){o=o+i.charAt(0).toUpperCase()+i.substring(1),Ei[o]=Ei[i]})});function wi(i,o,l){return o==null||typeof o=="boolean"||o===""?"":l||typeof o!="number"||o===0||Ei.hasOwnProperty(i)&&Ei[i]?(""+o).trim():o+"px"}function ho(i,o){i=i.style;for(var l in o)if(o.hasOwnProperty(l)){var h=l.indexOf("--")===0,p=wi(l,o[l],h);l==="float"&&(l="cssFloat"),h?i.setProperty(l,p):i[l]=p}}var Ua=Y({menuitem:!0},{area:!0,base:!0,br:!0,col:!0,embed:!0,hr:!0,img:!0,input:!0,keygen:!0,link:!0,meta:!0,param:!0,source:!0,track:!0,wbr:!0});function Gn(i,o){if(o){if(Ua[i]&&(o.children!=null||o.dangerouslySetInnerHTML!=null))throw Error(t(137,i));if(o.dangerouslySetInnerHTML!=null){if(o.children!=null)throw Error(t(60));if(typeof o.dangerouslySetInnerHTML!="object"||!("__html"in o.dangerouslySetInnerHTML))throw Error(t(61))}if(o.style!=null&&typeof o.style!="object")throw Error(t(62))}}function fo(i,o){if(i.indexOf("-")===-1)return typeof o.is=="string";switch(i){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var Ti=null;function po(i){return i=i.target||i.srcElement||window,i.correspondingUseElement&&(i=i.correspondingUseElement),i.nodeType===3?i.parentNode:i}var Lr=null,Vr=null,ht=null;function Fa(i){if(i=dl(i)){if(typeof Lr!="function")throw Error(t(280));var o=i.stateNode;o&&(o=hc(o),Lr(i.stateNode,i.type,o))}}function Ii(i){Vr?ht?ht.push(i):ht=[i]:Vr=i}function Si(){if(Vr){var i=Vr,o=ht;if(ht=Vr=null,Fa(i),o)for(i=0;i<o.length;i++)Fa(o[i])}}function Fu(i,o){return i(o)}function ju(){}var ar=!1;function zu(i,o,l){if(ar)return i(o,l);ar=!0;try{return Fu(i,o,l)}finally{ar=!1,(Vr!==null||ht!==null)&&(ju(),Si())}}function ms(i,o){var l=i.stateNode;if(l===null)return null;var h=hc(l);if(h===null)return null;l=h[o];e:switch(o){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(h=!h.disabled)||(i=i.type,h=!(i==="button"||i==="input"||i==="select"||i==="textarea")),i=!h;break e;default:i=!1}if(i)return null;if(l&&typeof l!="function")throw Error(t(231,o,typeof l));return l}var Ai=!1;if(d)try{var Ri={};Object.defineProperty(Ri,"passive",{get:function(){Ai=!0}}),window.addEventListener("test",Ri,Ri),window.removeEventListener("test",Ri,Ri)}catch{Ai=!1}function Bu(i,o,l,h,p,y,T,A,b){var $=Array.prototype.slice.call(arguments,3);try{o.apply(l,$)}catch(Z){this.onError(Z)}}var Mr=!1,lr=null,mo=!1,xn=null,$u={onError:function(i){Mr=!0,lr=i}};function Hu(i,o,l,h,p,y,T,A,b){Mr=!1,lr=null,Bu.apply($u,arguments)}function ja(i,o,l,h,p,y,T,A,b){if(Hu.apply(this,arguments),Mr){if(Mr){var $=lr;Mr=!1,lr=null}else throw Error(t(198));mo||(mo=!0,xn=$)}}function Kn(i){var o=i,l=i;if(i.alternate)for(;o.return;)o=o.return;else{i=o;do o=i,(o.flags&4098)!==0&&(l=o.return),i=o.return;while(i)}return o.tag===3?l:null}function za(i){if(i.tag===13){var o=i.memoizedState;if(o===null&&(i=i.alternate,i!==null&&(o=i.memoizedState)),o!==null)return o.dehydrated}return null}function qu(i){if(Kn(i)!==i)throw Error(t(188))}function Wu(i){var o=i.alternate;if(!o){if(o=Kn(i),o===null)throw Error(t(188));return o!==i?null:i}for(var l=i,h=o;;){var p=l.return;if(p===null)break;var y=p.alternate;if(y===null){if(h=p.return,h!==null){l=h;continue}break}if(p.child===y.child){for(y=p.child;y;){if(y===l)return qu(p),i;if(y===h)return qu(p),o;y=y.sibling}throw Error(t(188))}if(l.return!==h.return)l=p,h=y;else{for(var T=!1,A=p.child;A;){if(A===l){T=!0,l=p,h=y;break}if(A===h){T=!0,h=p,l=y;break}A=A.sibling}if(!T){for(A=y.child;A;){if(A===l){T=!0,l=y,h=p;break}if(A===h){T=!0,h=y,l=p;break}A=A.sibling}if(!T)throw Error(t(189))}}if(l.alternate!==h)throw Error(t(190))}if(l.tag!==3)throw Error(t(188));return l.stateNode.current===l?i:o}function Gu(i){return i=Wu(i),i!==null?gs(i):null}function gs(i){if(i.tag===5||i.tag===6)return i;for(i=i.child;i!==null;){var o=gs(i);if(o!==null)return o;i=i.sibling}return null}var Ba=e.unstable_scheduleCallback,go=e.unstable_cancelCallback,ys=e.unstable_shouldYield,Ur=e.unstable_requestPaint,et=e.unstable_now,bd=e.unstable_getCurrentPriorityLevel,yo=e.unstable_ImmediatePriority,$a=e.unstable_UserBlockingPriority,_s=e.unstable_NormalPriority,Ha=e.unstable_LowPriority,_o=e.unstable_IdlePriority,vs=null,En=null;function Ku(i){if(En&&typeof En.onCommitFiberRoot=="function")try{En.onCommitFiberRoot(vs,i,void 0,(i.current.flags&128)===128)}catch{}}var wn=Math.clz32?Math.clz32:Es,ur=Math.log,Ln=Math.LN2;function Es(i){return i>>>=0,i===0?32:31-(ur(i)/Ln|0)|0}var cr=64,Pi=4194304;function We(i){switch(i&-i){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return i&4194240;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return i&130023424;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 1073741824;default:return i}}function Fr(i,o){var l=i.pendingLanes;if(l===0)return 0;var h=0,p=i.suspendedLanes,y=i.pingedLanes,T=l&268435455;if(T!==0){var A=T&~p;A!==0?h=We(A):(y&=T,y!==0&&(h=We(y)))}else T=l&~p,T!==0?h=We(T):y!==0&&(h=We(y));if(h===0)return 0;if(o!==0&&o!==h&&(o&p)===0&&(p=h&-h,y=o&-o,p>=y||p===16&&(y&4194240)!==0))return o;if((h&4)!==0&&(h|=l&16),o=i.entangledLanes,o!==0)for(i=i.entanglements,o&=h;0<o;)l=31-wn(o),p=1<<l,h|=i[l],o&=~p;return h}function ws(i,o){switch(i){case 1:case 2:case 4:return o+250;case 8:case 16:case 32:case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return o+5e3;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return-1;case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function Ts(i,o){for(var l=i.suspendedLanes,h=i.pingedLanes,p=i.expirationTimes,y=i.pendingLanes;0<y;){var T=31-wn(y),A=1<<T,b=p[T];b===-1?((A&l)===0||(A&h)!==0)&&(p[T]=ws(A,o)):b<=o&&(i.expiredLanes|=A),y&=~A}}function qa(i){return i=i.pendingLanes&-1073741825,i!==0?i:i&1073741824?1073741824:0}function Wa(){var i=cr;return cr<<=1,(cr&4194240)===0&&(cr=64),i}function Ga(i){for(var o=[],l=0;31>l;l++)o.push(i);return o}function Is(i,o,l){i.pendingLanes|=o,o!==536870912&&(i.suspendedLanes=0,i.pingedLanes=0),i=i.eventTimes,o=31-wn(o),i[o]=l}function Od(i,o){var l=i.pendingLanes&~o;i.pendingLanes=o,i.suspendedLanes=0,i.pingedLanes=0,i.expiredLanes&=o,i.mutableReadLanes&=o,i.entangledLanes&=o,o=i.entanglements;var h=i.eventTimes;for(i=i.expirationTimes;0<l;){var p=31-wn(l),y=1<<p;o[p]=0,h[p]=-1,i[p]=-1,l&=~y}}function Ka(i,o){var l=i.entangledLanes|=o;for(i=i.entanglements;l;){var h=31-wn(l),p=1<<h;p&o|i[h]&o&&(i[h]|=o),l&=~p}}var ze=0;function hr(i){return i&=-i,1<i?4<i?(i&268435455)!==0?16:536870912:4:1}var Qa,vo,Ya,Ja,Xa,dr=!1,Eo=[],fr=null,pr=null,Mt=null,Ss=new Map,jr=new Map,Tn=[],Qu="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset submit".split(" ");function Ci(i,o){switch(i){case"focusin":case"focusout":fr=null;break;case"dragenter":case"dragleave":pr=null;break;case"mouseover":case"mouseout":Mt=null;break;case"pointerover":case"pointerout":Ss.delete(o.pointerId);break;case"gotpointercapture":case"lostpointercapture":jr.delete(o.pointerId)}}function Qn(i,o,l,h,p,y){return i===null||i.nativeEvent!==y?(i={blockedOn:o,domEventName:l,eventSystemFlags:h,nativeEvent:y,targetContainers:[p]},o!==null&&(o=dl(o),o!==null&&vo(o)),i):(i.eventSystemFlags|=h,o=i.targetContainers,p!==null&&o.indexOf(p)===-1&&o.push(p),i)}function Yu(i,o,l,h,p){switch(o){case"focusin":return fr=Qn(fr,i,o,l,h,p),!0;case"dragenter":return pr=Qn(pr,i,o,l,h,p),!0;case"mouseover":return Mt=Qn(Mt,i,o,l,h,p),!0;case"pointerover":var y=p.pointerId;return Ss.set(y,Qn(Ss.get(y)||null,i,o,l,h,p)),!0;case"gotpointercapture":return y=p.pointerId,jr.set(y,Qn(jr.get(y)||null,i,o,l,h,p)),!0}return!1}function wo(i){var o=Cs(i.target);if(o!==null){var l=Kn(o);if(l!==null){if(o=l.tag,o===13){if(o=za(l),o!==null){i.blockedOn=o,Xa(i.priority,function(){Ya(l)});return}}else if(o===3&&l.stateNode.current.memoizedState.isDehydrated){i.blockedOn=l.tag===3?l.stateNode.containerInfo:null;return}}}i.blockedOn=null}function Je(i){if(i.blockedOn!==null)return!1;for(var o=i.targetContainers;0<o.length;){var l=To(i.domEventName,i.eventSystemFlags,o[0],i.nativeEvent);if(l===null){l=i.nativeEvent;var h=new l.constructor(l.type,l);Ti=h,l.target.dispatchEvent(h),Ti=null}else return o=dl(l),o!==null&&vo(o),i.blockedOn=l,!1;o.shift()}return!0}function Ju(i,o,l){Je(i)&&l.delete(o)}function Nd(){dr=!1,fr!==null&&Je(fr)&&(fr=null),pr!==null&&Je(pr)&&(pr=null),Mt!==null&&Je(Mt)&&(Mt=null),Ss.forEach(Ju),jr.forEach(Ju)}function ki(i,o){i.blockedOn===o&&(i.blockedOn=null,dr||(dr=!0,e.unstable_scheduleCallback(e.unstable_NormalPriority,Nd)))}function bi(i){function o(p){return ki(p,i)}if(0<Eo.length){ki(Eo[0],i);for(var l=1;l<Eo.length;l++){var h=Eo[l];h.blockedOn===i&&(h.blockedOn=null)}}for(fr!==null&&ki(fr,i),pr!==null&&ki(pr,i),Mt!==null&&ki(Mt,i),Ss.forEach(o),jr.forEach(o),l=0;l<Tn.length;l++)h=Tn[l],h.blockedOn===i&&(h.blockedOn=null);for(;0<Tn.length&&(l=Tn[0],l.blockedOn===null);)wo(l),l.blockedOn===null&&Tn.shift()}var zr=oe.ReactCurrentBatchConfig,Br=!0;function mr(i,o,l,h){var p=ze,y=zr.transition;zr.transition=null;try{ze=1,Za(i,o,l,h)}finally{ze=p,zr.transition=y}}function Xu(i,o,l,h){var p=ze,y=zr.transition;zr.transition=null;try{ze=4,Za(i,o,l,h)}finally{ze=p,zr.transition=y}}function Za(i,o,l,h){if(Br){var p=To(i,o,l,h);if(p===null)$d(i,o,h,gr,l),Ci(i,h);else if(Yu(p,i,o,l,h))h.stopPropagation();else if(Ci(i,h),o&4&&-1<Qu.indexOf(i)){for(;p!==null;){var y=dl(p);if(y!==null&&Qa(y),y=To(i,o,l,h),y===null&&$d(i,o,h,gr,l),y===p)break;p=y}p!==null&&h.stopPropagation()}else $d(i,o,h,null,l)}}var gr=null;function To(i,o,l,h){if(gr=null,i=po(h),i=Cs(i),i!==null)if(o=Kn(i),o===null)i=null;else if(l=o.tag,l===13){if(i=za(o),i!==null)return i;i=null}else if(l===3){if(o.stateNode.current.memoizedState.isDehydrated)return o.tag===3?o.stateNode.containerInfo:null;i=null}else o!==i&&(i=null);return gr=i,null}function Io(i){switch(i){case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 1;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"toggle":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 4;case"message":switch(bd()){case yo:return 1;case $a:return 4;case _s:case Ha:return 16;case _o:return 536870912;default:return 16}default:return 16}}var In=null,So=null,$r=null;function Zu(){if($r)return $r;var i,o=So,l=o.length,h,p="value"in In?In.value:In.textContent,y=p.length;for(i=0;i<l&&o[i]===p[i];i++);var T=l-i;for(h=1;h<=T&&o[l-h]===p[y-h];h++);return $r=p.slice(i,1<h?1-h:void 0)}function As(i){var o=i.keyCode;return"charCode"in i?(i=i.charCode,i===0&&o===13&&(i=13)):i=o,i===10&&(i=13),32<=i||i===13?i:0}function yr(){return!0}function el(){return!1}function Ht(i){function o(l,h,p,y,T){this._reactName=l,this._targetInst=p,this.type=h,this.nativeEvent=y,this.target=T,this.currentTarget=null;for(var A in i)i.hasOwnProperty(A)&&(l=i[A],this[A]=l?l(y):y[A]);return this.isDefaultPrevented=(y.defaultPrevented!=null?y.defaultPrevented:y.returnValue===!1)?yr:el,this.isPropagationStopped=el,this}return Y(o.prototype,{preventDefault:function(){this.defaultPrevented=!0;var l=this.nativeEvent;l&&(l.preventDefault?l.preventDefault():typeof l.returnValue!="unknown"&&(l.returnValue=!1),this.isDefaultPrevented=yr)},stopPropagation:function(){var l=this.nativeEvent;l&&(l.stopPropagation?l.stopPropagation():typeof l.cancelBubble!="unknown"&&(l.cancelBubble=!0),this.isPropagationStopped=yr)},persist:function(){},isPersistent:yr}),o}var _r={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(i){return i.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},Rs=Ht(_r),Oi=Y({},_r,{view:0,detail:0}),Ao=Ht(Oi),Ro,Po,Sn,Ps=Y({},Oi,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:De,button:0,buttons:0,relatedTarget:function(i){return i.relatedTarget===void 0?i.fromElement===i.srcElement?i.toElement:i.fromElement:i.relatedTarget},movementX:function(i){return"movementX"in i?i.movementX:(i!==Sn&&(Sn&&i.type==="mousemove"?(Ro=i.screenX-Sn.screenX,Po=i.screenY-Sn.screenY):Po=Ro=0,Sn=i),Ro)},movementY:function(i){return"movementY"in i?i.movementY:Po}}),tl=Ht(Ps),ec=Y({},Ps,{dataTransfer:0}),tc=Ht(ec),Co=Y({},Oi,{relatedTarget:0}),Ut=Ht(Co),nc=Y({},_r,{animationName:0,elapsedTime:0,pseudoElement:0}),rc=Ht(nc),Ni=Y({},_r,{clipboardData:function(i){return"clipboardData"in i?i.clipboardData:window.clipboardData}}),c=Ht(Ni),_=Y({},_r,{data:0}),v=Ht(_),I={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},U={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},H={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function se(i){var o=this.nativeEvent;return o.getModifierState?o.getModifierState(i):(i=H[i])?!!o[i]:!1}function De(){return se}var vt=Y({},Oi,{key:function(i){if(i.key){var o=I[i.key]||i.key;if(o!=="Unidentified")return o}return i.type==="keypress"?(i=As(i),i===13?"Enter":String.fromCharCode(i)):i.type==="keydown"||i.type==="keyup"?U[i.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:De,charCode:function(i){return i.type==="keypress"?As(i):0},keyCode:function(i){return i.type==="keydown"||i.type==="keyup"?i.keyCode:0},which:function(i){return i.type==="keypress"?As(i):i.type==="keydown"||i.type==="keyup"?i.keyCode:0}}),Qe=Ht(vt),It=Y({},Ps,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),An=Ht(It),Hr=Y({},Oi,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:De}),vr=Ht(Hr),Er=Y({},_r,{propertyName:0,elapsedTime:0,pseudoElement:0}),ko=Ht(Er),nl=Y({},Ps,{deltaX:function(i){return"deltaX"in i?i.deltaX:"wheelDeltaX"in i?-i.wheelDeltaX:0},deltaY:function(i){return"deltaY"in i?i.deltaY:"wheelDeltaY"in i?-i.wheelDeltaY:"wheelDelta"in i?-i.wheelDelta:0},deltaZ:0,deltaMode:0}),a0=Ht(nl),l0=[9,13,27,32],Dd=d&&"CompositionEvent"in window,rl=null;d&&"documentMode"in document&&(rl=document.documentMode);var u0=d&&"TextEvent"in window&&!rl,Yg=d&&(!Dd||rl&&8<rl&&11>=rl),Jg=" ",Xg=!1;function Zg(i,o){switch(i){case"keyup":return l0.indexOf(o.keyCode)!==-1;case"keydown":return o.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function ey(i){return i=i.detail,typeof i=="object"&&"data"in i?i.data:null}var bo=!1;function c0(i,o){switch(i){case"compositionend":return ey(o);case"keypress":return o.which!==32?null:(Xg=!0,Jg);case"textInput":return i=o.data,i===Jg&&Xg?null:i;default:return null}}function h0(i,o){if(bo)return i==="compositionend"||!Dd&&Zg(i,o)?(i=Zu(),$r=So=In=null,bo=!1,i):null;switch(i){case"paste":return null;case"keypress":if(!(o.ctrlKey||o.altKey||o.metaKey)||o.ctrlKey&&o.altKey){if(o.char&&1<o.char.length)return o.char;if(o.which)return String.fromCharCode(o.which)}return null;case"compositionend":return Yg&&o.locale!=="ko"?null:o.data;default:return null}}var d0={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function ty(i){var o=i&&i.nodeName&&i.nodeName.toLowerCase();return o==="input"?!!d0[i.type]:o==="textarea"}function ny(i,o,l,h){Ii(h),o=lc(o,"onChange"),0<o.length&&(l=new Rs("onChange","change",null,l,h),i.push({event:l,listeners:o}))}var il=null,sl=null;function f0(i){Ey(i,0)}function ic(i){var o=Lo(i);if(Da(o))return i}function p0(i,o){if(i==="change")return o}var ry=!1;if(d){var xd;if(d){var Ld="oninput"in document;if(!Ld){var iy=document.createElement("div");iy.setAttribute("oninput","return;"),Ld=typeof iy.oninput=="function"}xd=Ld}else xd=!1;ry=xd&&(!document.documentMode||9<document.documentMode)}function sy(){il&&(il.detachEvent("onpropertychange",oy),sl=il=null)}function oy(i){if(i.propertyName==="value"&&ic(sl)){var o=[];ny(o,sl,i,po(i)),zu(f0,o)}}function m0(i,o,l){i==="focusin"?(sy(),il=o,sl=l,il.attachEvent("onpropertychange",oy)):i==="focusout"&&sy()}function g0(i){if(i==="selectionchange"||i==="keyup"||i==="keydown")return ic(sl)}function y0(i,o){if(i==="click")return ic(o)}function _0(i,o){if(i==="input"||i==="change")return ic(o)}function v0(i,o){return i===o&&(i!==0||1/i===1/o)||i!==i&&o!==o}var Yn=typeof Object.is=="function"?Object.is:v0;function ol(i,o){if(Yn(i,o))return!0;if(typeof i!="object"||i===null||typeof o!="object"||o===null)return!1;var l=Object.keys(i),h=Object.keys(o);if(l.length!==h.length)return!1;for(h=0;h<l.length;h++){var p=l[h];if(!f.call(o,p)||!Yn(i[p],o[p]))return!1}return!0}function ay(i){for(;i&&i.firstChild;)i=i.firstChild;return i}function ly(i,o){var l=ay(i);i=0;for(var h;l;){if(l.nodeType===3){if(h=i+l.textContent.length,i<=o&&h>=o)return{node:l,offset:o-i};i=h}e:{for(;l;){if(l.nextSibling){l=l.nextSibling;break e}l=l.parentNode}l=void 0}l=ay(l)}}function uy(i,o){return i&&o?i===o?!0:i&&i.nodeType===3?!1:o&&o.nodeType===3?uy(i,o.parentNode):"contains"in i?i.contains(o):i.compareDocumentPosition?!!(i.compareDocumentPosition(o)&16):!1:!1}function cy(){for(var i=window,o=yi();o instanceof i.HTMLIFrameElement;){try{var l=typeof o.contentWindow.location.href=="string"}catch{l=!1}if(l)i=o.contentWindow;else break;o=yi(i.document)}return o}function Vd(i){var o=i&&i.nodeName&&i.nodeName.toLowerCase();return o&&(o==="input"&&(i.type==="text"||i.type==="search"||i.type==="tel"||i.type==="url"||i.type==="password")||o==="textarea"||i.contentEditable==="true")}function E0(i){var o=cy(),l=i.focusedElem,h=i.selectionRange;if(o!==l&&l&&l.ownerDocument&&uy(l.ownerDocument.documentElement,l)){if(h!==null&&Vd(l)){if(o=h.start,i=h.end,i===void 0&&(i=o),"selectionStart"in l)l.selectionStart=o,l.selectionEnd=Math.min(i,l.value.length);else if(i=(o=l.ownerDocument||document)&&o.defaultView||window,i.getSelection){i=i.getSelection();var p=l.textContent.length,y=Math.min(h.start,p);h=h.end===void 0?y:Math.min(h.end,p),!i.extend&&y>h&&(p=h,h=y,y=p),p=ly(l,y);var T=ly(l,h);p&&T&&(i.rangeCount!==1||i.anchorNode!==p.node||i.anchorOffset!==p.offset||i.focusNode!==T.node||i.focusOffset!==T.offset)&&(o=o.createRange(),o.setStart(p.node,p.offset),i.removeAllRanges(),y>h?(i.addRange(o),i.extend(T.node,T.offset)):(o.setEnd(T.node,T.offset),i.addRange(o)))}}for(o=[],i=l;i=i.parentNode;)i.nodeType===1&&o.push({element:i,left:i.scrollLeft,top:i.scrollTop});for(typeof l.focus=="function"&&l.focus(),l=0;l<o.length;l++)i=o[l],i.element.scrollLeft=i.left,i.element.scrollTop=i.top}}var w0=d&&"documentMode"in document&&11>=document.documentMode,Oo=null,Md=null,al=null,Ud=!1;function hy(i,o,l){var h=l.window===l?l.document:l.nodeType===9?l:l.ownerDocument;Ud||Oo==null||Oo!==yi(h)||(h=Oo,"selectionStart"in h&&Vd(h)?h={start:h.selectionStart,end:h.selectionEnd}:(h=(h.ownerDocument&&h.ownerDocument.defaultView||window).getSelection(),h={anchorNode:h.anchorNode,anchorOffset:h.anchorOffset,focusNode:h.focusNode,focusOffset:h.focusOffset}),al&&ol(al,h)||(al=h,h=lc(Md,"onSelect"),0<h.length&&(o=new Rs("onSelect","select",null,o,l),i.push({event:o,listeners:h}),o.target=Oo)))}function sc(i,o){var l={};return l[i.toLowerCase()]=o.toLowerCase(),l["Webkit"+i]="webkit"+o,l["Moz"+i]="moz"+o,l}var No={animationend:sc("Animation","AnimationEnd"),animationiteration:sc("Animation","AnimationIteration"),animationstart:sc("Animation","AnimationStart"),transitionend:sc("Transition","TransitionEnd")},Fd={},dy={};d&&(dy=document.createElement("div").style,"AnimationEvent"in window||(delete No.animationend.animation,delete No.animationiteration.animation,delete No.animationstart.animation),"TransitionEvent"in window||delete No.transitionend.transition);function oc(i){if(Fd[i])return Fd[i];if(!No[i])return i;var o=No[i],l;for(l in o)if(o.hasOwnProperty(l)&&l in dy)return Fd[i]=o[l];return i}var fy=oc("animationend"),py=oc("animationiteration"),my=oc("animationstart"),gy=oc("transitionend"),yy=new Map,_y="abort auxClick cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");function Di(i,o){yy.set(i,o),a(o,[i])}for(var jd=0;jd<_y.length;jd++){var zd=_y[jd],T0=zd.toLowerCase(),I0=zd[0].toUpperCase()+zd.slice(1);Di(T0,"on"+I0)}Di(fy,"onAnimationEnd"),Di(py,"onAnimationIteration"),Di(my,"onAnimationStart"),Di("dblclick","onDoubleClick"),Di("focusin","onFocus"),Di("focusout","onBlur"),Di(gy,"onTransitionEnd"),u("onMouseEnter",["mouseout","mouseover"]),u("onMouseLeave",["mouseout","mouseover"]),u("onPointerEnter",["pointerout","pointerover"]),u("onPointerLeave",["pointerout","pointerover"]),a("onChange","change click focusin focusout input keydown keyup selectionchange".split(" ")),a("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" ")),a("onBeforeInput",["compositionend","keypress","textInput","paste"]),a("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" ")),a("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" ")),a("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var ll="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),S0=new Set("cancel close invalid load scroll toggle".split(" ").concat(ll));function vy(i,o,l){var h=i.type||"unknown-event";i.currentTarget=l,ja(h,o,void 0,i),i.currentTarget=null}function Ey(i,o){o=(o&4)!==0;for(var l=0;l<i.length;l++){var h=i[l],p=h.event;h=h.listeners;e:{var y=void 0;if(o)for(var T=h.length-1;0<=T;T--){var A=h[T],b=A.instance,$=A.currentTarget;if(A=A.listener,b!==y&&p.isPropagationStopped())break e;vy(p,A,$),y=b}else for(T=0;T<h.length;T++){if(A=h[T],b=A.instance,$=A.currentTarget,A=A.listener,b!==y&&p.isPropagationStopped())break e;vy(p,A,$),y=b}}}if(mo)throw i=xn,mo=!1,xn=null,i}function tt(i,o){var l=o[Qd];l===void 0&&(l=o[Qd]=new Set);var h=i+"__bubble";l.has(h)||(wy(o,i,2,!1),l.add(h))}function Bd(i,o,l){var h=0;o&&(h|=4),wy(l,i,h,o)}var ac="_reactListening"+Math.random().toString(36).slice(2);function ul(i){if(!i[ac]){i[ac]=!0,r.forEach(function(l){l!=="selectionchange"&&(S0.has(l)||Bd(l,!1,i),Bd(l,!0,i))});var o=i.nodeType===9?i:i.ownerDocument;o===null||o[ac]||(o[ac]=!0,Bd("selectionchange",!1,o))}}function wy(i,o,l,h){switch(Io(o)){case 1:var p=mr;break;case 4:p=Xu;break;default:p=Za}l=p.bind(null,o,l,i),p=void 0,!Ai||o!=="touchstart"&&o!=="touchmove"&&o!=="wheel"||(p=!0),h?p!==void 0?i.addEventListener(o,l,{capture:!0,passive:p}):i.addEventListener(o,l,!0):p!==void 0?i.addEventListener(o,l,{passive:p}):i.addEventListener(o,l,!1)}function $d(i,o,l,h,p){var y=h;if((o&1)===0&&(o&2)===0&&h!==null)e:for(;;){if(h===null)return;var T=h.tag;if(T===3||T===4){var A=h.stateNode.containerInfo;if(A===p||A.nodeType===8&&A.parentNode===p)break;if(T===4)for(T=h.return;T!==null;){var b=T.tag;if((b===3||b===4)&&(b=T.stateNode.containerInfo,b===p||b.nodeType===8&&b.parentNode===p))return;T=T.return}for(;A!==null;){if(T=Cs(A),T===null)return;if(b=T.tag,b===5||b===6){h=y=T;continue e}A=A.parentNode}}h=h.return}zu(function(){var $=y,Z=po(l),ee=[];e:{var X=yy.get(i);if(X!==void 0){var ue=Rs,me=i;switch(i){case"keypress":if(As(l)===0)break e;case"keydown":case"keyup":ue=Qe;break;case"focusin":me="focus",ue=Ut;break;case"focusout":me="blur",ue=Ut;break;case"beforeblur":case"afterblur":ue=Ut;break;case"click":if(l.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":ue=tl;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":ue=tc;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":ue=vr;break;case fy:case py:case my:ue=rc;break;case gy:ue=ko;break;case"scroll":ue=Ao;break;case"wheel":ue=a0;break;case"copy":case"cut":case"paste":ue=c;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":ue=An}var ye=(o&4)!==0,Et=!ye&&i==="scroll",M=ye?X!==null?X+"Capture":null:X;ye=[];for(var D=$,j;D!==null;){j=D;var re=j.stateNode;if(j.tag===5&&re!==null&&(j=re,M!==null&&(re=ms(D,M),re!=null&&ye.push(cl(D,re,j)))),Et)break;D=D.return}0<ye.length&&(X=new ue(X,me,null,l,Z),ee.push({event:X,listeners:ye}))}}if((o&7)===0){e:{if(X=i==="mouseover"||i==="pointerover",ue=i==="mouseout"||i==="pointerout",X&&l!==Ti&&(me=l.relatedTarget||l.fromElement)&&(Cs(me)||me[qr]))break e;if((ue||X)&&(X=Z.window===Z?Z:(X=Z.ownerDocument)?X.defaultView||X.parentWindow:window,ue?(me=l.relatedTarget||l.toElement,ue=$,me=me?Cs(me):null,me!==null&&(Et=Kn(me),me!==Et||me.tag!==5&&me.tag!==6)&&(me=null)):(ue=null,me=$),ue!==me)){if(ye=tl,re="onMouseLeave",M="onMouseEnter",D="mouse",(i==="pointerout"||i==="pointerover")&&(ye=An,re="onPointerLeave",M="onPointerEnter",D="pointer"),Et=ue==null?X:Lo(ue),j=me==null?X:Lo(me),X=new ye(re,D+"leave",ue,l,Z),X.target=Et,X.relatedTarget=j,re=null,Cs(Z)===$&&(ye=new ye(M,D+"enter",me,l,Z),ye.target=j,ye.relatedTarget=Et,re=ye),Et=re,ue&&me)t:{for(ye=ue,M=me,D=0,j=ye;j;j=Do(j))D++;for(j=0,re=M;re;re=Do(re))j++;for(;0<D-j;)ye=Do(ye),D--;for(;0<j-D;)M=Do(M),j--;for(;D--;){if(ye===M||M!==null&&ye===M.alternate)break t;ye=Do(ye),M=Do(M)}ye=null}else ye=null;ue!==null&&Ty(ee,X,ue,ye,!1),me!==null&&Et!==null&&Ty(ee,Et,me,ye,!0)}}e:{if(X=$?Lo($):window,ue=X.nodeName&&X.nodeName.toLowerCase(),ue==="select"||ue==="input"&&X.type==="file")var Ee=p0;else if(ty(X))if(ry)Ee=_0;else{Ee=g0;var Ae=m0}else(ue=X.nodeName)&&ue.toLowerCase()==="input"&&(X.type==="checkbox"||X.type==="radio")&&(Ee=y0);if(Ee&&(Ee=Ee(i,$))){ny(ee,Ee,l,Z);break e}Ae&&Ae(i,X,$),i==="focusout"&&(Ae=X._wrapperState)&&Ae.controlled&&X.type==="number"&&Tt(X,"number",X.value)}switch(Ae=$?Lo($):window,i){case"focusin":(ty(Ae)||Ae.contentEditable==="true")&&(Oo=Ae,Md=$,al=null);break;case"focusout":al=Md=Oo=null;break;case"mousedown":Ud=!0;break;case"contextmenu":case"mouseup":case"dragend":Ud=!1,hy(ee,l,Z);break;case"selectionchange":if(w0)break;case"keydown":case"keyup":hy(ee,l,Z)}var Re;if(Dd)e:{switch(i){case"compositionstart":var ke="onCompositionStart";break e;case"compositionend":ke="onCompositionEnd";break e;case"compositionupdate":ke="onCompositionUpdate";break e}ke=void 0}else bo?Zg(i,l)&&(ke="onCompositionEnd"):i==="keydown"&&l.keyCode===229&&(ke="onCompositionStart");ke&&(Yg&&l.locale!=="ko"&&(bo||ke!=="onCompositionStart"?ke==="onCompositionEnd"&&bo&&(Re=Zu()):(In=Z,So="value"in In?In.value:In.textContent,bo=!0)),Ae=lc($,ke),0<Ae.length&&(ke=new v(ke,i,null,l,Z),ee.push({event:ke,listeners:Ae}),Re?ke.data=Re:(Re=ey(l),Re!==null&&(ke.data=Re)))),(Re=u0?c0(i,l):h0(i,l))&&($=lc($,"onBeforeInput"),0<$.length&&(Z=new v("onBeforeInput","beforeinput",null,l,Z),ee.push({event:Z,listeners:$}),Z.data=Re))}Ey(ee,o)})}function cl(i,o,l){return{instance:i,listener:o,currentTarget:l}}function lc(i,o){for(var l=o+"Capture",h=[];i!==null;){var p=i,y=p.stateNode;p.tag===5&&y!==null&&(p=y,y=ms(i,l),y!=null&&h.unshift(cl(i,y,p)),y=ms(i,o),y!=null&&h.push(cl(i,y,p))),i=i.return}return h}function Do(i){if(i===null)return null;do i=i.return;while(i&&i.tag!==5);return i||null}function Ty(i,o,l,h,p){for(var y=o._reactName,T=[];l!==null&&l!==h;){var A=l,b=A.alternate,$=A.stateNode;if(b!==null&&b===h)break;A.tag===5&&$!==null&&(A=$,p?(b=ms(l,y),b!=null&&T.unshift(cl(l,b,A))):p||(b=ms(l,y),b!=null&&T.push(cl(l,b,A)))),l=l.return}T.length!==0&&i.push({event:o,listeners:T})}var A0=/\r\n?/g,R0=/\u0000|\uFFFD/g;function Iy(i){return(typeof i=="string"?i:""+i).replace(A0,`
`).replace(R0,"")}function uc(i,o,l){if(o=Iy(o),Iy(i)!==o&&l)throw Error(t(425))}function cc(){}var Hd=null,qd=null;function Wd(i,o){return i==="textarea"||i==="noscript"||typeof o.children=="string"||typeof o.children=="number"||typeof o.dangerouslySetInnerHTML=="object"&&o.dangerouslySetInnerHTML!==null&&o.dangerouslySetInnerHTML.__html!=null}var Gd=typeof setTimeout=="function"?setTimeout:void 0,P0=typeof clearTimeout=="function"?clearTimeout:void 0,Sy=typeof Promise=="function"?Promise:void 0,C0=typeof queueMicrotask=="function"?queueMicrotask:typeof Sy<"u"?function(i){return Sy.resolve(null).then(i).catch(k0)}:Gd;function k0(i){setTimeout(function(){throw i})}function Kd(i,o){var l=o,h=0;do{var p=l.nextSibling;if(i.removeChild(l),p&&p.nodeType===8)if(l=p.data,l==="/$"){if(h===0){i.removeChild(p),bi(o);return}h--}else l!=="$"&&l!=="$?"&&l!=="$!"||h++;l=p}while(l);bi(o)}function xi(i){for(;i!=null;i=i.nextSibling){var o=i.nodeType;if(o===1||o===3)break;if(o===8){if(o=i.data,o==="$"||o==="$!"||o==="$?")break;if(o==="/$")return null}}return i}function Ay(i){i=i.previousSibling;for(var o=0;i;){if(i.nodeType===8){var l=i.data;if(l==="$"||l==="$!"||l==="$?"){if(o===0)return i;o--}else l==="/$"&&o++}i=i.previousSibling}return null}var xo=Math.random().toString(36).slice(2),wr="__reactFiber$"+xo,hl="__reactProps$"+xo,qr="__reactContainer$"+xo,Qd="__reactEvents$"+xo,b0="__reactListeners$"+xo,O0="__reactHandles$"+xo;function Cs(i){var o=i[wr];if(o)return o;for(var l=i.parentNode;l;){if(o=l[qr]||l[wr]){if(l=o.alternate,o.child!==null||l!==null&&l.child!==null)for(i=Ay(i);i!==null;){if(l=i[wr])return l;i=Ay(i)}return o}i=l,l=i.parentNode}return null}function dl(i){return i=i[wr]||i[qr],!i||i.tag!==5&&i.tag!==6&&i.tag!==13&&i.tag!==3?null:i}function Lo(i){if(i.tag===5||i.tag===6)return i.stateNode;throw Error(t(33))}function hc(i){return i[hl]||null}var Yd=[],Vo=-1;function Li(i){return{current:i}}function nt(i){0>Vo||(i.current=Yd[Vo],Yd[Vo]=null,Vo--)}function Xe(i,o){Vo++,Yd[Vo]=i.current,i.current=o}var Vi={},qt=Li(Vi),un=Li(!1),ks=Vi;function Mo(i,o){var l=i.type.contextTypes;if(!l)return Vi;var h=i.stateNode;if(h&&h.__reactInternalMemoizedUnmaskedChildContext===o)return h.__reactInternalMemoizedMaskedChildContext;var p={},y;for(y in l)p[y]=o[y];return h&&(i=i.stateNode,i.__reactInternalMemoizedUnmaskedChildContext=o,i.__reactInternalMemoizedMaskedChildContext=p),p}function cn(i){return i=i.childContextTypes,i!=null}function dc(){nt(un),nt(qt)}function Ry(i,o,l){if(qt.current!==Vi)throw Error(t(168));Xe(qt,o),Xe(un,l)}function Py(i,o,l){var h=i.stateNode;if(o=o.childContextTypes,typeof h.getChildContext!="function")return l;h=h.getChildContext();for(var p in h)if(!(p in o))throw Error(t(108,Ge(i)||"Unknown",p));return Y({},l,h)}function fc(i){return i=(i=i.stateNode)&&i.__reactInternalMemoizedMergedChildContext||Vi,ks=qt.current,Xe(qt,i),Xe(un,un.current),!0}function Cy(i,o,l){var h=i.stateNode;if(!h)throw Error(t(169));l?(i=Py(i,o,ks),h.__reactInternalMemoizedMergedChildContext=i,nt(un),nt(qt),Xe(qt,i)):nt(un),Xe(un,l)}var Wr=null,pc=!1,Jd=!1;function ky(i){Wr===null?Wr=[i]:Wr.push(i)}function N0(i){pc=!0,ky(i)}function Mi(){if(!Jd&&Wr!==null){Jd=!0;var i=0,o=ze;try{var l=Wr;for(ze=1;i<l.length;i++){var h=l[i];do h=h(!0);while(h!==null)}Wr=null,pc=!1}catch(p){throw Wr!==null&&(Wr=Wr.slice(i+1)),Ba(yo,Mi),p}finally{ze=o,Jd=!1}}return null}var Uo=[],Fo=0,mc=null,gc=0,Vn=[],Mn=0,bs=null,Gr=1,Kr="";function Os(i,o){Uo[Fo++]=gc,Uo[Fo++]=mc,mc=i,gc=o}function by(i,o,l){Vn[Mn++]=Gr,Vn[Mn++]=Kr,Vn[Mn++]=bs,bs=i;var h=Gr;i=Kr;var p=32-wn(h)-1;h&=~(1<<p),l+=1;var y=32-wn(o)+p;if(30<y){var T=p-p%5;y=(h&(1<<T)-1).toString(32),h>>=T,p-=T,Gr=1<<32-wn(o)+p|l<<p|h,Kr=y+i}else Gr=1<<y|l<<p|h,Kr=i}function Xd(i){i.return!==null&&(Os(i,1),by(i,1,0))}function Zd(i){for(;i===mc;)mc=Uo[--Fo],Uo[Fo]=null,gc=Uo[--Fo],Uo[Fo]=null;for(;i===bs;)bs=Vn[--Mn],Vn[Mn]=null,Kr=Vn[--Mn],Vn[Mn]=null,Gr=Vn[--Mn],Vn[Mn]=null}var Rn=null,Pn=null,at=!1,Jn=null;function Oy(i,o){var l=zn(5,null,null,0);l.elementType="DELETED",l.stateNode=o,l.return=i,o=i.deletions,o===null?(i.deletions=[l],i.flags|=16):o.push(l)}function Ny(i,o){switch(i.tag){case 5:var l=i.type;return o=o.nodeType!==1||l.toLowerCase()!==o.nodeName.toLowerCase()?null:o,o!==null?(i.stateNode=o,Rn=i,Pn=xi(o.firstChild),!0):!1;case 6:return o=i.pendingProps===""||o.nodeType!==3?null:o,o!==null?(i.stateNode=o,Rn=i,Pn=null,!0):!1;case 13:return o=o.nodeType!==8?null:o,o!==null?(l=bs!==null?{id:Gr,overflow:Kr}:null,i.memoizedState={dehydrated:o,treeContext:l,retryLane:1073741824},l=zn(18,null,null,0),l.stateNode=o,l.return=i,i.child=l,Rn=i,Pn=null,!0):!1;default:return!1}}function ef(i){return(i.mode&1)!==0&&(i.flags&128)===0}function tf(i){if(at){var o=Pn;if(o){var l=o;if(!Ny(i,o)){if(ef(i))throw Error(t(418));o=xi(l.nextSibling);var h=Rn;o&&Ny(i,o)?Oy(h,l):(i.flags=i.flags&-4097|2,at=!1,Rn=i)}}else{if(ef(i))throw Error(t(418));i.flags=i.flags&-4097|2,at=!1,Rn=i}}}function Dy(i){for(i=i.return;i!==null&&i.tag!==5&&i.tag!==3&&i.tag!==13;)i=i.return;Rn=i}function yc(i){if(i!==Rn)return!1;if(!at)return Dy(i),at=!0,!1;var o;if((o=i.tag!==3)&&!(o=i.tag!==5)&&(o=i.type,o=o!=="head"&&o!=="body"&&!Wd(i.type,i.memoizedProps)),o&&(o=Pn)){if(ef(i))throw xy(),Error(t(418));for(;o;)Oy(i,o),o=xi(o.nextSibling)}if(Dy(i),i.tag===13){if(i=i.memoizedState,i=i!==null?i.dehydrated:null,!i)throw Error(t(317));e:{for(i=i.nextSibling,o=0;i;){if(i.nodeType===8){var l=i.data;if(l==="/$"){if(o===0){Pn=xi(i.nextSibling);break e}o--}else l!=="$"&&l!=="$!"&&l!=="$?"||o++}i=i.nextSibling}Pn=null}}else Pn=Rn?xi(i.stateNode.nextSibling):null;return!0}function xy(){for(var i=Pn;i;)i=xi(i.nextSibling)}function jo(){Pn=Rn=null,at=!1}function nf(i){Jn===null?Jn=[i]:Jn.push(i)}var D0=oe.ReactCurrentBatchConfig;function fl(i,o,l){if(i=l.ref,i!==null&&typeof i!="function"&&typeof i!="object"){if(l._owner){if(l=l._owner,l){if(l.tag!==1)throw Error(t(309));var h=l.stateNode}if(!h)throw Error(t(147,i));var p=h,y=""+i;return o!==null&&o.ref!==null&&typeof o.ref=="function"&&o.ref._stringRef===y?o.ref:(o=function(T){var A=p.refs;T===null?delete A[y]:A[y]=T},o._stringRef=y,o)}if(typeof i!="string")throw Error(t(284));if(!l._owner)throw Error(t(290,i))}return i}function _c(i,o){throw i=Object.prototype.toString.call(o),Error(t(31,i==="[object Object]"?"object with keys {"+Object.keys(o).join(", ")+"}":i))}function Ly(i){var o=i._init;return o(i._payload)}function Vy(i){function o(M,D){if(i){var j=M.deletions;j===null?(M.deletions=[D],M.flags|=16):j.push(D)}}function l(M,D){if(!i)return null;for(;D!==null;)o(M,D),D=D.sibling;return null}function h(M,D){for(M=new Map;D!==null;)D.key!==null?M.set(D.key,D):M.set(D.index,D),D=D.sibling;return M}function p(M,D){return M=qi(M,D),M.index=0,M.sibling=null,M}function y(M,D,j){return M.index=j,i?(j=M.alternate,j!==null?(j=j.index,j<D?(M.flags|=2,D):j):(M.flags|=2,D)):(M.flags|=1048576,D)}function T(M){return i&&M.alternate===null&&(M.flags|=2),M}function A(M,D,j,re){return D===null||D.tag!==6?(D=Kf(j,M.mode,re),D.return=M,D):(D=p(D,j),D.return=M,D)}function b(M,D,j,re){var Ee=j.type;return Ee===k?Z(M,D,j.props.children,re,j.key):D!==null&&(D.elementType===Ee||typeof Ee=="object"&&Ee!==null&&Ee.$$typeof===Q&&Ly(Ee)===D.type)?(re=p(D,j.props),re.ref=fl(M,D,j),re.return=M,re):(re=Bc(j.type,j.key,j.props,null,M.mode,re),re.ref=fl(M,D,j),re.return=M,re)}function $(M,D,j,re){return D===null||D.tag!==4||D.stateNode.containerInfo!==j.containerInfo||D.stateNode.implementation!==j.implementation?(D=Qf(j,M.mode,re),D.return=M,D):(D=p(D,j.children||[]),D.return=M,D)}function Z(M,D,j,re,Ee){return D===null||D.tag!==7?(D=Fs(j,M.mode,re,Ee),D.return=M,D):(D=p(D,j),D.return=M,D)}function ee(M,D,j){if(typeof D=="string"&&D!==""||typeof D=="number")return D=Kf(""+D,M.mode,j),D.return=M,D;if(typeof D=="object"&&D!==null){switch(D.$$typeof){case we:return j=Bc(D.type,D.key,D.props,null,M.mode,j),j.ref=fl(M,null,D),j.return=M,j;case pe:return D=Qf(D,M.mode,j),D.return=M,D;case Q:var re=D._init;return ee(M,re(D._payload),j)}if(_t(D)||ie(D))return D=Fs(D,M.mode,j,null),D.return=M,D;_c(M,D)}return null}function X(M,D,j,re){var Ee=D!==null?D.key:null;if(typeof j=="string"&&j!==""||typeof j=="number")return Ee!==null?null:A(M,D,""+j,re);if(typeof j=="object"&&j!==null){switch(j.$$typeof){case we:return j.key===Ee?b(M,D,j,re):null;case pe:return j.key===Ee?$(M,D,j,re):null;case Q:return Ee=j._init,X(M,D,Ee(j._payload),re)}if(_t(j)||ie(j))return Ee!==null?null:Z(M,D,j,re,null);_c(M,j)}return null}function ue(M,D,j,re,Ee){if(typeof re=="string"&&re!==""||typeof re=="number")return M=M.get(j)||null,A(D,M,""+re,Ee);if(typeof re=="object"&&re!==null){switch(re.$$typeof){case we:return M=M.get(re.key===null?j:re.key)||null,b(D,M,re,Ee);case pe:return M=M.get(re.key===null?j:re.key)||null,$(D,M,re,Ee);case Q:var Ae=re._init;return ue(M,D,j,Ae(re._payload),Ee)}if(_t(re)||ie(re))return M=M.get(j)||null,Z(D,M,re,Ee,null);_c(D,re)}return null}function me(M,D,j,re){for(var Ee=null,Ae=null,Re=D,ke=D=0,xt=null;Re!==null&&ke<j.length;ke++){Re.index>ke?(xt=Re,Re=null):xt=Re.sibling;var qe=X(M,Re,j[ke],re);if(qe===null){Re===null&&(Re=xt);break}i&&Re&&qe.alternate===null&&o(M,Re),D=y(qe,D,ke),Ae===null?Ee=qe:Ae.sibling=qe,Ae=qe,Re=xt}if(ke===j.length)return l(M,Re),at&&Os(M,ke),Ee;if(Re===null){for(;ke<j.length;ke++)Re=ee(M,j[ke],re),Re!==null&&(D=y(Re,D,ke),Ae===null?Ee=Re:Ae.sibling=Re,Ae=Re);return at&&Os(M,ke),Ee}for(Re=h(M,Re);ke<j.length;ke++)xt=ue(Re,M,ke,j[ke],re),xt!==null&&(i&&xt.alternate!==null&&Re.delete(xt.key===null?ke:xt.key),D=y(xt,D,ke),Ae===null?Ee=xt:Ae.sibling=xt,Ae=xt);return i&&Re.forEach(function(Wi){return o(M,Wi)}),at&&Os(M,ke),Ee}function ye(M,D,j,re){var Ee=ie(j);if(typeof Ee!="function")throw Error(t(150));if(j=Ee.call(j),j==null)throw Error(t(151));for(var Ae=Ee=null,Re=D,ke=D=0,xt=null,qe=j.next();Re!==null&&!qe.done;ke++,qe=j.next()){Re.index>ke?(xt=Re,Re=null):xt=Re.sibling;var Wi=X(M,Re,qe.value,re);if(Wi===null){Re===null&&(Re=xt);break}i&&Re&&Wi.alternate===null&&o(M,Re),D=y(Wi,D,ke),Ae===null?Ee=Wi:Ae.sibling=Wi,Ae=Wi,Re=xt}if(qe.done)return l(M,Re),at&&Os(M,ke),Ee;if(Re===null){for(;!qe.done;ke++,qe=j.next())qe=ee(M,qe.value,re),qe!==null&&(D=y(qe,D,ke),Ae===null?Ee=qe:Ae.sibling=qe,Ae=qe);return at&&Os(M,ke),Ee}for(Re=h(M,Re);!qe.done;ke++,qe=j.next())qe=ue(Re,M,ke,qe.value,re),qe!==null&&(i&&qe.alternate!==null&&Re.delete(qe.key===null?ke:qe.key),D=y(qe,D,ke),Ae===null?Ee=qe:Ae.sibling=qe,Ae=qe);return i&&Re.forEach(function(dR){return o(M,dR)}),at&&Os(M,ke),Ee}function Et(M,D,j,re){if(typeof j=="object"&&j!==null&&j.type===k&&j.key===null&&(j=j.props.children),typeof j=="object"&&j!==null){switch(j.$$typeof){case we:e:{for(var Ee=j.key,Ae=D;Ae!==null;){if(Ae.key===Ee){if(Ee=j.type,Ee===k){if(Ae.tag===7){l(M,Ae.sibling),D=p(Ae,j.props.children),D.return=M,M=D;break e}}else if(Ae.elementType===Ee||typeof Ee=="object"&&Ee!==null&&Ee.$$typeof===Q&&Ly(Ee)===Ae.type){l(M,Ae.sibling),D=p(Ae,j.props),D.ref=fl(M,Ae,j),D.return=M,M=D;break e}l(M,Ae);break}else o(M,Ae);Ae=Ae.sibling}j.type===k?(D=Fs(j.props.children,M.mode,re,j.key),D.return=M,M=D):(re=Bc(j.type,j.key,j.props,null,M.mode,re),re.ref=fl(M,D,j),re.return=M,M=re)}return T(M);case pe:e:{for(Ae=j.key;D!==null;){if(D.key===Ae)if(D.tag===4&&D.stateNode.containerInfo===j.containerInfo&&D.stateNode.implementation===j.implementation){l(M,D.sibling),D=p(D,j.children||[]),D.return=M,M=D;break e}else{l(M,D);break}else o(M,D);D=D.sibling}D=Qf(j,M.mode,re),D.return=M,M=D}return T(M);case Q:return Ae=j._init,Et(M,D,Ae(j._payload),re)}if(_t(j))return me(M,D,j,re);if(ie(j))return ye(M,D,j,re);_c(M,j)}return typeof j=="string"&&j!==""||typeof j=="number"?(j=""+j,D!==null&&D.tag===6?(l(M,D.sibling),D=p(D,j),D.return=M,M=D):(l(M,D),D=Kf(j,M.mode,re),D.return=M,M=D),T(M)):l(M,D)}return Et}var zo=Vy(!0),My=Vy(!1),vc=Li(null),Ec=null,Bo=null,rf=null;function sf(){rf=Bo=Ec=null}function of(i){var o=vc.current;nt(vc),i._currentValue=o}function af(i,o,l){for(;i!==null;){var h=i.alternate;if((i.childLanes&o)!==o?(i.childLanes|=o,h!==null&&(h.childLanes|=o)):h!==null&&(h.childLanes&o)!==o&&(h.childLanes|=o),i===l)break;i=i.return}}function $o(i,o){Ec=i,rf=Bo=null,i=i.dependencies,i!==null&&i.firstContext!==null&&((i.lanes&o)!==0&&(hn=!0),i.firstContext=null)}function Un(i){var o=i._currentValue;if(rf!==i)if(i={context:i,memoizedValue:o,next:null},Bo===null){if(Ec===null)throw Error(t(308));Bo=i,Ec.dependencies={lanes:0,firstContext:i}}else Bo=Bo.next=i;return o}var Ns=null;function lf(i){Ns===null?Ns=[i]:Ns.push(i)}function Uy(i,o,l,h){var p=o.interleaved;return p===null?(l.next=l,lf(o)):(l.next=p.next,p.next=l),o.interleaved=l,Qr(i,h)}function Qr(i,o){i.lanes|=o;var l=i.alternate;for(l!==null&&(l.lanes|=o),l=i,i=i.return;i!==null;)i.childLanes|=o,l=i.alternate,l!==null&&(l.childLanes|=o),l=i,i=i.return;return l.tag===3?l.stateNode:null}var Ui=!1;function uf(i){i.updateQueue={baseState:i.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,interleaved:null,lanes:0},effects:null}}function Fy(i,o){i=i.updateQueue,o.updateQueue===i&&(o.updateQueue={baseState:i.baseState,firstBaseUpdate:i.firstBaseUpdate,lastBaseUpdate:i.lastBaseUpdate,shared:i.shared,effects:i.effects})}function Yr(i,o){return{eventTime:i,lane:o,tag:0,payload:null,callback:null,next:null}}function Fi(i,o,l){var h=i.updateQueue;if(h===null)return null;if(h=h.shared,(He&2)!==0){var p=h.pending;return p===null?o.next=o:(o.next=p.next,p.next=o),h.pending=o,Qr(i,l)}return p=h.interleaved,p===null?(o.next=o,lf(h)):(o.next=p.next,p.next=o),h.interleaved=o,Qr(i,l)}function wc(i,o,l){if(o=o.updateQueue,o!==null&&(o=o.shared,(l&4194240)!==0)){var h=o.lanes;h&=i.pendingLanes,l|=h,o.lanes=l,Ka(i,l)}}function jy(i,o){var l=i.updateQueue,h=i.alternate;if(h!==null&&(h=h.updateQueue,l===h)){var p=null,y=null;if(l=l.firstBaseUpdate,l!==null){do{var T={eventTime:l.eventTime,lane:l.lane,tag:l.tag,payload:l.payload,callback:l.callback,next:null};y===null?p=y=T:y=y.next=T,l=l.next}while(l!==null);y===null?p=y=o:y=y.next=o}else p=y=o;l={baseState:h.baseState,firstBaseUpdate:p,lastBaseUpdate:y,shared:h.shared,effects:h.effects},i.updateQueue=l;return}i=l.lastBaseUpdate,i===null?l.firstBaseUpdate=o:i.next=o,l.lastBaseUpdate=o}function Tc(i,o,l,h){var p=i.updateQueue;Ui=!1;var y=p.firstBaseUpdate,T=p.lastBaseUpdate,A=p.shared.pending;if(A!==null){p.shared.pending=null;var b=A,$=b.next;b.next=null,T===null?y=$:T.next=$,T=b;var Z=i.alternate;Z!==null&&(Z=Z.updateQueue,A=Z.lastBaseUpdate,A!==T&&(A===null?Z.firstBaseUpdate=$:A.next=$,Z.lastBaseUpdate=b))}if(y!==null){var ee=p.baseState;T=0,Z=$=b=null,A=y;do{var X=A.lane,ue=A.eventTime;if((h&X)===X){Z!==null&&(Z=Z.next={eventTime:ue,lane:0,tag:A.tag,payload:A.payload,callback:A.callback,next:null});e:{var me=i,ye=A;switch(X=o,ue=l,ye.tag){case 1:if(me=ye.payload,typeof me=="function"){ee=me.call(ue,ee,X);break e}ee=me;break e;case 3:me.flags=me.flags&-65537|128;case 0:if(me=ye.payload,X=typeof me=="function"?me.call(ue,ee,X):me,X==null)break e;ee=Y({},ee,X);break e;case 2:Ui=!0}}A.callback!==null&&A.lane!==0&&(i.flags|=64,X=p.effects,X===null?p.effects=[A]:X.push(A))}else ue={eventTime:ue,lane:X,tag:A.tag,payload:A.payload,callback:A.callback,next:null},Z===null?($=Z=ue,b=ee):Z=Z.next=ue,T|=X;if(A=A.next,A===null){if(A=p.shared.pending,A===null)break;X=A,A=X.next,X.next=null,p.lastBaseUpdate=X,p.shared.pending=null}}while(!0);if(Z===null&&(b=ee),p.baseState=b,p.firstBaseUpdate=$,p.lastBaseUpdate=Z,o=p.shared.interleaved,o!==null){p=o;do T|=p.lane,p=p.next;while(p!==o)}else y===null&&(p.shared.lanes=0);Ls|=T,i.lanes=T,i.memoizedState=ee}}function zy(i,o,l){if(i=o.effects,o.effects=null,i!==null)for(o=0;o<i.length;o++){var h=i[o],p=h.callback;if(p!==null){if(h.callback=null,h=l,typeof p!="function")throw Error(t(191,p));p.call(h)}}}var pl={},Tr=Li(pl),ml=Li(pl),gl=Li(pl);function Ds(i){if(i===pl)throw Error(t(174));return i}function cf(i,o){switch(Xe(gl,o),Xe(ml,i),Xe(Tr,pl),i=o.nodeType,i){case 9:case 11:o=(o=o.documentElement)?o.namespaceURI:co(null,"");break;default:i=i===8?o.parentNode:o,o=i.namespaceURI||null,i=i.tagName,o=co(o,i)}nt(Tr),Xe(Tr,o)}function Ho(){nt(Tr),nt(ml),nt(gl)}function By(i){Ds(gl.current);var o=Ds(Tr.current),l=co(o,i.type);o!==l&&(Xe(ml,i),Xe(Tr,l))}function hf(i){ml.current===i&&(nt(Tr),nt(ml))}var lt=Li(0);function Ic(i){for(var o=i;o!==null;){if(o.tag===13){var l=o.memoizedState;if(l!==null&&(l=l.dehydrated,l===null||l.data==="$?"||l.data==="$!"))return o}else if(o.tag===19&&o.memoizedProps.revealOrder!==void 0){if((o.flags&128)!==0)return o}else if(o.child!==null){o.child.return=o,o=o.child;continue}if(o===i)break;for(;o.sibling===null;){if(o.return===null||o.return===i)return null;o=o.return}o.sibling.return=o.return,o=o.sibling}return null}var df=[];function ff(){for(var i=0;i<df.length;i++)df[i]._workInProgressVersionPrimary=null;df.length=0}var Sc=oe.ReactCurrentDispatcher,pf=oe.ReactCurrentBatchConfig,xs=0,ut=null,kt=null,Nt=null,Ac=!1,yl=!1,_l=0,x0=0;function Wt(){throw Error(t(321))}function mf(i,o){if(o===null)return!1;for(var l=0;l<o.length&&l<i.length;l++)if(!Yn(i[l],o[l]))return!1;return!0}function gf(i,o,l,h,p,y){if(xs=y,ut=o,o.memoizedState=null,o.updateQueue=null,o.lanes=0,Sc.current=i===null||i.memoizedState===null?U0:F0,i=l(h,p),yl){y=0;do{if(yl=!1,_l=0,25<=y)throw Error(t(301));y+=1,Nt=kt=null,o.updateQueue=null,Sc.current=j0,i=l(h,p)}while(yl)}if(Sc.current=Cc,o=kt!==null&&kt.next!==null,xs=0,Nt=kt=ut=null,Ac=!1,o)throw Error(t(300));return i}function yf(){var i=_l!==0;return _l=0,i}function Ir(){var i={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return Nt===null?ut.memoizedState=Nt=i:Nt=Nt.next=i,Nt}function Fn(){if(kt===null){var i=ut.alternate;i=i!==null?i.memoizedState:null}else i=kt.next;var o=Nt===null?ut.memoizedState:Nt.next;if(o!==null)Nt=o,kt=i;else{if(i===null)throw Error(t(310));kt=i,i={memoizedState:kt.memoizedState,baseState:kt.baseState,baseQueue:kt.baseQueue,queue:kt.queue,next:null},Nt===null?ut.memoizedState=Nt=i:Nt=Nt.next=i}return Nt}function vl(i,o){return typeof o=="function"?o(i):o}function _f(i){var o=Fn(),l=o.queue;if(l===null)throw Error(t(311));l.lastRenderedReducer=i;var h=kt,p=h.baseQueue,y=l.pending;if(y!==null){if(p!==null){var T=p.next;p.next=y.next,y.next=T}h.baseQueue=p=y,l.pending=null}if(p!==null){y=p.next,h=h.baseState;var A=T=null,b=null,$=y;do{var Z=$.lane;if((xs&Z)===Z)b!==null&&(b=b.next={lane:0,action:$.action,hasEagerState:$.hasEagerState,eagerState:$.eagerState,next:null}),h=$.hasEagerState?$.eagerState:i(h,$.action);else{var ee={lane:Z,action:$.action,hasEagerState:$.hasEagerState,eagerState:$.eagerState,next:null};b===null?(A=b=ee,T=h):b=b.next=ee,ut.lanes|=Z,Ls|=Z}$=$.next}while($!==null&&$!==y);b===null?T=h:b.next=A,Yn(h,o.memoizedState)||(hn=!0),o.memoizedState=h,o.baseState=T,o.baseQueue=b,l.lastRenderedState=h}if(i=l.interleaved,i!==null){p=i;do y=p.lane,ut.lanes|=y,Ls|=y,p=p.next;while(p!==i)}else p===null&&(l.lanes=0);return[o.memoizedState,l.dispatch]}function vf(i){var o=Fn(),l=o.queue;if(l===null)throw Error(t(311));l.lastRenderedReducer=i;var h=l.dispatch,p=l.pending,y=o.memoizedState;if(p!==null){l.pending=null;var T=p=p.next;do y=i(y,T.action),T=T.next;while(T!==p);Yn(y,o.memoizedState)||(hn=!0),o.memoizedState=y,o.baseQueue===null&&(o.baseState=y),l.lastRenderedState=y}return[y,h]}function $y(){}function Hy(i,o){var l=ut,h=Fn(),p=o(),y=!Yn(h.memoizedState,p);if(y&&(h.memoizedState=p,hn=!0),h=h.queue,Ef(Gy.bind(null,l,h,i),[i]),h.getSnapshot!==o||y||Nt!==null&&Nt.memoizedState.tag&1){if(l.flags|=2048,El(9,Wy.bind(null,l,h,p,o),void 0,null),Dt===null)throw Error(t(349));(xs&30)!==0||qy(l,o,p)}return p}function qy(i,o,l){i.flags|=16384,i={getSnapshot:o,value:l},o=ut.updateQueue,o===null?(o={lastEffect:null,stores:null},ut.updateQueue=o,o.stores=[i]):(l=o.stores,l===null?o.stores=[i]:l.push(i))}function Wy(i,o,l,h){o.value=l,o.getSnapshot=h,Ky(o)&&Qy(i)}function Gy(i,o,l){return l(function(){Ky(o)&&Qy(i)})}function Ky(i){var o=i.getSnapshot;i=i.value;try{var l=o();return!Yn(i,l)}catch{return!0}}function Qy(i){var o=Qr(i,1);o!==null&&tr(o,i,1,-1)}function Yy(i){var o=Ir();return typeof i=="function"&&(i=i()),o.memoizedState=o.baseState=i,i={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:vl,lastRenderedState:i},o.queue=i,i=i.dispatch=M0.bind(null,ut,i),[o.memoizedState,i]}function El(i,o,l,h){return i={tag:i,create:o,destroy:l,deps:h,next:null},o=ut.updateQueue,o===null?(o={lastEffect:null,stores:null},ut.updateQueue=o,o.lastEffect=i.next=i):(l=o.lastEffect,l===null?o.lastEffect=i.next=i:(h=l.next,l.next=i,i.next=h,o.lastEffect=i)),i}function Jy(){return Fn().memoizedState}function Rc(i,o,l,h){var p=Ir();ut.flags|=i,p.memoizedState=El(1|o,l,void 0,h===void 0?null:h)}function Pc(i,o,l,h){var p=Fn();h=h===void 0?null:h;var y=void 0;if(kt!==null){var T=kt.memoizedState;if(y=T.destroy,h!==null&&mf(h,T.deps)){p.memoizedState=El(o,l,y,h);return}}ut.flags|=i,p.memoizedState=El(1|o,l,y,h)}function Xy(i,o){return Rc(8390656,8,i,o)}function Ef(i,o){return Pc(2048,8,i,o)}function Zy(i,o){return Pc(4,2,i,o)}function e_(i,o){return Pc(4,4,i,o)}function t_(i,o){if(typeof o=="function")return i=i(),o(i),function(){o(null)};if(o!=null)return i=i(),o.current=i,function(){o.current=null}}function n_(i,o,l){return l=l!=null?l.concat([i]):null,Pc(4,4,t_.bind(null,o,i),l)}function wf(){}function r_(i,o){var l=Fn();o=o===void 0?null:o;var h=l.memoizedState;return h!==null&&o!==null&&mf(o,h[1])?h[0]:(l.memoizedState=[i,o],i)}function i_(i,o){var l=Fn();o=o===void 0?null:o;var h=l.memoizedState;return h!==null&&o!==null&&mf(o,h[1])?h[0]:(i=i(),l.memoizedState=[i,o],i)}function s_(i,o,l){return(xs&21)===0?(i.baseState&&(i.baseState=!1,hn=!0),i.memoizedState=l):(Yn(l,o)||(l=Wa(),ut.lanes|=l,Ls|=l,i.baseState=!0),o)}function L0(i,o){var l=ze;ze=l!==0&&4>l?l:4,i(!0);var h=pf.transition;pf.transition={};try{i(!1),o()}finally{ze=l,pf.transition=h}}function o_(){return Fn().memoizedState}function V0(i,o,l){var h=$i(i);if(l={lane:h,action:l,hasEagerState:!1,eagerState:null,next:null},a_(i))l_(o,l);else if(l=Uy(i,o,l,h),l!==null){var p=nn();tr(l,i,h,p),u_(l,o,h)}}function M0(i,o,l){var h=$i(i),p={lane:h,action:l,hasEagerState:!1,eagerState:null,next:null};if(a_(i))l_(o,p);else{var y=i.alternate;if(i.lanes===0&&(y===null||y.lanes===0)&&(y=o.lastRenderedReducer,y!==null))try{var T=o.lastRenderedState,A=y(T,l);if(p.hasEagerState=!0,p.eagerState=A,Yn(A,T)){var b=o.interleaved;b===null?(p.next=p,lf(o)):(p.next=b.next,b.next=p),o.interleaved=p;return}}catch{}l=Uy(i,o,p,h),l!==null&&(p=nn(),tr(l,i,h,p),u_(l,o,h))}}function a_(i){var o=i.alternate;return i===ut||o!==null&&o===ut}function l_(i,o){yl=Ac=!0;var l=i.pending;l===null?o.next=o:(o.next=l.next,l.next=o),i.pending=o}function u_(i,o,l){if((l&4194240)!==0){var h=o.lanes;h&=i.pendingLanes,l|=h,o.lanes=l,Ka(i,l)}}var Cc={readContext:Un,useCallback:Wt,useContext:Wt,useEffect:Wt,useImperativeHandle:Wt,useInsertionEffect:Wt,useLayoutEffect:Wt,useMemo:Wt,useReducer:Wt,useRef:Wt,useState:Wt,useDebugValue:Wt,useDeferredValue:Wt,useTransition:Wt,useMutableSource:Wt,useSyncExternalStore:Wt,useId:Wt,unstable_isNewReconciler:!1},U0={readContext:Un,useCallback:function(i,o){return Ir().memoizedState=[i,o===void 0?null:o],i},useContext:Un,useEffect:Xy,useImperativeHandle:function(i,o,l){return l=l!=null?l.concat([i]):null,Rc(4194308,4,t_.bind(null,o,i),l)},useLayoutEffect:function(i,o){return Rc(4194308,4,i,o)},useInsertionEffect:function(i,o){return Rc(4,2,i,o)},useMemo:function(i,o){var l=Ir();return o=o===void 0?null:o,i=i(),l.memoizedState=[i,o],i},useReducer:function(i,o,l){var h=Ir();return o=l!==void 0?l(o):o,h.memoizedState=h.baseState=o,i={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:i,lastRenderedState:o},h.queue=i,i=i.dispatch=V0.bind(null,ut,i),[h.memoizedState,i]},useRef:function(i){var o=Ir();return i={current:i},o.memoizedState=i},useState:Yy,useDebugValue:wf,useDeferredValue:function(i){return Ir().memoizedState=i},useTransition:function(){var i=Yy(!1),o=i[0];return i=L0.bind(null,i[1]),Ir().memoizedState=i,[o,i]},useMutableSource:function(){},useSyncExternalStore:function(i,o,l){var h=ut,p=Ir();if(at){if(l===void 0)throw Error(t(407));l=l()}else{if(l=o(),Dt===null)throw Error(t(349));(xs&30)!==0||qy(h,o,l)}p.memoizedState=l;var y={value:l,getSnapshot:o};return p.queue=y,Xy(Gy.bind(null,h,y,i),[i]),h.flags|=2048,El(9,Wy.bind(null,h,y,l,o),void 0,null),l},useId:function(){var i=Ir(),o=Dt.identifierPrefix;if(at){var l=Kr,h=Gr;l=(h&~(1<<32-wn(h)-1)).toString(32)+l,o=":"+o+"R"+l,l=_l++,0<l&&(o+="H"+l.toString(32)),o+=":"}else l=x0++,o=":"+o+"r"+l.toString(32)+":";return i.memoizedState=o},unstable_isNewReconciler:!1},F0={readContext:Un,useCallback:r_,useContext:Un,useEffect:Ef,useImperativeHandle:n_,useInsertionEffect:Zy,useLayoutEffect:e_,useMemo:i_,useReducer:_f,useRef:Jy,useState:function(){return _f(vl)},useDebugValue:wf,useDeferredValue:function(i){var o=Fn();return s_(o,kt.memoizedState,i)},useTransition:function(){var i=_f(vl)[0],o=Fn().memoizedState;return[i,o]},useMutableSource:$y,useSyncExternalStore:Hy,useId:o_,unstable_isNewReconciler:!1},j0={readContext:Un,useCallback:r_,useContext:Un,useEffect:Ef,useImperativeHandle:n_,useInsertionEffect:Zy,useLayoutEffect:e_,useMemo:i_,useReducer:vf,useRef:Jy,useState:function(){return vf(vl)},useDebugValue:wf,useDeferredValue:function(i){var o=Fn();return kt===null?o.memoizedState=i:s_(o,kt.memoizedState,i)},useTransition:function(){var i=vf(vl)[0],o=Fn().memoizedState;return[i,o]},useMutableSource:$y,useSyncExternalStore:Hy,useId:o_,unstable_isNewReconciler:!1};function Xn(i,o){if(i&&i.defaultProps){o=Y({},o),i=i.defaultProps;for(var l in i)o[l]===void 0&&(o[l]=i[l]);return o}return o}function Tf(i,o,l,h){o=i.memoizedState,l=l(h,o),l=l==null?o:Y({},o,l),i.memoizedState=l,i.lanes===0&&(i.updateQueue.baseState=l)}var kc={isMounted:function(i){return(i=i._reactInternals)?Kn(i)===i:!1},enqueueSetState:function(i,o,l){i=i._reactInternals;var h=nn(),p=$i(i),y=Yr(h,p);y.payload=o,l!=null&&(y.callback=l),o=Fi(i,y,p),o!==null&&(tr(o,i,p,h),wc(o,i,p))},enqueueReplaceState:function(i,o,l){i=i._reactInternals;var h=nn(),p=$i(i),y=Yr(h,p);y.tag=1,y.payload=o,l!=null&&(y.callback=l),o=Fi(i,y,p),o!==null&&(tr(o,i,p,h),wc(o,i,p))},enqueueForceUpdate:function(i,o){i=i._reactInternals;var l=nn(),h=$i(i),p=Yr(l,h);p.tag=2,o!=null&&(p.callback=o),o=Fi(i,p,h),o!==null&&(tr(o,i,h,l),wc(o,i,h))}};function c_(i,o,l,h,p,y,T){return i=i.stateNode,typeof i.shouldComponentUpdate=="function"?i.shouldComponentUpdate(h,y,T):o.prototype&&o.prototype.isPureReactComponent?!ol(l,h)||!ol(p,y):!0}function h_(i,o,l){var h=!1,p=Vi,y=o.contextType;return typeof y=="object"&&y!==null?y=Un(y):(p=cn(o)?ks:qt.current,h=o.contextTypes,y=(h=h!=null)?Mo(i,p):Vi),o=new o(l,y),i.memoizedState=o.state!==null&&o.state!==void 0?o.state:null,o.updater=kc,i.stateNode=o,o._reactInternals=i,h&&(i=i.stateNode,i.__reactInternalMemoizedUnmaskedChildContext=p,i.__reactInternalMemoizedMaskedChildContext=y),o}function d_(i,o,l,h){i=o.state,typeof o.componentWillReceiveProps=="function"&&o.componentWillReceiveProps(l,h),typeof o.UNSAFE_componentWillReceiveProps=="function"&&o.UNSAFE_componentWillReceiveProps(l,h),o.state!==i&&kc.enqueueReplaceState(o,o.state,null)}function If(i,o,l,h){var p=i.stateNode;p.props=l,p.state=i.memoizedState,p.refs={},uf(i);var y=o.contextType;typeof y=="object"&&y!==null?p.context=Un(y):(y=cn(o)?ks:qt.current,p.context=Mo(i,y)),p.state=i.memoizedState,y=o.getDerivedStateFromProps,typeof y=="function"&&(Tf(i,o,y,l),p.state=i.memoizedState),typeof o.getDerivedStateFromProps=="function"||typeof p.getSnapshotBeforeUpdate=="function"||typeof p.UNSAFE_componentWillMount!="function"&&typeof p.componentWillMount!="function"||(o=p.state,typeof p.componentWillMount=="function"&&p.componentWillMount(),typeof p.UNSAFE_componentWillMount=="function"&&p.UNSAFE_componentWillMount(),o!==p.state&&kc.enqueueReplaceState(p,p.state,null),Tc(i,l,p,h),p.state=i.memoizedState),typeof p.componentDidMount=="function"&&(i.flags|=4194308)}function qo(i,o){try{var l="",h=o;do l+=Ve(h),h=h.return;while(h);var p=l}catch(y){p=`
Error generating stack: `+y.message+`
`+y.stack}return{value:i,source:o,stack:p,digest:null}}function Sf(i,o,l){return{value:i,source:null,stack:l??null,digest:o??null}}function Af(i,o){try{console.error(o.value)}catch(l){setTimeout(function(){throw l})}}var z0=typeof WeakMap=="function"?WeakMap:Map;function f_(i,o,l){l=Yr(-1,l),l.tag=3,l.payload={element:null};var h=o.value;return l.callback=function(){Vc||(Vc=!0,jf=h),Af(i,o)},l}function p_(i,o,l){l=Yr(-1,l),l.tag=3;var h=i.type.getDerivedStateFromError;if(typeof h=="function"){var p=o.value;l.payload=function(){return h(p)},l.callback=function(){Af(i,o)}}var y=i.stateNode;return y!==null&&typeof y.componentDidCatch=="function"&&(l.callback=function(){Af(i,o),typeof h!="function"&&(zi===null?zi=new Set([this]):zi.add(this));var T=o.stack;this.componentDidCatch(o.value,{componentStack:T!==null?T:""})}),l}function m_(i,o,l){var h=i.pingCache;if(h===null){h=i.pingCache=new z0;var p=new Set;h.set(o,p)}else p=h.get(o),p===void 0&&(p=new Set,h.set(o,p));p.has(l)||(p.add(l),i=tR.bind(null,i,o,l),o.then(i,i))}function g_(i){do{var o;if((o=i.tag===13)&&(o=i.memoizedState,o=o!==null?o.dehydrated!==null:!0),o)return i;i=i.return}while(i!==null);return null}function y_(i,o,l,h,p){return(i.mode&1)===0?(i===o?i.flags|=65536:(i.flags|=128,l.flags|=131072,l.flags&=-52805,l.tag===1&&(l.alternate===null?l.tag=17:(o=Yr(-1,1),o.tag=2,Fi(l,o,1))),l.lanes|=1),i):(i.flags|=65536,i.lanes=p,i)}var B0=oe.ReactCurrentOwner,hn=!1;function tn(i,o,l,h){o.child=i===null?My(o,null,l,h):zo(o,i.child,l,h)}function __(i,o,l,h,p){l=l.render;var y=o.ref;return $o(o,p),h=gf(i,o,l,h,y,p),l=yf(),i!==null&&!hn?(o.updateQueue=i.updateQueue,o.flags&=-2053,i.lanes&=~p,Jr(i,o,p)):(at&&l&&Xd(o),o.flags|=1,tn(i,o,h,p),o.child)}function v_(i,o,l,h,p){if(i===null){var y=l.type;return typeof y=="function"&&!Gf(y)&&y.defaultProps===void 0&&l.compare===null&&l.defaultProps===void 0?(o.tag=15,o.type=y,E_(i,o,y,h,p)):(i=Bc(l.type,null,h,o,o.mode,p),i.ref=o.ref,i.return=o,o.child=i)}if(y=i.child,(i.lanes&p)===0){var T=y.memoizedProps;if(l=l.compare,l=l!==null?l:ol,l(T,h)&&i.ref===o.ref)return Jr(i,o,p)}return o.flags|=1,i=qi(y,h),i.ref=o.ref,i.return=o,o.child=i}function E_(i,o,l,h,p){if(i!==null){var y=i.memoizedProps;if(ol(y,h)&&i.ref===o.ref)if(hn=!1,o.pendingProps=h=y,(i.lanes&p)!==0)(i.flags&131072)!==0&&(hn=!0);else return o.lanes=i.lanes,Jr(i,o,p)}return Rf(i,o,l,h,p)}function w_(i,o,l){var h=o.pendingProps,p=h.children,y=i!==null?i.memoizedState:null;if(h.mode==="hidden")if((o.mode&1)===0)o.memoizedState={baseLanes:0,cachePool:null,transitions:null},Xe(Go,Cn),Cn|=l;else{if((l&1073741824)===0)return i=y!==null?y.baseLanes|l:l,o.lanes=o.childLanes=1073741824,o.memoizedState={baseLanes:i,cachePool:null,transitions:null},o.updateQueue=null,Xe(Go,Cn),Cn|=i,null;o.memoizedState={baseLanes:0,cachePool:null,transitions:null},h=y!==null?y.baseLanes:l,Xe(Go,Cn),Cn|=h}else y!==null?(h=y.baseLanes|l,o.memoizedState=null):h=l,Xe(Go,Cn),Cn|=h;return tn(i,o,p,l),o.child}function T_(i,o){var l=o.ref;(i===null&&l!==null||i!==null&&i.ref!==l)&&(o.flags|=512,o.flags|=2097152)}function Rf(i,o,l,h,p){var y=cn(l)?ks:qt.current;return y=Mo(o,y),$o(o,p),l=gf(i,o,l,h,y,p),h=yf(),i!==null&&!hn?(o.updateQueue=i.updateQueue,o.flags&=-2053,i.lanes&=~p,Jr(i,o,p)):(at&&h&&Xd(o),o.flags|=1,tn(i,o,l,p),o.child)}function I_(i,o,l,h,p){if(cn(l)){var y=!0;fc(o)}else y=!1;if($o(o,p),o.stateNode===null)Oc(i,o),h_(o,l,h),If(o,l,h,p),h=!0;else if(i===null){var T=o.stateNode,A=o.memoizedProps;T.props=A;var b=T.context,$=l.contextType;typeof $=="object"&&$!==null?$=Un($):($=cn(l)?ks:qt.current,$=Mo(o,$));var Z=l.getDerivedStateFromProps,ee=typeof Z=="function"||typeof T.getSnapshotBeforeUpdate=="function";ee||typeof T.UNSAFE_componentWillReceiveProps!="function"&&typeof T.componentWillReceiveProps!="function"||(A!==h||b!==$)&&d_(o,T,h,$),Ui=!1;var X=o.memoizedState;T.state=X,Tc(o,h,T,p),b=o.memoizedState,A!==h||X!==b||un.current||Ui?(typeof Z=="function"&&(Tf(o,l,Z,h),b=o.memoizedState),(A=Ui||c_(o,l,A,h,X,b,$))?(ee||typeof T.UNSAFE_componentWillMount!="function"&&typeof T.componentWillMount!="function"||(typeof T.componentWillMount=="function"&&T.componentWillMount(),typeof T.UNSAFE_componentWillMount=="function"&&T.UNSAFE_componentWillMount()),typeof T.componentDidMount=="function"&&(o.flags|=4194308)):(typeof T.componentDidMount=="function"&&(o.flags|=4194308),o.memoizedProps=h,o.memoizedState=b),T.props=h,T.state=b,T.context=$,h=A):(typeof T.componentDidMount=="function"&&(o.flags|=4194308),h=!1)}else{T=o.stateNode,Fy(i,o),A=o.memoizedProps,$=o.type===o.elementType?A:Xn(o.type,A),T.props=$,ee=o.pendingProps,X=T.context,b=l.contextType,typeof b=="object"&&b!==null?b=Un(b):(b=cn(l)?ks:qt.current,b=Mo(o,b));var ue=l.getDerivedStateFromProps;(Z=typeof ue=="function"||typeof T.getSnapshotBeforeUpdate=="function")||typeof T.UNSAFE_componentWillReceiveProps!="function"&&typeof T.componentWillReceiveProps!="function"||(A!==ee||X!==b)&&d_(o,T,h,b),Ui=!1,X=o.memoizedState,T.state=X,Tc(o,h,T,p);var me=o.memoizedState;A!==ee||X!==me||un.current||Ui?(typeof ue=="function"&&(Tf(o,l,ue,h),me=o.memoizedState),($=Ui||c_(o,l,$,h,X,me,b)||!1)?(Z||typeof T.UNSAFE_componentWillUpdate!="function"&&typeof T.componentWillUpdate!="function"||(typeof T.componentWillUpdate=="function"&&T.componentWillUpdate(h,me,b),typeof T.UNSAFE_componentWillUpdate=="function"&&T.UNSAFE_componentWillUpdate(h,me,b)),typeof T.componentDidUpdate=="function"&&(o.flags|=4),typeof T.getSnapshotBeforeUpdate=="function"&&(o.flags|=1024)):(typeof T.componentDidUpdate!="function"||A===i.memoizedProps&&X===i.memoizedState||(o.flags|=4),typeof T.getSnapshotBeforeUpdate!="function"||A===i.memoizedProps&&X===i.memoizedState||(o.flags|=1024),o.memoizedProps=h,o.memoizedState=me),T.props=h,T.state=me,T.context=b,h=$):(typeof T.componentDidUpdate!="function"||A===i.memoizedProps&&X===i.memoizedState||(o.flags|=4),typeof T.getSnapshotBeforeUpdate!="function"||A===i.memoizedProps&&X===i.memoizedState||(o.flags|=1024),h=!1)}return Pf(i,o,l,h,y,p)}function Pf(i,o,l,h,p,y){T_(i,o);var T=(o.flags&128)!==0;if(!h&&!T)return p&&Cy(o,l,!1),Jr(i,o,y);h=o.stateNode,B0.current=o;var A=T&&typeof l.getDerivedStateFromError!="function"?null:h.render();return o.flags|=1,i!==null&&T?(o.child=zo(o,i.child,null,y),o.child=zo(o,null,A,y)):tn(i,o,A,y),o.memoizedState=h.state,p&&Cy(o,l,!0),o.child}function S_(i){var o=i.stateNode;o.pendingContext?Ry(i,o.pendingContext,o.pendingContext!==o.context):o.context&&Ry(i,o.context,!1),cf(i,o.containerInfo)}function A_(i,o,l,h,p){return jo(),nf(p),o.flags|=256,tn(i,o,l,h),o.child}var Cf={dehydrated:null,treeContext:null,retryLane:0};function kf(i){return{baseLanes:i,cachePool:null,transitions:null}}function R_(i,o,l){var h=o.pendingProps,p=lt.current,y=!1,T=(o.flags&128)!==0,A;if((A=T)||(A=i!==null&&i.memoizedState===null?!1:(p&2)!==0),A?(y=!0,o.flags&=-129):(i===null||i.memoizedState!==null)&&(p|=1),Xe(lt,p&1),i===null)return tf(o),i=o.memoizedState,i!==null&&(i=i.dehydrated,i!==null)?((o.mode&1)===0?o.lanes=1:i.data==="$!"?o.lanes=8:o.lanes=1073741824,null):(T=h.children,i=h.fallback,y?(h=o.mode,y=o.child,T={mode:"hidden",children:T},(h&1)===0&&y!==null?(y.childLanes=0,y.pendingProps=T):y=$c(T,h,0,null),i=Fs(i,h,l,null),y.return=o,i.return=o,y.sibling=i,o.child=y,o.child.memoizedState=kf(l),o.memoizedState=Cf,i):bf(o,T));if(p=i.memoizedState,p!==null&&(A=p.dehydrated,A!==null))return $0(i,o,T,h,A,p,l);if(y){y=h.fallback,T=o.mode,p=i.child,A=p.sibling;var b={mode:"hidden",children:h.children};return(T&1)===0&&o.child!==p?(h=o.child,h.childLanes=0,h.pendingProps=b,o.deletions=null):(h=qi(p,b),h.subtreeFlags=p.subtreeFlags&14680064),A!==null?y=qi(A,y):(y=Fs(y,T,l,null),y.flags|=2),y.return=o,h.return=o,h.sibling=y,o.child=h,h=y,y=o.child,T=i.child.memoizedState,T=T===null?kf(l):{baseLanes:T.baseLanes|l,cachePool:null,transitions:T.transitions},y.memoizedState=T,y.childLanes=i.childLanes&~l,o.memoizedState=Cf,h}return y=i.child,i=y.sibling,h=qi(y,{mode:"visible",children:h.children}),(o.mode&1)===0&&(h.lanes=l),h.return=o,h.sibling=null,i!==null&&(l=o.deletions,l===null?(o.deletions=[i],o.flags|=16):l.push(i)),o.child=h,o.memoizedState=null,h}function bf(i,o){return o=$c({mode:"visible",children:o},i.mode,0,null),o.return=i,i.child=o}function bc(i,o,l,h){return h!==null&&nf(h),zo(o,i.child,null,l),i=bf(o,o.pendingProps.children),i.flags|=2,o.memoizedState=null,i}function $0(i,o,l,h,p,y,T){if(l)return o.flags&256?(o.flags&=-257,h=Sf(Error(t(422))),bc(i,o,T,h)):o.memoizedState!==null?(o.child=i.child,o.flags|=128,null):(y=h.fallback,p=o.mode,h=$c({mode:"visible",children:h.children},p,0,null),y=Fs(y,p,T,null),y.flags|=2,h.return=o,y.return=o,h.sibling=y,o.child=h,(o.mode&1)!==0&&zo(o,i.child,null,T),o.child.memoizedState=kf(T),o.memoizedState=Cf,y);if((o.mode&1)===0)return bc(i,o,T,null);if(p.data==="$!"){if(h=p.nextSibling&&p.nextSibling.dataset,h)var A=h.dgst;return h=A,y=Error(t(419)),h=Sf(y,h,void 0),bc(i,o,T,h)}if(A=(T&i.childLanes)!==0,hn||A){if(h=Dt,h!==null){switch(T&-T){case 4:p=2;break;case 16:p=8;break;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:p=32;break;case 536870912:p=268435456;break;default:p=0}p=(p&(h.suspendedLanes|T))!==0?0:p,p!==0&&p!==y.retryLane&&(y.retryLane=p,Qr(i,p),tr(h,i,p,-1))}return Wf(),h=Sf(Error(t(421))),bc(i,o,T,h)}return p.data==="$?"?(o.flags|=128,o.child=i.child,o=nR.bind(null,i),p._reactRetry=o,null):(i=y.treeContext,Pn=xi(p.nextSibling),Rn=o,at=!0,Jn=null,i!==null&&(Vn[Mn++]=Gr,Vn[Mn++]=Kr,Vn[Mn++]=bs,Gr=i.id,Kr=i.overflow,bs=o),o=bf(o,h.children),o.flags|=4096,o)}function P_(i,o,l){i.lanes|=o;var h=i.alternate;h!==null&&(h.lanes|=o),af(i.return,o,l)}function Of(i,o,l,h,p){var y=i.memoizedState;y===null?i.memoizedState={isBackwards:o,rendering:null,renderingStartTime:0,last:h,tail:l,tailMode:p}:(y.isBackwards=o,y.rendering=null,y.renderingStartTime=0,y.last=h,y.tail=l,y.tailMode=p)}function C_(i,o,l){var h=o.pendingProps,p=h.revealOrder,y=h.tail;if(tn(i,o,h.children,l),h=lt.current,(h&2)!==0)h=h&1|2,o.flags|=128;else{if(i!==null&&(i.flags&128)!==0)e:for(i=o.child;i!==null;){if(i.tag===13)i.memoizedState!==null&&P_(i,l,o);else if(i.tag===19)P_(i,l,o);else if(i.child!==null){i.child.return=i,i=i.child;continue}if(i===o)break e;for(;i.sibling===null;){if(i.return===null||i.return===o)break e;i=i.return}i.sibling.return=i.return,i=i.sibling}h&=1}if(Xe(lt,h),(o.mode&1)===0)o.memoizedState=null;else switch(p){case"forwards":for(l=o.child,p=null;l!==null;)i=l.alternate,i!==null&&Ic(i)===null&&(p=l),l=l.sibling;l=p,l===null?(p=o.child,o.child=null):(p=l.sibling,l.sibling=null),Of(o,!1,p,l,y);break;case"backwards":for(l=null,p=o.child,o.child=null;p!==null;){if(i=p.alternate,i!==null&&Ic(i)===null){o.child=p;break}i=p.sibling,p.sibling=l,l=p,p=i}Of(o,!0,l,null,y);break;case"together":Of(o,!1,null,null,void 0);break;default:o.memoizedState=null}return o.child}function Oc(i,o){(o.mode&1)===0&&i!==null&&(i.alternate=null,o.alternate=null,o.flags|=2)}function Jr(i,o,l){if(i!==null&&(o.dependencies=i.dependencies),Ls|=o.lanes,(l&o.childLanes)===0)return null;if(i!==null&&o.child!==i.child)throw Error(t(153));if(o.child!==null){for(i=o.child,l=qi(i,i.pendingProps),o.child=l,l.return=o;i.sibling!==null;)i=i.sibling,l=l.sibling=qi(i,i.pendingProps),l.return=o;l.sibling=null}return o.child}function H0(i,o,l){switch(o.tag){case 3:S_(o),jo();break;case 5:By(o);break;case 1:cn(o.type)&&fc(o);break;case 4:cf(o,o.stateNode.containerInfo);break;case 10:var h=o.type._context,p=o.memoizedProps.value;Xe(vc,h._currentValue),h._currentValue=p;break;case 13:if(h=o.memoizedState,h!==null)return h.dehydrated!==null?(Xe(lt,lt.current&1),o.flags|=128,null):(l&o.child.childLanes)!==0?R_(i,o,l):(Xe(lt,lt.current&1),i=Jr(i,o,l),i!==null?i.sibling:null);Xe(lt,lt.current&1);break;case 19:if(h=(l&o.childLanes)!==0,(i.flags&128)!==0){if(h)return C_(i,o,l);o.flags|=128}if(p=o.memoizedState,p!==null&&(p.rendering=null,p.tail=null,p.lastEffect=null),Xe(lt,lt.current),h)break;return null;case 22:case 23:return o.lanes=0,w_(i,o,l)}return Jr(i,o,l)}var k_,Nf,b_,O_;k_=function(i,o){for(var l=o.child;l!==null;){if(l.tag===5||l.tag===6)i.appendChild(l.stateNode);else if(l.tag!==4&&l.child!==null){l.child.return=l,l=l.child;continue}if(l===o)break;for(;l.sibling===null;){if(l.return===null||l.return===o)return;l=l.return}l.sibling.return=l.return,l=l.sibling}},Nf=function(){},b_=function(i,o,l,h){var p=i.memoizedProps;if(p!==h){i=o.stateNode,Ds(Tr.current);var y=null;switch(l){case"input":p=lo(i,p),h=lo(i,h),y=[];break;case"select":p=Y({},p,{value:void 0}),h=Y({},h,{value:void 0}),y=[];break;case"textarea":p=La(i,p),h=La(i,h),y=[];break;default:typeof p.onClick!="function"&&typeof h.onClick=="function"&&(i.onclick=cc)}Gn(l,h);var T;l=null;for($ in p)if(!h.hasOwnProperty($)&&p.hasOwnProperty($)&&p[$]!=null)if($==="style"){var A=p[$];for(T in A)A.hasOwnProperty(T)&&(l||(l={}),l[T]="")}else $!=="dangerouslySetInnerHTML"&&$!=="children"&&$!=="suppressContentEditableWarning"&&$!=="suppressHydrationWarning"&&$!=="autoFocus"&&(s.hasOwnProperty($)?y||(y=[]):(y=y||[]).push($,null));for($ in h){var b=h[$];if(A=p?.[$],h.hasOwnProperty($)&&b!==A&&(b!=null||A!=null))if($==="style")if(A){for(T in A)!A.hasOwnProperty(T)||b&&b.hasOwnProperty(T)||(l||(l={}),l[T]="");for(T in b)b.hasOwnProperty(T)&&A[T]!==b[T]&&(l||(l={}),l[T]=b[T])}else l||(y||(y=[]),y.push($,l)),l=b;else $==="dangerouslySetInnerHTML"?(b=b?b.__html:void 0,A=A?A.__html:void 0,b!=null&&A!==b&&(y=y||[]).push($,b)):$==="children"?typeof b!="string"&&typeof b!="number"||(y=y||[]).push($,""+b):$!=="suppressContentEditableWarning"&&$!=="suppressHydrationWarning"&&(s.hasOwnProperty($)?(b!=null&&$==="onScroll"&&tt("scroll",i),y||A===b||(y=[])):(y=y||[]).push($,b))}l&&(y=y||[]).push("style",l);var $=y;(o.updateQueue=$)&&(o.flags|=4)}},O_=function(i,o,l,h){l!==h&&(o.flags|=4)};function wl(i,o){if(!at)switch(i.tailMode){case"hidden":o=i.tail;for(var l=null;o!==null;)o.alternate!==null&&(l=o),o=o.sibling;l===null?i.tail=null:l.sibling=null;break;case"collapsed":l=i.tail;for(var h=null;l!==null;)l.alternate!==null&&(h=l),l=l.sibling;h===null?o||i.tail===null?i.tail=null:i.tail.sibling=null:h.sibling=null}}function Gt(i){var o=i.alternate!==null&&i.alternate.child===i.child,l=0,h=0;if(o)for(var p=i.child;p!==null;)l|=p.lanes|p.childLanes,h|=p.subtreeFlags&14680064,h|=p.flags&14680064,p.return=i,p=p.sibling;else for(p=i.child;p!==null;)l|=p.lanes|p.childLanes,h|=p.subtreeFlags,h|=p.flags,p.return=i,p=p.sibling;return i.subtreeFlags|=h,i.childLanes=l,o}function q0(i,o,l){var h=o.pendingProps;switch(Zd(o),o.tag){case 2:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return Gt(o),null;case 1:return cn(o.type)&&dc(),Gt(o),null;case 3:return h=o.stateNode,Ho(),nt(un),nt(qt),ff(),h.pendingContext&&(h.context=h.pendingContext,h.pendingContext=null),(i===null||i.child===null)&&(yc(o)?o.flags|=4:i===null||i.memoizedState.isDehydrated&&(o.flags&256)===0||(o.flags|=1024,Jn!==null&&($f(Jn),Jn=null))),Nf(i,o),Gt(o),null;case 5:hf(o);var p=Ds(gl.current);if(l=o.type,i!==null&&o.stateNode!=null)b_(i,o,l,h,p),i.ref!==o.ref&&(o.flags|=512,o.flags|=2097152);else{if(!h){if(o.stateNode===null)throw Error(t(166));return Gt(o),null}if(i=Ds(Tr.current),yc(o)){h=o.stateNode,l=o.type;var y=o.memoizedProps;switch(h[wr]=o,h[hl]=y,i=(o.mode&1)!==0,l){case"dialog":tt("cancel",h),tt("close",h);break;case"iframe":case"object":case"embed":tt("load",h);break;case"video":case"audio":for(p=0;p<ll.length;p++)tt(ll[p],h);break;case"source":tt("error",h);break;case"img":case"image":case"link":tt("error",h),tt("load",h);break;case"details":tt("toggle",h);break;case"input":Lu(h,y),tt("invalid",h);break;case"select":h._wrapperState={wasMultiple:!!y.multiple},tt("invalid",h);break;case"textarea":Va(h,y),tt("invalid",h)}Gn(l,y),p=null;for(var T in y)if(y.hasOwnProperty(T)){var A=y[T];T==="children"?typeof A=="string"?h.textContent!==A&&(y.suppressHydrationWarning!==!0&&uc(h.textContent,A,i),p=["children",A]):typeof A=="number"&&h.textContent!==""+A&&(y.suppressHydrationWarning!==!0&&uc(h.textContent,A,i),p=["children",""+A]):s.hasOwnProperty(T)&&A!=null&&T==="onScroll"&&tt("scroll",h)}switch(l){case"input":ao(h),xa(h,y,!0);break;case"textarea":ao(h),_i(h);break;case"select":case"option":break;default:typeof y.onClick=="function"&&(h.onclick=cc)}h=p,o.updateQueue=h,h!==null&&(o.flags|=4)}else{T=p.nodeType===9?p:p.ownerDocument,i==="http://www.w3.org/1999/xhtml"&&(i=Ma(l)),i==="http://www.w3.org/1999/xhtml"?l==="script"?(i=T.createElement("div"),i.innerHTML="<script><\/script>",i=i.removeChild(i.firstChild)):typeof h.is=="string"?i=T.createElement(l,{is:h.is}):(i=T.createElement(l),l==="select"&&(T=i,h.multiple?T.multiple=!0:h.size&&(T.size=h.size))):i=T.createElementNS(i,l),i[wr]=o,i[hl]=h,k_(i,o,!1,!1),o.stateNode=i;e:{switch(T=fo(l,h),l){case"dialog":tt("cancel",i),tt("close",i),p=h;break;case"iframe":case"object":case"embed":tt("load",i),p=h;break;case"video":case"audio":for(p=0;p<ll.length;p++)tt(ll[p],i);p=h;break;case"source":tt("error",i),p=h;break;case"img":case"image":case"link":tt("error",i),tt("load",i),p=h;break;case"details":tt("toggle",i),p=h;break;case"input":Lu(i,h),p=lo(i,h),tt("invalid",i);break;case"option":p=h;break;case"select":i._wrapperState={wasMultiple:!!h.multiple},p=Y({},h,{value:void 0}),tt("invalid",i);break;case"textarea":Va(i,h),p=La(i,h),tt("invalid",i);break;default:p=h}Gn(l,p),A=p;for(y in A)if(A.hasOwnProperty(y)){var b=A[y];y==="style"?ho(i,b):y==="dangerouslySetInnerHTML"?(b=b?b.__html:void 0,b!=null&&Mu(i,b)):y==="children"?typeof b=="string"?(l!=="textarea"||b!=="")&&ps(i,b):typeof b=="number"&&ps(i,""+b):y!=="suppressContentEditableWarning"&&y!=="suppressHydrationWarning"&&y!=="autoFocus"&&(s.hasOwnProperty(y)?b!=null&&y==="onScroll"&&tt("scroll",i):b!=null&&ve(i,y,b,T))}switch(l){case"input":ao(i),xa(i,h,!1);break;case"textarea":ao(i),_i(i);break;case"option":h.value!=null&&i.setAttribute("value",""+$e(h.value));break;case"select":i.multiple=!!h.multiple,y=h.value,y!=null?Wn(i,!!h.multiple,y,!1):h.defaultValue!=null&&Wn(i,!!h.multiple,h.defaultValue,!0);break;default:typeof p.onClick=="function"&&(i.onclick=cc)}switch(l){case"button":case"input":case"select":case"textarea":h=!!h.autoFocus;break e;case"img":h=!0;break e;default:h=!1}}h&&(o.flags|=4)}o.ref!==null&&(o.flags|=512,o.flags|=2097152)}return Gt(o),null;case 6:if(i&&o.stateNode!=null)O_(i,o,i.memoizedProps,h);else{if(typeof h!="string"&&o.stateNode===null)throw Error(t(166));if(l=Ds(gl.current),Ds(Tr.current),yc(o)){if(h=o.stateNode,l=o.memoizedProps,h[wr]=o,(y=h.nodeValue!==l)&&(i=Rn,i!==null))switch(i.tag){case 3:uc(h.nodeValue,l,(i.mode&1)!==0);break;case 5:i.memoizedProps.suppressHydrationWarning!==!0&&uc(h.nodeValue,l,(i.mode&1)!==0)}y&&(o.flags|=4)}else h=(l.nodeType===9?l:l.ownerDocument).createTextNode(h),h[wr]=o,o.stateNode=h}return Gt(o),null;case 13:if(nt(lt),h=o.memoizedState,i===null||i.memoizedState!==null&&i.memoizedState.dehydrated!==null){if(at&&Pn!==null&&(o.mode&1)!==0&&(o.flags&128)===0)xy(),jo(),o.flags|=98560,y=!1;else if(y=yc(o),h!==null&&h.dehydrated!==null){if(i===null){if(!y)throw Error(t(318));if(y=o.memoizedState,y=y!==null?y.dehydrated:null,!y)throw Error(t(317));y[wr]=o}else jo(),(o.flags&128)===0&&(o.memoizedState=null),o.flags|=4;Gt(o),y=!1}else Jn!==null&&($f(Jn),Jn=null),y=!0;if(!y)return o.flags&65536?o:null}return(o.flags&128)!==0?(o.lanes=l,o):(h=h!==null,h!==(i!==null&&i.memoizedState!==null)&&h&&(o.child.flags|=8192,(o.mode&1)!==0&&(i===null||(lt.current&1)!==0?bt===0&&(bt=3):Wf())),o.updateQueue!==null&&(o.flags|=4),Gt(o),null);case 4:return Ho(),Nf(i,o),i===null&&ul(o.stateNode.containerInfo),Gt(o),null;case 10:return of(o.type._context),Gt(o),null;case 17:return cn(o.type)&&dc(),Gt(o),null;case 19:if(nt(lt),y=o.memoizedState,y===null)return Gt(o),null;if(h=(o.flags&128)!==0,T=y.rendering,T===null)if(h)wl(y,!1);else{if(bt!==0||i!==null&&(i.flags&128)!==0)for(i=o.child;i!==null;){if(T=Ic(i),T!==null){for(o.flags|=128,wl(y,!1),h=T.updateQueue,h!==null&&(o.updateQueue=h,o.flags|=4),o.subtreeFlags=0,h=l,l=o.child;l!==null;)y=l,i=h,y.flags&=14680066,T=y.alternate,T===null?(y.childLanes=0,y.lanes=i,y.child=null,y.subtreeFlags=0,y.memoizedProps=null,y.memoizedState=null,y.updateQueue=null,y.dependencies=null,y.stateNode=null):(y.childLanes=T.childLanes,y.lanes=T.lanes,y.child=T.child,y.subtreeFlags=0,y.deletions=null,y.memoizedProps=T.memoizedProps,y.memoizedState=T.memoizedState,y.updateQueue=T.updateQueue,y.type=T.type,i=T.dependencies,y.dependencies=i===null?null:{lanes:i.lanes,firstContext:i.firstContext}),l=l.sibling;return Xe(lt,lt.current&1|2),o.child}i=i.sibling}y.tail!==null&&et()>Ko&&(o.flags|=128,h=!0,wl(y,!1),o.lanes=4194304)}else{if(!h)if(i=Ic(T),i!==null){if(o.flags|=128,h=!0,l=i.updateQueue,l!==null&&(o.updateQueue=l,o.flags|=4),wl(y,!0),y.tail===null&&y.tailMode==="hidden"&&!T.alternate&&!at)return Gt(o),null}else 2*et()-y.renderingStartTime>Ko&&l!==1073741824&&(o.flags|=128,h=!0,wl(y,!1),o.lanes=4194304);y.isBackwards?(T.sibling=o.child,o.child=T):(l=y.last,l!==null?l.sibling=T:o.child=T,y.last=T)}return y.tail!==null?(o=y.tail,y.rendering=o,y.tail=o.sibling,y.renderingStartTime=et(),o.sibling=null,l=lt.current,Xe(lt,h?l&1|2:l&1),o):(Gt(o),null);case 22:case 23:return qf(),h=o.memoizedState!==null,i!==null&&i.memoizedState!==null!==h&&(o.flags|=8192),h&&(o.mode&1)!==0?(Cn&1073741824)!==0&&(Gt(o),o.subtreeFlags&6&&(o.flags|=8192)):Gt(o),null;case 24:return null;case 25:return null}throw Error(t(156,o.tag))}function W0(i,o){switch(Zd(o),o.tag){case 1:return cn(o.type)&&dc(),i=o.flags,i&65536?(o.flags=i&-65537|128,o):null;case 3:return Ho(),nt(un),nt(qt),ff(),i=o.flags,(i&65536)!==0&&(i&128)===0?(o.flags=i&-65537|128,o):null;case 5:return hf(o),null;case 13:if(nt(lt),i=o.memoizedState,i!==null&&i.dehydrated!==null){if(o.alternate===null)throw Error(t(340));jo()}return i=o.flags,i&65536?(o.flags=i&-65537|128,o):null;case 19:return nt(lt),null;case 4:return Ho(),null;case 10:return of(o.type._context),null;case 22:case 23:return qf(),null;case 24:return null;default:return null}}var Nc=!1,Kt=!1,G0=typeof WeakSet=="function"?WeakSet:Set,fe=null;function Wo(i,o){var l=i.ref;if(l!==null)if(typeof l=="function")try{l(null)}catch(h){dt(i,o,h)}else l.current=null}function Df(i,o,l){try{l()}catch(h){dt(i,o,h)}}var N_=!1;function K0(i,o){if(Hd=Br,i=cy(),Vd(i)){if("selectionStart"in i)var l={start:i.selectionStart,end:i.selectionEnd};else e:{l=(l=i.ownerDocument)&&l.defaultView||window;var h=l.getSelection&&l.getSelection();if(h&&h.rangeCount!==0){l=h.anchorNode;var p=h.anchorOffset,y=h.focusNode;h=h.focusOffset;try{l.nodeType,y.nodeType}catch{l=null;break e}var T=0,A=-1,b=-1,$=0,Z=0,ee=i,X=null;t:for(;;){for(var ue;ee!==l||p!==0&&ee.nodeType!==3||(A=T+p),ee!==y||h!==0&&ee.nodeType!==3||(b=T+h),ee.nodeType===3&&(T+=ee.nodeValue.length),(ue=ee.firstChild)!==null;)X=ee,ee=ue;for(;;){if(ee===i)break t;if(X===l&&++$===p&&(A=T),X===y&&++Z===h&&(b=T),(ue=ee.nextSibling)!==null)break;ee=X,X=ee.parentNode}ee=ue}l=A===-1||b===-1?null:{start:A,end:b}}else l=null}l=l||{start:0,end:0}}else l=null;for(qd={focusedElem:i,selectionRange:l},Br=!1,fe=o;fe!==null;)if(o=fe,i=o.child,(o.subtreeFlags&1028)!==0&&i!==null)i.return=o,fe=i;else for(;fe!==null;){o=fe;try{var me=o.alternate;if((o.flags&1024)!==0)switch(o.tag){case 0:case 11:case 15:break;case 1:if(me!==null){var ye=me.memoizedProps,Et=me.memoizedState,M=o.stateNode,D=M.getSnapshotBeforeUpdate(o.elementType===o.type?ye:Xn(o.type,ye),Et);M.__reactInternalSnapshotBeforeUpdate=D}break;case 3:var j=o.stateNode.containerInfo;j.nodeType===1?j.textContent="":j.nodeType===9&&j.documentElement&&j.removeChild(j.documentElement);break;case 5:case 6:case 4:case 17:break;default:throw Error(t(163))}}catch(re){dt(o,o.return,re)}if(i=o.sibling,i!==null){i.return=o.return,fe=i;break}fe=o.return}return me=N_,N_=!1,me}function Tl(i,o,l){var h=o.updateQueue;if(h=h!==null?h.lastEffect:null,h!==null){var p=h=h.next;do{if((p.tag&i)===i){var y=p.destroy;p.destroy=void 0,y!==void 0&&Df(o,l,y)}p=p.next}while(p!==h)}}function Dc(i,o){if(o=o.updateQueue,o=o!==null?o.lastEffect:null,o!==null){var l=o=o.next;do{if((l.tag&i)===i){var h=l.create;l.destroy=h()}l=l.next}while(l!==o)}}function xf(i){var o=i.ref;if(o!==null){var l=i.stateNode;i.tag,i=l,typeof o=="function"?o(i):o.current=i}}function D_(i){var o=i.alternate;o!==null&&(i.alternate=null,D_(o)),i.child=null,i.deletions=null,i.sibling=null,i.tag===5&&(o=i.stateNode,o!==null&&(delete o[wr],delete o[hl],delete o[Qd],delete o[b0],delete o[O0])),i.stateNode=null,i.return=null,i.dependencies=null,i.memoizedProps=null,i.memoizedState=null,i.pendingProps=null,i.stateNode=null,i.updateQueue=null}function x_(i){return i.tag===5||i.tag===3||i.tag===4}function L_(i){e:for(;;){for(;i.sibling===null;){if(i.return===null||x_(i.return))return null;i=i.return}for(i.sibling.return=i.return,i=i.sibling;i.tag!==5&&i.tag!==6&&i.tag!==18;){if(i.flags&2||i.child===null||i.tag===4)continue e;i.child.return=i,i=i.child}if(!(i.flags&2))return i.stateNode}}function Lf(i,o,l){var h=i.tag;if(h===5||h===6)i=i.stateNode,o?l.nodeType===8?l.parentNode.insertBefore(i,o):l.insertBefore(i,o):(l.nodeType===8?(o=l.parentNode,o.insertBefore(i,l)):(o=l,o.appendChild(i)),l=l._reactRootContainer,l!=null||o.onclick!==null||(o.onclick=cc));else if(h!==4&&(i=i.child,i!==null))for(Lf(i,o,l),i=i.sibling;i!==null;)Lf(i,o,l),i=i.sibling}function Vf(i,o,l){var h=i.tag;if(h===5||h===6)i=i.stateNode,o?l.insertBefore(i,o):l.appendChild(i);else if(h!==4&&(i=i.child,i!==null))for(Vf(i,o,l),i=i.sibling;i!==null;)Vf(i,o,l),i=i.sibling}var Ft=null,Zn=!1;function ji(i,o,l){for(l=l.child;l!==null;)V_(i,o,l),l=l.sibling}function V_(i,o,l){if(En&&typeof En.onCommitFiberUnmount=="function")try{En.onCommitFiberUnmount(vs,l)}catch{}switch(l.tag){case 5:Kt||Wo(l,o);case 6:var h=Ft,p=Zn;Ft=null,ji(i,o,l),Ft=h,Zn=p,Ft!==null&&(Zn?(i=Ft,l=l.stateNode,i.nodeType===8?i.parentNode.removeChild(l):i.removeChild(l)):Ft.removeChild(l.stateNode));break;case 18:Ft!==null&&(Zn?(i=Ft,l=l.stateNode,i.nodeType===8?Kd(i.parentNode,l):i.nodeType===1&&Kd(i,l),bi(i)):Kd(Ft,l.stateNode));break;case 4:h=Ft,p=Zn,Ft=l.stateNode.containerInfo,Zn=!0,ji(i,o,l),Ft=h,Zn=p;break;case 0:case 11:case 14:case 15:if(!Kt&&(h=l.updateQueue,h!==null&&(h=h.lastEffect,h!==null))){p=h=h.next;do{var y=p,T=y.destroy;y=y.tag,T!==void 0&&((y&2)!==0||(y&4)!==0)&&Df(l,o,T),p=p.next}while(p!==h)}ji(i,o,l);break;case 1:if(!Kt&&(Wo(l,o),h=l.stateNode,typeof h.componentWillUnmount=="function"))try{h.props=l.memoizedProps,h.state=l.memoizedState,h.componentWillUnmount()}catch(A){dt(l,o,A)}ji(i,o,l);break;case 21:ji(i,o,l);break;case 22:l.mode&1?(Kt=(h=Kt)||l.memoizedState!==null,ji(i,o,l),Kt=h):ji(i,o,l);break;default:ji(i,o,l)}}function M_(i){var o=i.updateQueue;if(o!==null){i.updateQueue=null;var l=i.stateNode;l===null&&(l=i.stateNode=new G0),o.forEach(function(h){var p=rR.bind(null,i,h);l.has(h)||(l.add(h),h.then(p,p))})}}function er(i,o){var l=o.deletions;if(l!==null)for(var h=0;h<l.length;h++){var p=l[h];try{var y=i,T=o,A=T;e:for(;A!==null;){switch(A.tag){case 5:Ft=A.stateNode,Zn=!1;break e;case 3:Ft=A.stateNode.containerInfo,Zn=!0;break e;case 4:Ft=A.stateNode.containerInfo,Zn=!0;break e}A=A.return}if(Ft===null)throw Error(t(160));V_(y,T,p),Ft=null,Zn=!1;var b=p.alternate;b!==null&&(b.return=null),p.return=null}catch($){dt(p,o,$)}}if(o.subtreeFlags&12854)for(o=o.child;o!==null;)U_(o,i),o=o.sibling}function U_(i,o){var l=i.alternate,h=i.flags;switch(i.tag){case 0:case 11:case 14:case 15:if(er(o,i),Sr(i),h&4){try{Tl(3,i,i.return),Dc(3,i)}catch(ye){dt(i,i.return,ye)}try{Tl(5,i,i.return)}catch(ye){dt(i,i.return,ye)}}break;case 1:er(o,i),Sr(i),h&512&&l!==null&&Wo(l,l.return);break;case 5:if(er(o,i),Sr(i),h&512&&l!==null&&Wo(l,l.return),i.flags&32){var p=i.stateNode;try{ps(p,"")}catch(ye){dt(i,i.return,ye)}}if(h&4&&(p=i.stateNode,p!=null)){var y=i.memoizedProps,T=l!==null?l.memoizedProps:y,A=i.type,b=i.updateQueue;if(i.updateQueue=null,b!==null)try{A==="input"&&y.type==="radio"&&y.name!=null&&uo(p,y),fo(A,T);var $=fo(A,y);for(T=0;T<b.length;T+=2){var Z=b[T],ee=b[T+1];Z==="style"?ho(p,ee):Z==="dangerouslySetInnerHTML"?Mu(p,ee):Z==="children"?ps(p,ee):ve(p,Z,ee,$)}switch(A){case"input":fs(p,y);break;case"textarea":Vu(p,y);break;case"select":var X=p._wrapperState.wasMultiple;p._wrapperState.wasMultiple=!!y.multiple;var ue=y.value;ue!=null?Wn(p,!!y.multiple,ue,!1):X!==!!y.multiple&&(y.defaultValue!=null?Wn(p,!!y.multiple,y.defaultValue,!0):Wn(p,!!y.multiple,y.multiple?[]:"",!1))}p[hl]=y}catch(ye){dt(i,i.return,ye)}}break;case 6:if(er(o,i),Sr(i),h&4){if(i.stateNode===null)throw Error(t(162));p=i.stateNode,y=i.memoizedProps;try{p.nodeValue=y}catch(ye){dt(i,i.return,ye)}}break;case 3:if(er(o,i),Sr(i),h&4&&l!==null&&l.memoizedState.isDehydrated)try{bi(o.containerInfo)}catch(ye){dt(i,i.return,ye)}break;case 4:er(o,i),Sr(i);break;case 13:er(o,i),Sr(i),p=i.child,p.flags&8192&&(y=p.memoizedState!==null,p.stateNode.isHidden=y,!y||p.alternate!==null&&p.alternate.memoizedState!==null||(Ff=et())),h&4&&M_(i);break;case 22:if(Z=l!==null&&l.memoizedState!==null,i.mode&1?(Kt=($=Kt)||Z,er(o,i),Kt=$):er(o,i),Sr(i),h&8192){if($=i.memoizedState!==null,(i.stateNode.isHidden=$)&&!Z&&(i.mode&1)!==0)for(fe=i,Z=i.child;Z!==null;){for(ee=fe=Z;fe!==null;){switch(X=fe,ue=X.child,X.tag){case 0:case 11:case 14:case 15:Tl(4,X,X.return);break;case 1:Wo(X,X.return);var me=X.stateNode;if(typeof me.componentWillUnmount=="function"){h=X,l=X.return;try{o=h,me.props=o.memoizedProps,me.state=o.memoizedState,me.componentWillUnmount()}catch(ye){dt(h,l,ye)}}break;case 5:Wo(X,X.return);break;case 22:if(X.memoizedState!==null){z_(ee);continue}}ue!==null?(ue.return=X,fe=ue):z_(ee)}Z=Z.sibling}e:for(Z=null,ee=i;;){if(ee.tag===5){if(Z===null){Z=ee;try{p=ee.stateNode,$?(y=p.style,typeof y.setProperty=="function"?y.setProperty("display","none","important"):y.display="none"):(A=ee.stateNode,b=ee.memoizedProps.style,T=b!=null&&b.hasOwnProperty("display")?b.display:null,A.style.display=wi("display",T))}catch(ye){dt(i,i.return,ye)}}}else if(ee.tag===6){if(Z===null)try{ee.stateNode.nodeValue=$?"":ee.memoizedProps}catch(ye){dt(i,i.return,ye)}}else if((ee.tag!==22&&ee.tag!==23||ee.memoizedState===null||ee===i)&&ee.child!==null){ee.child.return=ee,ee=ee.child;continue}if(ee===i)break e;for(;ee.sibling===null;){if(ee.return===null||ee.return===i)break e;Z===ee&&(Z=null),ee=ee.return}Z===ee&&(Z=null),ee.sibling.return=ee.return,ee=ee.sibling}}break;case 19:er(o,i),Sr(i),h&4&&M_(i);break;case 21:break;default:er(o,i),Sr(i)}}function Sr(i){var o=i.flags;if(o&2){try{e:{for(var l=i.return;l!==null;){if(x_(l)){var h=l;break e}l=l.return}throw Error(t(160))}switch(h.tag){case 5:var p=h.stateNode;h.flags&32&&(ps(p,""),h.flags&=-33);var y=L_(i);Vf(i,y,p);break;case 3:case 4:var T=h.stateNode.containerInfo,A=L_(i);Lf(i,A,T);break;default:throw Error(t(161))}}catch(b){dt(i,i.return,b)}i.flags&=-3}o&4096&&(i.flags&=-4097)}function Q0(i,o,l){fe=i,F_(i)}function F_(i,o,l){for(var h=(i.mode&1)!==0;fe!==null;){var p=fe,y=p.child;if(p.tag===22&&h){var T=p.memoizedState!==null||Nc;if(!T){var A=p.alternate,b=A!==null&&A.memoizedState!==null||Kt;A=Nc;var $=Kt;if(Nc=T,(Kt=b)&&!$)for(fe=p;fe!==null;)T=fe,b=T.child,T.tag===22&&T.memoizedState!==null?B_(p):b!==null?(b.return=T,fe=b):B_(p);for(;y!==null;)fe=y,F_(y),y=y.sibling;fe=p,Nc=A,Kt=$}j_(i)}else(p.subtreeFlags&8772)!==0&&y!==null?(y.return=p,fe=y):j_(i)}}function j_(i){for(;fe!==null;){var o=fe;if((o.flags&8772)!==0){var l=o.alternate;try{if((o.flags&8772)!==0)switch(o.tag){case 0:case 11:case 15:Kt||Dc(5,o);break;case 1:var h=o.stateNode;if(o.flags&4&&!Kt)if(l===null)h.componentDidMount();else{var p=o.elementType===o.type?l.memoizedProps:Xn(o.type,l.memoizedProps);h.componentDidUpdate(p,l.memoizedState,h.__reactInternalSnapshotBeforeUpdate)}var y=o.updateQueue;y!==null&&zy(o,y,h);break;case 3:var T=o.updateQueue;if(T!==null){if(l=null,o.child!==null)switch(o.child.tag){case 5:l=o.child.stateNode;break;case 1:l=o.child.stateNode}zy(o,T,l)}break;case 5:var A=o.stateNode;if(l===null&&o.flags&4){l=A;var b=o.memoizedProps;switch(o.type){case"button":case"input":case"select":case"textarea":b.autoFocus&&l.focus();break;case"img":b.src&&(l.src=b.src)}}break;case 6:break;case 4:break;case 12:break;case 13:if(o.memoizedState===null){var $=o.alternate;if($!==null){var Z=$.memoizedState;if(Z!==null){var ee=Z.dehydrated;ee!==null&&bi(ee)}}}break;case 19:case 17:case 21:case 22:case 23:case 25:break;default:throw Error(t(163))}Kt||o.flags&512&&xf(o)}catch(X){dt(o,o.return,X)}}if(o===i){fe=null;break}if(l=o.sibling,l!==null){l.return=o.return,fe=l;break}fe=o.return}}function z_(i){for(;fe!==null;){var o=fe;if(o===i){fe=null;break}var l=o.sibling;if(l!==null){l.return=o.return,fe=l;break}fe=o.return}}function B_(i){for(;fe!==null;){var o=fe;try{switch(o.tag){case 0:case 11:case 15:var l=o.return;try{Dc(4,o)}catch(b){dt(o,l,b)}break;case 1:var h=o.stateNode;if(typeof h.componentDidMount=="function"){var p=o.return;try{h.componentDidMount()}catch(b){dt(o,p,b)}}var y=o.return;try{xf(o)}catch(b){dt(o,y,b)}break;case 5:var T=o.return;try{xf(o)}catch(b){dt(o,T,b)}}}catch(b){dt(o,o.return,b)}if(o===i){fe=null;break}var A=o.sibling;if(A!==null){A.return=o.return,fe=A;break}fe=o.return}}var Y0=Math.ceil,xc=oe.ReactCurrentDispatcher,Mf=oe.ReactCurrentOwner,jn=oe.ReactCurrentBatchConfig,He=0,Dt=null,St=null,jt=0,Cn=0,Go=Li(0),bt=0,Il=null,Ls=0,Lc=0,Uf=0,Sl=null,dn=null,Ff=0,Ko=1/0,Xr=null,Vc=!1,jf=null,zi=null,Mc=!1,Bi=null,Uc=0,Al=0,zf=null,Fc=-1,jc=0;function nn(){return(He&6)!==0?et():Fc!==-1?Fc:Fc=et()}function $i(i){return(i.mode&1)===0?1:(He&2)!==0&&jt!==0?jt&-jt:D0.transition!==null?(jc===0&&(jc=Wa()),jc):(i=ze,i!==0||(i=window.event,i=i===void 0?16:Io(i.type)),i)}function tr(i,o,l,h){if(50<Al)throw Al=0,zf=null,Error(t(185));Is(i,l,h),((He&2)===0||i!==Dt)&&(i===Dt&&((He&2)===0&&(Lc|=l),bt===4&&Hi(i,jt)),fn(i,h),l===1&&He===0&&(o.mode&1)===0&&(Ko=et()+500,pc&&Mi()))}function fn(i,o){var l=i.callbackNode;Ts(i,o);var h=Fr(i,i===Dt?jt:0);if(h===0)l!==null&&go(l),i.callbackNode=null,i.callbackPriority=0;else if(o=h&-h,i.callbackPriority!==o){if(l!=null&&go(l),o===1)i.tag===0?N0(H_.bind(null,i)):ky(H_.bind(null,i)),C0(function(){(He&6)===0&&Mi()}),l=null;else{switch(hr(h)){case 1:l=yo;break;case 4:l=$a;break;case 16:l=_s;break;case 536870912:l=_o;break;default:l=_s}l=X_(l,$_.bind(null,i))}i.callbackPriority=o,i.callbackNode=l}}function $_(i,o){if(Fc=-1,jc=0,(He&6)!==0)throw Error(t(327));var l=i.callbackNode;if(Qo()&&i.callbackNode!==l)return null;var h=Fr(i,i===Dt?jt:0);if(h===0)return null;if((h&30)!==0||(h&i.expiredLanes)!==0||o)o=zc(i,h);else{o=h;var p=He;He|=2;var y=W_();(Dt!==i||jt!==o)&&(Xr=null,Ko=et()+500,Ms(i,o));do try{Z0();break}catch(A){q_(i,A)}while(!0);sf(),xc.current=y,He=p,St!==null?o=0:(Dt=null,jt=0,o=bt)}if(o!==0){if(o===2&&(p=qa(i),p!==0&&(h=p,o=Bf(i,p))),o===1)throw l=Il,Ms(i,0),Hi(i,h),fn(i,et()),l;if(o===6)Hi(i,h);else{if(p=i.current.alternate,(h&30)===0&&!J0(p)&&(o=zc(i,h),o===2&&(y=qa(i),y!==0&&(h=y,o=Bf(i,y))),o===1))throw l=Il,Ms(i,0),Hi(i,h),fn(i,et()),l;switch(i.finishedWork=p,i.finishedLanes=h,o){case 0:case 1:throw Error(t(345));case 2:Us(i,dn,Xr);break;case 3:if(Hi(i,h),(h&130023424)===h&&(o=Ff+500-et(),10<o)){if(Fr(i,0)!==0)break;if(p=i.suspendedLanes,(p&h)!==h){nn(),i.pingedLanes|=i.suspendedLanes&p;break}i.timeoutHandle=Gd(Us.bind(null,i,dn,Xr),o);break}Us(i,dn,Xr);break;case 4:if(Hi(i,h),(h&4194240)===h)break;for(o=i.eventTimes,p=-1;0<h;){var T=31-wn(h);y=1<<T,T=o[T],T>p&&(p=T),h&=~y}if(h=p,h=et()-h,h=(120>h?120:480>h?480:1080>h?1080:1920>h?1920:3e3>h?3e3:4320>h?4320:1960*Y0(h/1960))-h,10<h){i.timeoutHandle=Gd(Us.bind(null,i,dn,Xr),h);break}Us(i,dn,Xr);break;case 5:Us(i,dn,Xr);break;default:throw Error(t(329))}}}return fn(i,et()),i.callbackNode===l?$_.bind(null,i):null}function Bf(i,o){var l=Sl;return i.current.memoizedState.isDehydrated&&(Ms(i,o).flags|=256),i=zc(i,o),i!==2&&(o=dn,dn=l,o!==null&&$f(o)),i}function $f(i){dn===null?dn=i:dn.push.apply(dn,i)}function J0(i){for(var o=i;;){if(o.flags&16384){var l=o.updateQueue;if(l!==null&&(l=l.stores,l!==null))for(var h=0;h<l.length;h++){var p=l[h],y=p.getSnapshot;p=p.value;try{if(!Yn(y(),p))return!1}catch{return!1}}}if(l=o.child,o.subtreeFlags&16384&&l!==null)l.return=o,o=l;else{if(o===i)break;for(;o.sibling===null;){if(o.return===null||o.return===i)return!0;o=o.return}o.sibling.return=o.return,o=o.sibling}}return!0}function Hi(i,o){for(o&=~Uf,o&=~Lc,i.suspendedLanes|=o,i.pingedLanes&=~o,i=i.expirationTimes;0<o;){var l=31-wn(o),h=1<<l;i[l]=-1,o&=~h}}function H_(i){if((He&6)!==0)throw Error(t(327));Qo();var o=Fr(i,0);if((o&1)===0)return fn(i,et()),null;var l=zc(i,o);if(i.tag!==0&&l===2){var h=qa(i);h!==0&&(o=h,l=Bf(i,h))}if(l===1)throw l=Il,Ms(i,0),Hi(i,o),fn(i,et()),l;if(l===6)throw Error(t(345));return i.finishedWork=i.current.alternate,i.finishedLanes=o,Us(i,dn,Xr),fn(i,et()),null}function Hf(i,o){var l=He;He|=1;try{return i(o)}finally{He=l,He===0&&(Ko=et()+500,pc&&Mi())}}function Vs(i){Bi!==null&&Bi.tag===0&&(He&6)===0&&Qo();var o=He;He|=1;var l=jn.transition,h=ze;try{if(jn.transition=null,ze=1,i)return i()}finally{ze=h,jn.transition=l,He=o,(He&6)===0&&Mi()}}function qf(){Cn=Go.current,nt(Go)}function Ms(i,o){i.finishedWork=null,i.finishedLanes=0;var l=i.timeoutHandle;if(l!==-1&&(i.timeoutHandle=-1,P0(l)),St!==null)for(l=St.return;l!==null;){var h=l;switch(Zd(h),h.tag){case 1:h=h.type.childContextTypes,h!=null&&dc();break;case 3:Ho(),nt(un),nt(qt),ff();break;case 5:hf(h);break;case 4:Ho();break;case 13:nt(lt);break;case 19:nt(lt);break;case 10:of(h.type._context);break;case 22:case 23:qf()}l=l.return}if(Dt=i,St=i=qi(i.current,null),jt=Cn=o,bt=0,Il=null,Uf=Lc=Ls=0,dn=Sl=null,Ns!==null){for(o=0;o<Ns.length;o++)if(l=Ns[o],h=l.interleaved,h!==null){l.interleaved=null;var p=h.next,y=l.pending;if(y!==null){var T=y.next;y.next=p,h.next=T}l.pending=h}Ns=null}return i}function q_(i,o){do{var l=St;try{if(sf(),Sc.current=Cc,Ac){for(var h=ut.memoizedState;h!==null;){var p=h.queue;p!==null&&(p.pending=null),h=h.next}Ac=!1}if(xs=0,Nt=kt=ut=null,yl=!1,_l=0,Mf.current=null,l===null||l.return===null){bt=1,Il=o,St=null;break}e:{var y=i,T=l.return,A=l,b=o;if(o=jt,A.flags|=32768,b!==null&&typeof b=="object"&&typeof b.then=="function"){var $=b,Z=A,ee=Z.tag;if((Z.mode&1)===0&&(ee===0||ee===11||ee===15)){var X=Z.alternate;X?(Z.updateQueue=X.updateQueue,Z.memoizedState=X.memoizedState,Z.lanes=X.lanes):(Z.updateQueue=null,Z.memoizedState=null)}var ue=g_(T);if(ue!==null){ue.flags&=-257,y_(ue,T,A,y,o),ue.mode&1&&m_(y,$,o),o=ue,b=$;var me=o.updateQueue;if(me===null){var ye=new Set;ye.add(b),o.updateQueue=ye}else me.add(b);break e}else{if((o&1)===0){m_(y,$,o),Wf();break e}b=Error(t(426))}}else if(at&&A.mode&1){var Et=g_(T);if(Et!==null){(Et.flags&65536)===0&&(Et.flags|=256),y_(Et,T,A,y,o),nf(qo(b,A));break e}}y=b=qo(b,A),bt!==4&&(bt=2),Sl===null?Sl=[y]:Sl.push(y),y=T;do{switch(y.tag){case 3:y.flags|=65536,o&=-o,y.lanes|=o;var M=f_(y,b,o);jy(y,M);break e;case 1:A=b;var D=y.type,j=y.stateNode;if((y.flags&128)===0&&(typeof D.getDerivedStateFromError=="function"||j!==null&&typeof j.componentDidCatch=="function"&&(zi===null||!zi.has(j)))){y.flags|=65536,o&=-o,y.lanes|=o;var re=p_(y,A,o);jy(y,re);break e}}y=y.return}while(y!==null)}K_(l)}catch(Ee){o=Ee,St===l&&l!==null&&(St=l=l.return);continue}break}while(!0)}function W_(){var i=xc.current;return xc.current=Cc,i===null?Cc:i}function Wf(){(bt===0||bt===3||bt===2)&&(bt=4),Dt===null||(Ls&268435455)===0&&(Lc&268435455)===0||Hi(Dt,jt)}function zc(i,o){var l=He;He|=2;var h=W_();(Dt!==i||jt!==o)&&(Xr=null,Ms(i,o));do try{X0();break}catch(p){q_(i,p)}while(!0);if(sf(),He=l,xc.current=h,St!==null)throw Error(t(261));return Dt=null,jt=0,bt}function X0(){for(;St!==null;)G_(St)}function Z0(){for(;St!==null&&!ys();)G_(St)}function G_(i){var o=J_(i.alternate,i,Cn);i.memoizedProps=i.pendingProps,o===null?K_(i):St=o,Mf.current=null}function K_(i){var o=i;do{var l=o.alternate;if(i=o.return,(o.flags&32768)===0){if(l=q0(l,o,Cn),l!==null){St=l;return}}else{if(l=W0(l,o),l!==null){l.flags&=32767,St=l;return}if(i!==null)i.flags|=32768,i.subtreeFlags=0,i.deletions=null;else{bt=6,St=null;return}}if(o=o.sibling,o!==null){St=o;return}St=o=i}while(o!==null);bt===0&&(bt=5)}function Us(i,o,l){var h=ze,p=jn.transition;try{jn.transition=null,ze=1,eR(i,o,l,h)}finally{jn.transition=p,ze=h}return null}function eR(i,o,l,h){do Qo();while(Bi!==null);if((He&6)!==0)throw Error(t(327));l=i.finishedWork;var p=i.finishedLanes;if(l===null)return null;if(i.finishedWork=null,i.finishedLanes=0,l===i.current)throw Error(t(177));i.callbackNode=null,i.callbackPriority=0;var y=l.lanes|l.childLanes;if(Od(i,y),i===Dt&&(St=Dt=null,jt=0),(l.subtreeFlags&2064)===0&&(l.flags&2064)===0||Mc||(Mc=!0,X_(_s,function(){return Qo(),null})),y=(l.flags&15990)!==0,(l.subtreeFlags&15990)!==0||y){y=jn.transition,jn.transition=null;var T=ze;ze=1;var A=He;He|=4,Mf.current=null,K0(i,l),U_(l,i),E0(qd),Br=!!Hd,qd=Hd=null,i.current=l,Q0(l),Ur(),He=A,ze=T,jn.transition=y}else i.current=l;if(Mc&&(Mc=!1,Bi=i,Uc=p),y=i.pendingLanes,y===0&&(zi=null),Ku(l.stateNode),fn(i,et()),o!==null)for(h=i.onRecoverableError,l=0;l<o.length;l++)p=o[l],h(p.value,{componentStack:p.stack,digest:p.digest});if(Vc)throw Vc=!1,i=jf,jf=null,i;return(Uc&1)!==0&&i.tag!==0&&Qo(),y=i.pendingLanes,(y&1)!==0?i===zf?Al++:(Al=0,zf=i):Al=0,Mi(),null}function Qo(){if(Bi!==null){var i=hr(Uc),o=jn.transition,l=ze;try{if(jn.transition=null,ze=16>i?16:i,Bi===null)var h=!1;else{if(i=Bi,Bi=null,Uc=0,(He&6)!==0)throw Error(t(331));var p=He;for(He|=4,fe=i.current;fe!==null;){var y=fe,T=y.child;if((fe.flags&16)!==0){var A=y.deletions;if(A!==null){for(var b=0;b<A.length;b++){var $=A[b];for(fe=$;fe!==null;){var Z=fe;switch(Z.tag){case 0:case 11:case 15:Tl(8,Z,y)}var ee=Z.child;if(ee!==null)ee.return=Z,fe=ee;else for(;fe!==null;){Z=fe;var X=Z.sibling,ue=Z.return;if(D_(Z),Z===$){fe=null;break}if(X!==null){X.return=ue,fe=X;break}fe=ue}}}var me=y.alternate;if(me!==null){var ye=me.child;if(ye!==null){me.child=null;do{var Et=ye.sibling;ye.sibling=null,ye=Et}while(ye!==null)}}fe=y}}if((y.subtreeFlags&2064)!==0&&T!==null)T.return=y,fe=T;else e:for(;fe!==null;){if(y=fe,(y.flags&2048)!==0)switch(y.tag){case 0:case 11:case 15:Tl(9,y,y.return)}var M=y.sibling;if(M!==null){M.return=y.return,fe=M;break e}fe=y.return}}var D=i.current;for(fe=D;fe!==null;){T=fe;var j=T.child;if((T.subtreeFlags&2064)!==0&&j!==null)j.return=T,fe=j;else e:for(T=D;fe!==null;){if(A=fe,(A.flags&2048)!==0)try{switch(A.tag){case 0:case 11:case 15:Dc(9,A)}}catch(Ee){dt(A,A.return,Ee)}if(A===T){fe=null;break e}var re=A.sibling;if(re!==null){re.return=A.return,fe=re;break e}fe=A.return}}if(He=p,Mi(),En&&typeof En.onPostCommitFiberRoot=="function")try{En.onPostCommitFiberRoot(vs,i)}catch{}h=!0}return h}finally{ze=l,jn.transition=o}}return!1}function Q_(i,o,l){o=qo(l,o),o=f_(i,o,1),i=Fi(i,o,1),o=nn(),i!==null&&(Is(i,1,o),fn(i,o))}function dt(i,o,l){if(i.tag===3)Q_(i,i,l);else for(;o!==null;){if(o.tag===3){Q_(o,i,l);break}else if(o.tag===1){var h=o.stateNode;if(typeof o.type.getDerivedStateFromError=="function"||typeof h.componentDidCatch=="function"&&(zi===null||!zi.has(h))){i=qo(l,i),i=p_(o,i,1),o=Fi(o,i,1),i=nn(),o!==null&&(Is(o,1,i),fn(o,i));break}}o=o.return}}function tR(i,o,l){var h=i.pingCache;h!==null&&h.delete(o),o=nn(),i.pingedLanes|=i.suspendedLanes&l,Dt===i&&(jt&l)===l&&(bt===4||bt===3&&(jt&130023424)===jt&&500>et()-Ff?Ms(i,0):Uf|=l),fn(i,o)}function Y_(i,o){o===0&&((i.mode&1)===0?o=1:(o=Pi,Pi<<=1,(Pi&130023424)===0&&(Pi=4194304)));var l=nn();i=Qr(i,o),i!==null&&(Is(i,o,l),fn(i,l))}function nR(i){var o=i.memoizedState,l=0;o!==null&&(l=o.retryLane),Y_(i,l)}function rR(i,o){var l=0;switch(i.tag){case 13:var h=i.stateNode,p=i.memoizedState;p!==null&&(l=p.retryLane);break;case 19:h=i.stateNode;break;default:throw Error(t(314))}h!==null&&h.delete(o),Y_(i,l)}var J_;J_=function(i,o,l){if(i!==null)if(i.memoizedProps!==o.pendingProps||un.current)hn=!0;else{if((i.lanes&l)===0&&(o.flags&128)===0)return hn=!1,H0(i,o,l);hn=(i.flags&131072)!==0}else hn=!1,at&&(o.flags&1048576)!==0&&by(o,gc,o.index);switch(o.lanes=0,o.tag){case 2:var h=o.type;Oc(i,o),i=o.pendingProps;var p=Mo(o,qt.current);$o(o,l),p=gf(null,o,h,i,p,l);var y=yf();return o.flags|=1,typeof p=="object"&&p!==null&&typeof p.render=="function"&&p.$$typeof===void 0?(o.tag=1,o.memoizedState=null,o.updateQueue=null,cn(h)?(y=!0,fc(o)):y=!1,o.memoizedState=p.state!==null&&p.state!==void 0?p.state:null,uf(o),p.updater=kc,o.stateNode=p,p._reactInternals=o,If(o,h,i,l),o=Pf(null,o,h,!0,y,l)):(o.tag=0,at&&y&&Xd(o),tn(null,o,p,l),o=o.child),o;case 16:h=o.elementType;e:{switch(Oc(i,o),i=o.pendingProps,p=h._init,h=p(h._payload),o.type=h,p=o.tag=sR(h),i=Xn(h,i),p){case 0:o=Rf(null,o,h,i,l);break e;case 1:o=I_(null,o,h,i,l);break e;case 11:o=__(null,o,h,i,l);break e;case 14:o=v_(null,o,h,Xn(h.type,i),l);break e}throw Error(t(306,h,""))}return o;case 0:return h=o.type,p=o.pendingProps,p=o.elementType===h?p:Xn(h,p),Rf(i,o,h,p,l);case 1:return h=o.type,p=o.pendingProps,p=o.elementType===h?p:Xn(h,p),I_(i,o,h,p,l);case 3:e:{if(S_(o),i===null)throw Error(t(387));h=o.pendingProps,y=o.memoizedState,p=y.element,Fy(i,o),Tc(o,h,null,l);var T=o.memoizedState;if(h=T.element,y.isDehydrated)if(y={element:h,isDehydrated:!1,cache:T.cache,pendingSuspenseBoundaries:T.pendingSuspenseBoundaries,transitions:T.transitions},o.updateQueue.baseState=y,o.memoizedState=y,o.flags&256){p=qo(Error(t(423)),o),o=A_(i,o,h,l,p);break e}else if(h!==p){p=qo(Error(t(424)),o),o=A_(i,o,h,l,p);break e}else for(Pn=xi(o.stateNode.containerInfo.firstChild),Rn=o,at=!0,Jn=null,l=My(o,null,h,l),o.child=l;l;)l.flags=l.flags&-3|4096,l=l.sibling;else{if(jo(),h===p){o=Jr(i,o,l);break e}tn(i,o,h,l)}o=o.child}return o;case 5:return By(o),i===null&&tf(o),h=o.type,p=o.pendingProps,y=i!==null?i.memoizedProps:null,T=p.children,Wd(h,p)?T=null:y!==null&&Wd(h,y)&&(o.flags|=32),T_(i,o),tn(i,o,T,l),o.child;case 6:return i===null&&tf(o),null;case 13:return R_(i,o,l);case 4:return cf(o,o.stateNode.containerInfo),h=o.pendingProps,i===null?o.child=zo(o,null,h,l):tn(i,o,h,l),o.child;case 11:return h=o.type,p=o.pendingProps,p=o.elementType===h?p:Xn(h,p),__(i,o,h,p,l);case 7:return tn(i,o,o.pendingProps,l),o.child;case 8:return tn(i,o,o.pendingProps.children,l),o.child;case 12:return tn(i,o,o.pendingProps.children,l),o.child;case 10:e:{if(h=o.type._context,p=o.pendingProps,y=o.memoizedProps,T=p.value,Xe(vc,h._currentValue),h._currentValue=T,y!==null)if(Yn(y.value,T)){if(y.children===p.children&&!un.current){o=Jr(i,o,l);break e}}else for(y=o.child,y!==null&&(y.return=o);y!==null;){var A=y.dependencies;if(A!==null){T=y.child;for(var b=A.firstContext;b!==null;){if(b.context===h){if(y.tag===1){b=Yr(-1,l&-l),b.tag=2;var $=y.updateQueue;if($!==null){$=$.shared;var Z=$.pending;Z===null?b.next=b:(b.next=Z.next,Z.next=b),$.pending=b}}y.lanes|=l,b=y.alternate,b!==null&&(b.lanes|=l),af(y.return,l,o),A.lanes|=l;break}b=b.next}}else if(y.tag===10)T=y.type===o.type?null:y.child;else if(y.tag===18){if(T=y.return,T===null)throw Error(t(341));T.lanes|=l,A=T.alternate,A!==null&&(A.lanes|=l),af(T,l,o),T=y.sibling}else T=y.child;if(T!==null)T.return=y;else for(T=y;T!==null;){if(T===o){T=null;break}if(y=T.sibling,y!==null){y.return=T.return,T=y;break}T=T.return}y=T}tn(i,o,p.children,l),o=o.child}return o;case 9:return p=o.type,h=o.pendingProps.children,$o(o,l),p=Un(p),h=h(p),o.flags|=1,tn(i,o,h,l),o.child;case 14:return h=o.type,p=Xn(h,o.pendingProps),p=Xn(h.type,p),v_(i,o,h,p,l);case 15:return E_(i,o,o.type,o.pendingProps,l);case 17:return h=o.type,p=o.pendingProps,p=o.elementType===h?p:Xn(h,p),Oc(i,o),o.tag=1,cn(h)?(i=!0,fc(o)):i=!1,$o(o,l),h_(o,h,p),If(o,h,p,l),Pf(null,o,h,!0,i,l);case 19:return C_(i,o,l);case 22:return w_(i,o,l)}throw Error(t(156,o.tag))};function X_(i,o){return Ba(i,o)}function iR(i,o,l,h){this.tag=i,this.key=l,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.ref=null,this.pendingProps=o,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=h,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function zn(i,o,l,h){return new iR(i,o,l,h)}function Gf(i){return i=i.prototype,!(!i||!i.isReactComponent)}function sR(i){if(typeof i=="function")return Gf(i)?1:0;if(i!=null){if(i=i.$$typeof,i===N)return 11;if(i===F)return 14}return 2}function qi(i,o){var l=i.alternate;return l===null?(l=zn(i.tag,o,i.key,i.mode),l.elementType=i.elementType,l.type=i.type,l.stateNode=i.stateNode,l.alternate=i,i.alternate=l):(l.pendingProps=o,l.type=i.type,l.flags=0,l.subtreeFlags=0,l.deletions=null),l.flags=i.flags&14680064,l.childLanes=i.childLanes,l.lanes=i.lanes,l.child=i.child,l.memoizedProps=i.memoizedProps,l.memoizedState=i.memoizedState,l.updateQueue=i.updateQueue,o=i.dependencies,l.dependencies=o===null?null:{lanes:o.lanes,firstContext:o.firstContext},l.sibling=i.sibling,l.index=i.index,l.ref=i.ref,l}function Bc(i,o,l,h,p,y){var T=2;if(h=i,typeof i=="function")Gf(i)&&(T=1);else if(typeof i=="string")T=5;else e:switch(i){case k:return Fs(l.children,p,y,o);case S:T=8,p|=8;break;case C:return i=zn(12,l,o,p|2),i.elementType=C,i.lanes=y,i;case P:return i=zn(13,l,o,p),i.elementType=P,i.lanes=y,i;case Ne:return i=zn(19,l,o,p),i.elementType=Ne,i.lanes=y,i;case he:return $c(l,p,y,o);default:if(typeof i=="object"&&i!==null)switch(i.$$typeof){case x:T=10;break e;case O:T=9;break e;case N:T=11;break e;case F:T=14;break e;case Q:T=16,h=null;break e}throw Error(t(130,i==null?i:typeof i,""))}return o=zn(T,l,o,p),o.elementType=i,o.type=h,o.lanes=y,o}function Fs(i,o,l,h){return i=zn(7,i,h,o),i.lanes=l,i}function $c(i,o,l,h){return i=zn(22,i,h,o),i.elementType=he,i.lanes=l,i.stateNode={isHidden:!1},i}function Kf(i,o,l){return i=zn(6,i,null,o),i.lanes=l,i}function Qf(i,o,l){return o=zn(4,i.children!==null?i.children:[],i.key,o),o.lanes=l,o.stateNode={containerInfo:i.containerInfo,pendingChildren:null,implementation:i.implementation},o}function oR(i,o,l,h,p){this.tag=o,this.containerInfo=i,this.finishedWork=this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.pendingContext=this.context=null,this.callbackPriority=0,this.eventTimes=Ga(0),this.expirationTimes=Ga(-1),this.entangledLanes=this.finishedLanes=this.mutableReadLanes=this.expiredLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=Ga(0),this.identifierPrefix=h,this.onRecoverableError=p,this.mutableSourceEagerHydrationData=null}function Yf(i,o,l,h,p,y,T,A,b){return i=new oR(i,o,l,A,b),o===1?(o=1,y===!0&&(o|=8)):o=0,y=zn(3,null,null,o),i.current=y,y.stateNode=i,y.memoizedState={element:h,isDehydrated:l,cache:null,transitions:null,pendingSuspenseBoundaries:null},uf(y),i}function aR(i,o,l){var h=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:pe,key:h==null?null:""+h,children:i,containerInfo:o,implementation:l}}function Z_(i){if(!i)return Vi;i=i._reactInternals;e:{if(Kn(i)!==i||i.tag!==1)throw Error(t(170));var o=i;do{switch(o.tag){case 3:o=o.stateNode.context;break e;case 1:if(cn(o.type)){o=o.stateNode.__reactInternalMemoizedMergedChildContext;break e}}o=o.return}while(o!==null);throw Error(t(171))}if(i.tag===1){var l=i.type;if(cn(l))return Py(i,l,o)}return o}function ev(i,o,l,h,p,y,T,A,b){return i=Yf(l,h,!0,i,p,y,T,A,b),i.context=Z_(null),l=i.current,h=nn(),p=$i(l),y=Yr(h,p),y.callback=o??null,Fi(l,y,p),i.current.lanes=p,Is(i,p,h),fn(i,h),i}function Hc(i,o,l,h){var p=o.current,y=nn(),T=$i(p);return l=Z_(l),o.context===null?o.context=l:o.pendingContext=l,o=Yr(y,T),o.payload={element:i},h=h===void 0?null:h,h!==null&&(o.callback=h),i=Fi(p,o,T),i!==null&&(tr(i,p,T,y),wc(i,p,T)),T}function qc(i){return i=i.current,i.child?(i.child.tag===5,i.child.stateNode):null}function tv(i,o){if(i=i.memoizedState,i!==null&&i.dehydrated!==null){var l=i.retryLane;i.retryLane=l!==0&&l<o?l:o}}function Jf(i,o){tv(i,o),(i=i.alternate)&&tv(i,o)}function lR(){return null}var nv=typeof reportError=="function"?reportError:function(i){console.error(i)};function Xf(i){this._internalRoot=i}Wc.prototype.render=Xf.prototype.render=function(i){var o=this._internalRoot;if(o===null)throw Error(t(409));Hc(i,o,null,null)},Wc.prototype.unmount=Xf.prototype.unmount=function(){var i=this._internalRoot;if(i!==null){this._internalRoot=null;var o=i.containerInfo;Vs(function(){Hc(null,i,null,null)}),o[qr]=null}};function Wc(i){this._internalRoot=i}Wc.prototype.unstable_scheduleHydration=function(i){if(i){var o=Ja();i={blockedOn:null,target:i,priority:o};for(var l=0;l<Tn.length&&o!==0&&o<Tn[l].priority;l++);Tn.splice(l,0,i),l===0&&wo(i)}};function Zf(i){return!(!i||i.nodeType!==1&&i.nodeType!==9&&i.nodeType!==11)}function Gc(i){return!(!i||i.nodeType!==1&&i.nodeType!==9&&i.nodeType!==11&&(i.nodeType!==8||i.nodeValue!==" react-mount-point-unstable "))}function rv(){}function uR(i,o,l,h,p){if(p){if(typeof h=="function"){var y=h;h=function(){var $=qc(T);y.call($)}}var T=ev(o,h,i,0,null,!1,!1,"",rv);return i._reactRootContainer=T,i[qr]=T.current,ul(i.nodeType===8?i.parentNode:i),Vs(),T}for(;p=i.lastChild;)i.removeChild(p);if(typeof h=="function"){var A=h;h=function(){var $=qc(b);A.call($)}}var b=Yf(i,0,!1,null,null,!1,!1,"",rv);return i._reactRootContainer=b,i[qr]=b.current,ul(i.nodeType===8?i.parentNode:i),Vs(function(){Hc(o,b,l,h)}),b}function Kc(i,o,l,h,p){var y=l._reactRootContainer;if(y){var T=y;if(typeof p=="function"){var A=p;p=function(){var b=qc(T);A.call(b)}}Hc(o,T,i,p)}else T=uR(l,o,i,p,h);return qc(T)}Qa=function(i){switch(i.tag){case 3:var o=i.stateNode;if(o.current.memoizedState.isDehydrated){var l=We(o.pendingLanes);l!==0&&(Ka(o,l|1),fn(o,et()),(He&6)===0&&(Ko=et()+500,Mi()))}break;case 13:Vs(function(){var h=Qr(i,1);if(h!==null){var p=nn();tr(h,i,1,p)}}),Jf(i,1)}},vo=function(i){if(i.tag===13){var o=Qr(i,134217728);if(o!==null){var l=nn();tr(o,i,134217728,l)}Jf(i,134217728)}},Ya=function(i){if(i.tag===13){var o=$i(i),l=Qr(i,o);if(l!==null){var h=nn();tr(l,i,o,h)}Jf(i,o)}},Ja=function(){return ze},Xa=function(i,o){var l=ze;try{return ze=i,o()}finally{ze=l}},Lr=function(i,o,l){switch(o){case"input":if(fs(i,l),o=l.name,l.type==="radio"&&o!=null){for(l=i;l.parentNode;)l=l.parentNode;for(l=l.querySelectorAll("input[name="+JSON.stringify(""+o)+'][type="radio"]'),o=0;o<l.length;o++){var h=l[o];if(h!==i&&h.form===i.form){var p=hc(h);if(!p)throw Error(t(90));Da(h),fs(h,p)}}}break;case"textarea":Vu(i,l);break;case"select":o=l.value,o!=null&&Wn(i,!!l.multiple,o,!1)}},Fu=Hf,ju=Vs;var cR={usingClientEntryPoint:!1,Events:[dl,Lo,hc,Ii,Si,Hf]},Rl={findFiberByHostInstance:Cs,bundleType:0,version:"18.3.1",rendererPackageName:"react-dom"},hR={bundleType:Rl.bundleType,version:Rl.version,rendererPackageName:Rl.rendererPackageName,rendererConfig:Rl.rendererConfig,overrideHookState:null,overrideHookStateDeletePath:null,overrideHookStateRenamePath:null,overrideProps:null,overridePropsDeletePath:null,overridePropsRenamePath:null,setErrorHandler:null,setSuspenseHandler:null,scheduleUpdate:null,currentDispatcherRef:oe.ReactCurrentDispatcher,findHostInstanceByFiber:function(i){return i=Gu(i),i===null?null:i.stateNode},findFiberByHostInstance:Rl.findFiberByHostInstance||lR,findHostInstancesForRefresh:null,scheduleRefresh:null,scheduleRoot:null,setRefreshHandler:null,getCurrentFiber:null,reconcilerVersion:"18.3.1-next-f1338f8080-20240426"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var Qc=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!Qc.isDisabled&&Qc.supportsFiber)try{vs=Qc.inject(hR),En=Qc}catch{}}return pn.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=cR,pn.createPortal=function(i,o){var l=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!Zf(o))throw Error(t(200));return aR(i,o,null,l)},pn.createRoot=function(i,o){if(!Zf(i))throw Error(t(299));var l=!1,h="",p=nv;return o!=null&&(o.unstable_strictMode===!0&&(l=!0),o.identifierPrefix!==void 0&&(h=o.identifierPrefix),o.onRecoverableError!==void 0&&(p=o.onRecoverableError)),o=Yf(i,1,!1,null,null,l,!1,h,p),i[qr]=o.current,ul(i.nodeType===8?i.parentNode:i),new Xf(o)},pn.findDOMNode=function(i){if(i==null)return null;if(i.nodeType===1)return i;var o=i._reactInternals;if(o===void 0)throw typeof i.render=="function"?Error(t(188)):(i=Object.keys(i).join(","),Error(t(268,i)));return i=Gu(o),i=i===null?null:i.stateNode,i},pn.flushSync=function(i){return Vs(i)},pn.hydrate=function(i,o,l){if(!Gc(o))throw Error(t(200));return Kc(null,i,o,!0,l)},pn.hydrateRoot=function(i,o,l){if(!Zf(i))throw Error(t(405));var h=l!=null&&l.hydratedSources||null,p=!1,y="",T=nv;if(l!=null&&(l.unstable_strictMode===!0&&(p=!0),l.identifierPrefix!==void 0&&(y=l.identifierPrefix),l.onRecoverableError!==void 0&&(T=l.onRecoverableError)),o=ev(o,null,i,1,l??null,p,!1,y,T),i[qr]=o.current,ul(i),h)for(i=0;i<h.length;i++)l=h[i],p=l._getVersion,p=p(l._source),o.mutableSourceEagerHydrationData==null?o.mutableSourceEagerHydrationData=[l,p]:o.mutableSourceEagerHydrationData.push(l,p);return new Wc(o)},pn.render=function(i,o,l){if(!Gc(o))throw Error(t(200));return Kc(null,i,o,!1,l)},pn.unmountComponentAtNode=function(i){if(!Gc(i))throw Error(t(40));return i._reactRootContainer?(Vs(function(){Kc(null,null,i,!1,function(){i._reactRootContainer=null,i[qr]=null})}),!0):!1},pn.unstable_batchedUpdates=Hf,pn.unstable_renderSubtreeIntoContainer=function(i,o,l,h){if(!Gc(l))throw Error(t(200));if(i==null||i._reactInternals===void 0)throw Error(t(38));return Kc(i,o,l,!1,h)},pn.version="18.3.1-next-f1338f8080-20240426",pn}var hv;function vR(){if(hv)return np.exports;hv=1;function n(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(n)}catch(e){console.error(e)}}return n(),np.exports=_R(),np.exports}var dv;function ER(){if(dv)return Yc;dv=1;var n=vR();return Yc.createRoot=n.createRoot,Yc.hydrateRoot=n.hydrateRoot,Yc}var wR=ER();const TR=Ta(wR);var sp,fv;function IR(){if(fv)return sp;fv=1;var n=typeof Element<"u",e=typeof Map=="function",t=typeof Set=="function",r=typeof ArrayBuffer=="function"&&!!ArrayBuffer.isView;function s(a,u){if(a===u)return!0;if(a&&u&&typeof a=="object"&&typeof u=="object"){if(a.constructor!==u.constructor)return!1;var d,f,m;if(Array.isArray(a)){if(d=a.length,d!=u.length)return!1;for(f=d;f--!==0;)if(!s(a[f],u[f]))return!1;return!0}var g;if(e&&a instanceof Map&&u instanceof Map){if(a.size!==u.size)return!1;for(g=a.entries();!(f=g.next()).done;)if(!u.has(f.value[0]))return!1;for(g=a.entries();!(f=g.next()).done;)if(!s(f.value[1],u.get(f.value[0])))return!1;return!0}if(t&&a instanceof Set&&u instanceof Set){if(a.size!==u.size)return!1;for(g=a.entries();!(f=g.next()).done;)if(!u.has(f.value[0]))return!1;return!0}if(r&&ArrayBuffer.isView(a)&&ArrayBuffer.isView(u)){if(d=a.length,d!=u.length)return!1;for(f=d;f--!==0;)if(a[f]!==u[f])return!1;return!0}if(a.constructor===RegExp)return a.source===u.source&&a.flags===u.flags;if(a.valueOf!==Object.prototype.valueOf&&typeof a.valueOf=="function"&&typeof u.valueOf=="function")return a.valueOf()===u.valueOf();if(a.toString!==Object.prototype.toString&&typeof a.toString=="function"&&typeof u.toString=="function")return a.toString()===u.toString();if(m=Object.keys(a),d=m.length,d!==Object.keys(u).length)return!1;for(f=d;f--!==0;)if(!Object.prototype.hasOwnProperty.call(u,m[f]))return!1;if(n&&a instanceof Element)return!1;for(f=d;f--!==0;)if(!((m[f]==="_owner"||m[f]==="__v"||m[f]==="__o")&&a.$$typeof)&&!s(a[m[f]],u[m[f]]))return!1;return!0}return a!==a&&u!==u}return sp=function(u,d){try{return s(u,d)}catch(f){if((f.message||"").match(/stack|recursion/i))return console.warn("react-fast-compare cannot handle circular refs"),!1;throw f}},sp}var SR=IR();const AR=Ta(SR);var op,pv;function RR(){if(pv)return op;pv=1;var n=function(e,t,r,s,a,u,d,f){if(!e){var m;if(t===void 0)m=new Error("Minified exception occurred; use the non-minified dev environment for the full error message and additional helpful warnings.");else{var g=[r,s,a,u,d,f],w=0;m=new Error(t.replace(/%s/g,function(){return g[w++]})),m.name="Invariant Violation"}throw m.framesToPop=1,m}};return op=n,op}var PR=RR();const mv=Ta(PR);var ap,gv;function CR(){return gv||(gv=1,ap=function(e,t,r,s){var a=r?r.call(s,e,t):void 0;if(a!==void 0)return!!a;if(e===t)return!0;if(typeof e!="object"||!e||typeof t!="object"||!t)return!1;var u=Object.keys(e),d=Object.keys(t);if(u.length!==d.length)return!1;for(var f=Object.prototype.hasOwnProperty.bind(t),m=0;m<u.length;m++){var g=u[m];if(!f(g))return!1;var w=e[g],E=t[g];if(a=r?r.call(s,w,E,g):void 0,a===!1||a===void 0&&w!==E)return!1}return!0}),ap}var kR=CR();const bR=Ta(kR);var oT=(n=>(n.BASE="base",n.BODY="body",n.HEAD="head",n.HTML="html",n.LINK="link",n.META="meta",n.NOSCRIPT="noscript",n.SCRIPT="script",n.STYLE="style",n.TITLE="title",n.FRAGMENT="Symbol(react.fragment)",n))(oT||{}),lp={link:{rel:["amphtml","canonical","alternate"]},script:{type:["application/ld+json"]},meta:{charset:"",name:["generator","robots","description"],property:["og:type","og:title","og:url","og:image","og:image:alt","og:description","twitter:url","twitter:title","twitter:description","twitter:image","twitter:image:alt","twitter:card","twitter:site"]}},yv=Object.values(oT),Sm={accesskey:"accessKey",charset:"charSet",class:"className",contenteditable:"contentEditable",contextmenu:"contextMenu","http-equiv":"httpEquiv",itemprop:"itemProp",tabindex:"tabIndex"},OR=Object.entries(Sm).reduce((n,[e,t])=>(n[t]=e,n),{}),rr="data-rh",ia={DEFAULT_TITLE:"defaultTitle",DEFER:"defer",ENCODE_SPECIAL_CHARACTERS:"encodeSpecialCharacters",ON_CHANGE_CLIENT_STATE:"onChangeClientState",TITLE_TEMPLATE:"titleTemplate",PRIORITIZE_SEO_TAGS:"prioritizeSeoTags"},sa=(n,e)=>{for(let t=n.length-1;t>=0;t-=1){const r=n[t];if(Object.prototype.hasOwnProperty.call(r,e))return r[e]}return null},NR=n=>{let e=sa(n,"title");const t=sa(n,ia.TITLE_TEMPLATE);if(Array.isArray(e)&&(e=e.join("")),t&&e)return t.replace(/%s/g,()=>e);const r=sa(n,ia.DEFAULT_TITLE);return e||r||void 0},DR=n=>sa(n,ia.ON_CHANGE_CLIENT_STATE)||(()=>{}),up=(n,e)=>e.filter(t=>typeof t[n]<"u").map(t=>t[n]).reduce((t,r)=>({...t,...r}),{}),xR=(n,e)=>e.filter(t=>typeof t.base<"u").map(t=>t.base).reverse().reduce((t,r)=>{if(!t.length){const s=Object.keys(r);for(let a=0;a<s.length;a+=1){const d=s[a].toLowerCase();if(n.indexOf(d)!==-1&&r[d])return t.concat(r)}}return t},[]),LR=n=>console&&typeof console.warn=="function"&&console.warn(n),Cl=(n,e,t)=>{const r={};return t.filter(s=>Array.isArray(s[n])?!0:(typeof s[n]<"u"&&LR(`Helmet: ${n} should be of type "Array". Instead found type "${typeof s[n]}"`),!1)).map(s=>s[n]).reverse().reduce((s,a)=>{const u={};a.filter(f=>{let m;const g=Object.keys(f);for(let E=0;E<g.length;E+=1){const R=g[E],V=R.toLowerCase();e.indexOf(V)!==-1&&!(m==="rel"&&f[m].toLowerCase()==="canonical")&&!(V==="rel"&&f[V].toLowerCase()==="stylesheet")&&(m=V),e.indexOf(R)!==-1&&(R==="innerHTML"||R==="cssText"||R==="itemprop")&&(m=R)}if(!m||!f[m])return!1;const w=f[m].toLowerCase();return r[m]||(r[m]={}),u[m]||(u[m]={}),r[m][w]?!1:(u[m][w]=!0,!0)}).reverse().forEach(f=>s.push(f));const d=Object.keys(u);for(let f=0;f<d.length;f+=1){const m=d[f],g={...r[m],...u[m]};r[m]=g}return s},[]).reverse()},VR=(n,e)=>{if(Array.isArray(n)&&n.length){for(let t=0;t<n.length;t+=1)if(n[t][e])return!0}return!1},MR=n=>({baseTag:xR(["href"],n),bodyAttributes:up("bodyAttributes",n),defer:sa(n,ia.DEFER),encode:sa(n,ia.ENCODE_SPECIAL_CHARACTERS),htmlAttributes:up("htmlAttributes",n),linkTags:Cl("link",["rel","href"],n),metaTags:Cl("meta",["name","charset","http-equiv","property","itemprop"],n),noscriptTags:Cl("noscript",["innerHTML"],n),onChangeClientState:DR(n),scriptTags:Cl("script",["src","innerHTML"],n),styleTags:Cl("style",["cssText"],n),title:NR(n),titleAttributes:up("titleAttributes",n),prioritizeSeoTags:VR(n,ia.PRIORITIZE_SEO_TAGS)}),aT=n=>Array.isArray(n)?n.join(""):n,UR=(n,e)=>{const t=Object.keys(n);for(let r=0;r<t.length;r+=1)if(e[t[r]]&&e[t[r]].includes(n[t[r]]))return!0;return!1},cp=(n,e)=>Array.isArray(n)?n.reduce((t,r)=>(UR(r,e)?t.priority.push(r):t.default.push(r),t),{priority:[],default:[]}):{default:n,priority:[]},_v=(n,e)=>({...n,[e]:void 0}),FR=["noscript","script","style"],Up=(n,e=!0)=>e===!1?String(n):String(n).replace(/&/g,"&amp;").replace(/</g,"&lt;").replace(/>/g,"&gt;").replace(/"/g,"&quot;").replace(/'/g,"&#x27;"),lT=n=>Object.keys(n).reduce((e,t)=>{const r=typeof n[t]<"u"?`${t}="${n[t]}"`:`${t}`;return e?`${e} ${r}`:r},""),jR=(n,e,t,r)=>{const s=lT(t),a=aT(e);return s?`<${n} ${rr}="true" ${s}>${Up(a,r)}</${n}>`:`<${n} ${rr}="true">${Up(a,r)}</${n}>`},zR=(n,e,t=!0)=>e.reduce((r,s)=>{const a=s,u=Object.keys(a).filter(m=>!(m==="innerHTML"||m==="cssText")).reduce((m,g)=>{const w=typeof a[g]>"u"?g:`${g}="${Up(a[g],t)}"`;return m?`${m} ${w}`:w},""),d=a.innerHTML||a.cssText||"",f=FR.indexOf(n)===-1;return`${r}<${n} ${rr}="true" ${u}${f?"/>":`>${d}</${n}>`}`},""),uT=(n,e={})=>Object.keys(n).reduce((t,r)=>{const s=Sm[r];return t[s||r]=n[r],t},e),BR=(n,e,t)=>{const r={key:e,[rr]:!0},s=uT(t,r);return[ce.createElement("title",s,e)]},ch=(n,e)=>e.map((t,r)=>{const s={key:r,[rr]:!0};return Object.keys(t).forEach(a=>{const d=Sm[a]||a;if(d==="innerHTML"||d==="cssText"){const f=t.innerHTML||t.cssText;s.dangerouslySetInnerHTML={__html:f}}else s[d]=t[a]}),ce.createElement(n,s)}),Bn=(n,e,t=!0)=>{switch(n){case"title":return{toComponent:()=>BR(n,e.title,e.titleAttributes),toString:()=>jR(n,e.title,e.titleAttributes,t)};case"bodyAttributes":case"htmlAttributes":return{toComponent:()=>uT(e),toString:()=>lT(e)};default:return{toComponent:()=>ch(n,e),toString:()=>zR(n,e,t)}}},$R=({metaTags:n,linkTags:e,scriptTags:t,encode:r})=>{const s=cp(n,lp.meta),a=cp(e,lp.link),u=cp(t,lp.script);return{priorityMethods:{toComponent:()=>[...ch("meta",s.priority),...ch("link",a.priority),...ch("script",u.priority)],toString:()=>`${Bn("meta",s.priority,r)} ${Bn("link",a.priority,r)} ${Bn("script",u.priority,r)}`},metaTags:s.default,linkTags:a.default,scriptTags:u.default}},HR=n=>{const{baseTag:e,bodyAttributes:t,encode:r=!0,htmlAttributes:s,noscriptTags:a,styleTags:u,title:d="",titleAttributes:f,prioritizeSeoTags:m}=n;let{linkTags:g,metaTags:w,scriptTags:E}=n,R={toComponent:()=>{},toString:()=>""};return m&&({priorityMethods:R,linkTags:g,metaTags:w,scriptTags:E}=$R(n)),{priority:R,base:Bn("base",e,r),bodyAttributes:Bn("bodyAttributes",t,r),htmlAttributes:Bn("htmlAttributes",s,r),link:Bn("link",g,r),meta:Bn("meta",w,r),noscript:Bn("noscript",a,r),script:Bn("script",E,r),style:Bn("style",u,r),title:Bn("title",{title:d,titleAttributes:f},r)}},Fp=HR,Jc=[],cT=!!(typeof window<"u"&&window.document&&window.document.createElement),jp=class{instances=[];canUseDOM=cT;context;value={setHelmet:n=>{this.context.helmet=n},helmetInstances:{get:()=>this.canUseDOM?Jc:this.instances,add:n=>{(this.canUseDOM?Jc:this.instances).push(n)},remove:n=>{const e=(this.canUseDOM?Jc:this.instances).indexOf(n);(this.canUseDOM?Jc:this.instances).splice(e,1)}}};constructor(n,e){this.context=n,this.canUseDOM=e||!1,e||(n.helmet=Fp({baseTag:[],bodyAttributes:{},htmlAttributes:{},linkTags:[],metaTags:[],noscriptTags:[],scriptTags:[],styleTags:[],title:"",titleAttributes:{}}))}},qR={},hT=ce.createContext(qR),dT=class fT extends Se.Component{static canUseDOM=cT;helmetData;constructor(e){super(e),this.helmetData=new jp(this.props.context||{},fT.canUseDOM)}render(){return ce.createElement(hT.Provider,{value:this.helmetData.value},this.props.children)}},Yo=(n,e)=>{const t=document.head||document.querySelector("head"),r=t.querySelectorAll(`${n}[${rr}]`),s=[].slice.call(r),a=[];let u;return e&&e.length&&e.forEach(d=>{const f=document.createElement(n);for(const m in d)if(Object.prototype.hasOwnProperty.call(d,m))if(m==="innerHTML")f.innerHTML=d.innerHTML;else if(m==="cssText")f.styleSheet?f.styleSheet.cssText=d.cssText:f.appendChild(document.createTextNode(d.cssText));else{const g=m,w=typeof d[g]>"u"?"":d[g];f.setAttribute(m,w)}f.setAttribute(rr,"true"),s.some((m,g)=>(u=g,f.isEqualNode(m)))?s.splice(u,1):a.push(f)}),s.forEach(d=>d.parentNode?.removeChild(d)),a.forEach(d=>t.appendChild(d)),{oldTags:s,newTags:a}},zp=(n,e)=>{const t=document.getElementsByTagName(n)[0];if(!t)return;const r=t.getAttribute(rr),s=r?r.split(","):[],a=[...s],u=Object.keys(e);for(const d of u){const f=e[d]||"";t.getAttribute(d)!==f&&t.setAttribute(d,f),s.indexOf(d)===-1&&s.push(d);const m=a.indexOf(d);m!==-1&&a.splice(m,1)}for(let d=a.length-1;d>=0;d-=1)t.removeAttribute(a[d]);s.length===a.length?t.removeAttribute(rr):t.getAttribute(rr)!==u.join(",")&&t.setAttribute(rr,u.join(","))},WR=(n,e)=>{typeof n<"u"&&document.title!==n&&(document.title=aT(n)),zp("title",e)},vv=(n,e)=>{const{baseTag:t,bodyAttributes:r,htmlAttributes:s,linkTags:a,metaTags:u,noscriptTags:d,onChangeClientState:f,scriptTags:m,styleTags:g,title:w,titleAttributes:E}=n;zp("body",r),zp("html",s),WR(w,E);const R={baseTag:Yo("base",t),linkTags:Yo("link",a),metaTags:Yo("meta",u),noscriptTags:Yo("noscript",d),scriptTags:Yo("script",m),styleTags:Yo("style",g)},V={},B={};Object.keys(R).forEach(z=>{const{newTags:te,oldTags:le}=R[z];te.length&&(V[z]=te),le.length&&(B[z]=R[z].oldTags)}),e&&e(),f(n,V,B)},kl=null,GR=n=>{kl&&cancelAnimationFrame(kl),n.defer?kl=requestAnimationFrame(()=>{vv(n,()=>{kl=null})}):(vv(n),kl=null)},KR=GR,Ev=class extends Se.Component{rendered=!1;shouldComponentUpdate(n){return!bR(n,this.props)}componentDidUpdate(){this.emitChange()}componentWillUnmount(){const{helmetInstances:n}=this.props.context;n.remove(this),this.emitChange()}emitChange(){const{helmetInstances:n,setHelmet:e}=this.props.context;let t=null;const r=MR(n.get().map(s=>{const a={...s.props};return delete a.context,a}));dT.canUseDOM?KR(r):Fp&&(t=Fp(r)),e(t)}init(){if(this.rendered)return;this.rendered=!0;const{helmetInstances:n}=this.props.context;n.add(this),this.emitChange()}render(){return this.init(),null}},vU=class extends Se.Component{static defaultProps={defer:!0,encodeSpecialCharacters:!0,prioritizeSeoTags:!1};shouldComponentUpdate(n){return!AR(_v(this.props,"helmetData"),_v(n,"helmetData"))}mapNestedChildrenToProps(n,e){if(!e)return null;switch(n.type){case"script":case"noscript":return{innerHTML:e};case"style":return{cssText:e};default:throw new Error(`<${n.type} /> elements are self-closing and can not contain children. Refer to our API for more information.`)}}flattenArrayTypeChildren(n,e,t,r){return{...e,[n.type]:[...e[n.type]||[],{...t,...this.mapNestedChildrenToProps(n,r)}]}}mapObjectTypeChildren(n,e,t,r){switch(n.type){case"title":return{...e,[n.type]:r,titleAttributes:{...t}};case"body":return{...e,bodyAttributes:{...t}};case"html":return{...e,htmlAttributes:{...t}};default:return{...e,[n.type]:{...t}}}}mapArrayTypeChildrenToProps(n,e){let t={...e};return Object.keys(n).forEach(r=>{t={...t,[r]:n[r]}}),t}warnOnInvalidChildren(n,e){return mv(yv.some(t=>n.type===t),typeof n.type=="function"?"You may be attempting to nest <Helmet> components within each other, which is not allowed. Refer to our API for more information.":`Only elements types ${yv.join(", ")} are allowed. Helmet does not support rendering <${n.type}> elements. Refer to our API for more information.`),mv(!e||typeof e=="string"||Array.isArray(e)&&!e.some(t=>typeof t!="string"),`Helmet expects a string as a child of <${n.type}>. Did you forget to wrap your children in braces? ( <${n.type}>{\`\`}</${n.type}> ) Refer to our API for more information.`),!0}mapChildrenToProps(n,e){let t={};return ce.Children.forEach(n,r=>{if(!r||!r.props)return;const{children:s,...a}=r.props,u=Object.keys(a).reduce((f,m)=>(f[OR[m]||m]=a[m],f),{});let{type:d}=r;switch(typeof d=="symbol"?d=d.toString():this.warnOnInvalidChildren(r,s),d){case"Symbol(react.fragment)":e=this.mapChildrenToProps(s,e);break;case"link":case"meta":case"noscript":case"script":case"style":t=this.flattenArrayTypeChildren(r,t,u,s);break;default:e=this.mapObjectTypeChildren(r,e,u,s);break}}),this.mapArrayTypeChildrenToProps(t,e)}render(){const{children:n,...e}=this.props;let t={...e},{helmetData:r}=e;if(n&&(t=this.mapChildrenToProps(n,t)),r&&!(r instanceof jp)){const s=r;r=new jp(s.context,!0),delete t.helmetData}return r?ce.createElement(Ev,{...t,context:r.value}):ce.createElement(hT.Consumer,null,s=>ce.createElement(Ev,{...t,context:s}))}};const QR="modulepreload",YR=function(n){return"/"+n},wv={},_e=function(e,t,r){let s=Promise.resolve();if(t&&t.length>0){let f=function(m){return Promise.all(m.map(g=>Promise.resolve(g).then(w=>({status:"fulfilled",value:w}),w=>({status:"rejected",reason:w}))))};document.getElementsByTagName("link");const u=document.querySelector("meta[property=csp-nonce]"),d=u?.nonce||u?.getAttribute("nonce");s=f(t.map(m=>{if(m=YR(m),m in wv)return;wv[m]=!0;const g=m.endsWith(".css"),w=g?'[rel="stylesheet"]':"";if(document.querySelector(`link[href="${m}"]${w}`))return;const E=document.createElement("link");if(E.rel=g?"stylesheet":QR,g||(E.as="script"),E.crossOrigin="",E.href=m,d&&E.setAttribute("nonce",d),document.head.appendChild(E),g)return new Promise((R,V)=>{E.addEventListener("load",R),E.addEventListener("error",()=>V(new Error(`Unable to preload CSS for ${m}`)))})}))}function a(u){const d=new Event("vite:preloadError",{cancelable:!0});if(d.payload=u,window.dispatchEvent(d),!d.defaultPrevented)throw u}return s.then(u=>{for(const d of u||[])d.status==="rejected"&&a(d.reason);return e().catch(a)})},pT=Se.createContext(void 0),Zr=({children:n})=>{const[e,t]=Se.useState("light");Se.useEffect(()=>{const s=localStorage.getItem("careervivid-theme"),a=window.matchMedia("(prefers-color-scheme: dark)").matches;t(s||(a?"dark":"light"))},[]),Se.useEffect(()=>{e==="dark"?document.documentElement.classList.add("dark"):document.documentElement.classList.remove("dark"),localStorage.setItem("careervivid-theme",e)},[e]);const r=()=>{t(s=>s==="light"?"dark":"light")};return G.jsx(pT.Provider,{value:{theme:e,toggleTheme:r},children:n})},EU=()=>{const n=Se.useContext(pT);if(n===void 0)throw new Error("useTheme must be used within a ThemeProvider");return n},JR=()=>{};var Tv={};const mT=function(n){const e=[];let t=0;for(let r=0;r<n.length;r++){let s=n.charCodeAt(r);s<128?e[t++]=s:s<2048?(e[t++]=s>>6|192,e[t++]=s&63|128):(s&64512)===55296&&r+1<n.length&&(n.charCodeAt(r+1)&64512)===56320?(s=65536+((s&1023)<<10)+(n.charCodeAt(++r)&1023),e[t++]=s>>18|240,e[t++]=s>>12&63|128,e[t++]=s>>6&63|128,e[t++]=s&63|128):(e[t++]=s>>12|224,e[t++]=s>>6&63|128,e[t++]=s&63|128)}return e},XR=function(n){const e=[];let t=0,r=0;for(;t<n.length;){const s=n[t++];if(s<128)e[r++]=String.fromCharCode(s);else if(s>191&&s<224){const a=n[t++];e[r++]=String.fromCharCode((s&31)<<6|a&63)}else if(s>239&&s<365){const a=n[t++],u=n[t++],d=n[t++],f=((s&7)<<18|(a&63)<<12|(u&63)<<6|d&63)-65536;e[r++]=String.fromCharCode(55296+(f>>10)),e[r++]=String.fromCharCode(56320+(f&1023))}else{const a=n[t++],u=n[t++];e[r++]=String.fromCharCode((s&15)<<12|(a&63)<<6|u&63)}}return e.join("")},gT={byteToCharMap_:null,charToByteMap_:null,byteToCharMapWebSafe_:null,charToByteMapWebSafe_:null,ENCODED_VALS_BASE:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",get ENCODED_VALS(){return this.ENCODED_VALS_BASE+"+/="},get ENCODED_VALS_WEBSAFE(){return this.ENCODED_VALS_BASE+"-_."},HAS_NATIVE_SUPPORT:typeof atob=="function",encodeByteArray(n,e){if(!Array.isArray(n))throw Error("encodeByteArray takes an array as a parameter");this.init_();const t=e?this.byteToCharMapWebSafe_:this.byteToCharMap_,r=[];for(let s=0;s<n.length;s+=3){const a=n[s],u=s+1<n.length,d=u?n[s+1]:0,f=s+2<n.length,m=f?n[s+2]:0,g=a>>2,w=(a&3)<<4|d>>4;let E=(d&15)<<2|m>>6,R=m&63;f||(R=64,u||(E=64)),r.push(t[g],t[w],t[E],t[R])}return r.join("")},encodeString(n,e){return this.HAS_NATIVE_SUPPORT&&!e?btoa(n):this.encodeByteArray(mT(n),e)},decodeString(n,e){return this.HAS_NATIVE_SUPPORT&&!e?atob(n):XR(this.decodeStringToByteArray(n,e))},decodeStringToByteArray(n,e){this.init_();const t=e?this.charToByteMapWebSafe_:this.charToByteMap_,r=[];for(let s=0;s<n.length;){const a=t[n.charAt(s++)],d=s<n.length?t[n.charAt(s)]:0;++s;const m=s<n.length?t[n.charAt(s)]:64;++s;const w=s<n.length?t[n.charAt(s)]:64;if(++s,a==null||d==null||m==null||w==null)throw new ZR;const E=a<<2|d>>4;if(r.push(E),m!==64){const R=d<<4&240|m>>2;if(r.push(R),w!==64){const V=m<<6&192|w;r.push(V)}}}return r},init_(){if(!this.byteToCharMap_){this.byteToCharMap_={},this.charToByteMap_={},this.byteToCharMapWebSafe_={},this.charToByteMapWebSafe_={};for(let n=0;n<this.ENCODED_VALS.length;n++)this.byteToCharMap_[n]=this.ENCODED_VALS.charAt(n),this.charToByteMap_[this.byteToCharMap_[n]]=n,this.byteToCharMapWebSafe_[n]=this.ENCODED_VALS_WEBSAFE.charAt(n),this.charToByteMapWebSafe_[this.byteToCharMapWebSafe_[n]]=n,n>=this.ENCODED_VALS_BASE.length&&(this.charToByteMap_[this.ENCODED_VALS_WEBSAFE.charAt(n)]=n,this.charToByteMapWebSafe_[this.ENCODED_VALS.charAt(n)]=n)}}};class ZR extends Error{constructor(){super(...arguments),this.name="DecodeBase64StringError"}}const eP=function(n){const e=mT(n);return gT.encodeByteArray(e,!0)},Th=function(n){return eP(n).replace(/\./g,"")},yT=function(n){try{return gT.decodeString(n,!0)}catch(e){console.error("base64Decode failed: ",e)}return null};function tP(){if(typeof self<"u")return self;if(typeof window<"u")return window;if(typeof global<"u")return global;throw new Error("Unable to locate global object.")}const nP=()=>tP().__FIREBASE_DEFAULTS__,rP=()=>{if(typeof process>"u"||typeof Tv>"u")return;const n=Tv.__FIREBASE_DEFAULTS__;if(n)return JSON.parse(n)},iP=()=>{if(typeof document>"u")return;let n;try{n=document.cookie.match(/__FIREBASE_DEFAULTS__=([^;]+)/)}catch{return}const e=n&&yT(n[1]);return e&&JSON.parse(e)},Yh=()=>{try{return JR()||nP()||rP()||iP()}catch(n){console.info(`Unable to get __FIREBASE_DEFAULTS__ due to: ${n}`);return}},_T=n=>Yh()?.emulatorHosts?.[n],Am=n=>{const e=_T(n);if(!e)return;const t=e.lastIndexOf(":");if(t<=0||t+1===e.length)throw new Error(`Invalid host ${e} with no separate hostname and port!`);const r=parseInt(e.substring(t+1),10);return e[0]==="["?[e.substring(1,t-1),r]:[e.substring(0,t),r]},vT=()=>Yh()?.config,ET=n=>Yh()?.[`_${n}`];class sP{constructor(){this.reject=()=>{},this.resolve=()=>{},this.promise=new Promise((e,t)=>{this.resolve=e,this.reject=t})}wrapCallback(e){return(t,r)=>{t?this.reject(t):this.resolve(r),typeof e=="function"&&(this.promise.catch(()=>{}),e.length===1?e(t):e(t,r))}}}function xr(n){try{return(n.startsWith("http://")||n.startsWith("https://")?new URL(n).hostname:n).endsWith(".cloudworkstations.dev")}catch{return!1}}async function Jh(n){return(await fetch(n,{credentials:"include"})).ok}function wT(n,e){if(n.uid)throw new Error('The "uid" field is no longer supported by mockUserToken. Please use "sub" instead for Firebase Auth User ID.');const t={alg:"none",type:"JWT"},r=e||"demo-project",s=n.iat||0,a=n.sub||n.user_id;if(!a)throw new Error("mockUserToken must contain 'sub' or 'user_id' field!");const u={iss:`https://securetoken.google.com/${r}`,aud:r,iat:s,exp:s+3600,auth_time:s,sub:a,user_id:a,firebase:{sign_in_provider:"custom",identities:{}},...n};return[Th(JSON.stringify(t)),Th(JSON.stringify(u)),""].join(".")}const ql={};function oP(){const n={prod:[],emulator:[]};for(const e of Object.keys(ql))ql[e]?n.emulator.push(e):n.prod.push(e);return n}function aP(n){let e=document.getElementById(n),t=!1;return e||(e=document.createElement("div"),e.setAttribute("id",n),t=!0),{created:t,element:e}}let Iv=!1;function Xh(n,e){if(typeof window>"u"||typeof document>"u"||!xr(window.location.host)||ql[n]===e||ql[n]||Iv)return;ql[n]=e;function t(E){return`__firebase__banner__${E}`}const r="__firebase__banner",a=oP().prod.length>0;function u(){const E=document.getElementById(r);E&&E.remove()}function d(E){E.style.display="flex",E.style.background="#7faaf0",E.style.position="fixed",E.style.bottom="5px",E.style.left="5px",E.style.padding=".5em",E.style.borderRadius="5px",E.style.alignItems="center"}function f(E,R){E.setAttribute("width","24"),E.setAttribute("id",R),E.setAttribute("height","24"),E.setAttribute("viewBox","0 0 24 24"),E.setAttribute("fill","none"),E.style.marginLeft="-6px"}function m(){const E=document.createElement("span");return E.style.cursor="pointer",E.style.marginLeft="16px",E.style.fontSize="24px",E.innerHTML=" &times;",E.onclick=()=>{Iv=!0,u()},E}function g(E,R){E.setAttribute("id",R),E.innerText="Learn more",E.href="https://firebase.google.com/docs/studio/preview-apps#preview-backend",E.setAttribute("target","__blank"),E.style.paddingLeft="5px",E.style.textDecoration="underline"}function w(){const E=aP(r),R=t("text"),V=document.getElementById(R)||document.createElement("span"),B=t("learnmore"),z=document.getElementById(B)||document.createElement("a"),te=t("preprendIcon"),le=document.getElementById(te)||document.createElementNS("http://www.w3.org/2000/svg","svg");if(E.created){const ve=E.element;d(ve),g(z,B);const oe=m();f(le,te),ve.append(le,V,z,oe),document.body.appendChild(ve)}a?(V.innerText="Preview backend disconnected.",le.innerHTML=`<g clip-path="url(#clip0_6013_33858)">
<path d="M4.8 17.6L12 5.6L19.2 17.6H4.8ZM6.91667 16.4H17.0833L12 7.93333L6.91667 16.4ZM12 15.6C12.1667 15.6 12.3056 15.5444 12.4167 15.4333C12.5389 15.3111 12.6 15.1667 12.6 15C12.6 14.8333 12.5389 14.6944 12.4167 14.5833C12.3056 14.4611 12.1667 14.4 12 14.4C11.8333 14.4 11.6889 14.4611 11.5667 14.5833C11.4556 14.6944 11.4 14.8333 11.4 15C11.4 15.1667 11.4556 15.3111 11.5667 15.4333C11.6889 15.5444 11.8333 15.6 12 15.6ZM11.4 13.6H12.6V10.4H11.4V13.6Z" fill="#212121"/>
</g>
<defs>
<clipPath id="clip0_6013_33858">
<rect width="24" height="24" fill="white"/>
</clipPath>
</defs>`):(le.innerHTML=`<g clip-path="url(#clip0_6083_34804)">
<path d="M11.4 15.2H12.6V11.2H11.4V15.2ZM12 10C12.1667 10 12.3056 9.94444 12.4167 9.83333C12.5389 9.71111 12.6 9.56667 12.6 9.4C12.6 9.23333 12.5389 9.09444 12.4167 8.98333C12.3056 8.86111 12.1667 8.8 12 8.8C11.8333 8.8 11.6889 8.86111 11.5667 8.98333C11.4556 9.09444 11.4 9.23333 11.4 9.4C11.4 9.56667 11.4556 9.71111 11.5667 9.83333C11.6889 9.94444 11.8333 10 12 10ZM12 18.4C11.1222 18.4 10.2944 18.2333 9.51667 17.9C8.73889 17.5667 8.05556 17.1111 7.46667 16.5333C6.88889 15.9444 6.43333 15.2611 6.1 14.4833C5.76667 13.7056 5.6 12.8778 5.6 12C5.6 11.1111 5.76667 10.2833 6.1 9.51667C6.43333 8.73889 6.88889 8.06111 7.46667 7.48333C8.05556 6.89444 8.73889 6.43333 9.51667 6.1C10.2944 5.76667 11.1222 5.6 12 5.6C12.8889 5.6 13.7167 5.76667 14.4833 6.1C15.2611 6.43333 15.9389 6.89444 16.5167 7.48333C17.1056 8.06111 17.5667 8.73889 17.9 9.51667C18.2333 10.2833 18.4 11.1111 18.4 12C18.4 12.8778 18.2333 13.7056 17.9 14.4833C17.5667 15.2611 17.1056 15.9444 16.5167 16.5333C15.9389 17.1111 15.2611 17.5667 14.4833 17.9C13.7167 18.2333 12.8889 18.4 12 18.4ZM12 17.2C13.4444 17.2 14.6722 16.6944 15.6833 15.6833C16.6944 14.6722 17.2 13.4444 17.2 12C17.2 10.5556 16.6944 9.32778 15.6833 8.31667C14.6722 7.30555 13.4444 6.8 12 6.8C10.5556 6.8 9.32778 7.30555 8.31667 8.31667C7.30556 9.32778 6.8 10.5556 6.8 12C6.8 13.4444 7.30556 14.6722 8.31667 15.6833C9.32778 16.6944 10.5556 17.2 12 17.2Z" fill="#212121"/>
</g>
<defs>
<clipPath id="clip0_6083_34804">
<rect width="24" height="24" fill="white"/>
</clipPath>
</defs>`,V.innerText="Preview backend running in this workspace."),V.setAttribute("id",R)}document.readyState==="loading"?window.addEventListener("DOMContentLoaded",w):w()}function Zt(){return typeof navigator<"u"&&typeof navigator.userAgent=="string"?navigator.userAgent:""}function lP(){return typeof window<"u"&&!!(window.cordova||window.phonegap||window.PhoneGap)&&/ios|iphone|ipod|ipad|android|blackberry|iemobile/i.test(Zt())}function uP(){const n=Yh()?.forceEnvironment;if(n==="node")return!0;if(n==="browser")return!1;try{return Object.prototype.toString.call(global.process)==="[object process]"}catch{return!1}}function cP(){return typeof navigator<"u"&&navigator.userAgent==="Cloudflare-Workers"}function Rm(){const n=typeof chrome=="object"?chrome.runtime:typeof browser=="object"?browser.runtime:void 0;return typeof n=="object"&&n.id!==void 0}function hP(){return typeof navigator=="object"&&navigator.product==="ReactNative"}function dP(){const n=Zt();return n.indexOf("MSIE ")>=0||n.indexOf("Trident/")>=0}function fP(){return!uP()&&!!navigator.userAgent&&navigator.userAgent.includes("Safari")&&!navigator.userAgent.includes("Chrome")}function Pm(){try{return typeof indexedDB=="object"}catch{return!1}}function Cm(){return new Promise((n,e)=>{try{let t=!0;const r="validate-browser-context-for-indexeddb-analytics-module",s=self.indexedDB.open(r);s.onsuccess=()=>{s.result.close(),t||self.indexedDB.deleteDatabase(r),n(!0)},s.onupgradeneeded=()=>{t=!1},s.onerror=()=>{e(s.error?.message||"")}}catch(t){e(t)}})}function TT(){return!(typeof navigator>"u"||!navigator.cookieEnabled)}const pP="FirebaseError";class Dn extends Error{constructor(e,t,r){super(t),this.code=e,this.customData=r,this.name=pP,Object.setPrototypeOf(this,Dn.prototype),Error.captureStackTrace&&Error.captureStackTrace(this,to.prototype.create)}}class to{constructor(e,t,r){this.service=e,this.serviceName=t,this.errors=r}create(e,...t){const r=t[0]||{},s=`${this.service}/${e}`,a=this.errors[e],u=a?mP(a,r):"Error",d=`${this.serviceName}: ${u} (${s}).`;return new Dn(s,d,r)}}function mP(n,e){return n.replace(gP,(t,r)=>{const s=e[r];return s!=null?String(s):`<${r}?>`})}const gP=/\{\$([^}]+)}/g;function yP(n){for(const e in n)if(Object.prototype.hasOwnProperty.call(n,e))return!1;return!0}function oi(n,e){if(n===e)return!0;const t=Object.keys(n),r=Object.keys(e);for(const s of t){if(!r.includes(s))return!1;const a=n[s],u=e[s];if(Sv(a)&&Sv(u)){if(!oi(a,u))return!1}else if(a!==u)return!1}for(const s of r)if(!t.includes(s))return!1;return!0}function Sv(n){return n!==null&&typeof n=="object"}function Ia(n){const e=[];for(const[t,r]of Object.entries(n))Array.isArray(r)?r.forEach(s=>{e.push(encodeURIComponent(t)+"="+encodeURIComponent(s))}):e.push(encodeURIComponent(t)+"="+encodeURIComponent(r));return e.length?"&"+e.join("&"):""}function Vl(n){const e={};return n.replace(/^\?/,"").split("&").forEach(r=>{if(r){const[s,a]=r.split("=");e[decodeURIComponent(s)]=decodeURIComponent(a)}}),e}function Ml(n){const e=n.indexOf("?");if(!e)return"";const t=n.indexOf("#",e);return n.substring(e,t>0?t:void 0)}function _P(n,e){const t=new vP(n,e);return t.subscribe.bind(t)}class vP{constructor(e,t){this.observers=[],this.unsubscribes=[],this.observerCount=0,this.task=Promise.resolve(),this.finalized=!1,this.onNoObservers=t,this.task.then(()=>{e(this)}).catch(r=>{this.error(r)})}next(e){this.forEachObserver(t=>{t.next(e)})}error(e){this.forEachObserver(t=>{t.error(e)}),this.close(e)}complete(){this.forEachObserver(e=>{e.complete()}),this.close()}subscribe(e,t,r){let s;if(e===void 0&&t===void 0&&r===void 0)throw new Error("Missing Observer.");EP(e,["next","error","complete"])?s=e:s={next:e,error:t,complete:r},s.next===void 0&&(s.next=hp),s.error===void 0&&(s.error=hp),s.complete===void 0&&(s.complete=hp);const a=this.unsubscribeOne.bind(this,this.observers.length);return this.finalized&&this.task.then(()=>{try{this.finalError?s.error(this.finalError):s.complete()}catch{}}),this.observers.push(s),a}unsubscribeOne(e){this.observers===void 0||this.observers[e]===void 0||(delete this.observers[e],this.observerCount-=1,this.observerCount===0&&this.onNoObservers!==void 0&&this.onNoObservers(this))}forEachObserver(e){if(!this.finalized)for(let t=0;t<this.observers.length;t++)this.sendOne(t,e)}sendOne(e,t){this.task.then(()=>{if(this.observers!==void 0&&this.observers[e]!==void 0)try{t(this.observers[e])}catch(r){typeof console<"u"&&console.error&&console.error(r)}})}close(e){this.finalized||(this.finalized=!0,e!==void 0&&(this.finalError=e),this.task.then(()=>{this.observers=void 0,this.onNoObservers=void 0}))}}function EP(n,e){if(typeof n!="object"||n===null)return!1;for(const t of e)if(t in n&&typeof n[t]=="function")return!0;return!1}function hp(){}const wP=1e3,TP=2,IP=14400*1e3,SP=.5;function Av(n,e=wP,t=TP){const r=e*Math.pow(t,n),s=Math.round(SP*r*(Math.random()-.5)*2);return Math.min(IP,r+s)}function ge(n){return n&&n._delegate?n._delegate:n}class Nn{constructor(e,t,r){this.name=e,this.instanceFactory=t,this.type=r,this.multipleInstances=!1,this.serviceProps={},this.instantiationMode="LAZY",this.onInstanceCreated=null}setInstantiationMode(e){return this.instantiationMode=e,this}setMultipleInstances(e){return this.multipleInstances=e,this}setServiceProps(e){return this.serviceProps=e,this}setInstanceCreatedCallback(e){return this.onInstanceCreated=e,this}}const js="[DEFAULT]";class AP{constructor(e,t){this.name=e,this.container=t,this.component=null,this.instances=new Map,this.instancesDeferred=new Map,this.instancesOptions=new Map,this.onInitCallbacks=new Map}get(e){const t=this.normalizeInstanceIdentifier(e);if(!this.instancesDeferred.has(t)){const r=new sP;if(this.instancesDeferred.set(t,r),this.isInitialized(t)||this.shouldAutoInitialize())try{const s=this.getOrInitializeService({instanceIdentifier:t});s&&r.resolve(s)}catch{}}return this.instancesDeferred.get(t).promise}getImmediate(e){const t=this.normalizeInstanceIdentifier(e?.identifier),r=e?.optional??!1;if(this.isInitialized(t)||this.shouldAutoInitialize())try{return this.getOrInitializeService({instanceIdentifier:t})}catch(s){if(r)return null;throw s}else{if(r)return null;throw Error(`Service ${this.name} is not available`)}}getComponent(){return this.component}setComponent(e){if(e.name!==this.name)throw Error(`Mismatching Component ${e.name} for Provider ${this.name}.`);if(this.component)throw Error(`Component for ${this.name} has already been provided`);if(this.component=e,!!this.shouldAutoInitialize()){if(PP(e))try{this.getOrInitializeService({instanceIdentifier:js})}catch{}for(const[t,r]of this.instancesDeferred.entries()){const s=this.normalizeInstanceIdentifier(t);try{const a=this.getOrInitializeService({instanceIdentifier:s});r.resolve(a)}catch{}}}}clearInstance(e=js){this.instancesDeferred.delete(e),this.instancesOptions.delete(e),this.instances.delete(e)}async delete(){const e=Array.from(this.instances.values());await Promise.all([...e.filter(t=>"INTERNAL"in t).map(t=>t.INTERNAL.delete()),...e.filter(t=>"_delete"in t).map(t=>t._delete())])}isComponentSet(){return this.component!=null}isInitialized(e=js){return this.instances.has(e)}getOptions(e=js){return this.instancesOptions.get(e)||{}}initialize(e={}){const{options:t={}}=e,r=this.normalizeInstanceIdentifier(e.instanceIdentifier);if(this.isInitialized(r))throw Error(`${this.name}(${r}) has already been initialized`);if(!this.isComponentSet())throw Error(`Component ${this.name} has not been registered yet`);const s=this.getOrInitializeService({instanceIdentifier:r,options:t});for(const[a,u]of this.instancesDeferred.entries()){const d=this.normalizeInstanceIdentifier(a);r===d&&u.resolve(s)}return s}onInit(e,t){const r=this.normalizeInstanceIdentifier(t),s=this.onInitCallbacks.get(r)??new Set;s.add(e),this.onInitCallbacks.set(r,s);const a=this.instances.get(r);return a&&e(a,r),()=>{s.delete(e)}}invokeOnInitCallbacks(e,t){const r=this.onInitCallbacks.get(t);if(r)for(const s of r)try{s(e,t)}catch{}}getOrInitializeService({instanceIdentifier:e,options:t={}}){let r=this.instances.get(e);if(!r&&this.component&&(r=this.component.instanceFactory(this.container,{instanceIdentifier:RP(e),options:t}),this.instances.set(e,r),this.instancesOptions.set(e,t),this.invokeOnInitCallbacks(r,e),this.component.onInstanceCreated))try{this.component.onInstanceCreated(this.container,e,r)}catch{}return r||null}normalizeInstanceIdentifier(e=js){return this.component?this.component.multipleInstances?e:js:e}shouldAutoInitialize(){return!!this.component&&this.component.instantiationMode!=="EXPLICIT"}}function RP(n){return n===js?void 0:n}function PP(n){return n.instantiationMode==="EAGER"}class CP{constructor(e){this.name=e,this.providers=new Map}addComponent(e){const t=this.getProvider(e.name);if(t.isComponentSet())throw new Error(`Component ${e.name} has already been registered with ${this.name}`);t.setComponent(e)}addOrOverwriteComponent(e){this.getProvider(e.name).isComponentSet()&&this.providers.delete(e.name),this.addComponent(e)}getProvider(e){if(this.providers.has(e))return this.providers.get(e);const t=new AP(e,this);return this.providers.set(e,t),t}getProviders(){return Array.from(this.providers.values())}}var Ue;(function(n){n[n.DEBUG=0]="DEBUG",n[n.VERBOSE=1]="VERBOSE",n[n.INFO=2]="INFO",n[n.WARN=3]="WARN",n[n.ERROR=4]="ERROR",n[n.SILENT=5]="SILENT"})(Ue||(Ue={}));const kP={debug:Ue.DEBUG,verbose:Ue.VERBOSE,info:Ue.INFO,warn:Ue.WARN,error:Ue.ERROR,silent:Ue.SILENT},bP=Ue.INFO,OP={[Ue.DEBUG]:"log",[Ue.VERBOSE]:"log",[Ue.INFO]:"info",[Ue.WARN]:"warn",[Ue.ERROR]:"error"},NP=(n,e,...t)=>{if(e<n.logLevel)return;const r=new Date().toISOString(),s=OP[e];if(s)console[s](`[${r}]  ${n.name}:`,...t);else throw new Error(`Attempted to log a message with an invalid logType (value: ${e})`)};let Zh=class{constructor(e){this.name=e,this._logLevel=bP,this._logHandler=NP,this._userLogHandler=null}get logLevel(){return this._logLevel}set logLevel(e){if(!(e in Ue))throw new TypeError(`Invalid value "${e}" assigned to \`logLevel\``);this._logLevel=e}setLogLevel(e){this._logLevel=typeof e=="string"?kP[e]:e}get logHandler(){return this._logHandler}set logHandler(e){if(typeof e!="function")throw new TypeError("Value assigned to `logHandler` must be a function");this._logHandler=e}get userLogHandler(){return this._userLogHandler}set userLogHandler(e){this._userLogHandler=e}debug(...e){this._userLogHandler&&this._userLogHandler(this,Ue.DEBUG,...e),this._logHandler(this,Ue.DEBUG,...e)}log(...e){this._userLogHandler&&this._userLogHandler(this,Ue.VERBOSE,...e),this._logHandler(this,Ue.VERBOSE,...e)}info(...e){this._userLogHandler&&this._userLogHandler(this,Ue.INFO,...e),this._logHandler(this,Ue.INFO,...e)}warn(...e){this._userLogHandler&&this._userLogHandler(this,Ue.WARN,...e),this._logHandler(this,Ue.WARN,...e)}error(...e){this._userLogHandler&&this._userLogHandler(this,Ue.ERROR,...e),this._logHandler(this,Ue.ERROR,...e)}};const DP=(n,e)=>e.some(t=>n instanceof t);let Rv,Pv;function xP(){return Rv||(Rv=[IDBDatabase,IDBObjectStore,IDBIndex,IDBCursor,IDBTransaction])}function LP(){return Pv||(Pv=[IDBCursor.prototype.advance,IDBCursor.prototype.continue,IDBCursor.prototype.continuePrimaryKey])}const IT=new WeakMap,Bp=new WeakMap,ST=new WeakMap,dp=new WeakMap,km=new WeakMap;function VP(n){const e=new Promise((t,r)=>{const s=()=>{n.removeEventListener("success",a),n.removeEventListener("error",u)},a=()=>{t(Zi(n.result)),s()},u=()=>{r(n.error),s()};n.addEventListener("success",a),n.addEventListener("error",u)});return e.then(t=>{t instanceof IDBCursor&&IT.set(t,n)}).catch(()=>{}),km.set(e,n),e}function MP(n){if(Bp.has(n))return;const e=new Promise((t,r)=>{const s=()=>{n.removeEventListener("complete",a),n.removeEventListener("error",u),n.removeEventListener("abort",u)},a=()=>{t(),s()},u=()=>{r(n.error||new DOMException("AbortError","AbortError")),s()};n.addEventListener("complete",a),n.addEventListener("error",u),n.addEventListener("abort",u)});Bp.set(n,e)}let $p={get(n,e,t){if(n instanceof IDBTransaction){if(e==="done")return Bp.get(n);if(e==="objectStoreNames")return n.objectStoreNames||ST.get(n);if(e==="store")return t.objectStoreNames[1]?void 0:t.objectStore(t.objectStoreNames[0])}return Zi(n[e])},set(n,e,t){return n[e]=t,!0},has(n,e){return n instanceof IDBTransaction&&(e==="done"||e==="store")?!0:e in n}};function UP(n){$p=n($p)}function FP(n){return n===IDBDatabase.prototype.transaction&&!("objectStoreNames"in IDBTransaction.prototype)?function(e,...t){const r=n.call(fp(this),e,...t);return ST.set(r,e.sort?e.sort():[e]),Zi(r)}:LP().includes(n)?function(...e){return n.apply(fp(this),e),Zi(IT.get(this))}:function(...e){return Zi(n.apply(fp(this),e))}}function jP(n){return typeof n=="function"?FP(n):(n instanceof IDBTransaction&&MP(n),DP(n,xP())?new Proxy(n,$p):n)}function Zi(n){if(n instanceof IDBRequest)return VP(n);if(dp.has(n))return dp.get(n);const e=jP(n);return e!==n&&(dp.set(n,e),km.set(e,n)),e}const fp=n=>km.get(n);function AT(n,e,{blocked:t,upgrade:r,blocking:s,terminated:a}={}){const u=indexedDB.open(n,e),d=Zi(u);return r&&u.addEventListener("upgradeneeded",f=>{r(Zi(u.result),f.oldVersion,f.newVersion,Zi(u.transaction),f)}),t&&u.addEventListener("blocked",f=>t(f.oldVersion,f.newVersion,f)),d.then(f=>{a&&f.addEventListener("close",()=>a()),s&&f.addEventListener("versionchange",m=>s(m.oldVersion,m.newVersion,m))}).catch(()=>{}),d}const zP=["get","getKey","getAll","getAllKeys","count"],BP=["put","add","delete","clear"],pp=new Map;function Cv(n,e){if(!(n instanceof IDBDatabase&&!(e in n)&&typeof e=="string"))return;if(pp.get(e))return pp.get(e);const t=e.replace(/FromIndex$/,""),r=e!==t,s=BP.includes(t);if(!(t in(r?IDBIndex:IDBObjectStore).prototype)||!(s||zP.includes(t)))return;const a=async function(u,...d){const f=this.transaction(u,s?"readwrite":"readonly");let m=f.store;return r&&(m=m.index(d.shift())),(await Promise.all([m[t](...d),s&&f.done]))[0]};return pp.set(e,a),a}UP(n=>({...n,get:(e,t,r)=>Cv(e,t)||n.get(e,t,r),has:(e,t)=>!!Cv(e,t)||n.has(e,t)}));class $P{constructor(e){this.container=e}getPlatformInfoString(){return this.container.getProviders().map(t=>{if(HP(t)){const r=t.getImmediate();return`${r.library}/${r.version}`}else return null}).filter(t=>t).join(" ")}}function HP(n){return n.getComponent()?.type==="VERSION"}const Hp="@firebase/app",kv="0.14.7";const ai=new Zh("@firebase/app"),qP="@firebase/app-compat",WP="@firebase/analytics-compat",GP="@firebase/analytics",KP="@firebase/app-check-compat",QP="@firebase/app-check",YP="@firebase/auth",JP="@firebase/auth-compat",XP="@firebase/database",ZP="@firebase/data-connect",eC="@firebase/database-compat",tC="@firebase/functions",nC="@firebase/functions-compat",rC="@firebase/installations",iC="@firebase/installations-compat",sC="@firebase/messaging",oC="@firebase/messaging-compat",aC="@firebase/performance",lC="@firebase/performance-compat",uC="@firebase/remote-config",cC="@firebase/remote-config-compat",hC="@firebase/storage",dC="@firebase/storage-compat",fC="@firebase/firestore",pC="@firebase/ai",mC="@firebase/firestore-compat",gC="firebase",yC="12.8.0";const qp="[DEFAULT]",_C={[Hp]:"fire-core",[qP]:"fire-core-compat",[GP]:"fire-analytics",[WP]:"fire-analytics-compat",[QP]:"fire-app-check",[KP]:"fire-app-check-compat",[YP]:"fire-auth",[JP]:"fire-auth-compat",[XP]:"fire-rtdb",[ZP]:"fire-data-connect",[eC]:"fire-rtdb-compat",[tC]:"fire-fn",[nC]:"fire-fn-compat",[rC]:"fire-iid",[iC]:"fire-iid-compat",[sC]:"fire-fcm",[oC]:"fire-fcm-compat",[aC]:"fire-perf",[lC]:"fire-perf-compat",[uC]:"fire-rc",[cC]:"fire-rc-compat",[hC]:"fire-gcs",[dC]:"fire-gcs-compat",[fC]:"fire-fst",[mC]:"fire-fst-compat",[pC]:"fire-vertex","fire-js":"fire-js",[gC]:"fire-js-all"};const Ih=new Map,vC=new Map,Wp=new Map;function bv(n,e){try{n.container.addComponent(e)}catch(t){ai.debug(`Component ${e.name} failed to register with FirebaseApp ${n.name}`,t)}}function Hn(n){const e=n.name;if(Wp.has(e))return ai.debug(`There were multiple attempts to register component ${e}.`),!1;Wp.set(e,n);for(const t of Ih.values())bv(t,n);for(const t of vC.values())bv(t,n);return!0}function fi(n,e){const t=n.container.getProvider("heartbeat").getImmediate({optional:!0});return t&&t.triggerHeartbeat(),n.container.getProvider(e)}function it(n){return n==null?!1:n.settings!==void 0}const EC={"no-app":"No Firebase App '{$appName}' has been created - call initializeApp() first","bad-app-name":"Illegal App name: '{$appName}'","duplicate-app":"Firebase App named '{$appName}' already exists with different options or config","app-deleted":"Firebase App named '{$appName}' already deleted","server-app-deleted":"Firebase Server App has been deleted","no-options":"Need to provide options, when not being deployed to hosting via source.","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance.","invalid-log-argument":"First argument to `onLog` must be null or a function.","idb-open":"Error thrown when opening IndexedDB. Original error: {$originalErrorMessage}.","idb-get":"Error thrown when reading from IndexedDB. Original error: {$originalErrorMessage}.","idb-set":"Error thrown when writing to IndexedDB. Original error: {$originalErrorMessage}.","idb-delete":"Error thrown when deleting from IndexedDB. Original error: {$originalErrorMessage}.","finalization-registry-not-supported":"FirebaseServerApp deleteOnDeref field defined but the JS runtime does not support FinalizationRegistry.","invalid-server-app-environment":"FirebaseServerApp is not for use in browser environments."},es=new to("app","Firebase",EC);class wC{constructor(e,t,r){this._isDeleted=!1,this._options={...e},this._config={...t},this._name=t.name,this._automaticDataCollectionEnabled=t.automaticDataCollectionEnabled,this._container=r,this.container.addComponent(new Nn("app",()=>this,"PUBLIC"))}get automaticDataCollectionEnabled(){return this.checkDestroyed(),this._automaticDataCollectionEnabled}set automaticDataCollectionEnabled(e){this.checkDestroyed(),this._automaticDataCollectionEnabled=e}get name(){return this.checkDestroyed(),this._name}get options(){return this.checkDestroyed(),this._options}get config(){return this.checkDestroyed(),this._config}get container(){return this._container}get isDeleted(){return this._isDeleted}set isDeleted(e){this._isDeleted=e}checkDestroyed(){if(this.isDeleted)throw es.create("app-deleted",{appName:this._name})}}const no=yC;function RT(n,e={}){let t=n;typeof e!="object"&&(e={name:e});const r={name:qp,automaticDataCollectionEnabled:!0,...e},s=r.name;if(typeof s!="string"||!s)throw es.create("bad-app-name",{appName:String(s)});if(t||(t=vT()),!t)throw es.create("no-options");const a=Ih.get(s);if(a){if(oi(t,a.options)&&oi(r,a.config))return a;throw es.create("duplicate-app",{appName:s})}const u=new CP(s);for(const f of Wp.values())u.addComponent(f);const d=new wC(t,r,u);return Ih.set(s,d),d}function _u(n=qp){const e=Ih.get(n);if(!e&&n===qp&&vT())return RT();if(!e)throw es.create("no-app",{appName:n});return e}function Xt(n,e,t){let r=_C[n]??n;t&&(r+=`-${t}`);const s=r.match(/\s|\//),a=e.match(/\s|\//);if(s||a){const u=[`Unable to register library "${r}" with version "${e}":`];s&&u.push(`library name "${r}" contains illegal characters (whitespace or "/")`),s&&a&&u.push("and"),a&&u.push(`version name "${e}" contains illegal characters (whitespace or "/")`),ai.warn(u.join(" "));return}Hn(new Nn(`${r}-version`,()=>({library:r,version:e}),"VERSION"))}const TC="firebase-heartbeat-database",IC=1,tu="firebase-heartbeat-store";let mp=null;function PT(){return mp||(mp=AT(TC,IC,{upgrade:(n,e)=>{switch(e){case 0:try{n.createObjectStore(tu)}catch(t){console.warn(t)}}}}).catch(n=>{throw es.create("idb-open",{originalErrorMessage:n.message})})),mp}async function SC(n){try{const t=(await PT()).transaction(tu),r=await t.objectStore(tu).get(CT(n));return await t.done,r}catch(e){if(e instanceof Dn)ai.warn(e.message);else{const t=es.create("idb-get",{originalErrorMessage:e?.message});ai.warn(t.message)}}}async function Ov(n,e){try{const r=(await PT()).transaction(tu,"readwrite");await r.objectStore(tu).put(e,CT(n)),await r.done}catch(t){if(t instanceof Dn)ai.warn(t.message);else{const r=es.create("idb-set",{originalErrorMessage:t?.message});ai.warn(r.message)}}}function CT(n){return`${n.name}!${n.options.appId}`}const AC=1024,RC=30;class PC{constructor(e){this.container=e,this._heartbeatsCache=null;const t=this.container.getProvider("app").getImmediate();this._storage=new kC(t),this._heartbeatsCachePromise=this._storage.read().then(r=>(this._heartbeatsCache=r,r))}async triggerHeartbeat(){try{const t=this.container.getProvider("platform-logger").getImmediate().getPlatformInfoString(),r=Nv();if(this._heartbeatsCache?.heartbeats==null&&(this._heartbeatsCache=await this._heartbeatsCachePromise,this._heartbeatsCache?.heartbeats==null)||this._heartbeatsCache.lastSentHeartbeatDate===r||this._heartbeatsCache.heartbeats.some(s=>s.date===r))return;if(this._heartbeatsCache.heartbeats.push({date:r,agent:t}),this._heartbeatsCache.heartbeats.length>RC){const s=bC(this._heartbeatsCache.heartbeats);this._heartbeatsCache.heartbeats.splice(s,1)}return this._storage.overwrite(this._heartbeatsCache)}catch(e){ai.warn(e)}}async getHeartbeatsHeader(){try{if(this._heartbeatsCache===null&&await this._heartbeatsCachePromise,this._heartbeatsCache?.heartbeats==null||this._heartbeatsCache.heartbeats.length===0)return"";const e=Nv(),{heartbeatsToSend:t,unsentEntries:r}=CC(this._heartbeatsCache.heartbeats),s=Th(JSON.stringify({version:2,heartbeats:t}));return this._heartbeatsCache.lastSentHeartbeatDate=e,r.length>0?(this._heartbeatsCache.heartbeats=r,await this._storage.overwrite(this._heartbeatsCache)):(this._heartbeatsCache.heartbeats=[],this._storage.overwrite(this._heartbeatsCache)),s}catch(e){return ai.warn(e),""}}}function Nv(){return new Date().toISOString().substring(0,10)}function CC(n,e=AC){const t=[];let r=n.slice();for(const s of n){const a=t.find(u=>u.agent===s.agent);if(a){if(a.dates.push(s.date),Dv(t)>e){a.dates.pop();break}}else if(t.push({agent:s.agent,dates:[s.date]}),Dv(t)>e){t.pop();break}r=r.slice(1)}return{heartbeatsToSend:t,unsentEntries:r}}class kC{constructor(e){this.app=e,this._canUseIndexedDBPromise=this.runIndexedDBEnvironmentCheck()}async runIndexedDBEnvironmentCheck(){return Pm()?Cm().then(()=>!0).catch(()=>!1):!1}async read(){if(await this._canUseIndexedDBPromise){const t=await SC(this.app);return t?.heartbeats?t:{heartbeats:[]}}else return{heartbeats:[]}}async overwrite(e){if(await this._canUseIndexedDBPromise){const r=await this.read();return Ov(this.app,{lastSentHeartbeatDate:e.lastSentHeartbeatDate??r.lastSentHeartbeatDate,heartbeats:e.heartbeats})}else return}async add(e){if(await this._canUseIndexedDBPromise){const r=await this.read();return Ov(this.app,{lastSentHeartbeatDate:e.lastSentHeartbeatDate??r.lastSentHeartbeatDate,heartbeats:[...r.heartbeats,...e.heartbeats]})}else return}}function Dv(n){return Th(JSON.stringify({version:2,heartbeats:n})).length}function bC(n){if(n.length===0)return-1;let e=0,t=n[0].date;for(let r=1;r<n.length;r++)n[r].date<t&&(t=n[r].date,e=r);return e}function OC(n){Hn(new Nn("platform-logger",e=>new $P(e),"PRIVATE")),Hn(new Nn("heartbeat",e=>new PC(e),"PRIVATE")),Xt(Hp,kv,n),Xt(Hp,kv,"esm2020"),Xt("fire-js","")}OC("");const TU={PHONE:"phone",TOTP:"totp"},IU={FACEBOOK:"facebook.com",GITHUB:"github.com",GOOGLE:"google.com",PASSWORD:"password",PHONE:"phone",TWITTER:"twitter.com"},SU={EMAIL_LINK:"emailLink",EMAIL_PASSWORD:"password",FACEBOOK:"facebook.com",GITHUB:"github.com",GOOGLE:"google.com",PHONE:"phone",TWITTER:"twitter.com"},AU={LINK:"link",REAUTHENTICATE:"reauthenticate",SIGN_IN:"signIn"},RU={EMAIL_SIGNIN:"EMAIL_SIGNIN",PASSWORD_RESET:"PASSWORD_RESET",RECOVER_EMAIL:"RECOVER_EMAIL",REVERT_SECOND_FACTOR_ADDITION:"REVERT_SECOND_FACTOR_ADDITION",VERIFY_AND_CHANGE_EMAIL:"VERIFY_AND_CHANGE_EMAIL",VERIFY_EMAIL:"VERIFY_EMAIL"};function NC(){return{"admin-restricted-operation":"This operation is restricted to administrators only.","argument-error":"","app-not-authorized":"This app, identified by the domain where it's hosted, is not authorized to use Firebase Authentication with the provided API key. Review your key configuration in the Google API console.","app-not-installed":"The requested mobile application corresponding to the identifier (Android package name or iOS bundle ID) provided is not installed on this device.","captcha-check-failed":"The reCAPTCHA response token provided is either invalid, expired, already used or the domain associated with it does not match the list of whitelisted domains.","code-expired":"The SMS code has expired. Please re-send the verification code to try again.","cordova-not-ready":"Cordova framework is not ready.","cors-unsupported":"This browser is not supported.","credential-already-in-use":"This credential is already associated with a different user account.","custom-token-mismatch":"The custom token corresponds to a different audience.","requires-recent-login":"This operation is sensitive and requires recent authentication. Log in again before retrying this request.","dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK.","dynamic-link-not-activated":"Please activate Dynamic Links in the Firebase Console and agree to the terms and conditions.","email-change-needs-verification":"Multi-factor users must always have a verified email.","email-already-in-use":"The email address is already in use by another account.","emulator-config-failed":'Auth instance has already been used to make a network call. Auth can no longer be configured to use the emulator. Try calling "connectAuthEmulator()" sooner.',"expired-action-code":"The action code has expired.","cancelled-popup-request":"This operation has been cancelled due to another conflicting popup being opened.","internal-error":"An internal AuthError has occurred.","invalid-app-credential":"The phone verification request contains an invalid application verifier. The reCAPTCHA token response is either invalid or expired.","invalid-app-id":"The mobile app identifier is not registered for the current project.","invalid-user-token":"This user's credential isn't valid for this project. This can happen if the user's token has been tampered with, or if the user isn't for the project associated with this API key.","invalid-auth-event":"An internal AuthError has occurred.","invalid-verification-code":"The SMS verification code used to create the phone auth credential is invalid. Please resend the verification code sms and be sure to use the verification code provided by the user.","invalid-continue-uri":"The continue URL provided in the request is invalid.","invalid-cordova-configuration":"The following Cordova plugins must be installed to enable OAuth sign-in: cordova-plugin-buildinfo, cordova-universal-links-plugin, cordova-plugin-browsertab, cordova-plugin-inappbrowser and cordova-plugin-customurlscheme.","invalid-custom-token":"The custom token format is incorrect. Please check the documentation.","invalid-dynamic-link-domain":"The provided dynamic link domain is not configured or authorized for the current project.","invalid-email":"The email address is badly formatted.","invalid-emulator-scheme":"Emulator URL must start with a valid scheme (http:// or https://).","invalid-api-key":"Your API key is invalid, please check you have copied it correctly.","invalid-cert-hash":"The SHA-1 certificate hash provided is invalid.","invalid-credential":"The supplied auth credential is incorrect, malformed or has expired.","invalid-message-payload":"The email template corresponding to this action contains invalid characters in its message. Please fix by going to the Auth email templates section in the Firebase Console.","invalid-multi-factor-session":"The request does not contain a valid proof of first factor successful sign-in.","invalid-oauth-provider":"EmailAuthProvider is not supported for this operation. This operation only supports OAuth providers.","invalid-oauth-client-id":"The OAuth client ID provided is either invalid or does not match the specified API key.","unauthorized-domain":"This domain is not authorized for OAuth operations for your Firebase project. Edit the list of authorized domains from the Firebase console.","invalid-action-code":"The action code is invalid. This can happen if the code is malformed, expired, or has already been used.","wrong-password":"The password is invalid or the user does not have a password.","invalid-persistence-type":"The specified persistence type is invalid. It can only be local, session or none.","invalid-phone-number":"The format of the phone number provided is incorrect. Please enter the phone number in a format that can be parsed into E.164 format. E.164 phone numbers are written in the format [+][country code][subscriber number including area code].","invalid-provider-id":"The specified provider ID is invalid.","invalid-recipient-email":"The email corresponding to this action failed to send as the provided recipient email address is invalid.","invalid-sender":"The email template corresponding to this action contains an invalid sender email or name. Please fix by going to the Auth email templates section in the Firebase Console.","invalid-verification-id":"The verification ID used to create the phone auth credential is invalid.","invalid-tenant-id":"The Auth instance's tenant ID is invalid.","login-blocked":"Login blocked by user-provided method: {$originalMessage}","missing-android-pkg-name":"An Android Package Name must be provided if the Android App is required to be installed.","auth-domain-config-required":"Be sure to include authDomain when calling firebase.initializeApp(), by following the instructions in the Firebase console.","missing-app-credential":"The phone verification request is missing an application verifier assertion. A reCAPTCHA response token needs to be provided.","missing-verification-code":"The phone auth credential was created with an empty SMS verification code.","missing-continue-uri":"A continue URL must be provided in the request.","missing-iframe-start":"An internal AuthError has occurred.","missing-ios-bundle-id":"An iOS Bundle ID must be provided if an App Store ID is provided.","missing-or-invalid-nonce":"The request does not contain a valid nonce. This can occur if the SHA-256 hash of the provided raw nonce does not match the hashed nonce in the ID token payload.","missing-password":"A non-empty password must be provided","missing-multi-factor-info":"No second factor identifier is provided.","missing-multi-factor-session":"The request is missing proof of first factor successful sign-in.","missing-phone-number":"To send verification codes, provide a phone number for the recipient.","missing-verification-id":"The phone auth credential was created with an empty verification ID.","app-deleted":"This instance of FirebaseApp has been deleted.","multi-factor-info-not-found":"The user does not have a second factor matching the identifier provided.","multi-factor-auth-required":"Proof of ownership of a second factor is required to complete sign-in.","account-exists-with-different-credential":"An account already exists with the same email address but different sign-in credentials. Sign in using a provider associated with this email address.","network-request-failed":"A network AuthError (such as timeout, interrupted connection or unreachable host) has occurred.","no-auth-event":"An internal AuthError has occurred.","no-such-provider":"User was not linked to an account with the given provider.","null-user":"A null user object was provided as the argument for an operation which requires a non-null user object.","operation-not-allowed":"The given sign-in provider is disabled for this Firebase project. Enable it in the Firebase console, under the sign-in method tab of the Auth section.","operation-not-supported-in-this-environment":'This operation is not supported in the environment this application is running on. "location.protocol" must be http, https or chrome-extension and web storage must be enabled.',"popup-blocked":"Unable to establish a connection with the popup. It may have been blocked by the browser.","popup-closed-by-user":"The popup has been closed by the user before finalizing the operation.","provider-already-linked":"User can only be linked to one identity for the given provider.","quota-exceeded":"The project's quota for this operation has been exceeded.","redirect-cancelled-by-user":"The redirect operation has been cancelled by the user before finalizing.","redirect-operation-pending":"A redirect sign-in operation is already pending.","rejected-credential":"The request contains malformed or mismatching credentials.","second-factor-already-in-use":"The second factor is already enrolled on this account.","maximum-second-factor-count-exceeded":"The maximum allowed number of second factors on a user has been exceeded.","tenant-id-mismatch":"The provided tenant ID does not match the Auth instance's tenant ID",timeout:"The operation has timed out.","user-token-expired":"The user's credential is no longer valid. The user must sign in again.","too-many-requests":"We have blocked all requests from this device due to unusual activity. Try again later.","unauthorized-continue-uri":"The domain of the continue URL is not whitelisted.  Please whitelist the domain in the Firebase console.","unsupported-first-factor":"Enrolling a second factor or signing in with a multi-factor account requires sign-in with a supported first factor.","unsupported-persistence-type":"The current environment does not support the specified persistence type.","unsupported-tenant-operation":"This operation is not supported in a multi-tenant context.","unverified-email":"The operation requires a verified email.","user-cancelled":"The user did not grant your application the permissions it requested.","user-not-found":"There is no user record corresponding to this identifier. The user may have been deleted.","user-disabled":"The user account has been disabled by an administrator.","user-mismatch":"The supplied credentials do not correspond to the previously signed in user.","user-signed-out":"","weak-password":"The password must be 6 characters long or more.","web-storage-unsupported":"This browser is not supported or 3rd party cookies and data may be disabled.","already-initialized":"initializeAuth() has already been called with different options. To avoid this error, call initializeAuth() with the same options as when it was originally called, or call getAuth() to return the already initialized instance.","missing-recaptcha-token":"The reCAPTCHA token is missing when sending request to the backend.","invalid-recaptcha-token":"The reCAPTCHA token is invalid when sending request to the backend.","invalid-recaptcha-action":"The reCAPTCHA action is invalid when sending request to the backend.","recaptcha-not-enabled":"reCAPTCHA Enterprise integration is not enabled for this project.","missing-client-type":"The reCAPTCHA client type is missing when sending request to the backend.","missing-recaptcha-version":"The reCAPTCHA version is missing when sending request to the backend.","invalid-req-type":"Invalid request parameters.","invalid-recaptcha-version":"The reCAPTCHA version is invalid when sending request to the backend.","unsupported-password-policy-schema-version":"The password policy received from the backend uses a schema version that is not supported by this version of the Firebase SDK.","password-does-not-meet-requirements":"The password does not meet the requirements.","invalid-hosting-link-domain":"The provided Hosting link domain is not configured in Firebase Hosting or is not owned by the current project. This cannot be a default Hosting domain (`web.app` or `firebaseapp.com`)."}}function kT(){return{"dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK."}}const PU=NC,DC=kT,bT=new to("auth","Firebase",kT()),CU={ADMIN_ONLY_OPERATION:"auth/admin-restricted-operation",ARGUMENT_ERROR:"auth/argument-error",APP_NOT_AUTHORIZED:"auth/app-not-authorized",APP_NOT_INSTALLED:"auth/app-not-installed",CAPTCHA_CHECK_FAILED:"auth/captcha-check-failed",CODE_EXPIRED:"auth/code-expired",CORDOVA_NOT_READY:"auth/cordova-not-ready",CORS_UNSUPPORTED:"auth/cors-unsupported",CREDENTIAL_ALREADY_IN_USE:"auth/credential-already-in-use",CREDENTIAL_MISMATCH:"auth/custom-token-mismatch",CREDENTIAL_TOO_OLD_LOGIN_AGAIN:"auth/requires-recent-login",DEPENDENT_SDK_INIT_BEFORE_AUTH:"auth/dependent-sdk-initialized-before-auth",DYNAMIC_LINK_NOT_ACTIVATED:"auth/dynamic-link-not-activated",EMAIL_CHANGE_NEEDS_VERIFICATION:"auth/email-change-needs-verification",EMAIL_EXISTS:"auth/email-already-in-use",EMULATOR_CONFIG_FAILED:"auth/emulator-config-failed",EXPIRED_OOB_CODE:"auth/expired-action-code",EXPIRED_POPUP_REQUEST:"auth/cancelled-popup-request",INTERNAL_ERROR:"auth/internal-error",INVALID_API_KEY:"auth/invalid-api-key",INVALID_APP_CREDENTIAL:"auth/invalid-app-credential",INVALID_APP_ID:"auth/invalid-app-id",INVALID_AUTH:"auth/invalid-user-token",INVALID_AUTH_EVENT:"auth/invalid-auth-event",INVALID_CERT_HASH:"auth/invalid-cert-hash",INVALID_CODE:"auth/invalid-verification-code",INVALID_CONTINUE_URI:"auth/invalid-continue-uri",INVALID_CORDOVA_CONFIGURATION:"auth/invalid-cordova-configuration",INVALID_CUSTOM_TOKEN:"auth/invalid-custom-token",INVALID_DYNAMIC_LINK_DOMAIN:"auth/invalid-dynamic-link-domain",INVALID_EMAIL:"auth/invalid-email",INVALID_EMULATOR_SCHEME:"auth/invalid-emulator-scheme",INVALID_IDP_RESPONSE:"auth/invalid-credential",INVALID_LOGIN_CREDENTIALS:"auth/invalid-credential",INVALID_MESSAGE_PAYLOAD:"auth/invalid-message-payload",INVALID_MFA_SESSION:"auth/invalid-multi-factor-session",INVALID_OAUTH_CLIENT_ID:"auth/invalid-oauth-client-id",INVALID_OAUTH_PROVIDER:"auth/invalid-oauth-provider",INVALID_OOB_CODE:"auth/invalid-action-code",INVALID_ORIGIN:"auth/unauthorized-domain",INVALID_PASSWORD:"auth/wrong-password",INVALID_PERSISTENCE:"auth/invalid-persistence-type",INVALID_PHONE_NUMBER:"auth/invalid-phone-number",INVALID_PROVIDER_ID:"auth/invalid-provider-id",INVALID_RECIPIENT_EMAIL:"auth/invalid-recipient-email",INVALID_SENDER:"auth/invalid-sender",INVALID_SESSION_INFO:"auth/invalid-verification-id",INVALID_TENANT_ID:"auth/invalid-tenant-id",MFA_INFO_NOT_FOUND:"auth/multi-factor-info-not-found",MFA_REQUIRED:"auth/multi-factor-auth-required",MISSING_ANDROID_PACKAGE_NAME:"auth/missing-android-pkg-name",MISSING_APP_CREDENTIAL:"auth/missing-app-credential",MISSING_AUTH_DOMAIN:"auth/auth-domain-config-required",MISSING_CODE:"auth/missing-verification-code",MISSING_CONTINUE_URI:"auth/missing-continue-uri",MISSING_IFRAME_START:"auth/missing-iframe-start",MISSING_IOS_BUNDLE_ID:"auth/missing-ios-bundle-id",MISSING_OR_INVALID_NONCE:"auth/missing-or-invalid-nonce",MISSING_MFA_INFO:"auth/missing-multi-factor-info",MISSING_MFA_SESSION:"auth/missing-multi-factor-session",MISSING_PHONE_NUMBER:"auth/missing-phone-number",MISSING_PASSWORD:"auth/missing-password",MISSING_SESSION_INFO:"auth/missing-verification-id",MODULE_DESTROYED:"auth/app-deleted",NEED_CONFIRMATION:"auth/account-exists-with-different-credential",NETWORK_REQUEST_FAILED:"auth/network-request-failed",NULL_USER:"auth/null-user",NO_AUTH_EVENT:"auth/no-auth-event",NO_SUCH_PROVIDER:"auth/no-such-provider",OPERATION_NOT_ALLOWED:"auth/operation-not-allowed",OPERATION_NOT_SUPPORTED:"auth/operation-not-supported-in-this-environment",POPUP_BLOCKED:"auth/popup-blocked",POPUP_CLOSED_BY_USER:"auth/popup-closed-by-user",PROVIDER_ALREADY_LINKED:"auth/provider-already-linked",QUOTA_EXCEEDED:"auth/quota-exceeded",REDIRECT_CANCELLED_BY_USER:"auth/redirect-cancelled-by-user",REDIRECT_OPERATION_PENDING:"auth/redirect-operation-pending",REJECTED_CREDENTIAL:"auth/rejected-credential",SECOND_FACTOR_ALREADY_ENROLLED:"auth/second-factor-already-in-use",SECOND_FACTOR_LIMIT_EXCEEDED:"auth/maximum-second-factor-count-exceeded",TENANT_ID_MISMATCH:"auth/tenant-id-mismatch",TIMEOUT:"auth/timeout",TOKEN_EXPIRED:"auth/user-token-expired",TOO_MANY_ATTEMPTS_TRY_LATER:"auth/too-many-requests",UNAUTHORIZED_DOMAIN:"auth/unauthorized-continue-uri",UNSUPPORTED_FIRST_FACTOR:"auth/unsupported-first-factor",UNSUPPORTED_PERSISTENCE:"auth/unsupported-persistence-type",UNSUPPORTED_TENANT_OPERATION:"auth/unsupported-tenant-operation",UNVERIFIED_EMAIL:"auth/unverified-email",USER_CANCELLED:"auth/user-cancelled",USER_DELETED:"auth/user-not-found",USER_DISABLED:"auth/user-disabled",USER_MISMATCH:"auth/user-mismatch",USER_SIGNED_OUT:"auth/user-signed-out",WEAK_PASSWORD:"auth/weak-password",WEB_STORAGE_UNSUPPORTED:"auth/web-storage-unsupported",ALREADY_INITIALIZED:"auth/already-initialized",RECAPTCHA_NOT_ENABLED:"auth/recaptcha-not-enabled",MISSING_RECAPTCHA_TOKEN:"auth/missing-recaptcha-token",INVALID_RECAPTCHA_TOKEN:"auth/invalid-recaptcha-token",INVALID_RECAPTCHA_ACTION:"auth/invalid-recaptcha-action",MISSING_CLIENT_TYPE:"auth/missing-client-type",MISSING_RECAPTCHA_VERSION:"auth/missing-recaptcha-version",INVALID_RECAPTCHA_VERSION:"auth/invalid-recaptcha-version",INVALID_REQ_TYPE:"auth/invalid-req-type",INVALID_HOSTING_LINK_DOMAIN:"auth/invalid-hosting-link-domain"};const Sh=new Zh("@firebase/auth");function xC(n,...e){Sh.logLevel<=Ue.WARN&&Sh.warn(`Auth (${no}): ${n}`,...e)}function hh(n,...e){Sh.logLevel<=Ue.ERROR&&Sh.error(`Auth (${no}): ${n}`,...e)}function vn(n,...e){throw Om(n,...e)}function sn(n,...e){return Om(n,...e)}function bm(n,e,t){const r={...DC(),[e]:t};return new to("auth","Firebase",r).create(e,{appName:n.name})}function Vt(n){return bm(n,"operation-not-supported-in-this-environment","Operations that alter the current user are not supported in conjunction with FirebaseServerApp")}function Sa(n,e,t){const r=t;if(!(e instanceof r))throw r.name!==e.constructor.name&&vn(n,"argument-error"),bm(n,"argument-error",`Type of ${e.constructor.name} does not match expected instance.Did you pass a reference from a different Auth SDK?`)}function Om(n,...e){if(typeof n!="string"){const t=e[0],r=[...e.slice(1)];return r[0]&&(r[0].appName=n.name),n._errorFactory.create(t,...r)}return bT.create(n,...e)}function ne(n,e,...t){if(!n)throw Om(e,...t)}function Rr(n){const e="INTERNAL ASSERTION FAILED: "+n;throw hh(e),new Error(e)}function li(n,e){n||Rr(e)}function nu(){return typeof self<"u"&&self.location?.href||""}function Nm(){return xv()==="http:"||xv()==="https:"}function xv(){return typeof self<"u"&&self.location?.protocol||null}function LC(){return typeof navigator<"u"&&navigator&&"onLine"in navigator&&typeof navigator.onLine=="boolean"&&(Nm()||Rm()||"connection"in navigator)?navigator.onLine:!0}function VC(){if(typeof navigator>"u")return null;const n=navigator;return n.languages&&n.languages[0]||n.language||null}class vu{constructor(e,t){this.shortDelay=e,this.longDelay=t,li(t>e,"Short delay should be less than long delay!"),this.isMobile=lP()||hP()}get(){return LC()?this.isMobile?this.longDelay:this.shortDelay:Math.min(5e3,this.shortDelay)}}function Dm(n,e){li(n.emulator,"Emulator should always be set here");const{url:t}=n.emulator;return e?`${t}${e.startsWith("/")?e.slice(1):e}`:t}class OT{static initialize(e,t,r){this.fetchImpl=e,t&&(this.headersImpl=t),r&&(this.responseImpl=r)}static fetch(){if(this.fetchImpl)return this.fetchImpl;if(typeof self<"u"&&"fetch"in self)return self.fetch;if(typeof globalThis<"u"&&globalThis.fetch)return globalThis.fetch;if(typeof fetch<"u")return fetch;Rr("Could not find fetch implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static headers(){if(this.headersImpl)return this.headersImpl;if(typeof self<"u"&&"Headers"in self)return self.Headers;if(typeof globalThis<"u"&&globalThis.Headers)return globalThis.Headers;if(typeof Headers<"u")return Headers;Rr("Could not find Headers implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static response(){if(this.responseImpl)return this.responseImpl;if(typeof self<"u"&&"Response"in self)return self.Response;if(typeof globalThis<"u"&&globalThis.Response)return globalThis.Response;if(typeof Response<"u")return Response;Rr("Could not find Response implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}}const MC={CREDENTIAL_MISMATCH:"custom-token-mismatch",MISSING_CUSTOM_TOKEN:"internal-error",INVALID_IDENTIFIER:"invalid-email",MISSING_CONTINUE_URI:"internal-error",INVALID_PASSWORD:"wrong-password",MISSING_PASSWORD:"missing-password",INVALID_LOGIN_CREDENTIALS:"invalid-credential",EMAIL_EXISTS:"email-already-in-use",PASSWORD_LOGIN_DISABLED:"operation-not-allowed",INVALID_IDP_RESPONSE:"invalid-credential",INVALID_PENDING_TOKEN:"invalid-credential",FEDERATED_USER_ID_ALREADY_LINKED:"credential-already-in-use",MISSING_REQ_TYPE:"internal-error",EMAIL_NOT_FOUND:"user-not-found",RESET_PASSWORD_EXCEED_LIMIT:"too-many-requests",EXPIRED_OOB_CODE:"expired-action-code",INVALID_OOB_CODE:"invalid-action-code",MISSING_OOB_CODE:"internal-error",CREDENTIAL_TOO_OLD_LOGIN_AGAIN:"requires-recent-login",INVALID_ID_TOKEN:"invalid-user-token",TOKEN_EXPIRED:"user-token-expired",USER_NOT_FOUND:"user-token-expired",TOO_MANY_ATTEMPTS_TRY_LATER:"too-many-requests",PASSWORD_DOES_NOT_MEET_REQUIREMENTS:"password-does-not-meet-requirements",INVALID_CODE:"invalid-verification-code",INVALID_SESSION_INFO:"invalid-verification-id",INVALID_TEMPORARY_PROOF:"invalid-credential",MISSING_SESSION_INFO:"missing-verification-id",SESSION_EXPIRED:"code-expired",MISSING_ANDROID_PACKAGE_NAME:"missing-android-pkg-name",UNAUTHORIZED_DOMAIN:"unauthorized-continue-uri",INVALID_OAUTH_CLIENT_ID:"invalid-oauth-client-id",ADMIN_ONLY_OPERATION:"admin-restricted-operation",INVALID_MFA_PENDING_CREDENTIAL:"invalid-multi-factor-session",MFA_ENROLLMENT_NOT_FOUND:"multi-factor-info-not-found",MISSING_MFA_ENROLLMENT_ID:"missing-multi-factor-info",MISSING_MFA_PENDING_CREDENTIAL:"missing-multi-factor-session",SECOND_FACTOR_EXISTS:"second-factor-already-in-use",SECOND_FACTOR_LIMIT_EXCEEDED:"maximum-second-factor-count-exceeded",BLOCKING_FUNCTION_ERROR_RESPONSE:"internal-error",RECAPTCHA_NOT_ENABLED:"recaptcha-not-enabled",MISSING_RECAPTCHA_TOKEN:"missing-recaptcha-token",INVALID_RECAPTCHA_TOKEN:"invalid-recaptcha-token",INVALID_RECAPTCHA_ACTION:"invalid-recaptcha-action",MISSING_CLIENT_TYPE:"missing-client-type",MISSING_RECAPTCHA_VERSION:"missing-recaptcha-version",INVALID_RECAPTCHA_VERSION:"invalid-recaptcha-version",INVALID_REQ_TYPE:"invalid-req-type"};const UC=["/v1/accounts:signInWithCustomToken","/v1/accounts:signInWithEmailLink","/v1/accounts:signInWithIdp","/v1/accounts:signInWithPassword","/v1/accounts:signInWithPhoneNumber","/v1/token"],FC=new vu(3e4,6e4);function st(n,e){return n.tenantId&&!e.tenantId?{...e,tenantId:n.tenantId}:e}async function ot(n,e,t,r,s={}){return NT(n,s,async()=>{let a={},u={};r&&(e==="GET"?u=r:a={body:JSON.stringify(r)});const d=Ia({key:n.config.apiKey,...u}).slice(1),f=await n._getAdditionalHeaders();f["Content-Type"]="application/json",n.languageCode&&(f["X-Firebase-Locale"]=n.languageCode);const m={method:e,headers:f,...a};return cP()||(m.referrerPolicy="no-referrer"),n.emulatorConfig&&xr(n.emulatorConfig.host)&&(m.credentials="include"),OT.fetch()(await DT(n,n.config.apiHost,t,d),m)})}async function NT(n,e,t){n._canInitEmulator=!1;const r={...MC,...e};try{const s=new zC(n),a=await Promise.race([t(),s.promise]);s.clearNetworkTimeout();const u=await a.json();if("needConfirmation"in u)throw Ul(n,"account-exists-with-different-credential",u);if(a.ok&&!("errorMessage"in u))return u;{const d=a.ok?u.errorMessage:u.error.message,[f,m]=d.split(" : ");if(f==="FEDERATED_USER_ID_ALREADY_LINKED")throw Ul(n,"credential-already-in-use",u);if(f==="EMAIL_EXISTS")throw Ul(n,"email-already-in-use",u);if(f==="USER_DISABLED")throw Ul(n,"user-disabled",u);const g=r[f]||f.toLowerCase().replace(/[_\s]+/g,"-");if(m)throw bm(n,g,m);vn(n,g)}}catch(s){if(s instanceof Dn)throw s;vn(n,"network-request-failed",{message:String(s)})}}async function pi(n,e,t,r,s={}){const a=await ot(n,e,t,r,s);return"mfaPendingCredential"in a&&vn(n,"multi-factor-auth-required",{_serverResponse:a}),a}async function DT(n,e,t,r){const s=`${e}${t}?${r}`,a=n,u=a.config.emulator?Dm(n.config,s):`${n.config.apiScheme}://${s}`;return UC.includes(t)&&(await a._persistenceManagerAvailable,a._getPersistenceType()==="COOKIE")?a._getPersistence()._getFinalTarget(u).toString():u}function jC(n){switch(n){case"ENFORCE":return"ENFORCE";case"AUDIT":return"AUDIT";case"OFF":return"OFF";default:return"ENFORCEMENT_STATE_UNSPECIFIED"}}class zC{clearNetworkTimeout(){clearTimeout(this.timer)}constructor(e){this.auth=e,this.timer=null,this.promise=new Promise((t,r)=>{this.timer=setTimeout(()=>r(sn(this.auth,"network-request-failed")),FC.get())})}}function Ul(n,e,t){const r={appName:n.name};t.email&&(r.email=t.email),t.phoneNumber&&(r.phoneNumber=t.phoneNumber);const s=sn(n,e,r);return s.customData._tokenResponse=t,s}function Lv(n){return n!==void 0&&n.getResponse!==void 0}function Vv(n){return n!==void 0&&n.enterprise!==void 0}class xT{constructor(e){if(this.siteKey="",this.recaptchaEnforcementState=[],e.recaptchaKey===void 0)throw new Error("recaptchaKey undefined");this.siteKey=e.recaptchaKey.split("/")[3],this.recaptchaEnforcementState=e.recaptchaEnforcementState}getProviderEnforcementState(e){if(!this.recaptchaEnforcementState||this.recaptchaEnforcementState.length===0)return null;for(const t of this.recaptchaEnforcementState)if(t.provider&&t.provider===e)return jC(t.enforcementState);return null}isProviderEnabled(e){return this.getProviderEnforcementState(e)==="ENFORCE"||this.getProviderEnforcementState(e)==="AUDIT"}isAnyProviderEnabled(){return this.isProviderEnabled("EMAIL_PASSWORD_PROVIDER")||this.isProviderEnabled("PHONE_PROVIDER")}}async function BC(n){return(await ot(n,"GET","/v1/recaptchaParams")).recaptchaSiteKey||""}async function LT(n,e){return ot(n,"GET","/v2/recaptchaConfig",st(n,e))}async function $C(n,e){return ot(n,"POST","/v1/accounts:delete",e)}async function HC(n,e){return ot(n,"POST","/v1/accounts:update",e)}async function Ah(n,e){return ot(n,"POST","/v1/accounts:lookup",e)}function Wl(n){if(n)try{const e=new Date(Number(n));if(!isNaN(e.getTime()))return e.toUTCString()}catch{}}function kU(n,e=!1){return ge(n).getIdToken(e)}async function qC(n,e=!1){const t=ge(n),r=await t.getIdToken(e),s=ed(r);ne(s&&s.exp&&s.auth_time&&s.iat,t.auth,"internal-error");const a=typeof s.firebase=="object"?s.firebase:void 0,u=a?.sign_in_provider;return{claims:s,token:r,authTime:Wl(gp(s.auth_time)),issuedAtTime:Wl(gp(s.iat)),expirationTime:Wl(gp(s.exp)),signInProvider:u||null,signInSecondFactor:a?.sign_in_second_factor||null}}function gp(n){return Number(n)*1e3}function ed(n){const[e,t,r]=n.split(".");if(e===void 0||t===void 0||r===void 0)return hh("JWT malformed, contained fewer than 3 sections"),null;try{const s=yT(t);return s?JSON.parse(s):(hh("Failed to decode base64 JWT payload"),null)}catch(s){return hh("Caught error parsing JWT payload as JSON",s?.toString()),null}}function Mv(n){const e=ed(n);return ne(e,"internal-error"),ne(typeof e.exp<"u","internal-error"),ne(typeof e.iat<"u","internal-error"),Number(e.exp)-Number(e.iat)}async function ui(n,e,t=!1){if(t)return e;try{return await e}catch(r){throw r instanceof Dn&&WC(r)&&n.auth.currentUser===n&&await n.auth.signOut(),r}}function WC({code:n}){return n==="auth/user-disabled"||n==="auth/user-token-expired"}class GC{constructor(e){this.user=e,this.isRunning=!1,this.timerId=null,this.errorBackoff=3e4}_start(){this.isRunning||(this.isRunning=!0,this.schedule())}_stop(){this.isRunning&&(this.isRunning=!1,this.timerId!==null&&clearTimeout(this.timerId))}getInterval(e){if(e){const t=this.errorBackoff;return this.errorBackoff=Math.min(this.errorBackoff*2,96e4),t}else{this.errorBackoff=3e4;const r=(this.user.stsTokenManager.expirationTime??0)-Date.now()-3e5;return Math.max(0,r)}}schedule(e=!1){if(!this.isRunning)return;const t=this.getInterval(e);this.timerId=setTimeout(async()=>{await this.iteration()},t)}async iteration(){try{await this.user.getIdToken(!0)}catch(e){e?.code==="auth/network-request-failed"&&this.schedule(!0);return}this.schedule()}}class Gp{constructor(e,t){this.createdAt=e,this.lastLoginAt=t,this._initializeTime()}_initializeTime(){this.lastSignInTime=Wl(this.lastLoginAt),this.creationTime=Wl(this.createdAt)}_copy(e){this.createdAt=e.createdAt,this.lastLoginAt=e.lastLoginAt,this._initializeTime()}toJSON(){return{createdAt:this.createdAt,lastLoginAt:this.lastLoginAt}}}async function ru(n){const e=n.auth,t=await n.getIdToken(),r=await ui(n,Ah(e,{idToken:t}));ne(r?.users.length,e,"internal-error");const s=r.users[0];n._notifyReloadListener(s);const a=s.providerUserInfo?.length?VT(s.providerUserInfo):[],u=QC(n.providerData,a),d=n.isAnonymous,f=!(n.email&&s.passwordHash)&&!u?.length,m=d?f:!1,g={uid:s.localId,displayName:s.displayName||null,photoURL:s.photoUrl||null,email:s.email||null,emailVerified:s.emailVerified||!1,phoneNumber:s.phoneNumber||null,tenantId:s.tenantId||null,providerData:u,metadata:new Gp(s.createdAt,s.lastLoginAt),isAnonymous:m};Object.assign(n,g)}async function KC(n){const e=ge(n);await ru(e),await e.auth._persistUserIfCurrent(e),e.auth._notifyListenersIfCurrent(e)}function QC(n,e){return[...n.filter(r=>!e.some(s=>s.providerId===r.providerId)),...e]}function VT(n){return n.map(({providerId:e,...t})=>({providerId:e,uid:t.rawId||"",displayName:t.displayName||null,email:t.email||null,phoneNumber:t.phoneNumber||null,photoURL:t.photoUrl||null}))}async function YC(n,e){const t=await NT(n,{},async()=>{const r=Ia({grant_type:"refresh_token",refresh_token:e}).slice(1),{tokenApiHost:s,apiKey:a}=n.config,u=await DT(n,s,"/v1/token",`key=${a}`),d=await n._getAdditionalHeaders();d["Content-Type"]="application/x-www-form-urlencoded";const f={method:"POST",headers:d,body:r};return n.emulatorConfig&&xr(n.emulatorConfig.host)&&(f.credentials="include"),OT.fetch()(u,f)});return{accessToken:t.access_token,expiresIn:t.expires_in,refreshToken:t.refresh_token}}async function JC(n,e){return ot(n,"POST","/v2/accounts:revokeToken",st(n,e))}class oa{constructor(){this.refreshToken=null,this.accessToken=null,this.expirationTime=null}get isExpired(){return!this.expirationTime||Date.now()>this.expirationTime-3e4}updateFromServerResponse(e){ne(e.idToken,"internal-error"),ne(typeof e.idToken<"u","internal-error"),ne(typeof e.refreshToken<"u","internal-error");const t="expiresIn"in e&&typeof e.expiresIn<"u"?Number(e.expiresIn):Mv(e.idToken);this.updateTokensAndExpiration(e.idToken,e.refreshToken,t)}updateFromIdToken(e){ne(e.length!==0,"internal-error");const t=Mv(e);this.updateTokensAndExpiration(e,null,t)}async getToken(e,t=!1){return!t&&this.accessToken&&!this.isExpired?this.accessToken:(ne(this.refreshToken,e,"user-token-expired"),this.refreshToken?(await this.refresh(e,this.refreshToken),this.accessToken):null)}clearRefreshToken(){this.refreshToken=null}async refresh(e,t){const{accessToken:r,refreshToken:s,expiresIn:a}=await YC(e,t);this.updateTokensAndExpiration(r,s,Number(a))}updateTokensAndExpiration(e,t,r){this.refreshToken=t||null,this.accessToken=e||null,this.expirationTime=Date.now()+r*1e3}static fromJSON(e,t){const{refreshToken:r,accessToken:s,expirationTime:a}=t,u=new oa;return r&&(ne(typeof r=="string","internal-error",{appName:e}),u.refreshToken=r),s&&(ne(typeof s=="string","internal-error",{appName:e}),u.accessToken=s),a&&(ne(typeof a=="number","internal-error",{appName:e}),u.expirationTime=a),u}toJSON(){return{refreshToken:this.refreshToken,accessToken:this.accessToken,expirationTime:this.expirationTime}}_assign(e){this.accessToken=e.accessToken,this.refreshToken=e.refreshToken,this.expirationTime=e.expirationTime}_clone(){return Object.assign(new oa,this.toJSON())}_performRefresh(){return Rr("not implemented")}}function Gi(n,e){ne(typeof n=="string"||typeof n>"u","internal-error",{appName:e})}class ir{constructor({uid:e,auth:t,stsTokenManager:r,...s}){this.providerId="firebase",this.proactiveRefresh=new GC(this),this.reloadUserInfo=null,this.reloadListener=null,this.uid=e,this.auth=t,this.stsTokenManager=r,this.accessToken=r.accessToken,this.displayName=s.displayName||null,this.email=s.email||null,this.emailVerified=s.emailVerified||!1,this.phoneNumber=s.phoneNumber||null,this.photoURL=s.photoURL||null,this.isAnonymous=s.isAnonymous||!1,this.tenantId=s.tenantId||null,this.providerData=s.providerData?[...s.providerData]:[],this.metadata=new Gp(s.createdAt||void 0,s.lastLoginAt||void 0)}async getIdToken(e){const t=await ui(this,this.stsTokenManager.getToken(this.auth,e));return ne(t,this.auth,"internal-error"),this.accessToken!==t&&(this.accessToken=t,await this.auth._persistUserIfCurrent(this),this.auth._notifyListenersIfCurrent(this)),t}getIdTokenResult(e){return qC(this,e)}reload(){return KC(this)}_assign(e){this!==e&&(ne(this.uid===e.uid,this.auth,"internal-error"),this.displayName=e.displayName,this.photoURL=e.photoURL,this.email=e.email,this.emailVerified=e.emailVerified,this.phoneNumber=e.phoneNumber,this.isAnonymous=e.isAnonymous,this.tenantId=e.tenantId,this.providerData=e.providerData.map(t=>({...t})),this.metadata._copy(e.metadata),this.stsTokenManager._assign(e.stsTokenManager))}_clone(e){const t=new ir({...this,auth:e,stsTokenManager:this.stsTokenManager._clone()});return t.metadata._copy(this.metadata),t}_onReload(e){ne(!this.reloadListener,this.auth,"internal-error"),this.reloadListener=e,this.reloadUserInfo&&(this._notifyReloadListener(this.reloadUserInfo),this.reloadUserInfo=null)}_notifyReloadListener(e){this.reloadListener?this.reloadListener(e):this.reloadUserInfo=e}_startProactiveRefresh(){this.proactiveRefresh._start()}_stopProactiveRefresh(){this.proactiveRefresh._stop()}async _updateTokensIfNecessary(e,t=!1){let r=!1;e.idToken&&e.idToken!==this.stsTokenManager.accessToken&&(this.stsTokenManager.updateFromServerResponse(e),r=!0),t&&await ru(this),await this.auth._persistUserIfCurrent(this),r&&this.auth._notifyListenersIfCurrent(this)}async delete(){if(it(this.auth.app))return Promise.reject(Vt(this.auth));const e=await this.getIdToken();return await ui(this,$C(this.auth,{idToken:e})),this.stsTokenManager.clearRefreshToken(),this.auth.signOut()}toJSON(){return{uid:this.uid,email:this.email||void 0,emailVerified:this.emailVerified,displayName:this.displayName||void 0,isAnonymous:this.isAnonymous,photoURL:this.photoURL||void 0,phoneNumber:this.phoneNumber||void 0,tenantId:this.tenantId||void 0,providerData:this.providerData.map(e=>({...e})),stsTokenManager:this.stsTokenManager.toJSON(),_redirectEventId:this._redirectEventId,...this.metadata.toJSON(),apiKey:this.auth.config.apiKey,appName:this.auth.name}}get refreshToken(){return this.stsTokenManager.refreshToken||""}static _fromJSON(e,t){const r=t.displayName??void 0,s=t.email??void 0,a=t.phoneNumber??void 0,u=t.photoURL??void 0,d=t.tenantId??void 0,f=t._redirectEventId??void 0,m=t.createdAt??void 0,g=t.lastLoginAt??void 0,{uid:w,emailVerified:E,isAnonymous:R,providerData:V,stsTokenManager:B}=t;ne(w&&B,e,"internal-error");const z=oa.fromJSON(this.name,B);ne(typeof w=="string",e,"internal-error"),Gi(r,e.name),Gi(s,e.name),ne(typeof E=="boolean",e,"internal-error"),ne(typeof R=="boolean",e,"internal-error"),Gi(a,e.name),Gi(u,e.name),Gi(d,e.name),Gi(f,e.name),Gi(m,e.name),Gi(g,e.name);const te=new ir({uid:w,auth:e,email:s,emailVerified:E,displayName:r,isAnonymous:R,photoURL:u,phoneNumber:a,tenantId:d,stsTokenManager:z,createdAt:m,lastLoginAt:g});return V&&Array.isArray(V)&&(te.providerData=V.map(le=>({...le}))),f&&(te._redirectEventId=f),te}static async _fromIdTokenResponse(e,t,r=!1){const s=new oa;s.updateFromServerResponse(t);const a=new ir({uid:t.localId,auth:e,stsTokenManager:s,isAnonymous:r});return await ru(a),a}static async _fromGetAccountInfoResponse(e,t,r){const s=t.users[0];ne(s.localId!==void 0,"internal-error");const a=s.providerUserInfo!==void 0?VT(s.providerUserInfo):[],u=!(s.email&&s.passwordHash)&&!a?.length,d=new oa;d.updateFromIdToken(r);const f=new ir({uid:s.localId,auth:e,stsTokenManager:d,isAnonymous:u}),m={uid:s.localId,displayName:s.displayName||null,photoURL:s.photoUrl||null,email:s.email||null,emailVerified:s.emailVerified||!1,phoneNumber:s.phoneNumber||null,tenantId:s.tenantId||null,providerData:a,metadata:new Gp(s.createdAt,s.lastLoginAt),isAnonymous:!(s.email&&s.passwordHash)&&!a?.length};return Object.assign(f,m),f}}const Uv=new Map;function ti(n){li(n instanceof Function,"Expected a class definition");let e=Uv.get(n);return e?(li(e instanceof n,"Instance stored in cache mismatched with class"),e):(e=new n,Uv.set(n,e),e)}class MT{constructor(){this.type="NONE",this.storage={}}async _isAvailable(){return!0}async _set(e,t){this.storage[e]=t}async _get(e){const t=this.storage[e];return t===void 0?null:t}async _remove(e){delete this.storage[e]}_addListener(e,t){}_removeListener(e,t){}}MT.type="NONE";const Fv=MT;function dh(n,e,t){return`firebase:${n}:${e}:${t}`}class aa{constructor(e,t,r){this.persistence=e,this.auth=t,this.userKey=r;const{config:s,name:a}=this.auth;this.fullUserKey=dh(this.userKey,s.apiKey,a),this.fullPersistenceKey=dh("persistence",s.apiKey,a),this.boundEventHandler=t._onStorageEvent.bind(t),this.persistence._addListener(this.fullUserKey,this.boundEventHandler)}setCurrentUser(e){return this.persistence._set(this.fullUserKey,e.toJSON())}async getCurrentUser(){const e=await this.persistence._get(this.fullUserKey);if(!e)return null;if(typeof e=="string"){const t=await Ah(this.auth,{idToken:e}).catch(()=>{});return t?ir._fromGetAccountInfoResponse(this.auth,t,e):null}return ir._fromJSON(this.auth,e)}removeCurrentUser(){return this.persistence._remove(this.fullUserKey)}savePersistenceForRedirect(){return this.persistence._set(this.fullPersistenceKey,this.persistence.type)}async setPersistence(e){if(this.persistence===e)return;const t=await this.getCurrentUser();if(await this.removeCurrentUser(),this.persistence=e,t)return this.setCurrentUser(t)}delete(){this.persistence._removeListener(this.fullUserKey,this.boundEventHandler)}static async create(e,t,r="authUser"){if(!t.length)return new aa(ti(Fv),e,r);const s=(await Promise.all(t.map(async m=>{if(await m._isAvailable())return m}))).filter(m=>m);let a=s[0]||ti(Fv);const u=dh(r,e.config.apiKey,e.name);let d=null;for(const m of t)try{const g=await m._get(u);if(g){let w;if(typeof g=="string"){const E=await Ah(e,{idToken:g}).catch(()=>{});if(!E)break;w=await ir._fromGetAccountInfoResponse(e,E,g)}else w=ir._fromJSON(e,g);m!==a&&(d=w),a=m;break}}catch{}const f=s.filter(m=>m._shouldAllowMigration);return!a._shouldAllowMigration||!f.length?new aa(a,e,r):(a=f[0],d&&await a._set(u,d.toJSON()),await Promise.all(t.map(async m=>{if(m!==a)try{await m._remove(u)}catch{}})),new aa(a,e,r))}}function jv(n){const e=n.toLowerCase();if(e.includes("opera/")||e.includes("opr/")||e.includes("opios/"))return"Opera";if(zT(e))return"IEMobile";if(e.includes("msie")||e.includes("trident/"))return"IE";if(e.includes("edge/"))return"Edge";if(UT(e))return"Firefox";if(e.includes("silk/"))return"Silk";if($T(e))return"Blackberry";if(HT(e))return"Webos";if(FT(e))return"Safari";if((e.includes("chrome/")||jT(e))&&!e.includes("edge/"))return"Chrome";if(BT(e))return"Android";{const t=/([a-zA-Z\d\.]+)\/[a-zA-Z\d\.]*$/,r=n.match(t);if(r?.length===2)return r[1]}return"Other"}function UT(n=Zt()){return/firefox\//i.test(n)}function FT(n=Zt()){const e=n.toLowerCase();return e.includes("safari/")&&!e.includes("chrome/")&&!e.includes("crios/")&&!e.includes("android")}function jT(n=Zt()){return/crios\//i.test(n)}function zT(n=Zt()){return/iemobile/i.test(n)}function BT(n=Zt()){return/android/i.test(n)}function $T(n=Zt()){return/blackberry/i.test(n)}function HT(n=Zt()){return/webos/i.test(n)}function xm(n=Zt()){return/iphone|ipad|ipod/i.test(n)||/macintosh/i.test(n)&&/mobile/i.test(n)}function XC(n=Zt()){return xm(n)&&!!window.navigator?.standalone}function ZC(){return dP()&&document.documentMode===10}function qT(n=Zt()){return xm(n)||BT(n)||HT(n)||$T(n)||/windows phone/i.test(n)||zT(n)}function WT(n,e=[]){let t;switch(n){case"Browser":t=jv(Zt());break;case"Worker":t=`${jv(Zt())}-${n}`;break;default:t=n}const r=e.length?e.join(","):"FirebaseCore-web";return`${t}/JsCore/${no}/${r}`}class ek{constructor(e){this.auth=e,this.queue=[]}pushCallback(e,t){const r=a=>new Promise((u,d)=>{try{const f=e(a);u(f)}catch(f){d(f)}});r.onAbort=t,this.queue.push(r);const s=this.queue.length-1;return()=>{this.queue[s]=()=>Promise.resolve()}}async runMiddleware(e){if(this.auth.currentUser===e)return;const t=[];try{for(const r of this.queue)await r(e),r.onAbort&&t.push(r.onAbort)}catch(r){t.reverse();for(const s of t)try{s()}catch{}throw this.auth._errorFactory.create("login-blocked",{originalMessage:r?.message})}}}async function tk(n,e={}){return ot(n,"GET","/v2/passwordPolicy",st(n,e))}const nk=6;class rk{constructor(e){const t=e.customStrengthOptions;this.customStrengthOptions={},this.customStrengthOptions.minPasswordLength=t.minPasswordLength??nk,t.maxPasswordLength&&(this.customStrengthOptions.maxPasswordLength=t.maxPasswordLength),t.containsLowercaseCharacter!==void 0&&(this.customStrengthOptions.containsLowercaseLetter=t.containsLowercaseCharacter),t.containsUppercaseCharacter!==void 0&&(this.customStrengthOptions.containsUppercaseLetter=t.containsUppercaseCharacter),t.containsNumericCharacter!==void 0&&(this.customStrengthOptions.containsNumericCharacter=t.containsNumericCharacter),t.containsNonAlphanumericCharacter!==void 0&&(this.customStrengthOptions.containsNonAlphanumericCharacter=t.containsNonAlphanumericCharacter),this.enforcementState=e.enforcementState,this.enforcementState==="ENFORCEMENT_STATE_UNSPECIFIED"&&(this.enforcementState="OFF"),this.allowedNonAlphanumericCharacters=e.allowedNonAlphanumericCharacters?.join("")??"",this.forceUpgradeOnSignin=e.forceUpgradeOnSignin??!1,this.schemaVersion=e.schemaVersion}validatePassword(e){const t={isValid:!0,passwordPolicy:this};return this.validatePasswordLengthOptions(e,t),this.validatePasswordCharacterOptions(e,t),t.isValid&&(t.isValid=t.meetsMinPasswordLength??!0),t.isValid&&(t.isValid=t.meetsMaxPasswordLength??!0),t.isValid&&(t.isValid=t.containsLowercaseLetter??!0),t.isValid&&(t.isValid=t.containsUppercaseLetter??!0),t.isValid&&(t.isValid=t.containsNumericCharacter??!0),t.isValid&&(t.isValid=t.containsNonAlphanumericCharacter??!0),t}validatePasswordLengthOptions(e,t){const r=this.customStrengthOptions.minPasswordLength,s=this.customStrengthOptions.maxPasswordLength;r&&(t.meetsMinPasswordLength=e.length>=r),s&&(t.meetsMaxPasswordLength=e.length<=s)}validatePasswordCharacterOptions(e,t){this.updatePasswordCharacterOptionsStatuses(t,!1,!1,!1,!1);let r;for(let s=0;s<e.length;s++)r=e.charAt(s),this.updatePasswordCharacterOptionsStatuses(t,r>="a"&&r<="z",r>="A"&&r<="Z",r>="0"&&r<="9",this.allowedNonAlphanumericCharacters.includes(r))}updatePasswordCharacterOptionsStatuses(e,t,r,s,a){this.customStrengthOptions.containsLowercaseLetter&&(e.containsLowercaseLetter||(e.containsLowercaseLetter=t)),this.customStrengthOptions.containsUppercaseLetter&&(e.containsUppercaseLetter||(e.containsUppercaseLetter=r)),this.customStrengthOptions.containsNumericCharacter&&(e.containsNumericCharacter||(e.containsNumericCharacter=s)),this.customStrengthOptions.containsNonAlphanumericCharacter&&(e.containsNonAlphanumericCharacter||(e.containsNonAlphanumericCharacter=a))}}class ik{constructor(e,t,r,s){this.app=e,this.heartbeatServiceProvider=t,this.appCheckServiceProvider=r,this.config=s,this.currentUser=null,this.emulatorConfig=null,this.operations=Promise.resolve(),this.authStateSubscription=new zv(this),this.idTokenSubscription=new zv(this),this.beforeStateQueue=new ek(this),this.redirectUser=null,this.isProactiveRefreshEnabled=!1,this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION=1,this._canInitEmulator=!0,this._isInitialized=!1,this._deleted=!1,this._initializationPromise=null,this._popupRedirectResolver=null,this._errorFactory=bT,this._agentRecaptchaConfig=null,this._tenantRecaptchaConfigs={},this._projectPasswordPolicy=null,this._tenantPasswordPolicies={},this._resolvePersistenceManagerAvailable=void 0,this.lastNotifiedUid=void 0,this.languageCode=null,this.tenantId=null,this.settings={appVerificationDisabledForTesting:!1},this.frameworks=[],this.name=e.name,this.clientVersion=s.sdkClientVersion,this._persistenceManagerAvailable=new Promise(a=>this._resolvePersistenceManagerAvailable=a)}_initializeWithPersistence(e,t){return t&&(this._popupRedirectResolver=ti(t)),this._initializationPromise=this.queue(async()=>{if(!this._deleted&&(this.persistenceManager=await aa.create(this,e),this._resolvePersistenceManagerAvailable?.(),!this._deleted)){if(this._popupRedirectResolver?._shouldInitProactively)try{await this._popupRedirectResolver._initialize(this)}catch{}await this.initializeCurrentUser(t),this.lastNotifiedUid=this.currentUser?.uid||null,!this._deleted&&(this._isInitialized=!0)}}),this._initializationPromise}async _onStorageEvent(){if(this._deleted)return;const e=await this.assertedPersistence.getCurrentUser();if(!(!this.currentUser&&!e)){if(this.currentUser&&e&&this.currentUser.uid===e.uid){this._currentUser._assign(e),await this.currentUser.getIdToken();return}await this._updateCurrentUser(e,!0)}}async initializeCurrentUserFromIdToken(e){try{const t=await Ah(this,{idToken:e}),r=await ir._fromGetAccountInfoResponse(this,t,e);await this.directlySetCurrentUser(r)}catch(t){console.warn("FirebaseServerApp could not login user with provided authIdToken: ",t),await this.directlySetCurrentUser(null)}}async initializeCurrentUser(e){if(it(this.app)){const a=this.app.settings.authIdToken;return a?new Promise(u=>{setTimeout(()=>this.initializeCurrentUserFromIdToken(a).then(u,u))}):this.directlySetCurrentUser(null)}const t=await this.assertedPersistence.getCurrentUser();let r=t,s=!1;if(e&&this.config.authDomain){await this.getOrInitRedirectPersistenceManager();const a=this.redirectUser?._redirectEventId,u=r?._redirectEventId,d=await this.tryRedirectSignIn(e);(!a||a===u)&&d?.user&&(r=d.user,s=!0)}if(!r)return this.directlySetCurrentUser(null);if(!r._redirectEventId){if(s)try{await this.beforeStateQueue.runMiddleware(r)}catch(a){r=t,this._popupRedirectResolver._overrideRedirectResult(this,()=>Promise.reject(a))}return r?this.reloadAndSetCurrentUserOrClear(r):this.directlySetCurrentUser(null)}return ne(this._popupRedirectResolver,this,"argument-error"),await this.getOrInitRedirectPersistenceManager(),this.redirectUser&&this.redirectUser._redirectEventId===r._redirectEventId?this.directlySetCurrentUser(r):this.reloadAndSetCurrentUserOrClear(r)}async tryRedirectSignIn(e){let t=null;try{t=await this._popupRedirectResolver._completeRedirectFn(this,e,!0)}catch{await this._setRedirectUser(null)}return t}async reloadAndSetCurrentUserOrClear(e){try{await ru(e)}catch(t){if(t?.code!=="auth/network-request-failed")return this.directlySetCurrentUser(null)}return this.directlySetCurrentUser(e)}useDeviceLanguage(){this.languageCode=VC()}async _delete(){this._deleted=!0}async updateCurrentUser(e){if(it(this.app))return Promise.reject(Vt(this));const t=e?ge(e):null;return t&&ne(t.auth.config.apiKey===this.config.apiKey,this,"invalid-user-token"),this._updateCurrentUser(t&&t._clone(this))}async _updateCurrentUser(e,t=!1){if(!this._deleted)return e&&ne(this.tenantId===e.tenantId,this,"tenant-id-mismatch"),t||await this.beforeStateQueue.runMiddleware(e),this.queue(async()=>{await this.directlySetCurrentUser(e),this.notifyAuthListeners()})}async signOut(){return it(this.app)?Promise.reject(Vt(this)):(await this.beforeStateQueue.runMiddleware(null),(this.redirectPersistenceManager||this._popupRedirectResolver)&&await this._setRedirectUser(null),this._updateCurrentUser(null,!0))}setPersistence(e){return it(this.app)?Promise.reject(Vt(this)):this.queue(async()=>{await this.assertedPersistence.setPersistence(ti(e))})}_getRecaptchaConfig(){return this.tenantId==null?this._agentRecaptchaConfig:this._tenantRecaptchaConfigs[this.tenantId]}async validatePassword(e){this._getPasswordPolicyInternal()||await this._updatePasswordPolicy();const t=this._getPasswordPolicyInternal();return t.schemaVersion!==this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION?Promise.reject(this._errorFactory.create("unsupported-password-policy-schema-version",{})):t.validatePassword(e)}_getPasswordPolicyInternal(){return this.tenantId===null?this._projectPasswordPolicy:this._tenantPasswordPolicies[this.tenantId]}async _updatePasswordPolicy(){const e=await tk(this),t=new rk(e);this.tenantId===null?this._projectPasswordPolicy=t:this._tenantPasswordPolicies[this.tenantId]=t}_getPersistenceType(){return this.assertedPersistence.persistence.type}_getPersistence(){return this.assertedPersistence.persistence}_updateErrorMap(e){this._errorFactory=new to("auth","Firebase",e())}onAuthStateChanged(e,t,r){return this.registerStateListener(this.authStateSubscription,e,t,r)}beforeAuthStateChanged(e,t){return this.beforeStateQueue.pushCallback(e,t)}onIdTokenChanged(e,t,r){return this.registerStateListener(this.idTokenSubscription,e,t,r)}authStateReady(){return new Promise((e,t)=>{if(this.currentUser)e();else{const r=this.onAuthStateChanged(()=>{r(),e()},t)}})}async revokeAccessToken(e){if(this.currentUser){const t=await this.currentUser.getIdToken(),r={providerId:"apple.com",tokenType:"ACCESS_TOKEN",token:e,idToken:t};this.tenantId!=null&&(r.tenantId=this.tenantId),await JC(this,r)}}toJSON(){return{apiKey:this.config.apiKey,authDomain:this.config.authDomain,appName:this.name,currentUser:this._currentUser?.toJSON()}}async _setRedirectUser(e,t){const r=await this.getOrInitRedirectPersistenceManager(t);return e===null?r.removeCurrentUser():r.setCurrentUser(e)}async getOrInitRedirectPersistenceManager(e){if(!this.redirectPersistenceManager){const t=e&&ti(e)||this._popupRedirectResolver;ne(t,this,"argument-error"),this.redirectPersistenceManager=await aa.create(this,[ti(t._redirectPersistence)],"redirectUser"),this.redirectUser=await this.redirectPersistenceManager.getCurrentUser()}return this.redirectPersistenceManager}async _redirectUserForId(e){return this._isInitialized&&await this.queue(async()=>{}),this._currentUser?._redirectEventId===e?this._currentUser:this.redirectUser?._redirectEventId===e?this.redirectUser:null}async _persistUserIfCurrent(e){if(e===this.currentUser)return this.queue(async()=>this.directlySetCurrentUser(e))}_notifyListenersIfCurrent(e){e===this.currentUser&&this.notifyAuthListeners()}_key(){return`${this.config.authDomain}:${this.config.apiKey}:${this.name}`}_startProactiveRefresh(){this.isProactiveRefreshEnabled=!0,this.currentUser&&this._currentUser._startProactiveRefresh()}_stopProactiveRefresh(){this.isProactiveRefreshEnabled=!1,this.currentUser&&this._currentUser._stopProactiveRefresh()}get _currentUser(){return this.currentUser}notifyAuthListeners(){if(!this._isInitialized)return;this.idTokenSubscription.next(this.currentUser);const e=this.currentUser?.uid??null;this.lastNotifiedUid!==e&&(this.lastNotifiedUid=e,this.authStateSubscription.next(this.currentUser))}registerStateListener(e,t,r,s){if(this._deleted)return()=>{};const a=typeof t=="function"?t:t.next.bind(t);let u=!1;const d=this._isInitialized?Promise.resolve():this._initializationPromise;if(ne(d,this,"internal-error"),d.then(()=>{u||a(this.currentUser)}),typeof t=="function"){const f=e.addObserver(t,r,s);return()=>{u=!0,f()}}else{const f=e.addObserver(t);return()=>{u=!0,f()}}}async directlySetCurrentUser(e){this.currentUser&&this.currentUser!==e&&this._currentUser._stopProactiveRefresh(),e&&this.isProactiveRefreshEnabled&&e._startProactiveRefresh(),this.currentUser=e,e?await this.assertedPersistence.setCurrentUser(e):await this.assertedPersistence.removeCurrentUser()}queue(e){return this.operations=this.operations.then(e,e),this.operations}get assertedPersistence(){return ne(this.persistenceManager,this,"internal-error"),this.persistenceManager}_logFramework(e){!e||this.frameworks.includes(e)||(this.frameworks.push(e),this.frameworks.sort(),this.clientVersion=WT(this.config.clientPlatform,this._getFrameworks()))}_getFrameworks(){return this.frameworks}async _getAdditionalHeaders(){const e={"X-Client-Version":this.clientVersion};this.app.options.appId&&(e["X-Firebase-gmpid"]=this.app.options.appId);const t=await this.heartbeatServiceProvider.getImmediate({optional:!0})?.getHeartbeatsHeader();t&&(e["X-Firebase-Client"]=t);const r=await this._getAppCheckToken();return r&&(e["X-Firebase-AppCheck"]=r),e}async _getAppCheckToken(){if(it(this.app)&&this.app.settings.appCheckToken)return this.app.settings.appCheckToken;const e=await this.appCheckServiceProvider.getImmediate({optional:!0})?.getToken();return e?.error&&xC(`Error while retrieving App Check token: ${e.error}`),e?.token}}function gt(n){return ge(n)}class zv{constructor(e){this.auth=e,this.observer=null,this.addObserver=_P(t=>this.observer=t)}get next(){return ne(this.observer,this.auth,"internal-error"),this.observer.next.bind(this.observer)}}let Eu={async loadJS(){throw new Error("Unable to load external scripts")},recaptchaV2Script:"",recaptchaEnterpriseScript:"",gapiScript:""};function sk(n){Eu=n}function Lm(n){return Eu.loadJS(n)}function ok(){return Eu.recaptchaV2Script}function ak(){return Eu.recaptchaEnterpriseScript}function lk(){return Eu.gapiScript}function GT(n){return`__${n}${Math.floor(Math.random()*1e6)}`}const uk=500,ck=6e4,Xc=1e12;class hk{constructor(e){this.auth=e,this.counter=Xc,this._widgets=new Map}render(e,t){const r=this.counter;return this._widgets.set(r,new pk(e,this.auth.name,t||{})),this.counter++,r}reset(e){const t=e||Xc;this._widgets.get(t)?.delete(),this._widgets.delete(t)}getResponse(e){const t=e||Xc;return this._widgets.get(t)?.getResponse()||""}async execute(e){const t=e||Xc;return this._widgets.get(t)?.execute(),""}}class dk{constructor(){this.enterprise=new fk}ready(e){e()}execute(e,t){return Promise.resolve("token")}render(e,t){return""}}class fk{ready(e){e()}execute(e,t){return Promise.resolve("token")}render(e,t){return""}}class pk{constructor(e,t,r){this.params=r,this.timerId=null,this.deleted=!1,this.responseToken=null,this.clickHandler=()=>{this.execute()};const s=typeof e=="string"?document.getElementById(e):e;ne(s,"argument-error",{appName:t}),this.container=s,this.isVisible=this.params.size!=="invisible",this.isVisible?this.execute():this.container.addEventListener("click",this.clickHandler)}getResponse(){return this.checkIfDeleted(),this.responseToken}delete(){this.checkIfDeleted(),this.deleted=!0,this.timerId&&(clearTimeout(this.timerId),this.timerId=null),this.container.removeEventListener("click",this.clickHandler)}execute(){this.checkIfDeleted(),!this.timerId&&(this.timerId=window.setTimeout(()=>{this.responseToken=mk(50);const{callback:e,"expired-callback":t}=this.params;if(e)try{e(this.responseToken)}catch{}this.timerId=window.setTimeout(()=>{if(this.timerId=null,this.responseToken=null,t)try{t()}catch{}this.isVisible&&this.execute()},ck)},uk))}checkIfDeleted(){if(this.deleted)throw new Error("reCAPTCHA mock was already deleted!")}}function mk(n){const e=[],t="1234567890abcdefghijklmnopqrstuvwxyzABCDEFGHIJKLMNOPQRSTUVWXYZ";for(let r=0;r<n;r++)e.push(t.charAt(Math.floor(Math.random()*t.length)));return e.join("")}const gk="recaptcha-enterprise",Gl="NO_RECAPTCHA";class KT{constructor(e){this.type=gk,this.auth=gt(e)}async verify(e="verify",t=!1){async function r(a){if(!t){if(a.tenantId==null&&a._agentRecaptchaConfig!=null)return a._agentRecaptchaConfig.siteKey;if(a.tenantId!=null&&a._tenantRecaptchaConfigs[a.tenantId]!==void 0)return a._tenantRecaptchaConfigs[a.tenantId].siteKey}return new Promise(async(u,d)=>{LT(a,{clientType:"CLIENT_TYPE_WEB",version:"RECAPTCHA_ENTERPRISE"}).then(f=>{if(f.recaptchaKey===void 0)d(new Error("recaptcha Enterprise site key undefined"));else{const m=new xT(f);return a.tenantId==null?a._agentRecaptchaConfig=m:a._tenantRecaptchaConfigs[a.tenantId]=m,u(m.siteKey)}}).catch(f=>{d(f)})})}function s(a,u,d){const f=window.grecaptcha;Vv(f)?f.enterprise.ready(()=>{f.enterprise.execute(a,{action:e}).then(m=>{u(m)}).catch(()=>{u(Gl)})}):d(Error("No reCAPTCHA enterprise script loaded."))}return this.auth.settings.appVerificationDisabledForTesting?new dk().execute("siteKey",{action:"verify"}):new Promise((a,u)=>{r(this.auth).then(d=>{if(!t&&Vv(window.grecaptcha))s(d,a,u);else{if(typeof window>"u"){u(new Error("RecaptchaVerifier is only supported in browser"));return}let f=ak();f.length!==0&&(f+=d),Lm(f).then(()=>{s(d,a,u)}).catch(m=>{u(m)})}}).catch(d=>{u(d)})})}}async function bl(n,e,t,r=!1,s=!1){const a=new KT(n);let u;if(s)u=Gl;else try{u=await a.verify(t)}catch{u=await a.verify(t,!0)}const d={...e};if(t==="mfaSmsEnrollment"||t==="mfaSmsSignIn"){if("phoneEnrollmentInfo"in d){const f=d.phoneEnrollmentInfo.phoneNumber,m=d.phoneEnrollmentInfo.recaptchaToken;Object.assign(d,{phoneEnrollmentInfo:{phoneNumber:f,recaptchaToken:m,captchaResponse:u,clientType:"CLIENT_TYPE_WEB",recaptchaVersion:"RECAPTCHA_ENTERPRISE"}})}else if("phoneSignInInfo"in d){const f=d.phoneSignInInfo.recaptchaToken;Object.assign(d,{phoneSignInInfo:{recaptchaToken:f,captchaResponse:u,clientType:"CLIENT_TYPE_WEB",recaptchaVersion:"RECAPTCHA_ENTERPRISE"}})}return d}return r?Object.assign(d,{captchaResp:u}):Object.assign(d,{captchaResponse:u}),Object.assign(d,{clientType:"CLIENT_TYPE_WEB"}),Object.assign(d,{recaptchaVersion:"RECAPTCHA_ENTERPRISE"}),d}async function ts(n,e,t,r,s){if(s==="EMAIL_PASSWORD_PROVIDER")if(n._getRecaptchaConfig()?.isProviderEnabled("EMAIL_PASSWORD_PROVIDER")){const a=await bl(n,e,t,t==="getOobCode");return r(n,a)}else return r(n,e).catch(async a=>{if(a.code==="auth/missing-recaptcha-token"){console.log(`${t} is protected by reCAPTCHA Enterprise for this project. Automatically triggering the reCAPTCHA flow and restarting the flow.`);const u=await bl(n,e,t,t==="getOobCode");return r(n,u)}else return Promise.reject(a)});else if(s==="PHONE_PROVIDER")if(n._getRecaptchaConfig()?.isProviderEnabled("PHONE_PROVIDER")){const a=await bl(n,e,t);return r(n,a).catch(async u=>{if(n._getRecaptchaConfig()?.getProviderEnforcementState("PHONE_PROVIDER")==="AUDIT"&&(u.code==="auth/missing-recaptcha-token"||u.code==="auth/invalid-app-credential")){console.log(`Failed to verify with reCAPTCHA Enterprise. Automatically triggering the reCAPTCHA v2 flow to complete the ${t} flow.`);const d=await bl(n,e,t,!1,!0);return r(n,d)}return Promise.reject(u)})}else{const a=await bl(n,e,t,!1,!0);return r(n,a)}else return Promise.reject(s+" provider is not supported.")}async function QT(n){const e=gt(n),t=await LT(e,{clientType:"CLIENT_TYPE_WEB",version:"RECAPTCHA_ENTERPRISE"}),r=new xT(t);e.tenantId==null?e._agentRecaptchaConfig=r:e._tenantRecaptchaConfigs[e.tenantId]=r,r.isAnyProviderEnabled()&&new KT(e).verify()}function yk(n,e){const t=fi(n,"auth");if(t.isInitialized()){const s=t.getImmediate(),a=t.getOptions();if(oi(a,e??{}))return s;vn(s,"already-initialized")}return t.initialize({options:e})}function _k(n,e){const t=e?.persistence||[],r=(Array.isArray(t)?t:[t]).map(ti);e?.errorMap&&n._updateErrorMap(e.errorMap),n._initializeWithPersistence(r,e?.popupRedirectResolver)}function vk(n,e,t){const r=gt(n);ne(/^https?:\/\//.test(e),r,"invalid-emulator-scheme");const s=!!t?.disableWarnings,a=YT(e),{host:u,port:d}=Ek(e),f=d===null?"":`:${d}`,m={url:`${a}//${u}${f}/`},g=Object.freeze({host:u,port:d,protocol:a.replace(":",""),options:Object.freeze({disableWarnings:s})});if(!r._canInitEmulator){ne(r.config.emulator&&r.emulatorConfig,r,"emulator-config-failed"),ne(oi(m,r.config.emulator)&&oi(g,r.emulatorConfig),r,"emulator-config-failed");return}r.config.emulator=m,r.emulatorConfig=g,r.settings.appVerificationDisabledForTesting=!0,xr(u)?(Jh(`${a}//${u}${f}`),Xh("Auth",!0)):s||wk()}function YT(n){const e=n.indexOf(":");return e<0?"":n.substr(0,e+1)}function Ek(n){const e=YT(n),t=/(\/\/)?([^?#/]+)/.exec(n.substr(e.length));if(!t)return{host:"",port:null};const r=t[2].split("@").pop()||"",s=/^(\[[^\]]+\])(:|$)/.exec(r);if(s){const a=s[1];return{host:a,port:Bv(r.substr(a.length+1))}}else{const[a,u]=r.split(":");return{host:a,port:Bv(u)}}}function Bv(n){if(!n)return null;const e=Number(n);return isNaN(e)?null:e}function wk(){function n(){const e=document.createElement("p"),t=e.style;e.innerText="Running in emulator mode. Do not use with production credentials.",t.position="fixed",t.width="100%",t.backgroundColor="#ffffff",t.border=".1em solid #000000",t.color="#b50000",t.bottom="0px",t.left="0px",t.margin="0px",t.zIndex="10000",t.textAlign="center",e.classList.add("firebase-emulator-warning"),document.body.appendChild(e)}typeof console<"u"&&typeof console.info=="function"&&console.info("WARNING: You are using the Auth Emulator, which is intended for local testing only.  Do not use with production credentials."),typeof window<"u"&&typeof document<"u"&&(document.readyState==="loading"?window.addEventListener("DOMContentLoaded",n):n())}class wu{constructor(e,t){this.providerId=e,this.signInMethod=t}toJSON(){return Rr("not implemented")}_getIdTokenResponse(e){return Rr("not implemented")}_linkToIdToken(e,t){return Rr("not implemented")}_getReauthenticationResolver(e){return Rr("not implemented")}}async function JT(n,e){return ot(n,"POST","/v1/accounts:resetPassword",st(n,e))}async function Tk(n,e){return ot(n,"POST","/v1/accounts:update",e)}async function Ik(n,e){return ot(n,"POST","/v1/accounts:signUp",e)}async function Sk(n,e){return ot(n,"POST","/v1/accounts:update",st(n,e))}async function Ak(n,e){return pi(n,"POST","/v1/accounts:signInWithPassword",st(n,e))}async function td(n,e){return ot(n,"POST","/v1/accounts:sendOobCode",st(n,e))}async function Rk(n,e){return td(n,e)}async function Pk(n,e){return td(n,e)}async function Ck(n,e){return td(n,e)}async function kk(n,e){return td(n,e)}async function bk(n,e){return pi(n,"POST","/v1/accounts:signInWithEmailLink",st(n,e))}async function Ok(n,e){return pi(n,"POST","/v1/accounts:signInWithEmailLink",st(n,e))}class iu extends wu{constructor(e,t,r,s=null){super("password",r),this._email=e,this._password=t,this._tenantId=s}static _fromEmailAndPassword(e,t){return new iu(e,t,"password")}static _fromEmailAndCode(e,t,r=null){return new iu(e,t,"emailLink",r)}toJSON(){return{email:this._email,password:this._password,signInMethod:this.signInMethod,tenantId:this._tenantId}}static fromJSON(e){const t=typeof e=="string"?JSON.parse(e):e;if(t?.email&&t?.password){if(t.signInMethod==="password")return this._fromEmailAndPassword(t.email,t.password);if(t.signInMethod==="emailLink")return this._fromEmailAndCode(t.email,t.password,t.tenantId)}return null}async _getIdTokenResponse(e){switch(this.signInMethod){case"password":const t={returnSecureToken:!0,email:this._email,password:this._password,clientType:"CLIENT_TYPE_WEB"};return ts(e,t,"signInWithPassword",Ak,"EMAIL_PASSWORD_PROVIDER");case"emailLink":return bk(e,{email:this._email,oobCode:this._password});default:vn(e,"internal-error")}}async _linkToIdToken(e,t){switch(this.signInMethod){case"password":const r={idToken:t,returnSecureToken:!0,email:this._email,password:this._password,clientType:"CLIENT_TYPE_WEB"};return ts(e,r,"signUpPassword",Ik,"EMAIL_PASSWORD_PROVIDER");case"emailLink":return Ok(e,{idToken:t,email:this._email,oobCode:this._password});default:vn(e,"internal-error")}}_getReauthenticationResolver(e){return this._getIdTokenResponse(e)}}async function ii(n,e){return pi(n,"POST","/v1/accounts:signInWithIdp",st(n,e))}const Nk="http://localhost";class ci extends wu{constructor(){super(...arguments),this.pendingToken=null}static _fromParams(e){const t=new ci(e.providerId,e.signInMethod);return e.idToken||e.accessToken?(e.idToken&&(t.idToken=e.idToken),e.accessToken&&(t.accessToken=e.accessToken),e.nonce&&!e.pendingToken&&(t.nonce=e.nonce),e.pendingToken&&(t.pendingToken=e.pendingToken)):e.oauthToken&&e.oauthTokenSecret?(t.accessToken=e.oauthToken,t.secret=e.oauthTokenSecret):vn("argument-error"),t}toJSON(){return{idToken:this.idToken,accessToken:this.accessToken,secret:this.secret,nonce:this.nonce,pendingToken:this.pendingToken,providerId:this.providerId,signInMethod:this.signInMethod}}static fromJSON(e){const t=typeof e=="string"?JSON.parse(e):e,{providerId:r,signInMethod:s,...a}=t;if(!r||!s)return null;const u=new ci(r,s);return u.idToken=a.idToken||void 0,u.accessToken=a.accessToken||void 0,u.secret=a.secret,u.nonce=a.nonce,u.pendingToken=a.pendingToken||null,u}_getIdTokenResponse(e){const t=this.buildRequest();return ii(e,t)}_linkToIdToken(e,t){const r=this.buildRequest();return r.idToken=t,ii(e,r)}_getReauthenticationResolver(e){const t=this.buildRequest();return t.autoCreate=!1,ii(e,t)}buildRequest(){const e={requestUri:Nk,returnSecureToken:!0};if(this.pendingToken)e.pendingToken=this.pendingToken;else{const t={};this.idToken&&(t.id_token=this.idToken),this.accessToken&&(t.access_token=this.accessToken),this.secret&&(t.oauth_token_secret=this.secret),t.providerId=this.providerId,this.nonce&&!this.pendingToken&&(t.nonce=this.nonce),e.postBody=Ia(t)}return e}}async function $v(n,e){return ot(n,"POST","/v1/accounts:sendVerificationCode",st(n,e))}async function Dk(n,e){return pi(n,"POST","/v1/accounts:signInWithPhoneNumber",st(n,e))}async function xk(n,e){const t=await pi(n,"POST","/v1/accounts:signInWithPhoneNumber",st(n,e));if(t.temporaryProof)throw Ul(n,"account-exists-with-different-credential",t);return t}const Lk={USER_NOT_FOUND:"user-not-found"};async function Vk(n,e){const t={...e,operation:"REAUTH"};return pi(n,"POST","/v1/accounts:signInWithPhoneNumber",st(n,t),Lk)}class Hs extends wu{constructor(e){super("phone","phone"),this.params=e}static _fromVerification(e,t){return new Hs({verificationId:e,verificationCode:t})}static _fromTokenResponse(e,t){return new Hs({phoneNumber:e,temporaryProof:t})}_getIdTokenResponse(e){return Dk(e,this._makeVerificationRequest())}_linkToIdToken(e,t){return xk(e,{idToken:t,...this._makeVerificationRequest()})}_getReauthenticationResolver(e){return Vk(e,this._makeVerificationRequest())}_makeVerificationRequest(){const{temporaryProof:e,phoneNumber:t,verificationId:r,verificationCode:s}=this.params;return e&&t?{temporaryProof:e,phoneNumber:t}:{sessionInfo:r,code:s}}toJSON(){const e={providerId:this.providerId};return this.params.phoneNumber&&(e.phoneNumber=this.params.phoneNumber),this.params.temporaryProof&&(e.temporaryProof=this.params.temporaryProof),this.params.verificationCode&&(e.verificationCode=this.params.verificationCode),this.params.verificationId&&(e.verificationId=this.params.verificationId),e}static fromJSON(e){typeof e=="string"&&(e=JSON.parse(e));const{verificationId:t,verificationCode:r,phoneNumber:s,temporaryProof:a}=e;return!r&&!t&&!s&&!a?null:new Hs({verificationId:t,verificationCode:r,phoneNumber:s,temporaryProof:a})}}function Mk(n){switch(n){case"recoverEmail":return"RECOVER_EMAIL";case"resetPassword":return"PASSWORD_RESET";case"signIn":return"EMAIL_SIGNIN";case"verifyEmail":return"VERIFY_EMAIL";case"verifyAndChangeEmail":return"VERIFY_AND_CHANGE_EMAIL";case"revertSecondFactorAddition":return"REVERT_SECOND_FACTOR_ADDITION";default:return null}}function Uk(n){const e=Vl(Ml(n)).link,t=e?Vl(Ml(e)).deep_link_id:null,r=Vl(Ml(n)).deep_link_id;return(r?Vl(Ml(r)).link:null)||r||t||e||n}class Tu{constructor(e){const t=Vl(Ml(e)),r=t.apiKey??null,s=t.oobCode??null,a=Mk(t.mode??null);ne(r&&s&&a,"argument-error"),this.apiKey=r,this.operation=a,this.code=s,this.continueUrl=t.continueUrl??null,this.languageCode=t.lang??null,this.tenantId=t.tenantId??null}static parseLink(e){const t=Uk(e);try{return new Tu(t)}catch{return null}}}function bU(n){return Tu.parseLink(n)}class ro{constructor(){this.providerId=ro.PROVIDER_ID}static credential(e,t){return iu._fromEmailAndPassword(e,t)}static credentialWithLink(e,t){const r=Tu.parseLink(t);return ne(r,"argument-error"),iu._fromEmailAndCode(e,r.code,r.tenantId)}}ro.PROVIDER_ID="password";ro.EMAIL_PASSWORD_SIGN_IN_METHOD="password";ro.EMAIL_LINK_SIGN_IN_METHOD="emailLink";class mi{constructor(e){this.providerId=e,this.defaultLanguageCode=null,this.customParameters={}}setDefaultLanguage(e){this.defaultLanguageCode=e}setCustomParameters(e){return this.customParameters=e,this}getCustomParameters(){return this.customParameters}}class Aa extends mi{constructor(){super(...arguments),this.scopes=[]}addScope(e){return this.scopes.includes(e)||this.scopes.push(e),this}getScopes(){return[...this.scopes]}}class fh extends Aa{static credentialFromJSON(e){const t=typeof e=="string"?JSON.parse(e):e;return ne("providerId"in t&&"signInMethod"in t,"argument-error"),ci._fromParams(t)}credential(e){return this._credential({...e,nonce:e.rawNonce})}_credential(e){return ne(e.idToken||e.accessToken,"argument-error"),ci._fromParams({...e,providerId:this.providerId,signInMethod:this.providerId})}static credentialFromResult(e){return fh.oauthCredentialFromTaggedObject(e)}static credentialFromError(e){return fh.oauthCredentialFromTaggedObject(e.customData||{})}static oauthCredentialFromTaggedObject({_tokenResponse:e}){if(!e)return null;const{oauthIdToken:t,oauthAccessToken:r,oauthTokenSecret:s,pendingToken:a,nonce:u,providerId:d}=e;if(!r&&!s&&!t&&!a||!d)return null;try{return new fh(d)._credential({idToken:t,accessToken:r,nonce:u,pendingToken:a})}catch{return null}}}class Ki extends Aa{constructor(){super("facebook.com")}static credential(e){return ci._fromParams({providerId:Ki.PROVIDER_ID,signInMethod:Ki.FACEBOOK_SIGN_IN_METHOD,accessToken:e})}static credentialFromResult(e){return Ki.credentialFromTaggedObject(e)}static credentialFromError(e){return Ki.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e||!("oauthAccessToken"in e)||!e.oauthAccessToken)return null;try{return Ki.credential(e.oauthAccessToken)}catch{return null}}}Ki.FACEBOOK_SIGN_IN_METHOD="facebook.com";Ki.PROVIDER_ID="facebook.com";class ei extends Aa{constructor(){super("google.com"),this.addScope("profile")}static credential(e,t){return ci._fromParams({providerId:ei.PROVIDER_ID,signInMethod:ei.GOOGLE_SIGN_IN_METHOD,idToken:e,accessToken:t})}static credentialFromResult(e){return ei.credentialFromTaggedObject(e)}static credentialFromError(e){return ei.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e)return null;const{oauthIdToken:t,oauthAccessToken:r}=e;if(!t&&!r)return null;try{return ei.credential(t,r)}catch{return null}}}ei.GOOGLE_SIGN_IN_METHOD="google.com";ei.PROVIDER_ID="google.com";class Qi extends Aa{constructor(){super("github.com")}static credential(e){return ci._fromParams({providerId:Qi.PROVIDER_ID,signInMethod:Qi.GITHUB_SIGN_IN_METHOD,accessToken:e})}static credentialFromResult(e){return Qi.credentialFromTaggedObject(e)}static credentialFromError(e){return Qi.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e||!("oauthAccessToken"in e)||!e.oauthAccessToken)return null;try{return Qi.credential(e.oauthAccessToken)}catch{return null}}}Qi.GITHUB_SIGN_IN_METHOD="github.com";Qi.PROVIDER_ID="github.com";const Fk="http://localhost";class su extends wu{constructor(e,t){super(e,e),this.pendingToken=t}_getIdTokenResponse(e){const t=this.buildRequest();return ii(e,t)}_linkToIdToken(e,t){const r=this.buildRequest();return r.idToken=t,ii(e,r)}_getReauthenticationResolver(e){const t=this.buildRequest();return t.autoCreate=!1,ii(e,t)}toJSON(){return{signInMethod:this.signInMethod,providerId:this.providerId,pendingToken:this.pendingToken}}static fromJSON(e){const t=typeof e=="string"?JSON.parse(e):e,{providerId:r,signInMethod:s,pendingToken:a}=t;return!r||!s||!a||r!==s?null:new su(r,a)}static _create(e,t){return new su(e,t)}buildRequest(){return{requestUri:Fk,returnSecureToken:!0,pendingToken:this.pendingToken}}}const jk="saml.";class Kp extends mi{constructor(e){ne(e.startsWith(jk),"argument-error"),super(e)}static credentialFromResult(e){return Kp.samlCredentialFromTaggedObject(e)}static credentialFromError(e){return Kp.samlCredentialFromTaggedObject(e.customData||{})}static credentialFromJSON(e){const t=su.fromJSON(e);return ne(t,"argument-error"),t}static samlCredentialFromTaggedObject({_tokenResponse:e}){if(!e)return null;const{pendingToken:t,providerId:r}=e;if(!t||!r)return null;try{return su._create(r,t)}catch{return null}}}class Yi extends Aa{constructor(){super("twitter.com")}static credential(e,t){return ci._fromParams({providerId:Yi.PROVIDER_ID,signInMethod:Yi.TWITTER_SIGN_IN_METHOD,oauthToken:e,oauthTokenSecret:t})}static credentialFromResult(e){return Yi.credentialFromTaggedObject(e)}static credentialFromError(e){return Yi.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e)return null;const{oauthAccessToken:t,oauthTokenSecret:r}=e;if(!t||!r)return null;try{return Yi.credential(t,r)}catch{return null}}}Yi.TWITTER_SIGN_IN_METHOD="twitter.com";Yi.PROVIDER_ID="twitter.com";async function XT(n,e){return pi(n,"POST","/v1/accounts:signUp",st(n,e))}class qn{constructor(e){this.user=e.user,this.providerId=e.providerId,this._tokenResponse=e._tokenResponse,this.operationType=e.operationType}static async _fromIdTokenResponse(e,t,r,s=!1){const a=await ir._fromIdTokenResponse(e,r,s),u=Hv(r);return new qn({user:a,providerId:u,_tokenResponse:r,operationType:t})}static async _forOperation(e,t,r){await e._updateTokensIfNecessary(r,!0);const s=Hv(r);return new qn({user:e,providerId:s,_tokenResponse:r,operationType:t})}}function Hv(n){return n.providerId?n.providerId:"phoneNumber"in n?"phone":null}async function OU(n){if(it(n.app))return Promise.reject(Vt(n));const e=gt(n);if(await e._initializationPromise,e.currentUser?.isAnonymous)return new qn({user:e.currentUser,providerId:null,operationType:"signIn"});const t=await XT(e,{returnSecureToken:!0}),r=await qn._fromIdTokenResponse(e,"signIn",t,!0);return await e._updateCurrentUser(r.user),r}class Rh extends Dn{constructor(e,t,r,s){super(t.code,t.message),this.operationType=r,this.user=s,Object.setPrototypeOf(this,Rh.prototype),this.customData={appName:e.name,tenantId:e.tenantId??void 0,_serverResponse:t.customData._serverResponse,operationType:r}}static _fromErrorAndOperation(e,t,r,s){return new Rh(e,t,r,s)}}function ZT(n,e,t,r){return(e==="reauthenticate"?t._getReauthenticationResolver(n):t._getIdTokenResponse(n)).catch(a=>{throw a.code==="auth/multi-factor-auth-required"?Rh._fromErrorAndOperation(n,a,e,r):a})}function eI(n){return new Set(n.map(({providerId:e})=>e).filter(e=>!!e))}async function NU(n,e){const t=ge(n);await nd(!0,t,e);const{providerUserInfo:r}=await HC(t.auth,{idToken:await t.getIdToken(),deleteProvider:[e]}),s=eI(r||[]);return t.providerData=t.providerData.filter(a=>s.has(a.providerId)),s.has("phone")||(t.phoneNumber=null),await t.auth._persistUserIfCurrent(t),t}async function Vm(n,e,t=!1){const r=await ui(n,e._linkToIdToken(n.auth,await n.getIdToken()),t);return qn._forOperation(n,"link",r)}async function nd(n,e,t){await ru(e);const r=eI(e.providerData),s=n===!1?"provider-already-linked":"no-such-provider";ne(r.has(t)===n,e.auth,s)}async function tI(n,e,t=!1){const{auth:r}=n;if(it(r.app))return Promise.reject(Vt(r));const s="reauthenticate";try{const a=await ui(n,ZT(r,s,e,n),t);ne(a.idToken,r,"internal-error");const u=ed(a.idToken);ne(u,r,"internal-error");const{sub:d}=u;return ne(n.uid===d,r,"user-mismatch"),qn._forOperation(n,s,a)}catch(a){throw a?.code==="auth/user-not-found"&&vn(r,"user-mismatch"),a}}async function nI(n,e,t=!1){if(it(n.app))return Promise.reject(Vt(n));const r="signIn",s=await ZT(n,r,e),a=await qn._fromIdTokenResponse(n,r,s);return t||await n._updateCurrentUser(a.user),a}async function Mm(n,e){return nI(gt(n),e)}async function zk(n,e){const t=ge(n);return await nd(!1,t,e.providerId),Vm(t,e)}async function Bk(n,e){return tI(ge(n),e)}async function $k(n,e){return pi(n,"POST","/v1/accounts:signInWithCustomToken",st(n,e))}async function DU(n,e){if(it(n.app))return Promise.reject(Vt(n));const t=gt(n),r=await $k(t,{token:e,returnSecureToken:!0}),s=await qn._fromIdTokenResponse(t,"signIn",r);return await t._updateCurrentUser(s.user),s}class Iu{constructor(e,t){this.factorId=e,this.uid=t.mfaEnrollmentId,this.enrollmentTime=new Date(t.enrolledAt).toUTCString(),this.displayName=t.displayName}static _fromServerResponse(e,t){return"phoneInfo"in t?Um._fromServerResponse(e,t):"totpInfo"in t?Fm._fromServerResponse(e,t):vn(e,"internal-error")}}class Um extends Iu{constructor(e){super("phone",e),this.phoneNumber=e.phoneInfo}static _fromServerResponse(e,t){return new Um(t)}}class Fm extends Iu{constructor(e){super("totp",e)}static _fromServerResponse(e,t){return new Fm(t)}}function rd(n,e,t){ne(t.url?.length>0,n,"invalid-continue-uri"),ne(typeof t.dynamicLinkDomain>"u"||t.dynamicLinkDomain.length>0,n,"invalid-dynamic-link-domain"),ne(typeof t.linkDomain>"u"||t.linkDomain.length>0,n,"invalid-hosting-link-domain"),e.continueUrl=t.url,e.dynamicLinkDomain=t.dynamicLinkDomain,e.linkDomain=t.linkDomain,e.canHandleCodeInApp=t.handleCodeInApp,t.iOS&&(ne(t.iOS.bundleId.length>0,n,"missing-ios-bundle-id"),e.iOSBundleId=t.iOS.bundleId),t.android&&(ne(t.android.packageName.length>0,n,"missing-android-pkg-name"),e.androidInstallApp=t.android.installApp,e.androidMinimumVersionCode=t.android.minimumVersion,e.androidPackageName=t.android.packageName)}async function jm(n){const e=gt(n);e._getPasswordPolicyInternal()&&await e._updatePasswordPolicy()}async function xU(n,e,t){const r=gt(n),s={requestType:"PASSWORD_RESET",email:e,clientType:"CLIENT_TYPE_WEB"};t&&rd(r,s,t),await ts(r,s,"getOobCode",Pk,"EMAIL_PASSWORD_PROVIDER")}async function LU(n,e,t){await JT(ge(n),{oobCode:e,newPassword:t}).catch(async r=>{throw r.code==="auth/password-does-not-meet-requirements"&&jm(n),r})}async function VU(n,e){await Sk(ge(n),{oobCode:e})}async function Hk(n,e){const t=ge(n),r=await JT(t,{oobCode:e}),s=r.requestType;switch(ne(s,t,"internal-error"),s){case"EMAIL_SIGNIN":break;case"VERIFY_AND_CHANGE_EMAIL":ne(r.newEmail,t,"internal-error");break;case"REVERT_SECOND_FACTOR_ADDITION":ne(r.mfaInfo,t,"internal-error");default:ne(r.email,t,"internal-error")}let a=null;return r.mfaInfo&&(a=Iu._fromServerResponse(gt(t),r.mfaInfo)),{data:{email:(r.requestType==="VERIFY_AND_CHANGE_EMAIL"?r.newEmail:r.email)||null,previousEmail:(r.requestType==="VERIFY_AND_CHANGE_EMAIL"?r.email:r.newEmail)||null,multiFactorInfo:a},operation:s}}async function MU(n,e){const{data:t}=await Hk(ge(n),e);return t.email}async function UU(n,e,t){if(it(n.app))return Promise.reject(Vt(n));const r=gt(n),u=await ts(r,{returnSecureToken:!0,email:e,password:t,clientType:"CLIENT_TYPE_WEB"},"signUpPassword",XT,"EMAIL_PASSWORD_PROVIDER").catch(f=>{throw f.code==="auth/password-does-not-meet-requirements"&&jm(n),f}),d=await qn._fromIdTokenResponse(r,"signIn",u);return await r._updateCurrentUser(d.user),d}function FU(n,e,t){return it(n.app)?Promise.reject(Vt(n)):Mm(ge(n),ro.credential(e,t)).catch(async r=>{throw r.code==="auth/password-does-not-meet-requirements"&&jm(n),r})}async function jU(n,e,t){const r=gt(n),s={requestType:"EMAIL_SIGNIN",email:e,clientType:"CLIENT_TYPE_WEB"};function a(u,d){ne(d.handleCodeInApp,r,"argument-error"),d&&rd(r,u,d)}a(s,t),await ts(r,s,"getOobCode",Ck,"EMAIL_PASSWORD_PROVIDER")}function zU(n,e){return Tu.parseLink(e)?.operation==="EMAIL_SIGNIN"}async function BU(n,e,t){if(it(n.app))return Promise.reject(Vt(n));const r=ge(n),s=ro.credentialWithLink(e,t||nu());return ne(s._tenantId===(r.tenantId||null),r,"tenant-id-mismatch"),Mm(r,s)}async function qk(n,e){return ot(n,"POST","/v1/accounts:createAuthUri",st(n,e))}async function $U(n,e){const t=Nm()?nu():"http://localhost",r={identifier:e,continueUri:t},{signinMethods:s}=await qk(ge(n),r);return s||[]}async function HU(n,e){const t=ge(n),s={requestType:"VERIFY_EMAIL",idToken:await n.getIdToken()};e&&rd(t.auth,s,e);const{email:a}=await Rk(t.auth,s);a!==n.email&&await n.reload()}async function qU(n,e,t){const r=ge(n),a={requestType:"VERIFY_AND_CHANGE_EMAIL",idToken:await n.getIdToken(),newEmail:e};t&&rd(r.auth,a,t);const{email:u}=await kk(r.auth,a);u!==n.email&&await n.reload()}async function Wk(n,e){return ot(n,"POST","/v1/accounts:update",e)}async function WU(n,{displayName:e,photoURL:t}){if(e===void 0&&t===void 0)return;const r=ge(n),a={idToken:await r.getIdToken(),displayName:e,photoUrl:t,returnSecureToken:!0},u=await ui(r,Wk(r.auth,a));r.displayName=u.displayName||null,r.photoURL=u.photoUrl||null;const d=r.providerData.find(({providerId:f})=>f==="password");d&&(d.displayName=r.displayName,d.photoURL=r.photoURL),await r._updateTokensIfNecessary(u)}function GU(n,e){const t=ge(n);return it(t.auth.app)?Promise.reject(Vt(t.auth)):rI(t,e,null)}function KU(n,e){return rI(ge(n),null,e)}async function rI(n,e,t){const{auth:r}=n,a={idToken:await n.getIdToken(),returnSecureToken:!0};e&&(a.email=e),t&&(a.password=t);const u=await ui(n,Tk(r,a));await n._updateTokensIfNecessary(u,!0)}function Gk(n){if(!n)return null;const{providerId:e}=n,t=n.rawUserInfo?JSON.parse(n.rawUserInfo):{},r=n.isNewUser||n.kind==="identitytoolkit#SignupNewUserResponse";if(!e&&n?.idToken){const s=ed(n.idToken)?.firebase?.sign_in_provider;if(s){const a=s!=="anonymous"&&s!=="custom"?s:null;return new la(r,a)}}if(!e)return null;switch(e){case"facebook.com":return new Kk(r,t);case"github.com":return new Qk(r,t);case"google.com":return new Yk(r,t);case"twitter.com":return new Jk(r,t,n.screenName||null);case"custom":case"anonymous":return new la(r,null);default:return new la(r,e,t)}}class la{constructor(e,t,r={}){this.isNewUser=e,this.providerId=t,this.profile=r}}class iI extends la{constructor(e,t,r,s){super(e,t,r),this.username=s}}class Kk extends la{constructor(e,t){super(e,"facebook.com",t)}}class Qk extends iI{constructor(e,t){super(e,"github.com",t,typeof t?.login=="string"?t?.login:null)}}class Yk extends la{constructor(e,t){super(e,"google.com",t)}}class Jk extends iI{constructor(e,t,r){super(e,"twitter.com",t,r)}}function QU(n){const{user:e,_tokenResponse:t}=n;return e.isAnonymous&&!t?{providerId:null,isNewUser:!1,profile:null}:Gk(t)}function YU(n,e){return ge(n).setPersistence(e)}function JU(n){return QT(n)}async function XU(n,e){return gt(n).validatePassword(e)}function Xk(n,e,t,r){return ge(n).onIdTokenChanged(e,t,r)}function Zk(n,e,t){return ge(n).beforeAuthStateChanged(e,t)}function e1(n,e,t,r){return ge(n).onAuthStateChanged(e,t,r)}function ZU(n){ge(n).useDeviceLanguage()}function eF(n,e){return ge(n).updateCurrentUser(e)}function t1(n){return ge(n).signOut()}function tF(n,e){return gt(n).revokeAccessToken(e)}async function nF(n){return ge(n).delete()}class zs{constructor(e,t,r){this.type=e,this.credential=t,this.user=r}static _fromIdtoken(e,t){return new zs("enroll",e,t)}static _fromMfaPendingCredential(e){return new zs("signin",e)}toJSON(){return{multiFactorSession:{[this.type==="enroll"?"idToken":"pendingCredential"]:this.credential}}}static fromJSON(e){if(e?.multiFactorSession){if(e.multiFactorSession?.pendingCredential)return zs._fromMfaPendingCredential(e.multiFactorSession.pendingCredential);if(e.multiFactorSession?.idToken)return zs._fromIdtoken(e.multiFactorSession.idToken)}return null}}class zm{constructor(e,t,r){this.session=e,this.hints=t,this.signInResolver=r}static _fromError(e,t){const r=gt(e),s=t.customData._serverResponse,a=(s.mfaInfo||[]).map(d=>Iu._fromServerResponse(r,d));ne(s.mfaPendingCredential,r,"internal-error");const u=zs._fromMfaPendingCredential(s.mfaPendingCredential);return new zm(u,a,async d=>{const f=await d._process(r,u);delete s.mfaInfo,delete s.mfaPendingCredential;const m={...s,idToken:f.idToken,refreshToken:f.refreshToken};switch(t.operationType){case"signIn":const g=await qn._fromIdTokenResponse(r,t.operationType,m);return await r._updateCurrentUser(g.user),g;case"reauthenticate":return ne(t.user,r,"internal-error"),qn._forOperation(t.user,t.operationType,m);default:vn(r,"internal-error")}})}async resolveSignIn(e){const t=e;return this.signInResolver(t)}}function rF(n,e){const t=ge(n),r=e;return ne(e.customData.operationType,t,"argument-error"),ne(r.customData._serverResponse?.mfaPendingCredential,t,"argument-error"),zm._fromError(t,r)}function qv(n,e){return ot(n,"POST","/v2/accounts/mfaEnrollment:start",st(n,e))}function n1(n,e){return ot(n,"POST","/v2/accounts/mfaEnrollment:finalize",st(n,e))}function r1(n,e){return ot(n,"POST","/v2/accounts/mfaEnrollment:start",st(n,e))}function i1(n,e){return ot(n,"POST","/v2/accounts/mfaEnrollment:finalize",st(n,e))}function s1(n,e){return ot(n,"POST","/v2/accounts/mfaEnrollment:withdraw",st(n,e))}class Bm{constructor(e){this.user=e,this.enrolledFactors=[],e._onReload(t=>{t.mfaInfo&&(this.enrolledFactors=t.mfaInfo.map(r=>Iu._fromServerResponse(e.auth,r)))})}static _fromUser(e){return new Bm(e)}async getSession(){return zs._fromIdtoken(await this.user.getIdToken(),this.user)}async enroll(e,t){const r=e,s=await this.getSession(),a=await ui(this.user,r._process(this.user.auth,s,t));return await this.user._updateTokensIfNecessary(a),this.user.reload()}async unenroll(e){const t=typeof e=="string"?e:e.uid,r=await this.user.getIdToken();try{const s=await ui(this.user,s1(this.user.auth,{idToken:r,mfaEnrollmentId:t}));this.enrolledFactors=this.enrolledFactors.filter(({uid:a})=>a!==t),await this.user._updateTokensIfNecessary(s),await this.user.reload()}catch(s){throw s}}}const yp=new WeakMap;function iF(n){const e=ge(n);return yp.has(e)||yp.set(e,Bm._fromUser(e)),yp.get(e)}const Ph="__sak";class sI{constructor(e,t){this.storageRetriever=e,this.type=t}_isAvailable(){try{return this.storage?(this.storage.setItem(Ph,"1"),this.storage.removeItem(Ph),Promise.resolve(!0)):Promise.resolve(!1)}catch{return Promise.resolve(!1)}}_set(e,t){return this.storage.setItem(e,JSON.stringify(t)),Promise.resolve()}_get(e){const t=this.storage.getItem(e);return Promise.resolve(t?JSON.parse(t):null)}_remove(e){return this.storage.removeItem(e),Promise.resolve()}get storage(){return this.storageRetriever()}}const o1=1e3,a1=10;class oI extends sI{constructor(){super(()=>window.localStorage,"LOCAL"),this.boundEventHandler=(e,t)=>this.onStorageEvent(e,t),this.listeners={},this.localCache={},this.pollTimer=null,this.fallbackToPolling=qT(),this._shouldAllowMigration=!0}forAllChangedKeys(e){for(const t of Object.keys(this.listeners)){const r=this.storage.getItem(t),s=this.localCache[t];r!==s&&e(t,s,r)}}onStorageEvent(e,t=!1){if(!e.key){this.forAllChangedKeys((u,d,f)=>{this.notifyListeners(u,f)});return}const r=e.key;t?this.detachListener():this.stopPolling();const s=()=>{const u=this.storage.getItem(r);!t&&this.localCache[r]===u||this.notifyListeners(r,u)},a=this.storage.getItem(r);ZC()&&a!==e.newValue&&e.newValue!==e.oldValue?setTimeout(s,a1):s()}notifyListeners(e,t){this.localCache[e]=t;const r=this.listeners[e];if(r)for(const s of Array.from(r))s(t&&JSON.parse(t))}startPolling(){this.stopPolling(),this.pollTimer=setInterval(()=>{this.forAllChangedKeys((e,t,r)=>{this.onStorageEvent(new StorageEvent("storage",{key:e,oldValue:t,newValue:r}),!0)})},o1)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}attachListener(){window.addEventListener("storage",this.boundEventHandler)}detachListener(){window.removeEventListener("storage",this.boundEventHandler)}_addListener(e,t){Object.keys(this.listeners).length===0&&(this.fallbackToPolling?this.startPolling():this.attachListener()),this.listeners[e]||(this.listeners[e]=new Set,this.localCache[e]=this.storage.getItem(e)),this.listeners[e].add(t)}_removeListener(e,t){this.listeners[e]&&(this.listeners[e].delete(t),this.listeners[e].size===0&&delete this.listeners[e]),Object.keys(this.listeners).length===0&&(this.detachListener(),this.stopPolling())}async _set(e,t){await super._set(e,t),this.localCache[e]=JSON.stringify(t)}async _get(e){const t=await super._get(e);return this.localCache[e]=JSON.stringify(t),t}async _remove(e){await super._remove(e),delete this.localCache[e]}}oI.type="LOCAL";const l1=oI;const u1=1e3;function _p(n){const e=n.replace(/[\\^$.*+?()[\]{}|]/g,"\\$&"),t=RegExp(`${e}=([^;]+)`);return document.cookie.match(t)?.[1]??null}function vp(n){return`${window.location.protocol==="http:"?"__dev_":"__HOST-"}FIREBASE_${n.split(":")[3]}`}class aI{constructor(){this.type="COOKIE",this.listenerUnsubscribes=new Map}_getFinalTarget(e){if(typeof window===void 0)return e;const t=new URL(`${window.location.origin}/__cookies__`);return t.searchParams.set("finalTarget",e),t}async _isAvailable(){return typeof isSecureContext=="boolean"&&!isSecureContext||typeof navigator>"u"||typeof document>"u"?!1:navigator.cookieEnabled??!0}async _set(e,t){}async _get(e){if(!this._isAvailable())return null;const t=vp(e);return window.cookieStore?(await window.cookieStore.get(t))?.value:_p(t)}async _remove(e){if(!this._isAvailable()||!await this._get(e))return;const r=vp(e);document.cookie=`${r}=;Max-Age=34560000;Partitioned;Secure;SameSite=Strict;Path=/;Priority=High`,await fetch("/__cookies__",{method:"DELETE"}).catch(()=>{})}_addListener(e,t){if(!this._isAvailable())return;const r=vp(e);if(window.cookieStore){const d=(m=>{const g=m.changed.find(E=>E.name===r);g&&t(g.value),m.deleted.find(E=>E.name===r)&&t(null)}),f=()=>window.cookieStore.removeEventListener("change",d);return this.listenerUnsubscribes.set(t,f),window.cookieStore.addEventListener("change",d)}let s=_p(r);const a=setInterval(()=>{const d=_p(r);d!==s&&(t(d),s=d)},u1),u=()=>clearInterval(a);this.listenerUnsubscribes.set(t,u)}_removeListener(e,t){const r=this.listenerUnsubscribes.get(t);r&&(r(),this.listenerUnsubscribes.delete(t))}}aI.type="COOKIE";const sF=aI;class lI extends sI{constructor(){super(()=>window.sessionStorage,"SESSION")}_addListener(e,t){}_removeListener(e,t){}}lI.type="SESSION";const uI=lI;function c1(n){return Promise.all(n.map(async e=>{try{return{fulfilled:!0,value:await e}}catch(t){return{fulfilled:!1,reason:t}}}))}class id{constructor(e){this.eventTarget=e,this.handlersMap={},this.boundEventHandler=this.handleEvent.bind(this)}static _getInstance(e){const t=this.receivers.find(s=>s.isListeningto(e));if(t)return t;const r=new id(e);return this.receivers.push(r),r}isListeningto(e){return this.eventTarget===e}async handleEvent(e){const t=e,{eventId:r,eventType:s,data:a}=t.data,u=this.handlersMap[s];if(!u?.size)return;t.ports[0].postMessage({status:"ack",eventId:r,eventType:s});const d=Array.from(u).map(async m=>m(t.origin,a)),f=await c1(d);t.ports[0].postMessage({status:"done",eventId:r,eventType:s,response:f})}_subscribe(e,t){Object.keys(this.handlersMap).length===0&&this.eventTarget.addEventListener("message",this.boundEventHandler),this.handlersMap[e]||(this.handlersMap[e]=new Set),this.handlersMap[e].add(t)}_unsubscribe(e,t){this.handlersMap[e]&&t&&this.handlersMap[e].delete(t),(!t||this.handlersMap[e].size===0)&&delete this.handlersMap[e],Object.keys(this.handlersMap).length===0&&this.eventTarget.removeEventListener("message",this.boundEventHandler)}}id.receivers=[];function sd(n="",e=10){let t="";for(let r=0;r<e;r++)t+=Math.floor(Math.random()*10);return n+t}class h1{constructor(e){this.target=e,this.handlers=new Set}removeMessageHandler(e){e.messageChannel&&(e.messageChannel.port1.removeEventListener("message",e.onMessage),e.messageChannel.port1.close()),this.handlers.delete(e)}async _send(e,t,r=50){const s=typeof MessageChannel<"u"?new MessageChannel:null;if(!s)throw new Error("connection_unavailable");let a,u;return new Promise((d,f)=>{const m=sd("",20);s.port1.start();const g=setTimeout(()=>{f(new Error("unsupported_event"))},r);u={messageChannel:s,onMessage(w){const E=w;if(E.data.eventId===m)switch(E.data.status){case"ack":clearTimeout(g),a=setTimeout(()=>{f(new Error("timeout"))},3e3);break;case"done":clearTimeout(a),d(E.data.response);break;default:clearTimeout(g),clearTimeout(a),f(new Error("invalid_response"));break}}},this.handlers.add(u),s.port1.addEventListener("message",u.onMessage),this.target.postMessage({eventType:e,eventId:m,data:t},[s.port2])}).finally(()=>{u&&this.removeMessageHandler(u)})}}function Rt(){return window}function d1(n){Rt().location.href=n}function $m(){return typeof Rt().WorkerGlobalScope<"u"&&typeof Rt().importScripts=="function"}async function f1(){if(!navigator?.serviceWorker)return null;try{return(await navigator.serviceWorker.ready).active}catch{return null}}function p1(){return navigator?.serviceWorker?.controller||null}function m1(){return $m()?self:null}const cI="firebaseLocalStorageDb",g1=1,Ch="firebaseLocalStorage",hI="fbase_key";class Su{constructor(e){this.request=e}toPromise(){return new Promise((e,t)=>{this.request.addEventListener("success",()=>{e(this.request.result)}),this.request.addEventListener("error",()=>{t(this.request.error)})})}}function od(n,e){return n.transaction([Ch],e?"readwrite":"readonly").objectStore(Ch)}function y1(){const n=indexedDB.deleteDatabase(cI);return new Su(n).toPromise()}function Qp(){const n=indexedDB.open(cI,g1);return new Promise((e,t)=>{n.addEventListener("error",()=>{t(n.error)}),n.addEventListener("upgradeneeded",()=>{const r=n.result;try{r.createObjectStore(Ch,{keyPath:hI})}catch(s){t(s)}}),n.addEventListener("success",async()=>{const r=n.result;r.objectStoreNames.contains(Ch)?e(r):(r.close(),await y1(),e(await Qp()))})})}async function Wv(n,e,t){const r=od(n,!0).put({[hI]:e,value:t});return new Su(r).toPromise()}async function _1(n,e){const t=od(n,!1).get(e),r=await new Su(t).toPromise();return r===void 0?null:r.value}function Gv(n,e){const t=od(n,!0).delete(e);return new Su(t).toPromise()}const v1=800,E1=3;class dI{constructor(){this.type="LOCAL",this._shouldAllowMigration=!0,this.listeners={},this.localCache={},this.pollTimer=null,this.pendingWrites=0,this.receiver=null,this.sender=null,this.serviceWorkerReceiverAvailable=!1,this.activeServiceWorker=null,this._workerInitializationPromise=this.initializeServiceWorkerMessaging().then(()=>{},()=>{})}async _openDb(){return this.db?this.db:(this.db=await Qp(),this.db)}async _withRetries(e){let t=0;for(;;)try{const r=await this._openDb();return await e(r)}catch(r){if(t++>E1)throw r;this.db&&(this.db.close(),this.db=void 0)}}async initializeServiceWorkerMessaging(){return $m()?this.initializeReceiver():this.initializeSender()}async initializeReceiver(){this.receiver=id._getInstance(m1()),this.receiver._subscribe("keyChanged",async(e,t)=>({keyProcessed:(await this._poll()).includes(t.key)})),this.receiver._subscribe("ping",async(e,t)=>["keyChanged"])}async initializeSender(){if(this.activeServiceWorker=await f1(),!this.activeServiceWorker)return;this.sender=new h1(this.activeServiceWorker);const e=await this.sender._send("ping",{},800);e&&e[0]?.fulfilled&&e[0]?.value.includes("keyChanged")&&(this.serviceWorkerReceiverAvailable=!0)}async notifyServiceWorker(e){if(!(!this.sender||!this.activeServiceWorker||p1()!==this.activeServiceWorker))try{await this.sender._send("keyChanged",{key:e},this.serviceWorkerReceiverAvailable?800:50)}catch{}}async _isAvailable(){try{if(!indexedDB)return!1;const e=await Qp();return await Wv(e,Ph,"1"),await Gv(e,Ph),!0}catch{}return!1}async _withPendingWrite(e){this.pendingWrites++;try{await e()}finally{this.pendingWrites--}}async _set(e,t){return this._withPendingWrite(async()=>(await this._withRetries(r=>Wv(r,e,t)),this.localCache[e]=t,this.notifyServiceWorker(e)))}async _get(e){const t=await this._withRetries(r=>_1(r,e));return this.localCache[e]=t,t}async _remove(e){return this._withPendingWrite(async()=>(await this._withRetries(t=>Gv(t,e)),delete this.localCache[e],this.notifyServiceWorker(e)))}async _poll(){const e=await this._withRetries(s=>{const a=od(s,!1).getAll();return new Su(a).toPromise()});if(!e)return[];if(this.pendingWrites!==0)return[];const t=[],r=new Set;if(e.length!==0)for(const{fbase_key:s,value:a}of e)r.add(s),JSON.stringify(this.localCache[s])!==JSON.stringify(a)&&(this.notifyListeners(s,a),t.push(s));for(const s of Object.keys(this.localCache))this.localCache[s]&&!r.has(s)&&(this.notifyListeners(s,null),t.push(s));return t}notifyListeners(e,t){this.localCache[e]=t;const r=this.listeners[e];if(r)for(const s of Array.from(r))s(t)}startPolling(){this.stopPolling(),this.pollTimer=setInterval(async()=>this._poll(),v1)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}_addListener(e,t){Object.keys(this.listeners).length===0&&this.startPolling(),this.listeners[e]||(this.listeners[e]=new Set,this._get(e)),this.listeners[e].add(t)}_removeListener(e,t){this.listeners[e]&&(this.listeners[e].delete(t),this.listeners[e].size===0&&delete this.listeners[e]),Object.keys(this.listeners).length===0&&this.stopPolling()}}dI.type="LOCAL";const w1=dI;function Kv(n,e){return ot(n,"POST","/v2/accounts/mfaSignIn:start",st(n,e))}function T1(n,e){return ot(n,"POST","/v2/accounts/mfaSignIn:finalize",st(n,e))}function I1(n,e){return ot(n,"POST","/v2/accounts/mfaSignIn:finalize",st(n,e))}const Ep=GT("rcb"),S1=new vu(3e4,6e4);class A1{constructor(){this.hostLanguage="",this.counter=0,this.librarySeparatelyLoaded=!!Rt().grecaptcha?.render}load(e,t=""){return ne(R1(t),e,"argument-error"),this.shouldResolveImmediately(t)&&Lv(Rt().grecaptcha)?Promise.resolve(Rt().grecaptcha):new Promise((r,s)=>{const a=Rt().setTimeout(()=>{s(sn(e,"network-request-failed"))},S1.get());Rt()[Ep]=()=>{Rt().clearTimeout(a),delete Rt()[Ep];const d=Rt().grecaptcha;if(!d||!Lv(d)){s(sn(e,"internal-error"));return}const f=d.render;d.render=(m,g)=>{const w=f(m,g);return this.counter++,w},this.hostLanguage=t,r(d)};const u=`${ok()}?${Ia({onload:Ep,render:"explicit",hl:t})}`;Lm(u).catch(()=>{clearTimeout(a),s(sn(e,"internal-error"))})})}clearedOneInstance(){this.counter--}shouldResolveImmediately(e){return!!Rt().grecaptcha?.render&&(e===this.hostLanguage||this.counter>0||this.librarySeparatelyLoaded)}}function R1(n){return n.length<=6&&/^\s*[a-zA-Z0-9\-]*\s*$/.test(n)}class P1{async load(e){return new hk(e)}clearedOneInstance(){}}const Kl="recaptcha",C1={theme:"light",type:"image"};class oF{constructor(e,t,r={...C1}){this.parameters=r,this.type=Kl,this.destroyed=!1,this.widgetId=null,this.tokenChangeListeners=new Set,this.renderPromise=null,this.recaptcha=null,this.auth=gt(e),this.isInvisible=this.parameters.size==="invisible",ne(typeof document<"u",this.auth,"operation-not-supported-in-this-environment");const s=typeof t=="string"?document.getElementById(t):t;ne(s,this.auth,"argument-error"),this.container=s,this.parameters.callback=this.makeTokenCallback(this.parameters.callback),this._recaptchaLoader=this.auth.settings.appVerificationDisabledForTesting?new P1:new A1,this.validateStartingState()}async verify(){this.assertNotDestroyed();const e=await this.render(),t=this.getAssertedRecaptcha(),r=t.getResponse(e);return r||new Promise(s=>{const a=u=>{u&&(this.tokenChangeListeners.delete(a),s(u))};this.tokenChangeListeners.add(a),this.isInvisible&&t.execute(e)})}render(){try{this.assertNotDestroyed()}catch(e){return Promise.reject(e)}return this.renderPromise?this.renderPromise:(this.renderPromise=this.makeRenderPromise().catch(e=>{throw this.renderPromise=null,e}),this.renderPromise)}_reset(){this.assertNotDestroyed(),this.widgetId!==null&&this.getAssertedRecaptcha().reset(this.widgetId)}clear(){this.assertNotDestroyed(),this.destroyed=!0,this._recaptchaLoader.clearedOneInstance(),this.isInvisible||this.container.childNodes.forEach(e=>{this.container.removeChild(e)})}validateStartingState(){ne(!this.parameters.sitekey,this.auth,"argument-error"),ne(this.isInvisible||!this.container.hasChildNodes(),this.auth,"argument-error"),ne(typeof document<"u",this.auth,"operation-not-supported-in-this-environment")}makeTokenCallback(e){return t=>{if(this.tokenChangeListeners.forEach(r=>r(t)),typeof e=="function")e(t);else if(typeof e=="string"){const r=Rt()[e];typeof r=="function"&&r(t)}}}assertNotDestroyed(){ne(!this.destroyed,this.auth,"internal-error")}async makeRenderPromise(){if(await this.init(),!this.widgetId){let e=this.container;if(!this.isInvisible){const t=document.createElement("div");e.appendChild(t),e=t}this.widgetId=this.getAssertedRecaptcha().render(e,this.parameters)}return this.widgetId}async init(){ne(Nm()&&!$m(),this.auth,"internal-error"),await k1(),this.recaptcha=await this._recaptchaLoader.load(this.auth,this.auth.languageCode||void 0);const e=await BC(this.auth);ne(e,this.auth,"internal-error"),this.parameters.sitekey=e}getAssertedRecaptcha(){return ne(this.recaptcha,this.auth,"internal-error"),this.recaptcha}}function k1(){let n=null;return new Promise(e=>{if(document.readyState==="complete"){e();return}n=()=>e(),window.addEventListener("load",n)}).catch(e=>{throw n&&window.removeEventListener("load",n),e})}class Hm{constructor(e,t){this.verificationId=e,this.onConfirmation=t}confirm(e){const t=Hs._fromVerification(this.verificationId,e);return this.onConfirmation(t)}}async function aF(n,e,t){if(it(n.app))return Promise.reject(Vt(n));const r=gt(n),s=await ad(r,e,ge(t));return new Hm(s,a=>Mm(r,a))}async function lF(n,e,t){const r=ge(n);await nd(!1,r,"phone");const s=await ad(r.auth,e,ge(t));return new Hm(s,a=>zk(r,a))}async function uF(n,e,t){const r=ge(n);if(it(r.auth.app))return Promise.reject(Vt(r.auth));const s=await ad(r.auth,e,ge(t));return new Hm(s,a=>Bk(r,a))}async function ad(n,e,t){if(!n._getRecaptchaConfig())try{await QT(n)}catch{console.log("Failed to initialize reCAPTCHA Enterprise config. Triggering the reCAPTCHA v2 verification.")}try{let r;if(typeof e=="string"?r={phoneNumber:e}:r=e,"session"in r){const s=r.session;if("phoneNumber"in r){ne(s.type==="enroll",n,"internal-error");const a={idToken:s.credential,phoneEnrollmentInfo:{phoneNumber:r.phoneNumber,clientType:"CLIENT_TYPE_WEB"}};return(await ts(n,a,"mfaSmsEnrollment",async(m,g)=>{if(g.phoneEnrollmentInfo.captchaResponse===Gl){ne(t?.type===Kl,m,"argument-error");const w=await wp(m,g,t);return qv(m,w)}return qv(m,g)},"PHONE_PROVIDER").catch(m=>Promise.reject(m))).phoneSessionInfo.sessionInfo}else{ne(s.type==="signin",n,"internal-error");const a=r.multiFactorHint?.uid||r.multiFactorUid;ne(a,n,"missing-multi-factor-info");const u={mfaPendingCredential:s.credential,mfaEnrollmentId:a,phoneSignInInfo:{clientType:"CLIENT_TYPE_WEB"}};return(await ts(n,u,"mfaSmsSignIn",async(g,w)=>{if(w.phoneSignInInfo.captchaResponse===Gl){ne(t?.type===Kl,g,"argument-error");const E=await wp(g,w,t);return Kv(g,E)}return Kv(g,w)},"PHONE_PROVIDER").catch(g=>Promise.reject(g))).phoneResponseInfo.sessionInfo}}else{const s={phoneNumber:r.phoneNumber,clientType:"CLIENT_TYPE_WEB"};return(await ts(n,s,"sendVerificationCode",async(f,m)=>{if(m.captchaResponse===Gl){ne(t?.type===Kl,f,"argument-error");const g=await wp(f,m,t);return $v(f,g)}return $v(f,m)},"PHONE_PROVIDER").catch(f=>Promise.reject(f))).sessionInfo}}finally{t?._reset()}}async function cF(n,e){const t=ge(n);if(it(t.auth.app))return Promise.reject(Vt(t.auth));await Vm(t,e)}async function wp(n,e,t){ne(t.type===Kl,n,"argument-error");const r=await t.verify();ne(typeof r=="string",n,"argument-error");const s={...e};if("phoneEnrollmentInfo"in s){const a=s.phoneEnrollmentInfo.phoneNumber,u=s.phoneEnrollmentInfo.captchaResponse,d=s.phoneEnrollmentInfo.clientType,f=s.phoneEnrollmentInfo.recaptchaVersion;return Object.assign(s,{phoneEnrollmentInfo:{phoneNumber:a,recaptchaToken:r,captchaResponse:u,clientType:d,recaptchaVersion:f}}),s}else if("phoneSignInInfo"in s){const a=s.phoneSignInInfo.captchaResponse,u=s.phoneSignInInfo.clientType,d=s.phoneSignInInfo.recaptchaVersion;return Object.assign(s,{phoneSignInInfo:{recaptchaToken:r,captchaResponse:a,clientType:u,recaptchaVersion:d}}),s}else return Object.assign(s,{recaptchaToken:r}),s}class ua{constructor(e){this.providerId=ua.PROVIDER_ID,this.auth=gt(e)}verifyPhoneNumber(e,t){return ad(this.auth,e,ge(t))}static credential(e,t){return Hs._fromVerification(e,t)}static credentialFromResult(e){const t=e;return ua.credentialFromTaggedObject(t)}static credentialFromError(e){return ua.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e)return null;const{phoneNumber:t,temporaryProof:r}=e;return t&&r?Hs._fromTokenResponse(t,r):null}}ua.PROVIDER_ID="phone";ua.PHONE_SIGN_IN_METHOD="phone";function io(n,e){return e?ti(e):(ne(n._popupRedirectResolver,n,"argument-error"),n._popupRedirectResolver)}class qm extends wu{constructor(e){super("custom","custom"),this.params=e}_getIdTokenResponse(e){return ii(e,this._buildIdpRequest())}_linkToIdToken(e,t){return ii(e,this._buildIdpRequest(t))}_getReauthenticationResolver(e){return ii(e,this._buildIdpRequest())}_buildIdpRequest(e){const t={requestUri:this.params.requestUri,sessionId:this.params.sessionId,postBody:this.params.postBody,tenantId:this.params.tenantId,pendingToken:this.params.pendingToken,returnSecureToken:!0,returnIdpCredential:!0};return e&&(t.idToken=e),t}}function b1(n){return nI(n.auth,new qm(n),n.bypassAuthState)}function O1(n){const{auth:e,user:t}=n;return ne(t,e,"internal-error"),tI(t,new qm(n),n.bypassAuthState)}async function N1(n){const{auth:e,user:t}=n;return ne(t,e,"internal-error"),Vm(t,new qm(n),n.bypassAuthState)}class fI{constructor(e,t,r,s,a=!1){this.auth=e,this.resolver=r,this.user=s,this.bypassAuthState=a,this.pendingPromise=null,this.eventManager=null,this.filter=Array.isArray(t)?t:[t]}execute(){return new Promise(async(e,t)=>{this.pendingPromise={resolve:e,reject:t};try{this.eventManager=await this.resolver._initialize(this.auth),await this.onExecution(),this.eventManager.registerConsumer(this)}catch(r){this.reject(r)}})}async onAuthEvent(e){const{urlResponse:t,sessionId:r,postBody:s,tenantId:a,error:u,type:d}=e;if(u){this.reject(u);return}const f={auth:this.auth,requestUri:t,sessionId:r,tenantId:a||void 0,postBody:s||void 0,user:this.user,bypassAuthState:this.bypassAuthState};try{this.resolve(await this.getIdpTask(d)(f))}catch(m){this.reject(m)}}onError(e){this.reject(e)}getIdpTask(e){switch(e){case"signInViaPopup":case"signInViaRedirect":return b1;case"linkViaPopup":case"linkViaRedirect":return N1;case"reauthViaPopup":case"reauthViaRedirect":return O1;default:vn(this.auth,"internal-error")}}resolve(e){li(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.resolve(e),this.unregisterAndCleanUp()}reject(e){li(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.reject(e),this.unregisterAndCleanUp()}unregisterAndCleanUp(){this.eventManager&&this.eventManager.unregisterConsumer(this),this.pendingPromise=null,this.cleanUp()}}const D1=new vu(2e3,1e4);async function hF(n,e,t){if(it(n.app))return Promise.reject(sn(n,"operation-not-supported-in-this-environment"));const r=gt(n);Sa(n,e,mi);const s=io(r,t);return new ni(r,"signInViaPopup",e,s).executeNotNull()}async function dF(n,e,t){const r=ge(n);if(it(r.auth.app))return Promise.reject(sn(r.auth,"operation-not-supported-in-this-environment"));Sa(r.auth,e,mi);const s=io(r.auth,t);return new ni(r.auth,"reauthViaPopup",e,s,r).executeNotNull()}async function fF(n,e,t){const r=ge(n);Sa(r.auth,e,mi);const s=io(r.auth,t);return new ni(r.auth,"linkViaPopup",e,s,r).executeNotNull()}class ni extends fI{constructor(e,t,r,s,a){super(e,t,s,a),this.provider=r,this.authWindow=null,this.pollId=null,ni.currentPopupAction&&ni.currentPopupAction.cancel(),ni.currentPopupAction=this}async executeNotNull(){const e=await this.execute();return ne(e,this.auth,"internal-error"),e}async onExecution(){li(this.filter.length===1,"Popup operations only handle one event");const e=sd();this.authWindow=await this.resolver._openPopup(this.auth,this.provider,this.filter[0],e),this.authWindow.associatedEvent=e,this.resolver._originValidation(this.auth).catch(t=>{this.reject(t)}),this.resolver._isIframeWebStorageSupported(this.auth,t=>{t||this.reject(sn(this.auth,"web-storage-unsupported"))}),this.pollUserCancellation()}get eventId(){return this.authWindow?.associatedEvent||null}cancel(){this.reject(sn(this.auth,"cancelled-popup-request"))}cleanUp(){this.authWindow&&this.authWindow.close(),this.pollId&&window.clearTimeout(this.pollId),this.authWindow=null,this.pollId=null,ni.currentPopupAction=null}pollUserCancellation(){const e=()=>{if(this.authWindow?.window?.closed){this.pollId=window.setTimeout(()=>{this.pollId=null,this.reject(sn(this.auth,"popup-closed-by-user"))},8e3);return}this.pollId=window.setTimeout(e,D1.get())};e()}}ni.currentPopupAction=null;const x1="pendingRedirect",ph=new Map;class L1 extends fI{constructor(e,t,r=!1){super(e,["signInViaRedirect","linkViaRedirect","reauthViaRedirect","unknown"],t,void 0,r),this.eventId=null}async execute(){let e=ph.get(this.auth._key());if(!e){try{const r=await V1(this.resolver,this.auth)?await super.execute():null;e=()=>Promise.resolve(r)}catch(t){e=()=>Promise.reject(t)}ph.set(this.auth._key(),e)}return this.bypassAuthState||ph.set(this.auth._key(),()=>Promise.resolve(null)),e()}async onAuthEvent(e){if(e.type==="signInViaRedirect")return super.onAuthEvent(e);if(e.type==="unknown"){this.resolve(null);return}if(e.eventId){const t=await this.auth._redirectUserForId(e.eventId);if(t)return this.user=t,super.onAuthEvent(e);this.resolve(null)}}async onExecution(){}cleanUp(){}}async function V1(n,e){const t=mI(e),r=pI(n);if(!await r._isAvailable())return!1;const s=await r._get(t)==="true";return await r._remove(t),s}async function Wm(n,e){return pI(n)._set(mI(e),"true")}function M1(n,e){ph.set(n._key(),e)}function pI(n){return ti(n._redirectPersistence)}function mI(n){return dh(x1,n.config.apiKey,n.name)}function pF(n,e,t){return U1(n,e,t)}async function U1(n,e,t){if(it(n.app))return Promise.reject(Vt(n));const r=gt(n);Sa(n,e,mi),await r._initializationPromise;const s=io(r,t);return await Wm(s,r),s._openRedirect(r,e,"signInViaRedirect")}function mF(n,e,t){return F1(n,e,t)}async function F1(n,e,t){const r=ge(n);if(Sa(r.auth,e,mi),it(r.auth.app))return Promise.reject(Vt(r.auth));await r.auth._initializationPromise;const s=io(r.auth,t);await Wm(s,r.auth);const a=await yI(r);return s._openRedirect(r.auth,e,"reauthViaRedirect",a)}function gF(n,e,t){return j1(n,e,t)}async function j1(n,e,t){const r=ge(n);Sa(r.auth,e,mi),await r.auth._initializationPromise;const s=io(r.auth,t);await nd(!1,r,e.providerId),await Wm(s,r.auth);const a=await yI(r);return s._openRedirect(r.auth,e,"linkViaRedirect",a)}async function yF(n,e){return await gt(n)._initializationPromise,gI(n,e,!1)}async function gI(n,e,t=!1){if(it(n.app))return Promise.reject(Vt(n));const r=gt(n),s=io(r,e),u=await new L1(r,s,t).execute();return u&&!t&&(delete u.user._redirectEventId,await r._persistUserIfCurrent(u.user),await r._setRedirectUser(null,e)),u}async function yI(n){const e=sd(`${n.uid}:::`);return n._redirectEventId=e,await n.auth._setRedirectUser(n),await n.auth._persistUserIfCurrent(n),e}const z1=600*1e3;class B1{constructor(e){this.auth=e,this.cachedEventUids=new Set,this.consumers=new Set,this.queuedRedirectEvent=null,this.hasHandledPotentialRedirect=!1,this.lastProcessedEventTime=Date.now()}registerConsumer(e){this.consumers.add(e),this.queuedRedirectEvent&&this.isEventForConsumer(this.queuedRedirectEvent,e)&&(this.sendToConsumer(this.queuedRedirectEvent,e),this.saveEventToCache(this.queuedRedirectEvent),this.queuedRedirectEvent=null)}unregisterConsumer(e){this.consumers.delete(e)}onEvent(e){if(this.hasEventBeenHandled(e))return!1;let t=!1;return this.consumers.forEach(r=>{this.isEventForConsumer(e,r)&&(t=!0,this.sendToConsumer(e,r),this.saveEventToCache(e))}),this.hasHandledPotentialRedirect||!$1(e)||(this.hasHandledPotentialRedirect=!0,t||(this.queuedRedirectEvent=e,t=!0)),t}sendToConsumer(e,t){if(e.error&&!_I(e)){const r=e.error.code?.split("auth/")[1]||"internal-error";t.onError(sn(this.auth,r))}else t.onAuthEvent(e)}isEventForConsumer(e,t){const r=t.eventId===null||!!e.eventId&&e.eventId===t.eventId;return t.filter.includes(e.type)&&r}hasEventBeenHandled(e){return Date.now()-this.lastProcessedEventTime>=z1&&this.cachedEventUids.clear(),this.cachedEventUids.has(Qv(e))}saveEventToCache(e){this.cachedEventUids.add(Qv(e)),this.lastProcessedEventTime=Date.now()}}function Qv(n){return[n.type,n.eventId,n.sessionId,n.tenantId].filter(e=>e).join("-")}function _I({type:n,error:e}){return n==="unknown"&&e?.code==="auth/no-auth-event"}function $1(n){switch(n.type){case"signInViaRedirect":case"linkViaRedirect":case"reauthViaRedirect":return!0;case"unknown":return _I(n);default:return!1}}async function H1(n,e={}){return ot(n,"GET","/v1/projects",e)}const q1=/^\d{1,3}\.\d{1,3}\.\d{1,3}\.\d{1,3}$/,W1=/^https?/;async function G1(n){if(n.config.emulator)return;const{authorizedDomains:e}=await H1(n);for(const t of e)try{if(K1(t))return}catch{}vn(n,"unauthorized-domain")}function K1(n){const e=nu(),{protocol:t,hostname:r}=new URL(e);if(n.startsWith("chrome-extension://")){const u=new URL(n);return u.hostname===""&&r===""?t==="chrome-extension:"&&n.replace("chrome-extension://","")===e.replace("chrome-extension://",""):t==="chrome-extension:"&&u.hostname===r}if(!W1.test(t))return!1;if(q1.test(n))return r===n;const s=n.replace(/\./g,"\\.");return new RegExp("^(.+\\."+s+"|"+s+")$","i").test(r)}const Q1=new vu(3e4,6e4);function Yv(){const n=Rt().___jsl;if(n?.H){for(const e of Object.keys(n.H))if(n.H[e].r=n.H[e].r||[],n.H[e].L=n.H[e].L||[],n.H[e].r=[...n.H[e].L],n.CP)for(let t=0;t<n.CP.length;t++)n.CP[t]=null}}function Y1(n){return new Promise((e,t)=>{function r(){Yv(),gapi.load("gapi.iframes",{callback:()=>{e(gapi.iframes.getContext())},ontimeout:()=>{Yv(),t(sn(n,"network-request-failed"))},timeout:Q1.get()})}if(Rt().gapi?.iframes?.Iframe)e(gapi.iframes.getContext());else if(Rt().gapi?.load)r();else{const s=GT("iframefcb");return Rt()[s]=()=>{gapi.load?r():t(sn(n,"network-request-failed"))},Lm(`${lk()}?onload=${s}`).catch(a=>t(a))}}).catch(e=>{throw mh=null,e})}let mh=null;function J1(n){return mh=mh||Y1(n),mh}const X1=new vu(5e3,15e3),Z1="__/auth/iframe",eb="emulator/auth/iframe",tb={style:{position:"absolute",top:"-100px",width:"1px",height:"1px"},"aria-hidden":"true",tabindex:"-1"},nb=new Map([["identitytoolkit.googleapis.com","p"],["staging-identitytoolkit.sandbox.googleapis.com","s"],["test-identitytoolkit.sandbox.googleapis.com","t"]]);function rb(n){const e=n.config;ne(e.authDomain,n,"auth-domain-config-required");const t=e.emulator?Dm(e,eb):`https://${n.config.authDomain}/${Z1}`,r={apiKey:e.apiKey,appName:n.name,v:no},s=nb.get(n.config.apiHost);s&&(r.eid=s);const a=n._getFrameworks();return a.length&&(r.fw=a.join(",")),`${t}?${Ia(r).slice(1)}`}async function ib(n){const e=await J1(n),t=Rt().gapi;return ne(t,n,"internal-error"),e.open({where:document.body,url:rb(n),messageHandlersFilter:t.iframes.CROSS_ORIGIN_IFRAMES_FILTER,attributes:tb,dontclear:!0},r=>new Promise(async(s,a)=>{await r.restyle({setHideOnLeave:!1});const u=sn(n,"network-request-failed"),d=Rt().setTimeout(()=>{a(u)},X1.get());function f(){Rt().clearTimeout(d),s(r)}r.ping(f).then(f,()=>{a(u)})}))}const sb={location:"yes",resizable:"yes",statusbar:"yes",toolbar:"no"},ob=500,ab=600,lb="_blank",ub="http://localhost";class Jv{constructor(e){this.window=e,this.associatedEvent=null}close(){if(this.window)try{this.window.close()}catch{}}}function cb(n,e,t,r=ob,s=ab){const a=Math.max((window.screen.availHeight-s)/2,0).toString(),u=Math.max((window.screen.availWidth-r)/2,0).toString();let d="";const f={...sb,width:r.toString(),height:s.toString(),top:a,left:u},m=Zt().toLowerCase();t&&(d=jT(m)?lb:t),UT(m)&&(e=e||ub,f.scrollbars="yes");const g=Object.entries(f).reduce((E,[R,V])=>`${E}${R}=${V},`,"");if(XC(m)&&d!=="_self")return hb(e||"",d),new Jv(null);const w=window.open(e||"",d,g);ne(w,n,"popup-blocked");try{w.focus()}catch{}return new Jv(w)}function hb(n,e){const t=document.createElement("a");t.href=n,t.target=e;const r=document.createEvent("MouseEvent");r.initMouseEvent("click",!0,!0,window,1,0,0,0,0,!1,!1,!1,!1,1,null),t.dispatchEvent(r)}const db="__/auth/handler",fb="emulator/auth/handler",pb=encodeURIComponent("fac");async function Xv(n,e,t,r,s,a){ne(n.config.authDomain,n,"auth-domain-config-required"),ne(n.config.apiKey,n,"invalid-api-key");const u={apiKey:n.config.apiKey,appName:n.name,authType:t,redirectUrl:r,v:no,eventId:s};if(e instanceof mi){e.setDefaultLanguage(n.languageCode),u.providerId=e.providerId||"",yP(e.getCustomParameters())||(u.customParameters=JSON.stringify(e.getCustomParameters()));for(const[g,w]of Object.entries({}))u[g]=w}if(e instanceof Aa){const g=e.getScopes().filter(w=>w!=="");g.length>0&&(u.scopes=g.join(","))}n.tenantId&&(u.tid=n.tenantId);const d=u;for(const g of Object.keys(d))d[g]===void 0&&delete d[g];const f=await n._getAppCheckToken(),m=f?`#${pb}=${encodeURIComponent(f)}`:"";return`${mb(n)}?${Ia(d).slice(1)}${m}`}function mb({config:n}){return n.emulator?Dm(n,fb):`https://${n.authDomain}/${db}`}const Tp="webStorageSupport";class gb{constructor(){this.eventManagers={},this.iframes={},this.originValidationPromises={},this._redirectPersistence=uI,this._completeRedirectFn=gI,this._overrideRedirectResult=M1}async _openPopup(e,t,r,s){li(this.eventManagers[e._key()]?.manager,"_initialize() not called before _openPopup()");const a=await Xv(e,t,r,nu(),s);return cb(e,a,sd())}async _openRedirect(e,t,r,s){await this._originValidation(e);const a=await Xv(e,t,r,nu(),s);return d1(a),new Promise(()=>{})}_initialize(e){const t=e._key();if(this.eventManagers[t]){const{manager:s,promise:a}=this.eventManagers[t];return s?Promise.resolve(s):(li(a,"If manager is not set, promise should be"),a)}const r=this.initAndGetManager(e);return this.eventManagers[t]={promise:r},r.catch(()=>{delete this.eventManagers[t]}),r}async initAndGetManager(e){const t=await ib(e),r=new B1(e);return t.register("authEvent",s=>(ne(s?.authEvent,e,"invalid-auth-event"),{status:r.onEvent(s.authEvent)?"ACK":"ERROR"}),gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER),this.eventManagers[e._key()]={manager:r},this.iframes[e._key()]=t,r}_isIframeWebStorageSupported(e,t){this.iframes[e._key()].send(Tp,{type:Tp},s=>{const a=s?.[0]?.[Tp];a!==void 0&&t(!!a),vn(e,"internal-error")},gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER)}_originValidation(e){const t=e._key();return this.originValidationPromises[t]||(this.originValidationPromises[t]=G1(e)),this.originValidationPromises[t]}get _shouldInitProactively(){return qT()||FT()||xm()}}const yb=gb;class vI{constructor(e){this.factorId=e}_process(e,t,r){switch(t.type){case"enroll":return this._finalizeEnroll(e,t.credential,r);case"signin":return this._finalizeSignIn(e,t.credential);default:return Rr("unexpected MultiFactorSessionType")}}}class Gm extends vI{constructor(e){super("phone"),this.credential=e}static _fromCredential(e){return new Gm(e)}_finalizeEnroll(e,t,r){return n1(e,{idToken:t,displayName:r,phoneVerificationInfo:this.credential._makeVerificationRequest()})}_finalizeSignIn(e,t){return T1(e,{mfaPendingCredential:t,phoneVerificationInfo:this.credential._makeVerificationRequest()})}}class _b{constructor(){}static assertion(e){return Gm._fromCredential(e)}}_b.FACTOR_ID="phone";class vb{static assertionForEnrollment(e,t){return ou._fromSecret(e,t)}static assertionForSignIn(e,t){return ou._fromEnrollmentId(e,t)}static async generateSecret(e){const t=e;ne(typeof t.user?.auth<"u","internal-error");const r=await r1(t.user.auth,{idToken:t.credential,totpEnrollmentInfo:{}});return Km._fromStartTotpMfaEnrollmentResponse(r,t.user.auth)}}vb.FACTOR_ID="totp";class ou extends vI{constructor(e,t,r){super("totp"),this.otp=e,this.enrollmentId=t,this.secret=r}static _fromSecret(e,t){return new ou(t,void 0,e)}static _fromEnrollmentId(e,t){return new ou(t,e)}async _finalizeEnroll(e,t,r){return ne(typeof this.secret<"u",e,"argument-error"),i1(e,{idToken:t,displayName:r,totpVerificationInfo:this.secret._makeTotpVerificationInfo(this.otp)})}async _finalizeSignIn(e,t){ne(this.enrollmentId!==void 0&&this.otp!==void 0,e,"argument-error");const r={verificationCode:this.otp};return I1(e,{mfaPendingCredential:t,mfaEnrollmentId:this.enrollmentId,totpVerificationInfo:r})}}class Km{constructor(e,t,r,s,a,u,d){this.sessionInfo=u,this.auth=d,this.secretKey=e,this.hashingAlgorithm=t,this.codeLength=r,this.codeIntervalSeconds=s,this.enrollmentCompletionDeadline=a}static _fromStartTotpMfaEnrollmentResponse(e,t){return new Km(e.totpSessionInfo.sharedSecretKey,e.totpSessionInfo.hashingAlgorithm,e.totpSessionInfo.verificationCodeLength,e.totpSessionInfo.periodSec,new Date(e.totpSessionInfo.finalizeEnrollmentTime).toUTCString(),e.totpSessionInfo.sessionInfo,t)}_makeTotpVerificationInfo(e){return{sessionInfo:this.sessionInfo,verificationCode:e}}generateQrCodeUrl(e,t){let r=!1;return(Zc(e)||Zc(t))&&(r=!0),r&&(Zc(e)&&(e=this.auth.currentUser?.email||"unknownuser"),Zc(t)&&(t=this.auth.name)),`otpauth://totp/${t}:${e}?secret=${this.secretKey}&issuer=${t}&algorithm=${this.hashingAlgorithm}&digits=${this.codeLength}`}}function Zc(n){return typeof n>"u"||n?.length===0}var Zv="@firebase/auth",eE="1.12.0";class Eb{constructor(e){this.auth=e,this.internalListeners=new Map}getUid(){return this.assertAuthConfigured(),this.auth.currentUser?.uid||null}async getToken(e){return this.assertAuthConfigured(),await this.auth._initializationPromise,this.auth.currentUser?{accessToken:await this.auth.currentUser.getIdToken(e)}:null}addAuthTokenListener(e){if(this.assertAuthConfigured(),this.internalListeners.has(e))return;const t=this.auth.onIdTokenChanged(r=>{e(r?.stsTokenManager.accessToken||null)});this.internalListeners.set(e,t),this.updateProactiveRefresh()}removeAuthTokenListener(e){this.assertAuthConfigured();const t=this.internalListeners.get(e);t&&(this.internalListeners.delete(e),t(),this.updateProactiveRefresh())}assertAuthConfigured(){ne(this.auth._initializationPromise,"dependent-sdk-initialized-before-auth")}updateProactiveRefresh(){this.internalListeners.size>0?this.auth._startProactiveRefresh():this.auth._stopProactiveRefresh()}}function wb(n){switch(n){case"Node":return"node";case"ReactNative":return"rn";case"Worker":return"webworker";case"Cordova":return"cordova";case"WebExtension":return"web-extension";default:return}}function Tb(n){Hn(new Nn("auth",(e,{options:t})=>{const r=e.getProvider("app").getImmediate(),s=e.getProvider("heartbeat"),a=e.getProvider("app-check-internal"),{apiKey:u,authDomain:d}=r.options;ne(u&&!u.includes(":"),"invalid-api-key",{appName:r.name});const f={apiKey:u,authDomain:d,clientPlatform:n,apiHost:"identitytoolkit.googleapis.com",tokenApiHost:"securetoken.googleapis.com",apiScheme:"https",sdkClientVersion:WT(n)},m=new ik(r,s,a,f);return _k(m,t),m},"PUBLIC").setInstantiationMode("EXPLICIT").setInstanceCreatedCallback((e,t,r)=>{e.getProvider("auth-internal").initialize()})),Hn(new Nn("auth-internal",e=>{const t=gt(e.getProvider("auth").getImmediate());return(r=>new Eb(r))(t)},"PRIVATE").setInstantiationMode("EXPLICIT")),Xt(Zv,eE,wb(n)),Xt(Zv,eE,"esm2020")}const Ib=300,Sb=ET("authIdTokenMaxAge")||Ib;let tE=null;const Ab=n=>async e=>{const t=e&&await e.getIdTokenResult(),r=t&&(new Date().getTime()-Date.parse(t.issuedAtTime))/1e3;if(r&&r>Sb)return;const s=t?.token;tE!==s&&(tE=s,await fetch(n,{method:s?"POST":"DELETE",headers:s?{Authorization:`Bearer ${s}`}:{}}))};function Rb(n=_u()){const e=fi(n,"auth");if(e.isInitialized())return e.getImmediate();const t=yk(n,{popupRedirectResolver:yb,persistence:[w1,l1,uI]}),r=ET("authTokenSyncURL");if(r&&typeof isSecureContext=="boolean"&&isSecureContext){const a=new URL(r,location.origin);if(location.origin===a.origin){const u=Ab(a.toString());Zk(t,u,()=>u(t.currentUser)),Xk(t,d=>u(d))}}const s=_T("auth");return s&&vk(t,`http://${s}`),t}function Pb(){return document.getElementsByTagName("head")?.[0]??document}sk({loadJS(n){return new Promise((e,t)=>{const r=document.createElement("script");r.setAttribute("src",n),r.onload=e,r.onerror=s=>{const a=sn("internal-error");a.customData=s,t(a)},r.type="text/javascript",r.charset="UTF-8",Pb().appendChild(r)})},gapiScript:"https://apis.google.com/js/api.js",recaptchaV2Script:"https://www.google.com/recaptcha/api.js",recaptchaEnterpriseScript:"https://www.google.com/recaptcha/enterprise.js?render="});Tb("Browser");var Cb="firebase",kb="12.8.0";Xt(Cb,kb,"app");var nE=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};var ns,EI;(function(){var n;function e(k,S){function C(){}C.prototype=S.prototype,k.F=S.prototype,k.prototype=new C,k.prototype.constructor=k,k.D=function(x,O,N){for(var P=Array(arguments.length-2),Ne=2;Ne<arguments.length;Ne++)P[Ne-2]=arguments[Ne];return S.prototype[O].apply(x,P)}}function t(){this.blockSize=-1}function r(){this.blockSize=-1,this.blockSize=64,this.g=Array(4),this.C=Array(this.blockSize),this.o=this.h=0,this.u()}e(r,t),r.prototype.u=function(){this.g[0]=1732584193,this.g[1]=4023233417,this.g[2]=2562383102,this.g[3]=271733878,this.o=this.h=0};function s(k,S,C){C||(C=0);const x=Array(16);if(typeof S=="string")for(var O=0;O<16;++O)x[O]=S.charCodeAt(C++)|S.charCodeAt(C++)<<8|S.charCodeAt(C++)<<16|S.charCodeAt(C++)<<24;else for(O=0;O<16;++O)x[O]=S[C++]|S[C++]<<8|S[C++]<<16|S[C++]<<24;S=k.g[0],C=k.g[1],O=k.g[2];let N=k.g[3],P;P=S+(N^C&(O^N))+x[0]+3614090360&4294967295,S=C+(P<<7&4294967295|P>>>25),P=N+(O^S&(C^O))+x[1]+3905402710&4294967295,N=S+(P<<12&4294967295|P>>>20),P=O+(C^N&(S^C))+x[2]+606105819&4294967295,O=N+(P<<17&4294967295|P>>>15),P=C+(S^O&(N^S))+x[3]+3250441966&4294967295,C=O+(P<<22&4294967295|P>>>10),P=S+(N^C&(O^N))+x[4]+4118548399&4294967295,S=C+(P<<7&4294967295|P>>>25),P=N+(O^S&(C^O))+x[5]+1200080426&4294967295,N=S+(P<<12&4294967295|P>>>20),P=O+(C^N&(S^C))+x[6]+2821735955&4294967295,O=N+(P<<17&4294967295|P>>>15),P=C+(S^O&(N^S))+x[7]+4249261313&4294967295,C=O+(P<<22&4294967295|P>>>10),P=S+(N^C&(O^N))+x[8]+1770035416&4294967295,S=C+(P<<7&4294967295|P>>>25),P=N+(O^S&(C^O))+x[9]+2336552879&4294967295,N=S+(P<<12&4294967295|P>>>20),P=O+(C^N&(S^C))+x[10]+4294925233&4294967295,O=N+(P<<17&4294967295|P>>>15),P=C+(S^O&(N^S))+x[11]+2304563134&4294967295,C=O+(P<<22&4294967295|P>>>10),P=S+(N^C&(O^N))+x[12]+1804603682&4294967295,S=C+(P<<7&4294967295|P>>>25),P=N+(O^S&(C^O))+x[13]+4254626195&4294967295,N=S+(P<<12&4294967295|P>>>20),P=O+(C^N&(S^C))+x[14]+2792965006&4294967295,O=N+(P<<17&4294967295|P>>>15),P=C+(S^O&(N^S))+x[15]+1236535329&4294967295,C=O+(P<<22&4294967295|P>>>10),P=S+(O^N&(C^O))+x[1]+4129170786&4294967295,S=C+(P<<5&4294967295|P>>>27),P=N+(C^O&(S^C))+x[6]+3225465664&4294967295,N=S+(P<<9&4294967295|P>>>23),P=O+(S^C&(N^S))+x[11]+643717713&4294967295,O=N+(P<<14&4294967295|P>>>18),P=C+(N^S&(O^N))+x[0]+3921069994&4294967295,C=O+(P<<20&4294967295|P>>>12),P=S+(O^N&(C^O))+x[5]+3593408605&4294967295,S=C+(P<<5&4294967295|P>>>27),P=N+(C^O&(S^C))+x[10]+38016083&4294967295,N=S+(P<<9&4294967295|P>>>23),P=O+(S^C&(N^S))+x[15]+3634488961&4294967295,O=N+(P<<14&4294967295|P>>>18),P=C+(N^S&(O^N))+x[4]+3889429448&4294967295,C=O+(P<<20&4294967295|P>>>12),P=S+(O^N&(C^O))+x[9]+568446438&4294967295,S=C+(P<<5&4294967295|P>>>27),P=N+(C^O&(S^C))+x[14]+3275163606&4294967295,N=S+(P<<9&4294967295|P>>>23),P=O+(S^C&(N^S))+x[3]+4107603335&4294967295,O=N+(P<<14&4294967295|P>>>18),P=C+(N^S&(O^N))+x[8]+1163531501&4294967295,C=O+(P<<20&4294967295|P>>>12),P=S+(O^N&(C^O))+x[13]+2850285829&4294967295,S=C+(P<<5&4294967295|P>>>27),P=N+(C^O&(S^C))+x[2]+4243563512&4294967295,N=S+(P<<9&4294967295|P>>>23),P=O+(S^C&(N^S))+x[7]+1735328473&4294967295,O=N+(P<<14&4294967295|P>>>18),P=C+(N^S&(O^N))+x[12]+2368359562&4294967295,C=O+(P<<20&4294967295|P>>>12),P=S+(C^O^N)+x[5]+4294588738&4294967295,S=C+(P<<4&4294967295|P>>>28),P=N+(S^C^O)+x[8]+2272392833&4294967295,N=S+(P<<11&4294967295|P>>>21),P=O+(N^S^C)+x[11]+1839030562&4294967295,O=N+(P<<16&4294967295|P>>>16),P=C+(O^N^S)+x[14]+4259657740&4294967295,C=O+(P<<23&4294967295|P>>>9),P=S+(C^O^N)+x[1]+2763975236&4294967295,S=C+(P<<4&4294967295|P>>>28),P=N+(S^C^O)+x[4]+1272893353&4294967295,N=S+(P<<11&4294967295|P>>>21),P=O+(N^S^C)+x[7]+4139469664&4294967295,O=N+(P<<16&4294967295|P>>>16),P=C+(O^N^S)+x[10]+3200236656&4294967295,C=O+(P<<23&4294967295|P>>>9),P=S+(C^O^N)+x[13]+681279174&4294967295,S=C+(P<<4&4294967295|P>>>28),P=N+(S^C^O)+x[0]+3936430074&4294967295,N=S+(P<<11&4294967295|P>>>21),P=O+(N^S^C)+x[3]+3572445317&4294967295,O=N+(P<<16&4294967295|P>>>16),P=C+(O^N^S)+x[6]+76029189&4294967295,C=O+(P<<23&4294967295|P>>>9),P=S+(C^O^N)+x[9]+3654602809&4294967295,S=C+(P<<4&4294967295|P>>>28),P=N+(S^C^O)+x[12]+3873151461&4294967295,N=S+(P<<11&4294967295|P>>>21),P=O+(N^S^C)+x[15]+530742520&4294967295,O=N+(P<<16&4294967295|P>>>16),P=C+(O^N^S)+x[2]+3299628645&4294967295,C=O+(P<<23&4294967295|P>>>9),P=S+(O^(C|~N))+x[0]+4096336452&4294967295,S=C+(P<<6&4294967295|P>>>26),P=N+(C^(S|~O))+x[7]+1126891415&4294967295,N=S+(P<<10&4294967295|P>>>22),P=O+(S^(N|~C))+x[14]+2878612391&4294967295,O=N+(P<<15&4294967295|P>>>17),P=C+(N^(O|~S))+x[5]+4237533241&4294967295,C=O+(P<<21&4294967295|P>>>11),P=S+(O^(C|~N))+x[12]+1700485571&4294967295,S=C+(P<<6&4294967295|P>>>26),P=N+(C^(S|~O))+x[3]+2399980690&4294967295,N=S+(P<<10&4294967295|P>>>22),P=O+(S^(N|~C))+x[10]+4293915773&4294967295,O=N+(P<<15&4294967295|P>>>17),P=C+(N^(O|~S))+x[1]+2240044497&4294967295,C=O+(P<<21&4294967295|P>>>11),P=S+(O^(C|~N))+x[8]+1873313359&4294967295,S=C+(P<<6&4294967295|P>>>26),P=N+(C^(S|~O))+x[15]+4264355552&4294967295,N=S+(P<<10&4294967295|P>>>22),P=O+(S^(N|~C))+x[6]+2734768916&4294967295,O=N+(P<<15&4294967295|P>>>17),P=C+(N^(O|~S))+x[13]+1309151649&4294967295,C=O+(P<<21&4294967295|P>>>11),P=S+(O^(C|~N))+x[4]+4149444226&4294967295,S=C+(P<<6&4294967295|P>>>26),P=N+(C^(S|~O))+x[11]+3174756917&4294967295,N=S+(P<<10&4294967295|P>>>22),P=O+(S^(N|~C))+x[2]+718787259&4294967295,O=N+(P<<15&4294967295|P>>>17),P=C+(N^(O|~S))+x[9]+3951481745&4294967295,k.g[0]=k.g[0]+S&4294967295,k.g[1]=k.g[1]+(O+(P<<21&4294967295|P>>>11))&4294967295,k.g[2]=k.g[2]+O&4294967295,k.g[3]=k.g[3]+N&4294967295}r.prototype.v=function(k,S){S===void 0&&(S=k.length);const C=S-this.blockSize,x=this.C;let O=this.h,N=0;for(;N<S;){if(O==0)for(;N<=C;)s(this,k,N),N+=this.blockSize;if(typeof k=="string"){for(;N<S;)if(x[O++]=k.charCodeAt(N++),O==this.blockSize){s(this,x),O=0;break}}else for(;N<S;)if(x[O++]=k[N++],O==this.blockSize){s(this,x),O=0;break}}this.h=O,this.o+=S},r.prototype.A=function(){var k=Array((this.h<56?this.blockSize:this.blockSize*2)-this.h);k[0]=128;for(var S=1;S<k.length-8;++S)k[S]=0;S=this.o*8;for(var C=k.length-8;C<k.length;++C)k[C]=S&255,S/=256;for(this.v(k),k=Array(16),S=0,C=0;C<4;++C)for(let x=0;x<32;x+=8)k[S++]=this.g[C]>>>x&255;return k};function a(k,S){var C=d;return Object.prototype.hasOwnProperty.call(C,k)?C[k]:C[k]=S(k)}function u(k,S){this.h=S;const C=[];let x=!0;for(let O=k.length-1;O>=0;O--){const N=k[O]|0;x&&N==S||(C[O]=N,x=!1)}this.g=C}var d={};function f(k){return-128<=k&&k<128?a(k,function(S){return new u([S|0],S<0?-1:0)}):new u([k|0],k<0?-1:0)}function m(k){if(isNaN(k)||!isFinite(k))return w;if(k<0)return z(m(-k));const S=[];let C=1;for(let x=0;k>=C;x++)S[x]=k/C|0,C*=4294967296;return new u(S,0)}function g(k,S){if(k.length==0)throw Error("number format error: empty string");if(S=S||10,S<2||36<S)throw Error("radix out of range: "+S);if(k.charAt(0)=="-")return z(g(k.substring(1),S));if(k.indexOf("-")>=0)throw Error('number format error: interior "-" character');const C=m(Math.pow(S,8));let x=w;for(let N=0;N<k.length;N+=8){var O=Math.min(8,k.length-N);const P=parseInt(k.substring(N,N+O),S);O<8?(O=m(Math.pow(S,O)),x=x.j(O).add(m(P))):(x=x.j(C),x=x.add(m(P)))}return x}var w=f(0),E=f(1),R=f(16777216);n=u.prototype,n.m=function(){if(B(this))return-z(this).m();let k=0,S=1;for(let C=0;C<this.g.length;C++){const x=this.i(C);k+=(x>=0?x:4294967296+x)*S,S*=4294967296}return k},n.toString=function(k){if(k=k||10,k<2||36<k)throw Error("radix out of range: "+k);if(V(this))return"0";if(B(this))return"-"+z(this).toString(k);const S=m(Math.pow(k,6));var C=this;let x="";for(;;){const O=oe(C,S).g;C=te(C,O.j(S));let N=((C.g.length>0?C.g[0]:C.h)>>>0).toString(k);if(C=O,V(C))return N+x;for(;N.length<6;)N="0"+N;x=N+x}},n.i=function(k){return k<0?0:k<this.g.length?this.g[k]:this.h};function V(k){if(k.h!=0)return!1;for(let S=0;S<k.g.length;S++)if(k.g[S]!=0)return!1;return!0}function B(k){return k.h==-1}n.l=function(k){return k=te(this,k),B(k)?-1:V(k)?0:1};function z(k){const S=k.g.length,C=[];for(let x=0;x<S;x++)C[x]=~k.g[x];return new u(C,~k.h).add(E)}n.abs=function(){return B(this)?z(this):this},n.add=function(k){const S=Math.max(this.g.length,k.g.length),C=[];let x=0;for(let O=0;O<=S;O++){let N=x+(this.i(O)&65535)+(k.i(O)&65535),P=(N>>>16)+(this.i(O)>>>16)+(k.i(O)>>>16);x=P>>>16,N&=65535,P&=65535,C[O]=P<<16|N}return new u(C,C[C.length-1]&-2147483648?-1:0)};function te(k,S){return k.add(z(S))}n.j=function(k){if(V(this)||V(k))return w;if(B(this))return B(k)?z(this).j(z(k)):z(z(this).j(k));if(B(k))return z(this.j(z(k)));if(this.l(R)<0&&k.l(R)<0)return m(this.m()*k.m());const S=this.g.length+k.g.length,C=[];for(var x=0;x<2*S;x++)C[x]=0;for(x=0;x<this.g.length;x++)for(let O=0;O<k.g.length;O++){const N=this.i(x)>>>16,P=this.i(x)&65535,Ne=k.i(O)>>>16,F=k.i(O)&65535;C[2*x+2*O]+=P*F,le(C,2*x+2*O),C[2*x+2*O+1]+=N*F,le(C,2*x+2*O+1),C[2*x+2*O+1]+=P*Ne,le(C,2*x+2*O+1),C[2*x+2*O+2]+=N*Ne,le(C,2*x+2*O+2)}for(k=0;k<S;k++)C[k]=C[2*k+1]<<16|C[2*k];for(k=S;k<2*S;k++)C[k]=0;return new u(C,0)};function le(k,S){for(;(k[S]&65535)!=k[S];)k[S+1]+=k[S]>>>16,k[S]&=65535,S++}function ve(k,S){this.g=k,this.h=S}function oe(k,S){if(V(S))throw Error("division by zero");if(V(k))return new ve(w,w);if(B(k))return S=oe(z(k),S),new ve(z(S.g),z(S.h));if(B(S))return S=oe(k,z(S)),new ve(z(S.g),S.h);if(k.g.length>30){if(B(k)||B(S))throw Error("slowDivide_ only works with positive integers.");for(var C=E,x=S;x.l(k)<=0;)C=we(C),x=we(x);var O=pe(C,1),N=pe(x,1);for(x=pe(x,2),C=pe(C,2);!V(x);){var P=N.add(x);P.l(k)<=0&&(O=O.add(C),N=P),x=pe(x,1),C=pe(C,1)}return S=te(k,O.j(S)),new ve(O,S)}for(O=w;k.l(S)>=0;){for(C=Math.max(1,Math.floor(k.m()/S.m())),x=Math.ceil(Math.log(C)/Math.LN2),x=x<=48?1:Math.pow(2,x-48),N=m(C),P=N.j(S);B(P)||P.l(k)>0;)C-=x,N=m(C),P=N.j(S);V(N)&&(N=E),O=O.add(N),k=te(k,P)}return new ve(O,k)}n.B=function(k){return oe(this,k).h},n.and=function(k){const S=Math.max(this.g.length,k.g.length),C=[];for(let x=0;x<S;x++)C[x]=this.i(x)&k.i(x);return new u(C,this.h&k.h)},n.or=function(k){const S=Math.max(this.g.length,k.g.length),C=[];for(let x=0;x<S;x++)C[x]=this.i(x)|k.i(x);return new u(C,this.h|k.h)},n.xor=function(k){const S=Math.max(this.g.length,k.g.length),C=[];for(let x=0;x<S;x++)C[x]=this.i(x)^k.i(x);return new u(C,this.h^k.h)};function we(k){const S=k.g.length+1,C=[];for(let x=0;x<S;x++)C[x]=k.i(x)<<1|k.i(x-1)>>>31;return new u(C,k.h)}function pe(k,S){const C=S>>5;S%=32;const x=k.g.length-C,O=[];for(let N=0;N<x;N++)O[N]=S>0?k.i(N+C)>>>S|k.i(N+C+1)<<32-S:k.i(N+C);return new u(O,k.h)}r.prototype.digest=r.prototype.A,r.prototype.reset=r.prototype.u,r.prototype.update=r.prototype.v,EI=r,u.prototype.add=u.prototype.add,u.prototype.multiply=u.prototype.j,u.prototype.modulo=u.prototype.B,u.prototype.compare=u.prototype.l,u.prototype.toNumber=u.prototype.m,u.prototype.toString=u.prototype.toString,u.prototype.getBits=u.prototype.i,u.fromNumber=m,u.fromString=g,ns=u}).apply(typeof nE<"u"?nE:typeof self<"u"?self:typeof window<"u"?window:{});var eh=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};var wI,Fl,TI,gh,Yp,II,SI,AI;(function(){var n,e=Object.defineProperty;function t(c){c=[typeof globalThis=="object"&&globalThis,c,typeof window=="object"&&window,typeof self=="object"&&self,typeof eh=="object"&&eh];for(var _=0;_<c.length;++_){var v=c[_];if(v&&v.Math==Math)return v}throw Error("Cannot find global object")}var r=t(this);function s(c,_){if(_)e:{var v=r;c=c.split(".");for(var I=0;I<c.length-1;I++){var U=c[I];if(!(U in v))break e;v=v[U]}c=c[c.length-1],I=v[c],_=_(I),_!=I&&_!=null&&e(v,c,{configurable:!0,writable:!0,value:_})}}s("Symbol.dispose",function(c){return c||Symbol("Symbol.dispose")}),s("Array.prototype.values",function(c){return c||function(){return this[Symbol.iterator]()}}),s("Object.entries",function(c){return c||function(_){var v=[],I;for(I in _)Object.prototype.hasOwnProperty.call(_,I)&&v.push([I,_[I]]);return v}});var a=a||{},u=this||self;function d(c){var _=typeof c;return _=="object"&&c!=null||_=="function"}function f(c,_,v){return c.call.apply(c.bind,arguments)}function m(c,_,v){return m=f,m.apply(null,arguments)}function g(c,_){var v=Array.prototype.slice.call(arguments,1);return function(){var I=v.slice();return I.push.apply(I,arguments),c.apply(this,I)}}function w(c,_){function v(){}v.prototype=_.prototype,c.Z=_.prototype,c.prototype=new v,c.prototype.constructor=c,c.Ob=function(I,U,H){for(var se=Array(arguments.length-2),De=2;De<arguments.length;De++)se[De-2]=arguments[De];return _.prototype[U].apply(I,se)}}var E=typeof AsyncContext<"u"&&typeof AsyncContext.Snapshot=="function"?c=>c&&AsyncContext.Snapshot.wrap(c):c=>c;function R(c){const _=c.length;if(_>0){const v=Array(_);for(let I=0;I<_;I++)v[I]=c[I];return v}return[]}function V(c,_){for(let I=1;I<arguments.length;I++){const U=arguments[I];var v=typeof U;if(v=v!="object"?v:U?Array.isArray(U)?"array":v:"null",v=="array"||v=="object"&&typeof U.length=="number"){v=c.length||0;const H=U.length||0;c.length=v+H;for(let se=0;se<H;se++)c[v+se]=U[se]}else c.push(U)}}class B{constructor(_,v){this.i=_,this.j=v,this.h=0,this.g=null}get(){let _;return this.h>0?(this.h--,_=this.g,this.g=_.next,_.next=null):_=this.i(),_}}function z(c){u.setTimeout(()=>{throw c},0)}function te(){var c=k;let _=null;return c.g&&(_=c.g,c.g=c.g.next,c.g||(c.h=null),_.next=null),_}class le{constructor(){this.h=this.g=null}add(_,v){const I=ve.get();I.set(_,v),this.h?this.h.next=I:this.g=I,this.h=I}}var ve=new B(()=>new oe,c=>c.reset());class oe{constructor(){this.next=this.g=this.h=null}set(_,v){this.h=_,this.g=v,this.next=null}reset(){this.next=this.g=this.h=null}}let we,pe=!1,k=new le,S=()=>{const c=Promise.resolve(void 0);we=()=>{c.then(C)}};function C(){for(var c;c=te();){try{c.h.call(c.g)}catch(v){z(v)}var _=ve;_.j(c),_.h<100&&(_.h++,c.next=_.g,_.g=c)}pe=!1}function x(){this.u=this.u,this.C=this.C}x.prototype.u=!1,x.prototype.dispose=function(){this.u||(this.u=!0,this.N())},x.prototype[Symbol.dispose]=function(){this.dispose()},x.prototype.N=function(){if(this.C)for(;this.C.length;)this.C.shift()()};function O(c,_){this.type=c,this.g=this.target=_,this.defaultPrevented=!1}O.prototype.h=function(){this.defaultPrevented=!0};var N=(function(){if(!u.addEventListener||!Object.defineProperty)return!1;var c=!1,_=Object.defineProperty({},"passive",{get:function(){c=!0}});try{const v=()=>{};u.addEventListener("test",v,_),u.removeEventListener("test",v,_)}catch{}return c})();function P(c){return/^[\s\xa0]*$/.test(c)}function Ne(c,_){O.call(this,c?c.type:""),this.relatedTarget=this.g=this.target=null,this.button=this.screenY=this.screenX=this.clientY=this.clientX=0,this.key="",this.metaKey=this.shiftKey=this.altKey=this.ctrlKey=!1,this.state=null,this.pointerId=0,this.pointerType="",this.i=null,c&&this.init(c,_)}w(Ne,O),Ne.prototype.init=function(c,_){const v=this.type=c.type,I=c.changedTouches&&c.changedTouches.length?c.changedTouches[0]:null;this.target=c.target||c.srcElement,this.g=_,_=c.relatedTarget,_||(v=="mouseover"?_=c.fromElement:v=="mouseout"&&(_=c.toElement)),this.relatedTarget=_,I?(this.clientX=I.clientX!==void 0?I.clientX:I.pageX,this.clientY=I.clientY!==void 0?I.clientY:I.pageY,this.screenX=I.screenX||0,this.screenY=I.screenY||0):(this.clientX=c.clientX!==void 0?c.clientX:c.pageX,this.clientY=c.clientY!==void 0?c.clientY:c.pageY,this.screenX=c.screenX||0,this.screenY=c.screenY||0),this.button=c.button,this.key=c.key||"",this.ctrlKey=c.ctrlKey,this.altKey=c.altKey,this.shiftKey=c.shiftKey,this.metaKey=c.metaKey,this.pointerId=c.pointerId||0,this.pointerType=c.pointerType,this.state=c.state,this.i=c,c.defaultPrevented&&Ne.Z.h.call(this)},Ne.prototype.h=function(){Ne.Z.h.call(this);const c=this.i;c.preventDefault?c.preventDefault():c.returnValue=!1};var F="closure_listenable_"+(Math.random()*1e6|0),Q=0;function he(c,_,v,I,U){this.listener=c,this.proxy=null,this.src=_,this.type=v,this.capture=!!I,this.ha=U,this.key=++Q,this.da=this.fa=!1}function q(c){c.da=!0,c.listener=null,c.proxy=null,c.src=null,c.ha=null}function ie(c,_,v){for(const I in c)_.call(v,c[I],I,c)}function Y(c,_){for(const v in c)_.call(void 0,c[v],v,c)}function L(c){const _={};for(const v in c)_[v]=c[v];return _}const J="constructor hasOwnProperty isPrototypeOf propertyIsEnumerable toLocaleString toString valueOf".split(" ");function Te(c,_){let v,I;for(let U=1;U<arguments.length;U++){I=arguments[U];for(v in I)c[v]=I[v];for(let H=0;H<J.length;H++)v=J[H],Object.prototype.hasOwnProperty.call(I,v)&&(c[v]=I[v])}}function Ce(c){this.src=c,this.g={},this.h=0}Ce.prototype.add=function(c,_,v,I,U){const H=c.toString();c=this.g[H],c||(c=this.g[H]=[],this.h++);const se=Me(c,_,I,U);return se>-1?(_=c[se],v||(_.fa=!1)):(_=new he(_,this.src,H,!!I,U),_.fa=v,c.push(_)),_};function Ve(c,_){const v=_.type;if(v in c.g){var I=c.g[v],U=Array.prototype.indexOf.call(I,_,void 0),H;(H=U>=0)&&Array.prototype.splice.call(I,U,1),H&&(q(_),c.g[v].length==0&&(delete c.g[v],c.h--))}}function Me(c,_,v,I){for(let U=0;U<c.length;++U){const H=c[U];if(!H.da&&H.listener==_&&H.capture==!!v&&H.ha==I)return U}return-1}var Ge="closure_lm_"+(Math.random()*1e6|0),$e={};function Ye(c,_,v,I,U){if(Array.isArray(_)){for(let H=0;H<_.length;H++)Ye(c,_[H],v,I,U);return null}return v=xa(v),c&&c[F]?c.J(_,v,d(I)?!!I.capture:!1,U):en(c,_,v,!1,I,U)}function en(c,_,v,I,U,H){if(!_)throw Error("Invalid event type");const se=d(U)?!!U.capture:!!U;let De=uo(c);if(De||(c[Ge]=De=new Ce(c)),v=De.add(_,v,I,se,H),v.proxy)return v;if(I=ao(),v.proxy=I,I.src=c,I.listener=v,c.addEventListener)N||(U=se),U===void 0&&(U=!1),c.addEventListener(_.toString(),I,U);else if(c.attachEvent)c.attachEvent(lo(_.toString()),I);else if(c.addListener&&c.removeListener)c.addListener(I);else throw Error("addEventListener and attachEvent are unavailable.");return v}function ao(){function c(v){return _.call(c.src,c.listener,v)}const _=Lu;return c}function Da(c,_,v,I,U){if(Array.isArray(_))for(var H=0;H<_.length;H++)Da(c,_[H],v,I,U);else I=d(I)?!!I.capture:!!I,v=xa(v),c&&c[F]?(c=c.i,H=String(_).toString(),H in c.g&&(_=c.g[H],v=Me(_,v,I,U),v>-1&&(q(_[v]),Array.prototype.splice.call(_,v,1),_.length==0&&(delete c.g[H],c.h--)))):c&&(c=uo(c))&&(_=c.g[_.toString()],c=-1,_&&(c=Me(_,v,I,U)),(v=c>-1?_[c]:null)&&yi(v))}function yi(c){if(typeof c!="number"&&c&&!c.da){var _=c.src;if(_&&_[F])Ve(_.i,c);else{var v=c.type,I=c.proxy;_.removeEventListener?_.removeEventListener(v,I,c.capture):_.detachEvent?_.detachEvent(lo(v),I):_.addListener&&_.removeListener&&_.removeListener(I),(v=uo(_))?(Ve(v,c),v.h==0&&(v.src=null,_[Ge]=null)):q(c)}}}function lo(c){return c in $e?$e[c]:$e[c]="on"+c}function Lu(c,_){if(c.da)c=!0;else{_=new Ne(_,this);const v=c.listener,I=c.ha||c.src;c.fa&&yi(c),c=v.call(I,_)}return c}function uo(c){return c=c[Ge],c instanceof Ce?c:null}var fs="__closure_events_fn_"+(Math.random()*1e9>>>0);function xa(c){return typeof c=="function"?c:(c[fs]||(c[fs]=function(_){return c.handleEvent(_)}),c[fs])}function Tt(){x.call(this),this.i=new Ce(this),this.M=this,this.G=null}w(Tt,x),Tt.prototype[F]=!0,Tt.prototype.removeEventListener=function(c,_,v,I){Da(this,c,_,v,I)};function _t(c,_){var v,I=c.G;if(I)for(v=[];I;I=I.G)v.push(I);if(c=c.M,I=_.type||_,typeof _=="string")_=new O(_,c);else if(_ instanceof O)_.target=_.target||c;else{var U=_;_=new O(I,c),Te(_,U)}U=!0;let H,se;if(v)for(se=v.length-1;se>=0;se--)H=_.g=v[se],U=Wn(H,I,!0,_)&&U;if(H=_.g=c,U=Wn(H,I,!0,_)&&U,U=Wn(H,I,!1,_)&&U,v)for(se=0;se<v.length;se++)H=_.g=v[se],U=Wn(H,I,!1,_)&&U}Tt.prototype.N=function(){if(Tt.Z.N.call(this),this.i){var c=this.i;for(const _ in c.g){const v=c.g[_];for(let I=0;I<v.length;I++)q(v[I]);delete c.g[_],c.h--}}this.G=null},Tt.prototype.J=function(c,_,v,I){return this.i.add(String(c),_,!1,v,I)},Tt.prototype.K=function(c,_,v,I){return this.i.add(String(c),_,!0,v,I)};function Wn(c,_,v,I){if(_=c.i.g[String(_)],!_)return!0;_=_.concat();let U=!0;for(let H=0;H<_.length;++H){const se=_[H];if(se&&!se.da&&se.capture==v){const De=se.listener,vt=se.ha||se.src;se.fa&&Ve(c.i,se),U=De.call(vt,I)!==!1&&U}}return U&&!I.defaultPrevented}function La(c,_){if(typeof c!="function")if(c&&typeof c.handleEvent=="function")c=m(c.handleEvent,c);else throw Error("Invalid listener argument");return Number(_)>2147483647?-1:u.setTimeout(c,_||0)}function Va(c){c.g=La(()=>{c.g=null,c.i&&(c.i=!1,Va(c))},c.l);const _=c.h;c.h=null,c.m.apply(null,_)}class Vu extends x{constructor(_,v){super(),this.m=_,this.l=v,this.h=null,this.i=!1,this.g=null}j(_){this.h=arguments,this.g?this.i=!0:Va(this)}N(){super.N(),this.g&&(u.clearTimeout(this.g),this.g=null,this.i=!1,this.h=null)}}function _i(c){x.call(this),this.h=c,this.g={}}w(_i,x);var Ma=[];function co(c){ie(c.g,function(_,v){this.g.hasOwnProperty(v)&&yi(_)},c),c.g={}}_i.prototype.N=function(){_i.Z.N.call(this),co(this)},_i.prototype.handleEvent=function(){throw Error("EventHandler.handleEvent not implemented")};var vi=u.JSON.stringify,Mu=u.JSON.parse,ps=class{stringify(c){return u.JSON.stringify(c,void 0)}parse(c){return u.JSON.parse(c,void 0)}};function Ei(){}function Uu(){}var wi={OPEN:"a",hb:"b",ERROR:"c",tb:"d"};function ho(){O.call(this,"d")}w(ho,O);function Ua(){O.call(this,"c")}w(Ua,O);var Gn={},fo=null;function Ti(){return fo=fo||new Tt}Gn.Ia="serverreachability";function po(c){O.call(this,Gn.Ia,c)}w(po,O);function Lr(c){const _=Ti();_t(_,new po(_))}Gn.STAT_EVENT="statevent";function Vr(c,_){O.call(this,Gn.STAT_EVENT,c),this.stat=_}w(Vr,O);function ht(c){const _=Ti();_t(_,new Vr(_,c))}Gn.Ja="timingevent";function Fa(c,_){O.call(this,Gn.Ja,c),this.size=_}w(Fa,O);function Ii(c,_){if(typeof c!="function")throw Error("Fn must not be null and must be a function");return u.setTimeout(function(){c()},_)}function Si(){this.g=!0}Si.prototype.ua=function(){this.g=!1};function Fu(c,_,v,I,U,H){c.info(function(){if(c.g)if(H){var se="",De=H.split("&");for(let Qe=0;Qe<De.length;Qe++){var vt=De[Qe].split("=");if(vt.length>1){const It=vt[0];vt=vt[1];const An=It.split("_");se=An.length>=2&&An[1]=="type"?se+(It+"="+vt+"&"):se+(It+"=redacted&")}}}else se=null;else se=H;return"XMLHTTP REQ ("+I+") [attempt "+U+"]: "+_+`
`+v+`
`+se})}function ju(c,_,v,I,U,H,se){c.info(function(){return"XMLHTTP RESP ("+I+") [ attempt "+U+"]: "+_+`
`+v+`
`+H+" "+se})}function ar(c,_,v,I){c.info(function(){return"XMLHTTP TEXT ("+_+"): "+ms(c,v)+(I?" "+I:"")})}function zu(c,_){c.info(function(){return"TIMEOUT: "+_})}Si.prototype.info=function(){};function ms(c,_){if(!c.g)return _;if(!_)return null;try{const H=JSON.parse(_);if(H){for(c=0;c<H.length;c++)if(Array.isArray(H[c])){var v=H[c];if(!(v.length<2)){var I=v[1];if(Array.isArray(I)&&!(I.length<1)){var U=I[0];if(U!="noop"&&U!="stop"&&U!="close")for(let se=1;se<I.length;se++)I[se]=""}}}}return vi(H)}catch{return _}}var Ai={NO_ERROR:0,cb:1,qb:2,pb:3,kb:4,ob:5,rb:6,Ga:7,TIMEOUT:8,ub:9},Ri={ib:"complete",Fb:"success",ERROR:"error",Ga:"abort",xb:"ready",yb:"readystatechange",TIMEOUT:"timeout",sb:"incrementaldata",wb:"progress",lb:"downloadprogress",Nb:"uploadprogress"},Bu;function Mr(){}w(Mr,Ei),Mr.prototype.g=function(){return new XMLHttpRequest},Bu=new Mr;function lr(c){return encodeURIComponent(String(c))}function mo(c){var _=1;c=c.split(":");const v=[];for(;_>0&&c.length;)v.push(c.shift()),_--;return c.length&&v.push(c.join(":")),v}function xn(c,_,v,I){this.j=c,this.i=_,this.l=v,this.S=I||1,this.V=new _i(this),this.H=45e3,this.J=null,this.o=!1,this.u=this.B=this.A=this.M=this.F=this.T=this.D=null,this.G=[],this.g=null,this.C=0,this.m=this.v=null,this.X=-1,this.K=!1,this.P=0,this.O=null,this.W=this.L=this.U=this.R=!1,this.h=new $u}function $u(){this.i=null,this.g="",this.h=!1}var Hu={},ja={};function Kn(c,_,v){c.M=1,c.A=Fr(Ln(_)),c.u=v,c.R=!0,za(c,null)}function za(c,_){c.F=Date.now(),gs(c),c.B=Ln(c.A);var v=c.B,I=c.S;Array.isArray(I)||(I=[String(I)]),Ja(v.i,"t",I),c.C=0,v=c.j.L,c.h=new $u,c.g=ec(c.j,v?_:null,!c.u),c.P>0&&(c.O=new Vu(m(c.Y,c,c.g),c.P)),_=c.V,v=c.g,I=c.ba;var U="readystatechange";Array.isArray(U)||(U&&(Ma[0]=U.toString()),U=Ma);for(let H=0;H<U.length;H++){const se=Ye(v,U[H],I||_.handleEvent,!1,_.h||_);if(!se)break;_.g[se.key]=se}_=c.J?L(c.J):{},c.u?(c.v||(c.v="POST"),_["Content-Type"]="application/x-www-form-urlencoded",c.g.ea(c.B,c.v,c.u,_)):(c.v="GET",c.g.ea(c.B,c.v,null,_)),Lr(),Fu(c.i,c.v,c.B,c.l,c.S,c.u)}xn.prototype.ba=function(c){c=c.target;const _=this.O;_&&mr(c)==3?_.j():this.Y(c)},xn.prototype.Y=function(c){try{if(c==this.g)e:{const De=mr(this.g),vt=this.g.ya(),Qe=this.g.ca();if(!(De<3)&&(De!=3||this.g&&(this.h.h||this.g.la()||Xu(this.g)))){this.K||De!=4||vt==7||(vt==8||Qe<=0?Lr(3):Lr(2)),go(this);var _=this.g.ca();this.X=_;var v=qu(this);if(this.o=_==200,ju(this.i,this.v,this.B,this.l,this.S,De,_),this.o){if(this.U&&!this.L){t:{if(this.g){var I,U=this.g;if((I=U.g?U.g.getResponseHeader("X-HTTP-Initial-Response"):null)&&!P(I)){var H=I;break t}}H=null}if(c=H)ar(this.i,this.l,c,"Initial handshake response via X-HTTP-Initial-Response"),this.L=!0,et(this,c);else{this.o=!1,this.m=3,ht(12),Ur(this),ys(this);break e}}if(this.R){c=!0;let It;for(;!this.K&&this.C<v.length;)if(It=Gu(this,v),It==ja){De==4&&(this.m=4,ht(14),c=!1),ar(this.i,this.l,null,"[Incomplete Response]");break}else if(It==Hu){this.m=4,ht(15),ar(this.i,this.l,v,"[Invalid Chunk]"),c=!1;break}else ar(this.i,this.l,It,null),et(this,It);if(Wu(this)&&this.C!=0&&(this.h.g=this.h.g.slice(this.C),this.C=0),De!=4||v.length!=0||this.h.h||(this.m=1,ht(16),c=!1),this.o=this.o&&c,!c)ar(this.i,this.l,v,"[Invalid Chunked Response]"),Ur(this),ys(this);else if(v.length>0&&!this.W){this.W=!0;var se=this.j;se.g==this&&se.aa&&!se.P&&(se.j.info("Great, no buffering proxy detected. Bytes received: "+v.length),Rs(se),se.P=!0,ht(11))}}else ar(this.i,this.l,v,null),et(this,v);De==4&&Ur(this),this.o&&!this.K&&(De==4?Ro(this.j,this):(this.o=!1,gs(this)))}else Za(this.g),_==400&&v.indexOf("Unknown SID")>0?(this.m=3,ht(12)):(this.m=0,ht(13)),Ur(this),ys(this)}}}catch{}};function qu(c){if(!Wu(c))return c.g.la();const _=Xu(c.g);if(_==="")return"";let v="";const I=_.length,U=mr(c.g)==4;if(!c.h.i){if(typeof TextDecoder>"u")return Ur(c),ys(c),"";c.h.i=new u.TextDecoder}for(let H=0;H<I;H++)c.h.h=!0,v+=c.h.i.decode(_[H],{stream:!(U&&H==I-1)});return _.length=0,c.h.g+=v,c.C=0,c.h.g}function Wu(c){return c.g?c.v=="GET"&&c.M!=2&&c.j.Aa:!1}function Gu(c,_){var v=c.C,I=_.indexOf(`
`,v);return I==-1?ja:(v=Number(_.substring(v,I)),isNaN(v)?Hu:(I+=1,I+v>_.length?ja:(_=_.slice(I,I+v),c.C=I+v,_)))}xn.prototype.cancel=function(){this.K=!0,Ur(this)};function gs(c){c.T=Date.now()+c.H,Ba(c,c.H)}function Ba(c,_){if(c.D!=null)throw Error("WatchDog timer not null");c.D=Ii(m(c.aa,c),_)}function go(c){c.D&&(u.clearTimeout(c.D),c.D=null)}xn.prototype.aa=function(){this.D=null;const c=Date.now();c-this.T>=0?(zu(this.i,this.B),this.M!=2&&(Lr(),ht(17)),Ur(this),this.m=2,ys(this)):Ba(this,this.T-c)};function ys(c){c.j.I==0||c.K||Ro(c.j,c)}function Ur(c){go(c);var _=c.O;_&&typeof _.dispose=="function"&&_.dispose(),c.O=null,co(c.V),c.g&&(_=c.g,c.g=null,_.abort(),_.dispose())}function et(c,_){try{var v=c.j;if(v.I!=0&&(v.g==c||Ha(v.h,c))){if(!c.L&&Ha(v.h,c)&&v.I==3){try{var I=v.Ba.g.parse(_)}catch{I=null}if(Array.isArray(I)&&I.length==3){var U=I;if(U[0]==0){e:if(!v.v){if(v.g)if(v.g.F+3e3<c.F)Ao(v),In(v);else break e;_r(v),ht(18)}}else v.xa=U[1],0<v.xa-v.K&&U[2]<37500&&v.F&&v.A==0&&!v.C&&(v.C=Ii(m(v.Va,v),6e3));_s(v.h)<=1&&v.ta&&(v.ta=void 0)}else Sn(v,11)}else if((c.L||v.g==c)&&Ao(v),!P(_))for(U=v.Ba.g.parse(_),_=0;_<U.length;_++){let Qe=U[_];const It=Qe[0];if(!(It<=v.K))if(v.K=It,Qe=Qe[1],v.I==2)if(Qe[0]=="c"){v.M=Qe[1],v.ba=Qe[2];const An=Qe[3];An!=null&&(v.ka=An,v.j.info("VER="+v.ka));const Hr=Qe[4];Hr!=null&&(v.za=Hr,v.j.info("SVER="+v.za));const vr=Qe[5];vr!=null&&typeof vr=="number"&&vr>0&&(I=1.5*vr,v.O=I,v.j.info("backChannelRequestTimeoutMs_="+I)),I=v;const Er=c.g;if(Er){const ko=Er.g?Er.g.getResponseHeader("X-Client-Wire-Protocol"):null;if(ko){var H=I.h;H.g||ko.indexOf("spdy")==-1&&ko.indexOf("quic")==-1&&ko.indexOf("h2")==-1||(H.j=H.l,H.g=new Set,H.h&&(_o(H,H.h),H.h=null))}if(I.G){const nl=Er.g?Er.g.getResponseHeader("X-HTTP-Session-Id"):null;nl&&(I.wa=nl,We(I.J,I.G,nl))}}v.I=3,v.l&&v.l.ra(),v.aa&&(v.T=Date.now()-c.F,v.j.info("Handshake RTT: "+v.T+"ms")),I=v;var se=c;if(I.na=tl(I,I.L?I.ba:null,I.W),se.L){vs(I.h,se);var De=se,vt=I.O;vt&&(De.H=vt),De.D&&(go(De),gs(De)),I.g=se}else Ht(I);v.i.length>0&&$r(v)}else Qe[0]!="stop"&&Qe[0]!="close"||Sn(v,7);else v.I==3&&(Qe[0]=="stop"||Qe[0]=="close"?Qe[0]=="stop"?Sn(v,7):Io(v):Qe[0]!="noop"&&v.l&&v.l.qa(Qe),v.A=0)}}Lr(4)}catch{}}var bd=class{constructor(c,_){this.g=c,this.map=_}};function yo(c){this.l=c||10,u.PerformanceNavigationTiming?(c=u.performance.getEntriesByType("navigation"),c=c.length>0&&(c[0].nextHopProtocol=="hq"||c[0].nextHopProtocol=="h2")):c=!!(u.chrome&&u.chrome.loadTimes&&u.chrome.loadTimes()&&u.chrome.loadTimes().wasFetchedViaSpdy),this.j=c?this.l:1,this.g=null,this.j>1&&(this.g=new Set),this.h=null,this.i=[]}function $a(c){return c.h?!0:c.g?c.g.size>=c.j:!1}function _s(c){return c.h?1:c.g?c.g.size:0}function Ha(c,_){return c.h?c.h==_:c.g?c.g.has(_):!1}function _o(c,_){c.g?c.g.add(_):c.h=_}function vs(c,_){c.h&&c.h==_?c.h=null:c.g&&c.g.has(_)&&c.g.delete(_)}yo.prototype.cancel=function(){if(this.i=En(this),this.h)this.h.cancel(),this.h=null;else if(this.g&&this.g.size!==0){for(const c of this.g.values())c.cancel();this.g.clear()}};function En(c){if(c.h!=null)return c.i.concat(c.h.G);if(c.g!=null&&c.g.size!==0){let _=c.i;for(const v of c.g.values())_=_.concat(v.G);return _}return R(c.i)}var Ku=RegExp("^(?:([^:/?#.]+):)?(?://(?:([^\\\\/?#]*)@)?([^\\\\/?#]*?)(?::([0-9]+))?(?=[\\\\/?#]|$))?([^?#]+)?(?:\\?([^#]*))?(?:#([\\s\\S]*))?$");function wn(c,_){if(c){c=c.split("&");for(let v=0;v<c.length;v++){const I=c[v].indexOf("=");let U,H=null;I>=0?(U=c[v].substring(0,I),H=c[v].substring(I+1)):U=c[v],_(U,H?decodeURIComponent(H.replace(/\+/g," ")):"")}}}function ur(c){this.g=this.o=this.j="",this.u=null,this.m=this.h="",this.l=!1;let _;c instanceof ur?(this.l=c.l,Es(this,c.j),this.o=c.o,this.g=c.g,cr(this,c.u),this.h=c.h,Pi(this,Xa(c.i)),this.m=c.m):c&&(_=String(c).match(Ku))?(this.l=!1,Es(this,_[1]||"",!0),this.o=ws(_[2]||""),this.g=ws(_[3]||"",!0),cr(this,_[4]),this.h=ws(_[5]||"",!0),Pi(this,_[6]||"",!0),this.m=ws(_[7]||"")):(this.l=!1,this.i=new ze(null,this.l))}ur.prototype.toString=function(){const c=[];var _=this.j;_&&c.push(Ts(_,Wa,!0),":");var v=this.g;return(v||_=="file")&&(c.push("//"),(_=this.o)&&c.push(Ts(_,Wa,!0),"@"),c.push(lr(v).replace(/%25([0-9a-fA-F]{2})/g,"%$1")),v=this.u,v!=null&&c.push(":",String(v))),(v=this.h)&&(this.g&&v.charAt(0)!="/"&&c.push("/"),c.push(Ts(v,v.charAt(0)=="/"?Is:Ga,!0))),(v=this.i.toString())&&c.push("?",v),(v=this.m)&&c.push("#",Ts(v,Ka)),c.join("")},ur.prototype.resolve=function(c){const _=Ln(this);let v=!!c.j;v?Es(_,c.j):v=!!c.o,v?_.o=c.o:v=!!c.g,v?_.g=c.g:v=c.u!=null;var I=c.h;if(v)cr(_,c.u);else if(v=!!c.h){if(I.charAt(0)!="/")if(this.g&&!this.h)I="/"+I;else{var U=_.h.lastIndexOf("/");U!=-1&&(I=_.h.slice(0,U+1)+I)}if(U=I,U==".."||U==".")I="";else if(U.indexOf("./")!=-1||U.indexOf("/.")!=-1){I=U.lastIndexOf("/",0)==0,U=U.split("/");const H=[];for(let se=0;se<U.length;){const De=U[se++];De=="."?I&&se==U.length&&H.push(""):De==".."?((H.length>1||H.length==1&&H[0]!="")&&H.pop(),I&&se==U.length&&H.push("")):(H.push(De),I=!0)}I=H.join("/")}else I=U}return v?_.h=I:v=c.i.toString()!=="",v?Pi(_,Xa(c.i)):v=!!c.m,v&&(_.m=c.m),_};function Ln(c){return new ur(c)}function Es(c,_,v){c.j=v?ws(_,!0):_,c.j&&(c.j=c.j.replace(/:$/,""))}function cr(c,_){if(_){if(_=Number(_),isNaN(_)||_<0)throw Error("Bad port number "+_);c.u=_}else c.u=null}function Pi(c,_,v){_ instanceof ze?(c.i=_,Eo(c.i,c.l)):(v||(_=Ts(_,Od)),c.i=new ze(_,c.l))}function We(c,_,v){c.i.set(_,v)}function Fr(c){return We(c,"zx",Math.floor(Math.random()*2147483648).toString(36)+Math.abs(Math.floor(Math.random()*2147483648)^Date.now()).toString(36)),c}function ws(c,_){return c?_?decodeURI(c.replace(/%25/g,"%2525")):decodeURIComponent(c):""}function Ts(c,_,v){return typeof c=="string"?(c=encodeURI(c).replace(_,qa),v&&(c=c.replace(/%25([0-9a-fA-F]{2})/g,"%$1")),c):null}function qa(c){return c=c.charCodeAt(0),"%"+(c>>4&15).toString(16)+(c&15).toString(16)}var Wa=/[#\/\?@]/g,Ga=/[#\?:]/g,Is=/[#\?]/g,Od=/[#\?@]/g,Ka=/#/g;function ze(c,_){this.h=this.g=null,this.i=c||null,this.j=!!_}function hr(c){c.g||(c.g=new Map,c.h=0,c.i&&wn(c.i,function(_,v){c.add(decodeURIComponent(_.replace(/\+/g," ")),v)}))}n=ze.prototype,n.add=function(c,_){hr(this),this.i=null,c=dr(this,c);let v=this.g.get(c);return v||this.g.set(c,v=[]),v.push(_),this.h+=1,this};function Qa(c,_){hr(c),_=dr(c,_),c.g.has(_)&&(c.i=null,c.h-=c.g.get(_).length,c.g.delete(_))}function vo(c,_){return hr(c),_=dr(c,_),c.g.has(_)}n.forEach=function(c,_){hr(this),this.g.forEach(function(v,I){v.forEach(function(U){c.call(_,U,I,this)},this)},this)};function Ya(c,_){hr(c);let v=[];if(typeof _=="string")vo(c,_)&&(v=v.concat(c.g.get(dr(c,_))));else for(c=Array.from(c.g.values()),_=0;_<c.length;_++)v=v.concat(c[_]);return v}n.set=function(c,_){return hr(this),this.i=null,c=dr(this,c),vo(this,c)&&(this.h-=this.g.get(c).length),this.g.set(c,[_]),this.h+=1,this},n.get=function(c,_){return c?(c=Ya(this,c),c.length>0?String(c[0]):_):_};function Ja(c,_,v){Qa(c,_),v.length>0&&(c.i=null,c.g.set(dr(c,_),R(v)),c.h+=v.length)}n.toString=function(){if(this.i)return this.i;if(!this.g)return"";const c=[],_=Array.from(this.g.keys());for(let I=0;I<_.length;I++){var v=_[I];const U=lr(v);v=Ya(this,v);for(let H=0;H<v.length;H++){let se=U;v[H]!==""&&(se+="="+lr(v[H])),c.push(se)}}return this.i=c.join("&")};function Xa(c){const _=new ze;return _.i=c.i,c.g&&(_.g=new Map(c.g),_.h=c.h),_}function dr(c,_){return _=String(_),c.j&&(_=_.toLowerCase()),_}function Eo(c,_){_&&!c.j&&(hr(c),c.i=null,c.g.forEach(function(v,I){const U=I.toLowerCase();I!=U&&(Qa(this,I),Ja(this,U,v))},c)),c.j=_}function fr(c,_){const v=new Si;if(u.Image){const I=new Image;I.onload=g(Mt,v,"TestLoadImage: loaded",!0,_,I),I.onerror=g(Mt,v,"TestLoadImage: error",!1,_,I),I.onabort=g(Mt,v,"TestLoadImage: abort",!1,_,I),I.ontimeout=g(Mt,v,"TestLoadImage: timeout",!1,_,I),u.setTimeout(function(){I.ontimeout&&I.ontimeout()},1e4),I.src=c}else _(!1)}function pr(c,_){const v=new Si,I=new AbortController,U=setTimeout(()=>{I.abort(),Mt(v,"TestPingServer: timeout",!1,_)},1e4);fetch(c,{signal:I.signal}).then(H=>{clearTimeout(U),H.ok?Mt(v,"TestPingServer: ok",!0,_):Mt(v,"TestPingServer: server error",!1,_)}).catch(()=>{clearTimeout(U),Mt(v,"TestPingServer: error",!1,_)})}function Mt(c,_,v,I,U){try{U&&(U.onload=null,U.onerror=null,U.onabort=null,U.ontimeout=null),I(v)}catch{}}function Ss(){this.g=new ps}function jr(c){this.i=c.Sb||null,this.h=c.ab||!1}w(jr,Ei),jr.prototype.g=function(){return new Tn(this.i,this.h)};function Tn(c,_){Tt.call(this),this.H=c,this.o=_,this.m=void 0,this.status=this.readyState=0,this.responseType=this.responseText=this.response=this.statusText="",this.onreadystatechange=null,this.A=new Headers,this.h=null,this.F="GET",this.D="",this.g=!1,this.B=this.j=this.l=null,this.v=new AbortController}w(Tn,Tt),n=Tn.prototype,n.open=function(c,_){if(this.readyState!=0)throw this.abort(),Error("Error reopening a connection");this.F=c,this.D=_,this.readyState=1,Qn(this)},n.send=function(c){if(this.readyState!=1)throw this.abort(),Error("need to call open() first. ");if(this.v.signal.aborted)throw this.abort(),Error("Request was aborted.");this.g=!0;const _={headers:this.A,method:this.F,credentials:this.m,cache:void 0,signal:this.v.signal};c&&(_.body=c),(this.H||u).fetch(new Request(this.D,_)).then(this.Pa.bind(this),this.ga.bind(this))},n.abort=function(){this.response=this.responseText="",this.A=new Headers,this.status=0,this.v.abort(),this.j&&this.j.cancel("Request was aborted.").catch(()=>{}),this.readyState>=1&&this.g&&this.readyState!=4&&(this.g=!1,Ci(this)),this.readyState=0},n.Pa=function(c){if(this.g&&(this.l=c,this.h||(this.status=this.l.status,this.statusText=this.l.statusText,this.h=c.headers,this.readyState=2,Qn(this)),this.g&&(this.readyState=3,Qn(this),this.g)))if(this.responseType==="arraybuffer")c.arrayBuffer().then(this.Na.bind(this),this.ga.bind(this));else if(typeof u.ReadableStream<"u"&&"body"in c){if(this.j=c.body.getReader(),this.o){if(this.responseType)throw Error('responseType must be empty for "streamBinaryChunks" mode responses.');this.response=[]}else this.response=this.responseText="",this.B=new TextDecoder;Qu(this)}else c.text().then(this.Oa.bind(this),this.ga.bind(this))};function Qu(c){c.j.read().then(c.Ma.bind(c)).catch(c.ga.bind(c))}n.Ma=function(c){if(this.g){if(this.o&&c.value)this.response.push(c.value);else if(!this.o){var _=c.value?c.value:new Uint8Array(0);(_=this.B.decode(_,{stream:!c.done}))&&(this.response=this.responseText+=_)}c.done?Ci(this):Qn(this),this.readyState==3&&Qu(this)}},n.Oa=function(c){this.g&&(this.response=this.responseText=c,Ci(this))},n.Na=function(c){this.g&&(this.response=c,Ci(this))},n.ga=function(){this.g&&Ci(this)};function Ci(c){c.readyState=4,c.l=null,c.j=null,c.B=null,Qn(c)}n.setRequestHeader=function(c,_){this.A.append(c,_)},n.getResponseHeader=function(c){return this.h&&this.h.get(c.toLowerCase())||""},n.getAllResponseHeaders=function(){if(!this.h)return"";const c=[],_=this.h.entries();for(var v=_.next();!v.done;)v=v.value,c.push(v[0]+": "+v[1]),v=_.next();return c.join(`\r
`)};function Qn(c){c.onreadystatechange&&c.onreadystatechange.call(c)}Object.defineProperty(Tn.prototype,"withCredentials",{get:function(){return this.m==="include"},set:function(c){this.m=c?"include":"same-origin"}});function Yu(c){let _="";return ie(c,function(v,I){_+=I,_+=":",_+=v,_+=`\r
`}),_}function wo(c,_,v){e:{for(I in v){var I=!1;break e}I=!0}I||(v=Yu(v),typeof c=="string"?v!=null&&lr(v):We(c,_,v))}function Je(c){Tt.call(this),this.headers=new Map,this.L=c||null,this.h=!1,this.g=null,this.D="",this.o=0,this.l="",this.j=this.B=this.v=this.A=!1,this.m=null,this.F="",this.H=!1}w(Je,Tt);var Ju=/^https?$/i,Nd=["POST","PUT"];n=Je.prototype,n.Fa=function(c){this.H=c},n.ea=function(c,_,v,I){if(this.g)throw Error("[goog.net.XhrIo] Object is active with another request="+this.D+"; newUri="+c);_=_?_.toUpperCase():"GET",this.D=c,this.l="",this.o=0,this.A=!1,this.h=!0,this.g=this.L?this.L.g():Bu.g(),this.g.onreadystatechange=E(m(this.Ca,this));try{this.B=!0,this.g.open(_,String(c),!0),this.B=!1}catch(H){ki(this,H);return}if(c=v||"",v=new Map(this.headers),I)if(Object.getPrototypeOf(I)===Object.prototype)for(var U in I)v.set(U,I[U]);else if(typeof I.keys=="function"&&typeof I.get=="function")for(const H of I.keys())v.set(H,I.get(H));else throw Error("Unknown input type for opt_headers: "+String(I));I=Array.from(v.keys()).find(H=>H.toLowerCase()=="content-type"),U=u.FormData&&c instanceof u.FormData,!(Array.prototype.indexOf.call(Nd,_,void 0)>=0)||I||U||v.set("Content-Type","application/x-www-form-urlencoded;charset=utf-8");for(const[H,se]of v)this.g.setRequestHeader(H,se);this.F&&(this.g.responseType=this.F),"withCredentials"in this.g&&this.g.withCredentials!==this.H&&(this.g.withCredentials=this.H);try{this.m&&(clearTimeout(this.m),this.m=null),this.v=!0,this.g.send(c),this.v=!1}catch(H){ki(this,H)}};function ki(c,_){c.h=!1,c.g&&(c.j=!0,c.g.abort(),c.j=!1),c.l=_,c.o=5,bi(c),Br(c)}function bi(c){c.A||(c.A=!0,_t(c,"complete"),_t(c,"error"))}n.abort=function(c){this.g&&this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1,this.o=c||7,_t(this,"complete"),_t(this,"abort"),Br(this))},n.N=function(){this.g&&(this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1),Br(this,!0)),Je.Z.N.call(this)},n.Ca=function(){this.u||(this.B||this.v||this.j?zr(this):this.Xa())},n.Xa=function(){zr(this)};function zr(c){if(c.h&&typeof a<"u"){if(c.v&&mr(c)==4)setTimeout(c.Ca.bind(c),0);else if(_t(c,"readystatechange"),mr(c)==4){c.h=!1;try{const H=c.ca();e:switch(H){case 200:case 201:case 202:case 204:case 206:case 304:case 1223:var _=!0;break e;default:_=!1}var v;if(!(v=_)){var I;if(I=H===0){let se=String(c.D).match(Ku)[1]||null;!se&&u.self&&u.self.location&&(se=u.self.location.protocol.slice(0,-1)),I=!Ju.test(se?se.toLowerCase():"")}v=I}if(v)_t(c,"complete"),_t(c,"success");else{c.o=6;try{var U=mr(c)>2?c.g.statusText:""}catch{U=""}c.l=U+" ["+c.ca()+"]",bi(c)}}finally{Br(c)}}}}function Br(c,_){if(c.g){c.m&&(clearTimeout(c.m),c.m=null);const v=c.g;c.g=null,_||_t(c,"ready");try{v.onreadystatechange=null}catch{}}}n.isActive=function(){return!!this.g};function mr(c){return c.g?c.g.readyState:0}n.ca=function(){try{return mr(this)>2?this.g.status:-1}catch{return-1}},n.la=function(){try{return this.g?this.g.responseText:""}catch{return""}},n.La=function(c){if(this.g){var _=this.g.responseText;return c&&_.indexOf(c)==0&&(_=_.substring(c.length)),Mu(_)}};function Xu(c){try{if(!c.g)return null;if("response"in c.g)return c.g.response;switch(c.F){case"":case"text":return c.g.responseText;case"arraybuffer":if("mozResponseArrayBuffer"in c.g)return c.g.mozResponseArrayBuffer}return null}catch{return null}}function Za(c){const _={};c=(c.g&&mr(c)>=2&&c.g.getAllResponseHeaders()||"").split(`\r
`);for(let I=0;I<c.length;I++){if(P(c[I]))continue;var v=mo(c[I]);const U=v[0];if(v=v[1],typeof v!="string")continue;v=v.trim();const H=_[U]||[];_[U]=H,H.push(v)}Y(_,function(I){return I.join(", ")})}n.ya=function(){return this.o},n.Ha=function(){return typeof this.l=="string"?this.l:String(this.l)};function gr(c,_,v){return v&&v.internalChannelParams&&v.internalChannelParams[c]||_}function To(c){this.za=0,this.i=[],this.j=new Si,this.ba=this.na=this.J=this.W=this.g=this.wa=this.G=this.H=this.u=this.U=this.o=null,this.Ya=this.V=0,this.Sa=gr("failFast",!1,c),this.F=this.C=this.v=this.m=this.l=null,this.X=!0,this.xa=this.K=-1,this.Y=this.A=this.D=0,this.Qa=gr("baseRetryDelayMs",5e3,c),this.Za=gr("retryDelaySeedMs",1e4,c),this.Ta=gr("forwardChannelMaxRetries",2,c),this.va=gr("forwardChannelRequestTimeoutMs",2e4,c),this.ma=c&&c.xmlHttpFactory||void 0,this.Ua=c&&c.Rb||void 0,this.Aa=c&&c.useFetchStreams||!1,this.O=void 0,this.L=c&&c.supportsCrossDomainXhr||!1,this.M="",this.h=new yo(c&&c.concurrentRequestLimit),this.Ba=new Ss,this.S=c&&c.fastHandshake||!1,this.R=c&&c.encodeInitMessageHeaders||!1,this.S&&this.R&&(this.R=!1),this.Ra=c&&c.Pb||!1,c&&c.ua&&this.j.ua(),c&&c.forceLongPolling&&(this.X=!1),this.aa=!this.S&&this.X&&c&&c.detectBufferingProxy||!1,this.ia=void 0,c&&c.longPollingTimeout&&c.longPollingTimeout>0&&(this.ia=c.longPollingTimeout),this.ta=void 0,this.T=0,this.P=!1,this.ja=this.B=null}n=To.prototype,n.ka=8,n.I=1,n.connect=function(c,_,v,I){ht(0),this.W=c,this.H=_||{},v&&I!==void 0&&(this.H.OSID=v,this.H.OAID=I),this.F=this.X,this.J=tl(this,null,this.W),$r(this)};function Io(c){if(So(c),c.I==3){var _=c.V++,v=Ln(c.J);if(We(v,"SID",c.M),We(v,"RID",_),We(v,"TYPE","terminate"),yr(c,v),_=new xn(c,c.j,_),_.M=2,_.A=Fr(Ln(v)),v=!1,u.navigator&&u.navigator.sendBeacon)try{v=u.navigator.sendBeacon(_.A.toString(),"")}catch{}!v&&u.Image&&(new Image().src=_.A,v=!0),v||(_.g=ec(_.j,null),_.g.ea(_.A)),_.F=Date.now(),gs(_)}Ps(c)}function In(c){c.g&&(Rs(c),c.g.cancel(),c.g=null)}function So(c){In(c),c.v&&(u.clearTimeout(c.v),c.v=null),Ao(c),c.h.cancel(),c.m&&(typeof c.m=="number"&&u.clearTimeout(c.m),c.m=null)}function $r(c){if(!$a(c.h)&&!c.m){c.m=!0;var _=c.Ea;we||S(),pe||(we(),pe=!0),k.add(_,c),c.D=0}}function Zu(c,_){return _s(c.h)>=c.h.j-(c.m?1:0)?!1:c.m?(c.i=_.G.concat(c.i),!0):c.I==1||c.I==2||c.D>=(c.Sa?0:c.Ta)?!1:(c.m=Ii(m(c.Ea,c,_),Po(c,c.D)),c.D++,!0)}n.Ea=function(c){if(this.m)if(this.m=null,this.I==1){if(!c){this.V=Math.floor(Math.random()*1e5),c=this.V++;const U=new xn(this,this.j,c);let H=this.o;if(this.U&&(H?(H=L(H),Te(H,this.U)):H=this.U),this.u!==null||this.R||(U.J=H,H=null),this.S)e:{for(var _=0,v=0;v<this.i.length;v++){t:{var I=this.i[v];if("__data__"in I.map&&(I=I.map.__data__,typeof I=="string")){I=I.length;break t}I=void 0}if(I===void 0)break;if(_+=I,_>4096){_=v;break e}if(_===4096||v===this.i.length-1){_=v+1;break e}}_=1e3}else _=1e3;_=el(this,U,_),v=Ln(this.J),We(v,"RID",c),We(v,"CVER",22),this.G&&We(v,"X-HTTP-Session-Id",this.G),yr(this,v),H&&(this.R?_="headers="+lr(Yu(H))+"&"+_:this.u&&wo(v,this.u,H)),_o(this.h,U),this.Ra&&We(v,"TYPE","init"),this.S?(We(v,"$req",_),We(v,"SID","null"),U.U=!0,Kn(U,v,null)):Kn(U,v,_),this.I=2}}else this.I==3&&(c?As(this,c):this.i.length==0||$a(this.h)||As(this))};function As(c,_){var v;_?v=_.l:v=c.V++;const I=Ln(c.J);We(I,"SID",c.M),We(I,"RID",v),We(I,"AID",c.K),yr(c,I),c.u&&c.o&&wo(I,c.u,c.o),v=new xn(c,c.j,v,c.D+1),c.u===null&&(v.J=c.o),_&&(c.i=_.G.concat(c.i)),_=el(c,v,1e3),v.H=Math.round(c.va*.5)+Math.round(c.va*.5*Math.random()),_o(c.h,v),Kn(v,I,_)}function yr(c,_){c.H&&ie(c.H,function(v,I){We(_,I,v)}),c.l&&ie({},function(v,I){We(_,I,v)})}function el(c,_,v){v=Math.min(c.i.length,v);const I=c.l?m(c.l.Ka,c.l,c):null;e:{var U=c.i;let De=-1;for(;;){const vt=["count="+v];De==-1?v>0?(De=U[0].g,vt.push("ofs="+De)):De=0:vt.push("ofs="+De);let Qe=!0;for(let It=0;It<v;It++){var H=U[It].g;const An=U[It].map;if(H-=De,H<0)De=Math.max(0,U[It].g-100),Qe=!1;else try{H="req"+H+"_"||"";try{var se=An instanceof Map?An:Object.entries(An);for(const[Hr,vr]of se){let Er=vr;d(vr)&&(Er=vi(vr)),vt.push(H+Hr+"="+encodeURIComponent(Er))}}catch(Hr){throw vt.push(H+"type="+encodeURIComponent("_badmap")),Hr}}catch{I&&I(An)}}if(Qe){se=vt.join("&");break e}}se=void 0}return c=c.i.splice(0,v),_.G=c,se}function Ht(c){if(!c.g&&!c.v){c.Y=1;var _=c.Da;we||S(),pe||(we(),pe=!0),k.add(_,c),c.A=0}}function _r(c){return c.g||c.v||c.A>=3?!1:(c.Y++,c.v=Ii(m(c.Da,c),Po(c,c.A)),c.A++,!0)}n.Da=function(){if(this.v=null,Oi(this),this.aa&&!(this.P||this.g==null||this.T<=0)){var c=4*this.T;this.j.info("BP detection timer enabled: "+c),this.B=Ii(m(this.Wa,this),c)}},n.Wa=function(){this.B&&(this.B=null,this.j.info("BP detection timeout reached."),this.j.info("Buffering proxy detected and switch to long-polling!"),this.F=!1,this.P=!0,ht(10),In(this),Oi(this))};function Rs(c){c.B!=null&&(u.clearTimeout(c.B),c.B=null)}function Oi(c){c.g=new xn(c,c.j,"rpc",c.Y),c.u===null&&(c.g.J=c.o),c.g.P=0;var _=Ln(c.na);We(_,"RID","rpc"),We(_,"SID",c.M),We(_,"AID",c.K),We(_,"CI",c.F?"0":"1"),!c.F&&c.ia&&We(_,"TO",c.ia),We(_,"TYPE","xmlhttp"),yr(c,_),c.u&&c.o&&wo(_,c.u,c.o),c.O&&(c.g.H=c.O);var v=c.g;c=c.ba,v.M=1,v.A=Fr(Ln(_)),v.u=null,v.R=!0,za(v,c)}n.Va=function(){this.C!=null&&(this.C=null,In(this),_r(this),ht(19))};function Ao(c){c.C!=null&&(u.clearTimeout(c.C),c.C=null)}function Ro(c,_){var v=null;if(c.g==_){Ao(c),Rs(c),c.g=null;var I=2}else if(Ha(c.h,_))v=_.G,vs(c.h,_),I=1;else return;if(c.I!=0){if(_.o)if(I==1){v=_.u?_.u.length:0,_=Date.now()-_.F;var U=c.D;I=Ti(),_t(I,new Fa(I,v)),$r(c)}else Ht(c);else if(U=_.m,U==3||U==0&&_.X>0||!(I==1&&Zu(c,_)||I==2&&_r(c)))switch(v&&v.length>0&&(_=c.h,_.i=_.i.concat(v)),U){case 1:Sn(c,5);break;case 4:Sn(c,10);break;case 3:Sn(c,6);break;default:Sn(c,2)}}}function Po(c,_){let v=c.Qa+Math.floor(Math.random()*c.Za);return c.isActive()||(v*=2),v*_}function Sn(c,_){if(c.j.info("Error code "+_),_==2){var v=m(c.bb,c),I=c.Ua;const U=!I;I=new ur(I||"//www.google.com/images/cleardot.gif"),u.location&&u.location.protocol=="http"||Es(I,"https"),Fr(I),U?fr(I.toString(),v):pr(I.toString(),v)}else ht(2);c.I=0,c.l&&c.l.pa(_),Ps(c),So(c)}n.bb=function(c){c?(this.j.info("Successfully pinged google.com"),ht(2)):(this.j.info("Failed to ping google.com"),ht(1))};function Ps(c){if(c.I=0,c.ja=[],c.l){const _=En(c.h);(_.length!=0||c.i.length!=0)&&(V(c.ja,_),V(c.ja,c.i),c.h.i.length=0,R(c.i),c.i.length=0),c.l.oa()}}function tl(c,_,v){var I=v instanceof ur?Ln(v):new ur(v);if(I.g!="")_&&(I.g=_+"."+I.g),cr(I,I.u);else{var U=u.location;I=U.protocol,_=_?_+"."+U.hostname:U.hostname,U=+U.port;const H=new ur(null);I&&Es(H,I),_&&(H.g=_),U&&cr(H,U),v&&(H.h=v),I=H}return v=c.G,_=c.wa,v&&_&&We(I,v,_),We(I,"VER",c.ka),yr(c,I),I}function ec(c,_,v){if(_&&!c.L)throw Error("Can't create secondary domain capable XhrIo object.");return _=c.Aa&&!c.ma?new Je(new jr({ab:v})):new Je(c.ma),_.Fa(c.L),_}n.isActive=function(){return!!this.l&&this.l.isActive(this)};function tc(){}n=tc.prototype,n.ra=function(){},n.qa=function(){},n.pa=function(){},n.oa=function(){},n.isActive=function(){return!0},n.Ka=function(){};function Co(){}Co.prototype.g=function(c,_){return new Ut(c,_)};function Ut(c,_){Tt.call(this),this.g=new To(_),this.l=c,this.h=_&&_.messageUrlParams||null,c=_&&_.messageHeaders||null,_&&_.clientProtocolHeaderRequired&&(c?c["X-Client-Protocol"]="webchannel":c={"X-Client-Protocol":"webchannel"}),this.g.o=c,c=_&&_.initMessageHeaders||null,_&&_.messageContentType&&(c?c["X-WebChannel-Content-Type"]=_.messageContentType:c={"X-WebChannel-Content-Type":_.messageContentType}),_&&_.sa&&(c?c["X-WebChannel-Client-Profile"]=_.sa:c={"X-WebChannel-Client-Profile":_.sa}),this.g.U=c,(c=_&&_.Qb)&&!P(c)&&(this.g.u=c),this.A=_&&_.supportsCrossDomainXhr||!1,this.v=_&&_.sendRawJson||!1,(_=_&&_.httpSessionIdParam)&&!P(_)&&(this.g.G=_,c=this.h,c!==null&&_ in c&&(c=this.h,_ in c&&delete c[_])),this.j=new Ni(this)}w(Ut,Tt),Ut.prototype.m=function(){this.g.l=this.j,this.A&&(this.g.L=!0),this.g.connect(this.l,this.h||void 0)},Ut.prototype.close=function(){Io(this.g)},Ut.prototype.o=function(c){var _=this.g;if(typeof c=="string"){var v={};v.__data__=c,c=v}else this.v&&(v={},v.__data__=vi(c),c=v);_.i.push(new bd(_.Ya++,c)),_.I==3&&$r(_)},Ut.prototype.N=function(){this.g.l=null,delete this.j,Io(this.g),delete this.g,Ut.Z.N.call(this)};function nc(c){ho.call(this),c.__headers__&&(this.headers=c.__headers__,this.statusCode=c.__status__,delete c.__headers__,delete c.__status__);var _=c.__sm__;if(_){e:{for(const v in _){c=v;break e}c=void 0}(this.i=c)&&(c=this.i,_=_!==null&&c in _?_[c]:void 0),this.data=_}else this.data=c}w(nc,ho);function rc(){Ua.call(this),this.status=1}w(rc,Ua);function Ni(c){this.g=c}w(Ni,tc),Ni.prototype.ra=function(){_t(this.g,"a")},Ni.prototype.qa=function(c){_t(this.g,new nc(c))},Ni.prototype.pa=function(c){_t(this.g,new rc)},Ni.prototype.oa=function(){_t(this.g,"b")},Co.prototype.createWebChannel=Co.prototype.g,Ut.prototype.send=Ut.prototype.o,Ut.prototype.open=Ut.prototype.m,Ut.prototype.close=Ut.prototype.close,AI=function(){return new Co},SI=function(){return Ti()},II=Gn,Yp={jb:0,mb:1,nb:2,Hb:3,Mb:4,Jb:5,Kb:6,Ib:7,Gb:8,Lb:9,PROXY:10,NOPROXY:11,Eb:12,Ab:13,Bb:14,zb:15,Cb:16,Db:17,fb:18,eb:19,gb:20},Ai.NO_ERROR=0,Ai.TIMEOUT=8,Ai.HTTP_ERROR=6,gh=Ai,Ri.COMPLETE="complete",TI=Ri,Uu.EventType=wi,wi.OPEN="a",wi.CLOSE="b",wi.ERROR="c",wi.MESSAGE="d",Tt.prototype.listen=Tt.prototype.J,Fl=Uu,Je.prototype.listenOnce=Je.prototype.K,Je.prototype.getLastError=Je.prototype.Ha,Je.prototype.getLastErrorCode=Je.prototype.ya,Je.prototype.getStatus=Je.prototype.ca,Je.prototype.getResponseJson=Je.prototype.La,Je.prototype.getResponseText=Je.prototype.la,Je.prototype.send=Je.prototype.ea,Je.prototype.setWithCredentials=Je.prototype.Fa,wI=Je}).apply(typeof eh<"u"?eh:typeof self<"u"?self:typeof window<"u"?window:{});class Yt{constructor(e){this.uid=e}isAuthenticated(){return this.uid!=null}toKey(){return this.isAuthenticated()?"uid:"+this.uid:"anonymous-user"}isEqual(e){return e.uid===this.uid}}Yt.UNAUTHENTICATED=new Yt(null),Yt.GOOGLE_CREDENTIALS=new Yt("google-credentials-uid"),Yt.FIRST_PARTY=new Yt("first-party-uid"),Yt.MOCK_USER=new Yt("mock-user");let Ra="12.8.0";function bb(n){Ra=n}const Ks=new Zh("@firebase/firestore");function Zo(){return Ks.logLevel}function de(n,...e){if(Ks.logLevel<=Ue.DEBUG){const t=e.map(Qm);Ks.debug(`Firestore (${Ra}): ${n}`,...t)}}function hi(n,...e){if(Ks.logLevel<=Ue.ERROR){const t=e.map(Qm);Ks.error(`Firestore (${Ra}): ${n}`,...t)}}function fa(n,...e){if(Ks.logLevel<=Ue.WARN){const t=e.map(Qm);Ks.warn(`Firestore (${Ra}): ${n}`,...t)}}function Qm(n){if(typeof n=="string")return n;try{return(function(t){return JSON.stringify(t)})(n)}catch{return n}}function Pe(n,e,t){let r="Unexpected state";typeof e=="string"?r=e:t=e,RI(n,r,t)}function RI(n,e,t){let r=`FIRESTORE (${Ra}) INTERNAL ASSERTION FAILED: ${e} (ID: ${n.toString(16)})`;if(t!==void 0)try{r+=" CONTEXT: "+JSON.stringify(t)}catch{r+=" CONTEXT: "+t}throw hi(r),new Error(r)}function Ke(n,e,t,r){let s="Unexpected state";typeof t=="string"?s=t:r=t,n||RI(e,s,r)}function xe(n,e){return n}const W={OK:"ok",CANCELLED:"cancelled",UNKNOWN:"unknown",INVALID_ARGUMENT:"invalid-argument",DEADLINE_EXCEEDED:"deadline-exceeded",NOT_FOUND:"not-found",ALREADY_EXISTS:"already-exists",PERMISSION_DENIED:"permission-denied",UNAUTHENTICATED:"unauthenticated",RESOURCE_EXHAUSTED:"resource-exhausted",FAILED_PRECONDITION:"failed-precondition",ABORTED:"aborted",OUT_OF_RANGE:"out-of-range",UNIMPLEMENTED:"unimplemented",INTERNAL:"internal",UNAVAILABLE:"unavailable",DATA_LOSS:"data-loss"};class ae extends Dn{constructor(e,t){super(e,t),this.code=e,this.message=t,this.toString=()=>`${this.name}: [code=${this.code}]: ${this.message}`}}class si{constructor(){this.promise=new Promise(((e,t)=>{this.resolve=e,this.reject=t}))}}class PI{constructor(e,t){this.user=t,this.type="OAuth",this.headers=new Map,this.headers.set("Authorization",`Bearer ${e}`)}}class Ob{getToken(){return Promise.resolve(null)}invalidateToken(){}start(e,t){e.enqueueRetryable((()=>t(Yt.UNAUTHENTICATED)))}shutdown(){}}class Nb{constructor(e){this.token=e,this.changeListener=null}getToken(){return Promise.resolve(this.token)}invalidateToken(){}start(e,t){this.changeListener=t,e.enqueueRetryable((()=>t(this.token.user)))}shutdown(){this.changeListener=null}}class Db{constructor(e){this.t=e,this.currentUser=Yt.UNAUTHENTICATED,this.i=0,this.forceRefresh=!1,this.auth=null}start(e,t){Ke(this.o===void 0,42304);let r=this.i;const s=f=>this.i!==r?(r=this.i,t(f)):Promise.resolve();let a=new si;this.o=()=>{this.i++,this.currentUser=this.u(),a.resolve(),a=new si,e.enqueueRetryable((()=>s(this.currentUser)))};const u=()=>{const f=a;e.enqueueRetryable((async()=>{await f.promise,await s(this.currentUser)}))},d=f=>{de("FirebaseAuthCredentialsProvider","Auth detected"),this.auth=f,this.o&&(this.auth.addAuthTokenListener(this.o),u())};this.t.onInit((f=>d(f))),setTimeout((()=>{if(!this.auth){const f=this.t.getImmediate({optional:!0});f?d(f):(de("FirebaseAuthCredentialsProvider","Auth not yet detected"),a.resolve(),a=new si)}}),0),u()}getToken(){const e=this.i,t=this.forceRefresh;return this.forceRefresh=!1,this.auth?this.auth.getToken(t).then((r=>this.i!==e?(de("FirebaseAuthCredentialsProvider","getToken aborted due to token change."),this.getToken()):r?(Ke(typeof r.accessToken=="string",31837,{l:r}),new PI(r.accessToken,this.currentUser)):null)):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.auth&&this.o&&this.auth.removeAuthTokenListener(this.o),this.o=void 0}u(){const e=this.auth&&this.auth.getUid();return Ke(e===null||typeof e=="string",2055,{h:e}),new Yt(e)}}class xb{constructor(e,t,r){this.P=e,this.T=t,this.I=r,this.type="FirstParty",this.user=Yt.FIRST_PARTY,this.R=new Map}A(){return this.I?this.I():null}get headers(){this.R.set("X-Goog-AuthUser",this.P);const e=this.A();return e&&this.R.set("Authorization",e),this.T&&this.R.set("X-Goog-Iam-Authorization-Token",this.T),this.R}}class Lb{constructor(e,t,r){this.P=e,this.T=t,this.I=r}getToken(){return Promise.resolve(new xb(this.P,this.T,this.I))}start(e,t){e.enqueueRetryable((()=>t(Yt.FIRST_PARTY)))}shutdown(){}invalidateToken(){}}class rE{constructor(e){this.value=e,this.type="AppCheck",this.headers=new Map,e&&e.length>0&&this.headers.set("x-firebase-appcheck",this.value)}}class Vb{constructor(e,t){this.V=t,this.forceRefresh=!1,this.appCheck=null,this.m=null,this.p=null,it(e)&&e.settings.appCheckToken&&(this.p=e.settings.appCheckToken)}start(e,t){Ke(this.o===void 0,3512);const r=a=>{a.error!=null&&de("FirebaseAppCheckTokenProvider",`Error getting App Check token; using placeholder token instead. Error: ${a.error.message}`);const u=a.token!==this.m;return this.m=a.token,de("FirebaseAppCheckTokenProvider",`Received ${u?"new":"existing"} token.`),u?t(a.token):Promise.resolve()};this.o=a=>{e.enqueueRetryable((()=>r(a)))};const s=a=>{de("FirebaseAppCheckTokenProvider","AppCheck detected"),this.appCheck=a,this.o&&this.appCheck.addTokenListener(this.o)};this.V.onInit((a=>s(a))),setTimeout((()=>{if(!this.appCheck){const a=this.V.getImmediate({optional:!0});a?s(a):de("FirebaseAppCheckTokenProvider","AppCheck not yet detected")}}),0)}getToken(){if(this.p)return Promise.resolve(new rE(this.p));const e=this.forceRefresh;return this.forceRefresh=!1,this.appCheck?this.appCheck.getToken(e).then((t=>t?(Ke(typeof t.token=="string",44558,{tokenResult:t}),this.m=t.token,new rE(t.token)):null)):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.appCheck&&this.o&&this.appCheck.removeTokenListener(this.o),this.o=void 0}}function Mb(n){const e=typeof self<"u"&&(self.crypto||self.msCrypto),t=new Uint8Array(n);if(e&&typeof e.getRandomValues=="function")e.getRandomValues(t);else for(let r=0;r<n;r++)t[r]=Math.floor(256*Math.random());return t}class Ym{static newId(){const e="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",t=62*Math.floor(4.129032258064516);let r="";for(;r.length<20;){const s=Mb(40);for(let a=0;a<s.length;++a)r.length<20&&s[a]<t&&(r+=e.charAt(s[a]%62))}return r}}function Fe(n,e){return n<e?-1:n>e?1:0}function Jp(n,e){const t=Math.min(n.length,e.length);for(let r=0;r<t;r++){const s=n.charAt(r),a=e.charAt(r);if(s!==a)return Ip(s)===Ip(a)?Fe(s,a):Ip(s)?1:-1}return Fe(n.length,e.length)}const Ub=55296,Fb=57343;function Ip(n){const e=n.charCodeAt(0);return e>=Ub&&e<=Fb}function pa(n,e,t){return n.length===e.length&&n.every(((r,s)=>t(r,e[s])))}const iE="__name__";class Ar{constructor(e,t,r){t===void 0?t=0:t>e.length&&Pe(637,{offset:t,range:e.length}),r===void 0?r=e.length-t:r>e.length-t&&Pe(1746,{length:r,range:e.length-t}),this.segments=e,this.offset=t,this.len=r}get length(){return this.len}isEqual(e){return Ar.comparator(this,e)===0}child(e){const t=this.segments.slice(this.offset,this.limit());return e instanceof Ar?e.forEach((r=>{t.push(r)})):t.push(e),this.construct(t)}limit(){return this.offset+this.length}popFirst(e){return e=e===void 0?1:e,this.construct(this.segments,this.offset+e,this.length-e)}popLast(){return this.construct(this.segments,this.offset,this.length-1)}firstSegment(){return this.segments[this.offset]}lastSegment(){return this.get(this.length-1)}get(e){return this.segments[this.offset+e]}isEmpty(){return this.length===0}isPrefixOf(e){if(e.length<this.length)return!1;for(let t=0;t<this.length;t++)if(this.get(t)!==e.get(t))return!1;return!0}isImmediateParentOf(e){if(this.length+1!==e.length)return!1;for(let t=0;t<this.length;t++)if(this.get(t)!==e.get(t))return!1;return!0}forEach(e){for(let t=this.offset,r=this.limit();t<r;t++)e(this.segments[t])}toArray(){return this.segments.slice(this.offset,this.limit())}static comparator(e,t){const r=Math.min(e.length,t.length);for(let s=0;s<r;s++){const a=Ar.compareSegments(e.get(s),t.get(s));if(a!==0)return a}return Fe(e.length,t.length)}static compareSegments(e,t){const r=Ar.isNumericId(e),s=Ar.isNumericId(t);return r&&!s?-1:!r&&s?1:r&&s?Ar.extractNumericId(e).compare(Ar.extractNumericId(t)):Jp(e,t)}static isNumericId(e){return e.startsWith("__id")&&e.endsWith("__")}static extractNumericId(e){return ns.fromString(e.substring(4,e.length-2))}}class Ze extends Ar{construct(e,t,r){return new Ze(e,t,r)}canonicalString(){return this.toArray().join("/")}toString(){return this.canonicalString()}toUriEncodedString(){return this.toArray().map(encodeURIComponent).join("/")}static fromString(...e){const t=[];for(const r of e){if(r.indexOf("//")>=0)throw new ae(W.INVALID_ARGUMENT,`Invalid segment (${r}). Paths must not contain // in them.`);t.push(...r.split("/").filter((s=>s.length>0)))}return new Ze(t)}static emptyPath(){return new Ze([])}}const jb=/^[_a-zA-Z][_a-zA-Z0-9]*$/;class Bt extends Ar{construct(e,t,r){return new Bt(e,t,r)}static isValidIdentifier(e){return jb.test(e)}canonicalString(){return this.toArray().map((e=>(e=e.replace(/\\/g,"\\\\").replace(/`/g,"\\`"),Bt.isValidIdentifier(e)||(e="`"+e+"`"),e))).join(".")}toString(){return this.canonicalString()}isKeyField(){return this.length===1&&this.get(0)===iE}static keyField(){return new Bt([iE])}static fromServerFormat(e){const t=[];let r="",s=0;const a=()=>{if(r.length===0)throw new ae(W.INVALID_ARGUMENT,`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`);t.push(r),r=""};let u=!1;for(;s<e.length;){const d=e[s];if(d==="\\"){if(s+1===e.length)throw new ae(W.INVALID_ARGUMENT,"Path has trailing escape character: "+e);const f=e[s+1];if(f!=="\\"&&f!=="."&&f!=="`")throw new ae(W.INVALID_ARGUMENT,"Path has invalid escape sequence: "+e);r+=f,s+=2}else d==="`"?(u=!u,s++):d!=="."||u?(r+=d,s++):(a(),s++)}if(a(),u)throw new ae(W.INVALID_ARGUMENT,"Unterminated ` in path: "+e);return new Bt(t)}static emptyPath(){return new Bt([])}}class Ie{constructor(e){this.path=e}static fromPath(e){return new Ie(Ze.fromString(e))}static fromName(e){return new Ie(Ze.fromString(e).popFirst(5))}static empty(){return new Ie(Ze.emptyPath())}get collectionGroup(){return this.path.popLast().lastSegment()}hasCollectionId(e){return this.path.length>=2&&this.path.get(this.path.length-2)===e}getCollectionGroup(){return this.path.get(this.path.length-2)}getCollectionPath(){return this.path.popLast()}isEqual(e){return e!==null&&Ze.comparator(this.path,e.path)===0}toString(){return this.path.toString()}static comparator(e,t){return Ze.comparator(e.path,t.path)}static isDocumentKey(e){return e.length%2==0}static fromSegments(e){return new Ie(new Ze(e.slice()))}}function CI(n,e,t){if(!t)throw new ae(W.INVALID_ARGUMENT,`Function ${n}() cannot be called with an empty ${e}.`)}function zb(n,e,t,r){if(e===!0&&r===!0)throw new ae(W.INVALID_ARGUMENT,`${n} and ${t} cannot be used together.`)}function sE(n){if(!Ie.isDocumentKey(n))throw new ae(W.INVALID_ARGUMENT,`Invalid document reference. Document references must have an even number of segments, but ${n} has ${n.length}.`)}function oE(n){if(Ie.isDocumentKey(n))throw new ae(W.INVALID_ARGUMENT,`Invalid collection reference. Collection references must have an odd number of segments, but ${n} has ${n.length}.`)}function kI(n){return typeof n=="object"&&n!==null&&(Object.getPrototypeOf(n)===Object.prototype||Object.getPrototypeOf(n)===null)}function ld(n){if(n===void 0)return"undefined";if(n===null)return"null";if(typeof n=="string")return n.length>20&&(n=`${n.substring(0,20)}...`),JSON.stringify(n);if(typeof n=="number"||typeof n=="boolean")return""+n;if(typeof n=="object"){if(n instanceof Array)return"an array";{const e=(function(r){return r.constructor?r.constructor.name:null})(n);return e?`a custom ${e} object`:"an object"}}return typeof n=="function"?"a function":Pe(12329,{type:typeof n})}function on(n,e){if("_delegate"in n&&(n=n._delegate),!(n instanceof e)){if(e.name===n.constructor.name)throw new ae(W.INVALID_ARGUMENT,"Type does not match the expected instance. Did you pass a reference from a different Firestore SDK?");{const t=ld(n);throw new ae(W.INVALID_ARGUMENT,`Expected type '${e.name}', but it was: ${t}`)}}return n}function Bb(n,e){if(e<=0)throw new ae(W.INVALID_ARGUMENT,`Function ${n}() requires a positive number, but it was: ${e}.`)}function Ct(n,e){const t={typeString:n};return e&&(t.value=e),t}function Au(n,e){if(!kI(n))throw new ae(W.INVALID_ARGUMENT,"JSON must be an object");let t;for(const r in e)if(e[r]){const s=e[r].typeString,a="value"in e[r]?{value:e[r].value}:void 0;if(!(r in n)){t=`JSON missing required field: '${r}'`;break}const u=n[r];if(s&&typeof u!==s){t=`JSON field '${r}' must be a ${s}.`;break}if(a!==void 0&&u!==a.value){t=`Expected '${r}' field to equal '${a.value}'`;break}}if(t)throw new ae(W.INVALID_ARGUMENT,t);return!0}const aE=-62135596800,lE=1e6;class rt{static now(){return rt.fromMillis(Date.now())}static fromDate(e){return rt.fromMillis(e.getTime())}static fromMillis(e){const t=Math.floor(e/1e3),r=Math.floor((e-1e3*t)*lE);return new rt(t,r)}constructor(e,t){if(this.seconds=e,this.nanoseconds=t,t<0)throw new ae(W.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+t);if(t>=1e9)throw new ae(W.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+t);if(e<aE)throw new ae(W.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e);if(e>=253402300800)throw new ae(W.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e)}toDate(){return new Date(this.toMillis())}toMillis(){return 1e3*this.seconds+this.nanoseconds/lE}_compareTo(e){return this.seconds===e.seconds?Fe(this.nanoseconds,e.nanoseconds):Fe(this.seconds,e.seconds)}isEqual(e){return e.seconds===this.seconds&&e.nanoseconds===this.nanoseconds}toString(){return"Timestamp(seconds="+this.seconds+", nanoseconds="+this.nanoseconds+")"}toJSON(){return{type:rt._jsonSchemaVersion,seconds:this.seconds,nanoseconds:this.nanoseconds}}static fromJSON(e){if(Au(e,rt._jsonSchema))return new rt(e.seconds,e.nanoseconds)}valueOf(){const e=this.seconds-aE;return String(e).padStart(12,"0")+"."+String(this.nanoseconds).padStart(9,"0")}}rt._jsonSchemaVersion="firestore/timestamp/1.0",rt._jsonSchema={type:Ct("string",rt._jsonSchemaVersion),seconds:Ct("number"),nanoseconds:Ct("number")};class Oe{static fromTimestamp(e){return new Oe(e)}static min(){return new Oe(new rt(0,0))}static max(){return new Oe(new rt(253402300799,999999999))}constructor(e){this.timestamp=e}compareTo(e){return this.timestamp._compareTo(e.timestamp)}isEqual(e){return this.timestamp.isEqual(e.timestamp)}toMicroseconds(){return 1e6*this.timestamp.seconds+this.timestamp.nanoseconds/1e3}toString(){return"SnapshotVersion("+this.timestamp.toString()+")"}toTimestamp(){return this.timestamp}}const au=-1;function $b(n,e){const t=n.toTimestamp().seconds,r=n.toTimestamp().nanoseconds+1,s=Oe.fromTimestamp(r===1e9?new rt(t+1,0):new rt(t,r));return new is(s,Ie.empty(),e)}function Hb(n){return new is(n.readTime,n.key,au)}class is{constructor(e,t,r){this.readTime=e,this.documentKey=t,this.largestBatchId=r}static min(){return new is(Oe.min(),Ie.empty(),au)}static max(){return new is(Oe.max(),Ie.empty(),au)}}function qb(n,e){let t=n.readTime.compareTo(e.readTime);return t!==0?t:(t=Ie.comparator(n.documentKey,e.documentKey),t!==0?t:Fe(n.largestBatchId,e.largestBatchId))}const Wb="The current tab is not in the required state to perform this operation. It might be necessary to refresh the browser tab.";class Gb{constructor(){this.onCommittedListeners=[]}addOnCommittedListener(e){this.onCommittedListeners.push(e)}raiseOnCommittedEvent(){this.onCommittedListeners.forEach((e=>e()))}}async function Pa(n){if(n.code!==W.FAILED_PRECONDITION||n.message!==Wb)throw n;de("LocalStore","Unexpectedly lost primary lease")}class K{constructor(e){this.nextCallback=null,this.catchCallback=null,this.result=void 0,this.error=void 0,this.isDone=!1,this.callbackAttached=!1,e((t=>{this.isDone=!0,this.result=t,this.nextCallback&&this.nextCallback(t)}),(t=>{this.isDone=!0,this.error=t,this.catchCallback&&this.catchCallback(t)}))}catch(e){return this.next(void 0,e)}next(e,t){return this.callbackAttached&&Pe(59440),this.callbackAttached=!0,this.isDone?this.error?this.wrapFailure(t,this.error):this.wrapSuccess(e,this.result):new K(((r,s)=>{this.nextCallback=a=>{this.wrapSuccess(e,a).next(r,s)},this.catchCallback=a=>{this.wrapFailure(t,a).next(r,s)}}))}toPromise(){return new Promise(((e,t)=>{this.next(e,t)}))}wrapUserFunction(e){try{const t=e();return t instanceof K?t:K.resolve(t)}catch(t){return K.reject(t)}}wrapSuccess(e,t){return e?this.wrapUserFunction((()=>e(t))):K.resolve(t)}wrapFailure(e,t){return e?this.wrapUserFunction((()=>e(t))):K.reject(t)}static resolve(e){return new K(((t,r)=>{t(e)}))}static reject(e){return new K(((t,r)=>{r(e)}))}static waitFor(e){return new K(((t,r)=>{let s=0,a=0,u=!1;e.forEach((d=>{++s,d.next((()=>{++a,u&&a===s&&t()}),(f=>r(f)))})),u=!0,a===s&&t()}))}static or(e){let t=K.resolve(!1);for(const r of e)t=t.next((s=>s?K.resolve(s):r()));return t}static forEach(e,t){const r=[];return e.forEach(((s,a)=>{r.push(t.call(this,s,a))})),this.waitFor(r)}static mapArray(e,t){return new K(((r,s)=>{const a=e.length,u=new Array(a);let d=0;for(let f=0;f<a;f++){const m=f;t(e[m]).next((g=>{u[m]=g,++d,d===a&&r(u)}),(g=>s(g)))}}))}static doWhile(e,t){return new K(((r,s)=>{const a=()=>{e()===!0?t().next((()=>{a()}),s):r()};a()}))}}function Kb(n){const e=n.match(/Android ([\d.]+)/i),t=e?e[1].split(".").slice(0,2).join("."):"-1";return Number(t)}function Ca(n){return n.name==="IndexedDbTransactionError"}class ud{constructor(e,t){this.previousValue=e,t&&(t.sequenceNumberHandler=r=>this.ae(r),this.ue=r=>t.writeSequenceNumber(r))}ae(e){return this.previousValue=Math.max(e,this.previousValue),this.previousValue}next(){const e=++this.previousValue;return this.ue&&this.ue(e),e}}ud.ce=-1;const Jm=-1;function cd(n){return n==null}function kh(n){return n===0&&1/n==-1/0}function Qb(n){return typeof n=="number"&&Number.isInteger(n)&&!kh(n)&&n<=Number.MAX_SAFE_INTEGER&&n>=Number.MIN_SAFE_INTEGER}const bI="";function Yb(n){let e="";for(let t=0;t<n.length;t++)e.length>0&&(e=uE(e)),e=Jb(n.get(t),e);return uE(e)}function Jb(n,e){let t=e;const r=n.length;for(let s=0;s<r;s++){const a=n.charAt(s);switch(a){case"\0":t+="";break;case bI:t+="";break;default:t+=a}}return t}function uE(n){return n+bI+""}function cE(n){let e=0;for(const t in n)Object.prototype.hasOwnProperty.call(n,t)&&e++;return e}function hs(n,e){for(const t in n)Object.prototype.hasOwnProperty.call(n,t)&&e(t,n[t])}function OI(n){for(const e in n)if(Object.prototype.hasOwnProperty.call(n,e))return!1;return!0}class ct{constructor(e,t){this.comparator=e,this.root=t||zt.EMPTY}insert(e,t){return new ct(this.comparator,this.root.insert(e,t,this.comparator).copy(null,null,zt.BLACK,null,null))}remove(e){return new ct(this.comparator,this.root.remove(e,this.comparator).copy(null,null,zt.BLACK,null,null))}get(e){let t=this.root;for(;!t.isEmpty();){const r=this.comparator(e,t.key);if(r===0)return t.value;r<0?t=t.left:r>0&&(t=t.right)}return null}indexOf(e){let t=0,r=this.root;for(;!r.isEmpty();){const s=this.comparator(e,r.key);if(s===0)return t+r.left.size;s<0?r=r.left:(t+=r.left.size+1,r=r.right)}return-1}isEmpty(){return this.root.isEmpty()}get size(){return this.root.size}minKey(){return this.root.minKey()}maxKey(){return this.root.maxKey()}inorderTraversal(e){return this.root.inorderTraversal(e)}forEach(e){this.inorderTraversal(((t,r)=>(e(t,r),!1)))}toString(){const e=[];return this.inorderTraversal(((t,r)=>(e.push(`${t}:${r}`),!1))),`{${e.join(", ")}}`}reverseTraversal(e){return this.root.reverseTraversal(e)}getIterator(){return new th(this.root,null,this.comparator,!1)}getIteratorFrom(e){return new th(this.root,e,this.comparator,!1)}getReverseIterator(){return new th(this.root,null,this.comparator,!0)}getReverseIteratorFrom(e){return new th(this.root,e,this.comparator,!0)}}class th{constructor(e,t,r,s){this.isReverse=s,this.nodeStack=[];let a=1;for(;!e.isEmpty();)if(a=t?r(e.key,t):1,t&&s&&(a*=-1),a<0)e=this.isReverse?e.left:e.right;else{if(a===0){this.nodeStack.push(e);break}this.nodeStack.push(e),e=this.isReverse?e.right:e.left}}getNext(){let e=this.nodeStack.pop();const t={key:e.key,value:e.value};if(this.isReverse)for(e=e.left;!e.isEmpty();)this.nodeStack.push(e),e=e.right;else for(e=e.right;!e.isEmpty();)this.nodeStack.push(e),e=e.left;return t}hasNext(){return this.nodeStack.length>0}peek(){if(this.nodeStack.length===0)return null;const e=this.nodeStack[this.nodeStack.length-1];return{key:e.key,value:e.value}}}class zt{constructor(e,t,r,s,a){this.key=e,this.value=t,this.color=r??zt.RED,this.left=s??zt.EMPTY,this.right=a??zt.EMPTY,this.size=this.left.size+1+this.right.size}copy(e,t,r,s,a){return new zt(e??this.key,t??this.value,r??this.color,s??this.left,a??this.right)}isEmpty(){return!1}inorderTraversal(e){return this.left.inorderTraversal(e)||e(this.key,this.value)||this.right.inorderTraversal(e)}reverseTraversal(e){return this.right.reverseTraversal(e)||e(this.key,this.value)||this.left.reverseTraversal(e)}min(){return this.left.isEmpty()?this:this.left.min()}minKey(){return this.min().key}maxKey(){return this.right.isEmpty()?this.key:this.right.maxKey()}insert(e,t,r){let s=this;const a=r(e,s.key);return s=a<0?s.copy(null,null,null,s.left.insert(e,t,r),null):a===0?s.copy(null,t,null,null,null):s.copy(null,null,null,null,s.right.insert(e,t,r)),s.fixUp()}removeMin(){if(this.left.isEmpty())return zt.EMPTY;let e=this;return e.left.isRed()||e.left.left.isRed()||(e=e.moveRedLeft()),e=e.copy(null,null,null,e.left.removeMin(),null),e.fixUp()}remove(e,t){let r,s=this;if(t(e,s.key)<0)s.left.isEmpty()||s.left.isRed()||s.left.left.isRed()||(s=s.moveRedLeft()),s=s.copy(null,null,null,s.left.remove(e,t),null);else{if(s.left.isRed()&&(s=s.rotateRight()),s.right.isEmpty()||s.right.isRed()||s.right.left.isRed()||(s=s.moveRedRight()),t(e,s.key)===0){if(s.right.isEmpty())return zt.EMPTY;r=s.right.min(),s=s.copy(r.key,r.value,null,null,s.right.removeMin())}s=s.copy(null,null,null,null,s.right.remove(e,t))}return s.fixUp()}isRed(){return this.color}fixUp(){let e=this;return e.right.isRed()&&!e.left.isRed()&&(e=e.rotateLeft()),e.left.isRed()&&e.left.left.isRed()&&(e=e.rotateRight()),e.left.isRed()&&e.right.isRed()&&(e=e.colorFlip()),e}moveRedLeft(){let e=this.colorFlip();return e.right.left.isRed()&&(e=e.copy(null,null,null,null,e.right.rotateRight()),e=e.rotateLeft(),e=e.colorFlip()),e}moveRedRight(){let e=this.colorFlip();return e.left.left.isRed()&&(e=e.rotateRight(),e=e.colorFlip()),e}rotateLeft(){const e=this.copy(null,null,zt.RED,null,this.right.left);return this.right.copy(null,null,this.color,e,null)}rotateRight(){const e=this.copy(null,null,zt.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,e)}colorFlip(){const e=this.left.copy(null,null,!this.left.color,null,null),t=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,e,t)}checkMaxDepth(){const e=this.check();return Math.pow(2,e)<=this.size+1}check(){if(this.isRed()&&this.left.isRed())throw Pe(43730,{key:this.key,value:this.value});if(this.right.isRed())throw Pe(14113,{key:this.key,value:this.value});const e=this.left.check();if(e!==this.right.check())throw Pe(27949);return e+(this.isRed()?0:1)}}zt.EMPTY=null,zt.RED=!0,zt.BLACK=!1;zt.EMPTY=new class{constructor(){this.size=0}get key(){throw Pe(57766)}get value(){throw Pe(16141)}get color(){throw Pe(16727)}get left(){throw Pe(29726)}get right(){throw Pe(36894)}copy(e,t,r,s,a){return this}insert(e,t,r){return new zt(e,t)}remove(e,t){return this}isEmpty(){return!0}inorderTraversal(e){return!1}reverseTraversal(e){return!1}minKey(){return null}maxKey(){return null}isRed(){return!1}checkMaxDepth(){return!0}check(){return 0}};class Ot{constructor(e){this.comparator=e,this.data=new ct(this.comparator)}has(e){return this.data.get(e)!==null}first(){return this.data.minKey()}last(){return this.data.maxKey()}get size(){return this.data.size}indexOf(e){return this.data.indexOf(e)}forEach(e){this.data.inorderTraversal(((t,r)=>(e(t),!1)))}forEachInRange(e,t){const r=this.data.getIteratorFrom(e[0]);for(;r.hasNext();){const s=r.getNext();if(this.comparator(s.key,e[1])>=0)return;t(s.key)}}forEachWhile(e,t){let r;for(r=t!==void 0?this.data.getIteratorFrom(t):this.data.getIterator();r.hasNext();)if(!e(r.getNext().key))return}firstAfterOrEqual(e){const t=this.data.getIteratorFrom(e);return t.hasNext()?t.getNext().key:null}getIterator(){return new hE(this.data.getIterator())}getIteratorFrom(e){return new hE(this.data.getIteratorFrom(e))}add(e){return this.copy(this.data.remove(e).insert(e,!0))}delete(e){return this.has(e)?this.copy(this.data.remove(e)):this}isEmpty(){return this.data.isEmpty()}unionWith(e){let t=this;return t.size<e.size&&(t=e,e=this),e.forEach((r=>{t=t.add(r)})),t}isEqual(e){if(!(e instanceof Ot)||this.size!==e.size)return!1;const t=this.data.getIterator(),r=e.data.getIterator();for(;t.hasNext();){const s=t.getNext().key,a=r.getNext().key;if(this.comparator(s,a)!==0)return!1}return!0}toArray(){const e=[];return this.forEach((t=>{e.push(t)})),e}toString(){const e=[];return this.forEach((t=>e.push(t))),"SortedSet("+e.toString()+")"}copy(e){const t=new Ot(this.comparator);return t.data=e,t}}class hE{constructor(e){this.iter=e}getNext(){return this.iter.getNext().key}hasNext(){return this.iter.hasNext()}}class kn{constructor(e){this.fields=e,e.sort(Bt.comparator)}static empty(){return new kn([])}unionWith(e){let t=new Ot(Bt.comparator);for(const r of this.fields)t=t.add(r);for(const r of e)t=t.add(r);return new kn(t.toArray())}covers(e){for(const t of this.fields)if(t.isPrefixOf(e))return!0;return!1}isEqual(e){return pa(this.fields,e.fields,((t,r)=>t.isEqual(r)))}}class NI extends Error{constructor(){super(...arguments),this.name="Base64DecodeError"}}class $t{constructor(e){this.binaryString=e}static fromBase64String(e){const t=(function(s){try{return atob(s)}catch(a){throw typeof DOMException<"u"&&a instanceof DOMException?new NI("Invalid base64 string: "+a):a}})(e);return new $t(t)}static fromUint8Array(e){const t=(function(s){let a="";for(let u=0;u<s.length;++u)a+=String.fromCharCode(s[u]);return a})(e);return new $t(t)}[Symbol.iterator](){let e=0;return{next:()=>e<this.binaryString.length?{value:this.binaryString.charCodeAt(e++),done:!1}:{value:void 0,done:!0}}}toBase64(){return(function(t){return btoa(t)})(this.binaryString)}toUint8Array(){return(function(t){const r=new Uint8Array(t.length);for(let s=0;s<t.length;s++)r[s]=t.charCodeAt(s);return r})(this.binaryString)}approximateByteSize(){return 2*this.binaryString.length}compareTo(e){return Fe(this.binaryString,e.binaryString)}isEqual(e){return this.binaryString===e.binaryString}}$t.EMPTY_BYTE_STRING=new $t("");const Xb=new RegExp(/^\d{4}-\d\d-\d\dT\d\d:\d\d:\d\d(?:\.(\d+))?Z$/);function ss(n){if(Ke(!!n,39018),typeof n=="string"){let e=0;const t=Xb.exec(n);if(Ke(!!t,46558,{timestamp:n}),t[1]){let s=t[1];s=(s+"000000000").substr(0,9),e=Number(s)}const r=new Date(n);return{seconds:Math.floor(r.getTime()/1e3),nanos:e}}return{seconds:wt(n.seconds),nanos:wt(n.nanos)}}function wt(n){return typeof n=="number"?n:typeof n=="string"?Number(n):0}function os(n){return typeof n=="string"?$t.fromBase64String(n):$t.fromUint8Array(n)}const DI="server_timestamp",xI="__type__",LI="__previous_value__",VI="__local_write_time__";function Xm(n){return(n?.mapValue?.fields||{})[xI]?.stringValue===DI}function hd(n){const e=n.mapValue.fields[LI];return Xm(e)?hd(e):e}function lu(n){const e=ss(n.mapValue.fields[VI].timestampValue);return new rt(e.seconds,e.nanos)}class Zb{constructor(e,t,r,s,a,u,d,f,m,g,w){this.databaseId=e,this.appId=t,this.persistenceKey=r,this.host=s,this.ssl=a,this.forceLongPolling=u,this.autoDetectLongPolling=d,this.longPollingOptions=f,this.useFetchStreams=m,this.isUsingEmulator=g,this.apiKey=w}}const bh="(default)";class uu{constructor(e,t){this.projectId=e,this.database=t||bh}static empty(){return new uu("","")}get isDefaultDatabase(){return this.database===bh}isEqual(e){return e instanceof uu&&e.projectId===this.projectId&&e.database===this.database}}function eO(n,e){if(!Object.prototype.hasOwnProperty.apply(n.options,["projectId"]))throw new ae(W.INVALID_ARGUMENT,'"projectId" not provided in firebase.initializeApp.');return new uu(n.options.projectId,e)}const MI="__type__",tO="__max__",nh={mapValue:{}},UI="__vector__",Oh="value";function as(n){return"nullValue"in n?0:"booleanValue"in n?1:"integerValue"in n||"doubleValue"in n?2:"timestampValue"in n?3:"stringValue"in n?5:"bytesValue"in n?6:"referenceValue"in n?7:"geoPointValue"in n?8:"arrayValue"in n?9:"mapValue"in n?Xm(n)?4:rO(n)?9007199254740991:nO(n)?10:11:Pe(28295,{value:n})}function Nr(n,e){if(n===e)return!0;const t=as(n);if(t!==as(e))return!1;switch(t){case 0:case 9007199254740991:return!0;case 1:return n.booleanValue===e.booleanValue;case 4:return lu(n).isEqual(lu(e));case 3:return(function(s,a){if(typeof s.timestampValue=="string"&&typeof a.timestampValue=="string"&&s.timestampValue.length===a.timestampValue.length)return s.timestampValue===a.timestampValue;const u=ss(s.timestampValue),d=ss(a.timestampValue);return u.seconds===d.seconds&&u.nanos===d.nanos})(n,e);case 5:return n.stringValue===e.stringValue;case 6:return(function(s,a){return os(s.bytesValue).isEqual(os(a.bytesValue))})(n,e);case 7:return n.referenceValue===e.referenceValue;case 8:return(function(s,a){return wt(s.geoPointValue.latitude)===wt(a.geoPointValue.latitude)&&wt(s.geoPointValue.longitude)===wt(a.geoPointValue.longitude)})(n,e);case 2:return(function(s,a){if("integerValue"in s&&"integerValue"in a)return wt(s.integerValue)===wt(a.integerValue);if("doubleValue"in s&&"doubleValue"in a){const u=wt(s.doubleValue),d=wt(a.doubleValue);return u===d?kh(u)===kh(d):isNaN(u)&&isNaN(d)}return!1})(n,e);case 9:return pa(n.arrayValue.values||[],e.arrayValue.values||[],Nr);case 10:case 11:return(function(s,a){const u=s.mapValue.fields||{},d=a.mapValue.fields||{};if(cE(u)!==cE(d))return!1;for(const f in u)if(u.hasOwnProperty(f)&&(d[f]===void 0||!Nr(u[f],d[f])))return!1;return!0})(n,e);default:return Pe(52216,{left:n})}}function cu(n,e){return(n.values||[]).find((t=>Nr(t,e)))!==void 0}function ma(n,e){if(n===e)return 0;const t=as(n),r=as(e);if(t!==r)return Fe(t,r);switch(t){case 0:case 9007199254740991:return 0;case 1:return Fe(n.booleanValue,e.booleanValue);case 2:return(function(a,u){const d=wt(a.integerValue||a.doubleValue),f=wt(u.integerValue||u.doubleValue);return d<f?-1:d>f?1:d===f?0:isNaN(d)?isNaN(f)?0:-1:1})(n,e);case 3:return dE(n.timestampValue,e.timestampValue);case 4:return dE(lu(n),lu(e));case 5:return Jp(n.stringValue,e.stringValue);case 6:return(function(a,u){const d=os(a),f=os(u);return d.compareTo(f)})(n.bytesValue,e.bytesValue);case 7:return(function(a,u){const d=a.split("/"),f=u.split("/");for(let m=0;m<d.length&&m<f.length;m++){const g=Fe(d[m],f[m]);if(g!==0)return g}return Fe(d.length,f.length)})(n.referenceValue,e.referenceValue);case 8:return(function(a,u){const d=Fe(wt(a.latitude),wt(u.latitude));return d!==0?d:Fe(wt(a.longitude),wt(u.longitude))})(n.geoPointValue,e.geoPointValue);case 9:return fE(n.arrayValue,e.arrayValue);case 10:return(function(a,u){const d=a.fields||{},f=u.fields||{},m=d[Oh]?.arrayValue,g=f[Oh]?.arrayValue,w=Fe(m?.values?.length||0,g?.values?.length||0);return w!==0?w:fE(m,g)})(n.mapValue,e.mapValue);case 11:return(function(a,u){if(a===nh.mapValue&&u===nh.mapValue)return 0;if(a===nh.mapValue)return 1;if(u===nh.mapValue)return-1;const d=a.fields||{},f=Object.keys(d),m=u.fields||{},g=Object.keys(m);f.sort(),g.sort();for(let w=0;w<f.length&&w<g.length;++w){const E=Jp(f[w],g[w]);if(E!==0)return E;const R=ma(d[f[w]],m[g[w]]);if(R!==0)return R}return Fe(f.length,g.length)})(n.mapValue,e.mapValue);default:throw Pe(23264,{he:t})}}function dE(n,e){if(typeof n=="string"&&typeof e=="string"&&n.length===e.length)return Fe(n,e);const t=ss(n),r=ss(e),s=Fe(t.seconds,r.seconds);return s!==0?s:Fe(t.nanos,r.nanos)}function fE(n,e){const t=n.values||[],r=e.values||[];for(let s=0;s<t.length&&s<r.length;++s){const a=ma(t[s],r[s]);if(a)return a}return Fe(t.length,r.length)}function ga(n){return Xp(n)}function Xp(n){return"nullValue"in n?"null":"booleanValue"in n?""+n.booleanValue:"integerValue"in n?""+n.integerValue:"doubleValue"in n?""+n.doubleValue:"timestampValue"in n?(function(t){const r=ss(t);return`time(${r.seconds},${r.nanos})`})(n.timestampValue):"stringValue"in n?n.stringValue:"bytesValue"in n?(function(t){return os(t).toBase64()})(n.bytesValue):"referenceValue"in n?(function(t){return Ie.fromName(t).toString()})(n.referenceValue):"geoPointValue"in n?(function(t){return`geo(${t.latitude},${t.longitude})`})(n.geoPointValue):"arrayValue"in n?(function(t){let r="[",s=!0;for(const a of t.values||[])s?s=!1:r+=",",r+=Xp(a);return r+"]"})(n.arrayValue):"mapValue"in n?(function(t){const r=Object.keys(t.fields||{}).sort();let s="{",a=!0;for(const u of r)a?a=!1:s+=",",s+=`${u}:${Xp(t.fields[u])}`;return s+"}"})(n.mapValue):Pe(61005,{value:n})}function yh(n){switch(as(n)){case 0:case 1:return 4;case 2:return 8;case 3:case 8:return 16;case 4:const e=hd(n);return e?16+yh(e):16;case 5:return 2*n.stringValue.length;case 6:return os(n.bytesValue).approximateByteSize();case 7:return n.referenceValue.length;case 9:return(function(r){return(r.values||[]).reduce(((s,a)=>s+yh(a)),0)})(n.arrayValue);case 10:case 11:return(function(r){let s=0;return hs(r.fields,((a,u)=>{s+=a.length+yh(u)})),s})(n.mapValue);default:throw Pe(13486,{value:n})}}function pE(n,e){return{referenceValue:`projects/${n.projectId}/databases/${n.database}/documents/${e.path.canonicalString()}`}}function Zp(n){return!!n&&"integerValue"in n}function Zm(n){return!!n&&"arrayValue"in n}function mE(n){return!!n&&"nullValue"in n}function gE(n){return!!n&&"doubleValue"in n&&isNaN(Number(n.doubleValue))}function _h(n){return!!n&&"mapValue"in n}function nO(n){return(n?.mapValue?.fields||{})[MI]?.stringValue===UI}function Ql(n){if(n.geoPointValue)return{geoPointValue:{...n.geoPointValue}};if(n.timestampValue&&typeof n.timestampValue=="object")return{timestampValue:{...n.timestampValue}};if(n.mapValue){const e={mapValue:{fields:{}}};return hs(n.mapValue.fields,((t,r)=>e.mapValue.fields[t]=Ql(r))),e}if(n.arrayValue){const e={arrayValue:{values:[]}};for(let t=0;t<(n.arrayValue.values||[]).length;++t)e.arrayValue.values[t]=Ql(n.arrayValue.values[t]);return e}return{...n}}function rO(n){return(((n.mapValue||{}).fields||{}).__type__||{}).stringValue===tO}class yn{constructor(e){this.value=e}static empty(){return new yn({mapValue:{}})}field(e){if(e.isEmpty())return this.value;{let t=this.value;for(let r=0;r<e.length-1;++r)if(t=(t.mapValue.fields||{})[e.get(r)],!_h(t))return null;return t=(t.mapValue.fields||{})[e.lastSegment()],t||null}}set(e,t){this.getFieldsMap(e.popLast())[e.lastSegment()]=Ql(t)}setAll(e){let t=Bt.emptyPath(),r={},s=[];e.forEach(((u,d)=>{if(!t.isImmediateParentOf(d)){const f=this.getFieldsMap(t);this.applyChanges(f,r,s),r={},s=[],t=d.popLast()}u?r[d.lastSegment()]=Ql(u):s.push(d.lastSegment())}));const a=this.getFieldsMap(t);this.applyChanges(a,r,s)}delete(e){const t=this.field(e.popLast());_h(t)&&t.mapValue.fields&&delete t.mapValue.fields[e.lastSegment()]}isEqual(e){return Nr(this.value,e.value)}getFieldsMap(e){let t=this.value;t.mapValue.fields||(t.mapValue={fields:{}});for(let r=0;r<e.length;++r){let s=t.mapValue.fields[e.get(r)];_h(s)&&s.mapValue.fields||(s={mapValue:{fields:{}}},t.mapValue.fields[e.get(r)]=s),t=s}return t.mapValue.fields}applyChanges(e,t,r){hs(t,((s,a)=>e[s]=a));for(const s of r)delete e[s]}clone(){return new yn(Ql(this.value))}}function FI(n){const e=[];return hs(n.fields,((t,r)=>{const s=new Bt([t]);if(_h(r)){const a=FI(r.mapValue).fields;if(a.length===0)e.push(s);else for(const u of a)e.push(s.child(u))}else e.push(s)})),new kn(e)}class Jt{constructor(e,t,r,s,a,u,d){this.key=e,this.documentType=t,this.version=r,this.readTime=s,this.createTime=a,this.data=u,this.documentState=d}static newInvalidDocument(e){return new Jt(e,0,Oe.min(),Oe.min(),Oe.min(),yn.empty(),0)}static newFoundDocument(e,t,r,s){return new Jt(e,1,t,Oe.min(),r,s,0)}static newNoDocument(e,t){return new Jt(e,2,t,Oe.min(),Oe.min(),yn.empty(),0)}static newUnknownDocument(e,t){return new Jt(e,3,t,Oe.min(),Oe.min(),yn.empty(),2)}convertToFoundDocument(e,t){return!this.createTime.isEqual(Oe.min())||this.documentType!==2&&this.documentType!==0||(this.createTime=e),this.version=e,this.documentType=1,this.data=t,this.documentState=0,this}convertToNoDocument(e){return this.version=e,this.documentType=2,this.data=yn.empty(),this.documentState=0,this}convertToUnknownDocument(e){return this.version=e,this.documentType=3,this.data=yn.empty(),this.documentState=2,this}setHasCommittedMutations(){return this.documentState=2,this}setHasLocalMutations(){return this.documentState=1,this.version=Oe.min(),this}setReadTime(e){return this.readTime=e,this}get hasLocalMutations(){return this.documentState===1}get hasCommittedMutations(){return this.documentState===2}get hasPendingWrites(){return this.hasLocalMutations||this.hasCommittedMutations}isValidDocument(){return this.documentType!==0}isFoundDocument(){return this.documentType===1}isNoDocument(){return this.documentType===2}isUnknownDocument(){return this.documentType===3}isEqual(e){return e instanceof Jt&&this.key.isEqual(e.key)&&this.version.isEqual(e.version)&&this.documentType===e.documentType&&this.documentState===e.documentState&&this.data.isEqual(e.data)}mutableCopy(){return new Jt(this.key,this.documentType,this.version,this.readTime,this.createTime,this.data.clone(),this.documentState)}toString(){return`Document(${this.key}, ${this.version}, ${JSON.stringify(this.data.value)}, {createTime: ${this.createTime}}), {documentType: ${this.documentType}}), {documentState: ${this.documentState}})`}}class Nh{constructor(e,t){this.position=e,this.inclusive=t}}function yE(n,e,t){let r=0;for(let s=0;s<n.position.length;s++){const a=e[s],u=n.position[s];if(a.field.isKeyField()?r=Ie.comparator(Ie.fromName(u.referenceValue),t.key):r=ma(u,t.data.field(a.field)),a.dir==="desc"&&(r*=-1),r!==0)break}return r}function _E(n,e){if(n===null)return e===null;if(e===null||n.inclusive!==e.inclusive||n.position.length!==e.position.length)return!1;for(let t=0;t<n.position.length;t++)if(!Nr(n.position[t],e.position[t]))return!1;return!0}class hu{constructor(e,t="asc"){this.field=e,this.dir=t}}function iO(n,e){return n.dir===e.dir&&n.field.isEqual(e.field)}class jI{}class Pt extends jI{constructor(e,t,r){super(),this.field=e,this.op=t,this.value=r}static create(e,t,r){return e.isKeyField()?t==="in"||t==="not-in"?this.createKeyFieldInFilter(e,t,r):new oO(e,t,r):t==="array-contains"?new uO(e,r):t==="in"?new cO(e,r):t==="not-in"?new hO(e,r):t==="array-contains-any"?new dO(e,r):new Pt(e,t,r)}static createKeyFieldInFilter(e,t,r){return t==="in"?new aO(e,r):new lO(e,r)}matches(e){const t=e.data.field(this.field);return this.op==="!="?t!==null&&t.nullValue===void 0&&this.matchesComparison(ma(t,this.value)):t!==null&&as(this.value)===as(t)&&this.matchesComparison(ma(t,this.value))}matchesComparison(e){switch(this.op){case"<":return e<0;case"<=":return e<=0;case"==":return e===0;case"!=":return e!==0;case">":return e>0;case">=":return e>=0;default:return Pe(47266,{operator:this.op})}}isInequality(){return["<","<=",">",">=","!=","not-in"].indexOf(this.op)>=0}getFlattenedFilters(){return[this]}getFilters(){return[this]}}class or extends jI{constructor(e,t){super(),this.filters=e,this.op=t,this.Pe=null}static create(e,t){return new or(e,t)}matches(e){return zI(this)?this.filters.find((t=>!t.matches(e)))===void 0:this.filters.find((t=>t.matches(e)))!==void 0}getFlattenedFilters(){return this.Pe!==null||(this.Pe=this.filters.reduce(((e,t)=>e.concat(t.getFlattenedFilters())),[])),this.Pe}getFilters(){return Object.assign([],this.filters)}}function zI(n){return n.op==="and"}function BI(n){return sO(n)&&zI(n)}function sO(n){for(const e of n.filters)if(e instanceof or)return!1;return!0}function em(n){if(n instanceof Pt)return n.field.canonicalString()+n.op.toString()+ga(n.value);if(BI(n))return n.filters.map((e=>em(e))).join(",");{const e=n.filters.map((t=>em(t))).join(",");return`${n.op}(${e})`}}function $I(n,e){return n instanceof Pt?(function(r,s){return s instanceof Pt&&r.op===s.op&&r.field.isEqual(s.field)&&Nr(r.value,s.value)})(n,e):n instanceof or?(function(r,s){return s instanceof or&&r.op===s.op&&r.filters.length===s.filters.length?r.filters.reduce(((a,u,d)=>a&&$I(u,s.filters[d])),!0):!1})(n,e):void Pe(19439)}function HI(n){return n instanceof Pt?(function(t){return`${t.field.canonicalString()} ${t.op} ${ga(t.value)}`})(n):n instanceof or?(function(t){return t.op.toString()+" {"+t.getFilters().map(HI).join(" ,")+"}"})(n):"Filter"}class oO extends Pt{constructor(e,t,r){super(e,t,r),this.key=Ie.fromName(r.referenceValue)}matches(e){const t=Ie.comparator(e.key,this.key);return this.matchesComparison(t)}}class aO extends Pt{constructor(e,t){super(e,"in",t),this.keys=qI("in",t)}matches(e){return this.keys.some((t=>t.isEqual(e.key)))}}class lO extends Pt{constructor(e,t){super(e,"not-in",t),this.keys=qI("not-in",t)}matches(e){return!this.keys.some((t=>t.isEqual(e.key)))}}function qI(n,e){return(e.arrayValue?.values||[]).map((t=>Ie.fromName(t.referenceValue)))}class uO extends Pt{constructor(e,t){super(e,"array-contains",t)}matches(e){const t=e.data.field(this.field);return Zm(t)&&cu(t.arrayValue,this.value)}}class cO extends Pt{constructor(e,t){super(e,"in",t)}matches(e){const t=e.data.field(this.field);return t!==null&&cu(this.value.arrayValue,t)}}class hO extends Pt{constructor(e,t){super(e,"not-in",t)}matches(e){if(cu(this.value.arrayValue,{nullValue:"NULL_VALUE"}))return!1;const t=e.data.field(this.field);return t!==null&&t.nullValue===void 0&&!cu(this.value.arrayValue,t)}}class dO extends Pt{constructor(e,t){super(e,"array-contains-any",t)}matches(e){const t=e.data.field(this.field);return!(!Zm(t)||!t.arrayValue.values)&&t.arrayValue.values.some((r=>cu(this.value.arrayValue,r)))}}class fO{constructor(e,t=null,r=[],s=[],a=null,u=null,d=null){this.path=e,this.collectionGroup=t,this.orderBy=r,this.filters=s,this.limit=a,this.startAt=u,this.endAt=d,this.Te=null}}function vE(n,e=null,t=[],r=[],s=null,a=null,u=null){return new fO(n,e,t,r,s,a,u)}function eg(n){const e=xe(n);if(e.Te===null){let t=e.path.canonicalString();e.collectionGroup!==null&&(t+="|cg:"+e.collectionGroup),t+="|f:",t+=e.filters.map((r=>em(r))).join(","),t+="|ob:",t+=e.orderBy.map((r=>(function(a){return a.field.canonicalString()+a.dir})(r))).join(","),cd(e.limit)||(t+="|l:",t+=e.limit),e.startAt&&(t+="|lb:",t+=e.startAt.inclusive?"b:":"a:",t+=e.startAt.position.map((r=>ga(r))).join(",")),e.endAt&&(t+="|ub:",t+=e.endAt.inclusive?"a:":"b:",t+=e.endAt.position.map((r=>ga(r))).join(",")),e.Te=t}return e.Te}function tg(n,e){if(n.limit!==e.limit||n.orderBy.length!==e.orderBy.length)return!1;for(let t=0;t<n.orderBy.length;t++)if(!iO(n.orderBy[t],e.orderBy[t]))return!1;if(n.filters.length!==e.filters.length)return!1;for(let t=0;t<n.filters.length;t++)if(!$I(n.filters[t],e.filters[t]))return!1;return n.collectionGroup===e.collectionGroup&&!!n.path.isEqual(e.path)&&!!_E(n.startAt,e.startAt)&&_E(n.endAt,e.endAt)}function tm(n){return Ie.isDocumentKey(n.path)&&n.collectionGroup===null&&n.filters.length===0}class ka{constructor(e,t=null,r=[],s=[],a=null,u="F",d=null,f=null){this.path=e,this.collectionGroup=t,this.explicitOrderBy=r,this.filters=s,this.limit=a,this.limitType=u,this.startAt=d,this.endAt=f,this.Ie=null,this.Ee=null,this.Re=null,this.startAt,this.endAt}}function pO(n,e,t,r,s,a,u,d){return new ka(n,e,t,r,s,a,u,d)}function dd(n){return new ka(n)}function EE(n){return n.filters.length===0&&n.limit===null&&n.startAt==null&&n.endAt==null&&(n.explicitOrderBy.length===0||n.explicitOrderBy.length===1&&n.explicitOrderBy[0].field.isKeyField())}function mO(n){return Ie.isDocumentKey(n.path)&&n.collectionGroup===null&&n.filters.length===0}function WI(n){return n.collectionGroup!==null}function Yl(n){const e=xe(n);if(e.Ie===null){e.Ie=[];const t=new Set;for(const a of e.explicitOrderBy)e.Ie.push(a),t.add(a.field.canonicalString());const r=e.explicitOrderBy.length>0?e.explicitOrderBy[e.explicitOrderBy.length-1].dir:"asc";(function(u){let d=new Ot(Bt.comparator);return u.filters.forEach((f=>{f.getFlattenedFilters().forEach((m=>{m.isInequality()&&(d=d.add(m.field))}))})),d})(e).forEach((a=>{t.has(a.canonicalString())||a.isKeyField()||e.Ie.push(new hu(a,r))})),t.has(Bt.keyField().canonicalString())||e.Ie.push(new hu(Bt.keyField(),r))}return e.Ie}function kr(n){const e=xe(n);return e.Ee||(e.Ee=gO(e,Yl(n))),e.Ee}function gO(n,e){if(n.limitType==="F")return vE(n.path,n.collectionGroup,e,n.filters,n.limit,n.startAt,n.endAt);{e=e.map((s=>{const a=s.dir==="desc"?"asc":"desc";return new hu(s.field,a)}));const t=n.endAt?new Nh(n.endAt.position,n.endAt.inclusive):null,r=n.startAt?new Nh(n.startAt.position,n.startAt.inclusive):null;return vE(n.path,n.collectionGroup,e,n.filters,n.limit,t,r)}}function nm(n,e){const t=n.filters.concat([e]);return new ka(n.path,n.collectionGroup,n.explicitOrderBy.slice(),t,n.limit,n.limitType,n.startAt,n.endAt)}function yO(n,e){const t=n.explicitOrderBy.concat([e]);return new ka(n.path,n.collectionGroup,t,n.filters.slice(),n.limit,n.limitType,n.startAt,n.endAt)}function Dh(n,e,t){return new ka(n.path,n.collectionGroup,n.explicitOrderBy.slice(),n.filters.slice(),e,t,n.startAt,n.endAt)}function fd(n,e){return tg(kr(n),kr(e))&&n.limitType===e.limitType}function GI(n){return`${eg(kr(n))}|lt:${n.limitType}`}function ea(n){return`Query(target=${(function(t){let r=t.path.canonicalString();return t.collectionGroup!==null&&(r+=" collectionGroup="+t.collectionGroup),t.filters.length>0&&(r+=`, filters: [${t.filters.map((s=>HI(s))).join(", ")}]`),cd(t.limit)||(r+=", limit: "+t.limit),t.orderBy.length>0&&(r+=`, orderBy: [${t.orderBy.map((s=>(function(u){return`${u.field.canonicalString()} (${u.dir})`})(s))).join(", ")}]`),t.startAt&&(r+=", startAt: ",r+=t.startAt.inclusive?"b:":"a:",r+=t.startAt.position.map((s=>ga(s))).join(",")),t.endAt&&(r+=", endAt: ",r+=t.endAt.inclusive?"a:":"b:",r+=t.endAt.position.map((s=>ga(s))).join(",")),`Target(${r})`})(kr(n))}; limitType=${n.limitType})`}function pd(n,e){return e.isFoundDocument()&&(function(r,s){const a=s.key.path;return r.collectionGroup!==null?s.key.hasCollectionId(r.collectionGroup)&&r.path.isPrefixOf(a):Ie.isDocumentKey(r.path)?r.path.isEqual(a):r.path.isImmediateParentOf(a)})(n,e)&&(function(r,s){for(const a of Yl(r))if(!a.field.isKeyField()&&s.data.field(a.field)===null)return!1;return!0})(n,e)&&(function(r,s){for(const a of r.filters)if(!a.matches(s))return!1;return!0})(n,e)&&(function(r,s){return!(r.startAt&&!(function(u,d,f){const m=yE(u,d,f);return u.inclusive?m<=0:m<0})(r.startAt,Yl(r),s)||r.endAt&&!(function(u,d,f){const m=yE(u,d,f);return u.inclusive?m>=0:m>0})(r.endAt,Yl(r),s))})(n,e)}function _O(n){return n.collectionGroup||(n.path.length%2==1?n.path.lastSegment():n.path.get(n.path.length-2))}function KI(n){return(e,t)=>{let r=!1;for(const s of Yl(n)){const a=vO(s,e,t);if(a!==0)return a;r=r||s.field.isKeyField()}return 0}}function vO(n,e,t){const r=n.field.isKeyField()?Ie.comparator(e.key,t.key):(function(a,u,d){const f=u.data.field(a),m=d.data.field(a);return f!==null&&m!==null?ma(f,m):Pe(42886)})(n.field,e,t);switch(n.dir){case"asc":return r;case"desc":return-1*r;default:return Pe(19790,{direction:n.dir})}}class so{constructor(e,t){this.mapKeyFn=e,this.equalsFn=t,this.inner={},this.innerSize=0}get(e){const t=this.mapKeyFn(e),r=this.inner[t];if(r!==void 0){for(const[s,a]of r)if(this.equalsFn(s,e))return a}}has(e){return this.get(e)!==void 0}set(e,t){const r=this.mapKeyFn(e),s=this.inner[r];if(s===void 0)return this.inner[r]=[[e,t]],void this.innerSize++;for(let a=0;a<s.length;a++)if(this.equalsFn(s[a][0],e))return void(s[a]=[e,t]);s.push([e,t]),this.innerSize++}delete(e){const t=this.mapKeyFn(e),r=this.inner[t];if(r===void 0)return!1;for(let s=0;s<r.length;s++)if(this.equalsFn(r[s][0],e))return r.length===1?delete this.inner[t]:r.splice(s,1),this.innerSize--,!0;return!1}forEach(e){hs(this.inner,((t,r)=>{for(const[s,a]of r)e(s,a)}))}isEmpty(){return OI(this.inner)}size(){return this.innerSize}}const EO=new ct(Ie.comparator);function di(){return EO}const QI=new ct(Ie.comparator);function jl(...n){let e=QI;for(const t of n)e=e.insert(t.key,t);return e}function YI(n){let e=QI;return n.forEach(((t,r)=>e=e.insert(t,r.overlayedDocument))),e}function Bs(){return Jl()}function JI(){return Jl()}function Jl(){return new so((n=>n.toString()),((n,e)=>n.isEqual(e)))}const wO=new ct(Ie.comparator),TO=new Ot(Ie.comparator);function je(...n){let e=TO;for(const t of n)e=e.add(t);return e}const IO=new Ot(Fe);function SO(){return IO}function ng(n,e){if(n.useProto3Json){if(isNaN(e))return{doubleValue:"NaN"};if(e===1/0)return{doubleValue:"Infinity"};if(e===-1/0)return{doubleValue:"-Infinity"}}return{doubleValue:kh(e)?"-0":e}}function XI(n){return{integerValue:""+n}}function ZI(n,e){return Qb(e)?XI(e):ng(n,e)}class md{constructor(){this._=void 0}}function AO(n,e,t){return n instanceof du?(function(s,a){const u={fields:{[xI]:{stringValue:DI},[VI]:{timestampValue:{seconds:s.seconds,nanos:s.nanoseconds}}}};return a&&Xm(a)&&(a=hd(a)),a&&(u.fields[LI]=a),{mapValue:u}})(t,e):n instanceof ya?tS(n,e):n instanceof fu?nS(n,e):(function(s,a){const u=eS(s,a),d=wE(u)+wE(s.Ae);return Zp(u)&&Zp(s.Ae)?XI(d):ng(s.serializer,d)})(n,e)}function RO(n,e,t){return n instanceof ya?tS(n,e):n instanceof fu?nS(n,e):t}function eS(n,e){return n instanceof pu?(function(r){return Zp(r)||(function(a){return!!a&&"doubleValue"in a})(r)})(e)?e:{integerValue:0}:null}class du extends md{}class ya extends md{constructor(e){super(),this.elements=e}}function tS(n,e){const t=rS(e);for(const r of n.elements)t.some((s=>Nr(s,r)))||t.push(r);return{arrayValue:{values:t}}}class fu extends md{constructor(e){super(),this.elements=e}}function nS(n,e){let t=rS(e);for(const r of n.elements)t=t.filter((s=>!Nr(s,r)));return{arrayValue:{values:t}}}class pu extends md{constructor(e,t){super(),this.serializer=e,this.Ae=t}}function wE(n){return wt(n.integerValue||n.doubleValue)}function rS(n){return Zm(n)&&n.arrayValue.values?n.arrayValue.values.slice():[]}class rg{constructor(e,t){this.field=e,this.transform=t}}function PO(n,e){return n.field.isEqual(e.field)&&(function(r,s){return r instanceof ya&&s instanceof ya||r instanceof fu&&s instanceof fu?pa(r.elements,s.elements,Nr):r instanceof pu&&s instanceof pu?Nr(r.Ae,s.Ae):r instanceof du&&s instanceof du})(n.transform,e.transform)}class CO{constructor(e,t){this.version=e,this.transformResults=t}}class an{constructor(e,t){this.updateTime=e,this.exists=t}static none(){return new an}static exists(e){return new an(void 0,e)}static updateTime(e){return new an(e)}get isNone(){return this.updateTime===void 0&&this.exists===void 0}isEqual(e){return this.exists===e.exists&&(this.updateTime?!!e.updateTime&&this.updateTime.isEqual(e.updateTime):!e.updateTime)}}function vh(n,e){return n.updateTime!==void 0?e.isFoundDocument()&&e.version.isEqual(n.updateTime):n.exists===void 0||n.exists===e.isFoundDocument()}class gd{}function iS(n,e){if(!n.hasLocalMutations||e&&e.fields.length===0)return null;if(e===null)return n.isNoDocument()?new yd(n.key,an.none()):new Ru(n.key,n.data,an.none());{const t=n.data,r=yn.empty();let s=new Ot(Bt.comparator);for(let a of e.fields)if(!s.has(a)){let u=t.field(a);u===null&&a.length>1&&(a=a.popLast(),u=t.field(a)),u===null?r.delete(a):r.set(a,u),s=s.add(a)}return new ds(n.key,r,new kn(s.toArray()),an.none())}}function kO(n,e,t){n instanceof Ru?(function(s,a,u){const d=s.value.clone(),f=IE(s.fieldTransforms,a,u.transformResults);d.setAll(f),a.convertToFoundDocument(u.version,d).setHasCommittedMutations()})(n,e,t):n instanceof ds?(function(s,a,u){if(!vh(s.precondition,a))return void a.convertToUnknownDocument(u.version);const d=IE(s.fieldTransforms,a,u.transformResults),f=a.data;f.setAll(sS(s)),f.setAll(d),a.convertToFoundDocument(u.version,f).setHasCommittedMutations()})(n,e,t):(function(s,a,u){a.convertToNoDocument(u.version).setHasCommittedMutations()})(0,e,t)}function Xl(n,e,t,r){return n instanceof Ru?(function(a,u,d,f){if(!vh(a.precondition,u))return d;const m=a.value.clone(),g=SE(a.fieldTransforms,f,u);return m.setAll(g),u.convertToFoundDocument(u.version,m).setHasLocalMutations(),null})(n,e,t,r):n instanceof ds?(function(a,u,d,f){if(!vh(a.precondition,u))return d;const m=SE(a.fieldTransforms,f,u),g=u.data;return g.setAll(sS(a)),g.setAll(m),u.convertToFoundDocument(u.version,g).setHasLocalMutations(),d===null?null:d.unionWith(a.fieldMask.fields).unionWith(a.fieldTransforms.map((w=>w.field)))})(n,e,t,r):(function(a,u,d){return vh(a.precondition,u)?(u.convertToNoDocument(u.version).setHasLocalMutations(),null):d})(n,e,t)}function bO(n,e){let t=null;for(const r of n.fieldTransforms){const s=e.data.field(r.field),a=eS(r.transform,s||null);a!=null&&(t===null&&(t=yn.empty()),t.set(r.field,a))}return t||null}function TE(n,e){return n.type===e.type&&!!n.key.isEqual(e.key)&&!!n.precondition.isEqual(e.precondition)&&!!(function(r,s){return r===void 0&&s===void 0||!(!r||!s)&&pa(r,s,((a,u)=>PO(a,u)))})(n.fieldTransforms,e.fieldTransforms)&&(n.type===0?n.value.isEqual(e.value):n.type!==1||n.data.isEqual(e.data)&&n.fieldMask.isEqual(e.fieldMask))}class Ru extends gd{constructor(e,t,r,s=[]){super(),this.key=e,this.value=t,this.precondition=r,this.fieldTransforms=s,this.type=0}getFieldMask(){return null}}class ds extends gd{constructor(e,t,r,s,a=[]){super(),this.key=e,this.data=t,this.fieldMask=r,this.precondition=s,this.fieldTransforms=a,this.type=1}getFieldMask(){return this.fieldMask}}function sS(n){const e=new Map;return n.fieldMask.fields.forEach((t=>{if(!t.isEmpty()){const r=n.data.field(t);e.set(t,r)}})),e}function IE(n,e,t){const r=new Map;Ke(n.length===t.length,32656,{Ve:t.length,de:n.length});for(let s=0;s<t.length;s++){const a=n[s],u=a.transform,d=e.data.field(a.field);r.set(a.field,RO(u,d,t[s]))}return r}function SE(n,e,t){const r=new Map;for(const s of n){const a=s.transform,u=t.data.field(s.field);r.set(s.field,AO(a,u,e))}return r}class yd extends gd{constructor(e,t){super(),this.key=e,this.precondition=t,this.type=2,this.fieldTransforms=[]}getFieldMask(){return null}}class OO extends gd{constructor(e,t){super(),this.key=e,this.precondition=t,this.type=3,this.fieldTransforms=[]}getFieldMask(){return null}}class NO{constructor(e,t,r,s){this.batchId=e,this.localWriteTime=t,this.baseMutations=r,this.mutations=s}applyToRemoteDocument(e,t){const r=t.mutationResults;for(let s=0;s<this.mutations.length;s++){const a=this.mutations[s];a.key.isEqual(e.key)&&kO(a,e,r[s])}}applyToLocalView(e,t){for(const r of this.baseMutations)r.key.isEqual(e.key)&&(t=Xl(r,e,t,this.localWriteTime));for(const r of this.mutations)r.key.isEqual(e.key)&&(t=Xl(r,e,t,this.localWriteTime));return t}applyToLocalDocumentSet(e,t){const r=JI();return this.mutations.forEach((s=>{const a=e.get(s.key),u=a.overlayedDocument;let d=this.applyToLocalView(u,a.mutatedFields);d=t.has(s.key)?null:d;const f=iS(u,d);f!==null&&r.set(s.key,f),u.isValidDocument()||u.convertToNoDocument(Oe.min())})),r}keys(){return this.mutations.reduce(((e,t)=>e.add(t.key)),je())}isEqual(e){return this.batchId===e.batchId&&pa(this.mutations,e.mutations,((t,r)=>TE(t,r)))&&pa(this.baseMutations,e.baseMutations,((t,r)=>TE(t,r)))}}class ig{constructor(e,t,r,s){this.batch=e,this.commitVersion=t,this.mutationResults=r,this.docVersions=s}static from(e,t,r){Ke(e.mutations.length===r.length,58842,{me:e.mutations.length,fe:r.length});let s=(function(){return wO})();const a=e.mutations;for(let u=0;u<a.length;u++)s=s.insert(a[u].key,r[u].version);return new ig(e,t,r,s)}}class DO{constructor(e,t){this.largestBatchId=e,this.mutation=t}getKey(){return this.mutation.key}isEqual(e){return e!==null&&this.mutation===e.mutation}toString(){return`Overlay{
      largestBatchId: ${this.largestBatchId},
      mutation: ${this.mutation.toString()}
    }`}}class xO{constructor(e,t){this.count=e,this.unchangedNames=t}}var At,Be;function LO(n){switch(n){case W.OK:return Pe(64938);case W.CANCELLED:case W.UNKNOWN:case W.DEADLINE_EXCEEDED:case W.RESOURCE_EXHAUSTED:case W.INTERNAL:case W.UNAVAILABLE:case W.UNAUTHENTICATED:return!1;case W.INVALID_ARGUMENT:case W.NOT_FOUND:case W.ALREADY_EXISTS:case W.PERMISSION_DENIED:case W.FAILED_PRECONDITION:case W.ABORTED:case W.OUT_OF_RANGE:case W.UNIMPLEMENTED:case W.DATA_LOSS:return!0;default:return Pe(15467,{code:n})}}function oS(n){if(n===void 0)return hi("GRPC error has no .code"),W.UNKNOWN;switch(n){case At.OK:return W.OK;case At.CANCELLED:return W.CANCELLED;case At.UNKNOWN:return W.UNKNOWN;case At.DEADLINE_EXCEEDED:return W.DEADLINE_EXCEEDED;case At.RESOURCE_EXHAUSTED:return W.RESOURCE_EXHAUSTED;case At.INTERNAL:return W.INTERNAL;case At.UNAVAILABLE:return W.UNAVAILABLE;case At.UNAUTHENTICATED:return W.UNAUTHENTICATED;case At.INVALID_ARGUMENT:return W.INVALID_ARGUMENT;case At.NOT_FOUND:return W.NOT_FOUND;case At.ALREADY_EXISTS:return W.ALREADY_EXISTS;case At.PERMISSION_DENIED:return W.PERMISSION_DENIED;case At.FAILED_PRECONDITION:return W.FAILED_PRECONDITION;case At.ABORTED:return W.ABORTED;case At.OUT_OF_RANGE:return W.OUT_OF_RANGE;case At.UNIMPLEMENTED:return W.UNIMPLEMENTED;case At.DATA_LOSS:return W.DATA_LOSS;default:return Pe(39323,{code:n})}}(Be=At||(At={}))[Be.OK=0]="OK",Be[Be.CANCELLED=1]="CANCELLED",Be[Be.UNKNOWN=2]="UNKNOWN",Be[Be.INVALID_ARGUMENT=3]="INVALID_ARGUMENT",Be[Be.DEADLINE_EXCEEDED=4]="DEADLINE_EXCEEDED",Be[Be.NOT_FOUND=5]="NOT_FOUND",Be[Be.ALREADY_EXISTS=6]="ALREADY_EXISTS",Be[Be.PERMISSION_DENIED=7]="PERMISSION_DENIED",Be[Be.UNAUTHENTICATED=16]="UNAUTHENTICATED",Be[Be.RESOURCE_EXHAUSTED=8]="RESOURCE_EXHAUSTED",Be[Be.FAILED_PRECONDITION=9]="FAILED_PRECONDITION",Be[Be.ABORTED=10]="ABORTED",Be[Be.OUT_OF_RANGE=11]="OUT_OF_RANGE",Be[Be.UNIMPLEMENTED=12]="UNIMPLEMENTED",Be[Be.INTERNAL=13]="INTERNAL",Be[Be.UNAVAILABLE=14]="UNAVAILABLE",Be[Be.DATA_LOSS=15]="DATA_LOSS";function VO(){return new TextEncoder}const MO=new ns([4294967295,4294967295],0);function AE(n){const e=VO().encode(n),t=new EI;return t.update(e),new Uint8Array(t.digest())}function RE(n){const e=new DataView(n.buffer),t=e.getUint32(0,!0),r=e.getUint32(4,!0),s=e.getUint32(8,!0),a=e.getUint32(12,!0);return[new ns([t,r],0),new ns([s,a],0)]}class sg{constructor(e,t,r){if(this.bitmap=e,this.padding=t,this.hashCount=r,t<0||t>=8)throw new zl(`Invalid padding: ${t}`);if(r<0)throw new zl(`Invalid hash count: ${r}`);if(e.length>0&&this.hashCount===0)throw new zl(`Invalid hash count: ${r}`);if(e.length===0&&t!==0)throw new zl(`Invalid padding when bitmap length is 0: ${t}`);this.ge=8*e.length-t,this.pe=ns.fromNumber(this.ge)}ye(e,t,r){let s=e.add(t.multiply(ns.fromNumber(r)));return s.compare(MO)===1&&(s=new ns([s.getBits(0),s.getBits(1)],0)),s.modulo(this.pe).toNumber()}we(e){return!!(this.bitmap[Math.floor(e/8)]&1<<e%8)}mightContain(e){if(this.ge===0)return!1;const t=AE(e),[r,s]=RE(t);for(let a=0;a<this.hashCount;a++){const u=this.ye(r,s,a);if(!this.we(u))return!1}return!0}static create(e,t,r){const s=e%8==0?0:8-e%8,a=new Uint8Array(Math.ceil(e/8)),u=new sg(a,s,t);return r.forEach((d=>u.insert(d))),u}insert(e){if(this.ge===0)return;const t=AE(e),[r,s]=RE(t);for(let a=0;a<this.hashCount;a++){const u=this.ye(r,s,a);this.be(u)}}be(e){const t=Math.floor(e/8),r=e%8;this.bitmap[t]|=1<<r}}class zl extends Error{constructor(){super(...arguments),this.name="BloomFilterError"}}class _d{constructor(e,t,r,s,a){this.snapshotVersion=e,this.targetChanges=t,this.targetMismatches=r,this.documentUpdates=s,this.resolvedLimboDocuments=a}static createSynthesizedRemoteEventForCurrentChange(e,t,r){const s=new Map;return s.set(e,Pu.createSynthesizedTargetChangeForCurrentChange(e,t,r)),new _d(Oe.min(),s,new ct(Fe),di(),je())}}class Pu{constructor(e,t,r,s,a){this.resumeToken=e,this.current=t,this.addedDocuments=r,this.modifiedDocuments=s,this.removedDocuments=a}static createSynthesizedTargetChangeForCurrentChange(e,t,r){return new Pu(r,t,je(),je(),je())}}class Eh{constructor(e,t,r,s){this.Se=e,this.removedTargetIds=t,this.key=r,this.De=s}}class aS{constructor(e,t){this.targetId=e,this.Ce=t}}class lS{constructor(e,t,r=$t.EMPTY_BYTE_STRING,s=null){this.state=e,this.targetIds=t,this.resumeToken=r,this.cause=s}}class PE{constructor(){this.ve=0,this.Fe=CE(),this.Me=$t.EMPTY_BYTE_STRING,this.xe=!1,this.Oe=!0}get current(){return this.xe}get resumeToken(){return this.Me}get Ne(){return this.ve!==0}get Be(){return this.Oe}Le(e){e.approximateByteSize()>0&&(this.Oe=!0,this.Me=e)}ke(){let e=je(),t=je(),r=je();return this.Fe.forEach(((s,a)=>{switch(a){case 0:e=e.add(s);break;case 2:t=t.add(s);break;case 1:r=r.add(s);break;default:Pe(38017,{changeType:a})}})),new Pu(this.Me,this.xe,e,t,r)}Ke(){this.Oe=!1,this.Fe=CE()}qe(e,t){this.Oe=!0,this.Fe=this.Fe.insert(e,t)}Ue(e){this.Oe=!0,this.Fe=this.Fe.remove(e)}$e(){this.ve+=1}We(){this.ve-=1,Ke(this.ve>=0,3241,{ve:this.ve})}Qe(){this.Oe=!0,this.xe=!0}}class UO{constructor(e){this.Ge=e,this.ze=new Map,this.je=di(),this.He=rh(),this.Je=rh(),this.Ze=new ct(Fe)}Xe(e){for(const t of e.Se)e.De&&e.De.isFoundDocument()?this.Ye(t,e.De):this.et(t,e.key,e.De);for(const t of e.removedTargetIds)this.et(t,e.key,e.De)}tt(e){this.forEachTarget(e,(t=>{const r=this.nt(t);switch(e.state){case 0:this.rt(t)&&r.Le(e.resumeToken);break;case 1:r.We(),r.Ne||r.Ke(),r.Le(e.resumeToken);break;case 2:r.We(),r.Ne||this.removeTarget(t);break;case 3:this.rt(t)&&(r.Qe(),r.Le(e.resumeToken));break;case 4:this.rt(t)&&(this.it(t),r.Le(e.resumeToken));break;default:Pe(56790,{state:e.state})}}))}forEachTarget(e,t){e.targetIds.length>0?e.targetIds.forEach(t):this.ze.forEach(((r,s)=>{this.rt(s)&&t(s)}))}st(e){const t=e.targetId,r=e.Ce.count,s=this.ot(t);if(s){const a=s.target;if(tm(a))if(r===0){const u=new Ie(a.path);this.et(t,u,Jt.newNoDocument(u,Oe.min()))}else Ke(r===1,20013,{expectedCount:r});else{const u=this._t(t);if(u!==r){const d=this.ut(e),f=d?this.ct(d,e,u):1;if(f!==0){this.it(t);const m=f===2?"TargetPurposeExistenceFilterMismatchBloom":"TargetPurposeExistenceFilterMismatch";this.Ze=this.Ze.insert(t,m)}}}}}ut(e){const t=e.Ce.unchangedNames;if(!t||!t.bits)return null;const{bits:{bitmap:r="",padding:s=0},hashCount:a=0}=t;let u,d;try{u=os(r).toUint8Array()}catch(f){if(f instanceof NI)return fa("Decoding the base64 bloom filter in existence filter failed ("+f.message+"); ignoring the bloom filter and falling back to full re-query."),null;throw f}try{d=new sg(u,s,a)}catch(f){return fa(f instanceof zl?"BloomFilter error: ":"Applying bloom filter failed: ",f),null}return d.ge===0?null:d}ct(e,t,r){return t.Ce.count===r-this.Pt(e,t.targetId)?0:2}Pt(e,t){const r=this.Ge.getRemoteKeysForTarget(t);let s=0;return r.forEach((a=>{const u=this.Ge.ht(),d=`projects/${u.projectId}/databases/${u.database}/documents/${a.path.canonicalString()}`;e.mightContain(d)||(this.et(t,a,null),s++)})),s}Tt(e){const t=new Map;this.ze.forEach(((a,u)=>{const d=this.ot(u);if(d){if(a.current&&tm(d.target)){const f=new Ie(d.target.path);this.It(f).has(u)||this.Et(u,f)||this.et(u,f,Jt.newNoDocument(f,e))}a.Be&&(t.set(u,a.ke()),a.Ke())}}));let r=je();this.Je.forEach(((a,u)=>{let d=!0;u.forEachWhile((f=>{const m=this.ot(f);return!m||m.purpose==="TargetPurposeLimboResolution"||(d=!1,!1)})),d&&(r=r.add(a))})),this.je.forEach(((a,u)=>u.setReadTime(e)));const s=new _d(e,t,this.Ze,this.je,r);return this.je=di(),this.He=rh(),this.Je=rh(),this.Ze=new ct(Fe),s}Ye(e,t){if(!this.rt(e))return;const r=this.Et(e,t.key)?2:0;this.nt(e).qe(t.key,r),this.je=this.je.insert(t.key,t),this.He=this.He.insert(t.key,this.It(t.key).add(e)),this.Je=this.Je.insert(t.key,this.Rt(t.key).add(e))}et(e,t,r){if(!this.rt(e))return;const s=this.nt(e);this.Et(e,t)?s.qe(t,1):s.Ue(t),this.Je=this.Je.insert(t,this.Rt(t).delete(e)),this.Je=this.Je.insert(t,this.Rt(t).add(e)),r&&(this.je=this.je.insert(t,r))}removeTarget(e){this.ze.delete(e)}_t(e){const t=this.nt(e).ke();return this.Ge.getRemoteKeysForTarget(e).size+t.addedDocuments.size-t.removedDocuments.size}$e(e){this.nt(e).$e()}nt(e){let t=this.ze.get(e);return t||(t=new PE,this.ze.set(e,t)),t}Rt(e){let t=this.Je.get(e);return t||(t=new Ot(Fe),this.Je=this.Je.insert(e,t)),t}It(e){let t=this.He.get(e);return t||(t=new Ot(Fe),this.He=this.He.insert(e,t)),t}rt(e){const t=this.ot(e)!==null;return t||de("WatchChangeAggregator","Detected inactive target",e),t}ot(e){const t=this.ze.get(e);return t&&t.Ne?null:this.Ge.At(e)}it(e){this.ze.set(e,new PE),this.Ge.getRemoteKeysForTarget(e).forEach((t=>{this.et(e,t,null)}))}Et(e,t){return this.Ge.getRemoteKeysForTarget(e).has(t)}}function rh(){return new ct(Ie.comparator)}function CE(){return new ct(Ie.comparator)}const FO={asc:"ASCENDING",desc:"DESCENDING"},jO={"<":"LESS_THAN","<=":"LESS_THAN_OR_EQUAL",">":"GREATER_THAN",">=":"GREATER_THAN_OR_EQUAL","==":"EQUAL","!=":"NOT_EQUAL","array-contains":"ARRAY_CONTAINS",in:"IN","not-in":"NOT_IN","array-contains-any":"ARRAY_CONTAINS_ANY"},zO={and:"AND",or:"OR"};class BO{constructor(e,t){this.databaseId=e,this.useProto3Json=t}}function rm(n,e){return n.useProto3Json||cd(e)?e:{value:e}}function xh(n,e){return n.useProto3Json?`${new Date(1e3*e.seconds).toISOString().replace(/\.\d*/,"").replace("Z","")}.${("000000000"+e.nanoseconds).slice(-9)}Z`:{seconds:""+e.seconds,nanos:e.nanoseconds}}function uS(n,e){return n.useProto3Json?e.toBase64():e.toUint8Array()}function $O(n,e){return xh(n,e.toTimestamp())}function br(n){return Ke(!!n,49232),Oe.fromTimestamp((function(t){const r=ss(t);return new rt(r.seconds,r.nanos)})(n))}function og(n,e){return im(n,e).canonicalString()}function im(n,e){const t=(function(s){return new Ze(["projects",s.projectId,"databases",s.database])})(n).child("documents");return e===void 0?t:t.child(e)}function cS(n){const e=Ze.fromString(n);return Ke(mS(e),10190,{key:e.toString()}),e}function sm(n,e){return og(n.databaseId,e.path)}function Sp(n,e){const t=cS(e);if(t.get(1)!==n.databaseId.projectId)throw new ae(W.INVALID_ARGUMENT,"Tried to deserialize key from different project: "+t.get(1)+" vs "+n.databaseId.projectId);if(t.get(3)!==n.databaseId.database)throw new ae(W.INVALID_ARGUMENT,"Tried to deserialize key from different database: "+t.get(3)+" vs "+n.databaseId.database);return new Ie(dS(t))}function hS(n,e){return og(n.databaseId,e)}function HO(n){const e=cS(n);return e.length===4?Ze.emptyPath():dS(e)}function om(n){return new Ze(["projects",n.databaseId.projectId,"databases",n.databaseId.database]).canonicalString()}function dS(n){return Ke(n.length>4&&n.get(4)==="documents",29091,{key:n.toString()}),n.popFirst(5)}function kE(n,e,t){return{name:sm(n,e),fields:t.value.mapValue.fields}}function qO(n,e){let t;if("targetChange"in e){e.targetChange;const r=(function(m){return m==="NO_CHANGE"?0:m==="ADD"?1:m==="REMOVE"?2:m==="CURRENT"?3:m==="RESET"?4:Pe(39313,{state:m})})(e.targetChange.targetChangeType||"NO_CHANGE"),s=e.targetChange.targetIds||[],a=(function(m,g){return m.useProto3Json?(Ke(g===void 0||typeof g=="string",58123),$t.fromBase64String(g||"")):(Ke(g===void 0||g instanceof Buffer||g instanceof Uint8Array,16193),$t.fromUint8Array(g||new Uint8Array))})(n,e.targetChange.resumeToken),u=e.targetChange.cause,d=u&&(function(m){const g=m.code===void 0?W.UNKNOWN:oS(m.code);return new ae(g,m.message||"")})(u);t=new lS(r,s,a,d||null)}else if("documentChange"in e){e.documentChange;const r=e.documentChange;r.document,r.document.name,r.document.updateTime;const s=Sp(n,r.document.name),a=br(r.document.updateTime),u=r.document.createTime?br(r.document.createTime):Oe.min(),d=new yn({mapValue:{fields:r.document.fields}}),f=Jt.newFoundDocument(s,a,u,d),m=r.targetIds||[],g=r.removedTargetIds||[];t=new Eh(m,g,f.key,f)}else if("documentDelete"in e){e.documentDelete;const r=e.documentDelete;r.document;const s=Sp(n,r.document),a=r.readTime?br(r.readTime):Oe.min(),u=Jt.newNoDocument(s,a),d=r.removedTargetIds||[];t=new Eh([],d,u.key,u)}else if("documentRemove"in e){e.documentRemove;const r=e.documentRemove;r.document;const s=Sp(n,r.document),a=r.removedTargetIds||[];t=new Eh([],a,s,null)}else{if(!("filter"in e))return Pe(11601,{Vt:e});{e.filter;const r=e.filter;r.targetId;const{count:s=0,unchangedNames:a}=r,u=new xO(s,a),d=r.targetId;t=new aS(d,u)}}return t}function WO(n,e){let t;if(e instanceof Ru)t={update:kE(n,e.key,e.value)};else if(e instanceof yd)t={delete:sm(n,e.key)};else if(e instanceof ds)t={update:kE(n,e.key,e.data),updateMask:tN(e.fieldMask)};else{if(!(e instanceof OO))return Pe(16599,{dt:e.type});t={verify:sm(n,e.key)}}return e.fieldTransforms.length>0&&(t.updateTransforms=e.fieldTransforms.map((r=>(function(a,u){const d=u.transform;if(d instanceof du)return{fieldPath:u.field.canonicalString(),setToServerValue:"REQUEST_TIME"};if(d instanceof ya)return{fieldPath:u.field.canonicalString(),appendMissingElements:{values:d.elements}};if(d instanceof fu)return{fieldPath:u.field.canonicalString(),removeAllFromArray:{values:d.elements}};if(d instanceof pu)return{fieldPath:u.field.canonicalString(),increment:d.Ae};throw Pe(20930,{transform:u.transform})})(0,r)))),e.precondition.isNone||(t.currentDocument=(function(s,a){return a.updateTime!==void 0?{updateTime:$O(s,a.updateTime)}:a.exists!==void 0?{exists:a.exists}:Pe(27497)})(n,e.precondition)),t}function GO(n,e){return n&&n.length>0?(Ke(e!==void 0,14353),n.map((t=>(function(s,a){let u=s.updateTime?br(s.updateTime):br(a);return u.isEqual(Oe.min())&&(u=br(a)),new CO(u,s.transformResults||[])})(t,e)))):[]}function KO(n,e){return{documents:[hS(n,e.path)]}}function QO(n,e){const t={structuredQuery:{}},r=e.path;let s;e.collectionGroup!==null?(s=r,t.structuredQuery.from=[{collectionId:e.collectionGroup,allDescendants:!0}]):(s=r.popLast(),t.structuredQuery.from=[{collectionId:r.lastSegment()}]),t.parent=hS(n,s);const a=(function(m){if(m.length!==0)return pS(or.create(m,"and"))})(e.filters);a&&(t.structuredQuery.where=a);const u=(function(m){if(m.length!==0)return m.map((g=>(function(E){return{field:ta(E.field),direction:XO(E.dir)}})(g)))})(e.orderBy);u&&(t.structuredQuery.orderBy=u);const d=rm(n,e.limit);return d!==null&&(t.structuredQuery.limit=d),e.startAt&&(t.structuredQuery.startAt=(function(m){return{before:m.inclusive,values:m.position}})(e.startAt)),e.endAt&&(t.structuredQuery.endAt=(function(m){return{before:!m.inclusive,values:m.position}})(e.endAt)),{ft:t,parent:s}}function YO(n){let e=HO(n.parent);const t=n.structuredQuery,r=t.from?t.from.length:0;let s=null;if(r>0){Ke(r===1,65062);const g=t.from[0];g.allDescendants?s=g.collectionId:e=e.child(g.collectionId)}let a=[];t.where&&(a=(function(w){const E=fS(w);return E instanceof or&&BI(E)?E.getFilters():[E]})(t.where));let u=[];t.orderBy&&(u=(function(w){return w.map((E=>(function(V){return new hu(na(V.field),(function(z){switch(z){case"ASCENDING":return"asc";case"DESCENDING":return"desc";default:return}})(V.direction))})(E)))})(t.orderBy));let d=null;t.limit&&(d=(function(w){let E;return E=typeof w=="object"?w.value:w,cd(E)?null:E})(t.limit));let f=null;t.startAt&&(f=(function(w){const E=!!w.before,R=w.values||[];return new Nh(R,E)})(t.startAt));let m=null;return t.endAt&&(m=(function(w){const E=!w.before,R=w.values||[];return new Nh(R,E)})(t.endAt)),pO(e,s,u,a,d,"F",f,m)}function JO(n,e){const t=(function(s){switch(s){case"TargetPurposeListen":return null;case"TargetPurposeExistenceFilterMismatch":return"existence-filter-mismatch";case"TargetPurposeExistenceFilterMismatchBloom":return"existence-filter-mismatch-bloom";case"TargetPurposeLimboResolution":return"limbo-document";default:return Pe(28987,{purpose:s})}})(e.purpose);return t==null?null:{"goog-listen-tags":t}}function fS(n){return n.unaryFilter!==void 0?(function(t){switch(t.unaryFilter.op){case"IS_NAN":const r=na(t.unaryFilter.field);return Pt.create(r,"==",{doubleValue:NaN});case"IS_NULL":const s=na(t.unaryFilter.field);return Pt.create(s,"==",{nullValue:"NULL_VALUE"});case"IS_NOT_NAN":const a=na(t.unaryFilter.field);return Pt.create(a,"!=",{doubleValue:NaN});case"IS_NOT_NULL":const u=na(t.unaryFilter.field);return Pt.create(u,"!=",{nullValue:"NULL_VALUE"});case"OPERATOR_UNSPECIFIED":return Pe(61313);default:return Pe(60726)}})(n):n.fieldFilter!==void 0?(function(t){return Pt.create(na(t.fieldFilter.field),(function(s){switch(s){case"EQUAL":return"==";case"NOT_EQUAL":return"!=";case"GREATER_THAN":return">";case"GREATER_THAN_OR_EQUAL":return">=";case"LESS_THAN":return"<";case"LESS_THAN_OR_EQUAL":return"<=";case"ARRAY_CONTAINS":return"array-contains";case"IN":return"in";case"NOT_IN":return"not-in";case"ARRAY_CONTAINS_ANY":return"array-contains-any";case"OPERATOR_UNSPECIFIED":return Pe(58110);default:return Pe(50506)}})(t.fieldFilter.op),t.fieldFilter.value)})(n):n.compositeFilter!==void 0?(function(t){return or.create(t.compositeFilter.filters.map((r=>fS(r))),(function(s){switch(s){case"AND":return"and";case"OR":return"or";default:return Pe(1026)}})(t.compositeFilter.op))})(n):Pe(30097,{filter:n})}function XO(n){return FO[n]}function ZO(n){return jO[n]}function eN(n){return zO[n]}function ta(n){return{fieldPath:n.canonicalString()}}function na(n){return Bt.fromServerFormat(n.fieldPath)}function pS(n){return n instanceof Pt?(function(t){if(t.op==="=="){if(gE(t.value))return{unaryFilter:{field:ta(t.field),op:"IS_NAN"}};if(mE(t.value))return{unaryFilter:{field:ta(t.field),op:"IS_NULL"}}}else if(t.op==="!="){if(gE(t.value))return{unaryFilter:{field:ta(t.field),op:"IS_NOT_NAN"}};if(mE(t.value))return{unaryFilter:{field:ta(t.field),op:"IS_NOT_NULL"}}}return{fieldFilter:{field:ta(t.field),op:ZO(t.op),value:t.value}}})(n):n instanceof or?(function(t){const r=t.getFilters().map((s=>pS(s)));return r.length===1?r[0]:{compositeFilter:{op:eN(t.op),filters:r}}})(n):Pe(54877,{filter:n})}function tN(n){const e=[];return n.fields.forEach((t=>e.push(t.canonicalString()))),{fieldPaths:e}}function mS(n){return n.length>=4&&n.get(0)==="projects"&&n.get(2)==="databases"}function gS(n){return!!n&&typeof n._toProto=="function"&&n._protoValueType==="ProtoValue"}class Xi{constructor(e,t,r,s,a=Oe.min(),u=Oe.min(),d=$t.EMPTY_BYTE_STRING,f=null){this.target=e,this.targetId=t,this.purpose=r,this.sequenceNumber=s,this.snapshotVersion=a,this.lastLimboFreeSnapshotVersion=u,this.resumeToken=d,this.expectedCount=f}withSequenceNumber(e){return new Xi(this.target,this.targetId,this.purpose,e,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,this.expectedCount)}withResumeToken(e,t){return new Xi(this.target,this.targetId,this.purpose,this.sequenceNumber,t,this.lastLimboFreeSnapshotVersion,e,null)}withExpectedCount(e){return new Xi(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,e)}withLastLimboFreeSnapshotVersion(e){return new Xi(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,e,this.resumeToken,this.expectedCount)}}class nN{constructor(e){this.yt=e}}function rN(n){const e=YO({parent:n.parent,structuredQuery:n.structuredQuery});return n.limitType==="LAST"?Dh(e,e.limit,"L"):e}class iN{constructor(){this.Sn=new sN}addToCollectionParentIndex(e,t){return this.Sn.add(t),K.resolve()}getCollectionParents(e,t){return K.resolve(this.Sn.getEntries(t))}addFieldIndex(e,t){return K.resolve()}deleteFieldIndex(e,t){return K.resolve()}deleteAllFieldIndexes(e){return K.resolve()}createTargetIndexes(e,t){return K.resolve()}getDocumentsMatchingTarget(e,t){return K.resolve(null)}getIndexType(e,t){return K.resolve(0)}getFieldIndexes(e,t){return K.resolve([])}getNextCollectionGroupToUpdate(e){return K.resolve(null)}getMinOffset(e,t){return K.resolve(is.min())}getMinOffsetFromCollectionGroup(e,t){return K.resolve(is.min())}updateCollectionGroup(e,t,r){return K.resolve()}updateIndexEntries(e,t){return K.resolve()}}class sN{constructor(){this.index={}}add(e){const t=e.lastSegment(),r=e.popLast(),s=this.index[t]||new Ot(Ze.comparator),a=!s.has(r);return this.index[t]=s.add(r),a}has(e){const t=e.lastSegment(),r=e.popLast(),s=this.index[t];return s&&s.has(r)}getEntries(e){return(this.index[e]||new Ot(Ze.comparator)).toArray()}}const bE={didRun:!1,sequenceNumbersCollected:0,targetsRemoved:0,documentsRemoved:0},yS=41943040;class mn{static withCacheSize(e){return new mn(e,mn.DEFAULT_COLLECTION_PERCENTILE,mn.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT)}constructor(e,t,r){this.cacheSizeCollectionThreshold=e,this.percentileToCollect=t,this.maximumSequenceNumbersToCollect=r}}mn.DEFAULT_COLLECTION_PERCENTILE=10,mn.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT=1e3,mn.DEFAULT=new mn(yS,mn.DEFAULT_COLLECTION_PERCENTILE,mn.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT),mn.DISABLED=new mn(-1,0,0);class _a{constructor(e){this.sr=e}next(){return this.sr+=2,this.sr}static _r(){return new _a(0)}static ar(){return new _a(-1)}}const OE="LruGarbageCollector",oN=1048576;function NE([n,e],[t,r]){const s=Fe(n,t);return s===0?Fe(e,r):s}class aN{constructor(e){this.Pr=e,this.buffer=new Ot(NE),this.Tr=0}Ir(){return++this.Tr}Er(e){const t=[e,this.Ir()];if(this.buffer.size<this.Pr)this.buffer=this.buffer.add(t);else{const r=this.buffer.last();NE(t,r)<0&&(this.buffer=this.buffer.delete(r).add(t))}}get maxValue(){return this.buffer.last()[0]}}class lN{constructor(e,t,r){this.garbageCollector=e,this.asyncQueue=t,this.localStore=r,this.Rr=null}start(){this.garbageCollector.params.cacheSizeCollectionThreshold!==-1&&this.Ar(6e4)}stop(){this.Rr&&(this.Rr.cancel(),this.Rr=null)}get started(){return this.Rr!==null}Ar(e){de(OE,`Garbage collection scheduled in ${e}ms`),this.Rr=this.asyncQueue.enqueueAfterDelay("lru_garbage_collection",e,(async()=>{this.Rr=null;try{await this.localStore.collectGarbage(this.garbageCollector)}catch(t){Ca(t)?de(OE,"Ignoring IndexedDB error during garbage collection: ",t):await Pa(t)}await this.Ar(3e5)}))}}class uN{constructor(e,t){this.Vr=e,this.params=t}calculateTargetCount(e,t){return this.Vr.dr(e).next((r=>Math.floor(t/100*r)))}nthSequenceNumber(e,t){if(t===0)return K.resolve(ud.ce);const r=new aN(t);return this.Vr.forEachTarget(e,(s=>r.Er(s.sequenceNumber))).next((()=>this.Vr.mr(e,(s=>r.Er(s))))).next((()=>r.maxValue))}removeTargets(e,t,r){return this.Vr.removeTargets(e,t,r)}removeOrphanedDocuments(e,t){return this.Vr.removeOrphanedDocuments(e,t)}collect(e,t){return this.params.cacheSizeCollectionThreshold===-1?(de("LruGarbageCollector","Garbage collection skipped; disabled"),K.resolve(bE)):this.getCacheSize(e).next((r=>r<this.params.cacheSizeCollectionThreshold?(de("LruGarbageCollector",`Garbage collection skipped; Cache size ${r} is lower than threshold ${this.params.cacheSizeCollectionThreshold}`),bE):this.gr(e,t)))}getCacheSize(e){return this.Vr.getCacheSize(e)}gr(e,t){let r,s,a,u,d,f,m;const g=Date.now();return this.calculateTargetCount(e,this.params.percentileToCollect).next((w=>(w>this.params.maximumSequenceNumbersToCollect?(de("LruGarbageCollector",`Capping sequence numbers to collect down to the maximum of ${this.params.maximumSequenceNumbersToCollect} from ${w}`),s=this.params.maximumSequenceNumbersToCollect):s=w,u=Date.now(),this.nthSequenceNumber(e,s)))).next((w=>(r=w,d=Date.now(),this.removeTargets(e,r,t)))).next((w=>(a=w,f=Date.now(),this.removeOrphanedDocuments(e,r)))).next((w=>(m=Date.now(),Zo()<=Ue.DEBUG&&de("LruGarbageCollector",`LRU Garbage Collection
	Counted targets in ${u-g}ms
	Determined least recently used ${s} in `+(d-u)+`ms
	Removed ${a} targets in `+(f-d)+`ms
	Removed ${w} documents in `+(m-f)+`ms
Total Duration: ${m-g}ms`),K.resolve({didRun:!0,sequenceNumbersCollected:s,targetsRemoved:a,documentsRemoved:w}))))}}function cN(n,e){return new uN(n,e)}class hN{constructor(){this.changes=new so((e=>e.toString()),((e,t)=>e.isEqual(t))),this.changesApplied=!1}addEntry(e){this.assertNotApplied(),this.changes.set(e.key,e)}removeEntry(e,t){this.assertNotApplied(),this.changes.set(e,Jt.newInvalidDocument(e).setReadTime(t))}getEntry(e,t){this.assertNotApplied();const r=this.changes.get(t);return r!==void 0?K.resolve(r):this.getFromCache(e,t)}getEntries(e,t){return this.getAllFromCache(e,t)}apply(e){return this.assertNotApplied(),this.changesApplied=!0,this.applyChanges(e)}assertNotApplied(){}}class dN{constructor(e,t){this.overlayedDocument=e,this.mutatedFields=t}}class fN{constructor(e,t,r,s){this.remoteDocumentCache=e,this.mutationQueue=t,this.documentOverlayCache=r,this.indexManager=s}getDocument(e,t){let r=null;return this.documentOverlayCache.getOverlay(e,t).next((s=>(r=s,this.remoteDocumentCache.getEntry(e,t)))).next((s=>(r!==null&&Xl(r.mutation,s,kn.empty(),rt.now()),s)))}getDocuments(e,t){return this.remoteDocumentCache.getEntries(e,t).next((r=>this.getLocalViewOfDocuments(e,r,je()).next((()=>r))))}getLocalViewOfDocuments(e,t,r=je()){const s=Bs();return this.populateOverlays(e,s,t).next((()=>this.computeViews(e,t,s,r).next((a=>{let u=jl();return a.forEach(((d,f)=>{u=u.insert(d,f.overlayedDocument)})),u}))))}getOverlayedDocuments(e,t){const r=Bs();return this.populateOverlays(e,r,t).next((()=>this.computeViews(e,t,r,je())))}populateOverlays(e,t,r){const s=[];return r.forEach((a=>{t.has(a)||s.push(a)})),this.documentOverlayCache.getOverlays(e,s).next((a=>{a.forEach(((u,d)=>{t.set(u,d)}))}))}computeViews(e,t,r,s){let a=di();const u=Jl(),d=(function(){return Jl()})();return t.forEach(((f,m)=>{const g=r.get(m.key);s.has(m.key)&&(g===void 0||g.mutation instanceof ds)?a=a.insert(m.key,m):g!==void 0?(u.set(m.key,g.mutation.getFieldMask()),Xl(g.mutation,m,g.mutation.getFieldMask(),rt.now())):u.set(m.key,kn.empty())})),this.recalculateAndSaveOverlays(e,a).next((f=>(f.forEach(((m,g)=>u.set(m,g))),t.forEach(((m,g)=>d.set(m,new dN(g,u.get(m)??null)))),d)))}recalculateAndSaveOverlays(e,t){const r=Jl();let s=new ct(((u,d)=>u-d)),a=je();return this.mutationQueue.getAllMutationBatchesAffectingDocumentKeys(e,t).next((u=>{for(const d of u)d.keys().forEach((f=>{const m=t.get(f);if(m===null)return;let g=r.get(f)||kn.empty();g=d.applyToLocalView(m,g),r.set(f,g);const w=(s.get(d.batchId)||je()).add(f);s=s.insert(d.batchId,w)}))})).next((()=>{const u=[],d=s.getReverseIterator();for(;d.hasNext();){const f=d.getNext(),m=f.key,g=f.value,w=JI();g.forEach((E=>{if(!a.has(E)){const R=iS(t.get(E),r.get(E));R!==null&&w.set(E,R),a=a.add(E)}})),u.push(this.documentOverlayCache.saveOverlays(e,m,w))}return K.waitFor(u)})).next((()=>r))}recalculateAndSaveOverlaysForDocumentKeys(e,t){return this.remoteDocumentCache.getEntries(e,t).next((r=>this.recalculateAndSaveOverlays(e,r)))}getDocumentsMatchingQuery(e,t,r,s){return mO(t)?this.getDocumentsMatchingDocumentQuery(e,t.path):WI(t)?this.getDocumentsMatchingCollectionGroupQuery(e,t,r,s):this.getDocumentsMatchingCollectionQuery(e,t,r,s)}getNextDocuments(e,t,r,s){return this.remoteDocumentCache.getAllFromCollectionGroup(e,t,r,s).next((a=>{const u=s-a.size>0?this.documentOverlayCache.getOverlaysForCollectionGroup(e,t,r.largestBatchId,s-a.size):K.resolve(Bs());let d=au,f=a;return u.next((m=>K.forEach(m,((g,w)=>(d<w.largestBatchId&&(d=w.largestBatchId),a.get(g)?K.resolve():this.remoteDocumentCache.getEntry(e,g).next((E=>{f=f.insert(g,E)}))))).next((()=>this.populateOverlays(e,m,a))).next((()=>this.computeViews(e,f,m,je()))).next((g=>({batchId:d,changes:YI(g)})))))}))}getDocumentsMatchingDocumentQuery(e,t){return this.getDocument(e,new Ie(t)).next((r=>{let s=jl();return r.isFoundDocument()&&(s=s.insert(r.key,r)),s}))}getDocumentsMatchingCollectionGroupQuery(e,t,r,s){const a=t.collectionGroup;let u=jl();return this.indexManager.getCollectionParents(e,a).next((d=>K.forEach(d,(f=>{const m=(function(w,E){return new ka(E,null,w.explicitOrderBy.slice(),w.filters.slice(),w.limit,w.limitType,w.startAt,w.endAt)})(t,f.child(a));return this.getDocumentsMatchingCollectionQuery(e,m,r,s).next((g=>{g.forEach(((w,E)=>{u=u.insert(w,E)}))}))})).next((()=>u))))}getDocumentsMatchingCollectionQuery(e,t,r,s){let a;return this.documentOverlayCache.getOverlaysForCollection(e,t.path,r.largestBatchId).next((u=>(a=u,this.remoteDocumentCache.getDocumentsMatchingQuery(e,t,r,a,s)))).next((u=>{a.forEach(((f,m)=>{const g=m.getKey();u.get(g)===null&&(u=u.insert(g,Jt.newInvalidDocument(g)))}));let d=jl();return u.forEach(((f,m)=>{const g=a.get(f);g!==void 0&&Xl(g.mutation,m,kn.empty(),rt.now()),pd(t,m)&&(d=d.insert(f,m))})),d}))}}class pN{constructor(e){this.serializer=e,this.Nr=new Map,this.Br=new Map}getBundleMetadata(e,t){return K.resolve(this.Nr.get(t))}saveBundleMetadata(e,t){return this.Nr.set(t.id,(function(s){return{id:s.id,version:s.version,createTime:br(s.createTime)}})(t)),K.resolve()}getNamedQuery(e,t){return K.resolve(this.Br.get(t))}saveNamedQuery(e,t){return this.Br.set(t.name,(function(s){return{name:s.name,query:rN(s.bundledQuery),readTime:br(s.readTime)}})(t)),K.resolve()}}class mN{constructor(){this.overlays=new ct(Ie.comparator),this.Lr=new Map}getOverlay(e,t){return K.resolve(this.overlays.get(t))}getOverlays(e,t){const r=Bs();return K.forEach(t,(s=>this.getOverlay(e,s).next((a=>{a!==null&&r.set(s,a)})))).next((()=>r))}saveOverlays(e,t,r){return r.forEach(((s,a)=>{this.bt(e,t,a)})),K.resolve()}removeOverlaysForBatchId(e,t,r){const s=this.Lr.get(r);return s!==void 0&&(s.forEach((a=>this.overlays=this.overlays.remove(a))),this.Lr.delete(r)),K.resolve()}getOverlaysForCollection(e,t,r){const s=Bs(),a=t.length+1,u=new Ie(t.child("")),d=this.overlays.getIteratorFrom(u);for(;d.hasNext();){const f=d.getNext().value,m=f.getKey();if(!t.isPrefixOf(m.path))break;m.path.length===a&&f.largestBatchId>r&&s.set(f.getKey(),f)}return K.resolve(s)}getOverlaysForCollectionGroup(e,t,r,s){let a=new ct(((m,g)=>m-g));const u=this.overlays.getIterator();for(;u.hasNext();){const m=u.getNext().value;if(m.getKey().getCollectionGroup()===t&&m.largestBatchId>r){let g=a.get(m.largestBatchId);g===null&&(g=Bs(),a=a.insert(m.largestBatchId,g)),g.set(m.getKey(),m)}}const d=Bs(),f=a.getIterator();for(;f.hasNext()&&(f.getNext().value.forEach(((m,g)=>d.set(m,g))),!(d.size()>=s)););return K.resolve(d)}bt(e,t,r){const s=this.overlays.get(r.key);if(s!==null){const u=this.Lr.get(s.largestBatchId).delete(r.key);this.Lr.set(s.largestBatchId,u)}this.overlays=this.overlays.insert(r.key,new DO(t,r));let a=this.Lr.get(t);a===void 0&&(a=je(),this.Lr.set(t,a)),this.Lr.set(t,a.add(r.key))}}class gN{constructor(){this.sessionToken=$t.EMPTY_BYTE_STRING}getSessionToken(e){return K.resolve(this.sessionToken)}setSessionToken(e,t){return this.sessionToken=t,K.resolve()}}class ag{constructor(){this.kr=new Ot(Lt.Kr),this.qr=new Ot(Lt.Ur)}isEmpty(){return this.kr.isEmpty()}addReference(e,t){const r=new Lt(e,t);this.kr=this.kr.add(r),this.qr=this.qr.add(r)}$r(e,t){e.forEach((r=>this.addReference(r,t)))}removeReference(e,t){this.Wr(new Lt(e,t))}Qr(e,t){e.forEach((r=>this.removeReference(r,t)))}Gr(e){const t=new Ie(new Ze([])),r=new Lt(t,e),s=new Lt(t,e+1),a=[];return this.qr.forEachInRange([r,s],(u=>{this.Wr(u),a.push(u.key)})),a}zr(){this.kr.forEach((e=>this.Wr(e)))}Wr(e){this.kr=this.kr.delete(e),this.qr=this.qr.delete(e)}jr(e){const t=new Ie(new Ze([])),r=new Lt(t,e),s=new Lt(t,e+1);let a=je();return this.qr.forEachInRange([r,s],(u=>{a=a.add(u.key)})),a}containsKey(e){const t=new Lt(e,0),r=this.kr.firstAfterOrEqual(t);return r!==null&&e.isEqual(r.key)}}class Lt{constructor(e,t){this.key=e,this.Hr=t}static Kr(e,t){return Ie.comparator(e.key,t.key)||Fe(e.Hr,t.Hr)}static Ur(e,t){return Fe(e.Hr,t.Hr)||Ie.comparator(e.key,t.key)}}class yN{constructor(e,t){this.indexManager=e,this.referenceDelegate=t,this.mutationQueue=[],this.Yn=1,this.Jr=new Ot(Lt.Kr)}checkEmpty(e){return K.resolve(this.mutationQueue.length===0)}addMutationBatch(e,t,r,s){const a=this.Yn;this.Yn++,this.mutationQueue.length>0&&this.mutationQueue[this.mutationQueue.length-1];const u=new NO(a,t,r,s);this.mutationQueue.push(u);for(const d of s)this.Jr=this.Jr.add(new Lt(d.key,a)),this.indexManager.addToCollectionParentIndex(e,d.key.path.popLast());return K.resolve(u)}lookupMutationBatch(e,t){return K.resolve(this.Zr(t))}getNextMutationBatchAfterBatchId(e,t){const r=t+1,s=this.Xr(r),a=s<0?0:s;return K.resolve(this.mutationQueue.length>a?this.mutationQueue[a]:null)}getHighestUnacknowledgedBatchId(){return K.resolve(this.mutationQueue.length===0?Jm:this.Yn-1)}getAllMutationBatches(e){return K.resolve(this.mutationQueue.slice())}getAllMutationBatchesAffectingDocumentKey(e,t){const r=new Lt(t,0),s=new Lt(t,Number.POSITIVE_INFINITY),a=[];return this.Jr.forEachInRange([r,s],(u=>{const d=this.Zr(u.Hr);a.push(d)})),K.resolve(a)}getAllMutationBatchesAffectingDocumentKeys(e,t){let r=new Ot(Fe);return t.forEach((s=>{const a=new Lt(s,0),u=new Lt(s,Number.POSITIVE_INFINITY);this.Jr.forEachInRange([a,u],(d=>{r=r.add(d.Hr)}))})),K.resolve(this.Yr(r))}getAllMutationBatchesAffectingQuery(e,t){const r=t.path,s=r.length+1;let a=r;Ie.isDocumentKey(a)||(a=a.child(""));const u=new Lt(new Ie(a),0);let d=new Ot(Fe);return this.Jr.forEachWhile((f=>{const m=f.key.path;return!!r.isPrefixOf(m)&&(m.length===s&&(d=d.add(f.Hr)),!0)}),u),K.resolve(this.Yr(d))}Yr(e){const t=[];return e.forEach((r=>{const s=this.Zr(r);s!==null&&t.push(s)})),t}removeMutationBatch(e,t){Ke(this.ei(t.batchId,"removed")===0,55003),this.mutationQueue.shift();let r=this.Jr;return K.forEach(t.mutations,(s=>{const a=new Lt(s.key,t.batchId);return r=r.delete(a),this.referenceDelegate.markPotentiallyOrphaned(e,s.key)})).next((()=>{this.Jr=r}))}nr(e){}containsKey(e,t){const r=new Lt(t,0),s=this.Jr.firstAfterOrEqual(r);return K.resolve(t.isEqual(s&&s.key))}performConsistencyCheck(e){return this.mutationQueue.length,K.resolve()}ei(e,t){return this.Xr(e)}Xr(e){return this.mutationQueue.length===0?0:e-this.mutationQueue[0].batchId}Zr(e){const t=this.Xr(e);return t<0||t>=this.mutationQueue.length?null:this.mutationQueue[t]}}class _N{constructor(e){this.ti=e,this.docs=(function(){return new ct(Ie.comparator)})(),this.size=0}setIndexManager(e){this.indexManager=e}addEntry(e,t){const r=t.key,s=this.docs.get(r),a=s?s.size:0,u=this.ti(t);return this.docs=this.docs.insert(r,{document:t.mutableCopy(),size:u}),this.size+=u-a,this.indexManager.addToCollectionParentIndex(e,r.path.popLast())}removeEntry(e){const t=this.docs.get(e);t&&(this.docs=this.docs.remove(e),this.size-=t.size)}getEntry(e,t){const r=this.docs.get(t);return K.resolve(r?r.document.mutableCopy():Jt.newInvalidDocument(t))}getEntries(e,t){let r=di();return t.forEach((s=>{const a=this.docs.get(s);r=r.insert(s,a?a.document.mutableCopy():Jt.newInvalidDocument(s))})),K.resolve(r)}getDocumentsMatchingQuery(e,t,r,s){let a=di();const u=t.path,d=new Ie(u.child("__id-9223372036854775808__")),f=this.docs.getIteratorFrom(d);for(;f.hasNext();){const{key:m,value:{document:g}}=f.getNext();if(!u.isPrefixOf(m.path))break;m.path.length>u.length+1||qb(Hb(g),r)<=0||(s.has(g.key)||pd(t,g))&&(a=a.insert(g.key,g.mutableCopy()))}return K.resolve(a)}getAllFromCollectionGroup(e,t,r,s){Pe(9500)}ni(e,t){return K.forEach(this.docs,(r=>t(r)))}newChangeBuffer(e){return new vN(this)}getSize(e){return K.resolve(this.size)}}class vN extends hN{constructor(e){super(),this.Mr=e}applyChanges(e){const t=[];return this.changes.forEach(((r,s)=>{s.isValidDocument()?t.push(this.Mr.addEntry(e,s)):this.Mr.removeEntry(r)})),K.waitFor(t)}getFromCache(e,t){return this.Mr.getEntry(e,t)}getAllFromCache(e,t){return this.Mr.getEntries(e,t)}}class EN{constructor(e){this.persistence=e,this.ri=new so((t=>eg(t)),tg),this.lastRemoteSnapshotVersion=Oe.min(),this.highestTargetId=0,this.ii=0,this.si=new ag,this.targetCount=0,this.oi=_a._r()}forEachTarget(e,t){return this.ri.forEach(((r,s)=>t(s))),K.resolve()}getLastRemoteSnapshotVersion(e){return K.resolve(this.lastRemoteSnapshotVersion)}getHighestSequenceNumber(e){return K.resolve(this.ii)}allocateTargetId(e){return this.highestTargetId=this.oi.next(),K.resolve(this.highestTargetId)}setTargetsMetadata(e,t,r){return r&&(this.lastRemoteSnapshotVersion=r),t>this.ii&&(this.ii=t),K.resolve()}lr(e){this.ri.set(e.target,e);const t=e.targetId;t>this.highestTargetId&&(this.oi=new _a(t),this.highestTargetId=t),e.sequenceNumber>this.ii&&(this.ii=e.sequenceNumber)}addTargetData(e,t){return this.lr(t),this.targetCount+=1,K.resolve()}updateTargetData(e,t){return this.lr(t),K.resolve()}removeTargetData(e,t){return this.ri.delete(t.target),this.si.Gr(t.targetId),this.targetCount-=1,K.resolve()}removeTargets(e,t,r){let s=0;const a=[];return this.ri.forEach(((u,d)=>{d.sequenceNumber<=t&&r.get(d.targetId)===null&&(this.ri.delete(u),a.push(this.removeMatchingKeysForTargetId(e,d.targetId)),s++)})),K.waitFor(a).next((()=>s))}getTargetCount(e){return K.resolve(this.targetCount)}getTargetData(e,t){const r=this.ri.get(t)||null;return K.resolve(r)}addMatchingKeys(e,t,r){return this.si.$r(t,r),K.resolve()}removeMatchingKeys(e,t,r){this.si.Qr(t,r);const s=this.persistence.referenceDelegate,a=[];return s&&t.forEach((u=>{a.push(s.markPotentiallyOrphaned(e,u))})),K.waitFor(a)}removeMatchingKeysForTargetId(e,t){return this.si.Gr(t),K.resolve()}getMatchingKeysForTargetId(e,t){const r=this.si.jr(t);return K.resolve(r)}containsKey(e,t){return K.resolve(this.si.containsKey(t))}}class _S{constructor(e,t){this._i={},this.overlays={},this.ai=new ud(0),this.ui=!1,this.ui=!0,this.ci=new gN,this.referenceDelegate=e(this),this.li=new EN(this),this.indexManager=new iN,this.remoteDocumentCache=(function(s){return new _N(s)})((r=>this.referenceDelegate.hi(r))),this.serializer=new nN(t),this.Pi=new pN(this.serializer)}start(){return Promise.resolve()}shutdown(){return this.ui=!1,Promise.resolve()}get started(){return this.ui}setDatabaseDeletedListener(){}setNetworkEnabled(){}getIndexManager(e){return this.indexManager}getDocumentOverlayCache(e){let t=this.overlays[e.toKey()];return t||(t=new mN,this.overlays[e.toKey()]=t),t}getMutationQueue(e,t){let r=this._i[e.toKey()];return r||(r=new yN(t,this.referenceDelegate),this._i[e.toKey()]=r),r}getGlobalsCache(){return this.ci}getTargetCache(){return this.li}getRemoteDocumentCache(){return this.remoteDocumentCache}getBundleCache(){return this.Pi}runTransaction(e,t,r){de("MemoryPersistence","Starting transaction:",e);const s=new wN(this.ai.next());return this.referenceDelegate.Ti(),r(s).next((a=>this.referenceDelegate.Ii(s).next((()=>a)))).toPromise().then((a=>(s.raiseOnCommittedEvent(),a)))}Ei(e,t){return K.or(Object.values(this._i).map((r=>()=>r.containsKey(e,t))))}}class wN extends Gb{constructor(e){super(),this.currentSequenceNumber=e}}class lg{constructor(e){this.persistence=e,this.Ri=new ag,this.Ai=null}static Vi(e){return new lg(e)}get di(){if(this.Ai)return this.Ai;throw Pe(60996)}addReference(e,t,r){return this.Ri.addReference(r,t),this.di.delete(r.toString()),K.resolve()}removeReference(e,t,r){return this.Ri.removeReference(r,t),this.di.add(r.toString()),K.resolve()}markPotentiallyOrphaned(e,t){return this.di.add(t.toString()),K.resolve()}removeTarget(e,t){this.Ri.Gr(t.targetId).forEach((s=>this.di.add(s.toString())));const r=this.persistence.getTargetCache();return r.getMatchingKeysForTargetId(e,t.targetId).next((s=>{s.forEach((a=>this.di.add(a.toString())))})).next((()=>r.removeTargetData(e,t)))}Ti(){this.Ai=new Set}Ii(e){const t=this.persistence.getRemoteDocumentCache().newChangeBuffer();return K.forEach(this.di,(r=>{const s=Ie.fromPath(r);return this.mi(e,s).next((a=>{a||t.removeEntry(s,Oe.min())}))})).next((()=>(this.Ai=null,t.apply(e))))}updateLimboDocument(e,t){return this.mi(e,t).next((r=>{r?this.di.delete(t.toString()):this.di.add(t.toString())}))}hi(e){return 0}mi(e,t){return K.or([()=>K.resolve(this.Ri.containsKey(t)),()=>this.persistence.getTargetCache().containsKey(e,t),()=>this.persistence.Ei(e,t)])}}class Lh{constructor(e,t){this.persistence=e,this.fi=new so((r=>Yb(r.path)),((r,s)=>r.isEqual(s))),this.garbageCollector=cN(this,t)}static Vi(e,t){return new Lh(e,t)}Ti(){}Ii(e){return K.resolve()}forEachTarget(e,t){return this.persistence.getTargetCache().forEachTarget(e,t)}dr(e){const t=this.pr(e);return this.persistence.getTargetCache().getTargetCount(e).next((r=>t.next((s=>r+s))))}pr(e){let t=0;return this.mr(e,(r=>{t++})).next((()=>t))}mr(e,t){return K.forEach(this.fi,((r,s)=>this.wr(e,r,s).next((a=>a?K.resolve():t(s)))))}removeTargets(e,t,r){return this.persistence.getTargetCache().removeTargets(e,t,r)}removeOrphanedDocuments(e,t){let r=0;const s=this.persistence.getRemoteDocumentCache(),a=s.newChangeBuffer();return s.ni(e,(u=>this.wr(e,u,t).next((d=>{d||(r++,a.removeEntry(u,Oe.min()))})))).next((()=>a.apply(e))).next((()=>r))}markPotentiallyOrphaned(e,t){return this.fi.set(t,e.currentSequenceNumber),K.resolve()}removeTarget(e,t){const r=t.withSequenceNumber(e.currentSequenceNumber);return this.persistence.getTargetCache().updateTargetData(e,r)}addReference(e,t,r){return this.fi.set(r,e.currentSequenceNumber),K.resolve()}removeReference(e,t,r){return this.fi.set(r,e.currentSequenceNumber),K.resolve()}updateLimboDocument(e,t){return this.fi.set(t,e.currentSequenceNumber),K.resolve()}hi(e){let t=e.key.toString().length;return e.isFoundDocument()&&(t+=yh(e.data.value)),t}wr(e,t,r){return K.or([()=>this.persistence.Ei(e,t),()=>this.persistence.getTargetCache().containsKey(e,t),()=>{const s=this.fi.get(t);return K.resolve(s!==void 0&&s>r)}])}getCacheSize(e){return this.persistence.getRemoteDocumentCache().getSize(e)}}class ug{constructor(e,t,r,s){this.targetId=e,this.fromCache=t,this.Ts=r,this.Is=s}static Es(e,t){let r=je(),s=je();for(const a of t.docChanges)switch(a.type){case 0:r=r.add(a.doc.key);break;case 1:s=s.add(a.doc.key)}return new ug(e,t.fromCache,r,s)}}class TN{constructor(){this._documentReadCount=0}get documentReadCount(){return this._documentReadCount}incrementDocumentReadCount(e){this._documentReadCount+=e}}class IN{constructor(){this.Rs=!1,this.As=!1,this.Vs=100,this.ds=(function(){return fP()?8:Kb(Zt())>0?6:4})()}initialize(e,t){this.fs=e,this.indexManager=t,this.Rs=!0}getDocumentsMatchingQuery(e,t,r,s){const a={result:null};return this.gs(e,t).next((u=>{a.result=u})).next((()=>{if(!a.result)return this.ps(e,t,s,r).next((u=>{a.result=u}))})).next((()=>{if(a.result)return;const u=new TN;return this.ys(e,t,u).next((d=>{if(a.result=d,this.As)return this.ws(e,t,u,d.size)}))})).next((()=>a.result))}ws(e,t,r,s){return r.documentReadCount<this.Vs?(Zo()<=Ue.DEBUG&&de("QueryEngine","SDK will not create cache indexes for query:",ea(t),"since it only creates cache indexes for collection contains","more than or equal to",this.Vs,"documents"),K.resolve()):(Zo()<=Ue.DEBUG&&de("QueryEngine","Query:",ea(t),"scans",r.documentReadCount,"local documents and returns",s,"documents as results."),r.documentReadCount>this.ds*s?(Zo()<=Ue.DEBUG&&de("QueryEngine","The SDK decides to create cache indexes for query:",ea(t),"as using cache indexes may help improve performance."),this.indexManager.createTargetIndexes(e,kr(t))):K.resolve())}gs(e,t){if(EE(t))return K.resolve(null);let r=kr(t);return this.indexManager.getIndexType(e,r).next((s=>s===0?null:(t.limit!==null&&s===1&&(t=Dh(t,null,"F"),r=kr(t)),this.indexManager.getDocumentsMatchingTarget(e,r).next((a=>{const u=je(...a);return this.fs.getDocuments(e,u).next((d=>this.indexManager.getMinOffset(e,r).next((f=>{const m=this.bs(t,d);return this.Ss(t,m,u,f.readTime)?this.gs(e,Dh(t,null,"F")):this.Ds(e,m,t,f)}))))})))))}ps(e,t,r,s){return EE(t)||s.isEqual(Oe.min())?K.resolve(null):this.fs.getDocuments(e,r).next((a=>{const u=this.bs(t,a);return this.Ss(t,u,r,s)?K.resolve(null):(Zo()<=Ue.DEBUG&&de("QueryEngine","Re-using previous result from %s to execute query: %s",s.toString(),ea(t)),this.Ds(e,u,t,$b(s,au)).next((d=>d)))}))}bs(e,t){let r=new Ot(KI(e));return t.forEach(((s,a)=>{pd(e,a)&&(r=r.add(a))})),r}Ss(e,t,r,s){if(e.limit===null)return!1;if(r.size!==t.size)return!0;const a=e.limitType==="F"?t.last():t.first();return!!a&&(a.hasPendingWrites||a.version.compareTo(s)>0)}ys(e,t,r){return Zo()<=Ue.DEBUG&&de("QueryEngine","Using full collection scan to execute query:",ea(t)),this.fs.getDocumentsMatchingQuery(e,t,is.min(),r)}Ds(e,t,r,s){return this.fs.getDocumentsMatchingQuery(e,r,s).next((a=>(t.forEach((u=>{a=a.insert(u.key,u)})),a)))}}const cg="LocalStore",SN=3e8;class AN{constructor(e,t,r,s){this.persistence=e,this.Cs=t,this.serializer=s,this.vs=new ct(Fe),this.Fs=new so((a=>eg(a)),tg),this.Ms=new Map,this.xs=e.getRemoteDocumentCache(),this.li=e.getTargetCache(),this.Pi=e.getBundleCache(),this.Os(r)}Os(e){this.documentOverlayCache=this.persistence.getDocumentOverlayCache(e),this.indexManager=this.persistence.getIndexManager(e),this.mutationQueue=this.persistence.getMutationQueue(e,this.indexManager),this.localDocuments=new fN(this.xs,this.mutationQueue,this.documentOverlayCache,this.indexManager),this.xs.setIndexManager(this.indexManager),this.Cs.initialize(this.localDocuments,this.indexManager)}collectGarbage(e){return this.persistence.runTransaction("Collect garbage","readwrite-primary",(t=>e.collect(t,this.vs)))}}function RN(n,e,t,r){return new AN(n,e,t,r)}async function vS(n,e){const t=xe(n);return await t.persistence.runTransaction("Handle user change","readonly",(r=>{let s;return t.mutationQueue.getAllMutationBatches(r).next((a=>(s=a,t.Os(e),t.mutationQueue.getAllMutationBatches(r)))).next((a=>{const u=[],d=[];let f=je();for(const m of s){u.push(m.batchId);for(const g of m.mutations)f=f.add(g.key)}for(const m of a){d.push(m.batchId);for(const g of m.mutations)f=f.add(g.key)}return t.localDocuments.getDocuments(r,f).next((m=>({Ns:m,removedBatchIds:u,addedBatchIds:d})))}))}))}function PN(n,e){const t=xe(n);return t.persistence.runTransaction("Acknowledge batch","readwrite-primary",(r=>{const s=e.batch.keys(),a=t.xs.newChangeBuffer({trackRemovals:!0});return(function(d,f,m,g){const w=m.batch,E=w.keys();let R=K.resolve();return E.forEach((V=>{R=R.next((()=>g.getEntry(f,V))).next((B=>{const z=m.docVersions.get(V);Ke(z!==null,48541),B.version.compareTo(z)<0&&(w.applyToRemoteDocument(B,m),B.isValidDocument()&&(B.setReadTime(m.commitVersion),g.addEntry(B)))}))})),R.next((()=>d.mutationQueue.removeMutationBatch(f,w)))})(t,r,e,a).next((()=>a.apply(r))).next((()=>t.mutationQueue.performConsistencyCheck(r))).next((()=>t.documentOverlayCache.removeOverlaysForBatchId(r,s,e.batch.batchId))).next((()=>t.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(r,(function(d){let f=je();for(let m=0;m<d.mutationResults.length;++m)d.mutationResults[m].transformResults.length>0&&(f=f.add(d.batch.mutations[m].key));return f})(e)))).next((()=>t.localDocuments.getDocuments(r,s)))}))}function ES(n){const e=xe(n);return e.persistence.runTransaction("Get last remote snapshot version","readonly",(t=>e.li.getLastRemoteSnapshotVersion(t)))}function CN(n,e){const t=xe(n),r=e.snapshotVersion;let s=t.vs;return t.persistence.runTransaction("Apply remote event","readwrite-primary",(a=>{const u=t.xs.newChangeBuffer({trackRemovals:!0});s=t.vs;const d=[];e.targetChanges.forEach(((g,w)=>{const E=s.get(w);if(!E)return;d.push(t.li.removeMatchingKeys(a,g.removedDocuments,w).next((()=>t.li.addMatchingKeys(a,g.addedDocuments,w))));let R=E.withSequenceNumber(a.currentSequenceNumber);e.targetMismatches.get(w)!==null?R=R.withResumeToken($t.EMPTY_BYTE_STRING,Oe.min()).withLastLimboFreeSnapshotVersion(Oe.min()):g.resumeToken.approximateByteSize()>0&&(R=R.withResumeToken(g.resumeToken,r)),s=s.insert(w,R),(function(B,z,te){return B.resumeToken.approximateByteSize()===0||z.snapshotVersion.toMicroseconds()-B.snapshotVersion.toMicroseconds()>=SN?!0:te.addedDocuments.size+te.modifiedDocuments.size+te.removedDocuments.size>0})(E,R,g)&&d.push(t.li.updateTargetData(a,R))}));let f=di(),m=je();if(e.documentUpdates.forEach((g=>{e.resolvedLimboDocuments.has(g)&&d.push(t.persistence.referenceDelegate.updateLimboDocument(a,g))})),d.push(kN(a,u,e.documentUpdates).next((g=>{f=g.Bs,m=g.Ls}))),!r.isEqual(Oe.min())){const g=t.li.getLastRemoteSnapshotVersion(a).next((w=>t.li.setTargetsMetadata(a,a.currentSequenceNumber,r)));d.push(g)}return K.waitFor(d).next((()=>u.apply(a))).next((()=>t.localDocuments.getLocalViewOfDocuments(a,f,m))).next((()=>f))})).then((a=>(t.vs=s,a)))}function kN(n,e,t){let r=je(),s=je();return t.forEach((a=>r=r.add(a))),e.getEntries(n,r).next((a=>{let u=di();return t.forEach(((d,f)=>{const m=a.get(d);f.isFoundDocument()!==m.isFoundDocument()&&(s=s.add(d)),f.isNoDocument()&&f.version.isEqual(Oe.min())?(e.removeEntry(d,f.readTime),u=u.insert(d,f)):!m.isValidDocument()||f.version.compareTo(m.version)>0||f.version.compareTo(m.version)===0&&m.hasPendingWrites?(e.addEntry(f),u=u.insert(d,f)):de(cg,"Ignoring outdated watch update for ",d,". Current version:",m.version," Watch version:",f.version)})),{Bs:u,Ls:s}}))}function bN(n,e){const t=xe(n);return t.persistence.runTransaction("Get next mutation batch","readonly",(r=>(e===void 0&&(e=Jm),t.mutationQueue.getNextMutationBatchAfterBatchId(r,e))))}function ON(n,e){const t=xe(n);return t.persistence.runTransaction("Allocate target","readwrite",(r=>{let s;return t.li.getTargetData(r,e).next((a=>a?(s=a,K.resolve(s)):t.li.allocateTargetId(r).next((u=>(s=new Xi(e,u,"TargetPurposeListen",r.currentSequenceNumber),t.li.addTargetData(r,s).next((()=>s)))))))})).then((r=>{const s=t.vs.get(r.targetId);return(s===null||r.snapshotVersion.compareTo(s.snapshotVersion)>0)&&(t.vs=t.vs.insert(r.targetId,r),t.Fs.set(e,r.targetId)),r}))}async function am(n,e,t){const r=xe(n),s=r.vs.get(e),a=t?"readwrite":"readwrite-primary";try{t||await r.persistence.runTransaction("Release target",a,(u=>r.persistence.referenceDelegate.removeTarget(u,s)))}catch(u){if(!Ca(u))throw u;de(cg,`Failed to update sequence numbers for target ${e}: ${u}`)}r.vs=r.vs.remove(e),r.Fs.delete(s.target)}function DE(n,e,t){const r=xe(n);let s=Oe.min(),a=je();return r.persistence.runTransaction("Execute query","readwrite",(u=>(function(f,m,g){const w=xe(f),E=w.Fs.get(g);return E!==void 0?K.resolve(w.vs.get(E)):w.li.getTargetData(m,g)})(r,u,kr(e)).next((d=>{if(d)return s=d.lastLimboFreeSnapshotVersion,r.li.getMatchingKeysForTargetId(u,d.targetId).next((f=>{a=f}))})).next((()=>r.Cs.getDocumentsMatchingQuery(u,e,t?s:Oe.min(),t?a:je()))).next((d=>(NN(r,_O(e),d),{documents:d,ks:a})))))}function NN(n,e,t){let r=n.Ms.get(e)||Oe.min();t.forEach(((s,a)=>{a.readTime.compareTo(r)>0&&(r=a.readTime)})),n.Ms.set(e,r)}class xE{constructor(){this.activeTargetIds=SO()}Qs(e){this.activeTargetIds=this.activeTargetIds.add(e)}Gs(e){this.activeTargetIds=this.activeTargetIds.delete(e)}Ws(){const e={activeTargetIds:this.activeTargetIds.toArray(),updateTimeMs:Date.now()};return JSON.stringify(e)}}class DN{constructor(){this.vo=new xE,this.Fo={},this.onlineStateHandler=null,this.sequenceNumberHandler=null}addPendingMutation(e){}updateMutationState(e,t,r){}addLocalQueryTarget(e,t=!0){return t&&this.vo.Qs(e),this.Fo[e]||"not-current"}updateQueryState(e,t,r){this.Fo[e]=t}removeLocalQueryTarget(e){this.vo.Gs(e)}isLocalQueryTarget(e){return this.vo.activeTargetIds.has(e)}clearQueryState(e){delete this.Fo[e]}getAllActiveQueryTargets(){return this.vo.activeTargetIds}isActiveQueryTarget(e){return this.vo.activeTargetIds.has(e)}start(){return this.vo=new xE,Promise.resolve()}handleUserChange(e,t,r){}setOnlineState(e){}shutdown(){}writeSequenceNumber(e){}notifyBundleLoaded(e){}}class xN{Mo(e){}shutdown(){}}const LE="ConnectivityMonitor";class VE{constructor(){this.xo=()=>this.Oo(),this.No=()=>this.Bo(),this.Lo=[],this.ko()}Mo(e){this.Lo.push(e)}shutdown(){window.removeEventListener("online",this.xo),window.removeEventListener("offline",this.No)}ko(){window.addEventListener("online",this.xo),window.addEventListener("offline",this.No)}Oo(){de(LE,"Network connectivity changed: AVAILABLE");for(const e of this.Lo)e(0)}Bo(){de(LE,"Network connectivity changed: UNAVAILABLE");for(const e of this.Lo)e(1)}static v(){return typeof window<"u"&&window.addEventListener!==void 0&&window.removeEventListener!==void 0}}let ih=null;function lm(){return ih===null?ih=(function(){return 268435456+Math.round(2147483648*Math.random())})():ih++,"0x"+ih.toString(16)}const Ap="RestConnection",LN={BatchGetDocuments:"batchGet",Commit:"commit",RunQuery:"runQuery",RunAggregationQuery:"runAggregationQuery",ExecutePipeline:"executePipeline"};class VN{get Ko(){return!1}constructor(e){this.databaseInfo=e,this.databaseId=e.databaseId;const t=e.ssl?"https":"http",r=encodeURIComponent(this.databaseId.projectId),s=encodeURIComponent(this.databaseId.database);this.qo=t+"://"+e.host,this.Uo=`projects/${r}/databases/${s}`,this.$o=this.databaseId.database===bh?`project_id=${r}`:`project_id=${r}&database_id=${s}`}Wo(e,t,r,s,a){const u=lm(),d=this.Qo(e,t.toUriEncodedString());de(Ap,`Sending RPC '${e}' ${u}:`,d,r);const f={"google-cloud-resource-prefix":this.Uo,"x-goog-request-params":this.$o};this.Go(f,s,a);const{host:m}=new URL(d),g=xr(m);return this.zo(e,d,f,r,g).then((w=>(de(Ap,`Received RPC '${e}' ${u}: `,w),w)),(w=>{throw fa(Ap,`RPC '${e}' ${u} failed with error: `,w,"url: ",d,"request:",r),w}))}jo(e,t,r,s,a,u){return this.Wo(e,t,r,s,a)}Go(e,t,r){e["X-Goog-Api-Client"]=(function(){return"gl-js/ fire/"+Ra})(),e["Content-Type"]="text/plain",this.databaseInfo.appId&&(e["X-Firebase-GMPID"]=this.databaseInfo.appId),t&&t.headers.forEach(((s,a)=>e[a]=s)),r&&r.headers.forEach(((s,a)=>e[a]=s))}Qo(e,t){const r=LN[e];let s=`${this.qo}/v1/${t}:${r}`;return this.databaseInfo.apiKey&&(s=`${s}?key=${encodeURIComponent(this.databaseInfo.apiKey)}`),s}terminate(){}}class MN{constructor(e){this.Ho=e.Ho,this.Jo=e.Jo}Zo(e){this.Xo=e}Yo(e){this.e_=e}t_(e){this.n_=e}onMessage(e){this.r_=e}close(){this.Jo()}send(e){this.Ho(e)}i_(){this.Xo()}s_(){this.e_()}o_(e){this.n_(e)}__(e){this.r_(e)}}const Qt="WebChannelConnection",Ol=(n,e,t)=>{n.listen(e,(r=>{try{t(r)}catch(s){setTimeout((()=>{throw s}),0)}}))};class ca extends VN{constructor(e){super(e),this.a_=[],this.forceLongPolling=e.forceLongPolling,this.autoDetectLongPolling=e.autoDetectLongPolling,this.useFetchStreams=e.useFetchStreams,this.longPollingOptions=e.longPollingOptions}static u_(){if(!ca.c_){const e=SI();Ol(e,II.STAT_EVENT,(t=>{t.stat===Yp.PROXY?de(Qt,"STAT_EVENT: detected buffering proxy"):t.stat===Yp.NOPROXY&&de(Qt,"STAT_EVENT: detected no buffering proxy")})),ca.c_=!0}}zo(e,t,r,s,a){const u=lm();return new Promise(((d,f)=>{const m=new wI;m.setWithCredentials(!0),m.listenOnce(TI.COMPLETE,(()=>{try{switch(m.getLastErrorCode()){case gh.NO_ERROR:const w=m.getResponseJson();de(Qt,`XHR for RPC '${e}' ${u} received:`,JSON.stringify(w)),d(w);break;case gh.TIMEOUT:de(Qt,`RPC '${e}' ${u} timed out`),f(new ae(W.DEADLINE_EXCEEDED,"Request time out"));break;case gh.HTTP_ERROR:const E=m.getStatus();if(de(Qt,`RPC '${e}' ${u} failed with status:`,E,"response text:",m.getResponseText()),E>0){let R=m.getResponseJson();Array.isArray(R)&&(R=R[0]);const V=R?.error;if(V&&V.status&&V.message){const B=(function(te){const le=te.toLowerCase().replace(/_/g,"-");return Object.values(W).indexOf(le)>=0?le:W.UNKNOWN})(V.status);f(new ae(B,V.message))}else f(new ae(W.UNKNOWN,"Server responded with status "+m.getStatus()))}else f(new ae(W.UNAVAILABLE,"Connection failed."));break;default:Pe(9055,{l_:e,streamId:u,h_:m.getLastErrorCode(),P_:m.getLastError()})}}finally{de(Qt,`RPC '${e}' ${u} completed.`)}}));const g=JSON.stringify(s);de(Qt,`RPC '${e}' ${u} sending request:`,s),m.send(t,"POST",g,r,15)}))}T_(e,t,r){const s=lm(),a=[this.qo,"/","google.firestore.v1.Firestore","/",e,"/channel"],u=this.createWebChannelTransport(),d={httpSessionIdParam:"gsessionid",initMessageHeaders:{},messageUrlParams:{database:`projects/${this.databaseId.projectId}/databases/${this.databaseId.database}`},sendRawJson:!0,supportsCrossDomainXhr:!0,internalChannelParams:{forwardChannelRequestTimeoutMs:6e5},forceLongPolling:this.forceLongPolling,detectBufferingProxy:this.autoDetectLongPolling},f=this.longPollingOptions.timeoutSeconds;f!==void 0&&(d.longPollingTimeout=Math.round(1e3*f)),this.useFetchStreams&&(d.useFetchStreams=!0),this.Go(d.initMessageHeaders,t,r),d.encodeInitMessageHeaders=!0;const m=a.join("");de(Qt,`Creating RPC '${e}' stream ${s}: ${m}`,d);const g=u.createWebChannel(m,d);this.I_(g);let w=!1,E=!1;const R=new MN({Ho:V=>{E?de(Qt,`Not sending because RPC '${e}' stream ${s} is closed:`,V):(w||(de(Qt,`Opening RPC '${e}' stream ${s} transport.`),g.open(),w=!0),de(Qt,`RPC '${e}' stream ${s} sending:`,V),g.send(V))},Jo:()=>g.close()});return Ol(g,Fl.EventType.OPEN,(()=>{E||(de(Qt,`RPC '${e}' stream ${s} transport opened.`),R.i_())})),Ol(g,Fl.EventType.CLOSE,(()=>{E||(E=!0,de(Qt,`RPC '${e}' stream ${s} transport closed`),R.o_(),this.E_(g))})),Ol(g,Fl.EventType.ERROR,(V=>{E||(E=!0,fa(Qt,`RPC '${e}' stream ${s} transport errored. Name:`,V.name,"Message:",V.message),R.o_(new ae(W.UNAVAILABLE,"The operation could not be completed")))})),Ol(g,Fl.EventType.MESSAGE,(V=>{if(!E){const B=V.data[0];Ke(!!B,16349);const z=B,te=z?.error||z[0]?.error;if(te){de(Qt,`RPC '${e}' stream ${s} received error:`,te);const le=te.status;let ve=(function(pe){const k=At[pe];if(k!==void 0)return oS(k)})(le),oe=te.message;ve===void 0&&(ve=W.INTERNAL,oe="Unknown error status: "+le+" with message "+te.message),E=!0,R.o_(new ae(ve,oe)),g.close()}else de(Qt,`RPC '${e}' stream ${s} received:`,B),R.__(B)}})),ca.u_(),setTimeout((()=>{R.s_()}),0),R}terminate(){this.a_.forEach((e=>e.close())),this.a_=[]}I_(e){this.a_.push(e)}E_(e){this.a_=this.a_.filter((t=>t===e))}Go(e,t,r){super.Go(e,t,r),this.databaseInfo.apiKey&&(e["x-goog-api-key"]=this.databaseInfo.apiKey)}createWebChannelTransport(){return AI()}}function UN(n){return new ca(n)}function Rp(){return typeof document<"u"?document:null}function vd(n){return new BO(n,!0)}ca.c_=!1;class wS{constructor(e,t,r=1e3,s=1.5,a=6e4){this.Ci=e,this.timerId=t,this.R_=r,this.A_=s,this.V_=a,this.d_=0,this.m_=null,this.f_=Date.now(),this.reset()}reset(){this.d_=0}g_(){this.d_=this.V_}p_(e){this.cancel();const t=Math.floor(this.d_+this.y_()),r=Math.max(0,Date.now()-this.f_),s=Math.max(0,t-r);s>0&&de("ExponentialBackoff",`Backing off for ${s} ms (base delay: ${this.d_} ms, delay with jitter: ${t} ms, last attempt: ${r} ms ago)`),this.m_=this.Ci.enqueueAfterDelay(this.timerId,s,(()=>(this.f_=Date.now(),e()))),this.d_*=this.A_,this.d_<this.R_&&(this.d_=this.R_),this.d_>this.V_&&(this.d_=this.V_)}w_(){this.m_!==null&&(this.m_.skipDelay(),this.m_=null)}cancel(){this.m_!==null&&(this.m_.cancel(),this.m_=null)}y_(){return(Math.random()-.5)*this.d_}}const ME="PersistentStream";class TS{constructor(e,t,r,s,a,u,d,f){this.Ci=e,this.b_=r,this.S_=s,this.connection=a,this.authCredentialsProvider=u,this.appCheckCredentialsProvider=d,this.listener=f,this.state=0,this.D_=0,this.C_=null,this.v_=null,this.stream=null,this.F_=0,this.M_=new wS(e,t)}x_(){return this.state===1||this.state===5||this.O_()}O_(){return this.state===2||this.state===3}start(){this.F_=0,this.state!==4?this.auth():this.N_()}async stop(){this.x_()&&await this.close(0)}B_(){this.state=0,this.M_.reset()}L_(){this.O_()&&this.C_===null&&(this.C_=this.Ci.enqueueAfterDelay(this.b_,6e4,(()=>this.k_())))}K_(e){this.q_(),this.stream.send(e)}async k_(){if(this.O_())return this.close(0)}q_(){this.C_&&(this.C_.cancel(),this.C_=null)}U_(){this.v_&&(this.v_.cancel(),this.v_=null)}async close(e,t){this.q_(),this.U_(),this.M_.cancel(),this.D_++,e!==4?this.M_.reset():t&&t.code===W.RESOURCE_EXHAUSTED?(hi(t.toString()),hi("Using maximum backoff delay to prevent overloading the backend."),this.M_.g_()):t&&t.code===W.UNAUTHENTICATED&&this.state!==3&&(this.authCredentialsProvider.invalidateToken(),this.appCheckCredentialsProvider.invalidateToken()),this.stream!==null&&(this.W_(),this.stream.close(),this.stream=null),this.state=e,await this.listener.t_(t)}W_(){}auth(){this.state=1;const e=this.Q_(this.D_),t=this.D_;Promise.all([this.authCredentialsProvider.getToken(),this.appCheckCredentialsProvider.getToken()]).then((([r,s])=>{this.D_===t&&this.G_(r,s)}),(r=>{e((()=>{const s=new ae(W.UNKNOWN,"Fetching auth token failed: "+r.message);return this.z_(s)}))}))}G_(e,t){const r=this.Q_(this.D_);this.stream=this.j_(e,t),this.stream.Zo((()=>{r((()=>this.listener.Zo()))})),this.stream.Yo((()=>{r((()=>(this.state=2,this.v_=this.Ci.enqueueAfterDelay(this.S_,1e4,(()=>(this.O_()&&(this.state=3),Promise.resolve()))),this.listener.Yo())))})),this.stream.t_((s=>{r((()=>this.z_(s)))})),this.stream.onMessage((s=>{r((()=>++this.F_==1?this.H_(s):this.onNext(s)))}))}N_(){this.state=5,this.M_.p_((async()=>{this.state=0,this.start()}))}z_(e){return de(ME,`close with error: ${e}`),this.stream=null,this.close(4,e)}Q_(e){return t=>{this.Ci.enqueueAndForget((()=>this.D_===e?t():(de(ME,"stream callback skipped by getCloseGuardedDispatcher."),Promise.resolve())))}}}class FN extends TS{constructor(e,t,r,s,a,u){super(e,"listen_stream_connection_backoff","listen_stream_idle","health_check_timeout",t,r,s,u),this.serializer=a}j_(e,t){return this.connection.T_("Listen",e,t)}H_(e){return this.onNext(e)}onNext(e){this.M_.reset();const t=qO(this.serializer,e),r=(function(a){if(!("targetChange"in a))return Oe.min();const u=a.targetChange;return u.targetIds&&u.targetIds.length?Oe.min():u.readTime?br(u.readTime):Oe.min()})(e);return this.listener.J_(t,r)}Z_(e){const t={};t.database=om(this.serializer),t.addTarget=(function(a,u){let d;const f=u.target;if(d=tm(f)?{documents:KO(a,f)}:{query:QO(a,f).ft},d.targetId=u.targetId,u.resumeToken.approximateByteSize()>0){d.resumeToken=uS(a,u.resumeToken);const m=rm(a,u.expectedCount);m!==null&&(d.expectedCount=m)}else if(u.snapshotVersion.compareTo(Oe.min())>0){d.readTime=xh(a,u.snapshotVersion.toTimestamp());const m=rm(a,u.expectedCount);m!==null&&(d.expectedCount=m)}return d})(this.serializer,e);const r=JO(this.serializer,e);r&&(t.labels=r),this.K_(t)}X_(e){const t={};t.database=om(this.serializer),t.removeTarget=e,this.K_(t)}}class jN extends TS{constructor(e,t,r,s,a,u){super(e,"write_stream_connection_backoff","write_stream_idle","health_check_timeout",t,r,s,u),this.serializer=a}get Y_(){return this.F_>0}start(){this.lastStreamToken=void 0,super.start()}W_(){this.Y_&&this.ea([])}j_(e,t){return this.connection.T_("Write",e,t)}H_(e){return Ke(!!e.streamToken,31322),this.lastStreamToken=e.streamToken,Ke(!e.writeResults||e.writeResults.length===0,55816),this.listener.ta()}onNext(e){Ke(!!e.streamToken,12678),this.lastStreamToken=e.streamToken,this.M_.reset();const t=GO(e.writeResults,e.commitTime),r=br(e.commitTime);return this.listener.na(r,t)}ra(){const e={};e.database=om(this.serializer),this.K_(e)}ea(e){const t={streamToken:this.lastStreamToken,writes:e.map((r=>WO(this.serializer,r)))};this.K_(t)}}class zN{}class BN extends zN{constructor(e,t,r,s){super(),this.authCredentials=e,this.appCheckCredentials=t,this.connection=r,this.serializer=s,this.ia=!1}sa(){if(this.ia)throw new ae(W.FAILED_PRECONDITION,"The client has already been terminated.")}Wo(e,t,r,s){return this.sa(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then((([a,u])=>this.connection.Wo(e,im(t,r),s,a,u))).catch((a=>{throw a.name==="FirebaseError"?(a.code===W.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),a):new ae(W.UNKNOWN,a.toString())}))}jo(e,t,r,s,a){return this.sa(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then((([u,d])=>this.connection.jo(e,im(t,r),s,u,d,a))).catch((u=>{throw u.name==="FirebaseError"?(u.code===W.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),u):new ae(W.UNKNOWN,u.toString())}))}terminate(){this.ia=!0,this.connection.terminate()}}function $N(n,e,t,r){return new BN(n,e,t,r)}class HN{constructor(e,t){this.asyncQueue=e,this.onlineStateHandler=t,this.state="Unknown",this.oa=0,this._a=null,this.aa=!0}ua(){this.oa===0&&(this.ca("Unknown"),this._a=this.asyncQueue.enqueueAfterDelay("online_state_timeout",1e4,(()=>(this._a=null,this.la("Backend didn't respond within 10 seconds."),this.ca("Offline"),Promise.resolve()))))}ha(e){this.state==="Online"?this.ca("Unknown"):(this.oa++,this.oa>=1&&(this.Pa(),this.la(`Connection failed 1 times. Most recent error: ${e.toString()}`),this.ca("Offline")))}set(e){this.Pa(),this.oa=0,e==="Online"&&(this.aa=!1),this.ca(e)}ca(e){e!==this.state&&(this.state=e,this.onlineStateHandler(e))}la(e){const t=`Could not reach Cloud Firestore backend. ${e}
This typically indicates that your device does not have a healthy Internet connection at the moment. The client will operate in offline mode until it is able to successfully connect to the backend.`;this.aa?(hi(t),this.aa=!1):de("OnlineStateTracker",t)}Pa(){this._a!==null&&(this._a.cancel(),this._a=null)}}const Qs="RemoteStore";class qN{constructor(e,t,r,s,a){this.localStore=e,this.datastore=t,this.asyncQueue=r,this.remoteSyncer={},this.Ta=[],this.Ia=new Map,this.Ea=new Set,this.Ra=[],this.Aa=a,this.Aa.Mo((u=>{r.enqueueAndForget((async()=>{oo(this)&&(de(Qs,"Restarting streams for network reachability change."),await(async function(f){const m=xe(f);m.Ea.add(4),await Cu(m),m.Va.set("Unknown"),m.Ea.delete(4),await Ed(m)})(this))}))})),this.Va=new HN(r,s)}}async function Ed(n){if(oo(n))for(const e of n.Ra)await e(!0)}async function Cu(n){for(const e of n.Ra)await e(!1)}function IS(n,e){const t=xe(n);t.Ia.has(e.targetId)||(t.Ia.set(e.targetId,e),pg(t)?fg(t):ba(t).O_()&&dg(t,e))}function hg(n,e){const t=xe(n),r=ba(t);t.Ia.delete(e),r.O_()&&SS(t,e),t.Ia.size===0&&(r.O_()?r.L_():oo(t)&&t.Va.set("Unknown"))}function dg(n,e){if(n.da.$e(e.targetId),e.resumeToken.approximateByteSize()>0||e.snapshotVersion.compareTo(Oe.min())>0){const t=n.remoteSyncer.getRemoteKeysForTarget(e.targetId).size;e=e.withExpectedCount(t)}ba(n).Z_(e)}function SS(n,e){n.da.$e(e),ba(n).X_(e)}function fg(n){n.da=new UO({getRemoteKeysForTarget:e=>n.remoteSyncer.getRemoteKeysForTarget(e),At:e=>n.Ia.get(e)||null,ht:()=>n.datastore.serializer.databaseId}),ba(n).start(),n.Va.ua()}function pg(n){return oo(n)&&!ba(n).x_()&&n.Ia.size>0}function oo(n){return xe(n).Ea.size===0}function AS(n){n.da=void 0}async function WN(n){n.Va.set("Online")}async function GN(n){n.Ia.forEach(((e,t)=>{dg(n,e)}))}async function KN(n,e){AS(n),pg(n)?(n.Va.ha(e),fg(n)):n.Va.set("Unknown")}async function QN(n,e,t){if(n.Va.set("Online"),e instanceof lS&&e.state===2&&e.cause)try{await(async function(s,a){const u=a.cause;for(const d of a.targetIds)s.Ia.has(d)&&(await s.remoteSyncer.rejectListen(d,u),s.Ia.delete(d),s.da.removeTarget(d))})(n,e)}catch(r){de(Qs,"Failed to remove targets %s: %s ",e.targetIds.join(","),r),await Vh(n,r)}else if(e instanceof Eh?n.da.Xe(e):e instanceof aS?n.da.st(e):n.da.tt(e),!t.isEqual(Oe.min()))try{const r=await ES(n.localStore);t.compareTo(r)>=0&&await(function(a,u){const d=a.da.Tt(u);return d.targetChanges.forEach(((f,m)=>{if(f.resumeToken.approximateByteSize()>0){const g=a.Ia.get(m);g&&a.Ia.set(m,g.withResumeToken(f.resumeToken,u))}})),d.targetMismatches.forEach(((f,m)=>{const g=a.Ia.get(f);if(!g)return;a.Ia.set(f,g.withResumeToken($t.EMPTY_BYTE_STRING,g.snapshotVersion)),SS(a,f);const w=new Xi(g.target,f,m,g.sequenceNumber);dg(a,w)})),a.remoteSyncer.applyRemoteEvent(d)})(n,t)}catch(r){de(Qs,"Failed to raise snapshot:",r),await Vh(n,r)}}async function Vh(n,e,t){if(!Ca(e))throw e;n.Ea.add(1),await Cu(n),n.Va.set("Offline"),t||(t=()=>ES(n.localStore)),n.asyncQueue.enqueueRetryable((async()=>{de(Qs,"Retrying IndexedDB access"),await t(),n.Ea.delete(1),await Ed(n)}))}function RS(n,e){return e().catch((t=>Vh(n,t,e)))}async function wd(n){const e=xe(n),t=ls(e);let r=e.Ta.length>0?e.Ta[e.Ta.length-1].batchId:Jm;for(;YN(e);)try{const s=await bN(e.localStore,r);if(s===null){e.Ta.length===0&&t.L_();break}r=s.batchId,JN(e,s)}catch(s){await Vh(e,s)}PS(e)&&CS(e)}function YN(n){return oo(n)&&n.Ta.length<10}function JN(n,e){n.Ta.push(e);const t=ls(n);t.O_()&&t.Y_&&t.ea(e.mutations)}function PS(n){return oo(n)&&!ls(n).x_()&&n.Ta.length>0}function CS(n){ls(n).start()}async function XN(n){ls(n).ra()}async function ZN(n){const e=ls(n);for(const t of n.Ta)e.ea(t.mutations)}async function eD(n,e,t){const r=n.Ta.shift(),s=ig.from(r,e,t);await RS(n,(()=>n.remoteSyncer.applySuccessfulWrite(s))),await wd(n)}async function tD(n,e){e&&ls(n).Y_&&await(async function(r,s){if((function(u){return LO(u)&&u!==W.ABORTED})(s.code)){const a=r.Ta.shift();ls(r).B_(),await RS(r,(()=>r.remoteSyncer.rejectFailedWrite(a.batchId,s))),await wd(r)}})(n,e),PS(n)&&CS(n)}async function UE(n,e){const t=xe(n);t.asyncQueue.verifyOperationInProgress(),de(Qs,"RemoteStore received new credentials");const r=oo(t);t.Ea.add(3),await Cu(t),r&&t.Va.set("Unknown"),await t.remoteSyncer.handleCredentialChange(e),t.Ea.delete(3),await Ed(t)}async function nD(n,e){const t=xe(n);e?(t.Ea.delete(2),await Ed(t)):e||(t.Ea.add(2),await Cu(t),t.Va.set("Unknown"))}function ba(n){return n.ma||(n.ma=(function(t,r,s){const a=xe(t);return a.sa(),new FN(r,a.connection,a.authCredentials,a.appCheckCredentials,a.serializer,s)})(n.datastore,n.asyncQueue,{Zo:WN.bind(null,n),Yo:GN.bind(null,n),t_:KN.bind(null,n),J_:QN.bind(null,n)}),n.Ra.push((async e=>{e?(n.ma.B_(),pg(n)?fg(n):n.Va.set("Unknown")):(await n.ma.stop(),AS(n))}))),n.ma}function ls(n){return n.fa||(n.fa=(function(t,r,s){const a=xe(t);return a.sa(),new jN(r,a.connection,a.authCredentials,a.appCheckCredentials,a.serializer,s)})(n.datastore,n.asyncQueue,{Zo:()=>Promise.resolve(),Yo:XN.bind(null,n),t_:tD.bind(null,n),ta:ZN.bind(null,n),na:eD.bind(null,n)}),n.Ra.push((async e=>{e?(n.fa.B_(),await wd(n)):(await n.fa.stop(),n.Ta.length>0&&(de(Qs,`Stopping write stream with ${n.Ta.length} pending writes`),n.Ta=[]))}))),n.fa}class mg{constructor(e,t,r,s,a){this.asyncQueue=e,this.timerId=t,this.targetTimeMs=r,this.op=s,this.removalCallback=a,this.deferred=new si,this.then=this.deferred.promise.then.bind(this.deferred.promise),this.deferred.promise.catch((u=>{}))}get promise(){return this.deferred.promise}static createAndSchedule(e,t,r,s,a){const u=Date.now()+r,d=new mg(e,t,u,s,a);return d.start(r),d}start(e){this.timerHandle=setTimeout((()=>this.handleDelayElapsed()),e)}skipDelay(){return this.handleDelayElapsed()}cancel(e){this.timerHandle!==null&&(this.clearTimeout(),this.deferred.reject(new ae(W.CANCELLED,"Operation cancelled"+(e?": "+e:""))))}handleDelayElapsed(){this.asyncQueue.enqueueAndForget((()=>this.timerHandle!==null?(this.clearTimeout(),this.op().then((e=>this.deferred.resolve(e)))):Promise.resolve()))}clearTimeout(){this.timerHandle!==null&&(this.removalCallback(this),clearTimeout(this.timerHandle),this.timerHandle=null)}}function gg(n,e){if(hi("AsyncQueue",`${e}: ${n}`),Ca(n))return new ae(W.UNAVAILABLE,`${e}: ${n}`);throw n}class ha{static emptySet(e){return new ha(e.comparator)}constructor(e){this.comparator=e?(t,r)=>e(t,r)||Ie.comparator(t.key,r.key):(t,r)=>Ie.comparator(t.key,r.key),this.keyedMap=jl(),this.sortedSet=new ct(this.comparator)}has(e){return this.keyedMap.get(e)!=null}get(e){return this.keyedMap.get(e)}first(){return this.sortedSet.minKey()}last(){return this.sortedSet.maxKey()}isEmpty(){return this.sortedSet.isEmpty()}indexOf(e){const t=this.keyedMap.get(e);return t?this.sortedSet.indexOf(t):-1}get size(){return this.sortedSet.size}forEach(e){this.sortedSet.inorderTraversal(((t,r)=>(e(t),!1)))}add(e){const t=this.delete(e.key);return t.copy(t.keyedMap.insert(e.key,e),t.sortedSet.insert(e,null))}delete(e){const t=this.get(e);return t?this.copy(this.keyedMap.remove(e),this.sortedSet.remove(t)):this}isEqual(e){if(!(e instanceof ha)||this.size!==e.size)return!1;const t=this.sortedSet.getIterator(),r=e.sortedSet.getIterator();for(;t.hasNext();){const s=t.getNext().key,a=r.getNext().key;if(!s.isEqual(a))return!1}return!0}toString(){const e=[];return this.forEach((t=>{e.push(t.toString())})),e.length===0?"DocumentSet ()":`DocumentSet (
  `+e.join(`  
`)+`
)`}copy(e,t){const r=new ha;return r.comparator=this.comparator,r.keyedMap=e,r.sortedSet=t,r}}class FE{constructor(){this.ga=new ct(Ie.comparator)}track(e){const t=e.doc.key,r=this.ga.get(t);r?e.type!==0&&r.type===3?this.ga=this.ga.insert(t,e):e.type===3&&r.type!==1?this.ga=this.ga.insert(t,{type:r.type,doc:e.doc}):e.type===2&&r.type===2?this.ga=this.ga.insert(t,{type:2,doc:e.doc}):e.type===2&&r.type===0?this.ga=this.ga.insert(t,{type:0,doc:e.doc}):e.type===1&&r.type===0?this.ga=this.ga.remove(t):e.type===1&&r.type===2?this.ga=this.ga.insert(t,{type:1,doc:r.doc}):e.type===0&&r.type===1?this.ga=this.ga.insert(t,{type:2,doc:e.doc}):Pe(63341,{Vt:e,pa:r}):this.ga=this.ga.insert(t,e)}ya(){const e=[];return this.ga.inorderTraversal(((t,r)=>{e.push(r)})),e}}class va{constructor(e,t,r,s,a,u,d,f,m){this.query=e,this.docs=t,this.oldDocs=r,this.docChanges=s,this.mutatedKeys=a,this.fromCache=u,this.syncStateChanged=d,this.excludesMetadataChanges=f,this.hasCachedResults=m}static fromInitialDocuments(e,t,r,s,a){const u=[];return t.forEach((d=>{u.push({type:0,doc:d})})),new va(e,t,ha.emptySet(t),u,r,s,!0,!1,a)}get hasPendingWrites(){return!this.mutatedKeys.isEmpty()}isEqual(e){if(!(this.fromCache===e.fromCache&&this.hasCachedResults===e.hasCachedResults&&this.syncStateChanged===e.syncStateChanged&&this.mutatedKeys.isEqual(e.mutatedKeys)&&fd(this.query,e.query)&&this.docs.isEqual(e.docs)&&this.oldDocs.isEqual(e.oldDocs)))return!1;const t=this.docChanges,r=e.docChanges;if(t.length!==r.length)return!1;for(let s=0;s<t.length;s++)if(t[s].type!==r[s].type||!t[s].doc.isEqual(r[s].doc))return!1;return!0}}class rD{constructor(){this.wa=void 0,this.ba=[]}Sa(){return this.ba.some((e=>e.Da()))}}class iD{constructor(){this.queries=jE(),this.onlineState="Unknown",this.Ca=new Set}terminate(){(function(t,r){const s=xe(t),a=s.queries;s.queries=jE(),a.forEach(((u,d)=>{for(const f of d.ba)f.onError(r)}))})(this,new ae(W.ABORTED,"Firestore shutting down"))}}function jE(){return new so((n=>GI(n)),fd)}async function yg(n,e){const t=xe(n);let r=3;const s=e.query;let a=t.queries.get(s);a?!a.Sa()&&e.Da()&&(r=2):(a=new rD,r=e.Da()?0:1);try{switch(r){case 0:a.wa=await t.onListen(s,!0);break;case 1:a.wa=await t.onListen(s,!1);break;case 2:await t.onFirstRemoteStoreListen(s)}}catch(u){const d=gg(u,`Initialization of query '${ea(e.query)}' failed`);return void e.onError(d)}t.queries.set(s,a),a.ba.push(e),e.va(t.onlineState),a.wa&&e.Fa(a.wa)&&vg(t)}async function _g(n,e){const t=xe(n),r=e.query;let s=3;const a=t.queries.get(r);if(a){const u=a.ba.indexOf(e);u>=0&&(a.ba.splice(u,1),a.ba.length===0?s=e.Da()?0:1:!a.Sa()&&e.Da()&&(s=2))}switch(s){case 0:return t.queries.delete(r),t.onUnlisten(r,!0);case 1:return t.queries.delete(r),t.onUnlisten(r,!1);case 2:return t.onLastRemoteStoreUnlisten(r);default:return}}function sD(n,e){const t=xe(n);let r=!1;for(const s of e){const a=s.query,u=t.queries.get(a);if(u){for(const d of u.ba)d.Fa(s)&&(r=!0);u.wa=s}}r&&vg(t)}function oD(n,e,t){const r=xe(n),s=r.queries.get(e);if(s)for(const a of s.ba)a.onError(t);r.queries.delete(e)}function vg(n){n.Ca.forEach((e=>{e.next()}))}var um,zE;(zE=um||(um={})).Ma="default",zE.Cache="cache";class Eg{constructor(e,t,r){this.query=e,this.xa=t,this.Oa=!1,this.Na=null,this.onlineState="Unknown",this.options=r||{}}Fa(e){if(!this.options.includeMetadataChanges){const r=[];for(const s of e.docChanges)s.type!==3&&r.push(s);e=new va(e.query,e.docs,e.oldDocs,r,e.mutatedKeys,e.fromCache,e.syncStateChanged,!0,e.hasCachedResults)}let t=!1;return this.Oa?this.Ba(e)&&(this.xa.next(e),t=!0):this.La(e,this.onlineState)&&(this.ka(e),t=!0),this.Na=e,t}onError(e){this.xa.error(e)}va(e){this.onlineState=e;let t=!1;return this.Na&&!this.Oa&&this.La(this.Na,e)&&(this.ka(this.Na),t=!0),t}La(e,t){if(!e.fromCache||!this.Da())return!0;const r=t!=="Offline";return(!this.options.Ka||!r)&&(!e.docs.isEmpty()||e.hasCachedResults||t==="Offline")}Ba(e){if(e.docChanges.length>0)return!0;const t=this.Na&&this.Na.hasPendingWrites!==e.hasPendingWrites;return!(!e.syncStateChanged&&!t)&&this.options.includeMetadataChanges===!0}ka(e){e=va.fromInitialDocuments(e.query,e.docs,e.mutatedKeys,e.fromCache,e.hasCachedResults),this.Oa=!0,this.xa.next(e)}Da(){return this.options.source!==um.Cache}}class kS{constructor(e){this.key=e}}class bS{constructor(e){this.key=e}}class aD{constructor(e,t){this.query=e,this.Za=t,this.Xa=null,this.hasCachedResults=!1,this.current=!1,this.Ya=je(),this.mutatedKeys=je(),this.eu=KI(e),this.tu=new ha(this.eu)}get nu(){return this.Za}ru(e,t){const r=t?t.iu:new FE,s=t?t.tu:this.tu;let a=t?t.mutatedKeys:this.mutatedKeys,u=s,d=!1;const f=this.query.limitType==="F"&&s.size===this.query.limit?s.last():null,m=this.query.limitType==="L"&&s.size===this.query.limit?s.first():null;if(e.inorderTraversal(((g,w)=>{const E=s.get(g),R=pd(this.query,w)?w:null,V=!!E&&this.mutatedKeys.has(E.key),B=!!R&&(R.hasLocalMutations||this.mutatedKeys.has(R.key)&&R.hasCommittedMutations);let z=!1;E&&R?E.data.isEqual(R.data)?V!==B&&(r.track({type:3,doc:R}),z=!0):this.su(E,R)||(r.track({type:2,doc:R}),z=!0,(f&&this.eu(R,f)>0||m&&this.eu(R,m)<0)&&(d=!0)):!E&&R?(r.track({type:0,doc:R}),z=!0):E&&!R&&(r.track({type:1,doc:E}),z=!0,(f||m)&&(d=!0)),z&&(R?(u=u.add(R),a=B?a.add(g):a.delete(g)):(u=u.delete(g),a=a.delete(g)))})),this.query.limit!==null)for(;u.size>this.query.limit;){const g=this.query.limitType==="F"?u.last():u.first();u=u.delete(g.key),a=a.delete(g.key),r.track({type:1,doc:g})}return{tu:u,iu:r,Ss:d,mutatedKeys:a}}su(e,t){return e.hasLocalMutations&&t.hasCommittedMutations&&!t.hasLocalMutations}applyChanges(e,t,r,s){const a=this.tu;this.tu=e.tu,this.mutatedKeys=e.mutatedKeys;const u=e.iu.ya();u.sort(((g,w)=>(function(R,V){const B=z=>{switch(z){case 0:return 1;case 2:case 3:return 2;case 1:return 0;default:return Pe(20277,{Vt:z})}};return B(R)-B(V)})(g.type,w.type)||this.eu(g.doc,w.doc))),this.ou(r),s=s??!1;const d=t&&!s?this._u():[],f=this.Ya.size===0&&this.current&&!s?1:0,m=f!==this.Xa;return this.Xa=f,u.length!==0||m?{snapshot:new va(this.query,e.tu,a,u,e.mutatedKeys,f===0,m,!1,!!r&&r.resumeToken.approximateByteSize()>0),au:d}:{au:d}}va(e){return this.current&&e==="Offline"?(this.current=!1,this.applyChanges({tu:this.tu,iu:new FE,mutatedKeys:this.mutatedKeys,Ss:!1},!1)):{au:[]}}uu(e){return!this.Za.has(e)&&!!this.tu.has(e)&&!this.tu.get(e).hasLocalMutations}ou(e){e&&(e.addedDocuments.forEach((t=>this.Za=this.Za.add(t))),e.modifiedDocuments.forEach((t=>{})),e.removedDocuments.forEach((t=>this.Za=this.Za.delete(t))),this.current=e.current)}_u(){if(!this.current)return[];const e=this.Ya;this.Ya=je(),this.tu.forEach((r=>{this.uu(r.key)&&(this.Ya=this.Ya.add(r.key))}));const t=[];return e.forEach((r=>{this.Ya.has(r)||t.push(new bS(r))})),this.Ya.forEach((r=>{e.has(r)||t.push(new kS(r))})),t}cu(e){this.Za=e.ks,this.Ya=je();const t=this.ru(e.documents);return this.applyChanges(t,!0)}lu(){return va.fromInitialDocuments(this.query,this.tu,this.mutatedKeys,this.Xa===0,this.hasCachedResults)}}const wg="SyncEngine";class lD{constructor(e,t,r){this.query=e,this.targetId=t,this.view=r}}class uD{constructor(e){this.key=e,this.hu=!1}}class cD{constructor(e,t,r,s,a,u){this.localStore=e,this.remoteStore=t,this.eventManager=r,this.sharedClientState=s,this.currentUser=a,this.maxConcurrentLimboResolutions=u,this.Pu={},this.Tu=new so((d=>GI(d)),fd),this.Iu=new Map,this.Eu=new Set,this.Ru=new ct(Ie.comparator),this.Au=new Map,this.Vu=new ag,this.du={},this.mu=new Map,this.fu=_a.ar(),this.onlineState="Unknown",this.gu=void 0}get isPrimaryClient(){return this.gu===!0}}async function hD(n,e,t=!0){const r=VS(n);let s;const a=r.Tu.get(e);return a?(r.sharedClientState.addLocalQueryTarget(a.targetId),s=a.view.lu()):s=await OS(r,e,t,!0),s}async function dD(n,e){const t=VS(n);await OS(t,e,!0,!1)}async function OS(n,e,t,r){const s=await ON(n.localStore,kr(e)),a=s.targetId,u=n.sharedClientState.addLocalQueryTarget(a,t);let d;return r&&(d=await fD(n,e,a,u==="current",s.resumeToken)),n.isPrimaryClient&&t&&IS(n.remoteStore,s),d}async function fD(n,e,t,r,s){n.pu=(w,E,R)=>(async function(B,z,te,le){let ve=z.view.ru(te);ve.Ss&&(ve=await DE(B.localStore,z.query,!1).then((({documents:k})=>z.view.ru(k,ve))));const oe=le&&le.targetChanges.get(z.targetId),we=le&&le.targetMismatches.get(z.targetId)!=null,pe=z.view.applyChanges(ve,B.isPrimaryClient,oe,we);return $E(B,z.targetId,pe.au),pe.snapshot})(n,w,E,R);const a=await DE(n.localStore,e,!0),u=new aD(e,a.ks),d=u.ru(a.documents),f=Pu.createSynthesizedTargetChangeForCurrentChange(t,r&&n.onlineState!=="Offline",s),m=u.applyChanges(d,n.isPrimaryClient,f);$E(n,t,m.au);const g=new lD(e,t,u);return n.Tu.set(e,g),n.Iu.has(t)?n.Iu.get(t).push(e):n.Iu.set(t,[e]),m.snapshot}async function pD(n,e,t){const r=xe(n),s=r.Tu.get(e),a=r.Iu.get(s.targetId);if(a.length>1)return r.Iu.set(s.targetId,a.filter((u=>!fd(u,e)))),void r.Tu.delete(e);r.isPrimaryClient?(r.sharedClientState.removeLocalQueryTarget(s.targetId),r.sharedClientState.isActiveQueryTarget(s.targetId)||await am(r.localStore,s.targetId,!1).then((()=>{r.sharedClientState.clearQueryState(s.targetId),t&&hg(r.remoteStore,s.targetId),cm(r,s.targetId)})).catch(Pa)):(cm(r,s.targetId),await am(r.localStore,s.targetId,!0))}async function mD(n,e){const t=xe(n),r=t.Tu.get(e),s=t.Iu.get(r.targetId);t.isPrimaryClient&&s.length===1&&(t.sharedClientState.removeLocalQueryTarget(r.targetId),hg(t.remoteStore,r.targetId))}async function gD(n,e,t){const r=ID(n);try{const s=await(function(u,d){const f=xe(u),m=rt.now(),g=d.reduce(((R,V)=>R.add(V.key)),je());let w,E;return f.persistence.runTransaction("Locally write mutations","readwrite",(R=>{let V=di(),B=je();return f.xs.getEntries(R,g).next((z=>{V=z,V.forEach(((te,le)=>{le.isValidDocument()||(B=B.add(te))}))})).next((()=>f.localDocuments.getOverlayedDocuments(R,V))).next((z=>{w=z;const te=[];for(const le of d){const ve=bO(le,w.get(le.key).overlayedDocument);ve!=null&&te.push(new ds(le.key,ve,FI(ve.value.mapValue),an.exists(!0)))}return f.mutationQueue.addMutationBatch(R,m,te,d)})).next((z=>{E=z;const te=z.applyToLocalDocumentSet(w,B);return f.documentOverlayCache.saveOverlays(R,z.batchId,te)}))})).then((()=>({batchId:E.batchId,changes:YI(w)})))})(r.localStore,e);r.sharedClientState.addPendingMutation(s.batchId),(function(u,d,f){let m=u.du[u.currentUser.toKey()];m||(m=new ct(Fe)),m=m.insert(d,f),u.du[u.currentUser.toKey()]=m})(r,s.batchId,t),await ku(r,s.changes),await wd(r.remoteStore)}catch(s){const a=gg(s,"Failed to persist write");t.reject(a)}}async function NS(n,e){const t=xe(n);try{const r=await CN(t.localStore,e);e.targetChanges.forEach(((s,a)=>{const u=t.Au.get(a);u&&(Ke(s.addedDocuments.size+s.modifiedDocuments.size+s.removedDocuments.size<=1,22616),s.addedDocuments.size>0?u.hu=!0:s.modifiedDocuments.size>0?Ke(u.hu,14607):s.removedDocuments.size>0&&(Ke(u.hu,42227),u.hu=!1))})),await ku(t,r,e)}catch(r){await Pa(r)}}function BE(n,e,t){const r=xe(n);if(r.isPrimaryClient&&t===0||!r.isPrimaryClient&&t===1){const s=[];r.Tu.forEach(((a,u)=>{const d=u.view.va(e);d.snapshot&&s.push(d.snapshot)})),(function(u,d){const f=xe(u);f.onlineState=d;let m=!1;f.queries.forEach(((g,w)=>{for(const E of w.ba)E.va(d)&&(m=!0)})),m&&vg(f)})(r.eventManager,e),s.length&&r.Pu.J_(s),r.onlineState=e,r.isPrimaryClient&&r.sharedClientState.setOnlineState(e)}}async function yD(n,e,t){const r=xe(n);r.sharedClientState.updateQueryState(e,"rejected",t);const s=r.Au.get(e),a=s&&s.key;if(a){let u=new ct(Ie.comparator);u=u.insert(a,Jt.newNoDocument(a,Oe.min()));const d=je().add(a),f=new _d(Oe.min(),new Map,new ct(Fe),u,d);await NS(r,f),r.Ru=r.Ru.remove(a),r.Au.delete(e),Tg(r)}else await am(r.localStore,e,!1).then((()=>cm(r,e,t))).catch(Pa)}async function _D(n,e){const t=xe(n),r=e.batch.batchId;try{const s=await PN(t.localStore,e);xS(t,r,null),DS(t,r),t.sharedClientState.updateMutationState(r,"acknowledged"),await ku(t,s)}catch(s){await Pa(s)}}async function vD(n,e,t){const r=xe(n);try{const s=await(function(u,d){const f=xe(u);return f.persistence.runTransaction("Reject batch","readwrite-primary",(m=>{let g;return f.mutationQueue.lookupMutationBatch(m,d).next((w=>(Ke(w!==null,37113),g=w.keys(),f.mutationQueue.removeMutationBatch(m,w)))).next((()=>f.mutationQueue.performConsistencyCheck(m))).next((()=>f.documentOverlayCache.removeOverlaysForBatchId(m,g,d))).next((()=>f.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(m,g))).next((()=>f.localDocuments.getDocuments(m,g)))}))})(r.localStore,e);xS(r,e,t),DS(r,e),r.sharedClientState.updateMutationState(e,"rejected",t),await ku(r,s)}catch(s){await Pa(s)}}function DS(n,e){(n.mu.get(e)||[]).forEach((t=>{t.resolve()})),n.mu.delete(e)}function xS(n,e,t){const r=xe(n);let s=r.du[r.currentUser.toKey()];if(s){const a=s.get(e);a&&(t?a.reject(t):a.resolve(),s=s.remove(e)),r.du[r.currentUser.toKey()]=s}}function cm(n,e,t=null){n.sharedClientState.removeLocalQueryTarget(e);for(const r of n.Iu.get(e))n.Tu.delete(r),t&&n.Pu.yu(r,t);n.Iu.delete(e),n.isPrimaryClient&&n.Vu.Gr(e).forEach((r=>{n.Vu.containsKey(r)||LS(n,r)}))}function LS(n,e){n.Eu.delete(e.path.canonicalString());const t=n.Ru.get(e);t!==null&&(hg(n.remoteStore,t),n.Ru=n.Ru.remove(e),n.Au.delete(t),Tg(n))}function $E(n,e,t){for(const r of t)r instanceof kS?(n.Vu.addReference(r.key,e),ED(n,r)):r instanceof bS?(de(wg,"Document no longer in limbo: "+r.key),n.Vu.removeReference(r.key,e),n.Vu.containsKey(r.key)||LS(n,r.key)):Pe(19791,{wu:r})}function ED(n,e){const t=e.key,r=t.path.canonicalString();n.Ru.get(t)||n.Eu.has(r)||(de(wg,"New document in limbo: "+t),n.Eu.add(r),Tg(n))}function Tg(n){for(;n.Eu.size>0&&n.Ru.size<n.maxConcurrentLimboResolutions;){const e=n.Eu.values().next().value;n.Eu.delete(e);const t=new Ie(Ze.fromString(e)),r=n.fu.next();n.Au.set(r,new uD(t)),n.Ru=n.Ru.insert(t,r),IS(n.remoteStore,new Xi(kr(dd(t.path)),r,"TargetPurposeLimboResolution",ud.ce))}}async function ku(n,e,t){const r=xe(n),s=[],a=[],u=[];r.Tu.isEmpty()||(r.Tu.forEach(((d,f)=>{u.push(r.pu(f,e,t).then((m=>{if((m||t)&&r.isPrimaryClient){const g=m?!m.fromCache:t?.targetChanges.get(f.targetId)?.current;r.sharedClientState.updateQueryState(f.targetId,g?"current":"not-current")}if(m){s.push(m);const g=ug.Es(f.targetId,m);a.push(g)}})))})),await Promise.all(u),r.Pu.J_(s),await(async function(f,m){const g=xe(f);try{await g.persistence.runTransaction("notifyLocalViewChanges","readwrite",(w=>K.forEach(m,(E=>K.forEach(E.Ts,(R=>g.persistence.referenceDelegate.addReference(w,E.targetId,R))).next((()=>K.forEach(E.Is,(R=>g.persistence.referenceDelegate.removeReference(w,E.targetId,R)))))))))}catch(w){if(!Ca(w))throw w;de(cg,"Failed to update sequence numbers: "+w)}for(const w of m){const E=w.targetId;if(!w.fromCache){const R=g.vs.get(E),V=R.snapshotVersion,B=R.withLastLimboFreeSnapshotVersion(V);g.vs=g.vs.insert(E,B)}}})(r.localStore,a))}async function wD(n,e){const t=xe(n);if(!t.currentUser.isEqual(e)){de(wg,"User change. New user:",e.toKey());const r=await vS(t.localStore,e);t.currentUser=e,(function(a,u){a.mu.forEach((d=>{d.forEach((f=>{f.reject(new ae(W.CANCELLED,u))}))})),a.mu.clear()})(t,"'waitForPendingWrites' promise is rejected due to a user change."),t.sharedClientState.handleUserChange(e,r.removedBatchIds,r.addedBatchIds),await ku(t,r.Ns)}}function TD(n,e){const t=xe(n),r=t.Au.get(e);if(r&&r.hu)return je().add(r.key);{let s=je();const a=t.Iu.get(e);if(!a)return s;for(const u of a){const d=t.Tu.get(u);s=s.unionWith(d.view.nu)}return s}}function VS(n){const e=xe(n);return e.remoteStore.remoteSyncer.applyRemoteEvent=NS.bind(null,e),e.remoteStore.remoteSyncer.getRemoteKeysForTarget=TD.bind(null,e),e.remoteStore.remoteSyncer.rejectListen=yD.bind(null,e),e.Pu.J_=sD.bind(null,e.eventManager),e.Pu.yu=oD.bind(null,e.eventManager),e}function ID(n){const e=xe(n);return e.remoteStore.remoteSyncer.applySuccessfulWrite=_D.bind(null,e),e.remoteStore.remoteSyncer.rejectFailedWrite=vD.bind(null,e),e}class Mh{constructor(){this.kind="memory",this.synchronizeTabs=!1}async initialize(e){this.serializer=vd(e.databaseInfo.databaseId),this.sharedClientState=this.Du(e),this.persistence=this.Cu(e),await this.persistence.start(),this.localStore=this.vu(e),this.gcScheduler=this.Fu(e,this.localStore),this.indexBackfillerScheduler=this.Mu(e,this.localStore)}Fu(e,t){return null}Mu(e,t){return null}vu(e){return RN(this.persistence,new IN,e.initialUser,this.serializer)}Cu(e){return new _S(lg.Vi,this.serializer)}Du(e){return new DN}async terminate(){this.gcScheduler?.stop(),this.indexBackfillerScheduler?.stop(),this.sharedClientState.shutdown(),await this.persistence.shutdown()}}Mh.provider={build:()=>new Mh};class SD extends Mh{constructor(e){super(),this.cacheSizeBytes=e}Fu(e,t){Ke(this.persistence.referenceDelegate instanceof Lh,46915);const r=this.persistence.referenceDelegate.garbageCollector;return new lN(r,e.asyncQueue,t)}Cu(e){const t=this.cacheSizeBytes!==void 0?mn.withCacheSize(this.cacheSizeBytes):mn.DEFAULT;return new _S((r=>Lh.Vi(r,t)),this.serializer)}}class hm{async initialize(e,t){this.localStore||(this.localStore=e.localStore,this.sharedClientState=e.sharedClientState,this.datastore=this.createDatastore(t),this.remoteStore=this.createRemoteStore(t),this.eventManager=this.createEventManager(t),this.syncEngine=this.createSyncEngine(t,!e.synchronizeTabs),this.sharedClientState.onlineStateHandler=r=>BE(this.syncEngine,r,1),this.remoteStore.remoteSyncer.handleCredentialChange=wD.bind(null,this.syncEngine),await nD(this.remoteStore,this.syncEngine.isPrimaryClient))}createEventManager(e){return(function(){return new iD})()}createDatastore(e){const t=vd(e.databaseInfo.databaseId),r=UN(e.databaseInfo);return $N(e.authCredentials,e.appCheckCredentials,r,t)}createRemoteStore(e){return(function(r,s,a,u,d){return new qN(r,s,a,u,d)})(this.localStore,this.datastore,e.asyncQueue,(t=>BE(this.syncEngine,t,0)),(function(){return VE.v()?new VE:new xN})())}createSyncEngine(e,t){return(function(s,a,u,d,f,m,g){const w=new cD(s,a,u,d,f,m);return g&&(w.gu=!0),w})(this.localStore,this.remoteStore,this.eventManager,this.sharedClientState,e.initialUser,e.maxConcurrentLimboResolutions,t)}async terminate(){await(async function(t){const r=xe(t);de(Qs,"RemoteStore shutting down."),r.Ea.add(5),await Cu(r),r.Aa.shutdown(),r.Va.set("Unknown")})(this.remoteStore),this.datastore?.terminate(),this.eventManager?.terminate()}}hm.provider={build:()=>new hm};class Ig{constructor(e){this.observer=e,this.muted=!1}next(e){this.muted||this.observer.next&&this.Ou(this.observer.next,e)}error(e){this.muted||(this.observer.error?this.Ou(this.observer.error,e):hi("Uncaught Error in snapshot listener:",e.toString()))}Nu(){this.muted=!0}Ou(e,t){setTimeout((()=>{this.muted||e(t)}),0)}}const us="FirestoreClient";class AD{constructor(e,t,r,s,a){this.authCredentials=e,this.appCheckCredentials=t,this.asyncQueue=r,this._databaseInfo=s,this.user=Yt.UNAUTHENTICATED,this.clientId=Ym.newId(),this.authCredentialListener=()=>Promise.resolve(),this.appCheckCredentialListener=()=>Promise.resolve(),this._uninitializedComponentsProvider=a,this.authCredentials.start(r,(async u=>{de(us,"Received user=",u.uid),await this.authCredentialListener(u),this.user=u})),this.appCheckCredentials.start(r,(u=>(de(us,"Received new app check token=",u),this.appCheckCredentialListener(u,this.user))))}get configuration(){return{asyncQueue:this.asyncQueue,databaseInfo:this._databaseInfo,clientId:this.clientId,authCredentials:this.authCredentials,appCheckCredentials:this.appCheckCredentials,initialUser:this.user,maxConcurrentLimboResolutions:100}}setCredentialChangeListener(e){this.authCredentialListener=e}setAppCheckTokenChangeListener(e){this.appCheckCredentialListener=e}terminate(){this.asyncQueue.enterRestrictedMode();const e=new si;return this.asyncQueue.enqueueAndForgetEvenWhileRestricted((async()=>{try{this._onlineComponents&&await this._onlineComponents.terminate(),this._offlineComponents&&await this._offlineComponents.terminate(),this.authCredentials.shutdown(),this.appCheckCredentials.shutdown(),e.resolve()}catch(t){const r=gg(t,"Failed to shutdown persistence");e.reject(r)}})),e.promise}}async function Pp(n,e){n.asyncQueue.verifyOperationInProgress(),de(us,"Initializing OfflineComponentProvider");const t=n.configuration;await e.initialize(t);let r=t.initialUser;n.setCredentialChangeListener((async s=>{r.isEqual(s)||(await vS(e.localStore,s),r=s)})),e.persistence.setDatabaseDeletedListener((()=>n.terminate())),n._offlineComponents=e}async function HE(n,e){n.asyncQueue.verifyOperationInProgress();const t=await RD(n);de(us,"Initializing OnlineComponentProvider"),await e.initialize(t,n.configuration),n.setCredentialChangeListener((r=>UE(e.remoteStore,r))),n.setAppCheckTokenChangeListener(((r,s)=>UE(e.remoteStore,s))),n._onlineComponents=e}async function RD(n){if(!n._offlineComponents)if(n._uninitializedComponentsProvider){de(us,"Using user provided OfflineComponentProvider");try{await Pp(n,n._uninitializedComponentsProvider._offline)}catch(e){const t=e;if(!(function(s){return s.name==="FirebaseError"?s.code===W.FAILED_PRECONDITION||s.code===W.UNIMPLEMENTED:!(typeof DOMException<"u"&&s instanceof DOMException)||s.code===22||s.code===20||s.code===11})(t))throw t;fa("Error using user provided cache. Falling back to memory cache: "+t),await Pp(n,new Mh)}}else de(us,"Using default OfflineComponentProvider"),await Pp(n,new SD(void 0));return n._offlineComponents}async function MS(n){return n._onlineComponents||(n._uninitializedComponentsProvider?(de(us,"Using user provided OnlineComponentProvider"),await HE(n,n._uninitializedComponentsProvider._online)):(de(us,"Using default OnlineComponentProvider"),await HE(n,new hm))),n._onlineComponents}function PD(n){return MS(n).then((e=>e.syncEngine))}async function Uh(n){const e=await MS(n),t=e.eventManager;return t.onListen=hD.bind(null,e.syncEngine),t.onUnlisten=pD.bind(null,e.syncEngine),t.onFirstRemoteStoreListen=dD.bind(null,e.syncEngine),t.onLastRemoteStoreUnlisten=mD.bind(null,e.syncEngine),t}function CD(n,e,t,r){const s=new Ig(r),a=new Eg(e,s,t);return n.asyncQueue.enqueueAndForget((async()=>yg(await Uh(n),a))),()=>{s.Nu(),n.asyncQueue.enqueueAndForget((async()=>_g(await Uh(n),a)))}}function kD(n,e,t={}){const r=new si;return n.asyncQueue.enqueueAndForget((async()=>(function(a,u,d,f,m){const g=new Ig({next:E=>{g.Nu(),u.enqueueAndForget((()=>_g(a,w)));const R=E.docs.has(d);!R&&E.fromCache?m.reject(new ae(W.UNAVAILABLE,"Failed to get document because the client is offline.")):R&&E.fromCache&&f&&f.source==="server"?m.reject(new ae(W.UNAVAILABLE,'Failed to get document from server. (However, this document does exist in the local cache. Run again without setting source to "server" to retrieve the cached document.)')):m.resolve(E)},error:E=>m.reject(E)}),w=new Eg(dd(d.path),g,{includeMetadataChanges:!0,Ka:!0});return yg(a,w)})(await Uh(n),n.asyncQueue,e,t,r))),r.promise}function bD(n,e,t={}){const r=new si;return n.asyncQueue.enqueueAndForget((async()=>(function(a,u,d,f,m){const g=new Ig({next:E=>{g.Nu(),u.enqueueAndForget((()=>_g(a,w))),E.fromCache&&f.source==="server"?m.reject(new ae(W.UNAVAILABLE,'Failed to get documents from server. (However, these documents may exist in the local cache. Run again without setting source to "server" to retrieve the cached documents.)')):m.resolve(E)},error:E=>m.reject(E)}),w=new Eg(d,g,{includeMetadataChanges:!0,Ka:!0});return yg(a,w)})(await Uh(n),n.asyncQueue,e,t,r))),r.promise}function OD(n,e){const t=new si;return n.asyncQueue.enqueueAndForget((async()=>gD(await PD(n),e,t))),t.promise}function US(n){const e={};return n.timeoutSeconds!==void 0&&(e.timeoutSeconds=n.timeoutSeconds),e}const ND="ComponentProvider",qE=new Map;function DD(n,e,t,r,s){return new Zb(n,e,t,s.host,s.ssl,s.experimentalForceLongPolling,s.experimentalAutoDetectLongPolling,US(s.experimentalLongPollingOptions),s.useFetchStreams,s.isUsingEmulator,r)}const FS="firestore.googleapis.com",WE=!0;class GE{constructor(e){if(e.host===void 0){if(e.ssl!==void 0)throw new ae(W.INVALID_ARGUMENT,"Can't provide ssl option if host option is not set");this.host=FS,this.ssl=WE}else this.host=e.host,this.ssl=e.ssl??WE;if(this.isUsingEmulator=e.emulatorOptions!==void 0,this.credentials=e.credentials,this.ignoreUndefinedProperties=!!e.ignoreUndefinedProperties,this.localCache=e.localCache,e.cacheSizeBytes===void 0)this.cacheSizeBytes=yS;else{if(e.cacheSizeBytes!==-1&&e.cacheSizeBytes<oN)throw new ae(W.INVALID_ARGUMENT,"cacheSizeBytes must be at least 1048576");this.cacheSizeBytes=e.cacheSizeBytes}zb("experimentalForceLongPolling",e.experimentalForceLongPolling,"experimentalAutoDetectLongPolling",e.experimentalAutoDetectLongPolling),this.experimentalForceLongPolling=!!e.experimentalForceLongPolling,this.experimentalForceLongPolling?this.experimentalAutoDetectLongPolling=!1:e.experimentalAutoDetectLongPolling===void 0?this.experimentalAutoDetectLongPolling=!0:this.experimentalAutoDetectLongPolling=!!e.experimentalAutoDetectLongPolling,this.experimentalLongPollingOptions=US(e.experimentalLongPollingOptions??{}),(function(r){if(r.timeoutSeconds!==void 0){if(isNaN(r.timeoutSeconds))throw new ae(W.INVALID_ARGUMENT,`invalid long polling timeout: ${r.timeoutSeconds} (must not be NaN)`);if(r.timeoutSeconds<5)throw new ae(W.INVALID_ARGUMENT,`invalid long polling timeout: ${r.timeoutSeconds} (minimum allowed value is 5)`);if(r.timeoutSeconds>30)throw new ae(W.INVALID_ARGUMENT,`invalid long polling timeout: ${r.timeoutSeconds} (maximum allowed value is 30)`)}})(this.experimentalLongPollingOptions),this.useFetchStreams=!!e.useFetchStreams}isEqual(e){return this.host===e.host&&this.ssl===e.ssl&&this.credentials===e.credentials&&this.cacheSizeBytes===e.cacheSizeBytes&&this.experimentalForceLongPolling===e.experimentalForceLongPolling&&this.experimentalAutoDetectLongPolling===e.experimentalAutoDetectLongPolling&&(function(r,s){return r.timeoutSeconds===s.timeoutSeconds})(this.experimentalLongPollingOptions,e.experimentalLongPollingOptions)&&this.ignoreUndefinedProperties===e.ignoreUndefinedProperties&&this.useFetchStreams===e.useFetchStreams}}class Td{constructor(e,t,r,s){this._authCredentials=e,this._appCheckCredentials=t,this._databaseId=r,this._app=s,this.type="firestore-lite",this._persistenceKey="(lite)",this._settings=new GE({}),this._settingsFrozen=!1,this._emulatorOptions={},this._terminateTask="notTerminated"}get app(){if(!this._app)throw new ae(W.FAILED_PRECONDITION,"Firestore was not initialized using the Firebase SDK. 'app' is not available");return this._app}get _initialized(){return this._settingsFrozen}get _terminated(){return this._terminateTask!=="notTerminated"}_setSettings(e){if(this._settingsFrozen)throw new ae(W.FAILED_PRECONDITION,"Firestore has already been started and its settings can no longer be changed. You can only modify settings before calling any other methods on a Firestore object.");this._settings=new GE(e),this._emulatorOptions=e.emulatorOptions||{},e.credentials!==void 0&&(this._authCredentials=(function(r){if(!r)return new Ob;switch(r.type){case"firstParty":return new Lb(r.sessionIndex||"0",r.iamToken||null,r.authTokenFactory||null);case"provider":return r.client;default:throw new ae(W.INVALID_ARGUMENT,"makeAuthCredentialsProvider failed due to invalid credential type")}})(e.credentials))}_getSettings(){return this._settings}_getEmulatorOptions(){return this._emulatorOptions}_freezeSettings(){return this._settingsFrozen=!0,this._settings}_delete(){return this._terminateTask==="notTerminated"&&(this._terminateTask=this._terminate()),this._terminateTask}async _restart(){this._terminateTask==="notTerminated"?await this._terminate():this._terminateTask="notTerminated"}toJSON(){return{app:this._app,databaseId:this._databaseId,settings:this._settings}}_terminate(){return(function(t){const r=qE.get(t);r&&(de(ND,"Removing Datastore"),qE.delete(t),r.terminate())})(this),Promise.resolve()}}function xD(n,e,t,r={}){n=on(n,Td);const s=xr(e),a=n._getSettings(),u={...a,emulatorOptions:n._getEmulatorOptions()},d=`${e}:${t}`;s&&(Jh(`https://${d}`),Xh("Firestore",!0)),a.host!==FS&&a.host!==d&&fa("Host has been set in both settings() and connectFirestoreEmulator(), emulator host will be used.");const f={...a,host:d,ssl:s,emulatorOptions:r};if(!oi(f,u)&&(n._setSettings(f),r.mockUserToken)){let m,g;if(typeof r.mockUserToken=="string")m=r.mockUserToken,g=Yt.MOCK_USER;else{m=wT(r.mockUserToken,n._app?.options.projectId);const w=r.mockUserToken.sub||r.mockUserToken.user_id;if(!w)throw new ae(W.INVALID_ARGUMENT,"mockUserToken must contain 'sub' or 'user_id' field!");g=new Yt(w)}n._authCredentials=new Nb(new PI(m,g))}}class gi{constructor(e,t,r){this.converter=t,this._query=r,this.type="query",this.firestore=e}withConverter(e){return new gi(this.firestore,e,this._query)}}class pt{constructor(e,t,r){this.converter=t,this._key=r,this.type="document",this.firestore=e}get _path(){return this._key.path}get id(){return this._key.path.lastSegment()}get path(){return this._key.path.canonicalString()}get parent(){return new rs(this.firestore,this.converter,this._key.path.popLast())}withConverter(e){return new pt(this.firestore,e,this._key)}toJSON(){return{type:pt._jsonSchemaVersion,referencePath:this._key.toString()}}static fromJSON(e,t,r){if(Au(t,pt._jsonSchema))return new pt(e,r||null,new Ie(Ze.fromString(t.referencePath)))}}pt._jsonSchemaVersion="firestore/documentReference/1.0",pt._jsonSchema={type:Ct("string",pt._jsonSchemaVersion),referencePath:Ct("string")};class rs extends gi{constructor(e,t,r){super(e,t,dd(r)),this._path=r,this.type="collection"}get id(){return this._query.path.lastSegment()}get path(){return this._query.path.canonicalString()}get parent(){const e=this._path.popLast();return e.isEmpty()?null:new pt(this.firestore,null,new Ie(e))}withConverter(e){return new rs(this.firestore,e,this._path)}}function Bl(n,e,...t){if(n=ge(n),CI("collection","path",e),n instanceof Td){const r=Ze.fromString(e,...t);return oE(r),new rs(n,null,r)}{if(!(n instanceof pt||n instanceof rs))throw new ae(W.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const r=n._path.child(Ze.fromString(e,...t));return oE(r),new rs(n.firestore,null,r)}}function ri(n,e,...t){if(n=ge(n),arguments.length===1&&(e=Ym.newId()),CI("doc","path",e),n instanceof Td){const r=Ze.fromString(e,...t);return sE(r),new pt(n,null,new Ie(r))}{if(!(n instanceof pt||n instanceof rs))throw new ae(W.INVALID_ARGUMENT,"Expected first argument to doc() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const r=n._path.child(Ze.fromString(e,...t));return sE(r),new pt(n.firestore,n instanceof rs?n.converter:null,new Ie(r))}}const KE="AsyncQueue";class QE{constructor(e=Promise.resolve()){this.Yu=[],this.ec=!1,this.tc=[],this.nc=null,this.rc=!1,this.sc=!1,this.oc=[],this.M_=new wS(this,"async_queue_retry"),this._c=()=>{const r=Rp();r&&de(KE,"Visibility state changed to "+r.visibilityState),this.M_.w_()},this.ac=e;const t=Rp();t&&typeof t.addEventListener=="function"&&t.addEventListener("visibilitychange",this._c)}get isShuttingDown(){return this.ec}enqueueAndForget(e){this.enqueue(e)}enqueueAndForgetEvenWhileRestricted(e){this.uc(),this.cc(e)}enterRestrictedMode(e){if(!this.ec){this.ec=!0,this.sc=e||!1;const t=Rp();t&&typeof t.removeEventListener=="function"&&t.removeEventListener("visibilitychange",this._c)}}enqueue(e){if(this.uc(),this.ec)return new Promise((()=>{}));const t=new si;return this.cc((()=>this.ec&&this.sc?Promise.resolve():(e().then(t.resolve,t.reject),t.promise))).then((()=>t.promise))}enqueueRetryable(e){this.enqueueAndForget((()=>(this.Yu.push(e),this.lc())))}async lc(){if(this.Yu.length!==0){try{await this.Yu[0](),this.Yu.shift(),this.M_.reset()}catch(e){if(!Ca(e))throw e;de(KE,"Operation failed with retryable error: "+e)}this.Yu.length>0&&this.M_.p_((()=>this.lc()))}}cc(e){const t=this.ac.then((()=>(this.rc=!0,e().catch((r=>{throw this.nc=r,this.rc=!1,hi("INTERNAL UNHANDLED ERROR: ",YE(r)),r})).then((r=>(this.rc=!1,r))))));return this.ac=t,t}enqueueAfterDelay(e,t,r){this.uc(),this.oc.indexOf(e)>-1&&(t=0);const s=mg.createAndSchedule(this,e,t,r,(a=>this.hc(a)));return this.tc.push(s),s}uc(){this.nc&&Pe(47125,{Pc:YE(this.nc)})}verifyOperationInProgress(){}async Tc(){let e;do e=this.ac,await e;while(e!==this.ac)}Ic(e){for(const t of this.tc)if(t.timerId===e)return!0;return!1}Ec(e){return this.Tc().then((()=>{this.tc.sort(((t,r)=>t.targetTimeMs-r.targetTimeMs));for(const t of this.tc)if(t.skipDelay(),e!=="all"&&t.timerId===e)break;return this.Tc()}))}Rc(e){this.oc.push(e)}hc(e){const t=this.tc.indexOf(e);this.tc.splice(t,1)}}function YE(n){let e=n.message||"";return n.stack&&(e=n.stack.includes(n.message)?n.stack:n.message+`
`+n.stack),e}class Dr extends Td{constructor(e,t,r,s){super(e,t,r,s),this.type="firestore",this._queue=new QE,this._persistenceKey=s?.name||"[DEFAULT]"}async _terminate(){if(this._firestoreClient){const e=this._firestoreClient.terminate();this._queue=new QE(e),this._firestoreClient=void 0,await e}}}function LD(n,e){const t=typeof n=="object"?n:_u(),r=typeof n=="string"?n:bh,s=fi(t,"firestore").getImmediate({identifier:r});if(!s._initialized){const a=Am("firestore");a&&xD(s,...a)}return s}function bu(n){if(n._terminated)throw new ae(W.FAILED_PRECONDITION,"The client has already been terminated.");return n._firestoreClient||VD(n),n._firestoreClient}function VD(n){const e=n._freezeSettings(),t=DD(n._databaseId,n._app?.options.appId||"",n._persistenceKey,n._app?.options.apiKey,e);n._componentsProvider||e.localCache?._offlineComponentProvider&&e.localCache?._onlineComponentProvider&&(n._componentsProvider={_offline:e.localCache._offlineComponentProvider,_online:e.localCache._onlineComponentProvider}),n._firestoreClient=new AD(n._authCredentials,n._appCheckCredentials,n._queue,t,n._componentsProvider&&(function(s){const a=s?._online.build();return{_offline:s?._offline.build(a),_online:a}})(n._componentsProvider))}class $n{constructor(e){this._byteString=e}static fromBase64String(e){try{return new $n($t.fromBase64String(e))}catch(t){throw new ae(W.INVALID_ARGUMENT,"Failed to construct data from Base64 string: "+t)}}static fromUint8Array(e){return new $n($t.fromUint8Array(e))}toBase64(){return this._byteString.toBase64()}toUint8Array(){return this._byteString.toUint8Array()}toString(){return"Bytes(base64: "+this.toBase64()+")"}isEqual(e){return this._byteString.isEqual(e._byteString)}toJSON(){return{type:$n._jsonSchemaVersion,bytes:this.toBase64()}}static fromJSON(e){if(Au(e,$n._jsonSchema))return $n.fromBase64String(e.bytes)}}$n._jsonSchemaVersion="firestore/bytes/1.0",$n._jsonSchema={type:Ct("string",$n._jsonSchemaVersion),bytes:Ct("string")};class Id{constructor(...e){for(let t=0;t<e.length;++t)if(e[t].length===0)throw new ae(W.INVALID_ARGUMENT,"Invalid field name at argument $(i + 1). Field names must not be empty.");this._internalPath=new Bt(e)}isEqual(e){return this._internalPath.isEqual(e._internalPath)}}class Oa{constructor(e){this._methodName=e}}class Or{constructor(e,t){if(!isFinite(e)||e<-90||e>90)throw new ae(W.INVALID_ARGUMENT,"Latitude must be a number between -90 and 90, but was: "+e);if(!isFinite(t)||t<-180||t>180)throw new ae(W.INVALID_ARGUMENT,"Longitude must be a number between -180 and 180, but was: "+t);this._lat=e,this._long=t}get latitude(){return this._lat}get longitude(){return this._long}isEqual(e){return this._lat===e._lat&&this._long===e._long}_compareTo(e){return Fe(this._lat,e._lat)||Fe(this._long,e._long)}toJSON(){return{latitude:this._lat,longitude:this._long,type:Or._jsonSchemaVersion}}static fromJSON(e){if(Au(e,Or._jsonSchema))return new Or(e.latitude,e.longitude)}}Or._jsonSchemaVersion="firestore/geoPoint/1.0",Or._jsonSchema={type:Ct("string",Or._jsonSchemaVersion),latitude:Ct("number"),longitude:Ct("number")};class sr{constructor(e){this._values=(e||[]).map((t=>t))}toArray(){return this._values.map((e=>e))}isEqual(e){return(function(r,s){if(r.length!==s.length)return!1;for(let a=0;a<r.length;++a)if(r[a]!==s[a])return!1;return!0})(this._values,e._values)}toJSON(){return{type:sr._jsonSchemaVersion,vectorValues:this._values}}static fromJSON(e){if(Au(e,sr._jsonSchema)){if(Array.isArray(e.vectorValues)&&e.vectorValues.every((t=>typeof t=="number")))return new sr(e.vectorValues);throw new ae(W.INVALID_ARGUMENT,"Expected 'vectorValues' field to be a number array")}}}sr._jsonSchemaVersion="firestore/vectorValue/1.0",sr._jsonSchema={type:Ct("string",sr._jsonSchemaVersion),vectorValues:Ct("object")};const MD=/^__.*__$/;class UD{constructor(e,t,r){this.data=e,this.fieldMask=t,this.fieldTransforms=r}toMutation(e,t){return this.fieldMask!==null?new ds(e,this.data,this.fieldMask,t,this.fieldTransforms):new Ru(e,this.data,t,this.fieldTransforms)}}class jS{constructor(e,t,r){this.data=e,this.fieldMask=t,this.fieldTransforms=r}toMutation(e,t){return new ds(e,this.data,this.fieldMask,t,this.fieldTransforms)}}function zS(n){switch(n){case 0:case 2:case 1:return!0;case 3:case 4:return!1;default:throw Pe(40011,{dataSource:n})}}class Sd{constructor(e,t,r,s,a,u){this.settings=e,this.databaseId=t,this.serializer=r,this.ignoreUndefinedProperties=s,a===void 0&&this.validatePath(),this.fieldTransforms=a||[],this.fieldMask=u||[]}get path(){return this.settings.path}get dataSource(){return this.settings.dataSource}contextWith(e){return new Sd({...this.settings,...e},this.databaseId,this.serializer,this.ignoreUndefinedProperties,this.fieldTransforms,this.fieldMask)}childContextForField(e){const t=this.path?.child(e),r=this.contextWith({path:t,arrayElement:!1});return r.validatePathSegment(e),r}childContextForFieldPath(e){const t=this.path?.child(e),r=this.contextWith({path:t,arrayElement:!1});return r.validatePath(),r}childContextForArray(e){return this.contextWith({path:void 0,arrayElement:!0})}createError(e){return Fh(e,this.settings.methodName,this.settings.hasConverter||!1,this.path,this.settings.targetDoc)}contains(e){return this.fieldMask.find((t=>e.isPrefixOf(t)))!==void 0||this.fieldTransforms.find((t=>e.isPrefixOf(t.field)))!==void 0}validatePath(){if(this.path)for(let e=0;e<this.path.length;e++)this.validatePathSegment(this.path.get(e))}validatePathSegment(e){if(e.length===0)throw this.createError("Document fields must not be empty");if(zS(this.dataSource)&&MD.test(e))throw this.createError('Document fields cannot begin and end with "__"')}}class FD{constructor(e,t,r){this.databaseId=e,this.ignoreUndefinedProperties=t,this.serializer=r||vd(e)}createContext(e,t,r,s=!1){return new Sd({dataSource:e,methodName:t,targetDoc:r,path:Bt.emptyPath(),arrayElement:!1,hasConverter:s},this.databaseId,this.serializer,this.ignoreUndefinedProperties)}}function Ou(n){const e=n._freezeSettings(),t=vd(n._databaseId);return new FD(n._databaseId,!!e.ignoreUndefinedProperties,t)}function Sg(n,e,t,r,s,a={}){const u=n.createContext(a.merge||a.mergeFields?2:0,e,t,s);Cg("Data must be an object, but it was:",u,r);const d=HS(r,u);let f,m;if(a.merge)f=new kn(u.fieldMask),m=u.fieldTransforms;else if(a.mergeFields){const g=[];for(const w of a.mergeFields){const E=Ys(e,w,t);if(!u.contains(E))throw new ae(W.INVALID_ARGUMENT,`Field '${E}' is specified in your field mask but missing from your input data.`);GS(g,E)||g.push(E)}f=new kn(g),m=u.fieldTransforms.filter((w=>f.covers(w.field)))}else f=null,m=u.fieldTransforms;return new UD(new yn(d),f,m)}class Nu extends Oa{_toFieldTransform(e){if(e.dataSource!==2)throw e.dataSource===1?e.createError(`${this._methodName}() can only appear at the top level of your update data`):e.createError(`${this._methodName}() cannot be used with set() unless you pass {merge:true}`);return e.fieldMask.push(e.path),null}isEqual(e){return e instanceof Nu}}function jD(n,e,t){return new Sd({dataSource:3,targetDoc:e.settings.targetDoc,methodName:n._methodName,arrayElement:t},e.databaseId,e.serializer,e.ignoreUndefinedProperties)}class Ag extends Oa{_toFieldTransform(e){return new rg(e.path,new du)}isEqual(e){return e instanceof Ag}}class Rg extends Oa{constructor(e,t){super(e),this.Ac=t}_toFieldTransform(e){const t=jD(this,e,!0),r=this.Ac.map((a=>Na(a,t))),s=new ya(r);return new rg(e.path,s)}isEqual(e){return e instanceof Rg&&oi(this.Ac,e.Ac)}}class Pg extends Oa{constructor(e,t){super(e),this.Vc=t}_toFieldTransform(e){const t=new pu(e.serializer,ZI(e.serializer,this.Vc));return new rg(e.path,t)}isEqual(e){return e instanceof Pg&&this.Vc===e.Vc}}function BS(n,e,t,r){const s=n.createContext(1,e,t);Cg("Data must be an object, but it was:",s,r);const a=[],u=yn.empty();hs(r,((f,m)=>{const g=WS(e,f,t);m=ge(m);const w=s.childContextForFieldPath(g);if(m instanceof Nu)a.push(g);else{const E=Na(m,w);E!=null&&(a.push(g),u.set(g,E))}}));const d=new kn(a);return new jS(u,d,s.fieldTransforms)}function $S(n,e,t,r,s,a){const u=n.createContext(1,e,t),d=[Ys(e,r,t)],f=[s];if(a.length%2!=0)throw new ae(W.INVALID_ARGUMENT,`Function ${e}() needs to be called with an even number of arguments that alternate between field names and values.`);for(let E=0;E<a.length;E+=2)d.push(Ys(e,a[E])),f.push(a[E+1]);const m=[],g=yn.empty();for(let E=d.length-1;E>=0;--E)if(!GS(m,d[E])){const R=d[E];let V=f[E];V=ge(V);const B=u.childContextForFieldPath(R);if(V instanceof Nu)m.push(R);else{const z=Na(V,B);z!=null&&(m.push(R),g.set(R,z))}}const w=new kn(m);return new jS(g,w,u.fieldTransforms)}function zD(n,e,t,r=!1){return Na(t,n.createContext(r?4:3,e))}function Na(n,e){if(qS(n=ge(n)))return Cg("Unsupported field value:",e,n),HS(n,e);if(n instanceof Oa)return(function(r,s){if(!zS(s.dataSource))throw s.createError(`${r._methodName}() can only be used with update() and set()`);if(!s.path)throw s.createError(`${r._methodName}() is not currently supported inside arrays`);const a=r._toFieldTransform(s);a&&s.fieldTransforms.push(a)})(n,e),null;if(n===void 0&&e.ignoreUndefinedProperties)return null;if(e.path&&e.fieldMask.push(e.path),n instanceof Array){if(e.settings.arrayElement&&e.dataSource!==4)throw e.createError("Nested arrays are not supported");return(function(r,s){const a=[];let u=0;for(const d of r){let f=Na(d,s.childContextForArray(u));f==null&&(f={nullValue:"NULL_VALUE"}),a.push(f),u++}return{arrayValue:{values:a}}})(n,e)}return(function(r,s){if((r=ge(r))===null)return{nullValue:"NULL_VALUE"};if(typeof r=="number")return ZI(s.serializer,r);if(typeof r=="boolean")return{booleanValue:r};if(typeof r=="string")return{stringValue:r};if(r instanceof Date){const a=rt.fromDate(r);return{timestampValue:xh(s.serializer,a)}}if(r instanceof rt){const a=new rt(r.seconds,1e3*Math.floor(r.nanoseconds/1e3));return{timestampValue:xh(s.serializer,a)}}if(r instanceof Or)return{geoPointValue:{latitude:r.latitude,longitude:r.longitude}};if(r instanceof $n)return{bytesValue:uS(s.serializer,r._byteString)};if(r instanceof pt){const a=s.databaseId,u=r.firestore._databaseId;if(!u.isEqual(a))throw s.createError(`Document reference is for database ${u.projectId}/${u.database} but should be for database ${a.projectId}/${a.database}`);return{referenceValue:og(r.firestore._databaseId||s.databaseId,r._key.path)}}if(r instanceof sr)return(function(u,d){const f=u instanceof sr?u.toArray():u;return{mapValue:{fields:{[MI]:{stringValue:UI},[Oh]:{arrayValue:{values:f.map((g=>{if(typeof g!="number")throw d.createError("VectorValues must only contain numeric values.");return ng(d.serializer,g)}))}}}}}})(r,s);if(gS(r))return r._toProto(s.serializer);throw s.createError(`Unsupported field value: ${ld(r)}`)})(n,e)}function HS(n,e){const t={};return OI(n)?e.path&&e.path.length>0&&e.fieldMask.push(e.path):hs(n,((r,s)=>{const a=Na(s,e.childContextForField(r));a!=null&&(t[r]=a)})),{mapValue:{fields:t}}}function qS(n){return!(typeof n!="object"||n===null||n instanceof Array||n instanceof Date||n instanceof rt||n instanceof Or||n instanceof $n||n instanceof pt||n instanceof Oa||n instanceof sr||gS(n))}function Cg(n,e,t){if(!qS(t)||!kI(t)){const r=ld(t);throw r==="an object"?e.createError(n+" a custom object"):e.createError(n+" "+r)}}function Ys(n,e,t){if((e=ge(e))instanceof Id)return e._internalPath;if(typeof e=="string")return WS(n,e);throw Fh("Field path arguments must be of type string or ",n,!1,void 0,t)}const BD=new RegExp("[~\\*/\\[\\]]");function WS(n,e,t){if(e.search(BD)>=0)throw Fh(`Invalid field path (${e}). Paths must not contain '~', '*', '/', '[', or ']'`,n,!1,void 0,t);try{return new Id(...e.split("."))._internalPath}catch{throw Fh(`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`,n,!1,void 0,t)}}function Fh(n,e,t,r,s){const a=r&&!r.isEmpty(),u=s!==void 0;let d=`Function ${e}() called with invalid data`;t&&(d+=" (via `toFirestore()`)"),d+=". ";let f="";return(a||u)&&(f+=" (found",a&&(f+=` in field ${r}`),u&&(f+=` in document ${s}`),f+=")"),new ae(W.INVALID_ARGUMENT,d+n+f)}function GS(n,e){return n.some((t=>t.isEqual(e)))}class $D{convertValue(e,t="none"){switch(as(e)){case 0:return null;case 1:return e.booleanValue;case 2:return wt(e.integerValue||e.doubleValue);case 3:return this.convertTimestamp(e.timestampValue);case 4:return this.convertServerTimestamp(e,t);case 5:return e.stringValue;case 6:return this.convertBytes(os(e.bytesValue));case 7:return this.convertReference(e.referenceValue);case 8:return this.convertGeoPoint(e.geoPointValue);case 9:return this.convertArray(e.arrayValue,t);case 11:return this.convertObject(e.mapValue,t);case 10:return this.convertVectorValue(e.mapValue);default:throw Pe(62114,{value:e})}}convertObject(e,t){return this.convertObjectMap(e.fields,t)}convertObjectMap(e,t="none"){const r={};return hs(e,((s,a)=>{r[s]=this.convertValue(a,t)})),r}convertVectorValue(e){const t=e.fields?.[Oh].arrayValue?.values?.map((r=>wt(r.doubleValue)));return new sr(t)}convertGeoPoint(e){return new Or(wt(e.latitude),wt(e.longitude))}convertArray(e,t){return(e.values||[]).map((r=>this.convertValue(r,t)))}convertServerTimestamp(e,t){switch(t){case"previous":const r=hd(e);return r==null?null:this.convertValue(r,t);case"estimate":return this.convertTimestamp(lu(e));default:return null}}convertTimestamp(e){const t=ss(e);return new rt(t.seconds,t.nanos)}convertDocumentKey(e,t){const r=Ze.fromString(e);Ke(mS(r),9688,{name:e});const s=new uu(r.get(1),r.get(3)),a=new Ie(r.popFirst(5));return s.isEqual(t)||hi(`Document ${a} contains a document reference within a different database (${s.projectId}/${s.database}) which is not supported. It will be treated as a reference in the current database (${t.projectId}/${t.database}) instead.`),a}}class kg extends $D{constructor(e){super(),this.firestore=e}convertBytes(e){return new $n(e)}convertReference(e){const t=this.convertDocumentKey(e,this.firestore._databaseId);return new pt(this.firestore,null,t)}}function vF(){return new Nu("deleteField")}function ra(){return new Ag("serverTimestamp")}function EF(...n){return new Rg("arrayUnion",n)}function KS(n){return new Pg("increment",n)}const JE="@firebase/firestore",XE="4.10.0";function ZE(n){return(function(t,r){if(typeof t!="object"||t===null)return!1;const s=t;for(const a of r)if(a in s&&typeof s[a]=="function")return!0;return!1})(n,["next","error","complete"])}class QS{constructor(e,t,r,s,a){this._firestore=e,this._userDataWriter=t,this._key=r,this._document=s,this._converter=a}get id(){return this._key.path.lastSegment()}get ref(){return new pt(this._firestore,this._converter,this._key)}exists(){return this._document!==null}data(){if(this._document){if(this._converter){const e=new HD(this._firestore,this._userDataWriter,this._key,this._document,null);return this._converter.fromFirestore(e)}return this._userDataWriter.convertValue(this._document.data.value)}}_fieldsProto(){return this._document?.data.clone().value.mapValue.fields??void 0}get(e){if(this._document){const t=this._document.data.field(Ys("DocumentSnapshot.get",e));if(t!==null)return this._userDataWriter.convertValue(t)}}}class HD extends QS{data(){return super.data()}}function YS(n){if(n.limitType==="L"&&n.explicitOrderBy.length===0)throw new ae(W.UNIMPLEMENTED,"limitToLast() queries require specifying at least one orderBy() clause")}class bg{}class Og extends bg{}function qD(n,e,...t){let r=[];e instanceof bg&&r.push(e),r=r.concat(t),(function(a){const u=a.filter((f=>f instanceof Ng)).length,d=a.filter((f=>f instanceof Ad)).length;if(u>1||u>0&&d>0)throw new ae(W.INVALID_ARGUMENT,"InvalidQuery. When using composite filters, you cannot use more than one filter at the top level. Consider nesting the multiple filters within an `and(...)` statement. For example: change `query(query, where(...), or(...))` to `query(query, and(where(...), or(...)))`.")})(r);for(const s of r)n=s._apply(n);return n}class Ad extends Og{constructor(e,t,r){super(),this._field=e,this._op=t,this._value=r,this.type="where"}static _create(e,t,r){return new Ad(e,t,r)}_apply(e){const t=this._parse(e);return JS(e._query,t),new gi(e.firestore,e.converter,nm(e._query,t))}_parse(e){const t=Ou(e.firestore);return(function(a,u,d,f,m,g,w){let E;if(m.isKeyField()){if(g==="array-contains"||g==="array-contains-any")throw new ae(W.INVALID_ARGUMENT,`Invalid Query. You can't perform '${g}' queries on documentId().`);if(g==="in"||g==="not-in"){tw(w,g);const V=[];for(const B of w)V.push(ew(f,a,B));E={arrayValue:{values:V}}}else E=ew(f,a,w)}else g!=="in"&&g!=="not-in"&&g!=="array-contains-any"||tw(w,g),E=zD(d,u,w,g==="in"||g==="not-in");return Pt.create(m,g,E)})(e._query,"where",t,e.firestore._databaseId,this._field,this._op,this._value)}}function wF(n,e,t){const r=e,s=Ys("where",n);return Ad._create(s,r,t)}class Ng extends bg{constructor(e,t){super(),this.type=e,this._queryConstraints=t}static _create(e,t){return new Ng(e,t)}_parse(e){const t=this._queryConstraints.map((r=>r._parse(e))).filter((r=>r.getFilters().length>0));return t.length===1?t[0]:or.create(t,this._getOperator())}_apply(e){const t=this._parse(e);return t.getFilters().length===0?e:((function(s,a){let u=s;const d=a.getFlattenedFilters();for(const f of d)JS(u,f),u=nm(u,f)})(e._query,t),new gi(e.firestore,e.converter,nm(e._query,t)))}_getQueryConstraints(){return this._queryConstraints}_getOperator(){return this.type==="and"?"and":"or"}}class Dg extends Og{constructor(e,t){super(),this._field=e,this._direction=t,this.type="orderBy"}static _create(e,t){return new Dg(e,t)}_apply(e){const t=(function(s,a,u){if(s.startAt!==null)throw new ae(W.INVALID_ARGUMENT,"Invalid query. You must not call startAt() or startAfter() before calling orderBy().");if(s.endAt!==null)throw new ae(W.INVALID_ARGUMENT,"Invalid query. You must not call endAt() or endBefore() before calling orderBy().");return new hu(a,u)})(e._query,this._field,this._direction);return new gi(e.firestore,e.converter,yO(e._query,t))}}function WD(n,e="asc"){const t=e,r=Ys("orderBy",n);return Dg._create(r,t)}class xg extends Og{constructor(e,t,r){super(),this.type=e,this._limit=t,this._limitType=r}static _create(e,t,r){return new xg(e,t,r)}_apply(e){return new gi(e.firestore,e.converter,Dh(e._query,this._limit,this._limitType))}}function TF(n){return Bb("limit",n),xg._create("limit",n,"F")}function ew(n,e,t){if(typeof(t=ge(t))=="string"){if(t==="")throw new ae(W.INVALID_ARGUMENT,"Invalid query. When querying with documentId(), you must provide a valid document ID, but it was an empty string.");if(!WI(e)&&t.indexOf("/")!==-1)throw new ae(W.INVALID_ARGUMENT,`Invalid query. When querying a collection by documentId(), you must provide a plain document ID, but '${t}' contains a '/' character.`);const r=e.path.child(Ze.fromString(t));if(!Ie.isDocumentKey(r))throw new ae(W.INVALID_ARGUMENT,`Invalid query. When querying a collection group by documentId(), the value provided must result in a valid document path, but '${r}' is not because it has an odd number of segments (${r.length}).`);return pE(n,new Ie(r))}if(t instanceof pt)return pE(n,t._key);throw new ae(W.INVALID_ARGUMENT,`Invalid query. When querying with documentId(), you must provide a valid string or a DocumentReference, but it was: ${ld(t)}.`)}function tw(n,e){if(!Array.isArray(n)||n.length===0)throw new ae(W.INVALID_ARGUMENT,`Invalid Query. A non-empty array is required for '${e.toString()}' filters.`)}function JS(n,e){const t=(function(s,a){for(const u of s)for(const d of u.getFlattenedFilters())if(a.indexOf(d.op)>=0)return d.op;return null})(n.filters,(function(s){switch(s){case"!=":return["!=","not-in"];case"array-contains-any":case"in":return["not-in"];case"not-in":return["array-contains-any","in","not-in","!="];default:return[]}})(e.op));if(t!==null)throw t===e.op?new ae(W.INVALID_ARGUMENT,`Invalid query. You cannot use more than one '${e.op.toString()}' filter.`):new ae(W.INVALID_ARGUMENT,`Invalid query. You cannot use '${e.op.toString()}' filters with '${t.toString()}' filters.`)}function Lg(n,e,t){let r;return r=n?t&&(t.merge||t.mergeFields)?n.toFirestore(e,t):n.toFirestore(e):e,r}class $l{constructor(e,t){this.hasPendingWrites=e,this.fromCache=t}isEqual(e){return this.hasPendingWrites===e.hasPendingWrites&&this.fromCache===e.fromCache}}class qs extends QS{constructor(e,t,r,s,a,u){super(e,t,r,s,u),this._firestore=e,this._firestoreImpl=e,this.metadata=a}exists(){return super.exists()}data(e={}){if(this._document){if(this._converter){const t=new wh(this._firestore,this._userDataWriter,this._key,this._document,this.metadata,null);return this._converter.fromFirestore(t,e)}return this._userDataWriter.convertValue(this._document.data.value,e.serverTimestamps)}}get(e,t={}){if(this._document){const r=this._document.data.field(Ys("DocumentSnapshot.get",e));if(r!==null)return this._userDataWriter.convertValue(r,t.serverTimestamps)}}toJSON(){if(this.metadata.hasPendingWrites)throw new ae(W.FAILED_PRECONDITION,"DocumentSnapshot.toJSON() attempted to serialize a document with pending writes. Await waitForPendingWrites() before invoking toJSON().");const e=this._document,t={};return t.type=qs._jsonSchemaVersion,t.bundle="",t.bundleSource="DocumentSnapshot",t.bundleName=this._key.toString(),!e||!e.isValidDocument()||!e.isFoundDocument()?t:(this._userDataWriter.convertObjectMap(e.data.value.mapValue.fields,"previous"),t.bundle=(this._firestore,this.ref.path,"NOT SUPPORTED"),t)}}qs._jsonSchemaVersion="firestore/documentSnapshot/1.0",qs._jsonSchema={type:Ct("string",qs._jsonSchemaVersion),bundleSource:Ct("string","DocumentSnapshot"),bundleName:Ct("string"),bundle:Ct("string")};class wh extends qs{data(e={}){return super.data(e)}}class Ws{constructor(e,t,r,s){this._firestore=e,this._userDataWriter=t,this._snapshot=s,this.metadata=new $l(s.hasPendingWrites,s.fromCache),this.query=r}get docs(){const e=[];return this.forEach((t=>e.push(t))),e}get size(){return this._snapshot.docs.size}get empty(){return this.size===0}forEach(e,t){this._snapshot.docs.forEach((r=>{e.call(t,new wh(this._firestore,this._userDataWriter,r.key,r,new $l(this._snapshot.mutatedKeys.has(r.key),this._snapshot.fromCache),this.query.converter))}))}docChanges(e={}){const t=!!e.includeMetadataChanges;if(t&&this._snapshot.excludesMetadataChanges)throw new ae(W.INVALID_ARGUMENT,"To include metadata changes with your document changes, you must also pass { includeMetadataChanges:true } to onSnapshot().");return this._cachedChanges&&this._cachedChangesIncludeMetadataChanges===t||(this._cachedChanges=(function(s,a){if(s._snapshot.oldDocs.isEmpty()){let u=0;return s._snapshot.docChanges.map((d=>{const f=new wh(s._firestore,s._userDataWriter,d.doc.key,d.doc,new $l(s._snapshot.mutatedKeys.has(d.doc.key),s._snapshot.fromCache),s.query.converter);return d.doc,{type:"added",doc:f,oldIndex:-1,newIndex:u++}}))}{let u=s._snapshot.oldDocs;return s._snapshot.docChanges.filter((d=>a||d.type!==3)).map((d=>{const f=new wh(s._firestore,s._userDataWriter,d.doc.key,d.doc,new $l(s._snapshot.mutatedKeys.has(d.doc.key),s._snapshot.fromCache),s.query.converter);let m=-1,g=-1;return d.type!==0&&(m=u.indexOf(d.doc.key),u=u.delete(d.doc.key)),d.type!==1&&(u=u.add(d.doc),g=u.indexOf(d.doc.key)),{type:GD(d.type),doc:f,oldIndex:m,newIndex:g}}))}})(this,t),this._cachedChangesIncludeMetadataChanges=t),this._cachedChanges}toJSON(){if(this.metadata.hasPendingWrites)throw new ae(W.FAILED_PRECONDITION,"QuerySnapshot.toJSON() attempted to serialize a document with pending writes. Await waitForPendingWrites() before invoking toJSON().");const e={};e.type=Ws._jsonSchemaVersion,e.bundleSource="QuerySnapshot",e.bundleName=Ym.newId(),this._firestore._databaseId.database,this._firestore._databaseId.projectId;const t=[],r=[],s=[];return this.docs.forEach((a=>{a._document!==null&&(t.push(a._document),r.push(this._userDataWriter.convertObjectMap(a._document.data.value.mapValue.fields,"previous")),s.push(a.ref.path))})),e.bundle=(this._firestore,this.query._query,e.bundleName,"NOT SUPPORTED"),e}}function GD(n){switch(n){case 0:return"added";case 2:case 3:return"modified";case 1:return"removed";default:return Pe(61501,{type:n})}}Ws._jsonSchemaVersion="firestore/querySnapshot/1.0",Ws._jsonSchema={type:Ct("string",Ws._jsonSchemaVersion),bundleSource:Ct("string","QuerySnapshot"),bundleName:Ct("string"),bundle:Ct("string")};class KD{constructor(e,t){this._firestore=e,this._commitHandler=t,this._mutations=[],this._committed=!1,this._dataReader=Ou(e)}set(e,t,r){this._verifyNotCommitted();const s=Cp(e,this._firestore),a=Lg(s.converter,t,r),u=Sg(this._dataReader,"WriteBatch.set",s._key,a,s.converter!==null,r);return this._mutations.push(u.toMutation(s._key,an.none())),this}update(e,t,r,...s){this._verifyNotCommitted();const a=Cp(e,this._firestore);let u;return u=typeof(t=ge(t))=="string"||t instanceof Id?$S(this._dataReader,"WriteBatch.update",a._key,t,r,s):BS(this._dataReader,"WriteBatch.update",a._key,t),this._mutations.push(u.toMutation(a._key,an.exists(!0))),this}delete(e){this._verifyNotCommitted();const t=Cp(e,this._firestore);return this._mutations=this._mutations.concat(new yd(t._key,an.none())),this}commit(){return this._verifyNotCommitted(),this._committed=!0,this._mutations.length>0?this._commitHandler(this._mutations):Promise.resolve()}_verifyNotCommitted(){if(this._committed)throw new ae(W.FAILED_PRECONDITION,"A write batch can no longer be used after commit() has been called.")}}function Cp(n,e){if((n=ge(n)).firestore!==e)throw new ae(W.INVALID_ARGUMENT,"Provided document reference is from a different Firestore instance.");return n}function QD(n){n=on(n,pt);const e=on(n.firestore,Dr),t=bu(e);return kD(t,n._key).then((r=>XS(e,n,r)))}function IF(n){n=on(n,gi);const e=on(n.firestore,Dr),t=bu(e),r=new kg(e);return YS(n._query),bD(t,n._query).then((s=>new Ws(e,r,n,s)))}function Vg(n,e,t){n=on(n,pt);const r=on(n.firestore,Dr),s=Lg(n.converter,e,t),a=Ou(r);return Du(r,[Sg(a,"setDoc",n._key,s,n.converter!==null,t).toMutation(n._key,an.none())])}function dm(n,e,t,...r){n=on(n,pt);const s=on(n.firestore,Dr),a=Ou(s);let u;return u=typeof(e=ge(e))=="string"||e instanceof Id?$S(a,"updateDoc",n._key,e,t,r):BS(a,"updateDoc",n._key,e),Du(s,[u.toMutation(n._key,an.exists(!0))])}function YD(n){return Du(on(n.firestore,Dr),[new yd(n._key,an.none())])}function fm(n,e){const t=on(n.firestore,Dr),r=ri(n),s=Lg(n.converter,e),a=Ou(n.firestore);return Du(t,[Sg(a,"addDoc",r._key,s,n.converter!==null,{}).toMutation(r._key,an.exists(!1))]).then((()=>r))}function pm(n,...e){n=ge(n);let t={includeMetadataChanges:!1,source:"default"},r=0;typeof e[r]!="object"||ZE(e[r])||(t=e[r++]);const s={includeMetadataChanges:t.includeMetadataChanges,source:t.source};if(ZE(e[r])){const m=e[r];e[r]=m.next?.bind(m),e[r+1]=m.error?.bind(m),e[r+2]=m.complete?.bind(m)}let a,u,d;if(n instanceof pt)u=on(n.firestore,Dr),d=dd(n._key.path),a={next:m=>{e[r]&&e[r](XS(u,n,m))},error:e[r+1],complete:e[r+2]};else{const m=on(n,gi);u=on(m.firestore,Dr),d=m._query;const g=new kg(u);a={next:w=>{e[r]&&e[r](new Ws(u,g,m,w))},error:e[r+1],complete:e[r+2]},YS(n._query)}const f=bu(u);return CD(f,d,s,a)}function Du(n,e){const t=bu(n);return OD(t,e)}function XS(n,e,t){const r=t.docs.get(e._key),s=new kg(n);return new qs(n,s,e._key,r,new $l(t.hasPendingWrites,t.fromCache),e.converter)}function JD(n){return n=on(n,Dr),bu(n),new KD(n,(e=>Du(n,e)))}(function(e,t=!0){bb(no),Hn(new Nn("firestore",((r,{instanceIdentifier:s,options:a})=>{const u=r.getProvider("app").getImmediate(),d=new Dr(new Db(r.getProvider("auth-internal")),new Vb(u,r.getProvider("app-check-internal")),eO(u,s),u);return a={useFetchStreams:t,...a},d._setSettings(a),d}),"PUBLIC").setMultipleInstances(!0)),Xt(JE,XE,e),Xt(JE,XE,"esm2020")})();const ZS="firebasestorage.googleapis.com",eA="storageBucket",XD=120*1e3,ZD=600*1e3;class yt extends Dn{constructor(e,t,r=0){super(kp(e),`Firebase Storage: ${t} (${kp(e)})`),this.status_=r,this.customData={serverResponse:null},this._baseMessage=this.message,Object.setPrototypeOf(this,yt.prototype)}get status(){return this.status_}set status(e){this.status_=e}_codeEquals(e){return kp(e)===this.code}get serverResponse(){return this.customData.serverResponse}set serverResponse(e){this.customData.serverResponse=e,this.customData.serverResponse?this.message=`${this._baseMessage}
${this.customData.serverResponse}`:this.message=this._baseMessage}}var mt;(function(n){n.UNKNOWN="unknown",n.OBJECT_NOT_FOUND="object-not-found",n.BUCKET_NOT_FOUND="bucket-not-found",n.PROJECT_NOT_FOUND="project-not-found",n.QUOTA_EXCEEDED="quota-exceeded",n.UNAUTHENTICATED="unauthenticated",n.UNAUTHORIZED="unauthorized",n.UNAUTHORIZED_APP="unauthorized-app",n.RETRY_LIMIT_EXCEEDED="retry-limit-exceeded",n.INVALID_CHECKSUM="invalid-checksum",n.CANCELED="canceled",n.INVALID_EVENT_NAME="invalid-event-name",n.INVALID_URL="invalid-url",n.INVALID_DEFAULT_BUCKET="invalid-default-bucket",n.NO_DEFAULT_BUCKET="no-default-bucket",n.CANNOT_SLICE_BLOB="cannot-slice-blob",n.SERVER_FILE_WRONG_SIZE="server-file-wrong-size",n.NO_DOWNLOAD_URL="no-download-url",n.INVALID_ARGUMENT="invalid-argument",n.INVALID_ARGUMENT_COUNT="invalid-argument-count",n.APP_DELETED="app-deleted",n.INVALID_ROOT_OPERATION="invalid-root-operation",n.INVALID_FORMAT="invalid-format",n.INTERNAL_ERROR="internal-error",n.UNSUPPORTED_ENVIRONMENT="unsupported-environment"})(mt||(mt={}));function kp(n){return"storage/"+n}function Mg(){const n="An unknown error occurred, please check the error payload for server response.";return new yt(mt.UNKNOWN,n)}function ex(n){return new yt(mt.OBJECT_NOT_FOUND,"Object '"+n+"' does not exist.")}function tx(n){return new yt(mt.QUOTA_EXCEEDED,"Quota for bucket '"+n+"' exceeded, please view quota on https://firebase.google.com/pricing/.")}function nx(){const n="User is not authenticated, please authenticate using Firebase Authentication and try again.";return new yt(mt.UNAUTHENTICATED,n)}function rx(){return new yt(mt.UNAUTHORIZED_APP,"This app does not have permission to access Firebase Storage on this project.")}function ix(n){return new yt(mt.UNAUTHORIZED,"User does not have permission to access '"+n+"'.")}function sx(){return new yt(mt.RETRY_LIMIT_EXCEEDED,"Max retry time for operation exceeded, please try again.")}function ox(){return new yt(mt.CANCELED,"User canceled the upload/download.")}function ax(n){return new yt(mt.INVALID_URL,"Invalid URL '"+n+"'.")}function lx(n){return new yt(mt.INVALID_DEFAULT_BUCKET,"Invalid default bucket '"+n+"'.")}function ux(){return new yt(mt.NO_DEFAULT_BUCKET,"No default bucket found. Did you set the '"+eA+"' property when initializing the app?")}function cx(){return new yt(mt.CANNOT_SLICE_BLOB,"Cannot slice blob for upload. Please retry the upload.")}function hx(){return new yt(mt.NO_DOWNLOAD_URL,"The given file does not have any download URLs.")}function dx(n){return new yt(mt.UNSUPPORTED_ENVIRONMENT,`${n} is missing. Make sure to install the required polyfills. See https://firebase.google.com/docs/web/environments-js-sdk#polyfills for more information.`)}function mm(n){return new yt(mt.INVALID_ARGUMENT,n)}function tA(){return new yt(mt.APP_DELETED,"The Firebase app was deleted.")}function fx(n){return new yt(mt.INVALID_ROOT_OPERATION,"The operation '"+n+"' cannot be performed on a root reference, create a non-root reference using child, such as .child('file.png').")}function Zl(n,e){return new yt(mt.INVALID_FORMAT,"String does not match format '"+n+"': "+e)}function Nl(n){throw new yt(mt.INTERNAL_ERROR,"Internal error: "+n)}class bn{constructor(e,t){this.bucket=e,this.path_=t}get path(){return this.path_}get isRoot(){return this.path.length===0}fullServerUrl(){const e=encodeURIComponent;return"/b/"+e(this.bucket)+"/o/"+e(this.path)}bucketOnlyServerUrl(){return"/b/"+encodeURIComponent(this.bucket)+"/o"}static makeFromBucketSpec(e,t){let r;try{r=bn.makeFromUrl(e,t)}catch{return new bn(e,"")}if(r.path==="")return r;throw lx(e)}static makeFromUrl(e,t){let r=null;const s="([A-Za-z0-9.\\-_]+)";function a(oe){oe.path.charAt(oe.path.length-1)==="/"&&(oe.path_=oe.path_.slice(0,-1))}const u="(/(.*))?$",d=new RegExp("^gs://"+s+u,"i"),f={bucket:1,path:3};function m(oe){oe.path_=decodeURIComponent(oe.path)}const g="v[A-Za-z0-9_]+",w=t.replace(/[.]/g,"\\."),E="(/([^?#]*).*)?$",R=new RegExp(`^https?://${w}/${g}/b/${s}/o${E}`,"i"),V={bucket:1,path:3},B=t===ZS?"(?:storage.googleapis.com|storage.cloud.google.com)":t,z="([^?#]*)",te=new RegExp(`^https?://${B}/${s}/${z}`,"i"),ve=[{regex:d,indices:f,postModify:a},{regex:R,indices:V,postModify:m},{regex:te,indices:{bucket:1,path:2},postModify:m}];for(let oe=0;oe<ve.length;oe++){const we=ve[oe],pe=we.regex.exec(e);if(pe){const k=pe[we.indices.bucket];let S=pe[we.indices.path];S||(S=""),r=new bn(k,S),we.postModify(r);break}}if(r==null)throw ax(e);return r}}class px{constructor(e){this.promise_=Promise.reject(e)}getPromise(){return this.promise_}cancel(e=!1){}}function mx(n,e,t){let r=1,s=null,a=null,u=!1,d=0;function f(){return d===2}let m=!1;function g(...z){m||(m=!0,e.apply(null,z))}function w(z){s=setTimeout(()=>{s=null,n(R,f())},z)}function E(){a&&clearTimeout(a)}function R(z,...te){if(m){E();return}if(z){E(),g.call(null,z,...te);return}if(f()||u){E(),g.call(null,z,...te);return}r<64&&(r*=2);let ve;d===1?(d=2,ve=0):ve=(r+Math.random())*1e3,w(ve)}let V=!1;function B(z){V||(V=!0,E(),!m&&(s!==null?(z||(d=2),clearTimeout(s),w(0)):z||(d=1)))}return w(0),a=setTimeout(()=>{u=!0,B(!0)},t),B}function gx(n){n(!1)}function yx(n){return n!==void 0}function _x(n){return typeof n=="object"&&!Array.isArray(n)}function Ug(n){return typeof n=="string"||n instanceof String}function nw(n){return Fg()&&n instanceof Blob}function Fg(){return typeof Blob<"u"}function rw(n,e,t,r){if(r<e)throw mm(`Invalid value for '${n}'. Expected ${e} or greater.`);if(r>t)throw mm(`Invalid value for '${n}'. Expected ${t} or less.`)}function jg(n,e,t){let r=e;return t==null&&(r=`https://${e}`),`${t}://${r}/v0${n}`}function nA(n){const e=encodeURIComponent;let t="?";for(const r in n)if(n.hasOwnProperty(r)){const s=e(r)+"="+e(n[r]);t=t+s+"&"}return t=t.slice(0,-1),t}var Gs;(function(n){n[n.NO_ERROR=0]="NO_ERROR",n[n.NETWORK_ERROR=1]="NETWORK_ERROR",n[n.ABORT=2]="ABORT"})(Gs||(Gs={}));function vx(n,e){const t=n>=500&&n<600,s=[408,429].indexOf(n)!==-1,a=e.indexOf(n)!==-1;return t||s||a}class Ex{constructor(e,t,r,s,a,u,d,f,m,g,w,E=!0,R=!1){this.url_=e,this.method_=t,this.headers_=r,this.body_=s,this.successCodes_=a,this.additionalRetryCodes_=u,this.callback_=d,this.errorCallback_=f,this.timeout_=m,this.progressCallback_=g,this.connectionFactory_=w,this.retry=E,this.isUsingEmulator=R,this.pendingConnection_=null,this.backoffId_=null,this.canceled_=!1,this.appDelete_=!1,this.promise_=new Promise((V,B)=>{this.resolve_=V,this.reject_=B,this.start_()})}start_(){const e=(r,s)=>{if(s){r(!1,new sh(!1,null,!0));return}const a=this.connectionFactory_();this.pendingConnection_=a;const u=d=>{const f=d.loaded,m=d.lengthComputable?d.total:-1;this.progressCallback_!==null&&this.progressCallback_(f,m)};this.progressCallback_!==null&&a.addUploadProgressListener(u),a.send(this.url_,this.method_,this.isUsingEmulator,this.body_,this.headers_).then(()=>{this.progressCallback_!==null&&a.removeUploadProgressListener(u),this.pendingConnection_=null;const d=a.getErrorCode()===Gs.NO_ERROR,f=a.getStatus();if(!d||vx(f,this.additionalRetryCodes_)&&this.retry){const g=a.getErrorCode()===Gs.ABORT;r(!1,new sh(!1,null,g));return}const m=this.successCodes_.indexOf(f)!==-1;r(!0,new sh(m,a))})},t=(r,s)=>{const a=this.resolve_,u=this.reject_,d=s.connection;if(s.wasSuccessCode)try{const f=this.callback_(d,d.getResponse());yx(f)?a(f):a()}catch(f){u(f)}else if(d!==null){const f=Mg();f.serverResponse=d.getErrorText(),this.errorCallback_?u(this.errorCallback_(d,f)):u(f)}else if(s.canceled){const f=this.appDelete_?tA():ox();u(f)}else{const f=sx();u(f)}};this.canceled_?t(!1,new sh(!1,null,!0)):this.backoffId_=mx(e,t,this.timeout_)}getPromise(){return this.promise_}cancel(e){this.canceled_=!0,this.appDelete_=e||!1,this.backoffId_!==null&&gx(this.backoffId_),this.pendingConnection_!==null&&this.pendingConnection_.abort()}}class sh{constructor(e,t,r){this.wasSuccessCode=e,this.connection=t,this.canceled=!!r}}function wx(n,e){e!==null&&e.length>0&&(n.Authorization="Firebase "+e)}function Tx(n,e){n["X-Firebase-Storage-Version"]="webjs/"+(e??"AppManager")}function Ix(n,e){e&&(n["X-Firebase-GMPID"]=e)}function Sx(n,e){e!==null&&(n["X-Firebase-AppCheck"]=e)}function Ax(n,e,t,r,s,a,u=!0,d=!1){const f=nA(n.urlParams),m=n.url+f,g=Object.assign({},n.headers);return Ix(g,e),wx(g,t),Tx(g,a),Sx(g,r),new Ex(m,n.method,g,n.body,n.successCodes,n.additionalRetryCodes,n.handler,n.errorHandler,n.timeout,n.progressCallback,s,u,d)}function Rx(){return typeof BlobBuilder<"u"?BlobBuilder:typeof WebKitBlobBuilder<"u"?WebKitBlobBuilder:void 0}function Px(...n){const e=Rx();if(e!==void 0){const t=new e;for(let r=0;r<n.length;r++)t.append(n[r]);return t.getBlob()}else{if(Fg())return new Blob(n);throw new yt(mt.UNSUPPORTED_ENVIRONMENT,"This browser doesn't seem to support creating Blobs")}}function Cx(n,e,t){return n.webkitSlice?n.webkitSlice(e,t):n.mozSlice?n.mozSlice(e,t):n.slice?n.slice(e,t):null}function kx(n){if(typeof atob>"u")throw dx("base-64");return atob(n)}const Pr={RAW:"raw",BASE64:"base64",BASE64URL:"base64url",DATA_URL:"data_url"};class bp{constructor(e,t){this.data=e,this.contentType=t||null}}function bx(n,e){switch(n){case Pr.RAW:return new bp(rA(e));case Pr.BASE64:case Pr.BASE64URL:return new bp(iA(n,e));case Pr.DATA_URL:return new bp(Nx(e),Dx(e))}throw Mg()}function rA(n){const e=[];for(let t=0;t<n.length;t++){let r=n.charCodeAt(t);if(r<=127)e.push(r);else if(r<=2047)e.push(192|r>>6,128|r&63);else if((r&64512)===55296)if(!(t<n.length-1&&(n.charCodeAt(t+1)&64512)===56320))e.push(239,191,189);else{const a=r,u=n.charCodeAt(++t);r=65536|(a&1023)<<10|u&1023,e.push(240|r>>18,128|r>>12&63,128|r>>6&63,128|r&63)}else(r&64512)===56320?e.push(239,191,189):e.push(224|r>>12,128|r>>6&63,128|r&63)}return new Uint8Array(e)}function Ox(n){let e;try{e=decodeURIComponent(n)}catch{throw Zl(Pr.DATA_URL,"Malformed data URL.")}return rA(e)}function iA(n,e){switch(n){case Pr.BASE64:{const s=e.indexOf("-")!==-1,a=e.indexOf("_")!==-1;if(s||a)throw Zl(n,"Invalid character '"+(s?"-":"_")+"' found: is it base64url encoded?");break}case Pr.BASE64URL:{const s=e.indexOf("+")!==-1,a=e.indexOf("/")!==-1;if(s||a)throw Zl(n,"Invalid character '"+(s?"+":"/")+"' found: is it base64 encoded?");e=e.replace(/-/g,"+").replace(/_/g,"/");break}}let t;try{t=kx(e)}catch(s){throw s.message.includes("polyfill")?s:Zl(n,"Invalid character found")}const r=new Uint8Array(t.length);for(let s=0;s<t.length;s++)r[s]=t.charCodeAt(s);return r}class sA{constructor(e){this.base64=!1,this.contentType=null;const t=e.match(/^data:([^,]+)?,/);if(t===null)throw Zl(Pr.DATA_URL,"Must be formatted 'data:[<mediatype>][;base64],<data>");const r=t[1]||null;r!=null&&(this.base64=xx(r,";base64"),this.contentType=this.base64?r.substring(0,r.length-7):r),this.rest=e.substring(e.indexOf(",")+1)}}function Nx(n){const e=new sA(n);return e.base64?iA(Pr.BASE64,e.rest):Ox(e.rest)}function Dx(n){return new sA(n).contentType}function xx(n,e){return n.length>=e.length?n.substring(n.length-e.length)===e:!1}class Ji{constructor(e,t){let r=0,s="";nw(e)?(this.data_=e,r=e.size,s=e.type):e instanceof ArrayBuffer?(t?this.data_=new Uint8Array(e):(this.data_=new Uint8Array(e.byteLength),this.data_.set(new Uint8Array(e))),r=this.data_.length):e instanceof Uint8Array&&(t?this.data_=e:(this.data_=new Uint8Array(e.length),this.data_.set(e)),r=e.length),this.size_=r,this.type_=s}size(){return this.size_}type(){return this.type_}slice(e,t){if(nw(this.data_)){const r=this.data_,s=Cx(r,e,t);return s===null?null:new Ji(s)}else{const r=new Uint8Array(this.data_.buffer,e,t-e);return new Ji(r,!0)}}static getBlob(...e){if(Fg()){const t=e.map(r=>r instanceof Ji?r.data_:r);return new Ji(Px.apply(null,t))}else{const t=e.map(u=>Ug(u)?bx(Pr.RAW,u).data:u.data_);let r=0;t.forEach(u=>{r+=u.byteLength});const s=new Uint8Array(r);let a=0;return t.forEach(u=>{for(let d=0;d<u.length;d++)s[a++]=u[d]}),new Ji(s,!0)}}uploadData(){return this.data_}}function oA(n){let e;try{e=JSON.parse(n)}catch{return null}return _x(e)?e:null}function Lx(n){if(n.length===0)return null;const e=n.lastIndexOf("/");return e===-1?"":n.slice(0,e)}function Vx(n,e){const t=e.split("/").filter(r=>r.length>0).join("/");return n.length===0?t:n+"/"+t}function aA(n){const e=n.lastIndexOf("/",n.length-2);return e===-1?n:n.slice(e+1)}function Mx(n,e){return e}class rn{constructor(e,t,r,s){this.server=e,this.local=t||e,this.writable=!!r,this.xform=s||Mx}}let oh=null;function Ux(n){return!Ug(n)||n.length<2?n:aA(n)}function lA(){if(oh)return oh;const n=[];n.push(new rn("bucket")),n.push(new rn("generation")),n.push(new rn("metageneration")),n.push(new rn("name","fullPath",!0));function e(a,u){return Ux(u)}const t=new rn("name");t.xform=e,n.push(t);function r(a,u){return u!==void 0?Number(u):u}const s=new rn("size");return s.xform=r,n.push(s),n.push(new rn("timeCreated")),n.push(new rn("updated")),n.push(new rn("md5Hash",null,!0)),n.push(new rn("cacheControl",null,!0)),n.push(new rn("contentDisposition",null,!0)),n.push(new rn("contentEncoding",null,!0)),n.push(new rn("contentLanguage",null,!0)),n.push(new rn("contentType",null,!0)),n.push(new rn("metadata","customMetadata",!0)),oh=n,oh}function Fx(n,e){function t(){const r=n.bucket,s=n.fullPath,a=new bn(r,s);return e._makeStorageReference(a)}Object.defineProperty(n,"ref",{get:t})}function jx(n,e,t){const r={};r.type="file";const s=t.length;for(let a=0;a<s;a++){const u=t[a];r[u.local]=u.xform(r,e[u.server])}return Fx(r,n),r}function uA(n,e,t){const r=oA(e);return r===null?null:jx(n,r,t)}function zx(n,e,t,r){const s=oA(e);if(s===null||!Ug(s.downloadTokens))return null;const a=s.downloadTokens;if(a.length===0)return null;const u=encodeURIComponent;return a.split(",").map(m=>{const g=n.bucket,w=n.fullPath,E="/b/"+u(g)+"/o/"+u(w),R=jg(E,t,r),V=nA({alt:"media",token:m});return R+V})[0]}function Bx(n,e){const t={},r=e.length;for(let s=0;s<r;s++){const a=e[s];a.writable&&(t[a.server]=n[a.local])}return JSON.stringify(t)}class cA{constructor(e,t,r,s){this.url=e,this.method=t,this.handler=r,this.timeout=s,this.urlParams={},this.headers={},this.body=null,this.errorHandler=null,this.progressCallback=null,this.successCodes=[200],this.additionalRetryCodes=[]}}function hA(n){if(!n)throw Mg()}function $x(n,e){function t(r,s){const a=uA(n,s,e);return hA(a!==null),a}return t}function Hx(n,e){function t(r,s){const a=uA(n,s,e);return hA(a!==null),zx(a,s,n.host,n._protocol)}return t}function dA(n){function e(t,r){let s;return t.getStatus()===401?t.getErrorText().includes("Firebase App Check token is invalid")?s=rx():s=nx():t.getStatus()===402?s=tx(n.bucket):t.getStatus()===403?s=ix(n.path):s=r,s.status=t.getStatus(),s.serverResponse=r.serverResponse,s}return e}function qx(n){const e=dA(n);function t(r,s){let a=e(r,s);return r.getStatus()===404&&(a=ex(n.path)),a.serverResponse=s.serverResponse,a}return t}function Wx(n,e,t){const r=e.fullServerUrl(),s=jg(r,n.host,n._protocol),a="GET",u=n.maxOperationRetryTime,d=new cA(s,a,Hx(n,t),u);return d.errorHandler=qx(e),d}function Gx(n,e){return n&&n.contentType||e&&e.type()||"application/octet-stream"}function Kx(n,e,t){const r=Object.assign({},t);return r.fullPath=n.path,r.size=e.size(),r.contentType||(r.contentType=Gx(null,e)),r}function Qx(n,e,t,r,s){const a=e.bucketOnlyServerUrl(),u={"X-Goog-Upload-Protocol":"multipart"};function d(){let ve="";for(let oe=0;oe<2;oe++)ve=ve+Math.random().toString().slice(2);return ve}const f=d();u["Content-Type"]="multipart/related; boundary="+f;const m=Kx(e,r,s),g=Bx(m,t),w="--"+f+`\r
Content-Type: application/json; charset=utf-8\r
\r
`+g+`\r
--`+f+`\r
Content-Type: `+m.contentType+`\r
\r
`,E=`\r
--`+f+"--",R=Ji.getBlob(w,r,E);if(R===null)throw cx();const V={name:m.fullPath},B=jg(a,n.host,n._protocol),z="POST",te=n.maxUploadRetryTime,le=new cA(B,z,$x(n,t),te);return le.urlParams=V,le.headers=u,le.body=R.uploadData(),le.errorHandler=dA(e),le}class Yx{constructor(){this.sent_=!1,this.xhr_=new XMLHttpRequest,this.initXhr(),this.errorCode_=Gs.NO_ERROR,this.sendPromise_=new Promise(e=>{this.xhr_.addEventListener("abort",()=>{this.errorCode_=Gs.ABORT,e()}),this.xhr_.addEventListener("error",()=>{this.errorCode_=Gs.NETWORK_ERROR,e()}),this.xhr_.addEventListener("load",()=>{e()})})}send(e,t,r,s,a){if(this.sent_)throw Nl("cannot .send() more than once");if(xr(e)&&r&&(this.xhr_.withCredentials=!0),this.sent_=!0,this.xhr_.open(t,e,!0),a!==void 0)for(const u in a)a.hasOwnProperty(u)&&this.xhr_.setRequestHeader(u,a[u].toString());return s!==void 0?this.xhr_.send(s):this.xhr_.send(),this.sendPromise_}getErrorCode(){if(!this.sent_)throw Nl("cannot .getErrorCode() before sending");return this.errorCode_}getStatus(){if(!this.sent_)throw Nl("cannot .getStatus() before sending");try{return this.xhr_.status}catch{return-1}}getResponse(){if(!this.sent_)throw Nl("cannot .getResponse() before sending");return this.xhr_.response}getErrorText(){if(!this.sent_)throw Nl("cannot .getErrorText() before sending");return this.xhr_.statusText}abort(){this.xhr_.abort()}getResponseHeader(e){return this.xhr_.getResponseHeader(e)}addUploadProgressListener(e){this.xhr_.upload!=null&&this.xhr_.upload.addEventListener("progress",e)}removeUploadProgressListener(e){this.xhr_.upload!=null&&this.xhr_.upload.removeEventListener("progress",e)}}class Jx extends Yx{initXhr(){this.xhr_.responseType="text"}}function fA(){return new Jx}class Js{constructor(e,t){this._service=e,t instanceof bn?this._location=t:this._location=bn.makeFromUrl(t,e.host)}toString(){return"gs://"+this._location.bucket+"/"+this._location.path}_newRef(e,t){return new Js(e,t)}get root(){const e=new bn(this._location.bucket,"");return this._newRef(this._service,e)}get bucket(){return this._location.bucket}get fullPath(){return this._location.path}get name(){return aA(this._location.path)}get storage(){return this._service}get parent(){const e=Lx(this._location.path);if(e===null)return null;const t=new bn(this._location.bucket,e);return new Js(this._service,t)}_throwIfRoot(e){if(this._location.path==="")throw fx(e)}}function Xx(n,e,t){n._throwIfRoot("uploadBytes");const r=Qx(n.storage,n._location,lA(),new Ji(e,!0),t);return n.storage.makeRequestWithTokens(r,fA).then(s=>({metadata:s,ref:n}))}function Zx(n){n._throwIfRoot("getDownloadURL");const e=Wx(n.storage,n._location,lA());return n.storage.makeRequestWithTokens(e,fA).then(t=>{if(t===null)throw hx();return t})}function eL(n,e){const t=Vx(n._location.path,e),r=new bn(n._location.bucket,t);return new Js(n.storage,r)}function tL(n){return/^[A-Za-z]+:\/\//.test(n)}function nL(n,e){return new Js(n,e)}function pA(n,e){if(n instanceof zg){const t=n;if(t._bucket==null)throw ux();const r=new Js(t,t._bucket);return e!=null?pA(r,e):r}else return e!==void 0?eL(n,e):n}function rL(n,e){if(e&&tL(e)){if(n instanceof zg)return nL(n,e);throw mm("To use ref(service, url), the first argument must be a Storage instance.")}else return pA(n,e)}function iw(n,e){const t=e?.[eA];return t==null?null:bn.makeFromBucketSpec(t,n)}function iL(n,e,t,r={}){n.host=`${e}:${t}`;const s=xr(e);s&&(Jh(`https://${n.host}/b`),Xh("Storage",!0)),n._isUsingEmulator=!0,n._protocol=s?"https":"http";const{mockUserToken:a}=r;a&&(n._overrideAuthToken=typeof a=="string"?a:wT(a,n.app.options.projectId))}class zg{constructor(e,t,r,s,a,u=!1){this.app=e,this._authProvider=t,this._appCheckProvider=r,this._url=s,this._firebaseVersion=a,this._isUsingEmulator=u,this._bucket=null,this._host=ZS,this._protocol="https",this._appId=null,this._deleted=!1,this._maxOperationRetryTime=XD,this._maxUploadRetryTime=ZD,this._requests=new Set,s!=null?this._bucket=bn.makeFromBucketSpec(s,this._host):this._bucket=iw(this._host,this.app.options)}get host(){return this._host}set host(e){this._host=e,this._url!=null?this._bucket=bn.makeFromBucketSpec(this._url,e):this._bucket=iw(e,this.app.options)}get maxUploadRetryTime(){return this._maxUploadRetryTime}set maxUploadRetryTime(e){rw("time",0,Number.POSITIVE_INFINITY,e),this._maxUploadRetryTime=e}get maxOperationRetryTime(){return this._maxOperationRetryTime}set maxOperationRetryTime(e){rw("time",0,Number.POSITIVE_INFINITY,e),this._maxOperationRetryTime=e}async _getAuthToken(){if(this._overrideAuthToken)return this._overrideAuthToken;const e=this._authProvider.getImmediate({optional:!0});if(e){const t=await e.getToken();if(t!==null)return t.accessToken}return null}async _getAppCheckToken(){if(it(this.app)&&this.app.settings.appCheckToken)return this.app.settings.appCheckToken;const e=this._appCheckProvider.getImmediate({optional:!0});return e?(await e.getToken()).token:null}_delete(){return this._deleted||(this._deleted=!0,this._requests.forEach(e=>e.cancel()),this._requests.clear()),Promise.resolve()}_makeStorageReference(e){return new Js(this,e)}_makeRequest(e,t,r,s,a=!0){if(this._deleted)return new px(tA());{const u=Ax(e,this._appId,r,s,t,this._firebaseVersion,a,this._isUsingEmulator);return this._requests.add(u),u.getPromise().then(()=>this._requests.delete(u),()=>this._requests.delete(u)),u}}async makeRequestWithTokens(e,t){const[r,s]=await Promise.all([this._getAuthToken(),this._getAppCheckToken()]);return this._makeRequest(e,t,r,s).getPromise()}}const sw="@firebase/storage",ow="0.14.0";const mA="storage";function SF(n,e,t){return n=ge(n),Xx(n,e,t)}function AF(n){return n=ge(n),Zx(n)}function RF(n,e){return n=ge(n),rL(n,e)}function sL(n=_u(),e){n=ge(n);const r=fi(n,mA).getImmediate({identifier:e}),s=Am("storage");return s&&oL(r,...s),r}function oL(n,e,t,r={}){iL(n,e,t,r)}function aL(n,{instanceIdentifier:e}){const t=n.getProvider("app").getImmediate(),r=n.getProvider("auth-internal"),s=n.getProvider("app-check-internal");return new zg(t,r,s,e,no)}function lL(){Hn(new Nn(mA,aL,"PUBLIC").setMultipleInstances(!0)),Xt(sw,ow,""),Xt(sw,ow,"esm2020")}lL();const gA="@firebase/installations",Bg="0.6.19";const yA=1e4,_A=`w:${Bg}`,vA="FIS_v2",uL="https://firebaseinstallations.googleapis.com/v1",cL=3600*1e3,hL="installations",dL="Installations";const fL={"missing-app-config-values":'Missing App configuration value: "{$valueName}"',"not-registered":"Firebase Installation is not registered.","installation-not-found":"Firebase Installation not found.","request-failed":'{$requestName} request failed with error "{$serverCode} {$serverStatus}: {$serverMessage}"',"app-offline":"Could not process request. Application offline.","delete-pending-registration":"Can't delete installation while there is a pending registration request."},Xs=new to(hL,dL,fL);function EA(n){return n instanceof Dn&&n.code.includes("request-failed")}function wA({projectId:n}){return`${uL}/projects/${n}/installations`}function TA(n){return{token:n.token,requestStatus:2,expiresIn:mL(n.expiresIn),creationTime:Date.now()}}async function IA(n,e){const r=(await e.json()).error;return Xs.create("request-failed",{requestName:n,serverCode:r.code,serverMessage:r.message,serverStatus:r.status})}function SA({apiKey:n}){return new Headers({"Content-Type":"application/json",Accept:"application/json","x-goog-api-key":n})}function pL(n,{refreshToken:e}){const t=SA(n);return t.append("Authorization",gL(e)),t}async function AA(n){const e=await n();return e.status>=500&&e.status<600?n():e}function mL(n){return Number(n.replace("s","000"))}function gL(n){return`${vA} ${n}`}async function yL({appConfig:n,heartbeatServiceProvider:e},{fid:t}){const r=wA(n),s=SA(n),a=e.getImmediate({optional:!0});if(a){const m=await a.getHeartbeatsHeader();m&&s.append("x-firebase-client",m)}const u={fid:t,authVersion:vA,appId:n.appId,sdkVersion:_A},d={method:"POST",headers:s,body:JSON.stringify(u)},f=await AA(()=>fetch(r,d));if(f.ok){const m=await f.json();return{fid:m.fid||t,registrationStatus:2,refreshToken:m.refreshToken,authToken:TA(m.authToken)}}else throw await IA("Create Installation",f)}function RA(n){return new Promise(e=>{setTimeout(e,n)})}function _L(n){return btoa(String.fromCharCode(...n)).replace(/\+/g,"-").replace(/\//g,"_")}const vL=/^[cdef][\w-]{21}$/,gm="";function EL(){try{const n=new Uint8Array(17);(self.crypto||self.msCrypto).getRandomValues(n),n[0]=112+n[0]%16;const t=wL(n);return vL.test(t)?t:gm}catch{return gm}}function wL(n){return _L(n).substr(0,22)}function Rd(n){return`${n.appName}!${n.appId}`}const PA=new Map;function CA(n,e){const t=Rd(n);kA(t,e),TL(t,e)}function kA(n,e){const t=PA.get(n);if(t)for(const r of t)r(e)}function TL(n,e){const t=IL();t&&t.postMessage({key:n,fid:e}),SL()}let $s=null;function IL(){return!$s&&"BroadcastChannel"in self&&($s=new BroadcastChannel("[Firebase] FID Change"),$s.onmessage=n=>{kA(n.data.key,n.data.fid)}),$s}function SL(){PA.size===0&&$s&&($s.close(),$s=null)}const AL="firebase-installations-database",RL=1,Zs="firebase-installations-store";let Op=null;function $g(){return Op||(Op=AT(AL,RL,{upgrade:(n,e)=>{e===0&&n.createObjectStore(Zs)}})),Op}async function jh(n,e){const t=Rd(n),s=(await $g()).transaction(Zs,"readwrite"),a=s.objectStore(Zs),u=await a.get(t);return await a.put(e,t),await s.done,(!u||u.fid!==e.fid)&&CA(n,e.fid),e}async function bA(n){const e=Rd(n),r=(await $g()).transaction(Zs,"readwrite");await r.objectStore(Zs).delete(e),await r.done}async function Pd(n,e){const t=Rd(n),s=(await $g()).transaction(Zs,"readwrite"),a=s.objectStore(Zs),u=await a.get(t),d=e(u);return d===void 0?await a.delete(t):await a.put(d,t),await s.done,d&&(!u||u.fid!==d.fid)&&CA(n,d.fid),d}async function Hg(n){let e;const t=await Pd(n.appConfig,r=>{const s=PL(r),a=CL(n,s);return e=a.registrationPromise,a.installationEntry});return t.fid===gm?{installationEntry:await e}:{installationEntry:t,registrationPromise:e}}function PL(n){const e=n||{fid:EL(),registrationStatus:0};return OA(e)}function CL(n,e){if(e.registrationStatus===0){if(!navigator.onLine){const s=Promise.reject(Xs.create("app-offline"));return{installationEntry:e,registrationPromise:s}}const t={fid:e.fid,registrationStatus:1,registrationTime:Date.now()},r=kL(n,t);return{installationEntry:t,registrationPromise:r}}else return e.registrationStatus===1?{installationEntry:e,registrationPromise:bL(n)}:{installationEntry:e}}async function kL(n,e){try{const t=await yL(n,e);return jh(n.appConfig,t)}catch(t){throw EA(t)&&t.customData.serverCode===409?await bA(n.appConfig):await jh(n.appConfig,{fid:e.fid,registrationStatus:0}),t}}async function bL(n){let e=await aw(n.appConfig);for(;e.registrationStatus===1;)await RA(100),e=await aw(n.appConfig);if(e.registrationStatus===0){const{installationEntry:t,registrationPromise:r}=await Hg(n);return r||t}return e}function aw(n){return Pd(n,e=>{if(!e)throw Xs.create("installation-not-found");return OA(e)})}function OA(n){return OL(n)?{fid:n.fid,registrationStatus:0}:n}function OL(n){return n.registrationStatus===1&&n.registrationTime+yA<Date.now()}async function NL({appConfig:n,heartbeatServiceProvider:e},t){const r=DL(n,t),s=pL(n,t),a=e.getImmediate({optional:!0});if(a){const m=await a.getHeartbeatsHeader();m&&s.append("x-firebase-client",m)}const u={installation:{sdkVersion:_A,appId:n.appId}},d={method:"POST",headers:s,body:JSON.stringify(u)},f=await AA(()=>fetch(r,d));if(f.ok){const m=await f.json();return TA(m)}else throw await IA("Generate Auth Token",f)}function DL(n,{fid:e}){return`${wA(n)}/${e}/authTokens:generate`}async function qg(n,e=!1){let t;const r=await Pd(n.appConfig,a=>{if(!NA(a))throw Xs.create("not-registered");const u=a.authToken;if(!e&&VL(u))return a;if(u.requestStatus===1)return t=xL(n,e),a;{if(!navigator.onLine)throw Xs.create("app-offline");const d=UL(a);return t=LL(n,d),d}});return t?await t:r.authToken}async function xL(n,e){let t=await lw(n.appConfig);for(;t.authToken.requestStatus===1;)await RA(100),t=await lw(n.appConfig);const r=t.authToken;return r.requestStatus===0?qg(n,e):r}function lw(n){return Pd(n,e=>{if(!NA(e))throw Xs.create("not-registered");const t=e.authToken;return FL(t)?{...e,authToken:{requestStatus:0}}:e})}async function LL(n,e){try{const t=await NL(n,e),r={...e,authToken:t};return await jh(n.appConfig,r),t}catch(t){if(EA(t)&&(t.customData.serverCode===401||t.customData.serverCode===404))await bA(n.appConfig);else{const r={...e,authToken:{requestStatus:0}};await jh(n.appConfig,r)}throw t}}function NA(n){return n!==void 0&&n.registrationStatus===2}function VL(n){return n.requestStatus===2&&!ML(n)}function ML(n){const e=Date.now();return e<n.creationTime||n.creationTime+n.expiresIn<e+cL}function UL(n){const e={requestStatus:1,requestTime:Date.now()};return{...n,authToken:e}}function FL(n){return n.requestStatus===1&&n.requestTime+yA<Date.now()}async function jL(n){const e=n,{installationEntry:t,registrationPromise:r}=await Hg(e);return r?r.catch(console.error):qg(e).catch(console.error),t.fid}async function zL(n,e=!1){const t=n;return await BL(t),(await qg(t,e)).token}async function BL(n){const{registrationPromise:e}=await Hg(n);e&&await e}function $L(n){if(!n||!n.options)throw Np("App Configuration");if(!n.name)throw Np("App Name");const e=["projectId","apiKey","appId"];for(const t of e)if(!n.options[t])throw Np(t);return{appName:n.name,projectId:n.options.projectId,apiKey:n.options.apiKey,appId:n.options.appId}}function Np(n){return Xs.create("missing-app-config-values",{valueName:n})}const DA="installations",HL="installations-internal",qL=n=>{const e=n.getProvider("app").getImmediate(),t=$L(e),r=fi(e,"heartbeat");return{app:e,appConfig:t,heartbeatServiceProvider:r,_delete:()=>Promise.resolve()}},WL=n=>{const e=n.getProvider("app").getImmediate(),t=fi(e,DA).getImmediate();return{getId:()=>jL(t),getToken:s=>zL(t,s)}};function GL(){Hn(new Nn(DA,qL,"PUBLIC")),Hn(new Nn(HL,WL,"PRIVATE"))}GL();Xt(gA,Bg);Xt(gA,Bg,"esm2020");const zh="analytics",KL="firebase_id",QL="origin",YL=60*1e3,JL="https://firebase.googleapis.com/v1alpha/projects/-/apps/{app-id}/webConfig",Wg="https://www.googletagmanager.com/gtag/js";const ln=new Zh("@firebase/analytics");const XL={"already-exists":"A Firebase Analytics instance with the appId {$id}  already exists. Only one Firebase Analytics instance can be created for each appId.","already-initialized":"initializeAnalytics() cannot be called again with different options than those it was initially called with. It can be called again with the same options to return the existing instance, or getAnalytics() can be used to get a reference to the already-initialized instance.","already-initialized-settings":"Firebase Analytics has already been initialized.settings() must be called before initializing any Analytics instanceor it will have no effect.","interop-component-reg-failed":"Firebase Analytics Interop Component failed to instantiate: {$reason}","invalid-analytics-context":"Firebase Analytics is not supported in this environment. Wrap initialization of analytics in analytics.isSupported() to prevent initialization in unsupported environments. Details: {$errorInfo}","indexeddb-unavailable":"IndexedDB unavailable or restricted in this environment. Wrap initialization of analytics in analytics.isSupported() to prevent initialization in unsupported environments. Details: {$errorInfo}","fetch-throttle":"The config fetch request timed out while in an exponential backoff state. Unix timestamp in milliseconds when fetch request throttling ends: {$throttleEndTimeMillis}.","config-fetch-failed":"Dynamic config fetch failed: [{$httpStatus}] {$responseMessage}","no-api-key":'The "apiKey" field is empty in the local Firebase config. Firebase Analytics requires this field tocontain a valid API key.',"no-app-id":'The "appId" field is empty in the local Firebase config. Firebase Analytics requires this field tocontain a valid app ID.',"no-client-id":'The "client_id" field is empty.',"invalid-gtag-resource":"Trusted Types detected an invalid gtag resource: {$gtagURL}."},On=new to("analytics","Analytics",XL);function ZL(n){if(!n.startsWith(Wg)){const e=On.create("invalid-gtag-resource",{gtagURL:n});return ln.warn(e.message),""}return n}function xA(n){return Promise.all(n.map(e=>e.catch(t=>t)))}function eV(n,e){let t;return window.trustedTypes&&(t=window.trustedTypes.createPolicy(n,e)),t}function tV(n,e){const t=eV("firebase-js-sdk-policy",{createScriptURL:ZL}),r=document.createElement("script"),s=`${Wg}?l=${n}&id=${e}`;r.src=t?t?.createScriptURL(s):s,r.async=!0,document.head.appendChild(r)}function nV(n){let e=[];return Array.isArray(window[n])?e=window[n]:window[n]=e,e}async function rV(n,e,t,r,s,a){const u=r[s];try{if(u)await e[u];else{const f=(await xA(t)).find(m=>m.measurementId===s);f&&await e[f.appId]}}catch(d){ln.error(d)}n("config",s,a)}async function iV(n,e,t,r,s){try{let a=[];if(s&&s.send_to){let u=s.send_to;Array.isArray(u)||(u=[u]);const d=await xA(t);for(const f of u){const m=d.find(w=>w.measurementId===f),g=m&&e[m.appId];if(g)a.push(g);else{a=[];break}}}a.length===0&&(a=Object.values(e)),await Promise.all(a),n("event",r,s||{})}catch(a){ln.error(a)}}function sV(n,e,t,r){async function s(a,...u){try{if(a==="event"){const[d,f]=u;await iV(n,e,t,d,f)}else if(a==="config"){const[d,f]=u;await rV(n,e,t,r,d,f)}else if(a==="consent"){const[d,f]=u;n("consent",d,f)}else if(a==="get"){const[d,f,m]=u;n("get",d,f,m)}else if(a==="set"){const[d]=u;n("set",d)}else n(a,...u)}catch(d){ln.error(d)}}return s}function oV(n,e,t,r,s){let a=function(...u){window[r].push(arguments)};return window[s]&&typeof window[s]=="function"&&(a=window[s]),window[s]=sV(a,n,e,t),{gtagCore:a,wrappedGtag:window[s]}}function aV(n){const e=window.document.getElementsByTagName("script");for(const t of Object.values(e))if(t.src&&t.src.includes(Wg)&&t.src.includes(n))return t;return null}const lV=30,uV=1e3;class cV{constructor(e={},t=uV){this.throttleMetadata=e,this.intervalMillis=t}getThrottleMetadata(e){return this.throttleMetadata[e]}setThrottleMetadata(e,t){this.throttleMetadata[e]=t}deleteThrottleMetadata(e){delete this.throttleMetadata[e]}}const LA=new cV;function hV(n){return new Headers({Accept:"application/json","x-goog-api-key":n})}async function dV(n){const{appId:e,apiKey:t}=n,r={method:"GET",headers:hV(t)},s=JL.replace("{app-id}",e),a=await fetch(s,r);if(a.status!==200&&a.status!==304){let u="";try{const d=await a.json();d.error?.message&&(u=d.error.message)}catch{}throw On.create("config-fetch-failed",{httpStatus:a.status,responseMessage:u})}return a.json()}async function fV(n,e=LA,t){const{appId:r,apiKey:s,measurementId:a}=n.options;if(!r)throw On.create("no-app-id");if(!s){if(a)return{measurementId:a,appId:r};throw On.create("no-api-key")}const u=e.getThrottleMetadata(r)||{backoffCount:0,throttleEndTimeMillis:Date.now()},d=new gV;return setTimeout(async()=>{d.abort()},YL),VA({appId:r,apiKey:s,measurementId:a},u,d,e)}async function VA(n,{throttleEndTimeMillis:e,backoffCount:t},r,s=LA){const{appId:a,measurementId:u}=n;try{await pV(r,e)}catch(d){if(u)return ln.warn(`Timed out fetching this Firebase app's measurement ID from the server. Falling back to the measurement ID ${u} provided in the "measurementId" field in the local Firebase config. [${d?.message}]`),{appId:a,measurementId:u};throw d}try{const d=await dV(n);return s.deleteThrottleMetadata(a),d}catch(d){const f=d;if(!mV(f)){if(s.deleteThrottleMetadata(a),u)return ln.warn(`Failed to fetch this Firebase app's measurement ID from the server. Falling back to the measurement ID ${u} provided in the "measurementId" field in the local Firebase config. [${f?.message}]`),{appId:a,measurementId:u};throw d}const m=Number(f?.customData?.httpStatus)===503?Av(t,s.intervalMillis,lV):Av(t,s.intervalMillis),g={throttleEndTimeMillis:Date.now()+m,backoffCount:t+1};return s.setThrottleMetadata(a,g),ln.debug(`Calling attemptFetch again in ${m} millis`),VA(n,g,r,s)}}function pV(n,e){return new Promise((t,r)=>{const s=Math.max(e-Date.now(),0),a=setTimeout(t,s);n.addEventListener(()=>{clearTimeout(a),r(On.create("fetch-throttle",{throttleEndTimeMillis:e}))})})}function mV(n){if(!(n instanceof Dn)||!n.customData)return!1;const e=Number(n.customData.httpStatus);return e===429||e===500||e===503||e===504}class gV{constructor(){this.listeners=[]}addEventListener(e){this.listeners.push(e)}abort(){this.listeners.forEach(e=>e())}}async function yV(n,e,t,r,s){if(s&&s.global){n("event",t,r);return}else{const a=await e,u={...r,send_to:a};n("event",t,u)}}async function _V(n,e,t,r){if(r&&r.global){const s={};for(const a of Object.keys(t))s[`user_properties.${a}`]=t[a];return n("set",s),Promise.resolve()}else{const s=await e;n("config",s,{update:!0,user_properties:t})}}async function vV(){if(Pm())try{await Cm()}catch(n){return ln.warn(On.create("indexeddb-unavailable",{errorInfo:n?.toString()}).message),!1}else return ln.warn(On.create("indexeddb-unavailable",{errorInfo:"IndexedDB is not available in this environment."}).message),!1;return!0}async function EV(n,e,t,r,s,a,u){const d=fV(n);d.then(E=>{t[E.measurementId]=E.appId,n.options.measurementId&&E.measurementId!==n.options.measurementId&&ln.warn(`The measurement ID in the local Firebase config (${n.options.measurementId}) does not match the measurement ID fetched from the server (${E.measurementId}). To ensure analytics events are always sent to the correct Analytics property, update the measurement ID field in the local config or remove it from the local config.`)}).catch(E=>ln.error(E)),e.push(d);const f=vV().then(E=>{if(E)return r.getId()}),[m,g]=await Promise.all([d,f]);aV(a)||tV(a,m.measurementId),s("js",new Date);const w=u?.config??{};return w[QL]="firebase",w.update=!0,g!=null&&(w[KL]=g),s("config",m.measurementId,w),m.measurementId}class wV{constructor(e){this.app=e}_delete(){return delete da[this.app.options.appId],Promise.resolve()}}let da={},uw=[];const cw={};let Dp="dataLayer",TV="gtag",hw,Gg,dw=!1;function IV(){const n=[];if(Rm()&&n.push("This is a browser extension environment."),TT()||n.push("Cookies are not available."),n.length>0){const e=n.map((r,s)=>`(${s+1}) ${r}`).join(" "),t=On.create("invalid-analytics-context",{errorInfo:e});ln.warn(t.message)}}function SV(n,e,t){IV();const r=n.options.appId;if(!r)throw On.create("no-app-id");if(!n.options.apiKey)if(n.options.measurementId)ln.warn(`The "apiKey" field is empty in the local Firebase config. This is needed to fetch the latest measurement ID for this Firebase app. Falling back to the measurement ID ${n.options.measurementId} provided in the "measurementId" field in the local Firebase config.`);else throw On.create("no-api-key");if(da[r]!=null)throw On.create("already-exists",{id:r});if(!dw){nV(Dp);const{wrappedGtag:a,gtagCore:u}=oV(da,uw,cw,Dp,TV);Gg=a,hw=u,dw=!0}return da[r]=EV(n,uw,cw,e,hw,Dp,t),new wV(n)}function AV(n=_u()){n=ge(n);const e=fi(n,zh);return e.isInitialized()?e.getImmediate():RV(n)}function RV(n,e={}){const t=fi(n,zh);if(t.isInitialized()){const s=t.getImmediate();if(oi(e,t.getOptions()))return s;throw On.create("already-initialized")}return t.initialize({options:e})}async function PV(){if(Rm()||!TT()||!Pm())return!1;try{return await Cm()}catch{return!1}}function CV(n,e,t){n=ge(n),_V(Gg,da[n.app.options.appId],e,t).catch(r=>ln.error(r))}function ym(n,e,t,r){n=ge(n),yV(Gg,da[n.app.options.appId],e,t,r).catch(s=>ln.error(s))}const fw="@firebase/analytics",pw="0.10.19";function kV(){Hn(new Nn(zh,(e,{options:t})=>{const r=e.getProvider("app").getImmediate(),s=e.getProvider("installations-internal").getImmediate();return SV(r,s,t)},"PUBLIC")),Hn(new Nn("analytics-internal",n,"PRIVATE")),Xt(fw,pw),Xt(fw,pw,"esm2020");function n(e){try{const t=e.getProvider(zh).getImmediate();return{logEvent:(r,s,a)=>ym(t,r,s,a),setUserProperties:(r,s)=>CV(t,r,s)}}catch(t){throw On.create("interop-component-reg-failed",{reason:t})}}}kV();const bV="type.googleapis.com/google.protobuf.Int64Value",OV="type.googleapis.com/google.protobuf.UInt64Value";function MA(n,e){const t={};for(const r in n)n.hasOwnProperty(r)&&(t[r]=e(n[r]));return t}function Bh(n){if(n==null)return null;if(n instanceof Number&&(n=n.valueOf()),typeof n=="number"&&isFinite(n)||n===!0||n===!1||Object.prototype.toString.call(n)==="[object String]")return n;if(n instanceof Date)return n.toISOString();if(Array.isArray(n))return n.map(e=>Bh(e));if(typeof n=="function"||typeof n=="object")return MA(n,e=>Bh(e));throw new Error("Data cannot be encoded in JSON: "+n)}function Ea(n){if(n==null)return n;if(n["@type"])switch(n["@type"]){case bV:case OV:{const e=Number(n.value);if(isNaN(e))throw new Error("Data cannot be decoded from JSON: "+n);return e}default:throw new Error("Data cannot be decoded from JSON: "+n)}return Array.isArray(n)?n.map(e=>Ea(e)):typeof n=="function"||typeof n=="object"?MA(n,e=>Ea(e)):n}const Kg="functions";const mw={OK:"ok",CANCELLED:"cancelled",UNKNOWN:"unknown",INVALID_ARGUMENT:"invalid-argument",DEADLINE_EXCEEDED:"deadline-exceeded",NOT_FOUND:"not-found",ALREADY_EXISTS:"already-exists",PERMISSION_DENIED:"permission-denied",UNAUTHENTICATED:"unauthenticated",RESOURCE_EXHAUSTED:"resource-exhausted",FAILED_PRECONDITION:"failed-precondition",ABORTED:"aborted",OUT_OF_RANGE:"out-of-range",UNIMPLEMENTED:"unimplemented",INTERNAL:"internal",UNAVAILABLE:"unavailable",DATA_LOSS:"data-loss"};class _n extends Dn{constructor(e,t,r){super(`${Kg}/${e}`,t||""),this.details=r,Object.setPrototypeOf(this,_n.prototype)}}function NV(n){if(n>=200&&n<300)return"ok";switch(n){case 0:return"internal";case 400:return"invalid-argument";case 401:return"unauthenticated";case 403:return"permission-denied";case 404:return"not-found";case 409:return"aborted";case 429:return"resource-exhausted";case 499:return"cancelled";case 500:return"internal";case 501:return"unimplemented";case 503:return"unavailable";case 504:return"deadline-exceeded"}return"unknown"}function $h(n,e){let t=NV(n),r=t,s;try{const a=e&&e.error;if(a){const u=a.status;if(typeof u=="string"){if(!mw[u])return new _n("internal","internal");t=mw[u],r=u}const d=a.message;typeof d=="string"&&(r=d),s=a.details,s!==void 0&&(s=Ea(s))}}catch{}return t==="ok"?null:new _n(t,r,s)}class DV{constructor(e,t,r,s){this.app=e,this.auth=null,this.messaging=null,this.appCheck=null,this.serverAppAppCheckToken=null,it(e)&&e.settings.appCheckToken&&(this.serverAppAppCheckToken=e.settings.appCheckToken),this.auth=t.getImmediate({optional:!0}),this.messaging=r.getImmediate({optional:!0}),this.auth||t.get().then(a=>this.auth=a,()=>{}),this.messaging||r.get().then(a=>this.messaging=a,()=>{}),this.appCheck||s?.get().then(a=>this.appCheck=a,()=>{})}async getAuthToken(){if(this.auth)try{return(await this.auth.getToken())?.accessToken}catch{return}}async getMessagingToken(){if(!(!this.messaging||!("Notification"in self)||Notification.permission!=="granted"))try{return await this.messaging.getToken()}catch{return}}async getAppCheckToken(e){if(this.serverAppAppCheckToken)return this.serverAppAppCheckToken;if(this.appCheck){const t=e?await this.appCheck.getLimitedUseToken():await this.appCheck.getToken();return t.error?null:t.token}return null}async getContext(e){const t=await this.getAuthToken(),r=await this.getMessagingToken(),s=await this.getAppCheckToken(e);return{authToken:t,messagingToken:r,appCheckToken:s}}}const _m="us-central1",xV=/^data: (.*?)(?:\n|$)/;function LV(n){let e=null;return{promise:new Promise((t,r)=>{e=setTimeout(()=>{r(new _n("deadline-exceeded","deadline-exceeded"))},n)}),cancel:()=>{e&&clearTimeout(e)}}}class VV{constructor(e,t,r,s,a=_m,u=(...d)=>fetch(...d)){this.app=e,this.fetchImpl=u,this.emulatorOrigin=null,this.contextProvider=new DV(e,t,r,s),this.cancelAllRequests=new Promise(d=>{this.deleteService=()=>Promise.resolve(d())});try{const d=new URL(a);this.customDomain=d.origin+(d.pathname==="/"?"":d.pathname),this.region=_m}catch{this.customDomain=null,this.region=a}}_delete(){return this.deleteService()}_url(e){const t=this.app.options.projectId;return this.emulatorOrigin!==null?`${this.emulatorOrigin}/${t}/${this.region}/${e}`:this.customDomain!==null?`${this.customDomain}/${e}`:`https://${this.region}-${t}.cloudfunctions.net/${e}`}}function MV(n,e,t){const r=xr(e);n.emulatorOrigin=`http${r?"s":""}://${e}:${t}`,r&&(Jh(n.emulatorOrigin+"/backends"),Xh("Functions",!0))}function UV(n,e,t){const r=s=>zV(n,e,s,t||{});return r.stream=(s,a)=>BV(n,e,s,a),r}function FV(n,e,t){const r=s=>jA(n,e,s,t||{});return r.stream=(s,a)=>zA(n,e,s,a||{}),r}function UA(n){return n.emulatorOrigin&&xr(n.emulatorOrigin)?"include":void 0}async function jV(n,e,t,r,s){t["Content-Type"]="application/json";let a;try{a=await r(n,{method:"POST",body:JSON.stringify(e),headers:t,credentials:UA(s)})}catch{return{status:0,json:null}}let u=null;try{u=await a.json()}catch{}return{status:a.status,json:u}}async function FA(n,e){const t={},r=await n.contextProvider.getContext(e.limitedUseAppCheckTokens);return r.authToken&&(t.Authorization="Bearer "+r.authToken),r.messagingToken&&(t["Firebase-Instance-ID-Token"]=r.messagingToken),r.appCheckToken!==null&&(t["X-Firebase-AppCheck"]=r.appCheckToken),t}function zV(n,e,t,r){const s=n._url(e);return jA(n,s,t,r)}async function jA(n,e,t,r){t=Bh(t);const s={data:t},a=await FA(n,r),u=r.timeout||7e4,d=LV(u),f=await Promise.race([jV(e,s,a,n.fetchImpl,n),d.promise,n.cancelAllRequests]);if(d.cancel(),!f)throw new _n("cancelled","Firebase Functions instance was deleted.");const m=$h(f.status,f.json);if(m)throw m;if(!f.json)throw new _n("internal","Response is not valid JSON object.");let g=f.json.data;if(typeof g>"u"&&(g=f.json.result),typeof g>"u")throw new _n("internal","Response is missing data field.");return{data:Ea(g)}}function BV(n,e,t,r){const s=n._url(e);return zA(n,s,t,r||{})}async function zA(n,e,t,r){t=Bh(t);const s={data:t},a=await FA(n,r);a["Content-Type"]="application/json",a.Accept="text/event-stream";let u;try{u=await n.fetchImpl(e,{method:"POST",body:JSON.stringify(s),headers:a,signal:r?.signal,credentials:UA(n)})}catch(E){if(E instanceof Error&&E.name==="AbortError"){const V=new _n("cancelled","Request was cancelled.");return{data:Promise.reject(V),stream:{[Symbol.asyncIterator](){return{next(){return Promise.reject(V)}}}}}}const R=$h(0,null);return{data:Promise.reject(R),stream:{[Symbol.asyncIterator](){return{next(){return Promise.reject(R)}}}}}}let d,f;const m=new Promise((E,R)=>{d=E,f=R});r?.signal?.addEventListener("abort",()=>{const E=new _n("cancelled","Request was cancelled.");f(E)});const g=u.body.getReader(),w=$V(g,d,f,r?.signal);return{stream:{[Symbol.asyncIterator](){const E=w.getReader();return{async next(){const{value:R,done:V}=await E.read();return{value:R,done:V}},async return(){return await E.cancel(),{done:!0,value:void 0}}}}},data:m}}function $V(n,e,t,r){const s=(u,d)=>{const f=u.match(xV);if(!f)return;const m=f[1];try{const g=JSON.parse(m);if("result"in g){e(Ea(g.result));return}if("message"in g){d.enqueue(Ea(g.message));return}if("error"in g){const w=$h(0,g);d.error(w),t(w);return}}catch(g){if(g instanceof _n){d.error(g),t(g);return}}},a=new TextDecoder;return new ReadableStream({start(u){let d="";return f();async function f(){if(r?.aborted){const m=new _n("cancelled","Request was cancelled");return u.error(m),t(m),Promise.resolve()}try{const{value:m,done:g}=await n.read();if(g){d.trim()&&s(d.trim(),u),u.close();return}if(r?.aborted){const E=new _n("cancelled","Request was cancelled");u.error(E),t(E),await n.cancel();return}d+=a.decode(m,{stream:!0});const w=d.split(`
`);d=w.pop()||"";for(const E of w)E.trim()&&s(E.trim(),u);return f()}catch(m){const g=m instanceof _n?m:$h(0,null);u.error(g),t(g)}}},cancel(){return n.cancel()}})}const gw="@firebase/functions",yw="0.13.1";const HV="auth-internal",qV="app-check-internal",WV="messaging-internal";function GV(n){const e=(t,{instanceIdentifier:r})=>{const s=t.getProvider("app").getImmediate(),a=t.getProvider(HV),u=t.getProvider(WV),d=t.getProvider(qV);return new VV(s,a,u,d,r)};Hn(new Nn(Kg,e,"PUBLIC").setMultipleInstances(!0)),Xt(gw,yw,n),Xt(gw,yw,"esm2020")}function KV(n=_u(),e=_m){const r=fi(ge(n),Kg).getImmediate({identifier:e}),s=Am("functions");return s&&QV(r,...s),r}function QV(n,e,t){MV(ge(n),e,t)}function PF(n,e,t){return UV(ge(n),e,t)}function CF(n,e,t){return FV(ge(n),e,t)}GV();const YV={apiKey:"AIzaSyDoFoPoaPMi6HkqsA1vn6oDPokG9btVJ3g",authDomain:"jastalk-firebase.firebaseapp.com",databaseURL:"https://jastalk-firebase-default-rtdb.firebaseio.com",projectId:"jastalk-firebase",storageBucket:"jastalk-firebase.firebasestorage.app",messagingSenderId:"371634100960",appId:"1:371634100960:web:8ef53e663b37e14b9f0e85",measurementId:"G-BTZ1F392FM"},xu=RT(YV),JV=PV().then(n=>n?AV(xu):null),_w=Rb(xu),gn=LD(xu),kF=sL(xu),bF=KV(xu,"us-west1"),OF=new ei,XV=["resume_generate_prompt","resume_suggestion","interview_analysis","question_generation","job_prep_generation","job_prep_regeneration","job_parse_description","resume_match_analysis","portfolio_generation","portfolio_refinement","image_generation","ai_assistant_query"],ZV=async(n,e,t={})=>{if(!n){console.error("[TrackUsage] Called without userId! Event:",e);return}try{await fm(Bl(gn,"usage_logs"),{userId:n,eventType:e,timestamp:ra(),...t})}catch{}try{const r=await JV;r&&(t.tokenUsage&&ym(r,"token_usage",{category:e,value:t.tokenUsage}),e==="resume_download"&&ym(r,"resume_download",{format:t.format}))}catch{}if(XV.includes(e))try{const{incrementAIUsage:r}=await _e(async()=>{const{incrementAIUsage:s}=await import("./aiUsageService-DdLXP0a-.js");return{incrementAIUsage:s}},[]);await r(n)}catch(r){console.error(`Failed to deduct credit for ${e}:`,r)}},NF=async n=>{try{const e=ri(gn,"analytics","demo_page_events");await Vg(e,{[n]:KS(1)},{merge:!0})}catch(e){console.error(`Error tracking demo event (${n}):`,e)}},DF=async n=>{try{const e=ri(gn,"analytics","demo_page_events");await Vg(e,{[n]:KS(1)},{merge:!0})}catch(e){console.error(`Error tracking demo conversion (${n}):`,e)}},e2={jobTitle:"Software Developer",photo:"",firstName:"John",lastName:"Doe",email:"john.doe@example.com",phone:"555-123-4567",address:"123 Main Street",city:"Anytown",postalCode:"12345",country:"USA"},t2="A highly skilled and experienced IT professional adept at managing and overseeing complex server infrastructure, ensuring high availability and optimal performance. Proficient in system security and system monitoring. Experienced in implementing disaster recovery plans and conducting regular system audits to ensure compliance with industry standards. Well-versed in a variety of operating systems, including Windows and Linux, and skilled in virtualization technologies, user management, Active Directory administration, Group policy management, IIS, and MSSQL databases. Seeking to leverage my skills and experience in a challenging IT leadership role.",n2=[{id:"1",label:"LinkedIn",url:"linkedin.com/in/johndoe",icon:"linkedin"}],r2=[{id:"1",name:"System administration",level:"Expert"},{id:"2",name:"Operating systems",level:"Expert"},{id:"3",name:"Network administration",level:"Expert"}],i2=[{id:"1",name:"English",level:"Native"},{id:"2",name:"Spanish",level:"Intermediate"}],s2=[{id:"1",jobTitle:"Web Developer",employer:"Tech Solutions Inc.",city:"Anytown",startDate:"Jan 2019",endDate:"Apr 2021",description:"Led a team in developing and maintaining web applications. Improved system efficiency by 25%."}],o2=[{id:"1",school:"State University",degree:"Bachelor of Science in Computer Science",city:"Anytown",startDate:"Aug 2015",endDate:"May 2019",description:"Focused on software development and algorithms. Graduated with honors."}],BA={contact:"Contact",profile:"Profile",skills:"Skills",experience:"Experience",education:"Education",languages:"Languages",websites:"Websites & Social Links"},$A={email:"mail",phone:"phone",location:"map-pin"},xF=()=>({id:Date.now().toString(),title:"Untitled Resume",updatedAt:new Date().toISOString(),templateId:"Modern",personalDetails:{...e2},professionalSummary:t2,websites:[...n2.map(e=>({...e,id:crypto.randomUUID()}))],skills:[...r2.map(e=>({...e,id:crypto.randomUUID()}))],employmentHistory:[...s2.map(e=>({...e,id:crypto.randomUUID()}))],education:[...o2.map(e=>({...e,id:crypto.randomUUID()}))],languages:[...i2.map(e=>({...e,id:crypto.randomUUID()}))],themeColor:"#2c3e50",titleFont:"Montserrat",bodyFont:"Crimson Text",language:"English",sectionTitles:{...BA},customIcons:{...$A}}),LF=()=>({id:Date.now().toString(),title:"Untitled Resume",updatedAt:new Date().toISOString(),templateId:"Modern",personalDetails:{jobTitle:"",photo:"",firstName:"",lastName:"",email:"",phone:"",address:"",city:"",postalCode:"",country:""},professionalSummary:"",websites:[],skills:[],employmentHistory:[],education:[],languages:[],themeColor:"#2c3e50",titleFont:"Montserrat",bodyFont:"Crimson Text",language:"English",sectionTitles:{...BA},customIcons:{...$A}}),VF=["Montserrat","Lato","Roboto","Open Sans","Merriweather","Playfair Display","Oswald","Raleway","Poppins","Nunito Sans","Crimson Text","Source Sans Pro","Tajawal"],MF=["Native","Fluent","Proficient","Intermediate","Basic"],UF=[{id:"mail",label:"Email"},{id:"phone",label:"Phone"},{id:"map-pin",label:"Location"},{id:"globe",label:"Website"},{id:"linkedin",label:"LinkedIn"},{id:"github",label:"GitHub"},{id:"facebook",label:"Facebook"},{id:"twitter",label:"Twitter/X"},{id:"instagram",label:"Instagram"},{id:"youtube",label:"YouTube"},{id:"video",label:"TikTok"},{id:"at-sign",label:"Gmail"},{id:"briefcase",label:"Portfolio"},{id:"send",label:"Telegram"},{id:"link",label:"Link"},{id:"yahoo",label:"Yahoo"}],Hh=[{code:"en",name:"English",nativeName:"English"},{code:"es",name:"Spanish",nativeName:"Espaol"},{code:"fr",name:"French",nativeName:"Franais"},{code:"de",name:"German",nativeName:"Deutsch"},{code:"zh",name:"Chinese",nativeName:""},{code:"ja",name:"Japanese",nativeName:""},{code:"ko",name:"Korean",nativeName:""}],FF=[{code:"en",name:"English"},{code:"es",name:"Spanish"},{code:"fr",name:"French"},{code:"de",name:"German"},{code:"zh-CN",name:"Chinese (Simplified)"},{code:"ja",name:"Japanese"},{code:"ar",name:"Arabic"},{code:"ru",name:"Russian"},{code:"pt",name:"Portuguese"},{code:"it",name:"Italian"},{code:"ko",name:"Korean"},{code:"nl",name:"Dutch"},{code:"hi",name:"Hindi"},{code:"sv",name:"Swedish"},{code:"tr",name:"Turkish"},{code:"pl",name:"Polish"},{code:"vi",name:"Vietnamese"},{code:"id",name:"Indonesian"},{code:"el",name:"Greek"},{code:"cs",name:"Czech"},{code:"ro",name:"Romanian"},{code:"hu",name:"Hungarian"},{code:"th",name:"Thai"},{code:"fi",name:"Finnish"},{code:"da",name:"Danish"},{code:"no",name:"Norwegian"},{code:"he",name:"Hebrew"},{code:"uk",name:"Ukrainian"},{code:"ms",name:"Malay"},{code:"sk",name:"Slovak"},{code:"af",name:"Afrikaans"},{code:"sq",name:"Albanian"},{code:"am",name:"Amharic"},{code:"hy",name:"Armenian"},{code:"az",name:"Azerbaijani"},{code:"eu",name:"Basque"},{code:"be",name:"Belarusian"},{code:"bn",name:"Bengali"},{code:"bs",name:"Bosnian"},{code:"bg",name:"Bulgarian"},{code:"ca",name:"Catalan"},{code:"ceb",name:"Cebuano"},{code:"ny",name:"Chichewa"},{code:"zh-TW",name:"Chinese (Traditional)"},{code:"co",name:"Corsican"},{code:"hr",name:"Croatian"},{code:"eo",name:"Esperanto"},{code:"et",name:"Estonian"},{code:"tl",name:"Filipino"},{code:"fy",name:"Frisian"},{code:"gl",name:"Galician"},{code:"ka",name:"Georgian"},{code:"gu",name:"Gujarati"},{code:"ht",name:"Haitian Creole"},{code:"ha",name:"Hausa"},{code:"haw",name:"Hawaiian"},{code:"is",name:"Icelandic"},{code:"ig",name:"Igbo"},{code:"ga",name:"Irish"},{code:"jw",name:"Javanese"},{code:"kn",name:"Kannada"},{code:"kk",name:"Kazakh"},{code:"km",name:"Khmer"},{code:"ku",name:"Kurdish (Kurmanji)"},{code:"ky",name:"Kyrgyz"},{code:"lo",name:"Lao"},{code:"la",name:"Latin"},{code:"lv",name:"Latvian"},{code:"lt",name:"Lithuanian"},{code:"lb",name:"Luxembourgish"},{code:"mk",name:"Macedonian"},{code:"mg",name:"Malagasy"},{code:"ml",name:"Malayalam"},{code:"mt",name:"Maltese"},{code:"mi",name:"Maori"},{code:"mr",name:"Marathi"},{code:"mn",name:"Mongolian"},{code:"my",name:"Myanmar (Burmese)"},{code:"ne",name:"Nepali"},{code:"ps",name:"Pashto"},{code:"fa",name:"Persian"},{code:"pa",name:"Punjabi"},{code:"sm",name:"Samoan"},{code:"gd",name:"Scots Gaelic"},{code:"sr",name:"Serbian"},{code:"st",name:"Sesotho"},{code:"sn",name:"Shona"},{code:"sd",name:"Sindhi"},{code:"si",name:"Sinhala"},{code:"sl",name:"Slovenian"},{code:"so",name:"Somali"},{code:"su",name:"Sundanese"},{code:"sw",name:"Swahili"},{code:"tg",name:"Tajik"},{code:"ta",name:"Tamil"},{code:"te",name:"Telugu"},{code:"ur",name:"Urdu"},{code:"uz",name:"Uzbek"},{code:"cy",name:"Welsh"},{code:"xh",name:"Xhosa"},{code:"yi",name:"Yiddish"},{code:"yo",name:"Yoruba"},{code:"zu",name:"Zulu"}],jF=[{id:"pdf",name:"PDF Document",recommendation:"Best for job applications and professional sharing."},{id:"png",name:"PNG Image (Full)",recommendation:"High-quality image of the entire resume."},{id:"1:1",name:"Square Image (1:1)",recommendation:"Ideal for profile pictures or social media posts."},{id:"16:9",name:"Widescreen Image (16:9)",recommendation:"Great for presentation slides or banners."},{id:"9:16",name:"Story Image (9:16)",recommendation:"Perfect for sharing on mobile stories."},{id:"4:5",name:"Portrait Image (4:5)",recommendation:"Optimized for social media feeds."}],be=n=>typeof n=="string",Dl=()=>{let n,e;const t=new Promise((r,s)=>{n=r,e=s});return t.resolve=n,t.reject=e,t},vw=n=>n==null?"":""+n,a2=(n,e,t)=>{n.forEach(r=>{e[r]&&(t[r]=e[r])})},l2=/###/g,Ew=n=>n&&n.indexOf("###")>-1?n.replace(l2,"."):n,ww=n=>!n||be(n),eu=(n,e,t)=>{const r=be(e)?e.split("."):e;let s=0;for(;s<r.length-1;){if(ww(n))return{};const a=Ew(r[s]);!n[a]&&t&&(n[a]=new t),Object.prototype.hasOwnProperty.call(n,a)?n=n[a]:n={},++s}return ww(n)?{}:{obj:n,k:Ew(r[s])}},Tw=(n,e,t)=>{const{obj:r,k:s}=eu(n,e,Object);if(r!==void 0||e.length===1){r[s]=t;return}let a=e[e.length-1],u=e.slice(0,e.length-1),d=eu(n,u,Object);for(;d.obj===void 0&&u.length;)a=`${u[u.length-1]}.${a}`,u=u.slice(0,u.length-1),d=eu(n,u,Object),d&&d.obj&&typeof d.obj[`${d.k}.${a}`]<"u"&&(d.obj=void 0);d.obj[`${d.k}.${a}`]=t},u2=(n,e,t,r)=>{const{obj:s,k:a}=eu(n,e,Object);s[a]=s[a]||[],s[a].push(t)},qh=(n,e)=>{const{obj:t,k:r}=eu(n,e);if(t)return t[r]},c2=(n,e,t)=>{const r=qh(n,t);return r!==void 0?r:qh(e,t)},HA=(n,e,t)=>{for(const r in e)r!=="__proto__"&&r!=="constructor"&&(r in n?be(n[r])||n[r]instanceof String||be(e[r])||e[r]instanceof String?t&&(n[r]=e[r]):HA(n[r],e[r],t):n[r]=e[r]);return n},Jo=n=>n.replace(/[\-\[\]\/\{\}\(\)\*\+\?\.\\\^\$\|]/g,"\\$&");var h2={"&":"&amp;","<":"&lt;",">":"&gt;",'"':"&quot;","'":"&#39;","/":"&#x2F;"};const d2=n=>be(n)?n.replace(/[&<>"'\/]/g,e=>h2[e]):n;class f2{constructor(e){this.capacity=e,this.regExpMap=new Map,this.regExpQueue=[]}getRegExp(e){const t=this.regExpMap.get(e);if(t!==void 0)return t;const r=new RegExp(e);return this.regExpQueue.length===this.capacity&&this.regExpMap.delete(this.regExpQueue.shift()),this.regExpMap.set(e,r),this.regExpQueue.push(e),r}}const p2=[" ",",","?","!",";"],m2=new f2(20),g2=(n,e,t)=>{e=e||"",t=t||"";const r=p2.filter(u=>e.indexOf(u)<0&&t.indexOf(u)<0);if(r.length===0)return!0;const s=m2.getRegExp(`(${r.map(u=>u==="?"?"\\?":u).join("|")})`);let a=!s.test(n);if(!a){const u=n.indexOf(t);u>0&&!s.test(n.substring(0,u))&&(a=!0)}return a},vm=function(n,e){let t=arguments.length>2&&arguments[2]!==void 0?arguments[2]:".";if(!n)return;if(n[e])return n[e];const r=e.split(t);let s=n;for(let a=0;a<r.length;){if(!s||typeof s!="object")return;let u,d="";for(let f=a;f<r.length;++f)if(f!==a&&(d+=t),d+=r[f],u=s[d],u!==void 0){if(["string","number","boolean"].indexOf(typeof u)>-1&&f<r.length-1)continue;a+=f-a+1;break}s=u}return s},Wh=n=>n&&n.replace("_","-"),y2={type:"logger",log(n){this.output("log",n)},warn(n){this.output("warn",n)},error(n){this.output("error",n)},output(n,e){console&&console[n]&&console[n].apply(console,e)}};class Gh{constructor(e){let t=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};this.init(e,t)}init(e){let t=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};this.prefix=t.prefix||"i18next:",this.logger=e||y2,this.options=t,this.debug=t.debug}log(){for(var e=arguments.length,t=new Array(e),r=0;r<e;r++)t[r]=arguments[r];return this.forward(t,"log","",!0)}warn(){for(var e=arguments.length,t=new Array(e),r=0;r<e;r++)t[r]=arguments[r];return this.forward(t,"warn","",!0)}error(){for(var e=arguments.length,t=new Array(e),r=0;r<e;r++)t[r]=arguments[r];return this.forward(t,"error","")}deprecate(){for(var e=arguments.length,t=new Array(e),r=0;r<e;r++)t[r]=arguments[r];return this.forward(t,"warn","WARNING DEPRECATED: ",!0)}forward(e,t,r,s){return s&&!this.debug?null:(be(e[0])&&(e[0]=`${r}${this.prefix} ${e[0]}`),this.logger[t](e))}create(e){return new Gh(this.logger,{prefix:`${this.prefix}:${e}:`,...this.options})}clone(e){return e=e||this.options,e.prefix=e.prefix||this.prefix,new Gh(this.logger,e)}}var Cr=new Gh;class Cd{constructor(){this.observers={}}on(e,t){return e.split(" ").forEach(r=>{this.observers[r]||(this.observers[r]=new Map);const s=this.observers[r].get(t)||0;this.observers[r].set(t,s+1)}),this}off(e,t){if(this.observers[e]){if(!t){delete this.observers[e];return}this.observers[e].delete(t)}}emit(e){for(var t=arguments.length,r=new Array(t>1?t-1:0),s=1;s<t;s++)r[s-1]=arguments[s];this.observers[e]&&Array.from(this.observers[e].entries()).forEach(u=>{let[d,f]=u;for(let m=0;m<f;m++)d(...r)}),this.observers["*"]&&Array.from(this.observers["*"].entries()).forEach(u=>{let[d,f]=u;for(let m=0;m<f;m++)d.apply(d,[e,...r])})}}class Iw extends Cd{constructor(e){let t=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{ns:["translation"],defaultNS:"translation"};super(),this.data=e||{},this.options=t,this.options.keySeparator===void 0&&(this.options.keySeparator="."),this.options.ignoreJSONStructure===void 0&&(this.options.ignoreJSONStructure=!0)}addNamespaces(e){this.options.ns.indexOf(e)<0&&this.options.ns.push(e)}removeNamespaces(e){const t=this.options.ns.indexOf(e);t>-1&&this.options.ns.splice(t,1)}getResource(e,t,r){let s=arguments.length>3&&arguments[3]!==void 0?arguments[3]:{};const a=s.keySeparator!==void 0?s.keySeparator:this.options.keySeparator,u=s.ignoreJSONStructure!==void 0?s.ignoreJSONStructure:this.options.ignoreJSONStructure;let d;e.indexOf(".")>-1?d=e.split("."):(d=[e,t],r&&(Array.isArray(r)?d.push(...r):be(r)&&a?d.push(...r.split(a)):d.push(r)));const f=qh(this.data,d);return!f&&!t&&!r&&e.indexOf(".")>-1&&(e=d[0],t=d[1],r=d.slice(2).join(".")),f||!u||!be(r)?f:vm(this.data&&this.data[e]&&this.data[e][t],r,a)}addResource(e,t,r,s){let a=arguments.length>4&&arguments[4]!==void 0?arguments[4]:{silent:!1};const u=a.keySeparator!==void 0?a.keySeparator:this.options.keySeparator;let d=[e,t];r&&(d=d.concat(u?r.split(u):r)),e.indexOf(".")>-1&&(d=e.split("."),s=t,t=d[1]),this.addNamespaces(t),Tw(this.data,d,s),a.silent||this.emit("added",e,t,r,s)}addResources(e,t,r){let s=arguments.length>3&&arguments[3]!==void 0?arguments[3]:{silent:!1};for(const a in r)(be(r[a])||Array.isArray(r[a]))&&this.addResource(e,t,a,r[a],{silent:!0});s.silent||this.emit("added",e,t,r)}addResourceBundle(e,t,r,s,a){let u=arguments.length>5&&arguments[5]!==void 0?arguments[5]:{silent:!1,skipCopy:!1},d=[e,t];e.indexOf(".")>-1&&(d=e.split("."),s=r,r=t,t=d[1]),this.addNamespaces(t);let f=qh(this.data,d)||{};u.skipCopy||(r=JSON.parse(JSON.stringify(r))),s?HA(f,r,a):f={...f,...r},Tw(this.data,d,f),u.silent||this.emit("added",e,t,r)}removeResourceBundle(e,t){this.hasResourceBundle(e,t)&&delete this.data[e][t],this.removeNamespaces(t),this.emit("removed",e,t)}hasResourceBundle(e,t){return this.getResource(e,t)!==void 0}getResourceBundle(e,t){return t||(t=this.options.defaultNS),this.options.compatibilityAPI==="v1"?{...this.getResource(e,t)}:this.getResource(e,t)}getDataByLanguage(e){return this.data[e]}hasLanguageSomeTranslations(e){const t=this.getDataByLanguage(e);return!!(t&&Object.keys(t)||[]).find(s=>t[s]&&Object.keys(t[s]).length>0)}toJSON(){return this.data}}var qA={processors:{},addPostProcessor(n){this.processors[n.name]=n},handle(n,e,t,r,s){return n.forEach(a=>{this.processors[a]&&(e=this.processors[a].process(e,t,r,s))}),e}};const Sw={};class Kh extends Cd{constructor(e){let t=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};super(),a2(["resourceStore","languageUtils","pluralResolver","interpolator","backendConnector","i18nFormat","utils"],e,this),this.options=t,this.options.keySeparator===void 0&&(this.options.keySeparator="."),this.logger=Cr.create("translator")}changeLanguage(e){e&&(this.language=e)}exists(e){let t=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{interpolation:{}};if(e==null)return!1;const r=this.resolve(e,t);return r&&r.res!==void 0}extractFromKey(e,t){let r=t.nsSeparator!==void 0?t.nsSeparator:this.options.nsSeparator;r===void 0&&(r=":");const s=t.keySeparator!==void 0?t.keySeparator:this.options.keySeparator;let a=t.ns||this.options.defaultNS||[];const u=r&&e.indexOf(r)>-1,d=!this.options.userDefinedKeySeparator&&!t.keySeparator&&!this.options.userDefinedNsSeparator&&!t.nsSeparator&&!g2(e,r,s);if(u&&!d){const f=e.match(this.interpolator.nestingRegexp);if(f&&f.length>0)return{key:e,namespaces:be(a)?[a]:a};const m=e.split(r);(r!==s||r===s&&this.options.ns.indexOf(m[0])>-1)&&(a=m.shift()),e=m.join(s)}return{key:e,namespaces:be(a)?[a]:a}}translate(e,t,r){if(typeof t!="object"&&this.options.overloadTranslationOptionHandler&&(t=this.options.overloadTranslationOptionHandler(arguments)),typeof t=="object"&&(t={...t}),t||(t={}),e==null)return"";Array.isArray(e)||(e=[String(e)]);const s=t.returnDetails!==void 0?t.returnDetails:this.options.returnDetails,a=t.keySeparator!==void 0?t.keySeparator:this.options.keySeparator,{key:u,namespaces:d}=this.extractFromKey(e[e.length-1],t),f=d[d.length-1],m=t.lng||this.language,g=t.appendNamespaceToCIMode||this.options.appendNamespaceToCIMode;if(m&&m.toLowerCase()==="cimode"){if(g){const oe=t.nsSeparator||this.options.nsSeparator;return s?{res:`${f}${oe}${u}`,usedKey:u,exactUsedKey:u,usedLng:m,usedNS:f,usedParams:this.getUsedParamsDetails(t)}:`${f}${oe}${u}`}return s?{res:u,usedKey:u,exactUsedKey:u,usedLng:m,usedNS:f,usedParams:this.getUsedParamsDetails(t)}:u}const w=this.resolve(e,t);let E=w&&w.res;const R=w&&w.usedKey||u,V=w&&w.exactUsedKey||u,B=Object.prototype.toString.apply(E),z=["[object Number]","[object Function]","[object RegExp]"],te=t.joinArrays!==void 0?t.joinArrays:this.options.joinArrays,le=!this.i18nFormat||this.i18nFormat.handleAsObject,ve=!be(E)&&typeof E!="boolean"&&typeof E!="number";if(le&&E&&ve&&z.indexOf(B)<0&&!(be(te)&&Array.isArray(E))){if(!t.returnObjects&&!this.options.returnObjects){this.options.returnedObjectHandler||this.logger.warn("accessing an object - but returnObjects options is not enabled!");const oe=this.options.returnedObjectHandler?this.options.returnedObjectHandler(R,E,{...t,ns:d}):`key '${u} (${this.language})' returned an object instead of string.`;return s?(w.res=oe,w.usedParams=this.getUsedParamsDetails(t),w):oe}if(a){const oe=Array.isArray(E),we=oe?[]:{},pe=oe?V:R;for(const k in E)if(Object.prototype.hasOwnProperty.call(E,k)){const S=`${pe}${a}${k}`;we[k]=this.translate(S,{...t,joinArrays:!1,ns:d}),we[k]===S&&(we[k]=E[k])}E=we}}else if(le&&be(te)&&Array.isArray(E))E=E.join(te),E&&(E=this.extendTranslation(E,e,t,r));else{let oe=!1,we=!1;const pe=t.count!==void 0&&!be(t.count),k=Kh.hasDefaultValue(t),S=pe?this.pluralResolver.getSuffix(m,t.count,t):"",C=t.ordinal&&pe?this.pluralResolver.getSuffix(m,t.count,{ordinal:!1}):"",x=pe&&!t.ordinal&&t.count===0&&this.pluralResolver.shouldUseIntlApi(),O=x&&t[`defaultValue${this.options.pluralSeparator}zero`]||t[`defaultValue${S}`]||t[`defaultValue${C}`]||t.defaultValue;!this.isValidLookup(E)&&k&&(oe=!0,E=O),this.isValidLookup(E)||(we=!0,E=u);const P=(t.missingKeyNoValueFallbackToKey||this.options.missingKeyNoValueFallbackToKey)&&we?void 0:E,Ne=k&&O!==E&&this.options.updateMissing;if(we||oe||Ne){if(this.logger.log(Ne?"updateKey":"missingKey",m,f,u,Ne?O:E),a){const q=this.resolve(u,{...t,keySeparator:!1});q&&q.res&&this.logger.warn("Seems the loaded translations were in flat JSON format instead of nested. Either set keySeparator: false on init or make sure your translations are published in nested format.")}let F=[];const Q=this.languageUtils.getFallbackCodes(this.options.fallbackLng,t.lng||this.language);if(this.options.saveMissingTo==="fallback"&&Q&&Q[0])for(let q=0;q<Q.length;q++)F.push(Q[q]);else this.options.saveMissingTo==="all"?F=this.languageUtils.toResolveHierarchy(t.lng||this.language):F.push(t.lng||this.language);const he=(q,ie,Y)=>{const L=k&&Y!==E?Y:P;this.options.missingKeyHandler?this.options.missingKeyHandler(q,f,ie,L,Ne,t):this.backendConnector&&this.backendConnector.saveMissing&&this.backendConnector.saveMissing(q,f,ie,L,Ne,t),this.emit("missingKey",q,f,ie,E)};this.options.saveMissing&&(this.options.saveMissingPlurals&&pe?F.forEach(q=>{const ie=this.pluralResolver.getSuffixes(q,t);x&&t[`defaultValue${this.options.pluralSeparator}zero`]&&ie.indexOf(`${this.options.pluralSeparator}zero`)<0&&ie.push(`${this.options.pluralSeparator}zero`),ie.forEach(Y=>{he([q],u+Y,t[`defaultValue${Y}`]||O)})}):he(F,u,O))}E=this.extendTranslation(E,e,t,w,r),we&&E===u&&this.options.appendNamespaceToMissingKey&&(E=`${f}:${u}`),(we||oe)&&this.options.parseMissingKeyHandler&&(this.options.compatibilityAPI!=="v1"?E=this.options.parseMissingKeyHandler(this.options.appendNamespaceToMissingKey?`${f}:${u}`:u,oe?E:void 0):E=this.options.parseMissingKeyHandler(E))}return s?(w.res=E,w.usedParams=this.getUsedParamsDetails(t),w):E}extendTranslation(e,t,r,s,a){var u=this;if(this.i18nFormat&&this.i18nFormat.parse)e=this.i18nFormat.parse(e,{...this.options.interpolation.defaultVariables,...r},r.lng||this.language||s.usedLng,s.usedNS,s.usedKey,{resolved:s});else if(!r.skipInterpolation){r.interpolation&&this.interpolator.init({...r,interpolation:{...this.options.interpolation,...r.interpolation}});const m=be(e)&&(r&&r.interpolation&&r.interpolation.skipOnVariables!==void 0?r.interpolation.skipOnVariables:this.options.interpolation.skipOnVariables);let g;if(m){const E=e.match(this.interpolator.nestingRegexp);g=E&&E.length}let w=r.replace&&!be(r.replace)?r.replace:r;if(this.options.interpolation.defaultVariables&&(w={...this.options.interpolation.defaultVariables,...w}),e=this.interpolator.interpolate(e,w,r.lng||this.language||s.usedLng,r),m){const E=e.match(this.interpolator.nestingRegexp),R=E&&E.length;g<R&&(r.nest=!1)}!r.lng&&this.options.compatibilityAPI!=="v1"&&s&&s.res&&(r.lng=this.language||s.usedLng),r.nest!==!1&&(e=this.interpolator.nest(e,function(){for(var E=arguments.length,R=new Array(E),V=0;V<E;V++)R[V]=arguments[V];return a&&a[0]===R[0]&&!r.context?(u.logger.warn(`It seems you are nesting recursively key: ${R[0]} in key: ${t[0]}`),null):u.translate(...R,t)},r)),r.interpolation&&this.interpolator.reset()}const d=r.postProcess||this.options.postProcess,f=be(d)?[d]:d;return e!=null&&f&&f.length&&r.applyPostProcessor!==!1&&(e=qA.handle(f,e,t,this.options&&this.options.postProcessPassResolved?{i18nResolved:{...s,usedParams:this.getUsedParamsDetails(r)},...r}:r,this)),e}resolve(e){let t=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},r,s,a,u,d;return be(e)&&(e=[e]),e.forEach(f=>{if(this.isValidLookup(r))return;const m=this.extractFromKey(f,t),g=m.key;s=g;let w=m.namespaces;this.options.fallbackNS&&(w=w.concat(this.options.fallbackNS));const E=t.count!==void 0&&!be(t.count),R=E&&!t.ordinal&&t.count===0&&this.pluralResolver.shouldUseIntlApi(),V=t.context!==void 0&&(be(t.context)||typeof t.context=="number")&&t.context!=="",B=t.lngs?t.lngs:this.languageUtils.toResolveHierarchy(t.lng||this.language,t.fallbackLng);w.forEach(z=>{this.isValidLookup(r)||(d=z,!Sw[`${B[0]}-${z}`]&&this.utils&&this.utils.hasLoadedNamespace&&!this.utils.hasLoadedNamespace(d)&&(Sw[`${B[0]}-${z}`]=!0,this.logger.warn(`key "${s}" for languages "${B.join(", ")}" won't get resolved as namespace "${d}" was not yet loaded`,"This means something IS WRONG in your setup. You access the t function before i18next.init / i18next.loadNamespace / i18next.changeLanguage was done. Wait for the callback or Promise to resolve before accessing it!!!")),B.forEach(te=>{if(this.isValidLookup(r))return;u=te;const le=[g];if(this.i18nFormat&&this.i18nFormat.addLookupKeys)this.i18nFormat.addLookupKeys(le,g,te,z,t);else{let oe;E&&(oe=this.pluralResolver.getSuffix(te,t.count,t));const we=`${this.options.pluralSeparator}zero`,pe=`${this.options.pluralSeparator}ordinal${this.options.pluralSeparator}`;if(E&&(le.push(g+oe),t.ordinal&&oe.indexOf(pe)===0&&le.push(g+oe.replace(pe,this.options.pluralSeparator)),R&&le.push(g+we)),V){const k=`${g}${this.options.contextSeparator}${t.context}`;le.push(k),E&&(le.push(k+oe),t.ordinal&&oe.indexOf(pe)===0&&le.push(k+oe.replace(pe,this.options.pluralSeparator)),R&&le.push(k+we))}}let ve;for(;ve=le.pop();)this.isValidLookup(r)||(a=ve,r=this.getResource(te,z,ve,t))}))})}),{res:r,usedKey:s,exactUsedKey:a,usedLng:u,usedNS:d}}isValidLookup(e){return e!==void 0&&!(!this.options.returnNull&&e===null)&&!(!this.options.returnEmptyString&&e==="")}getResource(e,t,r){let s=arguments.length>3&&arguments[3]!==void 0?arguments[3]:{};return this.i18nFormat&&this.i18nFormat.getResource?this.i18nFormat.getResource(e,t,r,s):this.resourceStore.getResource(e,t,r,s)}getUsedParamsDetails(){let e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{};const t=["defaultValue","ordinal","context","replace","lng","lngs","fallbackLng","ns","keySeparator","nsSeparator","returnObjects","returnDetails","joinArrays","postProcess","interpolation"],r=e.replace&&!be(e.replace);let s=r?e.replace:e;if(r&&typeof e.count<"u"&&(s.count=e.count),this.options.interpolation.defaultVariables&&(s={...this.options.interpolation.defaultVariables,...s}),!r){s={...s};for(const a of t)delete s[a]}return s}static hasDefaultValue(e){const t="defaultValue";for(const r in e)if(Object.prototype.hasOwnProperty.call(e,r)&&t===r.substring(0,t.length)&&e[r]!==void 0)return!0;return!1}}const xp=n=>n.charAt(0).toUpperCase()+n.slice(1);class Aw{constructor(e){this.options=e,this.supportedLngs=this.options.supportedLngs||!1,this.logger=Cr.create("languageUtils")}getScriptPartFromCode(e){if(e=Wh(e),!e||e.indexOf("-")<0)return null;const t=e.split("-");return t.length===2||(t.pop(),t[t.length-1].toLowerCase()==="x")?null:this.formatLanguageCode(t.join("-"))}getLanguagePartFromCode(e){if(e=Wh(e),!e||e.indexOf("-")<0)return e;const t=e.split("-");return this.formatLanguageCode(t[0])}formatLanguageCode(e){if(be(e)&&e.indexOf("-")>-1){if(typeof Intl<"u"&&typeof Intl.getCanonicalLocales<"u")try{let s=Intl.getCanonicalLocales(e)[0];if(s&&this.options.lowerCaseLng&&(s=s.toLowerCase()),s)return s}catch{}const t=["hans","hant","latn","cyrl","cans","mong","arab"];let r=e.split("-");return this.options.lowerCaseLng?r=r.map(s=>s.toLowerCase()):r.length===2?(r[0]=r[0].toLowerCase(),r[1]=r[1].toUpperCase(),t.indexOf(r[1].toLowerCase())>-1&&(r[1]=xp(r[1].toLowerCase()))):r.length===3&&(r[0]=r[0].toLowerCase(),r[1].length===2&&(r[1]=r[1].toUpperCase()),r[0]!=="sgn"&&r[2].length===2&&(r[2]=r[2].toUpperCase()),t.indexOf(r[1].toLowerCase())>-1&&(r[1]=xp(r[1].toLowerCase())),t.indexOf(r[2].toLowerCase())>-1&&(r[2]=xp(r[2].toLowerCase()))),r.join("-")}return this.options.cleanCode||this.options.lowerCaseLng?e.toLowerCase():e}isSupportedCode(e){return(this.options.load==="languageOnly"||this.options.nonExplicitSupportedLngs)&&(e=this.getLanguagePartFromCode(e)),!this.supportedLngs||!this.supportedLngs.length||this.supportedLngs.indexOf(e)>-1}getBestMatchFromCodes(e){if(!e)return null;let t;return e.forEach(r=>{if(t)return;const s=this.formatLanguageCode(r);(!this.options.supportedLngs||this.isSupportedCode(s))&&(t=s)}),!t&&this.options.supportedLngs&&e.forEach(r=>{if(t)return;const s=this.getLanguagePartFromCode(r);if(this.isSupportedCode(s))return t=s;t=this.options.supportedLngs.find(a=>{if(a===s)return a;if(!(a.indexOf("-")<0&&s.indexOf("-")<0)&&(a.indexOf("-")>0&&s.indexOf("-")<0&&a.substring(0,a.indexOf("-"))===s||a.indexOf(s)===0&&s.length>1))return a})}),t||(t=this.getFallbackCodes(this.options.fallbackLng)[0]),t}getFallbackCodes(e,t){if(!e)return[];if(typeof e=="function"&&(e=e(t)),be(e)&&(e=[e]),Array.isArray(e))return e;if(!t)return e.default||[];let r=e[t];return r||(r=e[this.getScriptPartFromCode(t)]),r||(r=e[this.formatLanguageCode(t)]),r||(r=e[this.getLanguagePartFromCode(t)]),r||(r=e.default),r||[]}toResolveHierarchy(e,t){const r=this.getFallbackCodes(t||this.options.fallbackLng||[],e),s=[],a=u=>{u&&(this.isSupportedCode(u)?s.push(u):this.logger.warn(`rejecting language code not found in supportedLngs: ${u}`))};return be(e)&&(e.indexOf("-")>-1||e.indexOf("_")>-1)?(this.options.load!=="languageOnly"&&a(this.formatLanguageCode(e)),this.options.load!=="languageOnly"&&this.options.load!=="currentOnly"&&a(this.getScriptPartFromCode(e)),this.options.load!=="currentOnly"&&a(this.getLanguagePartFromCode(e))):be(e)&&a(this.formatLanguageCode(e)),r.forEach(u=>{s.indexOf(u)<0&&a(this.formatLanguageCode(u))}),s}}let _2=[{lngs:["ach","ak","am","arn","br","fil","gun","ln","mfe","mg","mi","oc","pt","pt-BR","tg","tl","ti","tr","uz","wa"],nr:[1,2],fc:1},{lngs:["af","an","ast","az","bg","bn","ca","da","de","dev","el","en","eo","es","et","eu","fi","fo","fur","fy","gl","gu","ha","hi","hu","hy","ia","it","kk","kn","ku","lb","mai","ml","mn","mr","nah","nap","nb","ne","nl","nn","no","nso","pa","pap","pms","ps","pt-PT","rm","sco","se","si","so","son","sq","sv","sw","ta","te","tk","ur","yo"],nr:[1,2],fc:2},{lngs:["ay","bo","cgg","fa","ht","id","ja","jbo","ka","km","ko","ky","lo","ms","sah","su","th","tt","ug","vi","wo","zh"],nr:[1],fc:3},{lngs:["be","bs","cnr","dz","hr","ru","sr","uk"],nr:[1,2,5],fc:4},{lngs:["ar"],nr:[0,1,2,3,11,100],fc:5},{lngs:["cs","sk"],nr:[1,2,5],fc:6},{lngs:["csb","pl"],nr:[1,2,5],fc:7},{lngs:["cy"],nr:[1,2,3,8],fc:8},{lngs:["fr"],nr:[1,2],fc:9},{lngs:["ga"],nr:[1,2,3,7,11],fc:10},{lngs:["gd"],nr:[1,2,3,20],fc:11},{lngs:["is"],nr:[1,2],fc:12},{lngs:["jv"],nr:[0,1],fc:13},{lngs:["kw"],nr:[1,2,3,4],fc:14},{lngs:["lt"],nr:[1,2,10],fc:15},{lngs:["lv"],nr:[1,2,0],fc:16},{lngs:["mk"],nr:[1,2],fc:17},{lngs:["mnk"],nr:[0,1,2],fc:18},{lngs:["mt"],nr:[1,2,11,20],fc:19},{lngs:["or"],nr:[2,1],fc:2},{lngs:["ro"],nr:[1,2,20],fc:20},{lngs:["sl"],nr:[5,1,2,3],fc:21},{lngs:["he","iw"],nr:[1,2,20,21],fc:22}],v2={1:n=>+(n>1),2:n=>+(n!=1),3:n=>0,4:n=>n%10==1&&n%100!=11?0:n%10>=2&&n%10<=4&&(n%100<10||n%100>=20)?1:2,5:n=>n==0?0:n==1?1:n==2?2:n%100>=3&&n%100<=10?3:n%100>=11?4:5,6:n=>n==1?0:n>=2&&n<=4?1:2,7:n=>n==1?0:n%10>=2&&n%10<=4&&(n%100<10||n%100>=20)?1:2,8:n=>n==1?0:n==2?1:n!=8&&n!=11?2:3,9:n=>+(n>=2),10:n=>n==1?0:n==2?1:n<7?2:n<11?3:4,11:n=>n==1||n==11?0:n==2||n==12?1:n>2&&n<20?2:3,12:n=>+(n%10!=1||n%100==11),13:n=>+(n!==0),14:n=>n==1?0:n==2?1:n==3?2:3,15:n=>n%10==1&&n%100!=11?0:n%10>=2&&(n%100<10||n%100>=20)?1:2,16:n=>n%10==1&&n%100!=11?0:n!==0?1:2,17:n=>n==1||n%10==1&&n%100!=11?0:1,18:n=>n==0?0:n==1?1:2,19:n=>n==1?0:n==0||n%100>1&&n%100<11?1:n%100>10&&n%100<20?2:3,20:n=>n==1?0:n==0||n%100>0&&n%100<20?1:2,21:n=>n%100==1?1:n%100==2?2:n%100==3||n%100==4?3:0,22:n=>n==1?0:n==2?1:(n<0||n>10)&&n%10==0?2:3};const E2=["v1","v2","v3"],w2=["v4"],Rw={zero:0,one:1,two:2,few:3,many:4,other:5},T2=()=>{const n={};return _2.forEach(e=>{e.lngs.forEach(t=>{n[t]={numbers:e.nr,plurals:v2[e.fc]}})}),n};class I2{constructor(e){let t=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};this.languageUtils=e,this.options=t,this.logger=Cr.create("pluralResolver"),(!this.options.compatibilityJSON||w2.includes(this.options.compatibilityJSON))&&(typeof Intl>"u"||!Intl.PluralRules)&&(this.options.compatibilityJSON="v3",this.logger.error("Your environment seems not to be Intl API compatible, use an Intl.PluralRules polyfill. Will fallback to the compatibilityJSON v3 format handling.")),this.rules=T2(),this.pluralRulesCache={}}addRule(e,t){this.rules[e]=t}clearCache(){this.pluralRulesCache={}}getRule(e){let t=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};if(this.shouldUseIntlApi()){const r=Wh(e==="dev"?"en":e),s=t.ordinal?"ordinal":"cardinal",a=JSON.stringify({cleanedCode:r,type:s});if(a in this.pluralRulesCache)return this.pluralRulesCache[a];let u;try{u=new Intl.PluralRules(r,{type:s})}catch{if(!e.match(/-|_/))return;const f=this.languageUtils.getLanguagePartFromCode(e);u=this.getRule(f,t)}return this.pluralRulesCache[a]=u,u}return this.rules[e]||this.rules[this.languageUtils.getLanguagePartFromCode(e)]}needsPlural(e){let t=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};const r=this.getRule(e,t);return this.shouldUseIntlApi()?r&&r.resolvedOptions().pluralCategories.length>1:r&&r.numbers.length>1}getPluralFormsOfKey(e,t){let r=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{};return this.getSuffixes(e,r).map(s=>`${t}${s}`)}getSuffixes(e){let t=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};const r=this.getRule(e,t);return r?this.shouldUseIntlApi()?r.resolvedOptions().pluralCategories.sort((s,a)=>Rw[s]-Rw[a]).map(s=>`${this.options.prepend}${t.ordinal?`ordinal${this.options.prepend}`:""}${s}`):r.numbers.map(s=>this.getSuffix(e,s,t)):[]}getSuffix(e,t){let r=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{};const s=this.getRule(e,r);return s?this.shouldUseIntlApi()?`${this.options.prepend}${r.ordinal?`ordinal${this.options.prepend}`:""}${s.select(t)}`:this.getSuffixRetroCompatible(s,t):(this.logger.warn(`no plural rule found for: ${e}`),"")}getSuffixRetroCompatible(e,t){const r=e.noAbs?e.plurals(t):e.plurals(Math.abs(t));let s=e.numbers[r];this.options.simplifyPluralSuffix&&e.numbers.length===2&&e.numbers[0]===1&&(s===2?s="plural":s===1&&(s=""));const a=()=>this.options.prepend&&s.toString()?this.options.prepend+s.toString():s.toString();return this.options.compatibilityJSON==="v1"?s===1?"":typeof s=="number"?`_plural_${s.toString()}`:a():this.options.compatibilityJSON==="v2"||this.options.simplifyPluralSuffix&&e.numbers.length===2&&e.numbers[0]===1?a():this.options.prepend&&r.toString()?this.options.prepend+r.toString():r.toString()}shouldUseIntlApi(){return!E2.includes(this.options.compatibilityJSON)}}const Pw=function(n,e,t){let r=arguments.length>3&&arguments[3]!==void 0?arguments[3]:".",s=arguments.length>4&&arguments[4]!==void 0?arguments[4]:!0,a=c2(n,e,t);return!a&&s&&be(t)&&(a=vm(n,t,r),a===void 0&&(a=vm(e,t,r))),a},Lp=n=>n.replace(/\$/g,"$$$$");class S2{constructor(){let e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{};this.logger=Cr.create("interpolator"),this.options=e,this.format=e.interpolation&&e.interpolation.format||(t=>t),this.init(e)}init(){let e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{};e.interpolation||(e.interpolation={escapeValue:!0});const{escape:t,escapeValue:r,useRawValueToEscape:s,prefix:a,prefixEscaped:u,suffix:d,suffixEscaped:f,formatSeparator:m,unescapeSuffix:g,unescapePrefix:w,nestingPrefix:E,nestingPrefixEscaped:R,nestingSuffix:V,nestingSuffixEscaped:B,nestingOptionsSeparator:z,maxReplaces:te,alwaysFormat:le}=e.interpolation;this.escape=t!==void 0?t:d2,this.escapeValue=r!==void 0?r:!0,this.useRawValueToEscape=s!==void 0?s:!1,this.prefix=a?Jo(a):u||"{{",this.suffix=d?Jo(d):f||"}}",this.formatSeparator=m||",",this.unescapePrefix=g?"":w||"-",this.unescapeSuffix=this.unescapePrefix?"":g||"",this.nestingPrefix=E?Jo(E):R||Jo("$t("),this.nestingSuffix=V?Jo(V):B||Jo(")"),this.nestingOptionsSeparator=z||",",this.maxReplaces=te||1e3,this.alwaysFormat=le!==void 0?le:!1,this.resetRegExp()}reset(){this.options&&this.init(this.options)}resetRegExp(){const e=(t,r)=>t&&t.source===r?(t.lastIndex=0,t):new RegExp(r,"g");this.regexp=e(this.regexp,`${this.prefix}(.+?)${this.suffix}`),this.regexpUnescape=e(this.regexpUnescape,`${this.prefix}${this.unescapePrefix}(.+?)${this.unescapeSuffix}${this.suffix}`),this.nestingRegexp=e(this.nestingRegexp,`${this.nestingPrefix}(.+?)${this.nestingSuffix}`)}interpolate(e,t,r,s){let a,u,d;const f=this.options&&this.options.interpolation&&this.options.interpolation.defaultVariables||{},m=R=>{if(R.indexOf(this.formatSeparator)<0){const te=Pw(t,f,R,this.options.keySeparator,this.options.ignoreJSONStructure);return this.alwaysFormat?this.format(te,void 0,r,{...s,...t,interpolationkey:R}):te}const V=R.split(this.formatSeparator),B=V.shift().trim(),z=V.join(this.formatSeparator).trim();return this.format(Pw(t,f,B,this.options.keySeparator,this.options.ignoreJSONStructure),z,r,{...s,...t,interpolationkey:B})};this.resetRegExp();const g=s&&s.missingInterpolationHandler||this.options.missingInterpolationHandler,w=s&&s.interpolation&&s.interpolation.skipOnVariables!==void 0?s.interpolation.skipOnVariables:this.options.interpolation.skipOnVariables;return[{regex:this.regexpUnescape,safeValue:R=>Lp(R)},{regex:this.regexp,safeValue:R=>this.escapeValue?Lp(this.escape(R)):Lp(R)}].forEach(R=>{for(d=0;a=R.regex.exec(e);){const V=a[1].trim();if(u=m(V),u===void 0)if(typeof g=="function"){const z=g(e,a,s);u=be(z)?z:""}else if(s&&Object.prototype.hasOwnProperty.call(s,V))u="";else if(w){u=a[0];continue}else this.logger.warn(`missed to pass in variable ${V} for interpolating ${e}`),u="";else!be(u)&&!this.useRawValueToEscape&&(u=vw(u));const B=R.safeValue(u);if(e=e.replace(a[0],B),w?(R.regex.lastIndex+=u.length,R.regex.lastIndex-=a[0].length):R.regex.lastIndex=0,d++,d>=this.maxReplaces)break}}),e}nest(e,t){let r=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{},s,a,u;const d=(f,m)=>{const g=this.nestingOptionsSeparator;if(f.indexOf(g)<0)return f;const w=f.split(new RegExp(`${g}[ ]*{`));let E=`{${w[1]}`;f=w[0],E=this.interpolate(E,u);const R=E.match(/'/g),V=E.match(/"/g);(R&&R.length%2===0&&!V||V.length%2!==0)&&(E=E.replace(/'/g,'"'));try{u=JSON.parse(E),m&&(u={...m,...u})}catch(B){return this.logger.warn(`failed parsing options string in nesting for key ${f}`,B),`${f}${g}${E}`}return u.defaultValue&&u.defaultValue.indexOf(this.prefix)>-1&&delete u.defaultValue,f};for(;s=this.nestingRegexp.exec(e);){let f=[];u={...r},u=u.replace&&!be(u.replace)?u.replace:u,u.applyPostProcessor=!1,delete u.defaultValue;let m=!1;if(s[0].indexOf(this.formatSeparator)!==-1&&!/{.*}/.test(s[1])){const g=s[1].split(this.formatSeparator).map(w=>w.trim());s[1]=g.shift(),f=g,m=!0}if(a=t(d.call(this,s[1].trim(),u),u),a&&s[0]===e&&!be(a))return a;be(a)||(a=vw(a)),a||(this.logger.warn(`missed to resolve ${s[1]} for nesting ${e}`),a=""),m&&(a=f.reduce((g,w)=>this.format(g,w,r.lng,{...r,interpolationkey:s[1].trim()}),a.trim())),e=e.replace(s[0],a),this.regexp.lastIndex=0}return e}}const A2=n=>{let e=n.toLowerCase().trim();const t={};if(n.indexOf("(")>-1){const r=n.split("(");e=r[0].toLowerCase().trim();const s=r[1].substring(0,r[1].length-1);e==="currency"&&s.indexOf(":")<0?t.currency||(t.currency=s.trim()):e==="relativetime"&&s.indexOf(":")<0?t.range||(t.range=s.trim()):s.split(";").forEach(u=>{if(u){const[d,...f]=u.split(":"),m=f.join(":").trim().replace(/^'+|'+$/g,""),g=d.trim();t[g]||(t[g]=m),m==="false"&&(t[g]=!1),m==="true"&&(t[g]=!0),isNaN(m)||(t[g]=parseInt(m,10))}})}return{formatName:e,formatOptions:t}},Xo=n=>{const e={};return(t,r,s)=>{let a=s;s&&s.interpolationkey&&s.formatParams&&s.formatParams[s.interpolationkey]&&s[s.interpolationkey]&&(a={...a,[s.interpolationkey]:void 0});const u=r+JSON.stringify(a);let d=e[u];return d||(d=n(Wh(r),s),e[u]=d),d(t)}};class R2{constructor(){let e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{};this.logger=Cr.create("formatter"),this.options=e,this.formats={number:Xo((t,r)=>{const s=new Intl.NumberFormat(t,{...r});return a=>s.format(a)}),currency:Xo((t,r)=>{const s=new Intl.NumberFormat(t,{...r,style:"currency"});return a=>s.format(a)}),datetime:Xo((t,r)=>{const s=new Intl.DateTimeFormat(t,{...r});return a=>s.format(a)}),relativetime:Xo((t,r)=>{const s=new Intl.RelativeTimeFormat(t,{...r});return a=>s.format(a,r.range||"day")}),list:Xo((t,r)=>{const s=new Intl.ListFormat(t,{...r});return a=>s.format(a)})},this.init(e)}init(e){let t=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{interpolation:{}};this.formatSeparator=t.interpolation.formatSeparator||","}add(e,t){this.formats[e.toLowerCase().trim()]=t}addCached(e,t){this.formats[e.toLowerCase().trim()]=Xo(t)}format(e,t,r){let s=arguments.length>3&&arguments[3]!==void 0?arguments[3]:{};const a=t.split(this.formatSeparator);if(a.length>1&&a[0].indexOf("(")>1&&a[0].indexOf(")")<0&&a.find(d=>d.indexOf(")")>-1)){const d=a.findIndex(f=>f.indexOf(")")>-1);a[0]=[a[0],...a.splice(1,d)].join(this.formatSeparator)}return a.reduce((d,f)=>{const{formatName:m,formatOptions:g}=A2(f);if(this.formats[m]){let w=d;try{const E=s&&s.formatParams&&s.formatParams[s.interpolationkey]||{},R=E.locale||E.lng||s.locale||s.lng||r;w=this.formats[m](d,R,{...g,...s,...E})}catch(E){this.logger.warn(E)}return w}else this.logger.warn(`there was no format function for ${m}`);return d},e)}}const P2=(n,e)=>{n.pending[e]!==void 0&&(delete n.pending[e],n.pendingCount--)};class C2 extends Cd{constructor(e,t,r){let s=arguments.length>3&&arguments[3]!==void 0?arguments[3]:{};super(),this.backend=e,this.store=t,this.services=r,this.languageUtils=r.languageUtils,this.options=s,this.logger=Cr.create("backendConnector"),this.waitingReads=[],this.maxParallelReads=s.maxParallelReads||10,this.readingCalls=0,this.maxRetries=s.maxRetries>=0?s.maxRetries:5,this.retryTimeout=s.retryTimeout>=1?s.retryTimeout:350,this.state={},this.queue=[],this.backend&&this.backend.init&&this.backend.init(r,s.backend,s)}queueLoad(e,t,r,s){const a={},u={},d={},f={};return e.forEach(m=>{let g=!0;t.forEach(w=>{const E=`${m}|${w}`;!r.reload&&this.store.hasResourceBundle(m,w)?this.state[E]=2:this.state[E]<0||(this.state[E]===1?u[E]===void 0&&(u[E]=!0):(this.state[E]=1,g=!1,u[E]===void 0&&(u[E]=!0),a[E]===void 0&&(a[E]=!0),f[w]===void 0&&(f[w]=!0)))}),g||(d[m]=!0)}),(Object.keys(a).length||Object.keys(u).length)&&this.queue.push({pending:u,pendingCount:Object.keys(u).length,loaded:{},errors:[],callback:s}),{toLoad:Object.keys(a),pending:Object.keys(u),toLoadLanguages:Object.keys(d),toLoadNamespaces:Object.keys(f)}}loaded(e,t,r){const s=e.split("|"),a=s[0],u=s[1];t&&this.emit("failedLoading",a,u,t),!t&&r&&this.store.addResourceBundle(a,u,r,void 0,void 0,{skipCopy:!0}),this.state[e]=t?-1:2,t&&r&&(this.state[e]=0);const d={};this.queue.forEach(f=>{u2(f.loaded,[a],u),P2(f,e),t&&f.errors.push(t),f.pendingCount===0&&!f.done&&(Object.keys(f.loaded).forEach(m=>{d[m]||(d[m]={});const g=f.loaded[m];g.length&&g.forEach(w=>{d[m][w]===void 0&&(d[m][w]=!0)})}),f.done=!0,f.errors.length?f.callback(f.errors):f.callback())}),this.emit("loaded",d),this.queue=this.queue.filter(f=>!f.done)}read(e,t,r){let s=arguments.length>3&&arguments[3]!==void 0?arguments[3]:0,a=arguments.length>4&&arguments[4]!==void 0?arguments[4]:this.retryTimeout,u=arguments.length>5?arguments[5]:void 0;if(!e.length)return u(null,{});if(this.readingCalls>=this.maxParallelReads){this.waitingReads.push({lng:e,ns:t,fcName:r,tried:s,wait:a,callback:u});return}this.readingCalls++;const d=(m,g)=>{if(this.readingCalls--,this.waitingReads.length>0){const w=this.waitingReads.shift();this.read(w.lng,w.ns,w.fcName,w.tried,w.wait,w.callback)}if(m&&g&&s<this.maxRetries){setTimeout(()=>{this.read.call(this,e,t,r,s+1,a*2,u)},a);return}u(m,g)},f=this.backend[r].bind(this.backend);if(f.length===2){try{const m=f(e,t);m&&typeof m.then=="function"?m.then(g=>d(null,g)).catch(d):d(null,m)}catch(m){d(m)}return}return f(e,t,d)}prepareLoading(e,t){let r=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{},s=arguments.length>3?arguments[3]:void 0;if(!this.backend)return this.logger.warn("No backend was added via i18next.use. Will not load resources."),s&&s();be(e)&&(e=this.languageUtils.toResolveHierarchy(e)),be(t)&&(t=[t]);const a=this.queueLoad(e,t,r,s);if(!a.toLoad.length)return a.pending.length||s(),null;a.toLoad.forEach(u=>{this.loadOne(u)})}load(e,t,r){this.prepareLoading(e,t,{},r)}reload(e,t,r){this.prepareLoading(e,t,{reload:!0},r)}loadOne(e){let t=arguments.length>1&&arguments[1]!==void 0?arguments[1]:"";const r=e.split("|"),s=r[0],a=r[1];this.read(s,a,"read",void 0,void 0,(u,d)=>{u&&this.logger.warn(`${t}loading namespace ${a} for language ${s} failed`,u),!u&&d&&this.logger.log(`${t}loaded namespace ${a} for language ${s}`,d),this.loaded(e,u,d)})}saveMissing(e,t,r,s,a){let u=arguments.length>5&&arguments[5]!==void 0?arguments[5]:{},d=arguments.length>6&&arguments[6]!==void 0?arguments[6]:()=>{};if(this.services.utils&&this.services.utils.hasLoadedNamespace&&!this.services.utils.hasLoadedNamespace(t)){this.logger.warn(`did not save key "${r}" as the namespace "${t}" was not yet loaded`,"This means something IS WRONG in your setup. You access the t function before i18next.init / i18next.loadNamespace / i18next.changeLanguage was done. Wait for the callback or Promise to resolve before accessing it!!!");return}if(!(r==null||r==="")){if(this.backend&&this.backend.create){const f={...u,isUpdate:a},m=this.backend.create.bind(this.backend);if(m.length<6)try{let g;m.length===5?g=m(e,t,r,s,f):g=m(e,t,r,s),g&&typeof g.then=="function"?g.then(w=>d(null,w)).catch(d):d(null,g)}catch(g){d(g)}else m(e,t,r,s,d,f)}!e||!e[0]||this.store.addResource(e[0],t,r,s)}}}const Cw=()=>({debug:!1,initImmediate:!0,ns:["translation"],defaultNS:["translation"],fallbackLng:["dev"],fallbackNS:!1,supportedLngs:!1,nonExplicitSupportedLngs:!1,load:"all",preload:!1,simplifyPluralSuffix:!0,keySeparator:".",nsSeparator:":",pluralSeparator:"_",contextSeparator:"_",partialBundledLanguages:!1,saveMissing:!1,updateMissing:!1,saveMissingTo:"fallback",saveMissingPlurals:!0,missingKeyHandler:!1,missingInterpolationHandler:!1,postProcess:!1,postProcessPassResolved:!1,returnNull:!1,returnEmptyString:!0,returnObjects:!1,joinArrays:!1,returnedObjectHandler:!1,parseMissingKeyHandler:!1,appendNamespaceToMissingKey:!1,appendNamespaceToCIMode:!1,overloadTranslationOptionHandler:n=>{let e={};if(typeof n[1]=="object"&&(e=n[1]),be(n[1])&&(e.defaultValue=n[1]),be(n[2])&&(e.tDescription=n[2]),typeof n[2]=="object"||typeof n[3]=="object"){const t=n[3]||n[2];Object.keys(t).forEach(r=>{e[r]=t[r]})}return e},interpolation:{escapeValue:!0,format:n=>n,prefix:"{{",suffix:"}}",formatSeparator:",",unescapePrefix:"-",nestingPrefix:"$t(",nestingSuffix:")",nestingOptionsSeparator:",",maxReplaces:1e3,skipOnVariables:!0}}),kw=n=>(be(n.ns)&&(n.ns=[n.ns]),be(n.fallbackLng)&&(n.fallbackLng=[n.fallbackLng]),be(n.fallbackNS)&&(n.fallbackNS=[n.fallbackNS]),n.supportedLngs&&n.supportedLngs.indexOf("cimode")<0&&(n.supportedLngs=n.supportedLngs.concat(["cimode"])),n),ah=()=>{},k2=n=>{Object.getOwnPropertyNames(Object.getPrototypeOf(n)).forEach(t=>{typeof n[t]=="function"&&(n[t]=n[t].bind(n))})};class mu extends Cd{constructor(){let e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{},t=arguments.length>1?arguments[1]:void 0;if(super(),this.options=kw(e),this.services={},this.logger=Cr,this.modules={external:[]},k2(this),t&&!this.isInitialized&&!e.isClone){if(!this.options.initImmediate)return this.init(e,t),this;setTimeout(()=>{this.init(e,t)},0)}}init(){var e=this;let t=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{},r=arguments.length>1?arguments[1]:void 0;this.isInitializing=!0,typeof t=="function"&&(r=t,t={}),!t.defaultNS&&t.defaultNS!==!1&&t.ns&&(be(t.ns)?t.defaultNS=t.ns:t.ns.indexOf("translation")<0&&(t.defaultNS=t.ns[0]));const s=Cw();this.options={...s,...this.options,...kw(t)},this.options.compatibilityAPI!=="v1"&&(this.options.interpolation={...s.interpolation,...this.options.interpolation}),t.keySeparator!==void 0&&(this.options.userDefinedKeySeparator=t.keySeparator),t.nsSeparator!==void 0&&(this.options.userDefinedNsSeparator=t.nsSeparator);const a=g=>g?typeof g=="function"?new g:g:null;if(!this.options.isClone){this.modules.logger?Cr.init(a(this.modules.logger),this.options):Cr.init(null,this.options);let g;this.modules.formatter?g=this.modules.formatter:typeof Intl<"u"&&(g=R2);const w=new Aw(this.options);this.store=new Iw(this.options.resources,this.options);const E=this.services;E.logger=Cr,E.resourceStore=this.store,E.languageUtils=w,E.pluralResolver=new I2(w,{prepend:this.options.pluralSeparator,compatibilityJSON:this.options.compatibilityJSON,simplifyPluralSuffix:this.options.simplifyPluralSuffix}),g&&(!this.options.interpolation.format||this.options.interpolation.format===s.interpolation.format)&&(E.formatter=a(g),E.formatter.init(E,this.options),this.options.interpolation.format=E.formatter.format.bind(E.formatter)),E.interpolator=new S2(this.options),E.utils={hasLoadedNamespace:this.hasLoadedNamespace.bind(this)},E.backendConnector=new C2(a(this.modules.backend),E.resourceStore,E,this.options),E.backendConnector.on("*",function(R){for(var V=arguments.length,B=new Array(V>1?V-1:0),z=1;z<V;z++)B[z-1]=arguments[z];e.emit(R,...B)}),this.modules.languageDetector&&(E.languageDetector=a(this.modules.languageDetector),E.languageDetector.init&&E.languageDetector.init(E,this.options.detection,this.options)),this.modules.i18nFormat&&(E.i18nFormat=a(this.modules.i18nFormat),E.i18nFormat.init&&E.i18nFormat.init(this)),this.translator=new Kh(this.services,this.options),this.translator.on("*",function(R){for(var V=arguments.length,B=new Array(V>1?V-1:0),z=1;z<V;z++)B[z-1]=arguments[z];e.emit(R,...B)}),this.modules.external.forEach(R=>{R.init&&R.init(this)})}if(this.format=this.options.interpolation.format,r||(r=ah),this.options.fallbackLng&&!this.services.languageDetector&&!this.options.lng){const g=this.services.languageUtils.getFallbackCodes(this.options.fallbackLng);g.length>0&&g[0]!=="dev"&&(this.options.lng=g[0])}!this.services.languageDetector&&!this.options.lng&&this.logger.warn("init: no languageDetector is used and no lng is defined"),["getResource","hasResourceBundle","getResourceBundle","getDataByLanguage"].forEach(g=>{this[g]=function(){return e.store[g](...arguments)}}),["addResource","addResources","addResourceBundle","removeResourceBundle"].forEach(g=>{this[g]=function(){return e.store[g](...arguments),e}});const f=Dl(),m=()=>{const g=(w,E)=>{this.isInitializing=!1,this.isInitialized&&!this.initializedStoreOnce&&this.logger.warn("init: i18next is already initialized. You should call init just once!"),this.isInitialized=!0,this.options.isClone||this.logger.log("initialized",this.options),this.emit("initialized",this.options),f.resolve(E),r(w,E)};if(this.languages&&this.options.compatibilityAPI!=="v1"&&!this.isInitialized)return g(null,this.t.bind(this));this.changeLanguage(this.options.lng,g)};return this.options.resources||!this.options.initImmediate?m():setTimeout(m,0),f}loadResources(e){let r=arguments.length>1&&arguments[1]!==void 0?arguments[1]:ah;const s=be(e)?e:this.language;if(typeof e=="function"&&(r=e),!this.options.resources||this.options.partialBundledLanguages){if(s&&s.toLowerCase()==="cimode"&&(!this.options.preload||this.options.preload.length===0))return r();const a=[],u=d=>{if(!d||d==="cimode")return;this.services.languageUtils.toResolveHierarchy(d).forEach(m=>{m!=="cimode"&&a.indexOf(m)<0&&a.push(m)})};s?u(s):this.services.languageUtils.getFallbackCodes(this.options.fallbackLng).forEach(f=>u(f)),this.options.preload&&this.options.preload.forEach(d=>u(d)),this.services.backendConnector.load(a,this.options.ns,d=>{!d&&!this.resolvedLanguage&&this.language&&this.setResolvedLanguage(this.language),r(d)})}else r(null)}reloadResources(e,t,r){const s=Dl();return typeof e=="function"&&(r=e,e=void 0),typeof t=="function"&&(r=t,t=void 0),e||(e=this.languages),t||(t=this.options.ns),r||(r=ah),this.services.backendConnector.reload(e,t,a=>{s.resolve(),r(a)}),s}use(e){if(!e)throw new Error("You are passing an undefined module! Please check the object you are passing to i18next.use()");if(!e.type)throw new Error("You are passing a wrong module! Please check the object you are passing to i18next.use()");return e.type==="backend"&&(this.modules.backend=e),(e.type==="logger"||e.log&&e.warn&&e.error)&&(this.modules.logger=e),e.type==="languageDetector"&&(this.modules.languageDetector=e),e.type==="i18nFormat"&&(this.modules.i18nFormat=e),e.type==="postProcessor"&&qA.addPostProcessor(e),e.type==="formatter"&&(this.modules.formatter=e),e.type==="3rdParty"&&this.modules.external.push(e),this}setResolvedLanguage(e){if(!(!e||!this.languages)&&!(["cimode","dev"].indexOf(e)>-1))for(let t=0;t<this.languages.length;t++){const r=this.languages[t];if(!(["cimode","dev"].indexOf(r)>-1)&&this.store.hasLanguageSomeTranslations(r)){this.resolvedLanguage=r;break}}}changeLanguage(e,t){var r=this;this.isLanguageChangingTo=e;const s=Dl();this.emit("languageChanging",e);const a=f=>{this.language=f,this.languages=this.services.languageUtils.toResolveHierarchy(f),this.resolvedLanguage=void 0,this.setResolvedLanguage(f)},u=(f,m)=>{m?(a(m),this.translator.changeLanguage(m),this.isLanguageChangingTo=void 0,this.emit("languageChanged",m),this.logger.log("languageChanged",m)):this.isLanguageChangingTo=void 0,s.resolve(function(){return r.t(...arguments)}),t&&t(f,function(){return r.t(...arguments)})},d=f=>{!e&&!f&&this.services.languageDetector&&(f=[]);const m=be(f)?f:this.services.languageUtils.getBestMatchFromCodes(f);m&&(this.language||a(m),this.translator.language||this.translator.changeLanguage(m),this.services.languageDetector&&this.services.languageDetector.cacheUserLanguage&&this.services.languageDetector.cacheUserLanguage(m)),this.loadResources(m,g=>{u(g,m)})};return!e&&this.services.languageDetector&&!this.services.languageDetector.async?d(this.services.languageDetector.detect()):!e&&this.services.languageDetector&&this.services.languageDetector.async?this.services.languageDetector.detect.length===0?this.services.languageDetector.detect().then(d):this.services.languageDetector.detect(d):d(e),s}getFixedT(e,t,r){var s=this;const a=function(u,d){let f;if(typeof d!="object"){for(var m=arguments.length,g=new Array(m>2?m-2:0),w=2;w<m;w++)g[w-2]=arguments[w];f=s.options.overloadTranslationOptionHandler([u,d].concat(g))}else f={...d};f.lng=f.lng||a.lng,f.lngs=f.lngs||a.lngs,f.ns=f.ns||a.ns,f.keyPrefix!==""&&(f.keyPrefix=f.keyPrefix||r||a.keyPrefix);const E=s.options.keySeparator||".";let R;return f.keyPrefix&&Array.isArray(u)?R=u.map(V=>`${f.keyPrefix}${E}${V}`):R=f.keyPrefix?`${f.keyPrefix}${E}${u}`:u,s.t(R,f)};return be(e)?a.lng=e:a.lngs=e,a.ns=t,a.keyPrefix=r,a}t(){return this.translator&&this.translator.translate(...arguments)}exists(){return this.translator&&this.translator.exists(...arguments)}setDefaultNamespace(e){this.options.defaultNS=e}hasLoadedNamespace(e){let t=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};if(!this.isInitialized)return this.logger.warn("hasLoadedNamespace: i18next was not initialized",this.languages),!1;if(!this.languages||!this.languages.length)return this.logger.warn("hasLoadedNamespace: i18n.languages were undefined or empty",this.languages),!1;const r=t.lng||this.resolvedLanguage||this.languages[0],s=this.options?this.options.fallbackLng:!1,a=this.languages[this.languages.length-1];if(r.toLowerCase()==="cimode")return!0;const u=(d,f)=>{const m=this.services.backendConnector.state[`${d}|${f}`];return m===-1||m===0||m===2};if(t.precheck){const d=t.precheck(this,u);if(d!==void 0)return d}return!!(this.hasResourceBundle(r,e)||!this.services.backendConnector.backend||this.options.resources&&!this.options.partialBundledLanguages||u(r,e)&&(!s||u(a,e)))}loadNamespaces(e,t){const r=Dl();return this.options.ns?(be(e)&&(e=[e]),e.forEach(s=>{this.options.ns.indexOf(s)<0&&this.options.ns.push(s)}),this.loadResources(s=>{r.resolve(),t&&t(s)}),r):(t&&t(),Promise.resolve())}loadLanguages(e,t){const r=Dl();be(e)&&(e=[e]);const s=this.options.preload||[],a=e.filter(u=>s.indexOf(u)<0&&this.services.languageUtils.isSupportedCode(u));return a.length?(this.options.preload=s.concat(a),this.loadResources(u=>{r.resolve(),t&&t(u)}),r):(t&&t(),Promise.resolve())}dir(e){if(e||(e=this.resolvedLanguage||(this.languages&&this.languages.length>0?this.languages[0]:this.language)),!e)return"rtl";const t=["ar","shu","sqr","ssh","xaa","yhd","yud","aao","abh","abv","acm","acq","acw","acx","acy","adf","ads","aeb","aec","afb","ajp","apc","apd","arb","arq","ars","ary","arz","auz","avl","ayh","ayl","ayn","ayp","bbz","pga","he","iw","ps","pbt","pbu","pst","prp","prd","ug","ur","ydd","yds","yih","ji","yi","hbo","men","xmn","fa","jpr","peo","pes","prs","dv","sam","ckb"],r=this.services&&this.services.languageUtils||new Aw(Cw());return t.indexOf(r.getLanguagePartFromCode(e))>-1||e.toLowerCase().indexOf("-arab")>1?"rtl":"ltr"}static createInstance(){let e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{},t=arguments.length>1?arguments[1]:void 0;return new mu(e,t)}cloneInstance(){let e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{},t=arguments.length>1&&arguments[1]!==void 0?arguments[1]:ah;const r=e.forkResourceStore;r&&delete e.forkResourceStore;const s={...this.options,...e,isClone:!0},a=new mu(s);return(e.debug!==void 0||e.prefix!==void 0)&&(a.logger=a.logger.clone(e)),["store","services","language"].forEach(d=>{a[d]=this[d]}),a.services={...this.services},a.services.utils={hasLoadedNamespace:a.hasLoadedNamespace.bind(a)},r&&(a.store=new Iw(this.store.data,s),a.services.resourceStore=a.store),a.translator=new Kh(a.services,s),a.translator.on("*",function(d){for(var f=arguments.length,m=new Array(f>1?f-1:0),g=1;g<f;g++)m[g-1]=arguments[g];a.emit(d,...m)}),a.init(s,t),a.translator.options=s,a.translator.backendConnector.services.utils={hasLoadedNamespace:a.hasLoadedNamespace.bind(a)},a}toJSON(){return{options:this.options,store:this.store,language:this.language,languages:this.languages,resolvedLanguage:this.resolvedLanguage}}}const ft=mu.createInstance();ft.createInstance=mu.createInstance;ft.createInstance;ft.dir;ft.init;ft.loadResources;ft.reloadResources;ft.use;ft.changeLanguage;ft.getFixedT;ft.t;ft.exists;ft.setDefaultNamespace;ft.hasLoadedNamespace;ft.loadNamespaces;ft.loadLanguages;const b2=/&(?:amp|#38|lt|#60|gt|#62|apos|#39|quot|#34|nbsp|#160|copy|#169|reg|#174|hellip|#8230|#x2F|#47);/g,O2={"&amp;":"&","&#38;":"&","&lt;":"<","&#60;":"<","&gt;":">","&#62;":">","&apos;":"'","&#39;":"'","&quot;":'"',"&#34;":'"',"&nbsp;":" ","&#160;":" ","&copy;":"","&#169;":"","&reg;":"","&#174;":"","&hellip;":"","&#8230;":"","&#x2F;":"/","&#47;":"/"},N2=n=>O2[n],D2=n=>n.replace(b2,N2);let Em={bindI18n:"languageChanged",bindI18nStore:"",transEmptyNodeValue:"",transSupportBasicHtmlNodes:!0,transWrapTextNodes:"",transKeepBasicHtmlNodesFor:["br","strong","i","p"],useSuspense:!0,unescape:D2};const x2=function(){let n=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{};Em={...Em,...n}},zF=()=>Em;let WA;const L2=n=>{WA=n},BF=()=>WA,V2={type:"3rdParty",init(n){x2(n.options.react),L2(n)}};function wm(n){"@babel/helpers - typeof";return wm=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},wm(n)}function GA(){return typeof XMLHttpRequest=="function"||(typeof XMLHttpRequest>"u"?"undefined":wm(XMLHttpRequest))==="object"}function M2(n){return!!n&&typeof n.then=="function"}function U2(n){return M2(n)?n:Promise.resolve(n)}function F2(n){throw new Error('Could not dynamically require "'+n+'". Please configure the dynamicRequireTargets or/and ignoreDynamicRequires option of @rollup/plugin-commonjs appropriately for this require call to work.')}var lh={exports:{}},uh={exports:{}},bw;function j2(){return bw||(bw=1,(function(n,e){var t=typeof globalThis<"u"&&globalThis||typeof self<"u"&&self||typeof Hl<"u"&&Hl,r=(function(){function a(){this.fetch=!1,this.DOMException=t.DOMException}return a.prototype=t,new a})();(function(a){(function(u){var d=typeof a<"u"&&a||typeof self<"u"&&self||typeof d<"u"&&d,f={searchParams:"URLSearchParams"in d,iterable:"Symbol"in d&&"iterator"in Symbol,blob:"FileReader"in d&&"Blob"in d&&(function(){try{return new Blob,!0}catch{return!1}})(),formData:"FormData"in d,arrayBuffer:"ArrayBuffer"in d};function m(F){return F&&DataView.prototype.isPrototypeOf(F)}if(f.arrayBuffer)var g=["[object Int8Array]","[object Uint8Array]","[object Uint8ClampedArray]","[object Int16Array]","[object Uint16Array]","[object Int32Array]","[object Uint32Array]","[object Float32Array]","[object Float64Array]"],w=ArrayBuffer.isView||function(F){return F&&g.indexOf(Object.prototype.toString.call(F))>-1};function E(F){if(typeof F!="string"&&(F=String(F)),/[^a-z0-9\-#$%&'*+.^_`|~!]/i.test(F)||F==="")throw new TypeError('Invalid character in header field name: "'+F+'"');return F.toLowerCase()}function R(F){return typeof F!="string"&&(F=String(F)),F}function V(F){var Q={next:function(){var he=F.shift();return{done:he===void 0,value:he}}};return f.iterable&&(Q[Symbol.iterator]=function(){return Q}),Q}function B(F){this.map={},F instanceof B?F.forEach(function(Q,he){this.append(he,Q)},this):Array.isArray(F)?F.forEach(function(Q){this.append(Q[0],Q[1])},this):F&&Object.getOwnPropertyNames(F).forEach(function(Q){this.append(Q,F[Q])},this)}B.prototype.append=function(F,Q){F=E(F),Q=R(Q);var he=this.map[F];this.map[F]=he?he+", "+Q:Q},B.prototype.delete=function(F){delete this.map[E(F)]},B.prototype.get=function(F){return F=E(F),this.has(F)?this.map[F]:null},B.prototype.has=function(F){return this.map.hasOwnProperty(E(F))},B.prototype.set=function(F,Q){this.map[E(F)]=R(Q)},B.prototype.forEach=function(F,Q){for(var he in this.map)this.map.hasOwnProperty(he)&&F.call(Q,this.map[he],he,this)},B.prototype.keys=function(){var F=[];return this.forEach(function(Q,he){F.push(he)}),V(F)},B.prototype.values=function(){var F=[];return this.forEach(function(Q){F.push(Q)}),V(F)},B.prototype.entries=function(){var F=[];return this.forEach(function(Q,he){F.push([he,Q])}),V(F)},f.iterable&&(B.prototype[Symbol.iterator]=B.prototype.entries);function z(F){if(F.bodyUsed)return Promise.reject(new TypeError("Already read"));F.bodyUsed=!0}function te(F){return new Promise(function(Q,he){F.onload=function(){Q(F.result)},F.onerror=function(){he(F.error)}})}function le(F){var Q=new FileReader,he=te(Q);return Q.readAsArrayBuffer(F),he}function ve(F){var Q=new FileReader,he=te(Q);return Q.readAsText(F),he}function oe(F){for(var Q=new Uint8Array(F),he=new Array(Q.length),q=0;q<Q.length;q++)he[q]=String.fromCharCode(Q[q]);return he.join("")}function we(F){if(F.slice)return F.slice(0);var Q=new Uint8Array(F.byteLength);return Q.set(new Uint8Array(F)),Q.buffer}function pe(){return this.bodyUsed=!1,this._initBody=function(F){this.bodyUsed=this.bodyUsed,this._bodyInit=F,F?typeof F=="string"?this._bodyText=F:f.blob&&Blob.prototype.isPrototypeOf(F)?this._bodyBlob=F:f.formData&&FormData.prototype.isPrototypeOf(F)?this._bodyFormData=F:f.searchParams&&URLSearchParams.prototype.isPrototypeOf(F)?this._bodyText=F.toString():f.arrayBuffer&&f.blob&&m(F)?(this._bodyArrayBuffer=we(F.buffer),this._bodyInit=new Blob([this._bodyArrayBuffer])):f.arrayBuffer&&(ArrayBuffer.prototype.isPrototypeOf(F)||w(F))?this._bodyArrayBuffer=we(F):this._bodyText=F=Object.prototype.toString.call(F):this._bodyText="",this.headers.get("content-type")||(typeof F=="string"?this.headers.set("content-type","text/plain;charset=UTF-8"):this._bodyBlob&&this._bodyBlob.type?this.headers.set("content-type",this._bodyBlob.type):f.searchParams&&URLSearchParams.prototype.isPrototypeOf(F)&&this.headers.set("content-type","application/x-www-form-urlencoded;charset=UTF-8"))},f.blob&&(this.blob=function(){var F=z(this);if(F)return F;if(this._bodyBlob)return Promise.resolve(this._bodyBlob);if(this._bodyArrayBuffer)return Promise.resolve(new Blob([this._bodyArrayBuffer]));if(this._bodyFormData)throw new Error("could not read FormData body as blob");return Promise.resolve(new Blob([this._bodyText]))},this.arrayBuffer=function(){if(this._bodyArrayBuffer){var F=z(this);return F||(ArrayBuffer.isView(this._bodyArrayBuffer)?Promise.resolve(this._bodyArrayBuffer.buffer.slice(this._bodyArrayBuffer.byteOffset,this._bodyArrayBuffer.byteOffset+this._bodyArrayBuffer.byteLength)):Promise.resolve(this._bodyArrayBuffer))}else return this.blob().then(le)}),this.text=function(){var F=z(this);if(F)return F;if(this._bodyBlob)return ve(this._bodyBlob);if(this._bodyArrayBuffer)return Promise.resolve(oe(this._bodyArrayBuffer));if(this._bodyFormData)throw new Error("could not read FormData body as text");return Promise.resolve(this._bodyText)},f.formData&&(this.formData=function(){return this.text().then(x)}),this.json=function(){return this.text().then(JSON.parse)},this}var k=["DELETE","GET","HEAD","OPTIONS","POST","PUT"];function S(F){var Q=F.toUpperCase();return k.indexOf(Q)>-1?Q:F}function C(F,Q){if(!(this instanceof C))throw new TypeError('Please use the "new" operator, this DOM object constructor cannot be called as a function.');Q=Q||{};var he=Q.body;if(F instanceof C){if(F.bodyUsed)throw new TypeError("Already read");this.url=F.url,this.credentials=F.credentials,Q.headers||(this.headers=new B(F.headers)),this.method=F.method,this.mode=F.mode,this.signal=F.signal,!he&&F._bodyInit!=null&&(he=F._bodyInit,F.bodyUsed=!0)}else this.url=String(F);if(this.credentials=Q.credentials||this.credentials||"same-origin",(Q.headers||!this.headers)&&(this.headers=new B(Q.headers)),this.method=S(Q.method||this.method||"GET"),this.mode=Q.mode||this.mode||null,this.signal=Q.signal||this.signal,this.referrer=null,(this.method==="GET"||this.method==="HEAD")&&he)throw new TypeError("Body not allowed for GET or HEAD requests");if(this._initBody(he),(this.method==="GET"||this.method==="HEAD")&&(Q.cache==="no-store"||Q.cache==="no-cache")){var q=/([?&])_=[^&]*/;if(q.test(this.url))this.url=this.url.replace(q,"$1_="+new Date().getTime());else{var ie=/\?/;this.url+=(ie.test(this.url)?"&":"?")+"_="+new Date().getTime()}}}C.prototype.clone=function(){return new C(this,{body:this._bodyInit})};function x(F){var Q=new FormData;return F.trim().split("&").forEach(function(he){if(he){var q=he.split("="),ie=q.shift().replace(/\+/g," "),Y=q.join("=").replace(/\+/g," ");Q.append(decodeURIComponent(ie),decodeURIComponent(Y))}}),Q}function O(F){var Q=new B,he=F.replace(/\r?\n[\t ]+/g," ");return he.split("\r").map(function(q){return q.indexOf(`
`)===0?q.substr(1,q.length):q}).forEach(function(q){var ie=q.split(":"),Y=ie.shift().trim();if(Y){var L=ie.join(":").trim();Q.append(Y,L)}}),Q}pe.call(C.prototype);function N(F,Q){if(!(this instanceof N))throw new TypeError('Please use the "new" operator, this DOM object constructor cannot be called as a function.');Q||(Q={}),this.type="default",this.status=Q.status===void 0?200:Q.status,this.ok=this.status>=200&&this.status<300,this.statusText=Q.statusText===void 0?"":""+Q.statusText,this.headers=new B(Q.headers),this.url=Q.url||"",this._initBody(F)}pe.call(N.prototype),N.prototype.clone=function(){return new N(this._bodyInit,{status:this.status,statusText:this.statusText,headers:new B(this.headers),url:this.url})},N.error=function(){var F=new N(null,{status:0,statusText:""});return F.type="error",F};var P=[301,302,303,307,308];N.redirect=function(F,Q){if(P.indexOf(Q)===-1)throw new RangeError("Invalid status code");return new N(null,{status:Q,headers:{location:F}})},u.DOMException=d.DOMException;try{new u.DOMException}catch{u.DOMException=function(Q,he){this.message=Q,this.name=he;var q=Error(Q);this.stack=q.stack},u.DOMException.prototype=Object.create(Error.prototype),u.DOMException.prototype.constructor=u.DOMException}function Ne(F,Q){return new Promise(function(he,q){var ie=new C(F,Q);if(ie.signal&&ie.signal.aborted)return q(new u.DOMException("Aborted","AbortError"));var Y=new XMLHttpRequest;function L(){Y.abort()}Y.onload=function(){var Te={status:Y.status,statusText:Y.statusText,headers:O(Y.getAllResponseHeaders()||"")};Te.url="responseURL"in Y?Y.responseURL:Te.headers.get("X-Request-URL");var Ce="response"in Y?Y.response:Y.responseText;setTimeout(function(){he(new N(Ce,Te))},0)},Y.onerror=function(){setTimeout(function(){q(new TypeError("Network request failed"))},0)},Y.ontimeout=function(){setTimeout(function(){q(new TypeError("Network request failed"))},0)},Y.onabort=function(){setTimeout(function(){q(new u.DOMException("Aborted","AbortError"))},0)};function J(Te){try{return Te===""&&d.location.href?d.location.href:Te}catch{return Te}}Y.open(ie.method,J(ie.url),!0),ie.credentials==="include"?Y.withCredentials=!0:ie.credentials==="omit"&&(Y.withCredentials=!1),"responseType"in Y&&(f.blob?Y.responseType="blob":f.arrayBuffer&&ie.headers.get("Content-Type")&&ie.headers.get("Content-Type").indexOf("application/octet-stream")!==-1&&(Y.responseType="arraybuffer")),Q&&typeof Q.headers=="object"&&!(Q.headers instanceof B)?Object.getOwnPropertyNames(Q.headers).forEach(function(Te){Y.setRequestHeader(Te,R(Q.headers[Te]))}):ie.headers.forEach(function(Te,Ce){Y.setRequestHeader(Ce,Te)}),ie.signal&&(ie.signal.addEventListener("abort",L),Y.onreadystatechange=function(){Y.readyState===4&&ie.signal.removeEventListener("abort",L)}),Y.send(typeof ie._bodyInit>"u"?null:ie._bodyInit)})}return Ne.polyfill=!0,d.fetch||(d.fetch=Ne,d.Headers=B,d.Request=C,d.Response=N),u.Headers=B,u.Request=C,u.Response=N,u.fetch=Ne,u})({})})(r),r.fetch.ponyfill=!0,delete r.fetch.polyfill;var s=t.fetch?t:r;e=s.fetch,e.default=s.fetch,e.fetch=s.fetch,e.Headers=s.Headers,e.Request=s.Request,e.Response=s.Response,n.exports=e})(uh,uh.exports)),uh.exports}var Ow;function z2(){return Ow||(Ow=1,(function(n,e){var t=typeof fetch=="function"?fetch:void 0;if(typeof Hl<"u"&&Hl.fetch?t=Hl.fetch:typeof window<"u"&&window.fetch&&(t=window.fetch),typeof F2<"u"&&typeof window>"u"){var r=t||j2();r.default&&(r=r.default),e.default=r,n.exports=e.default}})(lh,lh.exports)),lh.exports}var KA=z2();const QA=Ta(KA),Nw=sT({__proto__:null,default:QA},[KA]);function Dw(n,e){var t=Object.keys(n);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(n);e&&(r=r.filter(function(s){return Object.getOwnPropertyDescriptor(n,s).enumerable})),t.push.apply(t,r)}return t}function xw(n){for(var e=1;e<arguments.length;e++){var t=arguments[e]!=null?arguments[e]:{};e%2?Dw(Object(t),!0).forEach(function(r){B2(n,r,t[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(n,Object.getOwnPropertyDescriptors(t)):Dw(Object(t)).forEach(function(r){Object.defineProperty(n,r,Object.getOwnPropertyDescriptor(t,r))})}return n}function B2(n,e,t){return(e=$2(e))in n?Object.defineProperty(n,e,{value:t,enumerable:!0,configurable:!0,writable:!0}):n[e]=t,n}function $2(n){var e=H2(n,"string");return eo(e)=="symbol"?e:e+""}function H2(n,e){if(eo(n)!="object"||!n)return n;var t=n[Symbol.toPrimitive];if(t!==void 0){var r=t.call(n,e);if(eo(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(n)}function eo(n){"@babel/helpers - typeof";return eo=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},eo(n)}var cs=typeof fetch=="function"?fetch:void 0;typeof global<"u"&&global.fetch?cs=global.fetch:typeof window<"u"&&window.fetch&&(cs=window.fetch);var gu;GA()&&(typeof global<"u"&&global.XMLHttpRequest?gu=global.XMLHttpRequest:typeof window<"u"&&window.XMLHttpRequest&&(gu=window.XMLHttpRequest));var Qh;typeof ActiveXObject=="function"&&(typeof global<"u"&&global.ActiveXObject?Qh=global.ActiveXObject:typeof window<"u"&&window.ActiveXObject&&(Qh=window.ActiveXObject));!cs&&Nw&&!gu&&!Qh&&(cs=QA||Nw);typeof cs!="function"&&(cs=void 0);var Tm=function(e,t){if(t&&eo(t)==="object"){var r="";for(var s in t)r+="&"+encodeURIComponent(s)+"="+encodeURIComponent(t[s]);if(!r)return e;e=e+(e.indexOf("?")!==-1?"&":"?")+r.slice(1)}return e},Lw=function(e,t,r,s){var a=function(f){if(!f.ok)return r(f.statusText||"Error",{status:f.status});f.text().then(function(m){r(null,{status:f.status,data:m})}).catch(r)};if(s){var u=s(e,t);if(u instanceof Promise){u.then(a).catch(r);return}}typeof fetch=="function"?fetch(e,t).then(a).catch(r):cs(e,t).then(a).catch(r)},Vw=!1,q2=function(e,t,r,s){e.queryStringParams&&(t=Tm(t,e.queryStringParams));var a=xw({},typeof e.customHeaders=="function"?e.customHeaders():e.customHeaders);typeof window>"u"&&typeof global<"u"&&typeof global.process<"u"&&global.process.versions&&global.process.versions.node&&(a["User-Agent"]="i18next-http-backend (node/".concat(global.process.version,"; ").concat(global.process.platform," ").concat(global.process.arch,")")),r&&(a["Content-Type"]="application/json");var u=typeof e.requestOptions=="function"?e.requestOptions(r):e.requestOptions,d=xw({method:r?"POST":"GET",body:r?e.stringify(r):void 0,headers:a},Vw?{}:u),f=typeof e.alternateFetch=="function"&&e.alternateFetch.length>=1?e.alternateFetch:void 0;try{Lw(t,d,s,f)}catch(m){if(!u||Object.keys(u).length===0||!m.message||m.message.indexOf("not implemented")<0)return s(m);try{Object.keys(u).forEach(function(g){delete d[g]}),Lw(t,d,s,f),Vw=!0}catch(g){s(g)}}},W2=function(e,t,r,s){r&&eo(r)==="object"&&(r=Tm("",r).slice(1)),e.queryStringParams&&(t=Tm(t,e.queryStringParams));try{var a;gu?a=new gu:a=new Qh("MSXML2.XMLHTTP.3.0"),a.open(r?"POST":"GET",t,1),e.crossDomain||a.setRequestHeader("X-Requested-With","XMLHttpRequest"),a.withCredentials=!!e.withCredentials,r&&a.setRequestHeader("Content-Type","application/x-www-form-urlencoded"),a.overrideMimeType&&a.overrideMimeType("application/json");var u=e.customHeaders;if(u=typeof u=="function"?u():u,u)for(var d in u)a.setRequestHeader(d,u[d]);a.onreadystatechange=function(){a.readyState>3&&s(a.status>=400?a.statusText:null,{status:a.status,data:a.responseText})},a.send(r)}catch(f){console&&console.log(f)}},G2=function(e,t,r,s){if(typeof r=="function"&&(s=r,r=void 0),s=s||function(){},cs&&t.indexOf("file:")!==0)return q2(e,t,r,s);if(GA()||typeof ActiveXObject=="function")return W2(e,t,r,s);s(new Error("No fetch and no xhr implementation found!"))};function wa(n){"@babel/helpers - typeof";return wa=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},wa(n)}function Mw(n,e){var t=Object.keys(n);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(n);e&&(r=r.filter(function(s){return Object.getOwnPropertyDescriptor(n,s).enumerable})),t.push.apply(t,r)}return t}function Vp(n){for(var e=1;e<arguments.length;e++){var t=arguments[e]!=null?arguments[e]:{};e%2?Mw(Object(t),!0).forEach(function(r){YA(n,r,t[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(n,Object.getOwnPropertyDescriptors(t)):Mw(Object(t)).forEach(function(r){Object.defineProperty(n,r,Object.getOwnPropertyDescriptor(t,r))})}return n}function K2(n,e){if(!(n instanceof e))throw new TypeError("Cannot call a class as a function")}function Q2(n,e){for(var t=0;t<e.length;t++){var r=e[t];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(n,JA(r.key),r)}}function Y2(n,e,t){return e&&Q2(n.prototype,e),Object.defineProperty(n,"prototype",{writable:!1}),n}function YA(n,e,t){return(e=JA(e))in n?Object.defineProperty(n,e,{value:t,enumerable:!0,configurable:!0,writable:!0}):n[e]=t,n}function JA(n){var e=J2(n,"string");return wa(e)=="symbol"?e:e+""}function J2(n,e){if(wa(n)!="object"||!n)return n;var t=n[Symbol.toPrimitive];if(t!==void 0){var r=t.call(n,e);if(wa(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(n)}var X2=function(){return{loadPath:"/locales/{{lng}}/{{ns}}.json",addPath:"/locales/add/{{lng}}/{{ns}}",parse:function(t){return JSON.parse(t)},stringify:JSON.stringify,parsePayload:function(t,r,s){return YA({},r,s||"")},parseLoadPayload:function(t,r){},request:G2,reloadInterval:typeof window<"u"?!1:3600*1e3,customHeaders:{},queryStringParams:{},crossDomain:!1,withCredentials:!1,overrideMimeType:!1,requestOptions:{mode:"cors",credentials:"same-origin",cache:"default"}}},XA=(function(){function n(e){var t=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},r=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{};K2(this,n),this.services=e,this.options=t,this.allOptions=r,this.type="backend",this.init(e,t,r)}return Y2(n,[{key:"init",value:function(t){var r=this,s=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},a=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{};if(this.services=t,this.options=Vp(Vp(Vp({},X2()),this.options||{}),s),this.allOptions=a,this.services&&this.options.reloadInterval){var u=setInterval(function(){return r.reload()},this.options.reloadInterval);wa(u)==="object"&&typeof u.unref=="function"&&u.unref()}}},{key:"readMulti",value:function(t,r,s){this._readAny(t,t,r,r,s)}},{key:"read",value:function(t,r,s){this._readAny([t],t,[r],r,s)}},{key:"_readAny",value:function(t,r,s,a,u){var d=this,f=this.options.loadPath;typeof this.options.loadPath=="function"&&(f=this.options.loadPath(t,s)),f=U2(f),f.then(function(m){if(!m)return u(null,{});var g=d.services.interpolator.interpolate(m,{lng:t.join("+"),ns:s.join("+")});d.loadUrl(g,u,r,a)})}},{key:"loadUrl",value:function(t,r,s,a){var u=this,d=typeof s=="string"?[s]:s,f=typeof a=="string"?[a]:a,m=this.options.parseLoadPayload(d,f);this.options.request(this.options,t,m,function(g,w){if(w&&(w.status>=500&&w.status<600||!w.status))return r("failed loading "+t+"; status code: "+w.status,!0);if(w&&w.status>=400&&w.status<500)return r("failed loading "+t+"; status code: "+w.status,!1);if(!w&&g&&g.message){var E=g.message.toLowerCase(),R=["failed","fetch","network","load"].find(function(z){return E.indexOf(z)>-1});if(R)return r("failed loading "+t+": "+g.message,!0)}if(g)return r(g,!1);var V,B;try{typeof w.data=="string"?V=u.options.parse(w.data,s,a):V=w.data}catch{B="failed parsing "+t+" to json"}if(B)return r(B,!1);r(null,V)})}},{key:"create",value:function(t,r,s,a,u){var d=this;if(this.options.addPath){typeof t=="string"&&(t=[t]);var f=this.options.parsePayload(r,s,a),m=0,g=[],w=[];t.forEach(function(E){var R=d.options.addPath;typeof d.options.addPath=="function"&&(R=d.options.addPath(E,r));var V=d.services.interpolator.interpolate(R,{lng:E,ns:r});d.options.request(d.options,V,f,function(B,z){m+=1,g.push(B),w.push(z),m===t.length&&typeof u=="function"&&u(g,w)})})}}},{key:"reload",value:function(){var t=this,r=this.services,s=r.backendConnector,a=r.languageUtils,u=r.logger,d=s.language;if(!(d&&d.toLowerCase()==="cimode")){var f=[],m=function(w){var E=a.toResolveHierarchy(w);E.forEach(function(R){f.indexOf(R)<0&&f.push(R)})};m(d),this.allOptions.preload&&this.allOptions.preload.forEach(function(g){return m(g)}),f.forEach(function(g){t.allOptions.ns.forEach(function(w){s.read(g,w,"read",null,null,function(E,R){E&&u.warn("loading namespace ".concat(w," for language ").concat(g," failed"),E),!E&&R&&u.log("loaded namespace ".concat(w," for language ").concat(g),R),s.loaded("".concat(g,"|").concat(w),E,R)})})})}}}])})();XA.type="backend";function Z2(n,e){if(!(n instanceof e))throw new TypeError("Cannot call a class as a function")}function yu(n){"@babel/helpers - typeof";return yu=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},yu(n)}function eM(n,e){if(yu(n)!="object"||!n)return n;var t=n[Symbol.toPrimitive];if(t!==void 0){var r=t.call(n,e);if(yu(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(n)}function tM(n){var e=eM(n,"string");return yu(e)=="symbol"?e:e+""}function nM(n,e){for(var t=0;t<e.length;t++){var r=e[t];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(n,tM(r.key),r)}}function rM(n,e,t){return e&&nM(n.prototype,e),Object.defineProperty(n,"prototype",{writable:!1}),n}var ZA=[],iM=ZA.forEach,sM=ZA.slice;function oM(n){return iM.call(sM.call(arguments,1),function(e){if(e)for(var t in e)n[t]===void 0&&(n[t]=e[t])}),n}var Uw=/^[\u0009\u0020-\u007e\u0080-\u00ff]+$/,aM=function(e,t,r){var s=r||{};s.path=s.path||"/";var a=encodeURIComponent(t),u="".concat(e,"=").concat(a);if(s.maxAge>0){var d=s.maxAge-0;if(Number.isNaN(d))throw new Error("maxAge should be a Number");u+="; Max-Age=".concat(Math.floor(d))}if(s.domain){if(!Uw.test(s.domain))throw new TypeError("option domain is invalid");u+="; Domain=".concat(s.domain)}if(s.path){if(!Uw.test(s.path))throw new TypeError("option path is invalid");u+="; Path=".concat(s.path)}if(s.expires){if(typeof s.expires.toUTCString!="function")throw new TypeError("option expires is invalid");u+="; Expires=".concat(s.expires.toUTCString())}if(s.httpOnly&&(u+="; HttpOnly"),s.secure&&(u+="; Secure"),s.sameSite){var f=typeof s.sameSite=="string"?s.sameSite.toLowerCase():s.sameSite;switch(f){case!0:u+="; SameSite=Strict";break;case"lax":u+="; SameSite=Lax";break;case"strict":u+="; SameSite=Strict";break;case"none":u+="; SameSite=None";break;default:throw new TypeError("option sameSite is invalid")}}return u},Fw={create:function(e,t,r,s){var a=arguments.length>4&&arguments[4]!==void 0?arguments[4]:{path:"/",sameSite:"strict"};r&&(a.expires=new Date,a.expires.setTime(a.expires.getTime()+r*60*1e3)),s&&(a.domain=s),document.cookie=aM(e,encodeURIComponent(t),a)},read:function(e){for(var t="".concat(e,"="),r=document.cookie.split(";"),s=0;s<r.length;s++){for(var a=r[s];a.charAt(0)===" ";)a=a.substring(1,a.length);if(a.indexOf(t)===0)return a.substring(t.length,a.length)}return null},remove:function(e){this.create(e,"",-1)}},lM={name:"cookie",lookup:function(e){var t;if(e.lookupCookie&&typeof document<"u"){var r=Fw.read(e.lookupCookie);r&&(t=r)}return t},cacheUserLanguage:function(e,t){t.lookupCookie&&typeof document<"u"&&Fw.create(t.lookupCookie,e,t.cookieMinutes,t.cookieDomain,t.cookieOptions)}},uM={name:"querystring",lookup:function(e){var t;if(typeof window<"u"){var r=window.location.search;!window.location.search&&window.location.hash&&window.location.hash.indexOf("?")>-1&&(r=window.location.hash.substring(window.location.hash.indexOf("?")));for(var s=r.substring(1),a=s.split("&"),u=0;u<a.length;u++){var d=a[u].indexOf("=");if(d>0){var f=a[u].substring(0,d);f===e.lookupQuerystring&&(t=a[u].substring(d+1))}}}return t}},xl=null,jw=function(){if(xl!==null)return xl;try{xl=window!=="undefined"&&window.localStorage!==null;var e="i18next.translate.boo";window.localStorage.setItem(e,"foo"),window.localStorage.removeItem(e)}catch{xl=!1}return xl},cM={name:"localStorage",lookup:function(e){var t;if(e.lookupLocalStorage&&jw()){var r=window.localStorage.getItem(e.lookupLocalStorage);r&&(t=r)}return t},cacheUserLanguage:function(e,t){t.lookupLocalStorage&&jw()&&window.localStorage.setItem(t.lookupLocalStorage,e)}},Ll=null,zw=function(){if(Ll!==null)return Ll;try{Ll=window!=="undefined"&&window.sessionStorage!==null;var e="i18next.translate.boo";window.sessionStorage.setItem(e,"foo"),window.sessionStorage.removeItem(e)}catch{Ll=!1}return Ll},hM={name:"sessionStorage",lookup:function(e){var t;if(e.lookupSessionStorage&&zw()){var r=window.sessionStorage.getItem(e.lookupSessionStorage);r&&(t=r)}return t},cacheUserLanguage:function(e,t){t.lookupSessionStorage&&zw()&&window.sessionStorage.setItem(t.lookupSessionStorage,e)}},dM={name:"navigator",lookup:function(e){var t=[];if(typeof navigator<"u"){if(navigator.languages)for(var r=0;r<navigator.languages.length;r++)t.push(navigator.languages[r]);navigator.userLanguage&&t.push(navigator.userLanguage),navigator.language&&t.push(navigator.language)}return t.length>0?t:void 0}},fM={name:"htmlTag",lookup:function(e){var t,r=e.htmlTag||(typeof document<"u"?document.documentElement:null);return r&&typeof r.getAttribute=="function"&&(t=r.getAttribute("lang")),t}},pM={name:"path",lookup:function(e){var t;if(typeof window<"u"){var r=window.location.pathname.match(/\/([a-zA-Z-]*)/g);if(r instanceof Array)if(typeof e.lookupFromPathIndex=="number"){if(typeof r[e.lookupFromPathIndex]!="string")return;t=r[e.lookupFromPathIndex].replace("/","")}else t=r[0].replace("/","")}return t}},mM={name:"subdomain",lookup:function(e){var t=typeof e.lookupFromSubdomainIndex=="number"?e.lookupFromSubdomainIndex+1:1,r=typeof window<"u"&&window.location&&window.location.hostname&&window.location.hostname.match(/^(\w{2,5})\.(([a-z0-9-]{1,63}\.[a-z]{2,6})|localhost)/i);if(r)return r[t]}},e0=!1;try{document.cookie,e0=!0}catch{}var t0=["querystring","cookie","localStorage","sessionStorage","navigator","htmlTag"];e0||t0.splice(1,1);function gM(){return{order:t0,lookupQuerystring:"lng",lookupCookie:"i18next",lookupLocalStorage:"i18nextLng",lookupSessionStorage:"i18nextLng",caches:["localStorage"],excludeCacheFor:["cimode"],convertDetectedLanguage:function(e){return e}}}var n0=(function(){function n(e){var t=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};Z2(this,n),this.type="languageDetector",this.detectors={},this.init(e,t)}return rM(n,[{key:"init",value:function(t){var r=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},s=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{};this.services=t||{languageUtils:{}},this.options=oM(r,this.options||{},gM()),typeof this.options.convertDetectedLanguage=="string"&&this.options.convertDetectedLanguage.indexOf("15897")>-1&&(this.options.convertDetectedLanguage=function(a){return a.replace("-","_")}),this.options.lookupFromUrlIndex&&(this.options.lookupFromPathIndex=this.options.lookupFromUrlIndex),this.i18nOptions=s,this.addDetector(lM),this.addDetector(uM),this.addDetector(cM),this.addDetector(hM),this.addDetector(dM),this.addDetector(fM),this.addDetector(pM),this.addDetector(mM)}},{key:"addDetector",value:function(t){return this.detectors[t.name]=t,this}},{key:"detect",value:function(t){var r=this;t||(t=this.options.order);var s=[];return t.forEach(function(a){if(r.detectors[a]){var u=r.detectors[a].lookup(r.options);u&&typeof u=="string"&&(u=[u]),u&&(s=s.concat(u))}}),s=s.map(function(a){return r.options.convertDetectedLanguage(a)}),this.services.languageUtils.getBestMatchFromCodes?s:s.length>0?s[0]:null}},{key:"cacheUserLanguage",value:function(t,r){var s=this;r||(r=this.options.caches),r&&(this.options.excludeCacheFor&&this.options.excludeCacheFor.indexOf(t)>-1||r.forEach(function(a){s.detectors[a]&&s.detectors[a].cacheUserLanguage(t,s.options)}))}}])})();n0.type="languageDetector";const r0=Hh.map(n=>n.code),yM=()=>{if(typeof window>"u")return;const e=window.location.pathname.split("/").filter(t=>t);return e.length>0&&r0.includes(e[0])?e[0]:"en"};ft.use(XA).use(n0).use(V2).init({lng:yM(),fallbackLng:"en",supportedLngs:r0,load:"languageOnly",debug:!1,ns:["translation"],defaultNS:"translation",backend:{loadPath:"/locales/{{lng}}/translation.json?v="+new Date().getTime()},detection:{order:["path","navigator","htmlTag"],lookupFromPathIndex:0},interpolation:{escapeValue:!1},react:{useSuspense:!1}});const Mp=()=>{let n=window.location.pathname;n.startsWith("/")&&(n=n.substring(1));const e=n.split("/");if(e.length>0&&Hh.some(t=>t.code===e[0])){const t=e[0];if(t==="en"){ft.language!=="en"&&ft.changeLanguage("en");const r="/"+e.slice(1).join("/");return window.history.replaceState({},"",r+window.location.search+window.location.hash),r}return ft.language!==t&&ft.changeLanguage(t),"/"+e.slice(1).join("/")}return ft.language!=="en"&&n.startsWith("assets/"),"/"+n},kd=n=>{const e=n.split("/").filter(d=>d);if(e.length>0&&Hh.some(d=>d.code===e[0])){window.history.pushState({},"",n),window.dispatchEvent(new PopStateEvent("popstate"));return}const r=(ft.language||"en").substring(0,2),s=Hh.some(d=>d.code===r)?r:"en",a=n.startsWith("/")?n:"/"+n;let u;s==="en"?u=a:u=`/${s}${a}`,window.history.pushState({},"",u),window.dispatchEvent(new PopStateEvent("popstate"))},i0=Se.createContext({currentUser:null,userProfile:null,loading:!0,isAdmin:!1,isAdminLoading:!0,isEmailVerified:!1,isPremium:!1,aiUsage:null,refreshAIUsage:async()=>{},logOut:()=>{},updateUserProfile:async()=>{}}),Qg=()=>Se.useContext(i0),_M=({children:n})=>{const[e,t]=Se.useState(null),[r,s]=Se.useState(null),[a,u]=Se.useState(!0),[d,f]=Se.useState(!1),[m,g]=Se.useState(!0),[w,E]=Se.useState(!1),[R,V]=Se.useState(!1),[B,z]=Se.useState(null);Se.useEffect(()=>{const we=e1(_w,async pe=>{t(pe),E(pe?pe.emailVerified:!1),pe||(f(!1),V(!1),s(null),g(!1),u(!1))});return()=>we()},[]),Se.useEffect(()=>{if(!e)return;let we=!1,pe=!1;const k=()=>{we&&pe&&u(!1)},S=ri(gn,"users",e.uid),C=pm(S,async O=>{if(O.exists()){const N=O.data();s(N);const P=Date.now(),Ne=N.expiresAt?.toMillis?N.expiresAt.toMillis():null,F=N.plan==="pro_sprint"&&Ne!==null?Ne>P:!1,Q=N.plan==="pro_monthly"&&(Ne!==null?Ne>P:N.stripeSubscriptionStatus==="active"||N.stripeSubscriptionStatus==="trialing"),he=Ne===null&&N.promotions?.isPremium===!0,q=F||Q||he;V(q);const ie=N.aiUsage||{count:0,monthlyLimit:10};let Y=10;if(q&&N?.plan&&(N.plan==="pro_sprint"?Y=100:N.plan==="pro_monthly"?Y=300:Y=ie.monthlyLimit||10),z({count:ie.count,limit:Y}),!q&&(N.plan==="pro_sprint"||N.plan==="pro_monthly")&&Ne!==null&&Ne<P)try{await dm(S,{plan:"free",role:"user",stripeSubscriptionStatus:null,promotions:{...N.promotions,isPremium:!1}}),console.log("Auto-cleanup: Reset expired plan/role to free/user")}catch(L){console.error("Failed to reset expired plan:",L)}}else V(!1),s(null);we=!0,k()});return(async()=>{if(g(!0),e.email==="evan@jastalk.com"||e.uid==="n95XpkySLMhwcHcpKTOpFAqrOPi2"){f(!0);try{const N=ri(gn,"admins",e.uid);await Vg(N,{role:"admin",email:e.email},{merge:!0})}catch(N){console.warn("Self-healing admin check failed (likely permissions), but UI access is granted via hardcode.",N)}g(!1),pe=!0,k();return}try{const N=ri(gn,"admins",e.uid),P=await QD(N);f(P.exists())}catch(N){console.error("Error checking admin status:",N),f(!1)}finally{g(!1),pe=!0,k()}})(),()=>C()},[e]);const oe={currentUser:e,userProfile:r,loading:a,isAdmin:d,isAdminLoading:m,isEmailVerified:w,isPremium:R,aiUsage:B,refreshAIUsage:async()=>{if(e)try{const{getAIUsage:we}=await _e(async()=>{const{getAIUsage:S}=await import("./aiUsageService-DdLXP0a-.js");return{getAIUsage:S}},[]),pe=await we(e.uid);let k=10;r?.plan&&(r.plan==="pro_sprint"?k=100:r.plan==="pro_monthly"&&(k=300)),z({count:pe.count,limit:k})}catch(we){console.error("Failed to refresh AI usage:",we)}},logOut:()=>{ZV(e?.uid||"","sign_out"),t1(_w),kd("/")},updateUserProfile:async we=>{if(!e)return;const pe=ri(gn,"users",e.uid);await dm(pe,we)}};return G.jsx(i0.Provider,{value:oe,children:n})},s0=Se.createContext(void 0),vM=({children:n})=>{const[e,t]=Se.useState([]);Se.useEffect(()=>{try{const m=localStorage.getItem("stitch_cart");m&&t(JSON.parse(m))}catch(m){console.error("Failed to load cart from local storage",m)}},[]),Se.useEffect(()=>{try{localStorage.setItem("stitch_cart",JSON.stringify(e))}catch(m){console.error("Failed to save cart to local storage",m)}},[e]);const r=(m,g=1)=>{t(w=>w.find(R=>R.id===m.id)?w.map(R=>R.id===m.id?{...R,quantity:R.quantity+g}:R):[...w,{...m,quantity:g}])},s=m=>{t(g=>g.filter(w=>w.id!==m))},a=(m,g)=>{if(g<=0){s(m);return}t(w=>w.map(E=>E.id===m?{...E,quantity:g}:E))},u=()=>t([]),d=e.reduce((m,g)=>m+g.price*g.quantity,0),f=e.reduce((m,g)=>m+g.quantity,0);return G.jsx(s0.Provider,{value:{items:e,addToCart:r,removeFromCart:s,updateQuantity:a,clearCart:u,cartTotal:d,itemCount:f},children:n})},$F=()=>{const n=Se.useContext(s0);if(!n)throw new Error("useCart must be used within a CartProvider");return n};var EM={xmlns:"http://www.w3.org/2000/svg",width:24,height:24,viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:2,strokeLinecap:"round",strokeLinejoin:"round"};const wM=n=>n.replace(/([a-z0-9])([A-Z])/g,"$1-$2").toLowerCase().trim(),TM=(n,e)=>{const t=Se.forwardRef(({color:r="currentColor",size:s=24,strokeWidth:a=2,absoluteStrokeWidth:u,className:d="",children:f,...m},g)=>Se.createElement("svg",{ref:g,...EM,width:s,height:s,stroke:r,strokeWidth:u?Number(a)*24/Number(s):a,className:["lucide",`lucide-${wM(n)}`,d].join(" "),...m},[...e.map(([w,E])=>Se.createElement(w,E)),...Array.isArray(f)?f:[f]]));return t.displayName=`${n}`,t};const IM=TM("Loader2",[["path",{d:"M21 12a9 9 0 1 1-6.219-8.56",key:"13zald"}]]),SM=()=>{const{currentUser:n}=Qg(),[e,t]=Se.useState([]),[r,s]=Se.useState(!0);Se.useEffect(()=>{if(!n){t([]),s(!1);return}s(!0);const w=Bl(gn,"users",n.uid,"portfolios"),E=qD(w,WD("updatedAt","desc")),R=pm(E,V=>{const B=[];V.forEach(z=>{const te=z.data(),le=oe=>oe?typeof oe=="number"?oe:typeof oe.toMillis=="function"?oe.toMillis():oe instanceof Date?oe.getTime():Date.now():Date.now(),ve={id:z.id,userId:te.userId||n.uid,title:te.title||"Untitled Portfolio",templateId:te.templateId||"minimalist",section:te.section||"portfolios",mode:te.mode||"portfolio",linkInBio:te.linkInBio,hero:te.hero||{headline:"",subheadline:"",ctaPrimaryLabel:"",ctaPrimaryUrl:"",ctaSecondaryLabel:"",ctaSecondaryUrl:""},about:te.about||"",timeline:te.timeline||[],education:te.education||[],techStack:te.techStack||[],projects:te.projects||[],socialLinks:te.socialLinks||[],contactEmail:te.contactEmail||"",theme:te.theme||{primaryColor:"#2563eb",darkMode:!1},createdAt:le(te.createdAt),updatedAt:le(te.updatedAt)};B.push(ve)}),t(B),s(!1)},V=>{console.error("Error fetching portfolios:",V),s(!1)});return()=>R()},[n]);const a=Se.useCallback(w=>e.find(E=>E.id===w),[e]),u=Se.useCallback(async w=>{if(n)try{const{id:E,...R}=w,V=await fm(Bl(gn,"users",n.uid,"portfolios"),{...R,userId:n.uid,section:"portfolios",createdAt:ra(),updatedAt:ra()});return console.log("[usePortfolios] Created portfolio:",V.id),V.id}catch(E){throw console.error("Error creating portfolio:",E),E}},[n]),d=Se.useCallback(async(w,E)=>{if(n)try{const R=JSON.parse(JSON.stringify(E));delete R.id,delete R.createdAt,delete R.updatedAt;const V=ri(gn,"users",n.uid,"portfolios",w);await dm(V,{...R,updatedAt:ra()})}catch(R){console.error("Error updating portfolio:",R)}},[n]),f=Se.useCallback(async w=>{if(!n)return;const E=ri(gn,"users",n.uid,"portfolios",w);try{await YD(E),console.log("[usePortfolios] Deleted portfolio:",w)}catch(R){console.error("Error deleting portfolio:",R)}},[n]),m=Se.useCallback(async w=>{if(!n)return;const E=a(w);if(E)try{const{id:R,createdAt:V,updatedAt:B,...z}=E,te=await fm(Bl(gn,"users",n.uid,"portfolios"),{...z,title:`${E.title} (Copy)`,section:E.section||"portfolios",createdAt:ra(),updatedAt:ra()});kd(`/portfolio/edit/${te.id}`)}catch(R){console.error("Error duplicating portfolio:",R)}},[n,a]),g=Se.useCallback(async()=>{if(n)try{const w=Bl(gn,"users",n.uid,"portfolios"),E=JD(gn),R=await pm(w,V=>{V.docs.forEach(B=>{E.delete(B.ref)})});await E.commit()}catch(w){throw console.error("Error deleting all portfolios:",w),w}},[n]);return{portfolios:e,isLoading:r,getPortfolioById:a,createPortfolio:u,updatePortfolio:d,deletePortfolio:f,duplicatePortfolio:m,deleteAllPortfolios:g}},AM=()=>{const{currentUser:n}=Qg(),{createPortfolio:e}=SM();Se.useEffect(()=>{if(!n)return;(async()=>{for(let r=0;r<localStorage.length;r++){const s=localStorage.key(r);if(s&&s.startsWith("portfolio_"))try{const a=localStorage.getItem(s);if(a){const u=JSON.parse(a);if(u.title&&u.hero){const{id:d,userId:f,...m}=u;await e({...u,userId:n.uid}),localStorage.removeItem(s),console.log(`[Migration] Successfully migrated portfolio: ${s}`)}}}catch(a){console.error(`[Migration] Failed to migrate portfolio ${s}:`,a)}}})()},[n,e])},RM=()=>(Se.useEffect(()=>{const n=()=>{const e=window.location.origin+window.location.pathname;let t=document.querySelector("link[rel='canonical']");t||(t=document.createElement("link"),t.setAttribute("rel","canonical"),document.head.appendChild(t)),t.setAttribute("href",e);let r=document.querySelector("meta[property='og:url']");r||(r=document.createElement("meta"),r.setAttribute("property","og:url"),document.head.appendChild(r)),r.setAttribute("content",e)};return n(),window.addEventListener("popstate",n),()=>{window.removeEventListener("popstate",n)}}),null),PM=ce.lazy(()=>_e(()=>import("./Dashboard-D8KjI1B8.js"),__vite__mapDeps([0,1,2,3,4,5,6,7,8,9,10,11,12,13,14,15,16,17,18,19,20,21,22,23,24,25,26,27,28,29,30,31,32,33,34,35,36,37,38,39,40,41,42,43,44,45,46,47,48,49,50,51,52,53,54,55,56,57,58,59,60,61,62,63,64,65,66,67,68,69,70,71,72,73,74,75,76,77,78,79,80,81,82,83,84,85,86,87,88,89,90,91,92,93,94,95,96,97,98,99,100,101,102,103,104,105,106,107,108,109,110,111,112,113,114,115,116,117,118,119,120,121,122,123,124,125]))),Bw=ce.lazy(()=>_e(()=>import("./Editor-BwHZHY7l.js"),__vite__mapDeps([126,1,127,21,8,89,115,102,119,7,6,9,128,109,108,12,122,42,35,31,69,33,17,19,18,63,55,65,14,32,125,4,29,30,84,34,116,50,51,52,37,45,56,11,61,58,16,26,27,13,59,92,39,79,36,23,5,129,130,131,114,132,44,133,134,120,135,57,113,10,66,97,94,20,100,136,137,80,60,22]))),CM=ce.lazy(()=>_e(()=>import("./GenerationHub-B9G5o2CR.js"),__vite__mapDeps([138,1,5,139,121,133,134,120,135,13,57,113,32,82,20,65]))),kM=ce.lazy(()=>_e(()=>import("./InterviewStudio-BGsa_kbV.js"),__vite__mapDeps([140,139,5,141,2,8,90,62,115,110,61,1,10,11,12,13,82,20,65]))),bM=ce.lazy(()=>_e(()=>import("./ProfilePage-BN9ktAxz.js"),__vite__mapDeps([142,1,2,34,13,59,115,81,70,18]))),OM=ce.lazy(()=>_e(()=>import("./ChatBot-C0hKWHBk.js"),__vite__mapDeps([143,5,1,8,89,62,108,77,102])));ce.lazy(()=>_e(()=>import("./AuthPage-D-6qK8u8.js"),__vite__mapDeps([144,121,13,59,34,31,73,39,44])));const $w=ce.lazy(()=>_e(()=>import("./SignInPage-Bf58GmZC.js"),__vite__mapDeps([145,121,13,59,34,31,73,39,44]))),NM=ce.lazy(()=>_e(()=>import("./SignUpPage-DviWExwY.js"),__vite__mapDeps([146,121,13,59,34,31,73,39,44]))),DM=ce.lazy(()=>_e(()=>import("./LandingPage-Ctn8diP5.js"),__vite__mapDeps([147,148,121,124,13,35,23,12,27,8,88,14,11,84,32,149,7,15,87,150,20,109,64,83,19,90]))),xM=ce.lazy(()=>_e(()=>import("./TechLandingPage-DZExIcJo.js"),__vite__mapDeps([151,148,121,124,13,35,23,12,27,8,88,14,11,84,32,149,20,19,108,83,113,90,64]))),LM=ce.lazy(()=>_e(()=>import("./PricingPage-fCRvV_Uc.js"),__vite__mapDeps([152,148,121,124,13,35,23,12,27,8,88,14,11,84,32,149,21]))),VM=ce.lazy(()=>_e(()=>import("./AdminLoginPage-ChaXt6Vu.js"),__vite__mapDeps([153,106,73,39]))),MM=ce.lazy(()=>_e(()=>import("./AdminPage-B_ABxgH6.js"),__vite__mapDeps([154,119,7,66,23,8,130,5,19,108,21,131,129,114,12,36,79,113,45,18,84,30,112,33,17,39,95,109,102,38,115,57,100,32,34,56,63,150,106,61,89,9]))),UM=ce.lazy(()=>_e(()=>import("./StrategyDashboard-C0Zt5IBI.js"),__vite__mapDeps([155,54,49,105,137,136,7,11,38,9,17,32,21,106,67,33]))),FM=ce.lazy(()=>_e(()=>import("./AcademicPartnerDashboard-jh7cdz7_.js"),__vite__mapDeps([156,42,38,53,91,11,36,59,106,33,12,69,101,55]))),Hw=ce.lazy(()=>_e(()=>import("./VerifyEmailPage-Cr9G4oj8.js"),__vite__mapDeps([157,86]))),jM=ce.lazy(()=>_e(()=>import("./JobTrackerPage-BSu6OSH_.js"),__vite__mapDeps([158,25,3,4,1,5,6,7,8,9,10,11,12,13,14,15,16,17,18,19,20,21,22,23,24,32,59,97]))),zM=ce.lazy(()=>_e(()=>import("./DemoPage-CHhBjkeO.js"),__vite__mapDeps([159,5,139,8,19,13,59,101,14,44,90]))),BM=ce.lazy(()=>_e(()=>import("./PdfPreviewPage-DGhfk6Ny.js"),__vite__mapDeps([160,125,4,29,30,84,34,102,14,116,50,51,52,35,37,45,115,56,109]))),qw=ce.lazy(()=>_e(()=>import("./ContactPage-CZjJzhsQ.js"),__vite__mapDeps([161,148,121,124,13,35,23,12,27,8,88,14,11,84,32,149,162,77,102,70,54,21]))),Ww=ce.lazy(()=>_e(()=>import("./BlogListPage-fJF2QwiY.js"),__vite__mapDeps([163,148,121,124,13,35,23,12,27,8,88,14,11,84,32,149,57,55,67,20]))),Gw=ce.lazy(()=>_e(()=>import("./BlogPostPage-B0vLpEhM.js"),__vite__mapDeps([164,148,121,124,13,35,23,12,27,8,88,14,11,84,32,149,59,115,55,51,52]))),$M=ce.lazy(()=>_e(()=>import("./PublicResumePage-DGc5DLUe.js"),__vite__mapDeps([165,148,121,124,13,35,23,12,27,8,88,14,11,84,32,149,26,127,21,89,115,102,57,82,85]))),HM=ce.lazy(()=>_e(()=>import("./SubscriptionPage-CPmkQQJN.js"),__vite__mapDeps([166,6,7,8,9,20,96,76,89,13,21,108,12,78,32,59]))),qM=ce.lazy(()=>_e(()=>import("./PortfolioHub-DzU5cjds.js"),__vite__mapDeps([167,141,134,120,135,13,57,113,10,8,11,12,6,7,9,82,108,68,20,74,65,17]))),Kw=ce.lazy(()=>_e(()=>import("./PortfolioEditor-Do65Q2y9.js"),__vite__mapDeps([168,1,129,118,10,8,11,12,65,91,48,27,93,60,42,58,94,46,47,16,28,29,30,7,31,32,33,20,34,35,36,24,37,38,39,40,41,43,44,45,49,50,51,52,53,14,54,55,56,57,9,59,61,62,63,64,21,23,66,67,68,69,70,71,72,73,74,75,76,77,78,79,80,81,82,83,84,85,86,87,88,89,90,92,95,96,97,17,98,99,100,101,102,103,104,105,106,107,108,109,110,111,18,112,113,114,115,116,15,19,22,117,119,120,123,6,132,169,170,131,5]))),Qw=ce.lazy(()=>_e(()=>import("./PortfolioBuilderPage-CGqHTRD4.js"),__vite__mapDeps([171,108,59,91,48,141]))),WM=ce.lazy(()=>_e(()=>import("./PublicPortfolioPage-DcsBdmw3.js"),__vite__mapDeps([172,28,29,30,7,8,31,27,32,33,20,34,35,36,24,37,38,39,40,41,42,43,44,11,45,46,47,48,49,50,51,52,53,14,54,55,56,57,9,58,59,60,61,62,63,64,21,12,23,65,66,67,68,69,70,71,72,73,74,75,76,77,78,79,80,81,82,83,84,85,86,87,88,89,90,16,91,92,93,94,95,96,97,17,98,99,100,101,102,103,104,105,106,107,108,109,110,111,18,112,113,114,115,116,15,19,22,117,118,119,120,169]))),GM=ce.lazy(()=>_e(()=>import("./PartnerLandingPage-hS8aTZYN.js"),__vite__mapDeps([173,148,121,124,13,35,23,12,27,8,88,14,11,84,32,149,99,20,56,63,38,53]))),KM=ce.lazy(()=>_e(()=>import("./CheckoutSummary-QmmQutCX.js"),__vite__mapDeps([174,175]))),QM=ce.lazy(()=>_e(()=>import("./DropProductGallery-CyLQoFK_.js"),[])),YM=ce.lazy(()=>_e(()=>import("./AssemblyLinePacking-Em14bd6S.js"),[])),JM=ce.lazy(()=>_e(()=>import("./CreateNewDrop-OxYF3CTH.js"),[])),XM=ce.lazy(()=>_e(()=>import("./UpcomingDropsFeed-qMgpwUj1.js"),__vite__mapDeps([176,175]))),Yw=ce.lazy(()=>_e(()=>import("./BusinessCardPage-BEJuNYiM.js"),__vite__mapDeps([177,121,137,12,46,47,162,13,77,23,20,11,105]))),Jw=ce.lazy(()=>_e(()=>import("./OrderNfcCardPage-B1Wp6Wud.js"),__vite__mapDeps([178,129,13,59,8,114,80]))),ZM=ce.lazy(()=>_e(()=>import("./AcademicPartnerPage-CdmZ_anH.js"),__vite__mapDeps([179,148,121,124,13,35,23,12,27,8,88,14,11,84,32,149,56,38,60,67]))),eU=ce.lazy(()=>_e(()=>import("./BusinessPartnerPage-BH53bIWp.js"),__vite__mapDeps([180,148,121,124,13,35,23,12,27,8,88,14,11,84,32,149,63,101,111]))),tU=ce.lazy(()=>_e(()=>import("./StudentAmbassadorPage-BQiKIXjr.js"),__vite__mapDeps([181,148,121,124,13,35,23,12,27,8,88,14,11,84,32,149,38,76,40,53]))),nU=ce.lazy(()=>_e(()=>import("./PartnerApplicationPage-CVZAC-Em.js"),__vite__mapDeps([182,148,121,124,13,35,23,12,27,8,88,14,11,84,32,149,64,99,56,38,63]))),Xw=ce.lazy(()=>_e(()=>import("./PolicyPage-DeGb_fOj.js"),__vite__mapDeps([183,148,121,124,13,35,23,12,27,8,88,14,11,84,32,149,70,106]))),Zw=ce.lazy(()=>_e(()=>import("./TermsOfServicePage-czEU1IQP.js"),__vite__mapDeps([184,148,121,124,13,35,23,12,27,8,88,14,11,84,32,149,54,70,106,9]))),eT=ce.lazy(()=>_e(()=>import("./PrivacyPolicyPage-BpI2Q_UL.js"),__vite__mapDeps([185,148,121,124,13,35,23,12,27,8,88,14,11,84,32,149,39,48,31,21]))),rU=ce.lazy(()=>_e(()=>import("./HRPartnerPage-CBdzg-eF.js"),__vite__mapDeps([186,148,121,124,13,35,23,12,27,8,88,14,11,84,32,149,20,111,60,64,38]))),iU=ce.lazy(()=>_e(()=>import("./BusinessPartnerDashboard-BpKRl0lH.js"),__vite__mapDeps([187,4,188,189,5,121,14,60,38,68,17,39,30,18,32,8,66,23,21,22,19,34,55]))),tT=ce.lazy(()=>_e(()=>import("./JobPostingEditor-CIVhV5ld.js"),__vite__mapDeps([190,188,121,59,100,39,8,17]))),sU=ce.lazy(()=>_e(()=>import("./index-B42ucaH6.js"),__vite__mapDeps([191,188,25,1,2,10,8,11,12,189,33,18,63,37,72,67,64,97,90,13,101,98,82,14,77,32,102]))),oU=ce.lazy(()=>_e(()=>import("./IntegrationsPage-DEG1FYbS.js"),__vite__mapDeps([192,149,121,116,21,33,38,41,98,31,55,32]))),aU=ce.lazy(()=>_e(()=>import("./NotFoundPage-JwAB4njB.js"),__vite__mapDeps([193,148,121,124,13,35,23,12,27,8,88,14,11,84,32,149,75,78,59,101]))),nT=ce.lazy(()=>_e(()=>import("./PermissionDeniedPage-lb9KByTn.js"),__vite__mapDeps([194,148,121,124,13,35,23,12,27,8,88,14,11,84,32,149,104,78,59,34]))),lU=ce.lazy(()=>_e(()=>import("./ReferralLandingPage-B0IMV5M6.js"),__vite__mapDeps([195,148,121,124,13,35,23,12,27,8,88,14,11,84,32,149,76,64,57,108,111]))),uU=ce.lazy(()=>_e(()=>import("./ReferralPage-BbfHE7-x.js"),__vite__mapDeps([196,13,76,12,69,38,55]))),rT=ce.lazy(()=>_e(()=>import("./BioLinksPage-CTLcFJ8S.js"),__vite__mapDeps([197,13,21,50,51,20,118,47,148,121,124,35,23,12,27,8,88,14,11,84,32,149,108,6,7,9]))),cU=ce.lazy(()=>_e(()=>import("./CommerceDashboard-BSZa5cbV.js"),__vite__mapDeps([170,107,129,8,32,93,79,114,59,70,17,40,30,18]))),hU=ce.lazy(()=>_e(()=>import("./ProductPage-BGoJ5orL.js"),__vite__mapDeps([198,107,117,21,59]))),dU=ce.lazy(()=>_e(()=>import("./GetMoreReview01-H7W6WsOg.js"),__vite__mapDeps([199,71,134,120,113,137,115,24,136,8,101,66]))),iT=ce.lazy(()=>_e(()=>import("./ServicePortfolioPage-XKq2MmtO.js"),__vite__mapDeps([200,137,21,20,43,95,35,102,24,15]))),fU=ce.lazy(()=>_e(()=>import("./MerchantProductSubmission-D5lbBca1.js"),[])),nr=()=>G.jsx("div",{className:"flex flex-col justify-center items-center h-screen bg-gray-100 dark:bg-gray-900",children:G.jsx(IM,{className:"w-12 h-12 text-primary-500 animate-spin"})}),pU=({target:n})=>(Se.useEffect(()=>{kd(n)},[n]),G.jsx(nr,{})),mU=()=>{const{currentUser:n,userProfile:e,loading:t,isAdmin:r,isAdminLoading:s,isEmailVerified:a}=Qg();AM();const[u,d]=Se.useState(Mp());if(Se.useEffect(()=>{const E=()=>{d(Mp())};if(window.addEventListener("popstate",E),E(),window.location.hash&&(window.location.hash.startsWith("#/shared/")||window.location.hash.startsWith("#/portfolio/"))){const R=window.location.hash.substring(1);window.history.replaceState(null,"",R),d(Mp())}return()=>window.removeEventListener("popstate",E)},[]),u==="/pdf-preview")return G.jsx(Zr,{children:G.jsx(Se.Suspense,{fallback:G.jsx(nr,{}),children:G.jsx(BM,{})})});if(u.startsWith("/shared/"))return G.jsx(Zr,{children:G.jsx(Se.Suspense,{fallback:G.jsx(nr,{}),children:G.jsx($M,{})})});const f=/^\/portfolio\/([^/]+\/)?edit\//.test(u);if(u.startsWith("/portfolio/")&&!f)return G.jsx(Zr,{children:G.jsx(Se.Suspense,{fallback:G.jsx(nr,{}),children:G.jsx(WM,{})})});if(t||s)return G.jsx(nr,{});if(u.startsWith("/admin")){if(u==="/admin/login"){if(n&&r)return Se.useEffect(()=>kd("/admin"),[]),null;const E=!!n&&!r;return G.jsx(Zr,{children:G.jsx(Se.Suspense,{fallback:G.jsx(nr,{}),children:G.jsx(VM,{accessDenied:E})})})}return n&&r?!a&&n.providerData[0]?.providerId==="password"?G.jsx(Zr,{children:G.jsx(Se.Suspense,{fallback:G.jsx(nr,{}),children:G.jsx(Hw,{})})}):u==="/admin/strategy"?G.jsx(Zr,{children:G.jsx(Se.Suspense,{fallback:G.jsx(nr,{}),children:G.jsx(UM,{})})}):G.jsx(Zr,{children:G.jsx(Se.Suspense,{fallback:G.jsx(nr,{}),children:G.jsx(MM,{})})}):G.jsx(Zr,{children:G.jsx(Se.Suspense,{fallback:G.jsx(nr,{}),children:G.jsx(nT,{requiredRole:"Administrator",message:"You need administrator privileges to access this page."})})})}let g,w=!1;if(n)if(!a&&n.providerData[0]?.providerId==="password")g=G.jsx(Hw,{});else if(w=!0,u==="/signin"||u.startsWith("/signin?")||u==="/signup"){const R=new URLSearchParams(window.location.search).get("redirect");g=G.jsx(pU,{target:R?decodeURIComponent(R):"/"})}else if(u.startsWith("/edit/")){const E=u.split("/")[2];g=G.jsx(Bw,{resumeId:E})}else if(u==="/new")g=G.jsx(CM,{});else if(u==="/portfolio")g=G.jsx(qM,{});else if(f)g=G.jsx(Kw,{});else if(u==="/portfolio-builder")g=G.jsx(Qw,{});else if(u.startsWith("/interview-studio")){const R=u.split("/")[2];g=G.jsx(kM,{jobId:R})}else if(u==="/tracker")g=G.jsx(jM,{});else if(u==="/profile")g=G.jsx(bM,{});else if(u==="/referrals")g=G.jsx(uU,{});else if(u==="/subscription")g=G.jsx(HM,{});else if(u==="/contact")g=G.jsx(qw,{});else if(u==="/services")g=G.jsx(iT,{});else if(u==="/policy")g=G.jsx(Xw,{});else if(u==="/terms")g=G.jsx(Zw,{});else if(u==="/privacy")g=G.jsx(eT,{});else if(u==="/business-partner/dashboard")g=G.jsx(iU,{});else if(u.toLowerCase()==="/jobmarket"||u==="/job-market")g=G.jsx(sU,{});else if(u==="/business-partner/jobs/new")g=G.jsx(tT,{});else if(u.startsWith("/business-partner/jobs/")&&u.endsWith("/edit")){const E=u.split("/")[3];g=G.jsx(tT,{jobId:E})}else if(u==="/blog")g=G.jsx(Ww,{});else if(u==="/dashboard/integrations")g=G.jsx(oU,{});else if(u.startsWith("/blog/")){const E=u.split("/")[2];g=G.jsx(Gw,{postId:E})}else u==="/commerce"?g=G.jsx(cU,{}):u==="/checkout"?g=G.jsx(KM,{}):u.startsWith("/drop/")?g=G.jsx(QM,{}):u==="/merchant/packing"?g=G.jsx(YM,{}):u==="/merchant/new-drop"?g=G.jsx(JM,{}):u==="/feed"?g=G.jsx(XM,{}):u==="/merchant/submit"?g=G.jsx(fU,{}):u==="/academic-partner"?e?.role==="academic_partner"||r?g=G.jsx(FM,{}):g=G.jsx(nT,{requiredRole:"Academic Partner",message:"This page is only accessible to academic partners."}):u==="/order-nfc-card"?g=G.jsx(Jw,{}):u==="/bio-links"?g=G.jsx(rT,{}):u==="/business-card"?g=G.jsx(Yw,{}):g=G.jsx(PM,{});else if(u==="/signin")g=G.jsx($w,{});else if(u==="/signup")g=G.jsx(NM,{});else if(u==="/auth")window.location.href="/signin",g=G.jsx($w,{});else if(u==="/pricing")g=G.jsx(LM,{});else if(u==="/demo")g=G.jsx(zM,{});else if(u==="/contact")g=G.jsx(qw,{});else if(u==="/services")g=G.jsx(iT,{});else if(u==="/policy")g=G.jsx(Xw,{});else if(u==="/terms")g=G.jsx(Zw,{});else if(u==="/privacy")g=G.jsx(eT,{});else if(u==="/referral")g=G.jsx(lU,{});else if(u==="/bio-links")g=G.jsx(rT,{});else if(u==="/bio-links/template/ticktok/get-more-review01")g=G.jsx(dU,{});else if(f)g=G.jsx(Kw,{});else if(u==="/portfolio-builder")g=G.jsx(Qw,{});else if(u==="/blog")g=G.jsx(Ww,{});else if(u.startsWith("/blog/")){const E=u.split("/")[2];g=G.jsx(Gw,{postId:E})}else u.startsWith("/edit/guest")?g=G.jsx(Bw,{resumeId:"guest"}):u==="/tech-preview"?g=G.jsx(xM,{}):u==="/partners"?g=G.jsx(GM,{}):u==="/partners/academic"?g=G.jsx(ZM,{}):u==="/partners/business"?g=G.jsx(eU,{}):u==="/partners/students"?g=G.jsx(tU,{}):u==="/partners/hiring"?g=G.jsx(rU,{}):u==="/partners/apply"?g=G.jsx(nU,{}):u==="/business-card"?g=G.jsx(Yw,{}):u==="/order-nfc-card"?g=G.jsx(Jw,{}):u==="/"||u===""?g=G.jsx(DM,{}):u.startsWith("/p/")?g=G.jsx(hU,{}):g=G.jsx(aU,{});return G.jsx(Zr,{children:G.jsx(vM,{children:G.jsxs("div",{className:"min-h-screen bg-gray-100 dark:bg-gray-950 text-gray-800 dark:text-gray-200 font-sans",children:[G.jsx(RM,{}),G.jsxs(Se.Suspense,{fallback:G.jsx(nr,{}),children:[g,w&&G.jsx(OM,{})]})]})})})};"serviceWorker"in navigator&&navigator.serviceWorker.getRegistrations().then(function(n){for(let e of n)console.log("Unregistering Service Worker:",e),e.unregister()}).catch(function(n){console.log("Service Worker unregistration failed: ",n)});const o0=document.getElementById("root");if(!o0)throw new Error("Could not find root element to mount to");const gU=TR.createRoot(o0);gU.render(G.jsx(ce.StrictMode,{children:G.jsx(dT,{children:G.jsx(_M,{children:G.jsx(mU,{})})})}));export{e1 as $,LF as A,dm as B,YD as C,JD as D,EF as E,Ta as F,vR as G,PF as H,bF as I,RF as J,kF as K,IM as L,SF as M,AF as N,$F as O,KV as P,vF as Q,ce as R,Hh as S,rt as T,KS as U,ro as V,Bk as W,KU as X,nF as Y,vU as Z,_e as _,_w as a,zU as a$,NF as a0,SM as a1,TF as a2,zF as a3,BF as a4,DF as a5,yu as a6,jF as a7,FF as a8,UF as a9,IU as aA,oF as aB,Kp as aC,SU as aD,vb as aE,Km as aF,Yi as aG,VU as aH,Zk as aI,sF as aJ,l1 as aK,yb as aL,uI as aM,Hk as aN,LU as aO,vk as aP,PU as aQ,$U as aR,QU as aS,kU as aT,qC as aU,rF as aV,yF as aW,Fv as aX,w1 as aY,yk as aZ,JU as a_,MF as aa,VF as ab,yU as ac,Im as ad,xF as ae,ei as af,Hl as ag,tM as ah,F2 as ai,_U as aj,Rb as ak,DU as al,RU as am,Tu as an,wu as ao,CU as ap,iu as aq,Ki as ar,TU as as,Qi as at,ci as au,fh as av,AU as aw,Hs as ax,ua as ay,_b as az,HU as b,LD as b$,zk as b0,lF as b1,fF as b2,gF as b3,iF as b4,Xk as b5,bU as b6,DC as b7,uF as b8,dF as b9,Oa as bA,Dr as bB,ae as bC,Or as bD,gi as bE,Ng as bF,Og as bG,wh as bH,Ad as bI,xg as bJ,Dg as bK,Ws as bL,$l as bM,sr as bN,KD as bO,Ym as bP,$t as bQ,uu as bR,Ie as bS,Ob as bT,Bt as bU,on as bV,fa as bW,zb as bX,xD as bY,bu as bZ,Du as b_,mF as ba,KC as bb,tF as bc,jU as bd,YU as be,OU as bf,Mm as bg,BU as bh,aF as bi,pF as bj,t1 as bk,NU as bl,eF as bm,GU as bn,cF as bo,WU as bp,ZU as bq,XU as br,qU as bs,MU as bt,$D as bu,$n as bv,rs as bw,pt as bx,qs as by,Id as bz,UU as c,_n as c0,QV as c1,CF as c2,Vg as d,ri as e,gn as f,ra as g,xU as h,hF as i,G as j,OF as k,QD as l,Bl as m,IF as n,kd as o,pm as p,qD as q,Se as r,FU as s,ZV as t,Qg as u,fm as v,wF as w,EU as x,TM as y,WD as z};
