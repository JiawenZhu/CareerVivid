import{r as s,j as r,C as E}from"./main-Bi0Ei0w3.js";import{r as M}from"./index-DcFGchuU.js";import{C as z}from"./chevron-left-BjtlRDE1.js";import{C as D}from"./check-B3yF-HgQ.js";import{C as L}from"./calendar-CutJ-oMs.js";const m=["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"],F=({label:w,value:d,onChange:y,id:k,disabled:p})=>{const[c,o]=s.useState(!1),l=s.useRef(null),f=s.useRef(null),[b,v]=s.useState({top:0,left:0,width:0}),h=e=>{if(!e||e.toLowerCase()==="present"){const i=new Date;return{month:i.getMonth(),year:i.getFullYear(),isPresent:e.toLowerCase()==="present"}}const t=e.split(" ");if(t.length===2){const i=m.indexOf(t[0]),u=parseInt(t[1]);if(i>=0&&!isNaN(u))return{month:i,year:u,isPresent:!1}}const a=new Date;return{month:a.getMonth(),year:a.getFullYear(),isPresent:!1}},[n,j]=s.useState(h(d)),[g,x]=s.useState(n.year);s.useEffect(()=>{j(h(d)),x(h(d).year)},[d]),s.useEffect(()=>{if(c&&l.current){const e=l.current.getBoundingClientRect();v({top:e.bottom+window.scrollY+5,left:e.left+window.scrollX,width:e.width})}},[c]),s.useEffect(()=>{const e=t=>{const a=t.target,i=l.current&&l.current.contains(a),u=f.current&&f.current.contains(a);!i&&!u&&o(!1)};return c&&(document.addEventListener("mousedown",e),window.addEventListener("resize",()=>o(!1))),()=>{document.removeEventListener("mousedown",e),window.removeEventListener("resize",()=>o(!1))}},[c]);const N=e=>{const t=`${m[e]} ${g}`;y(t),o(!1)},C=()=>{if(n.isPresent){const e=new Date;y(`${m[e.getMonth()]} ${e.getFullYear()}`)}else y("Present");o(!1)},P=r.jsxs("div",{ref:f,style:{top:b.top,left:b.left,minWidth:"280px",maxWidth:"90vw"},className:"absolute z-[9999] bg-white dark:bg-gray-800 rounded-lg shadow-xl border border-gray-200 dark:border-gray-700 p-4 animate-in fade-in zoom-in-95 duration-100",children:[r.jsxs("div",{className:"flex justify-between items-center mb-4",children:[r.jsx("button",{onClick:()=>x(g-1),className:"p-1.5 hover:bg-gray-100 dark:hover:bg-gray-700 rounded-full transition-colors",children:r.jsx(z,{size:20,className:"text-gray-600 dark:text-gray-300"})}),r.jsx("span",{className:"font-bold text-lg text-gray-800 dark:text-gray-100",children:g}),r.jsx("button",{onClick:()=>x(g+1),className:"p-1.5 hover:bg-gray-100 dark:hover:bg-gray-700 rounded-full transition-colors",children:r.jsx(E,{size:20,className:"text-gray-600 dark:text-gray-300"})})]}),r.jsx("div",{className:"grid grid-cols-3 gap-2 mb-4",children:m.map((e,t)=>{const a=!n.isPresent&&n.month===t&&n.year===g;return r.jsx("button",{onClick:()=>N(t),className:`py-2 text-sm rounded-md transition-colors ${a?"bg-primary-600 text-white font-semibold shadow-sm":"hover:bg-gray-100 dark:hover:bg-gray-700 text-gray-700 dark:text-gray-300"}`,children:e},e)})}),r.jsx("div",{className:"border-t border-gray-200 dark:border-gray-700 pt-3",children:r.jsxs("button",{onClick:C,className:`w-full py-2 text-sm font-medium rounded-md flex items-center justify-center gap-2 transition-colors ${n.isPresent?"bg-green-100 text-green-800 dark:bg-green-900/30 dark:text-green-400":"bg-gray-100 dark:bg-gray-700 text-gray-600 dark:text-gray-300 hover:bg-gray-200 dark:hover:bg-gray-600"}`,children:[n.isPresent&&r.jsx(D,{size:16}),"Currently Work Here"]})})]});return r.jsxs("div",{className:"mb-4",ref:l,children:[r.jsx("label",{className:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-1",children:w}),r.jsxs("div",{className:"relative group",children:[r.jsx("input",{id:k,type:"text",readOnly:!0,value:d,onClick:()=>!p&&o(!c),onFocus:()=>!p&&o(!0),className:`w-full pl-3 pr-10 py-2 border border-gray-300 dark:border-gray-600 rounded-md shadow-sm focus:ring-primary-500 focus:border-primary-500 bg-white dark:bg-gray-700 dark:text-white cursor-pointer truncate ${p?"opacity-50 cursor-not-allowed":"group-hover:border-gray-400 dark:group-hover:border-gray-500"}`,placeholder:"Select Date"}),r.jsx("div",{className:"absolute right-2 top-1/2 -translate-y-1/2 pointer-events-none p-1 bg-white dark:bg-gray-700 text-gray-400 group-hover:text-gray-600 dark:group-hover:text-gray-300 transition-colors",children:r.jsx(L,{size:16})})]}),c&&M.createPortal(P,document.body)]})};export{F as M};
