import{r as s,n as N,q as w,v as A,j as e,L as C,p as _,g as S}from"./main-D7bwdUQx.js";import{P}from"./PublicHeader-BiLchFHM.js";import{F as D}from"./Footer-CxHvxPO8.js";import{u as T}from"./useTranslation-DTfaX8qA.js";import{A as E}from"./alert-circle-BRom6qOH.js";import{C as L}from"./calendar-BnGCRrKy.js";import{C as B}from"./clock-CcciH6c9.js";import{A as q}from"./arrow-right-DsFsv36v.js";import"./Logo-DPBmgvCf.js";import"./LanguageSelect-Ja_59MY8.js";import"./globe-BpfpBcoq.js";import"./chevron-down-BPd_V80d.js";import"./check-CW4K69vK.js";import"./sun-1TmOzzZR.js";import"./x-DMbiC8dp.js";import"./menu-ehI2FCEu.js";import"./zap-DWwtH8Bb.js";import"./link-BoT9NfQv.js";const te=()=>{const{t:r}=T(),[i,u]=s.useState([]),[b,d]=s.useState(!0),[m,n]=s.useState(null),[c,f]=s.useState("All");s.useEffect(()=>{const t=N(S,"blog_posts"),y=w(t),j=A(y,l=>{const g=l.docs.map(o=>({id:o.id,...o.data()}));g.sort((o,v)=>{const p=a=>a?typeof a.toMillis=="function"?a.toMillis():a instanceof Date?a.getTime():new Date(a).getTime()||0:0,k=p(o.publishedAt);return p(v.publishedAt)-k}),u(g),d(!1),n(null)},l=>{console.error("Error fetching posts:",l),l.code==="permission-denied"?n("Access denied. Please check Firestore Security Rules to allow public reads on 'blog_posts'."):n("Unable to load blog posts. Please check your connection."),d(!1)});return()=>j()},[]);const h=["All",...Array.from(new Set(i.map(t=>t.category||"General")))],x=c==="All"?i:i.filter(t=>(t.category||"General")===c);return e.jsxs("div",{className:"bg-white dark:bg-gray-950 min-h-screen flex flex-col font-sans",children:[e.jsx(P,{}),e.jsx("main",{className:"flex-grow pt-24 pb-16",children:e.jsxs("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8",children:[e.jsxs("div",{className:"text-center max-w-3xl mx-auto mb-16",children:[e.jsx("h1",{className:"text-4xl md:text-5xl font-extrabold tracking-tight mb-6",children:r("blog.title")}),e.jsx("p",{className:"text-xl text-gray-600 dark:text-gray-400",children:r("blog.subtitle")})]}),e.jsx("div",{className:"flex flex-wrap justify-center gap-2 mb-12",children:h.map(t=>e.jsx("button",{onClick:()=>f(t),className:`px-4 py-2 rounded-full text-sm font-medium transition-all ${c===t?"bg-gray-900 dark:bg-white text-white dark:text-gray-900":"bg-gray-100 dark:bg-gray-800 text-gray-600 dark:text-gray-300 hover:bg-gray-200 dark:hover:bg-gray-700"}`,children:t},t))}),b?e.jsx("div",{className:"flex justify-center py-20",children:e.jsx(C,{className:"w-10 h-10 animate-spin text-primary-600"})}):m?e.jsxs("div",{className:"text-center py-20 flex flex-col items-center justify-center text-gray-500 dark:text-gray-400",children:[e.jsx(E,{className:"w-12 h-12 text-red-500 mb-4"}),e.jsx("p",{className:"text-lg font-semibold text-gray-800 dark:text-gray-200",children:"Content Unavailable"}),e.jsx("p",{className:"text-sm mt-2 max-w-md text-red-500",children:m})]}):x.length===0?e.jsx("div",{className:"text-center py-20 text-gray-500 dark:text-gray-400",children:r("blog.no_posts_found")}):e.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-8",children:x.map(t=>e.jsxs("article",{onClick:()=>_(`/blog/${t.id}`),className:"group bg-white dark:bg-gray-900 rounded-2xl overflow-hidden border border-gray-200 dark:border-gray-800 shadow-sm hover:shadow-xl transition-all duration-300 flex flex-col cursor-pointer hover:-translate-y-1",children:[e.jsxs("div",{className:"relative aspect-video overflow-hidden bg-gray-200 dark:bg-gray-800",children:[t.coverImage?e.jsx("img",{src:t.coverImage,alt:t.title,className:"w-full h-full object-cover transition-transform duration-500 group-hover:scale-105"}):e.jsx("div",{className:"w-full h-full flex items-center justify-center text-gray-400",children:r("blog.no_image")}),e.jsx("div",{className:"absolute top-4 left-4 bg-white/90 dark:bg-black/80 backdrop-blur-sm px-3 py-1 rounded-full text-xs font-bold text-gray-900 dark:text-white",children:t.category||"General"})]}),e.jsxs("div",{className:"p-6 flex flex-col flex-grow",children:[e.jsxs("div",{className:"flex items-center gap-4 text-sm text-gray-500 dark:text-gray-400 mb-4",children:[e.jsxs("span",{className:"flex items-center gap-1",children:[e.jsx(L,{size:14}),r("blog.published"),": ",t.publishedAt?.toDate?t.publishedAt.toDate().toLocaleDateString(void 0,{year:"numeric",month:"long",day:"numeric"}):r("blog.recently")]}),t.readTime&&e.jsxs("span",{className:"flex items-center gap-1",children:[e.jsx(B,{size:14}),t.readTime," ",r("blog.min_read")]})]}),e.jsx("h2",{className:"text-xl font-bold mb-3 text-gray-900 dark:text-white group-hover:text-primary-600 dark:group-hover:text-primary-400 transition-colors line-clamp-2",children:t.title||r("blog.untitled_post")}),e.jsx("p",{className:"text-gray-600 dark:text-gray-300 mb-4 line-clamp-3 flex-grow",children:t.excerpt||t.summary||r("blog.no_summary_available")}),e.jsxs("div",{className:"flex items-center justify-between mt-auto pt-4 border-t border-gray-100 dark:border-gray-800",children:[e.jsxs("div",{className:"text-xs font-medium text-gray-900 dark:text-white",children:["By ",t.author||r("blog.team")]}),e.jsxs("div",{className:"text-primary-600 dark:text-primary-400 text-sm font-semibold flex items-center gap-1",children:[r("blog.read_more")," ",e.jsx(q,{size:16})]})]})]})]},t.id))})]})}),e.jsx(D,{})]})};export{te as default};
